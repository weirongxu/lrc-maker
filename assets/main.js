!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="./assets/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(3),s=r(a);n(103);var u=new o.default({el:"#app",render:function(t){return t(s.default,{ref:"app"})}});o.default.prototype.$App=u.$refs.app},function(t,e,n){(function(e,n){/*!
	 * Vue.js v2.1.3
	 * (c) 2014-2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function r(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function i(t){var e=parseFloat(t,10);return e||0===e?e:t}function o(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function a(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function s(t,e){return pn.call(t,e)}function u(t){return"string"==typeof t||"number"==typeof t}function l(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}function c(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function f(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t){return null!==t&&"object"==typeof t}function h(t){return _n.call(t)===bn}function v(t){for(var e={},n=0;n<t.length;n++)t[n]&&d(e,t[n]);return e}function m(){}function y(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function g(t,e){return t==e||!(!p(t)||!p(e))&&JSON.stringify(t)===JSON.stringify(e)}function _(t,e){for(var n=0;n<t.length;n++)if(g(t[n],e))return n;return-1}function b(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function w(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function x(t){if(!xn.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function E(t){return/native code/.test(t.toString())}function k(t){Un.target&&Bn.push(Un.target),Un.target=t}function A(){Un.target=Bn.pop()}function O(t,e){t.__proto__=e}function C(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];w(t,o,e[o])}}function D(t){if(p(t)){var e;return s(t,"__ob__")&&t.__ob__ instanceof Zn?e=t.__ob__:Hn.shouldConvert&&!Fn()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(e=new Zn(t)),e}}function T(t,e,r,i){var o=new Un,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,u=a&&a.set,l=D(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return Un.target&&(o.depend(),l&&l.dep.depend(),Array.isArray(e)&&P(e)),e},set:function(e){var a=s?s.call(t):r;e===a||e!==e&&a!==a||("production"!==n.env.NODE_ENV&&i&&i(),u?u.call(t,e):r=e,l=D(e),o.notify())}})}}function $(t,e,r){if(Array.isArray(t))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(s(t,e))return void(t[e]=r);var i=t.__ob__;return t._isVue||i&&i.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option.")):i?(T(i.value,e,r),i.dep.notify(),r):void(t[e]=r)}function F(t,e){var r=t.__ob__;return t._isVue||r&&r.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid deleting properties on a Vue instance or its root $data - just set it to null.")):void(s(t,e)&&(delete t[e],r&&r.dep.notify()))}function P(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&P(e)}function S(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)n=o[a],r=t[n],i=e[n],s(t,n)?h(r)&&h(i)&&S(r,i):$(t,n,i);return t}function N(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function j(t,e){var n=Object.create(t||null);return e?d(n,e):n}function R(t){for(var e in t.components){var n=e.toLowerCase();(dn(n)||jn.isReservedTag(n))&&Rn("Do not use built-in or reserved HTML elements as component id: "+e)}}function L(t){var e=t.props;if(e){var r,i,o,a={};if(Array.isArray(e))for(r=e.length;r--;)i=e[r],"string"==typeof i?(o=vn(i),a[o]={type:null}):"production"!==n.env.NODE_ENV&&Rn("props must be strings when using array syntax.");else if(h(e))for(var s in e)i=e[s],o=vn(s),a[o]=h(i)?i:{type:i};t.props=a}}function I(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function M(t,e,r){function i(n){var i=qn[n]||Gn;f[n]=i(t[n],e[n],r,n)}"production"!==n.env.NODE_ENV&&R(e),L(e),I(e);var o=e.extends;if(o&&(t="function"==typeof o?M(t,o.options,r):M(t,o,r)),e.mixins)for(var a=0,u=e.mixins.length;a<u;a++){var l=e.mixins[a];l.prototype instanceof zt&&(l=l.options),t=M(t,l,r)}var c,f={};for(c in t)i(c);for(c in e)s(t,c)||i(c);return f}function U(t,e,r,i){if("string"==typeof r){var o=t[e],a=o[r]||o[vn(r)]||o[mn(vn(r))];return"production"!==n.env.NODE_ENV&&i&&!a&&Rn("Failed to resolve "+e.slice(0,-1)+": "+r,t),a}}function B(t,e,r,i){var o=e[t],a=!s(r,t),u=r[t];if(Z(o.type)&&(a&&!s(o,"default")?u=!1:""!==u&&u!==gn(t)||(u=!0)),void 0===u){u=V(i,o,t);var l=Hn.shouldConvert;Hn.shouldConvert=!0,D(u),Hn.shouldConvert=l}return"production"!==n.env.NODE_ENV&&z(o,t,u,i,a),u}function V(t,e,r){if(s(e,"default")){var i=e.default;return p(i)&&"production"!==n.env.NODE_ENV&&Rn('Invalid default value for prop "'+r+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t[r]?t[r]:"function"==typeof i&&e.type!==Function?i.call(t):i}}function z(t,e,n,r,i){if(t.required&&i)return void Rn('Missing required prop: "'+e+'"',r);if(null!=n||t.required){var o=t.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length&&!a;u++){var l=Y(n,o[u]);s.push(l.expectedType),a=l.valid}}if(!a)return void Rn('Invalid prop: type check failed for prop "'+e+'". Expected '+s.map(mn).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",r);var c=t.validator;c&&(c(n)||Rn('Invalid prop: custom validator check failed for prop "'+e+'".',r))}}function Y(t,e){var n,r=H(e);return n="String"===r?typeof t==(r="string"):"Number"===r?typeof t==(r="number"):"Boolean"===r?typeof t==(r="boolean"):"Function"===r?typeof t==(r="function"):"Object"===r?h(t):"Array"===r?Array.isArray(t):t instanceof e,{valid:n,expectedType:r}}function H(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e&&e[1]}function Z(t){if(!Array.isArray(t))return"Boolean"===H(t);for(var e=0,n=t.length;e<n;e++)if("Boolean"===H(t[e]))return!0;return!1}function q(){nr.length=0,rr={},"production"!==n.env.NODE_ENV&&(ir={}),or=ar=!1}function W(){for(ar=!0,nr.sort(function(t,e){return t.id-e.id}),sr=0;sr<nr.length;sr++){var t=nr[sr],e=t.id;if(rr[e]=null,t.run(),"production"!==n.env.NODE_ENV&&null!=rr[e]&&(ir[e]=(ir[e]||0)+1,ir[e]>jn._maxUpdateCount)){Rn("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}}Pn&&jn.devtools&&Pn.emit("flush"),q()}function G(t){var e=t.id;if(null==rr[e]){if(rr[e]=!0,ar){for(var n=nr.length-1;n>=0&&nr[n].id>t.id;)n--;nr.splice(Math.max(n,sr)+1,0,t)}else nr.push(t);or||(or=!0,Sn(W))}}function X(t){cr.clear(),K(t,cr)}function K(t,e){var n,r,i=Array.isArray(t);if((i||p(t))&&Object.isExtensible(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)K(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)K(t[r[n]],e)}}function J(t){t._watchers=[],Q(t),tt(t),et(t),rt(t),it(t)}function Q(t){var e=t.$options.props;if(e){var r=t.$options.propsData||{},i=t.$options._propKeys=Object.keys(e),o=!t.$parent;Hn.shouldConvert=o;for(var a=function(o){var a=i[o];"production"!==n.env.NODE_ENV?(fr(a)&&Rn('"'+a+'" is a reserved attribute and cannot be used as component prop.',t),T(t,a,B(a,e,r,t),function(){t.$parent&&!Hn.isSettingProps&&Rn("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',t)})):T(t,a,B(a,e,r,t))},s=0;s<i.length;s++)a(s);Hn.shouldConvert=!0}}function tt(t){var e=t.$options.data;e=t._data="function"==typeof e?e.call(t):e||{},h(e)||(e={},"production"!==n.env.NODE_ENV&&Rn("data functions should return an object.",t));for(var r=Object.keys(e),i=t.$options.props,o=r.length;o--;)i&&s(i,r[o])?"production"!==n.env.NODE_ENV&&Rn('The data property "'+r[o]+'" is already declared as a prop. Use prop default value instead.',t):st(t,r[o]);D(e),e.__ob__&&e.__ob__.vmCount++}function et(t){var e=t.$options.computed;if(e)for(var n in e){var r=e[n];"function"==typeof r?(dr.get=nt(r,t),dr.set=m):(dr.get=r.get?r.cache!==!1?nt(r.get,t):c(r.get,t):m,dr.set=r.set?c(r.set,t):m),Object.defineProperty(t,n,dr)}}function nt(t,e){var n=new lr(e,t,m,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Un.target&&n.depend(),n.value}}function rt(t){var e=t.$options.methods;if(e)for(var r in e)t[r]=null==e[r]?m:c(e[r],t),"production"!==n.env.NODE_ENV&&null==e[r]&&Rn('method "'+r+'" has an undefined value in the component definition. Did you reference the function correctly?',t)}function it(t){var e=t.$options.watch;if(e)for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)ot(t,n,r[i]);else ot(t,n,r)}}function ot(t,e,n){var r;h(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function at(t){var e={};e.get=function(){return this._data},"production"!==n.env.NODE_ENV&&(e.set=function(t){Rn("Avoid replacing instance root $data. Use nested data properties instead.",this)}),Object.defineProperty(t.prototype,"$data",e),t.prototype.$set=$,t.prototype.$delete=F,t.prototype.$watch=function(t,e,n){var r=this;n=n||{},n.user=!0;var i=new lr(r,t,e,n);return n.immediate&&e.call(r,i.value),function(){i.teardown()}}}function st(t,e){b(e)||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}function ut(t){var e=new pr(t.tag,t.data,t.children,t.text,t.elm,t.ns,t.context,t.componentOptions);return e.isStatic=t.isStatic,e.key=t.key,e.isCloned=!0,e}function lt(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=ut(t[n]);return e}function ct(t,e,n,r){r+=e;var i=t.__injected||(t.__injected={});if(!i[r]){i[r]=!0;var o=t[e];o?t[e]=function(){o.apply(this,arguments),n.apply(this,arguments)}:t[e]=n}}function ft(t,e,r,i,o){var a,s,u,l,c,f;for(a in t)if(s=t[a],u=e[a],s)if(u){if(s!==u)if(Array.isArray(u)){u.length=s.length;for(var d=0;d<u.length;d++)u[d]=s[d];t[a]=u}else u.fn=s,t[a]=u}else f="!"===a.charAt(0),c=f?a.slice(1):a,Array.isArray(s)?r(c,s.invoker=dt(s),f):(s.invoker||(l=s,s=t[a]={},s.fn=l,s.invoker=pt(s)),r(c,s.invoker,f));else"production"!==n.env.NODE_ENV&&Rn('Invalid handler for event "'+a+'": got '+String(s),o);for(a in e)t[a]||(c="!"===a.charAt(0)?a.slice(1):a,i(c,e[a].invoker))}function dt(t){return function(e){for(var n=arguments,r=1===arguments.length,i=0;i<t.length;i++)r?t[i](e):t[i].apply(null,n)}}function pt(t){return function(e){var n=1===arguments.length;n?t.fn(e):t.fn.apply(null,arguments)}}function ht(t,e,n){if(u(t))return[vt(t)];if(Array.isArray(t)){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i],s=r[r.length-1];Array.isArray(a)?r.push.apply(r,ht(a,e,(n||"")+"_"+i)):u(a)?s&&s.text?s.text+=String(a):""!==a&&r.push(vt(a)):a instanceof pr&&(a.text&&s&&s.text?s.isCloned||(s.text+=a.text):(e&&mt(a,e),a.tag&&null==a.key&&null!=n&&(a.key="__vlist"+n+"_"+i+"__"),r.push(a)))}return r}}function vt(t){return new pr(void 0,void 0,void 0,String(t))}function mt(t,e){if(t.tag&&!t.ns&&(t.ns=e,t.children))for(var n=0,r=t.children.length;n<r;n++)mt(t.children[n],e)}function yt(t){return t&&t.filter(function(t){return t&&t.componentOptions})[0]}function gt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function _t(t){t.prototype._mount=function(t,e){var r=this;return r.$el=t,r.$options.render||(r.$options.render=hr,"production"!==n.env.NODE_ENV&&(r.$options.template&&"#"!==r.$options.template.charAt(0)?Rn("You are using the runtime-only build of Vue where the template option is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",r):Rn("Failed to mount component: template or render function not defined.",r))),bt(r,"beforeMount"),r._watcher=new lr(r,function(){r._update(r._render(),e)},m),e=!1,null==r.$vnode&&(r._isMounted=!0,bt(r,"mounted")),r},t.prototype._update=function(t,e){var n=this;n._isMounted&&bt(n,"beforeUpdate");var r=n.$el,i=vr;vr=n;var o=n._vnode;n._vnode=t,o?n.$el=n.__patch__(o,t):n.$el=n.__patch__(n.$el,t,e),vr=i,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el),n._isMounted&&bt(n,"updated")},t.prototype._updateFromParent=function(t,e,r,i){var o=this,a=!(!o.$options._renderChildren&&!i);if(o.$options._parentVnode=r,o.$vnode=r,o._vnode&&(o._vnode.parent=r),o.$options._renderChildren=i,t&&o.$options.props){Hn.shouldConvert=!1,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!0);for(var s=o.$options._propKeys||[],u=0;u<s.length;u++){var l=s[u];o[l]=B(l,o.$options.props,t,o)}Hn.shouldConvert=!0,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!1),o.$options.propsData=t}if(e){var c=o.$options._parentListeners;o.$options._parentListeners=e,o._updateListeners(e,c)}a&&(o.$slots=Lt(i,o._renderContext),o.$forceUpdate())},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){bt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||a(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,bt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.__patch__(t._vnode,null)}}}function bt(t,e){var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)n[r].call(t);t.$emit("hook:"+e)}function wt(t,e,r,i,o){if(t){var a=r.$options._base;if(p(t)&&(t=a.extend(t)),"function"!=typeof t)return void("production"!==n.env.NODE_ENV&&Rn("Invalid Component definition: "+String(t),r));if(!t.cid)if(t.resolved)t=t.resolved;else if(t=Dt(t,a,function(){r.$forceUpdate()}),!t)return;Vt(t),e=e||{};var s=Tt(e,t);if(t.options.functional)return xt(t,s,e,r,i);var u=e.on;e.on=e.nativeOn,t.options.abstract&&(e={}),Ft(e);var l=t.options.name||o,c=new pr("vue-component-"+t.cid+(l?"-"+l:""),e,void 0,void 0,void 0,void 0,r,{Ctor:t,propsData:s,listeners:u,tag:o,children:i});return c}}function xt(t,e,n,r,i){var o={},a=t.options.props;if(a)for(var s in a)o[s]=B(s,a,e);var u=t.options.render.call(null,c(St,{_self:Object.create(r)}),{props:o,data:n,parent:r,children:ht(i),slots:function(){return Lt(i,r)}});return u instanceof pr&&(u.functionalContext=r,n.slot&&((u.data||(u.data={})).slot=n.slot)),u}function Et(t,e){var n=t.componentOptions,r={_isComponent:!0,parent:e,propsData:n.propsData,_componentTag:n.tag,_parentVnode:t,_parentListeners:n.listeners,_renderChildren:n.children},i=t.data.inlineTemplate;return i&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new n.Ctor(r)}function kt(t,e){if(!t.child||t.child._isDestroyed){var n=t.child=Et(t,vr);n.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;At(r,r)}}function At(t,e){var n=e.componentOptions,r=e.child=t.child;r._updateFromParent(n.propsData,n.listeners,e,n.children)}function Ot(t){t.child._isMounted||(t.child._isMounted=!0,bt(t.child,"mounted")),t.data.keepAlive&&(t.child._inactive=!1,bt(t.child,"activated"))}function Ct(t){t.child._isDestroyed||(t.data.keepAlive?(t.child._inactive=!0,bt(t.child,"deactivated")):t.child.$destroy())}function Dt(t,e,r){if(!t.requested){t.requested=!0;var i=t.pendingCallbacks=[r],o=!0,a=function(n){if(p(n)&&(n=e.extend(n)),t.resolved=n,!o)for(var r=0,a=i.length;r<a;r++)i[r](n)},s=function(e){"production"!==n.env.NODE_ENV&&Rn("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""))},u=t(a,s);return u&&"function"==typeof u.then&&!t.resolved&&u.then(a,s),o=!1,t.resolved}t.pendingCallbacks.push(r)}function Tt(t,e){var n=e.options.props;if(n){var r={},i=t.attrs,o=t.props,a=t.domProps;if(i||o||a)for(var s in n){var u=gn(s);$t(r,o,s,u,!0)||$t(r,i,s,u)||$t(r,a,s,u)}return r}}function $t(t,e,n,r,i){if(e){if(s(e,n))return t[n]=e[n],i||delete e[n],!0;if(s(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ft(t){t.hook||(t.hook={});for(var e=0;e<yr.length;e++){var n=yr[e],r=t.hook[n],i=mr[n];t.hook[n]=r?Pt(i,r):i}}function Pt(t,e){return function(n,r){t(n,r),e(n,r)}}function St(t,e,n){return e&&(Array.isArray(e)||"object"!=typeof e)&&(n=e,e=void 0),Nt(this._self,t,e,n)}function Nt(t,e,r,i){if(r&&r.__ob__)return void("production"!==n.env.NODE_ENV&&Rn("Avoid using observed data object as vnode data: "+JSON.stringify(r)+"\nAlways create fresh vnode data objects in each render!",t));if(!e)return hr();if(Array.isArray(i)&&"function"==typeof i[0]&&(r=r||{},r.scopedSlots={default:i[0]},i.length=0),"string"==typeof e){var o,a=jn.getTagNamespace(e);if(jn.isReservedTag(e))return new pr(e,r,ht(i,a),void 0,void 0,a,t);if(o=U(t.$options,"components",e))return wt(o,r,t,i,e);var s="foreignObject"===e?"xhtml":a;return new pr(e,r,ht(i,s),void 0,void 0,a,t)}return wt(e,r,t,i)}function jt(t){t.$vnode=null,t._vnode=null,t._staticTrees=null,t._renderContext=t.$options._parentVnode&&t.$options._parentVnode.context,t.$slots=Lt(t.$options._renderChildren,t._renderContext),t.$scopedSlots={},t.$createElement=c(St,t),t.$options.el&&t.$mount(t.$options.el)}function Rt(t){function e(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&o(t[r],e+"_"+r,n);else o(t,e,n)}function o(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}t.prototype.$nextTick=function(t){return Sn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,r=e.render,i=e.staticRenderFns,o=e._parentVnode;if(t._isMounted)for(var a in t.$slots)t.$slots[a]=lt(t.$slots[a]);o&&o.data.scopedSlots&&(t.$scopedSlots=o.data.scopedSlots),i&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=o;var s;try{s=r.call(t._renderProxy,t.$createElement)}catch(e){if("production"!==n.env.NODE_ENV&&Rn("Error when rendering "+Nn(t)+":"),jn.errorHandler)jn.errorHandler.call(null,e,t);else{if(Fn())throw e;console.error(e)}s=t._vnode}return s instanceof pr||("production"!==n.env.NODE_ENV&&Array.isArray(s)&&Rn("Multiple root nodes returned from render function. Render function should return a single root node.",t),s=hr()),s.parent=o,s},t.prototype._h=St,t.prototype._s=r,t.prototype._n=i,t.prototype._e=hr,t.prototype._q=g,t.prototype._i=_,t.prototype._m=function(t,n){var r=this._staticTrees[t];return r&&!n?Array.isArray(r)?lt(r):ut(r):(r=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),e(r,"__static__"+t,!1),r)},t.prototype._o=function(t,n,r){return e(t,"__once__"+n+(r?"_"+r:""),!0),t};var a=function(t){return t};t.prototype._f=function(t){return U(this.$options,"filters",t,!0)||a},t.prototype._l=function(t,e){var n,r,i,o,a;if(Array.isArray(t))for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(p(t))for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return n},t.prototype._t=function(t,e,r){var i=this.$scopedSlots[t];if(i)return i(r||{})||e;var o=this.$slots[t];return o&&"production"!==n.env.NODE_ENV&&(o._rendered&&Rn('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||e},t.prototype._b=function(t,e,r,i){if(r)if(p(r)){Array.isArray(r)&&(r=v(r));for(var o in r)if("class"===o||"style"===o)t[o]=r[o];else{var a=i||jn.mustUseProp(e,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={});a[o]=r[o]}}else"production"!==n.env.NODE_ENV&&Rn("v-bind without argument expects an Object or Array value",this);return t},t.prototype._k=function(t){return jn.keyCodes[t]}}function Lt(t,e){var n={};if(!t)return n;for(var r,i,o=ht(t)||[],a=[],s=0,u=o.length;s<u;s++)if(i=o[s],(i.context===e||i.functionalContext===e)&&i.data&&(r=i.data.slot)){var l=n[r]||(n[r]=[]);"template"===i.tag?l.push.apply(l,i.children):l.push(i)}else a.push(i);return a.length&&(1!==a.length||" "!==a[0].text&&!a[0].isComment)&&(n.default=a),n}function It(t){t._events=Object.create(null);var e=t.$options._parentListeners,n=c(t.$on,t),r=c(t.$off,t);t._updateListeners=function(e,i){ft(e,i||{},n,r,t)},e&&t._updateListeners(e)}function Mt(t){t.prototype.$on=function(t,e){var n=this;return(n._events[t]||(n._events[t]=[])).push(e),n},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var r=n._events[t];if(!r)return n;if(1===arguments.length)return n._events[t]=null,n;for(var i,o=r.length;o--;)if(i=r[o],i===e||i.fn===e){r.splice(o,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?f(n):n;for(var r=f(arguments,1),i=0,o=n.length;i<o;i++)n[i].apply(e,r)}return e}}function Ut(t){t.prototype._init=function(t){var e=this;e._uid=gr++,e._isVue=!0,t&&t._isComponent?Bt(e,t):e.$options=M(Vt(e.constructor),t||{},e),"production"!==n.env.NODE_ENV?Wn(e):e._renderProxy=e,e._self=e,gt(e),It(e),bt(e,"beforeCreate"),J(e),bt(e,"created"),jt(e)}}function Bt(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Vt(t){var e=t.options;if(t.super){var n=t.super.options,r=t.superOptions,i=t.extendOptions;n!==r&&(t.superOptions=n,i.render=e.render,i.staticRenderFns=e.staticRenderFns,i._scopeId=e._scopeId,e=t.options=M(n,i),e.name&&(e.components[e.name]=t))}return e}function zt(t){"production"===n.env.NODE_ENV||this instanceof zt||Rn("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function Yt(t){t.use=function(t){if(!t.installed){var e=f(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}}}function Ht(t){t.mixin=function(t){this.options=M(this.options,t)}}function Zt(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,o=t._Ctor||(t._Ctor={});if(o[i])return o[i];var a=t.name||r.options.name;"production"!==n.env.NODE_ENV&&(/^[a-zA-Z][\w-]*$/.test(a)||Rn('Invalid component name: "'+a+'". Component names can only contain alphanumeric characaters and the hyphen.'));var s=function(t){this._init(t)};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.cid=e++,s.options=M(r.options,t),s.super=r,s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,jn._assetTypes.forEach(function(t){s[t]=r[t]}),a&&(s.options.components[a]=s),s.superOptions=r.options,s.extendOptions=t,o[i]=s,s}}function qt(t){jn._assetTypes.forEach(function(e){t[e]=function(t,r){return r?("production"!==n.env.NODE_ENV&&"component"===e&&jn.isReservedTag(t)&&Rn("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&h(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function Wt(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:t.test(e)}function Gt(t){var e={};e.get=function(){return jn},"production"!==n.env.NODE_ENV&&(e.set=function(){Rn("Do not replace the Vue.config object, set individual fields instead.")}),Object.defineProperty(t,"config",e),t.util=Xn,t.set=$,t.delete=F,t.nextTick=Sn,t.options=Object.create(null),jn._assetTypes.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,d(t.options.components,wr),Yt(t),Ht(t),Zt(t),qt(t)}function Xt(t){for(var e=t.data,n=t,r=t;r.child;)r=r.child._vnode,r.data&&(e=Kt(r.data,e));for(;n=n.parent;)n.data&&(e=Kt(e,n.data));return Jt(e)}function Kt(t,e){return{staticClass:Qt(t.staticClass,e.staticClass),class:t.class?[t.class,e.class]:e.class}}function Jt(t){var e=t.class,n=t.staticClass;return n||e?Qt(n,te(e)):""}function Qt(t,e){return t?e?t+" "+e:t:e||""}function te(t){var e="";if(!t)return e;if("string"==typeof t)return t;if(Array.isArray(t)){for(var n,r=0,i=t.length;r<i;r++)t[r]&&(n=te(t[r]))&&(e+=n+" ");return e.slice(0,-1)}if(p(t)){for(var o in t)t[o]&&(e+=o+" ");return e.slice(0,-1)}return e}function ee(t){return Pr(t)?"svg":"math"===t?"math":void 0}function ne(t){if(!kn)return!0;if(Sr(t))return!1;if(t=t.toLowerCase(),null!=Nr[t])return Nr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Nr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Nr[t]=/HTMLUnknownElement/.test(e.toString())}function re(t){if("string"==typeof t){var e=t;if(t=document.querySelector(t),!t)return"production"!==n.env.NODE_ENV&&Rn("Cannot find element: "+e),document.createElement("div")}return t}function ie(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&"multiple"in e.data.attrs&&n.setAttribute("multiple","multiple"),n)}function oe(t,e){return document.createElementNS($r[t],e)}function ae(t){return document.createTextNode(t)}function se(t){return document.createComment(t)}function ue(t,e,n){t.insertBefore(e,n)}function le(t,e){t.removeChild(e)}function ce(t,e){t.appendChild(e)}function fe(t){return t.parentNode}function de(t){return t.nextSibling}function pe(t){return t.tagName}function he(t,e){t.textContent=e}function ve(t){return t.childNodes}function me(t,e,n){t.setAttribute(e,n)}function ye(t,e){var n=t.data.ref;if(n){var r=t.context,i=t.child||t.elm,o=r.$refs;e?Array.isArray(o[n])?a(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])&&o[n].indexOf(i)<0?o[n].push(i):o[n]=[i]:o[n]=i}}function ge(t){return null==t}function _e(t){return null!=t}function be(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&!t.data==!e.data}function we(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,_e(i)&&(o[i]=r);return o}function xe(t){function e(t){return new pr(O.tagName(t).toLowerCase(),{},[],void 0,t)}function i(t,e){function n(){0===--n.listeners&&o(t)}return n.listeners=e,n}function o(t){var e=O.parentNode(t);e&&O.removeChild(e,t)}function a(t,e,r){var i,o=t.data;if(t.isRootInsert=!r,_e(o)&&(_e(i=o.hook)&&_e(i=i.init)&&i(t),_e(i=t.child)))return f(t,e),t.elm;var a=t.children,u=t.tag;return _e(u)?("production"!==n.env.NODE_ENV&&(t.ns||jn.ignoredElements&&jn.ignoredElements.indexOf(u)>-1||!jn.isUnknownElement(u)||Rn("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context)),t.elm=t.ns?O.createElementNS(t.ns,u):O.createElement(u,t),d(t),s(t,a,e),_e(o)&&c(t,e)):t.isComment?t.elm=O.createComment(t.text):t.elm=O.createTextNode(t.text),t.elm}function s(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)O.appendChild(t.elm,a(e[r],n,!0));else u(t.text)&&O.appendChild(t.elm,O.createTextNode(t.text))}function l(t){for(;t.child;)t=t.child._vnode;return _e(t.tag)}function c(t,e){for(var n=0;n<k.create.length;++n)k.create[n](Lr,t);x=t.data.hook,_e(x)&&(x.create&&x.create(Lr,t),x.insert&&e.push(t))}function f(t,e){t.data.pendingInsert&&e.push.apply(e,t.data.pendingInsert),t.elm=t.child.$el,l(t)?(c(t,e),d(t)):(ye(t),e.push(t))}function d(t){var e;_e(e=t.context)&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,""),_e(e=vr)&&e!==t.context&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,"")}function p(t,e,n,r,i,o){for(;r<=i;++r)O.insertBefore(t,a(n[r],o),e)}function h(t){var e,n,r=t.data;if(_e(r))for(_e(e=r.hook)&&_e(e=e.destroy)&&e(t),e=0;e<k.destroy.length;++e)k.destroy[e](t);if(_e(e=t.children))for(n=0;n<t.children.length;++n)h(t.children[n])}function v(t,e,n,r){for(;n<=r;++n){var i=e[n];_e(i)&&(_e(i.tag)?(m(i),h(i)):O.removeChild(t,i.elm))}}function m(t,e){if(e||_e(t.data)){var n=k.remove.length+1;for(e?e.listeners+=n:e=i(t.elm,n),_e(x=t.child)&&_e(x=x._vnode)&&_e(x.data)&&m(x,e),x=0;x<k.remove.length;++x)k.remove[x](t,e);_e(x=t.data.hook)&&_e(x=x.remove)?x(t,e):e()}else o(t.elm)}function y(t,e,r,i,o){for(var s,u,l,c,f=0,d=0,h=e.length-1,m=e[0],y=e[h],_=r.length-1,b=r[0],w=r[_],x=!o;f<=h&&d<=_;)ge(m)?m=e[++f]:ge(y)?y=e[--h]:be(m,b)?(g(m,b,i),m=e[++f],b=r[++d]):be(y,w)?(g(y,w,i),y=e[--h],w=r[--_]):be(m,w)?(g(m,w,i),x&&O.insertBefore(t,m.elm,O.nextSibling(y.elm)),m=e[++f],w=r[--_]):be(y,b)?(g(y,b,i),x&&O.insertBefore(t,y.elm,m.elm),y=e[--h],b=r[++d]):(ge(s)&&(s=we(e,f,h)),u=_e(b.key)?s[b.key]:null,ge(u)?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(l=e[u],"production"===n.env.NODE_ENV||l||Rn("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),l.tag!==b.tag?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(g(l,b,i),e[u]=void 0,x&&O.insertBefore(t,b.elm,m.elm),b=r[++d])));f>h?(c=ge(r[_+1])?null:r[_+1].elm,p(t,c,r,d,_,i)):d>_&&v(t,e,f,h)}function g(t,e,n,r){if(t!==e){if(e.isStatic&&t.isStatic&&e.key===t.key&&(e.isCloned||e.isOnce))return e.elm=t.elm,void(e.child=t.child);var i,o=e.data,a=_e(o);a&&_e(i=o.hook)&&_e(i=i.prepatch)&&i(t,e);var s=e.elm=t.elm,u=t.children,c=e.children;if(a&&l(e)){for(i=0;i<k.update.length;++i)k.update[i](t,e);_e(i=o.hook)&&_e(i=i.update)&&i(t,e)}ge(e.text)?_e(u)&&_e(c)?u!==c&&y(s,u,c,n,r):_e(c)?(_e(t.text)&&O.setTextContent(s,""),p(s,null,c,0,c.length-1,n)):_e(u)?v(s,u,0,u.length-1):_e(t.text)&&O.setTextContent(s,""):t.text!==e.text&&O.setTextContent(s,e.text),a&&_e(i=o.hook)&&_e(i=i.postpatch)&&i(t,e)}}function _(t,e,n){if(n&&t.parent)t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function b(t,e,r){if("production"!==n.env.NODE_ENV&&!w(t,e))return!1;e.elm=t;var i=e.tag,o=e.data,a=e.children;if(_e(o)&&(_e(x=o.hook)&&_e(x=x.init)&&x(e,!0),_e(x=e.child)))return f(e,r),!0;if(_e(i)){if(_e(a)){var u=O.childNodes(t);if(u.length){var l=!0;if(u.length!==a.length)l=!1;else for(var d=0;d<a.length;d++)if(!b(u[d],a[d],r)){l=!1;break}if(!l)return"production"===n.env.NODE_ENV||"undefined"==typeof console||C||(C=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",u,a)),!1}else s(e,a,r)}_e(o)&&c(e,r)}return!0}function w(t,e){return e.tag?0===e.tag.indexOf("vue-component")||e.tag.toLowerCase()===O.tagName(t).toLowerCase():r(e.text)===t.data}var x,E,k={},A=t.modules,O=t.nodeOps;for(x=0;x<Ir.length;++x)for(k[Ir[x]]=[],E=0;E<A.length;++E)void 0!==A[E][Ir[x]]&&k[Ir[x]].push(A[E][Ir[x]]);var C=!1;return function(t,r,i,o){if(!r)return void(t&&h(t));var s,u,c=!1,f=[];if(t){var d=_e(t.nodeType);if(!d&&be(t,r))g(t,r,f,o);else{if(d){if(1===t.nodeType&&t.hasAttribute("server-rendered")&&(t.removeAttribute("server-rendered"),i=!0),i){if(b(t,r,f))return _(r,f,!0),t;"production"!==n.env.NODE_ENV&&Rn("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}t=e(t)}if(s=t.elm,u=O.parentNode(s),a(r,f),r.parent){for(var p=r.parent;p;)p.elm=r.elm,p=p.parent;if(l(r))for(var m=0;m<k.create.length;++m)k.create[m](Lr,r.parent)}null!==u?(O.insertBefore(u,r.elm,O.nextSibling(s)),v(u,[t],0,0)):_e(t.tag)&&h(t)}}else c=!0,a(r,f);return _(r,f,c),r.elm}}function Ee(t,e){if(t.data.directives||e.data.directives){var n,r,i,o=t===Lr,a=ke(t.data.directives,t.context),s=ke(e.data.directives,e.context),u=[],l=[];for(n in s)r=a[n],i=s[n],r?(i.oldValue=r.value,Oe(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Oe(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var c=function(){u.forEach(function(n){Oe(n,"inserted",e,t)})};o?ct(e.data.hook||(e.data.hook={}),"insert",c,"dir-insert"):c()}if(l.length&&ct(e.data.hook||(e.data.hook={}),"postpatch",function(){
l.forEach(function(n){Oe(n,"componentUpdated",e,t)})},"dir-postpatch"),!o)for(n in a)s[n]||Oe(a[n],"unbind",t)}}function ke(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Ur),n[Ae(i)]=i,i.def=U(e.$options,"directives",i.name,!0);return n}function Ae(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Oe(t,e,n,r){var i=t.def&&t.def[e];i&&i(n.elm,t,n,r)}function Ce(t,e){if(t.data.attrs||e.data.attrs){var n,r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};s.__ob__&&(s=e.data.attrs=d({},s));for(n in s)r=s[n],i=a[n],i!==r&&De(o,n,r);for(n in a)null==s[n]&&(Cr(n)?o.removeAttributeNS(Or,Dr(n)):kr(n)||o.removeAttribute(n))}}function De(t,e,n){Ar(e)?Tr(n)?t.removeAttribute(e):t.setAttribute(e,e):kr(e)?t.setAttribute(e,Tr(n)||"false"===n?"false":"true"):Cr(e)?Tr(n)?t.removeAttributeNS(Or,Dr(e)):t.setAttributeNS(Or,e,n):Tr(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Te(t,e){var n=e.elm,r=e.data,i=t.data;if(r.staticClass||r.class||i&&(i.staticClass||i.class)){var o=Xt(e),a=n._transitionClasses;a&&(o=Qt(o,te(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function $e(t,e){if(t.data.on||e.data.on){var n=e.data.on||{},r=t.data.on||{},i=e.elm._v_add||(e.elm._v_add=function(t,n,r){e.elm.addEventListener(t,n,r)}),o=e.elm._v_remove||(e.elm._v_remove=function(t,n){e.elm.removeEventListener(t,n)});ft(n,r,i,o,e.context)}}function Fe(t,e){if(t.data.domProps||e.data.domProps){var n,r,i=e.elm,o=t.data.domProps||{},a=e.data.domProps||{};a.__ob__&&(a=e.data.domProps=d({},a));for(n in o)null==a[n]&&(i[n]="");for(n in a)if(r=a[n],"textContent"!==n&&"innerHTML"!==n||(e.children&&(e.children.length=0),r!==o[n]))if("value"===n){i._value=r;var s=null==r?"":String(r);i.value===s||i.composing||(i.value=s)}else i[n]=r}}function Pe(t){var e=Se(t.style);return t.staticStyle?d(t.staticStyle,e):e}function Se(t){return Array.isArray(t)?v(t):"string"==typeof t?Zr(t):t}function Ne(t,e){var n,r={};if(e)for(var i=t;i.child;)i=i.child._vnode,i.data&&(n=Pe(i.data))&&d(r,n);(n=Pe(t.data))&&d(r,n);for(var o=t;o=o.parent;)o.data&&(n=Pe(o.data))&&d(r,n);return r}function je(t,e){var n=e.data,r=t.data;if(n.staticStyle||n.style||r.staticStyle||r.style){var i,o,a=e.elm,s=t.data.staticStyle,u=t.data.style||{},l=s||u,c=Se(e.data.style)||{};e.data.style=c.__ob__?d({},c):c;var f=Ne(e,!0);for(o in l)null==f[o]&&Wr(a,o,"");for(o in f)i=f[o],i!==l[o]&&Wr(a,o,null==i?"":i)}}function Re(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+t.getAttribute("class")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Le(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var n=" "+t.getAttribute("class")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");t.setAttribute("class",n.trim())}}function Ie(t){oi(function(){oi(t)})}function Me(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Re(t,e)}function Ue(t,e){t._transitionClasses&&a(t._transitionClasses,e),Le(t,e)}function Be(t,e,n){var r=Ve(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Qr?ni:ii,u=0,l=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++u>=a&&l()};setTimeout(function(){u<a&&l()},o+1),t.addEventListener(s,c)}function Ve(t,e){var n,r=window.getComputedStyle(t),i=r[ei+"Delay"].split(", "),o=r[ei+"Duration"].split(", "),a=ze(i,o),s=r[ri+"Delay"].split(", "),u=r[ri+"Duration"].split(", "),l=ze(s,u),c=0,f=0;e===Qr?a>0&&(n=Qr,c=a,f=o.length):e===ti?l>0&&(n=ti,c=l,f=u.length):(c=Math.max(a,l),n=c>0?a>l?Qr:ti:null,f=n?n===Qr?o.length:u.length:0);var d=n===Qr&&ai.test(r[ei+"Property"]);return{type:n,timeout:c,propCount:f,hasTransform:d}}function ze(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Ye(e)+Ye(t[n])}))}function Ye(t){return 1e3*Number(t.slice(0,-1))}function He(t){var e=t.elm;e._leaveCb&&(e._leaveCb.cancelled=!0,e._leaveCb());var n=qe(t.data.transition);if(n&&!e._enterCb&&1===e.nodeType){var r=n.css,i=n.type,o=n.enterClass,a=n.enterActiveClass,s=n.appearClass,u=n.appearActiveClass,l=n.beforeEnter,c=n.enter,f=n.afterEnter,d=n.enterCancelled,p=n.beforeAppear,h=n.appear,v=n.afterAppear,m=n.appearCancelled,y=vr.$vnode,g=y&&y.parent?y.parent.context:vr,_=!g._isMounted||!t.isRootInsert;if(!_||h||""===h){var b=_?s:o,w=_?u:a,x=_?p||l:l,E=_&&"function"==typeof h?h:c,k=_?v||f:f,A=_?m||d:d,O=r!==!1&&!Cn,C=E&&(E._length||E.length)>1,D=e._enterCb=We(function(){O&&Ue(e,w),D.cancelled?(O&&Ue(e,b),A&&A(e)):k&&k(e),e._enterCb=null});t.data.show||ct(t.data.hook||(t.data.hook={}),"insert",function(){var n=e.parentNode,r=n&&n._pending&&n._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),E&&E(e,D)},"transition-insert"),x&&x(e),O&&(Me(e,b),Me(e,w),Ie(function(){Ue(e,b),D.cancelled||C||Be(e,i,D)})),t.data.show&&E&&E(e,D),O||C||D()}}}function Ze(t,e){function n(){m.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),l&&l(r),h&&(Me(r,s),Me(r,u),Ie(function(){Ue(r,s),m.cancelled||v||Be(r,a,m)})),c&&c(r,m),h||v||m())}var r=t.elm;r._enterCb&&(r._enterCb.cancelled=!0,r._enterCb());var i=qe(t.data.transition);if(!i)return e();if(!r._leaveCb&&1===r.nodeType){var o=i.css,a=i.type,s=i.leaveClass,u=i.leaveActiveClass,l=i.beforeLeave,c=i.leave,f=i.afterLeave,d=i.leaveCancelled,p=i.delayLeave,h=o!==!1&&!Cn,v=c&&(c._length||c.length)>1,m=r._leaveCb=We(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),h&&Ue(r,u),m.cancelled?(h&&Ue(r,s),d&&d(r)):(e(),f&&f(r)),r._leaveCb=null});p?p(n):n()}}function qe(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&d(e,si(t.name||"v")),d(e,t),e}return"string"==typeof t?si(t):void 0}}function We(t){var e=!1;return function(){e||(e=!0,t())}}function Ge(t,e,r){var i=e.value,o=t.multiple;if(o&&!Array.isArray(i))return void("production"!==n.env.NODE_ENV&&Rn('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),r));for(var a,s,u=0,l=t.options.length;u<l;u++)if(s=t.options[u],o)a=_(i,Ke(s))>-1,s.selected!==a&&(s.selected=a);else if(g(Ke(s),i))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}function Xe(t,e){for(var n=0,r=e.length;n<r;n++)if(g(Ke(e[n]),t))return!1;return!0}function Ke(t){return"_value"in t?t._value:t.value}function Je(t){t.target.composing=!0}function Qe(t){t.target.composing=!1,tn(t.target,"input")}function tn(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function en(t){return!t.child||t.data&&t.data.transition?t:en(t.child._vnode)}function nn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?nn(yt(e.children)):t}function rn(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[vn(o)]=i[o].fn;return e}function on(t,e){return/\d-keep-alive$/.test(e.tag)?t("keep-alive"):null}function an(t){for(;t=t.parent;)if(t.data.transition)return!0}function sn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function un(t){t.data.newPos=t.elm.getBoundingClientRect()}function ln(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var cn,fn,dn=o("slot,component",!0),pn=Object.prototype.hasOwnProperty,hn=/-(\w)/g,vn=l(function(t){return t.replace(hn,function(t,e){return e?e.toUpperCase():""})}),mn=l(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),yn=/([^-])([A-Z])/g,gn=l(function(t){return t.replace(yn,"$1-$2").replace(yn,"$1-$2").toLowerCase()}),_n=Object.prototype.toString,bn="[object Object]",wn=function(){return!1},xn=/[^\w.$]/,En="__proto__"in{},kn="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),An=kn&&window.navigator.userAgent.toLowerCase(),On=An&&/msie|trident/.test(An),Cn=An&&An.indexOf("msie 9.0")>0,Dn=An&&An.indexOf("edge/")>0,Tn=An&&An.indexOf("android")>0,$n=An&&/iphone|ipad|ipod|ios/.test(An),Fn=function(){return void 0===cn&&(cn=!kn&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),cn},Pn=kn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Sn=function(){function t(){r=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],r=!1;if("undefined"!=typeof Promise&&E(Promise)){var i=Promise.resolve();e=function(){i.then(t),$n&&setTimeout(m)}}else if("undefined"==typeof MutationObserver||!E(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var o=1,a=new MutationObserver(t),s=document.createTextNode(String(o));a.observe(s,{characterData:!0}),e=function(){o=(o+1)%2,s.data=String(o)}}return function(t,i){var o;if(n.push(function(){t&&t.call(i),o&&o(i)}),r||(r=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){o=t})}}();fn="undefined"!=typeof Set&&E(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return void 0!==this.set[t]},t.prototype.add=function(t){this.set[t]=1},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Nn,jn={optionMergeStrategies:Object.create(null),silent:!1,devtools:"production"!==n.env.NODE_ENV,errorHandler:null,ignoredElements:null,keyCodes:Object.create(null),isReservedTag:wn,isUnknownElement:wn,getTagNamespace:m,mustUseProp:wn,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Rn=m;if("production"!==n.env.NODE_ENV){var Ln="undefined"!=typeof console;Rn=function(t,e){Ln&&!jn.silent&&console.error("[Vue warn]: "+t+" "+(e?In(Nn(e)):""))},Nn=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")};var In=function(t){return"anonymous component"===t&&(t+=' - use the "name" option for better debugging messages.'),"\n(found in "+t+")"}}var Mn=0,Un=function(){this.id=Mn++,this.subs=[]};Un.prototype.addSub=function(t){this.subs.push(t)},Un.prototype.removeSub=function(t){a(this.subs,t)},Un.prototype.depend=function(){Un.target&&Un.target.addDep(this)},Un.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Un.target=null;var Bn=[],Vn=Array.prototype,zn=Object.create(Vn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Vn[t];w(zn,t,function(){for(var n=arguments,r=arguments.length,i=new Array(r);r--;)i[r]=n[r];var o,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":o=i;break;case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Yn=Object.getOwnPropertyNames(zn),Hn={shouldConvert:!0,isSettingProps:!1},Zn=function(t){if(this.value=t,this.dep=new Un,this.vmCount=0,w(t,"__ob__",this),Array.isArray(t)){var e=En?O:C;e(t,zn,Yn),this.observeArray(t)}else this.walk(t)};Zn.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)T(t,e[n],t[e[n]])},Zn.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)D(t[e])};var qn=jn.optionMergeStrategies;"production"!==n.env.NODE_ENV&&(qn.el=qn.propsData=function(t,e,n,r){return n||Rn('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Gn(t,e)}),qn.data=function(t,e,r){return r?t||e?function(){var n="function"==typeof e?e.call(r):e,i="function"==typeof t?t.call(r):void 0;return n?S(n,i):i}:void 0:e?"function"!=typeof e?("production"!==n.env.NODE_ENV&&Rn('The "data" option should be a function that returns a per-instance value in component definitions.',r),t):t?function(){return S(e.call(this),t.call(this))}:e:t},jn._lifecycleHooks.forEach(function(t){qn[t]=N}),jn._assetTypes.forEach(function(t){qn[t+"s"]=j}),qn.watch=function(t,e){if(!e)return t;if(!t)return e;var n={};d(n,t);for(var r in e){var i=n[r],o=e[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):[o]}return n},qn.props=qn.methods=qn.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return d(n,t),d(n,e),n};var Wn,Gn=function(t,e){return void 0===e?t:e},Xn=Object.freeze({defineReactive:T,_toString:r,toNumber:i,makeMap:o,isBuiltInTag:dn,remove:a,hasOwn:s,isPrimitive:u,cached:l,camelize:vn,capitalize:mn,hyphenate:gn,bind:c,toArray:f,extend:d,isObject:p,isPlainObject:h,toObject:v,noop:m,no:wn,genStaticKeys:y,looseEqual:g,looseIndexOf:_,isReserved:b,def:w,parsePath:x,hasProto:En,inBrowser:kn,UA:An,isIE:On,isIE9:Cn,isEdge:Dn,isAndroid:Tn,isIOS:$n,isServerRendering:Fn,devtools:Pn,nextTick:Sn,get _Set(){return fn},mergeOptions:M,resolveAsset:U,get warn(){return Rn},get formatComponentName(){return Nn},validateProp:B});if("production"!==n.env.NODE_ENV){var Kn=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Jn=function(t,e){Rn('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',t)},Qn="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/),tr={has:function t(e,n){var t=n in e,r=Kn(n)||"_"===n.charAt(0);return t||r||Jn(e,n),t||!r}},er={get:function(t,e){return"string"!=typeof e||e in t||Jn(t,e),t[e]}};Wn=function(t){if(Qn){var e=t.$options,n=e.render&&e.render._withStripped?er:tr;t._renderProxy=new Proxy(t,n)}else t._renderProxy=t}}var nr=[],rr={},ir={},or=!1,ar=!1,sr=0,ur=0,lr=function(t,e,r,i){void 0===i&&(i={}),this.vm=t,t._watchers.push(this),this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.expression=e.toString(),this.cb=r,this.id=++ur,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fn,this.newDepIds=new fn,"function"==typeof e?this.getter=e:(this.getter=x(e),this.getter||(this.getter=function(){},"production"!==n.env.NODE_ENV&&Rn('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};lr.prototype.get=function(){k(this);var t=this.getter.call(this.vm,this.vm);return this.deep&&X(t),A(),this.cleanupDeps(),t},lr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},lr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},lr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():G(this)},lr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||p(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){if("production"!==n.env.NODE_ENV&&Rn('Error in watcher "'+this.expression+'"',this.vm),!jn.errorHandler)throw t;jn.errorHandler.call(null,t,this.vm)}else this.cb.call(this.vm,t,e)}}},lr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},lr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},lr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||a(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var cr=new fn,fr=o("key,ref,slot"),dr={enumerable:!0,configurable:!0,get:m,set:m},pr=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=o,this.context=a,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=s,this.child=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},hr=function(){var t=new pr;return t.text="",t.isComment=!0,t},vr=null,mr={init:kt,prepatch:At,insert:Ot,destroy:Ct},yr=Object.keys(mr),gr=0;Ut(zt),at(zt),Mt(zt),_t(zt),Rt(zt);var _r=[String,RegExp],br={name:"keep-alive",abstract:!0,props:{include:_r,exclude:_r},created:function(){this.cache=Object.create(null)},render:function(){var t=yt(this.$slots.default);if(t&&t.componentOptions){var e=t.componentOptions,n=e.Ctor.options.name||e.tag;if(n&&(this.include&&!Wt(this.include,n)||this.exclude&&Wt(this.exclude,n)))return t;var r=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[r]?t.child=this.cache[r].child:this.cache[r]=t,t.data.keepAlive=!0}return t},destroyed:function(){var t=this;for(var e in this.cache){var n=t.cache[e];bt(n.child,"deactivated"),n.child.$destroy()}}},wr={KeepAlive:br};Gt(zt),Object.defineProperty(zt.prototype,"$isServer",{get:Fn}),zt.version="2.1.3";var xr,Er=function(t,e){return"value"===e&&("input"===t||"textarea"===t||"option"===t)||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},kr=o("contenteditable,draggable,spellcheck"),Ar=o("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Or=(o("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,<th>,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap"),"http://www.w3.org/1999/xlink"),Cr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Dr=function(t){return Cr(t)?t.slice(6,t.length):""},Tr=function(t){return null==t||t===!1},$r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML",xhtml:"http://www.w3.org/1999/xhtml"},Fr=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Pr=(o("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr",!0),o("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source",!0),o("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track",!0),o("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0)),Sr=function(t){return Fr(t)||Pr(t)},Nr=Object.create(null),jr=Object.freeze({createElement:ie,createElementNS:oe,createTextNode:ae,createComment:se,insertBefore:ue,removeChild:le,appendChild:ce,parentNode:fe,nextSibling:de,tagName:pe,setTextContent:he,childNodes:ve,setAttribute:me}),Rr={create:function(t,e){ye(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ye(t,!0),ye(e))},destroy:function(t){ye(t,!0)}},Lr=new pr("",{},[]),Ir=["create","update","remove","destroy"],Mr={create:Ee,update:Ee,destroy:function(t){Ee(t,Lr)}},Ur=Object.create(null),Br=[Rr,Mr],Vr={create:Ce,update:Ce},zr={create:Te,update:Te},Yr={create:$e,update:$e},Hr={create:Fe,update:Fe},Zr=l(function(t){var e={},n=t.indexOf("background")>=0,r=n?/;(?![^(]*\))/g:";",i=n?/:(.+)/:":";return t.split(r).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),qr=/^--/,Wr=function(t,e,n){qr.test(e)?t.style.setProperty(e,n):t.style[Xr(e)]=n},Gr=["Webkit","Moz","ms"],Xr=l(function(t){if(xr=xr||document.createElement("div"),t=vn(t),"filter"!==t&&t in xr.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Gr.length;n++){var r=Gr[n]+e;if(r in xr.style)return r}}),Kr={create:je,update:je},Jr=kn&&!Cn,Qr="transition",ti="animation",ei="transition",ni="transitionend",ri="animation",ii="animationend";Jr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ei="WebkitTransition",ni="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ri="WebkitAnimation",ii="webkitAnimationEnd"));var oi=kn&&window.requestAnimationFrame||setTimeout,ai=/\b(transform|all)(,|$)/,si=l(function(t){return{enterClass:t+"-enter",leaveClass:t+"-leave",appearClass:t+"-enter",enterActiveClass:t+"-enter-active",leaveActiveClass:t+"-leave-active",appearActiveClass:t+"-enter-active"}}),ui=kn?{create:function(t,e){e.data.show||He(e)},remove:function(t,e){t.data.show?e():Ze(t,e)}}:{},li=[Vr,zr,Yr,Hr,Kr,ui],ci=li.concat(Br),fi=xe({nodeOps:jr,modules:ci}),di=/^input|select|textarea|vue-component-[0-9]+(-[0-9a-zA-Z_-]*)?$/;Cn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&tn(t,"input")});var pi={inserted:function(t,e,r){if("production"!==n.env.NODE_ENV&&(di.test(r.tag)||Rn("v-model is not supported on element type: <"+r.tag+">. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",r.context)),"select"===r.tag){var i=function(){Ge(t,e,r.context)};i(),(On||Dn)&&setTimeout(i,0)}else"textarea"!==r.tag&&"text"!==t.type||e.modifiers.lazy||(Tn||(t.addEventListener("compositionstart",Je),t.addEventListener("compositionend",Qe)),Cn&&(t.vmodel=!0))},componentUpdated:function(t,e,n){if("select"===n.tag){Ge(t,e,n.context);var r=t.multiple?e.value.some(function(e){return Xe(e,t.options)}):e.value!==e.oldValue&&Xe(e.value,t.options);r&&tn(t,"change")}}},hi={bind:function(t,e,n){var r=e.value;n=en(n);var i=n.data&&n.data.transition;r&&i&&!Cn&&He(n);var o="none"===t.style.display?"":t.style.display;t.style.display=r?o:"none",t.__vOriginalDisplay=o},update:function(t,e,n){var r=e.value,i=e.oldValue;if(r!==i){n=en(n);var o=n.data&&n.data.transition;o&&!Cn?r?(He(n),t.style.display=t.__vOriginalDisplay):Ze(n,function(){t.style.display="none"}):t.style.display=r?t.__vOriginalDisplay:"none"}}},vi={model:pi,show:hi},mi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String},yi={name:"transition",props:mi,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag}),r.length)){"production"!==n.env.NODE_ENV&&r.length>1&&Rn("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;"production"!==n.env.NODE_ENV&&i&&"in-out"!==i&&"out-in"!==i&&Rn("invalid <transition> mode: "+i,this.$parent);var o=r[0];if(an(this.$vnode))return o;var a=nn(o);if(!a)return o;if(this._leaving)return on(t,o);var s=a.key=null==a.key||a.isStatic?"__v"+(a.tag+this._uid)+"__":a.key,u=(a.data||(a.data={})).transition=rn(this),l=this._vnode,c=nn(l);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),c&&c.data&&c.key!==s){var f=c.data.transition=d({},u);if("out-in"===i)return this._leaving=!0,ct(f,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()},s),on(t,o);if("in-out"===i){var p,h=function(){p()};ct(u,"afterEnter",h,s),ct(u,"enterCancelled",h,s),ct(f,"delayLeave",function(t){p=t},s)}}return o}}},gi=d({tag:String,moveClass:String},mi);delete gi.mode;var _i={props:gi,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=rn(this),u=0;u<o.length;u++){var l=o[u];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),r[l.key]=l,(l.data||(l.data={})).transition=s;else if("production"!==n.env.NODE_ENV){var c=l.componentOptions,f=c?c.Ctor.options.name||c.tag:l.tag;Rn("<transition-group> children must be keyed: <"+f+">")}}if(i){for(var d=[],p=[],h=0;h<i.length;h++){var v=i[h];v.data.transition=s,v.data.pos=v.elm.getBoundingClientRect(),r[v.key]?d.push(v):p.push(v)}this.kept=t(e,null,d),this.removed=p}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(sn),t.forEach(un),t.forEach(ln);document.body.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Me(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ni,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ni,t),n._moveCb=null,Ue(n,e))})}})}},methods:{hasMove:function(t,e){if(!Jr)return!1;if(null!=this._hasMove)return this._hasMove;Me(t,e);var n=Ve(t);return Ue(t,e),this._hasMove=n.hasTransform}}},bi={Transition:yi,TransitionGroup:_i};zt.config.isUnknownElement=ne,zt.config.isReservedTag=Sr,zt.config.getTagNamespace=ee,zt.config.mustUseProp=Er,d(zt.options.directives,vi),d(zt.options.components,bi),zt.prototype.__patch__=kn?fi:m,zt.prototype.$mount=function(t,e){return t=t&&kn?re(t):void 0,this._mount(t,e)},setTimeout(function(){jn.devtools&&(Pn?Pn.emit("init",zt):"production"!==n.env.NODE_ENV&&kn&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console.log("Download the Vue Devtools for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0),t.exports=zt}).call(e,function(){return this}(),n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=h.length;e;){for(p=h,h=[];++m<e;)p&&p[m].run();m=-1,e=h.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,f,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r,i;n(4),r=n(14);var o=n(102);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.i(n(7),""),e.push([t.id,"footer:after,header:after{content:' ';display:table;clear:both}.expand-y-enter-active,.expand-y-leave-active,.modal-enter-active,.modal-leave-active,.player-more-enter-active,.player-more-leave-active{transition:transform .3s ease}.expand-y-enter,.expand-y-leave-active,.modal-enter,.modal-leave-active,.player-more-enter,.player-more-leave-active{transform:scaleY(0)}.player-more-enter,.player-more-enter-active,.player-more-leave-active{transform-origin:center top}#body,.app,body,html{width:100%;height:100%;margin:0}body{font-size:14px;font-family:Arial,Helvetica,sans-serif;line-height:18px}*{box-sizing:border-box}.app{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}footer,header{width:100%;background-color:#2a72bb}footer .left,header .left{float:left}footer .right,header .right{float:right}footer .center,header .center{margin:auto;text-align:center}footer .mobile-row,header .mobile-row{display:inline-block}@media (max-width:540px){footer .mobile-row,header .mobile-row{padding-bottom:10px;display:block}footer .mobile-row:last-child,header .mobile-row:last-child{padding-bottom:0}}.lyric-editor{-ms-flex:1;flex:1;overflow:auto}.form-group{display:-ms-flexbox;display:flex;padding:5px 0;-ms-flex-align:center;align-items:center}.form-group label{vertical-align:middle;padding-right:10px}.form-group input{-ms-flex:1;flex:1;height:30px;border:1px solid #d6d6d6;padding:0 3px;border-radius:5px}.menu-item{display:inline-block;color:#fff;height:40px;line-height:40px;padding:0 8px;cursor:pointer}.menu-item:hover{background-color:#215991}.btn{border-radius:5px;display:inline-block;padding:6px;font-weight:bolder;cursor:pointer;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#1161b3;color:#fff}.btn:hover{background-color:#124b86}.btn.white,footer .btn,header .btn{background:#fff;color:#1161b3}.btn.white:hover,footer .btn:hover,header .btn:hover{background-color:#e8e1e1}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"@font-face{font-family:fontello;src:url("+n(8)+");src:url("+n(8)+"#iefix) format('embedded-opentype'),url("+n(9)+") format('woff2'),url("+n(10)+") format('woff'),url("+n(11)+") format('truetype'),url("+n(12)+"#fontello) format('svg');font-weight:400;font-style:normal}[class*=\" icon-\"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-edit:before{content:'\\E800'}.icon-save:before{content:'\\E801'}.icon-trash:before{content:'\\E802'}.icon-download:before{content:'\\E803'}.icon-upload:before{content:'\\E804'}.icon-right:before{content:'\\E805'}.icon-left:before{content:'\\E806'}.icon-up:before{content:'\\E807'}.icon-down:before{content:'\\E808'}.icon-volume-off:before{content:'\\E809'}.icon-volume-up:before{content:'\\E80A'}.icon-plus:before{content:'\\E80D'}.icon-cancel:before{content:'\\E80E'}.icon-ellipsis-vert:before{content:'\\E80F'}.icon-info:before{content:'\\E810'}.icon-help-circled:before{content:'\\E811'}.icon-play:before{content:'\\E812'}.icon-pause:before{content:'\\E813'}.icon-forward:before{content:'\\E814'}.icon-backward:before{content:'\\E815'}.icon-stop:before{content:'\\E816'}",""]);
},function(t,e,n){t.exports=n.p+"2bb4ae08084b7a900bfe1c703c988f34.eot"},function(t,e,n){t.exports=n.p+"f313a0f987672dc77a8c243380e2089e.woff2"},function(t,e,n){t.exports=n.p+"4cc930163f6d5088dfa5fef619d87cb9.woff"},function(t,e,n){t.exports=n.p+"b483544303fcfc7e1e34159a411fcdcb.ttf"},function(t,e,n){t.exports=n.p+"f4037f8d16f43379b18020706bdc9567.svg"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(t,e){var n=h(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var n,r,i;if(e.singleton){var o=m++;n=v||(v=s(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else n=s(e),r=c.bind(null,n),i=function(){a(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function c(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=f[s.id];u.refs--,o.push(u)}if(t){var l=i(t);r(l,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete f[u.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(20),s=r(a),u=n(52),l=r(u),c=n(74),f=r(c),d=n(95),p=r(d),h=n(56),v=n(49),m=r(v);e.default={data:function(){var t=m.default.lrcFormat;return{musicUrl:"",editing:m.default.editing,lrcFormat:t,runner:new h.Runner(h.Lrc.parse(t)),lyricArray:m.default.lyricArray}},methods:{uploadMusic:function(t){this.$refs.player.src=t},removeLyric:function(){this.lrcFormat="",this.lyricArray=[],this.runner=new h.Runner},playto:function(t){this.$refs.player.playto(t)},timeupdate:function(t){this.$refs.lyric.$emit("timeupdate",t)}},watch:{editing:function(t){m.default.editing=t},lrcFormat:function(t){m.default.lrcFormat=t,this.runner=new h.Runner(h.Lrc.parse(this.lrcFormat))},lyricArray:{deep:!0,handler:function(){m.default.lyricArray=this.lyricArray}}},components:{Upload:o.default,Player:s.default,LyricEditor:l.default,Modals:f.default,NavMenu:p.default}}},function(t,e,n){var r,i;n(16),r=n(18);var o=n(19);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-27024123",t.exports=r},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"input[type=file][data-v-27024123]{display:none}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this,e=this.$refs.upload;e.addEventListener("change",function(){if(e.files.length>0&&t.type_match())if("url"===t.readFormat)t.$emit("upload",URL.createObjectURL(e.files[0]));else{var n=new FileReader;n.onload=function(e){t.$emit("upload",e.target.result)},n["readAs"+t.readFormat](e.files[0])}})},props:{type:{type:String},readFormat:{type:String,default:"Text"},accept:{type:String,default:""}},methods:{upload:function(){this.$refs.upload.click()},type_match:function(){if(this.type){var t=new RegExp("^"+this.type+"/");return t.test(this.$refs.upload.files[0].type)}return!0}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{on:{click:t.upload}},[t._h("i",{staticClass:"icon-upload"})," ",t._t("default")," ",t._h("input",{ref:"upload",attrs:{type:"file",accept:t.accept}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(21),r=n(23);var o=n(51);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-9b2943fa",t.exports=r},function(t,e,n){var r=n(22);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".root[data-v-9b2943fa]{height:30px}.root.mobile[data-v-9b2943fa]{height:60px}.more[data-v-9b2943fa],.player[data-v-9b2943fa],.sound[data-v-9b2943fa]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.more[data-v-9b2943fa],.player[data-v-9b2943fa]{background:#d0dae4;color:#2a72bb;height:30px}.ctrl-btn[data-v-9b2943fa]{font-size:20px;padding:0 1px}.range[data-v-9b2943fa]{margin-left:4px;margin-right:4px}.range.music[data-v-9b2943fa]{-ms-flex:1;flex:1}time-panel[data-v-9b2943fa]{padding:0 5px}.more[data-v-9b2943fa]{height:30px;-ms-flex-pack:end;justify-content:flex-end;position:relative;z-index:10}.mobile .more[data-v-9b2943fa]{-ms-flex-pack:justify;justify-content:space-between}.sound[data-v-9b2943fa]{padding:0 5px;width:30%}.sound .range.volume[data-v-9b2943fa]{-ms-flex:1;flex:1}.sound .ctrl-mute-btn[data-v-9b2943fa]{width:26px;font-size:18px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),a=n(45),s=r(a),u=n(28);e.default={data:function(){return{hover:!1,isMobile:u.isMobile,process:0,muted:!1,paused:!0,currentTime:0,duration:0,volume:0,src:"",audio:null}},methods:{seek:function(t){this.playto(parseFloat(t*this.audio.duration))},volumeSeek:function(t){this.audio.volume=this.volume=t},playto:function(t){var e=this;this.paused&&(this.paused=!1),this.$nextTick(function(){e.currentTime=e.audio.currentTime=t})}},mounted:function(){var t=this;this.audio=document.createElement("video"),this.audio.preload="metadata",this.audio.addEventListener("durationchange",function(){t.duration=t.audio.duration}),this.audio.addEventListener("timeupdate",function(){t.currentTime=t.audio.currentTime,t.process=t.currentTime/t.duration,t.$emit("timeupdate",t.currentTime)}),this.audio.addEventListener("ended",function(){t.$emit("timeupdate",t.currentTime),t.process=0,t.paused=!0}),u.globalKeydown.on(["space"," "],function(){return t.paused=!t.paused,!1}).on("arrowleft",function(){return t.$emit("backward"),!1}).on("arrowright",function(){return t.$emit("forward"),!1}),this.$on("backward",function(){t.playto(t.audio.currentTime-5)}).$on("forward",function(){t.playto(t.audio.currentTime+5)})},watch:{src:{immediate:!0,handler:function(t){t&&(this.paused=!0,this.audio.src=t,this.process=0,this.volume=this.audio.volume,this.currentTime=this.audio.currentTime,this.duration=this.audio.duration)}},process:function(t){this.$refs.musicRange.changeValue(t)},volume:function(t){this.$refs.soundRange.changeValue(t)},muted:function(t){this.audio.muted=t},paused:function(){this.paused?this.audio.pause():this.audio.play()}},components:{Range:o.default,TimePanel:s.default}}},function(t,e,n){var r,i;n(25),r=n(27);var o=n(44);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-50bb530b",t.exports=r},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".bar[data-v-50bb530b]{position:relative;height:10px}.wrap[data-v-50bb530b]{width:100%;height:100%;background-color:#123b5d;border-radius:5px;overflow:hidden}.value[data-v-50bb530b]{height:100%;background-color:#2a72bb}.thumb[data-v-50bb530b]{cursor:move;position:absolute;top:-3px;width:10px;height:16px;background:#fff;box-shadow:inset -1px -1px 5px -2px #0b2031;border-radius:16px;transform:translateX(-5px)}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{selfValue:0,draging:!1,dragValue:0}},props:{value:{type:Number,default:0,validator:function(t){return t>=0&&t<=1}}},methods:{click:function(t){t.target!==this.$refs.thumb&&(this.selfValue=this.offset2value(t.offsetX),this.emitSeek())},emitSeek:function(){this.$emit("seek",this.selfValue)},emitDragSeek:function(){this.$emit("drag-seek",this.selfValue)},offset2value:function(t){return t/this.$refs.bar.clientWidth},changeValue:function(t){this.draging||(this.selfValue=t)}},mounted:function(){var t=this,e=this.$refs.thumb,n=this.$refs.bar,i=new r.Dragger(e,n);i.on("start",function(){t.draging=!0}).on("move",function(){t.selfValue=t.offset2value(i.offset),t.emitDragSeek()}).on("end",function(){t.draging=!1,t.selfValue=t.offset2value(i.offset),t.emitSeek()}),i.create()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){$?m.default.saveAs(new Blob([t],{type:"text/plain;charset=utf-8"}),e+".lrc"):alert("Please upgrade your browser")}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(t=0);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(t=t.toString();t.split(".")[0].length<e;)t="0"+t;return t};return e?n(parseInt(t/60,10))+":"+n(parseInt(t%60,10)):n(parseInt(t/60,10))+":"+n((t%60).toFixed(2),2)}function l(t){var e=t.split(":"),n=c(e,2),r=n[0],i=n[1];return 60*parseInt(r,10)+parseFloat(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipPosition=e.Dragger=e.globalKeydown=e.cache=e.Cache=e.DelayHover=e.Scroller=e.EventEmitter=e.isMobile=void 0;var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};e.saveLrc=s,e.timestamp2timestr=u,e.timestr2timestamp=l;var p=n(29),h=r(p),v=n(30),m=r(v),y=n(33),g=r(y),_=n(36),b=r(_),w=n(37),x=r(w),E=n(38),k=r(E),A=n(43),O=r(A),C=e.isMobile="ontouchstart"in window,D=e.EventEmitter=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),f(e,[{key:"on",value:function(t){for(var n=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(b.default.array(t))t.forEach(function(t){var r;(r=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",n)).call.apply(r,[n,t].concat(i))});else{var a;(a=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",this)).call.apply(a,[this,t].concat(i))}return this}}]),e}(h.default),T=(e.Scroller=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.timer=[],this.scrollableStartTime=new Date,this.viewport=e,this.config=(0,x.default)({delay:3,time:1,step:100},r),this.viewport.addEventListener("scroll",function(){n.isCanScroll()||n.letDelay()})}return f(t,[{key:"letDelay",value:function(){this.scrollableStartTime=Date.now()+1e3*this.config.delay}},{key:"clearTimer",value:function(){this.timer.forEach(function(t){return clearTimeout(t)}),this.timer=[]}},{key:"isCanScroll",value:function(){return Date.now()>this.scrollableStartTime}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isCanScroll()||n!==!1){this.clearTimer();var r=this.viewport.scrollTop,i=t,o=i-r;if(0!==o)for(var a=o/this.config.step,s=r,u=1;u<this.config.step;++u)!function(t){e.timer.push(setTimeout(function(){s!==e.viewport.scrollTop?(e.clearTimer(),e.letDelay()):(e.viewport.scrollTop=r+a*t,s=e.viewport.scrollTop)},1e3*e.config.time*t/e.config.step))}(u)}}}]),t}(),e.DelayHover=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.enterTimer=null,r.leaveTimer=null,r.show=!1,r.element=t,r.cfg=(0,x.default)({enterDelay:.5,leaveDelay:.3,unique:!0},n),r.hover(function(){r.show=!0},function(){r.show=!1}),C?r.element.addEventListener("click",function(){r.show?r.emit("leave"):(r.closeLastHover(),r.emit("enter"))}):(r.element.addEventListener("mouseenter",function(){r.clearLeaveTimer(),r.enterTimer=setTimeout(function(){r.closeLastHover(),e.LastHover=r,r.emit("enter")},1e3*r.cfg.enterDelay)}),r.element.addEventListener("mouseleave",function(){r.clearEnterTimer(),r.leaveTimer=setTimeout(function(){r.emit("leave")},1e3*r.cfg.leaveDelay)})),r}return a(e,t),f(e,[{key:"closeLastHover",value:function(){this.cfg.unique&&e.LastHover&&e.LastHover!==this&&e.LastHover.emit("leave")}},{key:"clearLeaveTimer",value:function(){null!==this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null)}},{key:"clearEnterTimer",value:function(){null!==this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=null)}},{key:"hover",value:function(t,e){this.on("enter",t).on("leave",e)}}]),e}(D));T.LastHover=null;var $;try{$=!!new Blob}catch(t){$=!1}var F=e.Cache=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.default.name;i(this,t),this.version=2,this.prefix=e}return f(t,[{key:"read",value:function(){var t;if(this.prefix in localStorage){try{t=JSON.parse(localStorage[this.prefix])}catch(t){console.error(t)}if(t.$version===this.version)return t}return{}}},{key:"write",value:function(t){t.$version=this.version,localStorage[this.prefix]=JSON.stringify(t)}},{key:"get",value:function(t,e){var n=this.read();return t in n?n[t]:e}},{key:"set",value:function(t,e){var n=this.read();n[t]=e;try{this.write(n)}catch(t){console.error(t)}}}]),t}(),P=(e.cache=new F,e.globalKeydown=new D);window.addEventListener("keydown",function(t){if(!/(input|select|option|textarea)/.test(t.target.tagName.toLowerCase())){var e=t.key||t.code,n=P.listeners(e.toLowerCase()).map(function(e){return e(t)}).some(function(t){return t===!1});n&&t.preventDefault()}});e.Dragger=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.ee=new D,r.element=t,r.container=n,r}return a(e,t),f(e,[{key:"on",value:function(){var t;return(t=this.ee).on.apply(t,arguments)}},{key:"emit",value:function(){var t;return(t=this.ee).emit.apply(t,arguments)}},{key:"create",value:function(){this.handles=[this.element],this.bindHandles()}},{key:"dragStart",value:function(t){this.dragStartPoint.left=this.element.offsetLeft,this.emit("start",t)}},{key:"dragMove",value:function(t,e,n){this.offset=this.dragStartPoint.left+n.x,this.offset<0?this.offset=0:this.offset>this.container.clientWidth&&(this.offset=this.container.clientWidth),this.emit("move",t,e,n)}},{key:"dragEnd",value:function(t,e){this.emit("end",t,e)}}]),e}(g.default),e.TooltipPosition=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";i(this,t),this.dirs=["bottom","right","top","left"],this.target=e,this.tooltip=n,this.viewport=document.documentElement,this.generateDirs(r)}return f(t,[{key:"generateDirs",value:function(t){var e=this.dirs.indexOf(t);this.dirs.splice(e,1),this.dirs.unshift(t)}},{key:"checkRectOverflow",value:function(t){return t.left>=0&&t.top>=0&&t.right<=this.viewport.clientWidth&&t.bottom<=this.viewport.clientHeight}},{key:"rectOverflowCount",value:function(t){var e=function(t){return t<0?t:0};return e(t.left)+e(t.top)+e(this.viewport.clientWidth-t.right)+e(this.viewport.clientHeight-t.bottom)}},{key:"position",value:function(){for(var t=this.target.getBoundingClientRect(),e=this.tooltip.clientWidth,n=this.tooltip.clientHeight,r={width:e,height:n},i=[],o=0;o<this.dirs.length;++o){var a=this.dirs[o];switch(this.dirs[o]){case"bottom":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.bottom,r.bottom=t.bottom+n;break;case"top":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.top-n,r.bottom=t.top;break;case"left":r.left=t.left-e,r.right=t.left,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n;break;case"right":r.left=t.right,r.right=t.right+e,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n}i.push([this.rectOverflowCount(r),a,(0,k.default)(r)])}return i.sort(function(t,e){return e[0]-t[0]}),{dir:i[0][1],rect:i[0][2]}}}]),t}()},function(t,e,n){var r;!function(i){function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==i?t.maxListeners:d,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=d}function s(t,e){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,t,e)):console.error(n,t),console.trace&&console.trace()}function u(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function l(t,e,n,r){if(!n)return[];var i,o,a,s,u,c,f,d=[],p=e.length,h=e[r],v=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(l(t,e,n[a],r+1)));return d}if("**"===h){f=r+1===p||r+2===p&&"*"===v,f&&n._listeners&&(d=d.concat(l(t,e,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(d=d.concat(l(t,e,n[a],p))),d=d.concat(l(t,e,n[a],r))):d=a===v?d.concat(l(t,e,n[a],r+2)):d.concat(l(t,e,n[a],r)));return d}d=d.concat(l(t,e,n[h],r+1))}if(s=n["*"],s&&l(t,e,s,r+1),u=n["**"])if(r<p){u._listeners&&l(t,e,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?l(t,e,u[a],r+2):a===h?l(t,e,u[a],r+1):(c={},c[a]=u[a],l(t,e,{"**":c},r+1)))}else u._listeners?l(t,e,u,p):u["*"]&&u["*"]._listeners&&l(t,e,u["*"],p);return d}function c(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;n+1<r;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,a=t.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===t.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(e),!o._listeners.warned&&this._events.maxListeners>0&&o._listeners.length>this._events.maxListeners&&(o._listeners.warned=!0,s.call(this,o._listeners.length,a))):o._listeners=e,!0;a=t.shift()}return!0}var f=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==i&&(this._events||o.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(t,e){return this.many(t,1,e),this},u.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},u.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,r,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this,t);break;case 2:a[r].call(this,t,arguments[1]);break;case 3:a[r].call(this,t,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}}if(this.wildcard){a=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();l.call(this,a,u,this.listenerTree,0)}else{if(a=this._events[t],"function"==typeof a){switch(this.event=t,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];a.apply(this,e)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,r,i,a,s=[],u=arguments.length;if(this._all){if(u>3)for(e=new Array(u),i=1;i<u;i++)e[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=t,u){case 1:s.push(this._all[r].call(this,t));break;case 2:s.push(this._all[r].call(this,t,arguments[1]));break;case 3:s.push(this._all[r].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,e))}}if(this.wildcard){a=[];var c="string"==typeof t?t.split(this.delimiter):t.slice();l.call(this,a,c,this.listenerTree,0)}else a=this._events[t];if("function"==typeof a)switch(this.event=t,u){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];s.push(a.apply(this,e))}else if(a&&a.length){if(u>3)for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,u){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(c.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),this._events[t].push(e),!this._events[t].warned&&this._events.maxListeners>0&&this._events[t].length>this._events.maxListeners&&(this._events[t].warned=!0,s.call(this,this._events[t].length,t))):this._events[t]=e,this)},u.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,e){function n(t){if(t!==i){var e=Object.keys(t);for(var r in e){var o=e[r],a=t[o];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&n(t[o]),0===Object.keys(a).length&&delete t[o])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,o=[];if(this.wildcard){var a="string"==typeof t?t.split(this.delimiter):t.slice();o=l.call(this,null,a,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],o.push({_listeners:r})}for(var s=0;s<o.length;s++){var u=o[s];if(r=u._listeners,f(r)){for(var c=-1,d=0,p=r.length;d<p;d++)if(r[d]===e||r[d].listener&&r[d].listener===e||r[d]._origin&&r[d]._origin===e){c=d;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[t].splice(c,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete u._listeners:delete this._events[t],this.emit("removeListener",t,e))}return n(this.listenerTree),this},u.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;n<r;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,r=e.length;n<r;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=l.call(this,null,e,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[t]=null);return this},u.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return l.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),f(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},u.prototype.listenerCount=function(t){return this.listeners(t).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(e,n,e,t),!(r!==i&&(t.exports=r))}()},function(t,e,n){var r,i,o=o||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=0,f=500,d=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,f)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){u(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},v=function(e,u,f){f||(e=h(e));var v,m,y,g=this,_=e.type,b=!1,w=function(){p(g,"writestart progress write writeend".split(" "))},x=function(){if(!b&&v||(v=n().createObjectURL(e)),m)m.location.href=v;else{var r=t.open(v,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=v)}g.readyState=g.DONE,w(),d(v)},E=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};return g.readyState=g.INIT,u||(u="download"),i?(v=n().createObjectURL(e),r.href=v,r.download=u,void setTimeout(function(){o(r),w(),d(v),g.readyState=g.DONE})):(t.chrome&&_&&_!==l&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,l),b=!0),a&&"download"!==u&&(u+=".download"),(_===l||a)&&(m=t),s?(c+=e.size,void s(t.TEMPORARY,c,E(function(t){t.root.getDirectory("saved",k,E(function(t){var n=function(){t.getFile(u,k,E(function(t){t.createWriter(E(function(n){n.onwriteend=function(e){m.location.href=t.toURL(),g.readyState=g.DONE,p(g,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};t.getFile(u,{create:!1},E(function(t){t.remove(),n()}),E(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},m=v.prototype,y=function(t,e,n){return new v(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(m.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=o:null!==n(31)&&null!=n(32)&&(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r,i;/*!
	 * Unidragger v2.1.0
	 * Draggable base class
	 * MIT license
	 */
!function(o,a){r=[n(34)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)};var o=t.navigator;return i._bindHandles=function(t){t=void 0===t||!!t;var e;e=o.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:o.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:n;for(var r=t?"addEventListener":"removeEventListener",i=0;i<this.handles.length;i++){var a=this.handles[i];this._bindStartEvent(a,t),e(a),a[r]("click",this)}},i.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},i._dragPointerDown=function(t,n){this.pointerDownPoint=e.getPointerPoint(n);var r=this.canPreventDefaultOnPointerDown(t,n);r&&t.preventDefault()},i.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},i.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},i._dragPointerMove=function(t,n){var r=e.getPointerPoint(n),i={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,n),i},i.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,n){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(t,n)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},i.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var n=t.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},r.getPointerPoint=e.getPointerPoint,r})},function(t,e,n){var r,i;/*!
	 * Unipointer v2.1.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(o,a){r=[n(35)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var r=n?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[r]("pointerdown",this):t.navigator.msPointerEnabled?e[r]("MSPointerDown",this):(e[r]("mousedown",this),e[r]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onMSPointerDown=i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return i._bindPostStartEvents=function(e){if(e){var n=o[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onMSPointerMove=i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onMSPointerUp=i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onMSPointerCancel=i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},r.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},r})},function(t,e,n){var r,i;!function(o,a){r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return r.indexOf(e)==-1&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},r=n[t]=n[t]||{};return r[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return r!=-1&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=0,i=n[r];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];i;){var a=o&&o[i];a&&(this.off(t,i),delete o[i]),i.apply(this,e),r+=a?0:1,i=n[r]}return this}},t})},function(t,e,n){var r;(function(i){!function(i,o){r=function(){return i.is=o()}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this,function(){function t(t){return function(){return!t.apply(null,c.call(arguments))}}function e(t){return function(){var e=c.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(!t.call(null,e[r]))return!1;return!0}}function n(t){return function(){var e=c.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(t.call(null,e[r]))return!0;return!1}}function r(t,e){u[t]=function(n){return e[t].test(n)}}function o(){var r=u;for(var i in r)if(f.call(r,i)&&u.function(r[i]))for(var o=r[i].api||["not","all","any"],a=0;a<o.length;a++)"not"===o[a]&&(u.not[i]=t(u[i])),"all"===o[a]&&(u.all[i]=e(u[i])),"any"===o[a]&&(u.any[i]=n(u[i]))}var a=this||i,s=a.is,u={};u.VERSION="0.8.0",u.not={},u.all={},u.any={};var l=Object.prototype.toString,c=Array.prototype.slice,f=Object.prototype.hasOwnProperty;u.arguments=function(t){return u.not.null(t)&&("[object Arguments]"===l.call(t)||"object"==typeof t&&"callee"in t)},u.array=Array.isArray||function(t){return"[object Array]"===l.call(t)},u.boolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},u.date=function(t){return"[object Date]"===l.call(t)},u.error=function(t){return"[object Error]"===l.call(t)},u.function=function(t){return"[object Function]"===l.call(t)||"function"==typeof t},u.nan=function(t){return t!==t},u.null=function(t){return null===t},u.number=function(t){return u.not.nan(t)&&"[object Number]"===l.call(t)},u.object=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},u.json=function(t){return"[object Object]"===l.call(t)},u.regexp=function(t){return"[object RegExp]"===l.call(t)},u.sameType=function(t,e){return u.nan(t)||u.nan(e)?u.nan(t)===u.nan(e):l.call(t)===l.call(e)},u.sameType.api=["not"],u.string=function(t){return"[object String]"===l.call(t)},u.char=function(t){return u.string(t)&&1===t.length},u.undefined=function(t){return void 0===t},u.empty=function(t){if(u.object(t)){var e=Object.getOwnPropertyNames(t).length;return!!(0===e||1===e&&u.array(t)||2===e&&u.arguments(t))}return""===t},u.existy=function(t){return null!==t&&void 0!==t},u.truthy=function(t){return u.existy(t)&&t!==!1&&u.not.nan(t)&&""!==t&&0!==t},u.falsy=t(u.truthy),u.space=function(t){if(u.char(t)){var e=t.charCodeAt(0);return e>8&&e<14||32===e}return!1},u.equal=function(t,e){return u.all.number(t,e)?t===e&&1/t===1/e:u.all.string(t,e)||u.all.regexp(t,e)?""+t==""+e:!!u.all.boolean(t,e)&&t===e},u.equal.api=["not"],u.even=function(t){return u.number(t)&&t%2===0},u.odd=function(t){return u.number(t)&&t%2===1},u.positive=function(t){return u.number(t)&&t>0},u.negative=function(t){return u.number(t)&&t<0},u.above=function(t,e){return u.all.number(t,e)&&t>e},u.above.api=["not"],u.under=function(t,e){return u.all.number(t,e)&&t<e},u.under.api=["not"],u.within=function(t,e,n){return u.all.number(t,e,n)&&t>e&&t<n},u.within.api=["not"],u.decimal=function(t){return u.number(t)&&t%1!==0},u.integer=function(t){return u.number(t)&&t%1===0},u.finite=isFinite||function(t){return t!==1/0&&t!==-(1/0)&&u.not.nan(t)},u.infinite=t(u.finite);var d={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/};for(var p in d)d.hasOwnProperty(p)&&r(p,d);u.include=function(t,e){return t.indexOf(e)>-1},u.include.api=["not"],u.upperCase=function(t){return u.string(t)&&t===t.toUpperCase()},u.lowerCase=function(t){return u.string(t)&&t===t.toLowerCase()},u.startWith=function(t,e){return u.string(t)&&0===t.indexOf(e)},u.startWith.api=["not"],u.endWith=function(t,e){return u.string(t)&&t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},u.endWith.api=["not"],u.capitalized=function(t){if(u.not.string(t))return!1;for(var e=t.split(" "),n=[],r=0;r<e.length;r++)n.push(e[r][0]===e[r][0].toUpperCase());return u.all.truthy.apply(null,n)},u.palindrome=function(t){return u.string(t)&&t==t.split("").reverse().join("")};var h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],v=["january","february","march","april","may","june","july","august","september","october","november","december"];if(u.today=function(t){var e=new Date,n=e.toDateString();return u.date(t)&&t.toDateString()===n},u.yesterday=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()-1)).toDateString();return u.date(t)&&t.toDateString()===n},u.tomorrow=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()+1)).toDateString();return u.date(t)&&t.toDateString()===n},u.past=function(t){var e=new Date;return u.date(t)&&t.getTime()<e.getTime()},u.future=t(u.past),u.day=function(t,e){return u.date(t)&&e.toLowerCase()===h[t.getDay()]},u.day.api=["not"],u.month=function(t,e){return u.date(t)&&e.toLowerCase()===v[t.getMonth()]},u.month.api=["not"],u.year=function(t,e){return u.date(t)&&u.number(e)&&e===t.getFullYear()},u.year.api=["not"],u.leapYear=function(t){return u.number(t)&&(t%4===0&&t%100!==0||t%400===0)},u.weekend=function(t){return u.date(t)&&(6===t.getDay()||0===t.getDay())},u.weekday=t(u.weekend),u.inDateRange=function(t,e,n){if(u.not.date(t)||u.not.date(e)||u.not.date(n))return!1;var r=t.getTime(),i=e.getTime(),o=n.getTime();return r>i&&r<o},u.inDateRange.api=["not"],u.inLastWeek=function(t){return u.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},u.inLastMonth=function(t){return u.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},u.inLastYear=function(t){return u.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},u.inNextWeek=function(t){return u.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},u.inNextMonth=function(t){return u.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},u.inNextYear=function(t){return u.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},u.quarterOfYear=function(t,e){return u.date(t)&&u.number(e)&&e===Math.floor((t.getMonth()+3)/3)},u.quarterOfYear.api=["not"],u.dayLightSavingTime=function(t){var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1),r=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()<r},"undefined"!=typeof window){var m="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",y="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",g="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";u.chrome=function(){return/chrome|chromium/i.test(m)&&/google inc/.test(y)},u.chrome.api=["not"],u.firefox=function(){return/firefox/i.test(m)},u.firefox.api=["not"],u.edge=function(){return/edge/i.test(m)},u.edge.api=["not"],u.ie=function(t){return t?t>=11?"ActiveXObject"in window:new RegExp("msie "+t).test(m):/msie/i.test(m)||"ActiveXObject"in window},u.ie.api=["not"],u.opera=function(){return/^Opera\//.test(m)||/\x20OPR\//.test(m)},u.opera.api=["not"],u.safari=function(){return/safari/i.test(m)&&/apple computer/i.test(y)},u.safari.api=["not"],u.ios=function(){return u.iphone()||u.ipad()||u.ipod()},u.ios.api=["not"],u.iphone=function(){return/iphone/i.test(m)},u.iphone.api=["not"],u.ipad=function(){return/ipad/i.test(m)},u.ipad.api=["not"],u.ipod=function(){return/ipod/i.test(m)},u.ipod.api=["not"],u.android=function(){return/android/i.test(m)},u.android.api=["not"],u.androidPhone=function(){return/android/i.test(m)&&/mobile/i.test(m)},u.androidPhone.api=["not"],u.androidTablet=function(){return/android/i.test(m)&&!/mobile/i.test(m)},u.androidTablet.api=["not"],u.blackberry=function(){return/blackberry/i.test(m)||/BB10/i.test(m)},u.blackberry.api=["not"],u.desktop=function(){return u.not.mobile()&&u.not.tablet()},u.desktop.api=["not"],u.linux=function(){return/linux/i.test(g)},u.linux.api=["not"],u.mac=function(){return/mac/i.test(g)},u.mac.api=["not"],u.windows=function(){return/win/i.test(g)},u.windows.api=["not"],u.windowsPhone=function(){return u.windows()&&/phone/i.test(m)},u.windowsPhone.api=["not"],u.windowsTablet=function(){return u.windows()&&u.not.windowsPhone()&&/touch/i.test(m)},u.windowsTablet.api=["not"],u.mobile=function(){return u.iphone()||u.ipod()||u.androidPhone()||u.blackberry()||u.windowsPhone()},u.mobile.api=["not"],u.tablet=function(){return u.ipad()||u.androidTablet()||u.windowsTablet()},u.tablet.api=["not"],u.online=function(){return navigator.onLine},u.online.api=["not"],u.offline=t(u.online),u.offline.api=["not"],u.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch},u.touchDevice.api=["not"]}return u.propertyCount=function(t,e){if(!u.object(t)||!u.number(e))return!1;if(Object.keys)return Object.keys(t).length===e;var n,r=[];for(n in t)f.call(t,n)&&r.push(n);return r.length===e},u.propertyCount.api=["not"],u.propertyDefined=function(t,e){return u.object(t)&&u.string(e)&&e in t},u.propertyDefined.api=["not"],u.windowObject=function(t){return"object"==typeof t&&"setInterval"in t},u.domNode=function(t){return u.object(t)&&t.nodeType>0},u.inArray=function(t,e){if(u.not.array(e))return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},u.inArray.api=["not"],u.sorted=function(t){if(u.not.array(t))return!1;for(var e=0;e<t.length;e++)if(t[e]>t[e+1])return!1;return!0},o(),u.setRegexp=function(t,e){for(var n in d)f.call(d,n)&&e===n&&(d[n]=t)},u.setNamespace=function(){return a.is=s,this},u})}).call(e,function(){return this}())},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},o=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var o;for(o in t);return"undefined"==typeof o||n.call(t,o)};t.exports=function t(){var e,n,r,a,s,u,l=arguments[0],c=1,f=arguments.length,d=!1;for("boolean"==typeof l?(d=l,l=arguments[1]||{},c=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});c<f;++c)if(e=arguments[c],null!=e)for(n in e)r=l[n],a=e[n],l!==a&&(d&&a&&(o(a)||(s=i(a)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&o(r)?r:{},l[n]=t(d,u,a)):"undefined"!=typeof a&&(l[n]=a));return l}},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o,c){function f(n,i){if(null===n)return null;if(0===i)return n;var v,m;if("object"!=typeof n)return n;if(n instanceof s)v=new s;else if(n instanceof u)v=new u;else if(n instanceof l)v=new l(function(t,e){n.then(function(e){t(f(e,i-1))},function(t){e(f(t,i-1))})});else if(t.__isArray(n))v=[];else if(t.__isRegExp(n))v=new RegExp(n.source,a(n)),n.lastIndex&&(v.lastIndex=n.lastIndex);else if(t.__isDate(n))v=new Date(n.getTime());else{if(h&&e.isBuffer(n))return v=new e(n.length),n.copy(v),v;n instanceof Error?v=Object.create(n):"undefined"==typeof o?(m=Object.getPrototypeOf(n),v=Object.create(m)):(v=Object.create(o),m=o)}if(r){var y=d.indexOf(n);if(y!=-1)return p[y];d.push(n),p.push(v)}if(n instanceof s)for(var g=n.keys();;){var _=g.next();if(_.done)break;var b=f(_.value,i-1),w=f(n.get(_.value),i-1);v.set(b,w)}if(n instanceof u)for(var x=n.keys();;){var _=x.next();if(_.done)break;var E=f(_.value,i-1);v.add(E)}for(var k in n){var A;m&&(A=Object.getOwnPropertyDescriptor(m,k)),A&&null==A.set||(v[k]=f(n[k],i-1))}if(Object.getOwnPropertySymbols)for(var O=Object.getOwnPropertySymbols(n),k=0;k<O.length;k++){var C=O[k],D=Object.getOwnPropertyDescriptor(n,C);(!D||D.enumerable||c)&&(v[C]=f(n[C],i-1),D.enumerable||Object.defineProperty(v,C,{enumerable:!1}))}if(c)for(var T=Object.getOwnPropertyNames(n),k=0;k<T.length;k++){var $=T[k],D=Object.getOwnPropertyDescriptor(n,$);D&&D.enumerable||(v[$]=f(n[$],i-1),Object.defineProperty(v,$,{enumerable:!1}))}return v}"object"==typeof r&&(i=r.depth,o=r.prototype,c=r.includeNonEnumerable,r=r.circular);var d=[],p=[],h="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),f(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map}catch(t){s=function(){}}var u;try{u=Set}catch(t){u=function(){}}var l;try{l=Promise}catch(t){l=function(){}}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):h(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function c(e,n){if(u(n),e=a(e,n<0?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);e=a(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function d(t,e){var n=e.length<0?0:0|v(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=d(e,n),e}function h(e,n){if(t.isBuffer(n)){var r=0|v(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||X(n.length)?a(e,0):d(e,n);if("Buffer"===n.type&&Q(n.data))return d(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e){return+e!=e&&(e=0),t.alloc(+e)}function y(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return H(e).length;n=(""+n).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return F(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:w(e,n,r,i,o);if("number"==typeof n)return n&=255,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):w(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*a}else c!==-1&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,d=0;d<u;d++)if(o(t,l+d)!==o(e,d)){f=!1;break}if(f)return l}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function k(t,e,n,r){return G(Z(e),t,n,r)}function A(t,e,n,r){return k(t,e,n,r)}function O(t,e,n,r){return G(W(e),t,n,r)}function C(t,e,n,r){return G(q(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],l=t[i+2],128===(192&u)&&128===(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return $(r)}function $(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function F(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function V(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return K.toByteArray(V(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t){return t!==t}var K=n(40),J=n(41),Q=n(42);e.Buffer=t,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return l(null,t,e,n)},t.allocUnsafe=function(t){return c(null,t)},t.allocUnsafeSlow=function(t){return c(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=y,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),l=this.slice(i,o),c=e.slice(n,r),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):I(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):I(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:H(new t(e,i).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(39).Buffer,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,a,s,u=t.length;a=n(t),s=new c(3*u/4-a),i=a>0?u-4:u;var f=0;for(e=0,r=0;e<i;e+=4,r+=3)o=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],s[f++]=o>>16&255,s[f++]=o>>8&255,s[f++]=255&o;return 2===a?(o=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,s[f++]=255&o):1===a&&(o=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,s[f++]=o>>8&255,s[f++]=255&o),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],s=16383,l=0,c=n-r;l<c;l+=s)o.push(a(t,l,l+s>c?c:l+s));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=s;for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)u[d]=f[d],l[f.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?d/u:d*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=h,a/=256,l-=8);t[n+p-h]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={name:"lrc-maker",version:"0.2.2",description:"lrc maker",main:"index.js",scripts:{test:"yarn run lint",lint:"eslint --format 'node_modules/eslint-friendly-formatter' --ext js,vue webpack.config.js src",dev:"webpack-dev-server --host='0.0.0.0' --progress --colors --inline --hot --output-public-path='/assets/'",build:"yarn run build:clean && yarn run build:webpack && yarn run build:view","build:clean":"rm -rf build","build:view":" cp index.html build/index.html","build:webpack":"webpack --optimize-minimize --output-public-path='./assets/'",deploy:"yarn run build && gh-pages -d build"},keywords:["lrc"],author:"Weirong Xu <weirongxu.raidou@gmail.com>",homepage:"https://github.com/weirongxu/lrc-maker",repository:{type:"git",url:"https://github.com/weirongxu/lrc-maker.git"},onlinePage:"https://weirongxu.github.io/lrc-maker/",bugs:"https://github.com/weirongxu/lrc-maker/issues",license:"MIT",devDependencies:{autoprefixer:"^6.5.3","babel-core":"^6.7.6","babel-eslint":"^7.1.1","babel-helper-vue-jsx-merge-props":"^2.0.2","babel-loader":"^6.2.8","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-vue-jsx":"^3.2.0","babel-preset-latest":"^6.16.0","babel-preset-stage-0":"^6.16.0","css-loader":"^0.26.0",eslint:"^3.10.2","eslint-config-standard":"^6.2.1","eslint-friendly-formatter":"^2.0.6","eslint-loader":"^1.3.0","eslint-plugin-html":"^1.7.0","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^2.0.1","file-loader":"^0.9.0","gh-pages":"^0.12.0","json-loader":"^0.5.4","node-sass":"^3.13.0","resolve-url-loader":"^1.6.0","sass-loader":"^4.0.2","url-loader":"^0.5.7","vue-loader":"^10.0.1","vue-template-compiler":"^2.1.3",webpack:"^1.12.15","webpack-dev-server":"^1.14.1","yaml-loader":"^0.4.0"},dependencies:{clone:"^2.1.0",eventemitter2:"^2.2.1",extend:"^3.0.0","filesaver.js":"^0.2.0","lrc-kit":"^0.2.0",unidragger:"^2.1.0",vue:"^2.1.3","vue-i18n":"^4.7.3"}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"bar",staticClass:"bar",on:{click:t.click}},[t._h("div",{staticClass:"wrap"},[t._h("div",{staticClass:"value",style:{width:100*t.selfValue+"%"}})])," ",t._h("div",{ref:"thumb",staticClass:"thumb",style:{left:100*t.selfValue+"%"}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(46),r=n(48);var o=n(50);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(47);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(49),a=r(o);e.default={data:function(){return{remain:a.default.timeRemain}},props:{duration:{default:0,type:Number},currentTime:{default:0,type:Number}},filters:{time:function(t){return(0,i.timestamp2timestr)(t,!0)}},watch:{remain:function(t){a.default.timeRemain=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),i={lrcFormat:{},lyric:{},editing:{default:!0},lyricArray:{default:[]},timeRemain:{default:!1},userName:{default:""}},o={};Object.keys(i).forEach(function(t){var e=i[t];o[t]=r.cache.get(e.name||t,e.default||"")}),e.default=new Proxy(o,{set:function(t,e,n){var o=i[e];return r.cache.set(o.name||e,n),t[e]=n,!0}})},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("span",{on:{click:function(e){t.remain=!t.remain}}},[t.remain?["\n      -"+t._s(t._f("time")(t.duration-t.currentTime))+"\n    "]:["\n      "+t._s(t._f("time")(t.currentTime))+"\n    "]," "]),"\n  / "+t._s(t._f("time")(t.duration))+"\n"])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.src.length,expression:"src.length"}],staticClass:"root",class:{mobile:t.isMobile},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t._h("div",{staticClass:"player"},[t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[SPACE]"},on:{click:function(e){t.paused=!t.paused}}},[t.paused?t._h("i",{staticClass:"icon-play"}):t._h("i",{staticClass:"icon-pause"})," "])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[LEFT]"},on:{click:function(e){t.$emit("backward")}}},[t._h("i",{staticClass:"icon-backward"})])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[RIGHT]"},on:{click:function(e){t.$emit("forward")}}},[t._h("i",{staticClass:"icon-forward"})])," ",t._h("range",{ref:"musicRange",staticClass:"range music",attrs:{value:t.process},on:{seek:t.seek}})," ",t.isMobile?t._e():t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}})])," ",t._h("transition",{attrs:{name:"player-more"}},[t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.isMobile||t.hover,expression:"isMobile || hover"}],staticClass:"more"},[t.isMobile?t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}}):t._e()," ",t._h("div",{staticClass:"sound"},[t._h("div",{staticClass:"ctrl-btn",on:{click:function(e){t.muted=!t.muted}}},[t.muted||0==t.volume?t._h("i",{staticClass:"icon-volume-off"}):t._h("i",{staticClass:"icon-volume-up"})," "])," ",t._h("range",{ref:"soundRange",staticClass:"range volume",attrs:{value:t.volume},on:{seek:t.volumeSeek,"drag-seek":t.volumeSeek}})])])])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(53),r=n(55);var o=n(73);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-1cacf53d",t.exports=r},function(t,e,n){var r=n(54);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"ul.lyrics[data-v-1cacf53d]{list-style-type:none;margin:0;padding:0;background-color:#f1f1f1}ul.lyrics>li[data-v-1cacf53d]{min-height:40px;text-align:center;color:#2a72bb;padding:10px 0}ul.lyrics>li.cur[data-v-1cacf53d]{color:#2a72bb;text-shadow:1px 1px 1px #aaa;background-color:#fbfbfb}ul.lyrics>li:hover .conceal[data-v-1cacf53d]{display:inline-block}ul.lyrics>li .conceal[data-v-1cacf53d]{display:none}ul.lyrics>li.division[data-v-1cacf53d],ul.lyrics>li.unsorted[data-v-1cacf53d]{background-color:#f1f1f1}ul.lyrics>li.division[data-v-1cacf53d]{display:block;width:100%;min-height:auto;padding:2px 0;font-size:12px;text-align:center}ul.lyrics.editing>li[data-v-1cacf53d]{padding:0;display:-ms-flexbox;display:flex}ul.lyrics.editing>li.division[data-v-1cacf53d]{display:block;padding:4px 0}ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{color:#7c9fbb;width:60px;overflow:hidden;text-overflow:'.'}ul.lyrics.editing>li .content[data-v-1cacf53d]{-ms-flex:1;flex:1}ul.lyrics.editing>li .icon-btn[data-v-1cacf53d]{padding-left:4px;padding-right:4px}ul.lyrics.editing>li .content[data-v-1cacf53d],ul.lyrics.editing>li .icon-btn[data-v-1cacf53d],ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{padding-top:10px;padding-bottom:10px}ul.lyrics.editing>li input[data-v-1cacf53d]{text-align:center;border:none;background-color:#d0dae4}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(56),a=n(28),s=n(49),u=r(s),l=n(61),c=r(l);e.default={data:function(){return{index:-1,editingIndex:-1,editingTextIndex:-1,scroller:null}},props:{runner:{type:o.Runner,default:new o.Runner},playto:{type:Function,default:function(){}},editing:{type:Boolean,default:u.default.editing},lyricArray:{type:Array,default:[]}},methods:{editMenu:function(t){},exitEdit:function(){this.editingIndex=-1,this.editingTextIndex=-1,this.$emit("update")},edit:function(t){this.editingIndex=t},editText:function(t){this.editingTextIndex=t,this.$emit("update")},remove:function(t){this.runner.lrc.lyrics.splice(t,1),this.$emit("update")},removeText:function(t){this.lyricArray.splice(t,1),this.$emit("update")},insert:function(t){this.runner.lrc.lyrics.splice(t+1,0,{timestamp:this.runner.lrc.lyrics[t].timestamp,content:this.runner.lrc.lyrics[t].content}),this.$emit("update")},insertText:function(t){this.lyricArray.splice(t+1,0,this.lyricArray[t]),this.$emit("update")},removeTimestamp:function(t){var e,n=this.runner.lrc.lyrics,r=n.splice(t,n.length-t).map(function(t){return t.content});(e=this.lyricArray).splice.apply(e,[0,0].concat(i(r))),this.$emit("update")},setTimestamp:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&(this.runner.lrc.lyrics[t].timestamp=e,this.$emit("update"))},setTimestampText:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&this.lyricArray.length&&(this.runner.lrc.lyrics.push({timestamp:e,content:this.lyricArray[t]}),this.removeText(t),this.$emit("update"))},scrollToCurrentLyric:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$el,n=e.querySelector(".cur");if(n){var r=e.clientHeight,i=n.offsetTop-r/2;this.scroller.scrollTo(i,t)}}},filters:{time:a.timestamp2timestr},created:function(){var t=this;this.$on("timeupdate",function(e){t.runner.timeUpdate(e),t.index=t.runner.curIndex(),t.scrollToCurrentLyric()}).$on("update",function(){t.runner.lrcUpdate(),t.$App.lrcFormat=t.runner.lrc.toString(),t.$App.lyricArray=t.lyricArray}).$on("prevlyric",function(){t.removeTimestamp(t.runner.lrc.lyrics.length-1)}).$on("nextlyric",function(){t.setTimestampText(0)})},mounted:function(){var t=this;this.scroller=new a.Scroller(this.$el),a.globalKeydown.on(["enter","escape"],function(){
if(t.editing)return t.exitEdit(),!1}).on("arrowup",function(){if(t.editing)return t.$emit("prevlyric"),!1}).on("arrowdown",function(){if(t.editing)return t.$emit("nextlyric"),!1})},watch:{editing:function(){this.editing||this.exitEdit()}},components:{Tmenu:c.default}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Runner=e.Lrc=e.LineParser=void 0;var i=n(57),o=r(i),a=n(58),s=r(a),u=n(59),l=r(u);e.LineParser=o.default,e.Lrc=s.default,e.Runner=l.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){n(this,t),this.type=t.TYPE.INVALID;try{var i=t.parseTags(e),o=r(i,2),a=o[0],s=o[1];t.TIME_REGEXP.test(a[0])?this.parseAsTime(a,s):t.INFO_REGEXP.test(a[0])?this.parseAsInfo(a[0]):this.type=t.TYPE.INVALID}catch(e){this.type=t.TYPE.INVALID}}return i(t,null,[{key:"parseTags",value:function(e){e=e.trim();var n=t.TAGS_REGEXP.exec(e),r=n[0],i=e.substr(r.length);return[r.slice(1,-1).split(/\]\s*\[/),i]}}]),i(t,[{key:"parseAsTime",value:function(e,n){var r=[];e.forEach(function(e){var n=t.TIME_REGEXP.exec(e),i=parseFloat(n[1]),o=parseFloat(n[2].replace(/\s+/g,"").replace(":","."));r.push(60*i+o)}),this.timestamps=r,this.content=n.trim(),this.type=t.TYPE.TIME}},{key:"parseAsInfo",value:function(e){var n=t.INFO_REGEXP.exec(e);this.key=n[1].trim(),this.value=n[2].trim(),this.type=t.TYPE.INFO}}]),t}();o.TAGS_REGEXP=/^(\[.+\])+/,o.INFO_REGEXP=/^\s*(\w+)\s*:(.*)$/,o.TIME_REGEXP=/^\s*(\d+)\s*:\s*(\d+(\s*[\.:]\s*\d+)?)\s*$/,o.TYPE={INVALID:0,INFO:1,TIME:2},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(36),s=r(a),u=n(57),l=r(u),c=function(){function t(){i(this,t),this.info={},this.lyrics=[]}return o(t,[{key:"offset",value:function(t){this.lyrics.forEach(function(e){e.timestamp+=t,e.timestamp<0&&(e.timestamp=0)})}},{key:"toString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.combine=!("combine"in e)||e.combine,e.lineFormat="lineFormat"in e?e.lineFormat:"\r\n",e.sort=!("sort"in e)||e.sort;var n=[],r={},i=[];for(var o in this.info)n.push("["+o+":"+this.info[o]+"]");if(e.combine){this.lyrics.forEach(function(t){t.content in r?r[t.content].push(t.timestamp):r[t.content]=[t.timestamp]});for(var a in r)e.sort&&r[a].sort(),i.push({timestamps:r[a],content:a});e.sort&&i.sort(function(t,e){return t.timestamps[0]-e.timestamps[0]}),i.forEach(function(e){n.push("["+e.timestamps.map(function(e){return t.timestampToString(e)}).join("][")+"]"+(e.content||""))})}else this.lyrics.forEach(function(e){n.push("["+t.timestampToString(e.timestamp)+"]"+(e.content||""))});return n.join(e.lineFormat)}}],[{key:"parse",value:function(t){var e=[],n={};t.split(/\r\n|[\n\r]/g).map(function(t){return new l.default(t)}).forEach(function(t){switch(t.type){case l.default.TYPE.INFO:n[t.key]=t.value;break;case l.default.TYPE.TIME:t.timestamps.forEach(function(n){e.push({timestamp:n,content:t.content})})}});var r=new this;return r.lyrics=e,r.info=n,r}},{key:"checkLyricObject",value:function(t){return s.default.object(t)&&"timestamp"in t&&s.default.number(t.timestamp)&&"content"in t&&s.default.string(t.content)}},{key:"padZero",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?2:arguments[1];for(s.default.number(t)&&(t=t.toString());t.split(".")[0].length<e;)t="0"+t;return t}},{key:"timestampToString",value:function(t){return this.padZero(parseInt(t/60))+":"+this.padZero((t%60).toFixed(2))}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(58),s=r(a),u=n(60),l=r(u),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?new s.default:arguments[0],n=arguments.length<=1||void 0===arguments[1]||arguments[1];i(this,t),this.offset=n,this._currentIndex=-1,this.setLrc(e)}return o(t,[{key:"setLrc",value:function(t){this.lrc=(0,l.default)(t),this.lrcUpdate()}},{key:"lrcUpdate",value:function(){this.offset&&this._offsetAlign(),this._sort()}},{key:"_offsetAlign",value:function(){if("offset"in this.lrc.info){var t=parseInt(this.lrc.info.offset)/1e3;isNaN(t)||(this.lrc.offset(t),delete this.lrc.info.offset)}}},{key:"_sort",value:function(){this.lrc.lyrics.sort(function(t,e){return t.timestamp-e.timestamp})}},{key:"timeUpdate",value:function(t){this._currentIndex>=this.lrc.lyrics.length?this._currentIndex=this.lrc.lyrics.length-1:this._currentIndex<-1&&(this._currentIndex=-1),this._currentIndex=this._findIndex(t,this._currentIndex)}},{key:"_findIndex",value:function(t,e){var n=e==-1?Number.NEGATIVE_INFINITY:this.lrc.lyrics[e].timestamp,r=e==this.lrc.lyrics.length-1?Number.POSITIVE_INFINITY:this.lrc.lyrics[e+1].timestamp;return t<n?this._findIndex(t,e-1):t===r?r===Number.POSITIVE_INFINITY?e:e+1:t>r?this._findIndex(t,e+1):e}},{key:"getInfo",value:function(){return this.lrc.info}},{key:"getLyrics",value:function(){return this.lrc.lyrics}},{key:"getLyric",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.curIndex():arguments[0];if(t>=0&&t<=this.lrc.lyrics.length-1)return this.lrc.lyrics[t];throw new Error("Index not exist")}},{key:"curIndex",value:function(){return this._currentIndex}},{key:"curLyric",value:function(){return this.getLyric()}}]),t}();e.default=c},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o){function s(n,i){if(null===n)return null;if(0==i)return n;var u,d;if("object"!=typeof n)return n;if(t.__isArray(n))u=[];else if(t.__isRegExp(n))u=new RegExp(n.source,a(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(t.__isDate(n))u=new Date(n.getTime());else{if(f&&e.isBuffer(n))return u=new e(n.length),n.copy(u),u;"undefined"==typeof o?(d=Object.getPrototypeOf(n),u=Object.create(d)):(u=Object.create(o),d=o)}if(r){var p=l.indexOf(n);if(p!=-1)return c[p];l.push(n),c.push(u)}for(var h in n){var v;d&&(v=Object.getOwnPropertyDescriptor(d,h)),v&&null==v.set||(u[h]=s(n[h],i-1))}return u}var u;"object"==typeof r&&(i=r.depth,o=r.prototype,u=r.filter,r=r.circular);var l=[],c=[],f="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),s(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){var r,i;n(62),n(64),r=n(66);var o=n(72);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-eee4cabe",t.exports=r},function(t,e,n){var r=n(63);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"span[data-v-eee4cabe]{position:relative}",""])},function(t,e,n){var r=n(65);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".menu{display:inline-block;position:relative}.menu ul{list-style-type:none;margin:0;padding:0}.menu ul li{white-space:nowrap;height:25px;line-height:25px;text-align:left;background-color:#fff;color:#2a72bb;cursor:pointer}.menu ul li:hover{color:#2a72bb;background-color:#e8e1e1}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(67),o=r(i);e.default={data:function(){return{dir:!1}},components:{Tooltip:o.default}}},function(t,e,n){var r,i;n(68),r=n(70);var o=n(71);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(69);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".tooltip .wrap{padding:8px;position:fixed;z-index:100;background-color:#fff;color:#2a72bb;border-radius:8px;box-shadow:.5px .5px 3px .5px #ccc}.tooltip .wrap .arrow{position:absolute;width:0;height:0;display:block;margin:auto}.tooltip .wrap .arrow.left{top:0;bottom:0;right:-16px;border:8px solid transparent;border-left:8px solid #fff}.tooltip .wrap .arrow.right{top:0;bottom:0;left:-16px;border:8px solid transparent;border-right:8px solid #fff}.tooltip .wrap .arrow.top{left:0;right:0;bottom:-16px;border:8px solid transparent;border-top:8px solid #fff}.tooltip .wrap .arrow.bottom{left:0;right:0;top:-16px;border:8px solid transparent;border-bottom:8px solid #fff}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(37),a=r(o);e.default={data:function(){return{style:{top:0,left:0,visibility:"hidden"},show:!1,dir:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5},target:{type:Element,default:null}},mounted:function(){var t=this,e=null!==this.target?this.target:this.$el,n=new i.TooltipPosition(e,this.$refs.wrap),r=10,o=new i.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});o.hover(function(){var e=n.position();switch(t.dir=e.dir,t.dir){case"left":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left-r+"px"});break;case"right":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left+r+"px"});break;case"top":(0,a.default)(t.style,{top:e.rect.top-r+"px",left:e.rect.left+"px"});break;case"bottom":(0,a.default)(t.style,{top:e.rect.top+r+"px",left:e.rect.left+"px"});break;case!1:return}t.show=!0},function(){t.show=!1})},watch:{show:{immediate:!0,handler:function(){this.style.visibility=this.show?"visible":"hidden"}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("span",{staticClass:"tooltip"},[t._t("target")," ",t._h("div",{ref:"wrap",staticClass:"wrap",style:t.style},[t._h("div",{class:"arrow "+t.dir})," ",t._h("div",{staticClass:"content"},[t._t("content")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"menu"},[t._h("tooltip",{attrs:{dir:t.dir,target:t.$refs.menu,"enter-delay":0}},[t._h("div",{slot:"target"},[t._t("target")])," ",t._h("div",{slot:"content"},[t._t("list")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t.editing?t._h("ul",{staticClass:"editing lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{dblclick:function(e){t.edit(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.timestamp,expression:"lyric.timestamp"}],staticClass:"timestamp",attrs:{type:"text"},domProps:{value:t._s(e.timestamp)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.timestamp=t.target.value)}}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"lyric.content"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(e.content)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.content=t.target.value)}}})]:[t._h("div",{staticClass:"timestamp"},[t._s(t._f("time")(e.timestamp))])," ",t._h("div",{staticClass:"content"},[t._s(e.content)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.removeTimestamp(n)}}},[t._h("i",{staticClass:"icon-cancel"})," "+t._s(t.$t("lyric_editor.remove_timestamp"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.edit(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insert(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.remove(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"},on:{dblclick:function(e){t.editText(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingTextIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.lyricArray[n],expression:"lyricArray[i]"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(t.lyricArray[n])},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(e){if(!e.target.composing){var r=t.lyricArray,i=n;Array.isArray(r)?r.splice(i,1,e.target.value):t.lyricArray[n]=e.target.value}}}})]:[t._h("div",{staticClass:"content"},[t._s(e)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.editText(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insertText(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.removeText(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})]):t._h("ul",{staticClass:"lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{click:function(n){t.playto(e.timestamp)}}},["\n    "+t._s(e.content)+"\n  "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"}},["\n    "+t._s(e)+"\n  "])})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(75),n(77),r=n(79);var o=n(94);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-a14c96ea",t.exports=r},function(t,e,n){var r=n(76);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal .footer .btn-group[data-v-a14c96ea]:after,.modal .header[data-v-a14c96ea]:after{content:' ';display:table;clear:both}.cover[data-v-a14c96ea]{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.7);width:100%;height:100%;z-index:1000;overflow:auto}.modal[data-v-a14c96ea]{position:relative;margin:30px auto;background:#fff;border-radius:8px;overflow:hidden}.modal.lg[data-v-a14c96ea]{width:50%}.modal.md[data-v-a14c96ea]{width:70%}.modal.sm[data-v-a14c96ea]{width:90%}.modal .body[data-v-a14c96ea],.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-left:14px;padding-right:14px}.modal .body[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-top:14px;padding-bottom:14px}.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{color:#2a72bb}.modal .header[data-v-a14c96ea]{border-bottom:1px solid #e5e5e5;font-weight:bolder}.modal .header .icon-cancel[data-v-a14c96ea]{float:right;cursor:pointer}.modal .footer[data-v-a14c96ea]{border-top:1px solid #e5e5e5}.modal .footer .btn-group .btn[data-v-a14c96ea]{float:right;border-radius:0;background-color:transparent;color:#2a72bb;padding:8px 10px}.modal .footer .btn-group .btn[data-v-a14c96ea]:hover{background-color:rgba(0,0,0,.1)}",""])},function(t,e,n){var r=n(78);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal h3{margin:10px 0}.modal textarea{width:100%;border:1px solid #d6d6d6;border-radius:5px;min-height:300px;margin:10px 0}.modal p{margin:0}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),a=r(o),s=n(28),u=n(80),l=r(u),c=n(85),f=r(c),d=n(88),p=r(d),h=n(91),v=r(h),m={help:l.default,"lrc-format-upload":f.default,"lyric-upload":p.default,"lrc-save":v.default};window.MC=[],e.default={data:function(){return{title:"Modal",size:"md",confirm:!1,modalName:"",modalComponent:null,isShow:!1,coverShow:!1}},methods:{show:function(t){var e=this;return this.isShow=!0,this.coverShow=!0,this.$nextTick(function(){e.modalName=t,e.modalComponent=new a.default(i({},m[e.modalName])),e.modalComponent.$mount(e.$refs.modalWrapper),e.modalComponent.title&&(e.title=e.modalComponent.title),e.modalComponent.size&&(e.title=e.modalComponent.size),e.modalComponent.confirm&&(e.confirm=e.modalComponent.confirm)}),this},ok:function(){this.isShow=!1,this.modalComponent.$emit("ok"),this.modalComponent.$destroy()},cancel:function(){this.isShow=!1,this.modalComponent.$emit("cancel"),this.modalComponent.$destroy()}},mounted:function(){var t=this;s.globalKeydown.on("escape",function(){t.isShow&&t.cancel()})},components:{Help:l.default,LrcFormatUpload:f.default,LyricUpload:p.default,LrcSave:v.default}}},function(t,e,n){var r,i;n(81),r=n(83);var o=n(84);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-3f57c1d0",t.exports=r},function(t,e,n){var r=n(82);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".help[data-v-3f57c1d0]{color:#333}.help a[data-v-3f57c1d0],.help h3[data-v-3f57c1d0],.help h4[data-v-3f57c1d0]{color:#2a72bb}.help h3[data-v-3f57c1d0]{margin:5px 0}.help h4[data-v-3f57c1d0]{margin:0}.help a[data-v-3f57c1d0]{font-weight:bolder}.help ul[data-v-3f57c1d0]{list-style-type:none;padding:0 0 0 20px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),o=r(i);e.default={data:function(){return{PKG:o.default,title:this.$t("modal.help.title")}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"help"},[t._h("h3",[t._s(t.$t("modal.help.shortcut_key"))])," ",t._h("h4",[t._s(t.$t("modal.help.play_control.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.left_key"))+":"])," "+t._s(t.$t("modal.help.play_control.backward"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.right_key"))+":"])," "+t._s(t.$t("modal.help.play_control.forward"))])])," ",t._h("h4",[t._s(t.$t("modal.help.make_lrc.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.up_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.prev_lyric"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.down_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.next_lyric"))])])," ",t._h("div",{staticClass:"link"},[t._h("a",{attrs:{href:t.PKG.homepage,target:"_blank"}},[t._s(t.$t("modal.help.source_code"))+": github"])])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(86);var o=n(87);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i);e.default={data:function(){return{title:this.$t("modal.lrc_format_upload.title"),lyric:"",confirm:!0}},created:function(){var t=this;this.lyric=this.$App.lrcFormat,this.$on("ok",function(){t.$App.lrcFormat=t.lyric})},methods:{upload:function(t){this.lyric=t}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lrc_format_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{upload:t.upload}},[t._s(t.$t("modal.lrc_format_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(89);var o=n(90);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(49),s=r(a);e.default={data:function(){return{title:this.$t("modal.lyric_upload.title"),lyric:s.default.lyric,confirm:!0}},created:function(){var t=this;this.$on("ok",function(){t.$App.lyricArray=t.lyric.split(/\r\n|[\n\r]/g)})},methods:{upload:function(t){this.lyric=t}},watch:{lyric:function(t){s.default.lyric=t}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lyric_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{upload:t.upload}},[t._s(t.$t("modal.lyric_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(92);var o=n(93);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(49),a=r(o),s=n(43),u=r(s);e.default={data:function(){return{title:this.$t("modal.lrc_format_save.title"),lyric:"",userName:a.default.userName,saveOptions:{combine:!0,lineFormat:"\r\n",sort:!0},infoFields:[{key:"ti",label:this.$t("modal.lrc_format_save.fields.song_title")},{key:"ar",label:this.$t("modal.lrc_format_save.fields.artist")},{key:"al",label:this.$t("modal.lrc_format_save.fields.album")},{key:"au",label:this.$t("modal.lrc_format_save.fields.songtext_creator")}],info:{}}},mounted:function(){var t=this;this.runner=this.$App.runner;var e=this.$App.$refs.player,n={};this.infoFields.forEach(function(e){e.key in t.runner.lrc.info?n[e.key]=t.runner.lrc.info[e.key]:n[e.key]=""}),e.duration&&(n.length=(0,i.timestamp2timestr)(e.duration)),this.userName&&(n.by=this.userName),n.re=u.default.name+" ("+u.default.onlinePage+")",n.ve=u.default.version,this.info=n,this.lyricUpdate()},methods:{save:function(){(0,i.saveLrc)(this.runner.lrc.toString(this.saveOptions),this.runner.lrc.info.ti||"lyric")},infoUpdate:function(){for(var t in this.info)0!==this.info[t].length?this.runner.lrc.info[t]=this.info[t]:delete this.runner.lrc.info[t];this.lyricUpdate()},lyricUpdate:function(){this.lyric=this.runner.lrc.toString(this.saveOptions)}},watch:{userName:function(t){this.$set(this.info,"by",t),a.default.userName=t},lyric:function(){this.$App.lrcFormat=this.lyric},saveOptions:{deep:!0,handler:function(){this.lyricUpdate()}},info:{deep:!0,handler:function(){this.infoUpdate()}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("h3",[t._s(t.$t("modal.lrc_format_save.info_title"))])," ",t._l(t.infoFields,function(e){return e.label?t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-"+e.key},domProps:{textContent:t._s(e.label)}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.info[e.key],expression:"info[field.key]"}],attrs:{id:"info-"+e.key,type:"text"},domProps:{value:t._s(t.info[e.key])},on:{input:function(n){if(!n.target.composing){var r=t.info,i=e.key;Array.isArray(r)?r.splice(i,1,n.target.value):t.info[e.key]=n.target.value}}}})]):t._e()})," ",t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-by"}},[t._s(t.$t("modal.lrc_format_save.fields.lrc_creator"))])," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{id:"info-by",type:"text"},domProps:{value:t._s(t.userName)},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})])," ",t._h("h3",[t._s(t.$t("modal.lrc_format_save.save_title"))])," ",t._h("textarea",[t._s(t.lyric)])," ",t._h("label",["\n    "+t._s(t.$t("modal.lrc_format_save.combine"))+"\n    ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.saveOptions.combine,expression:"saveOptions.combine"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.saveOptions.combine)?t._i(t.saveOptions.combine,null)>-1:t._q(t.saveOptions.combine,!0)},on:{change:function(e){var n=t.saveOptions.combine,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i?a<0&&(t.saveOptions.combine=n.concat(o)):a>-1&&(t.saveOptions.combine=n.slice(0,a).concat(n.slice(a+1)))}else t.saveOptions.combine=i}}})])," ",t._h("div",{staticClass:"btn",on:{click:t.save}},[t._h("i",{staticClass:"icon-download"})," "+t._s(t.$t("modal.lrc_format_save.download"))+"\n  "])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{class:{cover:t.coverShow},on:{click:t.cancel}},[t._h("transition",{attrs:{name:"modal"},on:{"after-leave":function(e){t.coverShow=!1}}},[t.isShow?t._h("div",{staticClass:"modal",class:[t.size],on:{click:function(t){t.stopPropagation()}}},[t._h("div",{staticClass:"header"},["\n        "+t._s(t.title)+"\n        ",t._h("i",{staticClass:"icon-cancel",on:{click:t.cancel}})])," ",t._h("div",{staticClass:"body"},[t._h("div",{ref:"modalWrapper"})])," ",t._h("div",{staticClass:"footer"},[t.confirm?t._h("div",{staticClass:"btn-group"},[t._h("div",{staticClass:"btn",on:{click:t.ok}},[t._s(t.$t("modal.button.ok"))])," ",t._h("div",{staticClass:"btn",on:{click:t.cancel}},[t._s(t.$t("modal.button.cancel"))])]):t._e()])]):t._e()])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(96),n(98),r=n(100);var o=n(101);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-51eac06b",t.exports=r},function(t,e,n){var r=n(97);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".target[data-v-51eac06b]{position:relative;display:block;margin:-8px;padding:8px}",""])},function(t,e,n){var r=n(99);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".nav-menu .wrap{position:absolute;z-index:100;box-shadow:4px 4px 3px -2px #ccc}.nav-menu .wrap ul{list-style-type:none;padding:0;margin:0;background-color:#215991}.nav-menu .wrap ul li{padding:0 5px;cursor:pointer;line-height:30px;font-size:12px}.nav-menu .wrap ul li:hover{background-color:#173f68}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{dir:!1,style:{top:0,left:0},show:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5}},mounted:function(){var t=this,e=this.$refs.menu,n=new r.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});n.hover(function(){t.show=!0},function(){t.show=!1});var i=this.$el;this.style.top=i.style.clientHeight}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"nav-menu"},[t._h("span",{staticClass:"target"},[t._t("target")])," ",t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"wrap",style:t.style},[t._t("list")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"app"},[t._h("header",[t._h("div",{staticClass:"left"},[t._h("nav-menu",{staticClass:"menu-item",attrs:{title:t.$t("button.upload")}},[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-upload"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.$refs.modals.show("lrc-format-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lrc"))+"\n          "])," ",t._h("li",{on:{click:function(e){t.$refs.modals.show("lyric-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lyric"))+"\n          "])," ",t._h("li",[t._h("upload",{attrs:{accept:"audio/*","read-format":"url"},on:{upload:t.uploadMusic}},[t._s(t.$t("menu.upload.music"))])])])])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.save")},on:{click:function(e){t.$refs.modals.show("lrc-save")}}},[t._h("i",{staticClass:"icon-save"})])])," ",t._h("div",{staticClass:"right"},[t._h("div",{staticClass:"menu-item",attrs:{title:t.editing?t.$t("button.close_edit"):t.$t("button.open_edit")},on:{click:function(e){t.editing=!t.editing}}},[t.editing?[t._h("i",{staticClass:"icon-cancel"})]:[t._h("i",{staticClass:"icon-edit"})]," "])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.help")},on:{click:function(e){t.$refs.modals.show("help")}}},[t._h("i",{staticClass:"icon-help-circled"})])])])," ",t._h("player",{ref:"player",attrs:{src:t.musicUrl},on:{timeupdate:t.timeupdate}})," ",t._h("lyric-editor",{ref:"lyric",staticClass:"lyric-editor",attrs:{editing:t.editing,runner:t.runner,"lyric-array":t.lyricArray,playto:t.playto}},["\n    lyric editor\n  "])," ",t._h("footer",[t._h("div",{staticClass:"left"},[t._h("div",{staticClass:"menu-item",on:{click:t.removeLyric}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("button.remove_lyric"))+"\n      "])])," ",t.editing?t._h("div",{staticClass:"right"
},[t._h("div",{staticClass:"menu-item",attrs:{title:"[UP]"},on:{click:function(e){t.$refs.lyric.$emit("prevlyric")}}},[t._s(t.$t("button.prev_lyric"))])," ",t._h("div",{staticClass:"menu-item",attrs:{title:"[DOWN]"},on:{click:function(e){t.$refs.lyric.$emit("nextlyric")}}},[t._s(t.$t("button.next_lyric"))])]):t._e()])," ",t._h("modals",{ref:"modals"})])},staticRenderFns:[]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(104),s=r(a),u=n(105),l=r(u),c=(navigator.language||navigator.userLanguage||"en").toLocaleLowerCase();c in l.default||c.indexOf("-")>=0&&(c=c.split("-")[0]),o.default.use(s.default),o.default.config.lang=c,o.default.locale(c,l.default[c])},function(t,e,n){(function(e){/*!
	 * vue-i18n v4.7.3
	 * (c) 2016 kazuya kawaguchi
	 * Released under the MIT License.
	 */
"use strict";function n(t,e){window.console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function r(t,e){t.locale=function(t,r,o){return void 0===r?e.locales[t]:void(null===r?(e.locales[t]=void 0,delete e.locales[t]):i(t,r,function(r){r?e.locales[t]=r:n("failed set `"+t+"` locale"),o&&o()}))}}function i(t,e,n){var r=this;"object"===("undefined"==typeof e?"undefined":x.typeof(e))?n(e):!function(){var t=e.call(r);"function"==typeof t?t.resolved?n(t.resolved):t.requested?t.pendingCallbacks.push(n):!function(){t.requested=!0;var e=t.pendingCallbacks=[n];t(function(n){t.resolved=n;for(var r=0,i=e.length;r<i;r++)e[r](n)},function(){n()})}():o(t)&&t.then(function(t){n(t)},function(){n()}).catch(function(t){console.error(t),n()})}()}function o(t){return t&&"function"==typeof t.then}function a(t,e,n){function r(t){if(n>1)t.$forceUpdate();else for(var e=t._watchers.length;e--;)t._watchers[e].update(!0)}var i=t.prototype._init;t.prototype._init=function(t){var n=this;i.call(this,t),this.$parent||(this.$lang=e,this._langUnwatch=this.$lang.$watch("$data",function(t,e){r(n)},{deep:!0}))};var o=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this.$lang=null),o.apply(this,arguments)}}function s(t){if(!E){var e=t.$watch("__watcher__",function(t){});E=t._watchers[0].constructor,e()}return E}function u(t){return!k&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(k=t._data.__ob__.dep.constructor),k}function l(t,e,n){function r(t,e){var n=new o(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),a&&a.target&&n.depend(),n.value}}var i=t.util.bind,o=s(e),a=u(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:r(function(){return e.lang},e),set:i(function(t){e.lang=t},e)}),A=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return A},set:function(t){A=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return O},set:function(t){O=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return C},set:function(t){C=t}})}function c(t){return null===t||void 0===t}function f(t){function e(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return r=1===r.length&&"object"===x.typeof(r[0])?r[0]:{},r&&r.hasOwnProperty||(r={}),t.replace(D,function(e,i,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=n(r,o)?r[o]:e,c(s)?"":s)})}var n=t.util.hasOwn;return e}function d(t){return Y.test(t)}function p(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function h(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function v(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(d(e)?p(e):"*"+e)}function m(t){function e(){var e=t[r+1];if(i===M&&"'"===e||i===U&&'"'===e)return r++,s="\\"+e,p[$](),!0}var n=[],r=-1,i=N,o=0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=[];for(p[F]=function(){void 0!==u&&(n.push(u),u=void 0)},p[$]=function(){void 0===u?u=s:u+=s},p[P]=function(){p[$](),o++},p[S]=function(){if(o>0)o--,i=I,p[$]();else{if(o=0,u=v(u),u===!1)return!1;p[F]()}};null!=i;)if(r++,a=t[r],"\\"!==a||!e()){if(l=h(a),d=z[i],c=d[l]||d.else||V,c===V)return;if(i=c[0],f=p[c[1]],f&&(s=c[2],s=void 0===s?a:s,f()===!1))return;if(i===B)return n.raw=t,n}}function y(t){var e=T[t];return e||(e=m(t),e&&(T[t]=e)),e}function g(t){function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(o(t))for(var e in t)if(a(t,e))return!1;return!0}function n(t,n){if(!i(t))return null;var r=y(n);if(e(r))return null;for(var o=r.length,a=null,s=t,u=0;u<o;){var l=s[r[u]];if(void 0===l){s=null;break}s=l,u++}return a=s}var r=t.util,i=r.isObject,o=r.isPlainObject,a=r.hasOwn;return n}function _(t){function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.config.lang,o=t.config.fallbackLang;return 1===n.length?v(n[0])||Array.isArray(n[0])?n=n[0]:"string"==typeof n[0]&&(i=n[0]):2===n.length&&("string"==typeof n[0]&&(i=n[0]),(v(n[1])||Array.isArray(n[1]))&&(n=n[1])),{lang:i,fallback:o,params:n}}function i(e,n,r){if(!e)return null;var o=_(e,n);if(Array.isArray(o))return o;if(c(o)&&(o=e[n]),c(o))return null;if(o.indexOf("@:")>=0){var a=o.match(/(@:[\w|.]+)/g);for(var s in a){var u=a[s],l=u.substr(2),f=i(e,l,r);o=o.replace(u,f)}}return r?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[o].concat(r)):y(o,r):o}function o(t,r,o,a,s){var u=null;return u=i(t(r),a,s),c(u)?(u=i(t(o),a,s),c(u)?null:("production"!==e.env.NODE_ENV&&n('Fall back to translate the keypath "'+a+'" with "'+o+'" language.'),u)):u}function a(r,i,o,a){return c(a)?("production"!==e.env.NODE_ENV&&n('Cannot translate the value of keypath "'+i+'". Use the value of keypath as default'),t.config.missingHandler&&t.config.missingHandler.apply(null,[r,i,o]),i):a}function s(e){return t.locale(e)}function u(t){return this.$options.locales[t]}function l(t){return t?t>1?1:0:1}function d(t,e){return t=Math.abs(t),2===e?l(t):t?Math.min(t,2):0}function p(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=d(e,n.length),n[e]?n[e].trim():t}var h=t.util,v=h.isObject,m=h.bind,y=f(t),_=g(t);return t.t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!t)return"";var u=r.apply(void 0,n),l=u.lang,c=u.fallback,f=u.params;return a(l,t,null,o(s,l,c,t,f))},t.tc=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return p(t.t.apply(t,[e].concat(i)),n)},t.prototype.$t=function(t){if(!t)return"";for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var l=r.apply(void 0,n),c=l.lang,f=l.fallback,d=l.params,p=null;return this.$options.locales&&(p=o(m(u,this),c,f,t,d))?p:a(c,t,this,o(s,c,f,t,d))},t.prototype.$tc=function(t,e){if("number"!=typeof e&&"undefined"!=typeof e)return t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return p(this.$t.apply(this,[t].concat(r)),e)},t}function b(t){var i=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t.version&&Number(t.version.split(".")[0])||-1);if("production"!==e.env.NODE_ENV&&b.installed)return void n("already installed.");if("production"!==e.env.NODE_ENV&&i<1)return void n("vue-i18n ("+b.version+") need to use vue version 1.0 or later (vue version: "+t.version+").");var o="en";w(t,o),r(t,H),a(t,H,i),l(t,H,o),_(t)}function w(t,e){var n=t.config.silent;t.config.silent=!0,H||(H=new t({data:{lang:e,locales:{}}})),t.config.silent=n}var x={};x.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var E=void 0,k=void 0,A=void 0,O=null,C=null,D=/(%|)\{([0-9a-zA-Z_]+)\}/g,T=Object.create(null),$=0,F=1,P=2,S=3,N=0,j=1,R=2,L=3,I=4,M=5,U=6,B=7,V=8,z=[];z[N]={ws:[N],ident:[L,$],"[":[I],eof:[B]},z[j]={ws:[j],".":[R],"[":[I],eof:[B]},z[R]={ws:[R],ident:[L,$]},z[L]={ident:[L,$],0:[L,$],number:[L,$],ws:[j,F],".":[R,F],"[":[I,F],eof:[B,F]},z[I]={"'":[M,$],'"':[U,$],"[":[I,P],"]":[j,S],eof:V,else:[I,$]},z[M]={"'":[I,$],eof:V,else:[M,$]},z[U]={'"':[I,$],eof:V,else:[U,$]};var Y=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,H=void 0;b.version="4.7.3","undefined"!=typeof window&&window.Vue&&window.Vue.use(b),t.exports=b}).call(e,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};["en","zh"].forEach(function(t){r[t]=n(106)("./"+t)}),e.default=r},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./en":107,"./en.yml":107,"./index":105,"./index.js":105,"./zh":108,"./zh.yml":108};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=106},function(t,e){t.exports={button:{upload:"upload",save:"save",close_edit:"close edit",open_edit:"open edit",help:"help",lrc_info:"info",remove_lyric:"remove lyric",prev_lyric:"prev lyric",next_lyric:"next lyric"},menu:{upload:{lrc:"LRC format lyric",lyric:"lyric text",music:"music"}},modal:{lrc_format_save:{title:"Lyrics Save",info_title:"Lyrics Info",fields:{song_title:"Sone Title",artist:"Artist",album:"Album",songtext_creator:"Songtext Creator",lrc_creator:"LRC Creator"},save_title:"Lyrics",combine:"combine lyrics",download:"lyrics file download"},lrc_format_upload:{title:"Upload LRC Format",description:"Upload timestamped lyrics",upload:"Read from file"},lyric_upload:{title:"Upload Text Lyrics",description:"Plain Text lyrics, lyrics divided by a newline",upload:"Read from file"},help:{title:"Help",shortcut_key:"shortcut key",play_control:{title:"play control",left_key:"<Left>",right_key:"<Right>",backward:"backward",forward:"forward"},make_lrc:{title:"make lrc",up_key:"<Up>",down_key:"<Down>",prev_lyric:"prev lyric",next_lyric:"next lyric"},source_code:"source code"},button:{ok:"ok",cancel:"cancel"}},lyric_editor:{edit:"edit",add:"add",remove:"remove",remove_timestamp:"remove timestamp",play_to_this_lyric:"play to this lyric",following_unsorted:"The following unsorted"}}},function(t,e){t.exports={button:{upload:"",save:"",close_edit:"",open_edit:"",help:"",lrc_info:"",remove_lyric:"",prev_lyric:"",next_lyric:""},menu:{upload:{lrc:"LRC",lyric:"",music:""}},modal:{lrc_format_save:{title:"",info_title:"",fields:{song_title:"",artist:"",album:"",songtext_creator:"",lrc_creator:"LRC "},save_title:"",combine:"",download:""},lrc_format_upload:{title:"LRC",description:"",upload:""},lyric_upload:{title:"",description:"",upload:""},help:{title:"",shortcut_key:"",play_control:{title:"",left_key:"<Left>",right_key:"<Right>",backward:"",forward:""},make_lrc:{title:"",up_key:"<Up>",down_key:"<Down>",prev_lyric:"",next_lyric:""},source_code:""},button:{ok:"",cancel:""}},lyric_editor:{edit:"",add:"",remove:"",remove_timestamp:"",play_to_this_lyric:"",following_unsorted:""}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZTA4NmE2NTY0MmU4ZGI1MzNiOTIiLCJ3ZWJwYWNrOi8vLy4vbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi4vfi92dWUvZGlzdC92dWUucnVudGltZS5jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL2luZGV4LnZ1ZT81NzIwIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWU/OGFjOSIsIndlYnBhY2s6Ly8vLi4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvc2Fzcy9mb250ZWxsby9jc3MvZm9udGVsbG8uY3NzIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uZW90Iiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8ud29mZjIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8udHRmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uc3ZnIiwid2VicGFjazovLy8uLi9+L3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWU/ZjBiMSIsIndlYnBhY2s6Ly8vLi9hcHAvdXBsb2FkLnZ1ZT84NzI3Iiwid2VicGFjazovLy91cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC91cGxvYWQudnVlPzMxNmEiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/N2VmOSIsIndlYnBhY2s6Ly8vLi9hcHAvcGxheWVyLnZ1ZT9hOTI0Iiwid2VicGFjazovLy9wbGF5ZXIudnVlIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3JhbmdlLnZ1ZT8xNjMwIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWU/MjA2MCIsIndlYnBhY2s6Ly8vcmFuZ2UudnVlIiwid2VicGFjazovLy8uL3V0aWxzLmpzIiwid2VicGFjazovLy8uLi9+L2V2ZW50ZW1pdHRlcjIvbGliL2V2ZW50ZW1pdHRlcjIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vZmlsZXNhdmVyLmpzL0ZpbGVTYXZlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi93ZWJwYWNrL2J1aWxkaW4vYW1kLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi93ZWJwYWNrL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vdW5pZHJhZ2dlci91bmlkcmFnZ2VyLmpzIiwid2VicGFjazovLy8uLi9+L3VuaXBvaW50ZXIvdW5pcG9pbnRlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ldi1lbWl0dGVyL2V2LWVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vaXNfanMvaXMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vZXh0ZW5kL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9+L2Nsb25lL2Nsb25lLmpzIiwid2VicGFjazovLy8uLi9+L2J1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL3JhbmdlLnZ1ZT9kZmFmIiwid2VicGFjazovLy8uL2FwcC90aW1lLXBhbmVsLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvdGltZS1wYW5lbC52dWU/MzMwNiIsIndlYnBhY2s6Ly8vLi9hcHAvdGltZS1wYW5lbC52dWU/NzM4ZSIsIndlYnBhY2s6Ly8vdGltZS1wYW5lbC52dWUiLCJ3ZWJwYWNrOi8vLy4vY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RpbWUtcGFuZWwudnVlP2QwMjMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/OWNhNSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZT8xYTg2Iiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlP2ViNzAiLCJ3ZWJwYWNrOi8vL2x5cmljLWVkaXRvci52dWUiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvbHJjLWtpdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9scmMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzIiwid2VicGFjazovLy8uLi9+L2xyYy1raXQvfi9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/NWEwOCIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlPzc5MWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT81OWRiIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/YzA5OSIsIndlYnBhY2s6Ly8vdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90b29sdGlwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/NTliZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/YTViZCIsIndlYnBhY2s6Ly8vdG9vbHRpcC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Rvb2x0aXAudnVlPzA0MTIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT9lNWYyIiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlPzYwM2QiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/Zjc3NiIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZT82OTg1Iiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvaW5kZXgudnVlPzU3ZDgiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/MmEyZCIsIndlYnBhY2s6Ly8vaW5kZXgudnVlPzc0ODEiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2hlbHAudnVlPzcwMWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZT9hMzJjIiwid2VicGFjazovLy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2hlbHAudnVlPzk0MDkiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9scmMtZm9ybWF0LXVwbG9hZC52dWUiLCJ3ZWJwYWNrOi8vL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZT80MGExIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHlyaWMtdXBsb2FkLnZ1ZSIsIndlYnBhY2s6Ly8vbHlyaWMtdXBsb2FkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2x5cmljLXVwbG9hZC52dWU/ZDE1NiIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2xyYy1zYXZlLnZ1ZSIsIndlYnBhY2s6Ly8vbHJjLXNhdmUudnVlIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHJjLXNhdmUudnVlPzFhNDciLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/Mzk4OCIsIndlYnBhY2s6Ly8vLi9hcHAvbmF2LW1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWU/OTRiMSIsIndlYnBhY2s6Ly8vLi9hcHAvbmF2LW1lbnUudnVlP2EyYTQiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT9mYzQzIiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWU/ODY3YyIsIndlYnBhY2s6Ly8vbmF2LW1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWU/ZDY4MCIsIndlYnBhY2s6Ly8vLi9hcHAvaW5kZXgudnVlP2FhYjAiLCJ3ZWJwYWNrOi8vLy4vaTE4bi5qcyIsIndlYnBhY2s6Ly8vLi4vfi92dWUtaTE4bi9kaXN0L3Z1ZS1pMThuLmNvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9sb2NhbGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL2xvY2FsZXMgXlxcLlxcLy4qJCIsIndlYnBhY2s6Ly8vLi9sb2NhbGVzL2VuLnltbCIsIndlYnBhY2s6Ly8vLi9sb2NhbGVzL3poLnltbCJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfdnVlIiwiX3Z1ZTIiLCJfYXBwIiwiX2FwcDIiLCJyb290IiwiZWwiLCJyZW5kZXIiLCJoIiwicmVmIiwicHJvdG90eXBlIiwiJEFwcCIsIiRyZWZzIiwiYXBwIiwiZ2xvYmFsIiwicHJvY2VzcyIsIl90b1N0cmluZyIsInZhbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJ0b051bWJlciIsIm4iLCJwYXJzZUZsb2F0IiwibWFrZU1hcCIsInN0ciIsImV4cGVjdHNMb3dlckNhc2UiLCJtYXAiLCJPYmplY3QiLCJjcmVhdGUiLCJsaXN0Iiwic3BsaXQiLCJpIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJyZW1vdmUkMSIsImFyciIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJoYXNPd24iLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJpbWl0aXZlIiwidmFsdWUiLCJjYWNoZWQiLCJmbiIsImNhY2hlIiwiaGl0IiwiYmluZCQxIiwiY3R4IiwiYm91bmRGbiIsImEiLCJsIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbGVuZ3RoIiwidG9BcnJheSIsInN0YXJ0IiwicmV0IiwiQXJyYXkiLCJleHRlbmQiLCJ0byIsIl9mcm9tIiwiaXNPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidG9TdHJpbmciLCJPQkpFQ1RfU1RSSU5HIiwidG9PYmplY3QiLCJyZXMiLCJub29wIiwiZ2VuU3RhdGljS2V5cyIsInJlZHVjZSIsImtleXMiLCJjb25jYXQiLCJzdGF0aWNLZXlzIiwiam9pbiIsImxvb3NlRXF1YWwiLCJiIiwibG9vc2VJbmRleE9mIiwiaXNSZXNlcnZlZCIsImNoYXJDb2RlQXQiLCJkZWYiLCJlbnVtZXJhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInBhcnNlUGF0aCIsInBhdGgiLCJiYWlsUkUiLCJ0ZXN0Iiwic2VnbWVudHMiLCJpc05hdGl2ZSIsIkN0b3IiLCJwdXNoVGFyZ2V0IiwiX3RhcmdldCIsIkRlcCIsInRhcmdldCIsInRhcmdldFN0YWNrIiwicHVzaCIsInBvcFRhcmdldCIsInBvcCIsInByb3RvQXVnbWVudCIsInNyYyIsIl9fcHJvdG9fXyIsImNvcHlBdWdtZW50Iiwib2JzZXJ2ZSIsIm9iIiwiX19vYl9fIiwiT2JzZXJ2ZXIiLCJvYnNlcnZlclN0YXRlIiwic2hvdWxkQ29udmVydCIsImlzU2VydmVyUmVuZGVyaW5nIiwiaXNBcnJheSIsImlzRXh0ZW5zaWJsZSIsIl9pc1Z1ZSIsImRlZmluZVJlYWN0aXZlJCQxIiwiY3VzdG9tU2V0dGVyIiwiZGVwIiwicHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXR0ZXIiLCJnZXQiLCJzZXR0ZXIiLCJzZXQiLCJjaGlsZE9iIiwiZGVwZW5kIiwiZGVwZW5kQXJyYXkiLCJuZXdWYWwiLCJlbnYiLCJOT0RFX0VOViIsIm5vdGlmeSIsIk1hdGgiLCJtYXgiLCJ2bUNvdW50Iiwid2FybiIsImRlbCIsImUiLCJtZXJnZURhdGEiLCJmcm9tIiwidG9WYWwiLCJmcm9tVmFsIiwibWVyZ2VIb29rIiwicGFyZW50VmFsIiwiY2hpbGRWYWwiLCJtZXJnZUFzc2V0cyIsImNoZWNrQ29tcG9uZW50cyIsIm9wdGlvbnMiLCJjb21wb25lbnRzIiwibG93ZXIiLCJpc0J1aWx0SW5UYWciLCJjb25maWciLCJpc1Jlc2VydmVkVGFnIiwibm9ybWFsaXplUHJvcHMiLCJwcm9wcyIsIm5hbWUiLCJjYW1lbGl6ZSIsInR5cGUiLCJub3JtYWxpemVEaXJlY3RpdmVzIiwiZGlycyIsImRpcmVjdGl2ZXMiLCJiaW5kIiwidXBkYXRlIiwibWVyZ2VPcHRpb25zIiwicGFyZW50IiwiY2hpbGQiLCJ2bSIsIm1lcmdlRmllbGQiLCJzdHJhdCIsInN0cmF0cyIsImRlZmF1bHRTdHJhdCIsImV4dGVuZHNGcm9tIiwiZXh0ZW5kcyIsIm1peGlucyIsIm1peGluIiwiVnVlJDIiLCJyZXNvbHZlQXNzZXQiLCJ3YXJuTWlzc2luZyIsImFzc2V0cyIsImNhcGl0YWxpemUiLCJzbGljZSIsInZhbGlkYXRlUHJvcCIsInByb3BPcHRpb25zIiwicHJvcHNEYXRhIiwicHJvcCIsImFic2VudCIsImlzQm9vbGVhblR5cGUiLCJoeXBoZW5hdGUiLCJ1bmRlZmluZWQiLCJnZXRQcm9wRGVmYXVsdFZhbHVlIiwicHJldlNob3VsZENvbnZlcnQiLCJhc3NlcnRQcm9wIiwiJG9wdGlvbnMiLCJGdW5jdGlvbiIsInJlcXVpcmVkIiwidmFsaWQiLCJleHBlY3RlZFR5cGVzIiwiYXNzZXJ0ZWRUeXBlIiwiYXNzZXJ0VHlwZSIsImV4cGVjdGVkVHlwZSIsInZhbGlkYXRvciIsImdldFR5cGUiLCJtYXRjaCIsImxlbiIsInJlc2V0U2NoZWR1bGVyU3RhdGUiLCJxdWV1ZSIsImhhcyQxIiwiY2lyY3VsYXIiLCJ3YWl0aW5nIiwiZmx1c2hpbmciLCJmbHVzaFNjaGVkdWxlclF1ZXVlIiwic29ydCIsIndhdGNoZXIiLCJydW4iLCJfbWF4VXBkYXRlQ291bnQiLCJ1c2VyIiwiZGV2dG9vbHMiLCJlbWl0IiwicXVldWVXYXRjaGVyIiwibmV4dFRpY2siLCJ0cmF2ZXJzZSIsInNlZW5PYmplY3RzIiwiY2xlYXIiLCJfdHJhdmVyc2UiLCJzZWVuIiwiaXNBIiwiZGVwSWQiLCJoYXMiLCJhZGQiLCJpbml0U3RhdGUiLCJfd2F0Y2hlcnMiLCJpbml0UHJvcHMiLCJpbml0RGF0YSIsImluaXRDb21wdXRlZCIsImluaXRNZXRob2RzIiwiaW5pdFdhdGNoIiwiX3Byb3BLZXlzIiwiaXNSb290IiwiJHBhcmVudCIsImxvb3AiLCJpc1Jlc2VydmVkUHJvcCIsImlzU2V0dGluZ1Byb3BzIiwiZGF0YSIsIl9kYXRhIiwicHJveHkiLCJjb21wdXRlZCIsInVzZXJEZWYiLCJjb21wdXRlZFNoYXJlZERlZmluaXRpb24iLCJtYWtlQ29tcHV0ZWRHZXR0ZXIiLCJvd25lciIsIldhdGNoZXIiLCJsYXp5IiwiZGlydHkiLCJldmFsdWF0ZSIsIm1ldGhvZHMiLCJ3YXRjaCIsImhhbmRsZXIiLCJjcmVhdGVXYXRjaGVyIiwiJHdhdGNoIiwic3RhdGVNaXhpbiIsIlZ1ZSIsImRhdGFEZWYiLCJ0aGlzIiwibmV3RGF0YSIsIiRzZXQiLCIkZGVsZXRlIiwiZXhwT3JGbiIsImNiIiwiaW1tZWRpYXRlIiwidGVhcmRvd24iLCJjbG9uZVZOb2RlIiwidm5vZGUiLCJjbG9uZWQiLCJWTm9kZSIsInRhZyIsImNoaWxkcmVuIiwidGV4dCIsImVsbSIsIm5zIiwiY29udGV4dCIsImNvbXBvbmVudE9wdGlvbnMiLCJpc1N0YXRpYyIsImlzQ2xvbmVkIiwiY2xvbmVWTm9kZXMiLCJ2bm9kZXMiLCJtZXJnZVZOb2RlSG9vayIsImhvb2tLZXkiLCJob29rIiwiaW5qZWN0ZWRIYXNoIiwiX19pbmplY3RlZCIsIm9sZEhvb2siLCJ1cGRhdGVMaXN0ZW5lcnMiLCJvbiIsIm9sZE9uIiwicmVtb3ZlJCQxIiwiY3VyIiwib2xkIiwiZXZlbnQiLCJjYXB0dXJlIiwiY2hhckF0IiwiaW52b2tlciIsImFyckludm9rZXIiLCJmbkludm9rZXIiLCJldiIsImFyZ3VtZW50cyQxIiwic2luZ2xlIiwibyIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwibmVzdGVkSW5kZXgiLCJjcmVhdGVUZXh0Vk5vZGUiLCJsYXN0IiwiYXBwbHlOUyIsImdldEZpcnN0Q29tcG9uZW50Q2hpbGQiLCJmaWx0ZXIiLCJpbml0TGlmZWN5Y2xlIiwiYWJzdHJhY3QiLCIkY2hpbGRyZW4iLCIkcm9vdCIsIl93YXRjaGVyIiwiX2luYWN0aXZlIiwiX2lzTW91bnRlZCIsIl9pc0Rlc3Ryb3llZCIsIl9pc0JlaW5nRGVzdHJveWVkIiwibGlmZWN5Y2xlTWl4aW4iLCJfbW91bnQiLCJoeWRyYXRpbmciLCIkZWwiLCJlbXB0eVZOb2RlIiwidGVtcGxhdGUiLCJjYWxsSG9vayIsIl91cGRhdGUiLCJfcmVuZGVyIiwiJHZub2RlIiwicHJldkVsIiwicHJldkFjdGl2ZUluc3RhbmNlIiwiYWN0aXZlSW5zdGFuY2UiLCJwcmV2Vm5vZGUiLCJfdm5vZGUiLCJfX3BhdGNoX18iLCJfX3Z1ZV9fIiwiX3VwZGF0ZUZyb21QYXJlbnQiLCJsaXN0ZW5lcnMiLCJwYXJlbnRWbm9kZSIsInJlbmRlckNoaWxkcmVuIiwiaGFzQ2hpbGRyZW4iLCJfcmVuZGVyQ2hpbGRyZW4iLCJfcGFyZW50Vm5vZGUiLCJwcm9wS2V5cyIsIm9sZExpc3RlbmVycyIsIl9wYXJlbnRMaXN0ZW5lcnMiLCJfdXBkYXRlTGlzdGVuZXJzIiwiJHNsb3RzIiwicmVzb2x2ZVNsb3RzIiwiX3JlbmRlckNvbnRleHQiLCIkZm9yY2VVcGRhdGUiLCIkZGVzdHJveSIsIiRvZmYiLCJoYW5kbGVycyIsImoiLCIkZW1pdCIsImNyZWF0ZUNvbXBvbmVudCIsImJhc2VDdG9yIiwiX2Jhc2UiLCJjaWQiLCJyZXNvbHZlZCIsInJlc29sdmVBc3luY0NvbXBvbmVudCIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJleHRyYWN0UHJvcHMiLCJmdW5jdGlvbmFsIiwiY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCIsIm5hdGl2ZU9uIiwibWVyZ2VIb29rcyIsImNyZWF0ZUVsZW1lbnQiLCJfc2VsZiIsInNsb3RzIiwiZnVuY3Rpb25hbENvbnRleHQiLCJzbG90IiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSIsInZub2RlQ29tcG9uZW50T3B0aW9ucyIsIl9pc0NvbXBvbmVudCIsIl9jb21wb25lbnRUYWciLCJpbmxpbmVUZW1wbGF0ZSIsInN0YXRpY1JlbmRlckZucyIsImluaXQiLCIkbW91bnQiLCJrZWVwQWxpdmUiLCJtb3VudGVkTm9kZSIsInByZXBhdGNoIiwib2xkVm5vZGUiLCJpbnNlcnQiLCJkZXN0cm95JDEiLCJmYWN0b3J5IiwicmVxdWVzdGVkIiwiY2JzIiwicGVuZGluZ0NhbGxiYWNrcyIsInN5bmMiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhc29uIiwidGhlbiIsImF0dHJzIiwiZG9tUHJvcHMiLCJhbHRLZXkiLCJjaGVja1Byb3AiLCJoYXNoIiwicHJlc2VydmUiLCJob29rc1RvTWVyZ2UiLCJmcm9tUGFyZW50Iiwib3VycyIsImhvb2tzIiwibWVyZ2VIb29rJDEiLCJfIiwiX18iLCJfY3JlYXRlRWxlbWVudCIsInNjb3BlZFNsb3RzIiwiZ2V0VGFnTmFtZXNwYWNlIiwiY2hpbGROcyIsImluaXRSZW5kZXIiLCJfc3RhdGljVHJlZXMiLCIkc2NvcGVkU2xvdHMiLCIkY3JlYXRlRWxlbWVudCIsInJlbmRlck1peGluIiwibWFya1N0YXRpYyIsInRyZWUiLCJpc09uY2UiLCJtYXJrU3RhdGljTm9kZSIsIm5vZGUiLCIkbmV4dFRpY2siLCJfcmVuZGVyUHJveHkiLCJmb3JtYXRDb21wb25lbnROYW1lIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIiwiX2giLCJfcyIsIl9uIiwiX2UiLCJfcSIsIl9pIiwiX20iLCJpc0luRm9yIiwiX28iLCJpZGVudGl0eSIsIl9mIiwiX2wiLCJfdCIsImZhbGxiYWNrIiwic2NvcGVkU2xvdEZuIiwic2xvdE5vZGVzIiwiX3JlbmRlcmVkIiwiX2IiLCJhc1Byb3AiLCJtdXN0VXNlUHJvcCIsIl9rIiwia2V5Q29kZXMiLCJkZWZhdWx0U2xvdCIsImlzQ29tbWVudCIsImluaXRFdmVudHMiLCJfZXZlbnRzIiwiJG9uIiwib2ZmIiwiZXZlbnRzTWl4aW4iLCIkb25jZSIsImFyZ3MiLCJpbml0TWl4aW4iLCJfaW5pdCIsIl91aWQiLCJ1aWQiLCJpbml0SW50ZXJuYWxDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImluaXRQcm94eSIsIm9wdHMiLCJzdXBlciIsInN1cGVyT3B0aW9ucyIsImNhY2hlZFN1cGVyT3B0aW9ucyIsImV4dGVuZE9wdGlvbnMiLCJfc2NvcGVJZCIsImluaXRVc2UiLCJ1c2UiLCJwbHVnaW4iLCJpbnN0YWxsZWQiLCJ1bnNoaWZ0IiwiaW5zdGFsbCIsImluaXRNaXhpbiQxIiwiaW5pdEV4dGVuZCIsIlN1cGVyIiwiU3VwZXJJZCIsImNhY2hlZEN0b3JzIiwiX0N0b3IiLCJTdWIiLCJfYXNzZXRUeXBlcyIsImZvckVhY2giLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJkZWZpbml0aW9uIiwibWF0Y2hlcyIsInBhdHRlcm4iLCJpbml0R2xvYmFsQVBJIiwiY29uZmlnRGVmIiwidXRpbCIsImRlbGV0ZSIsImJ1aWx0SW5Db21wb25lbnRzIiwiZ2VuQ2xhc3NGb3JWbm9kZSIsInBhcmVudE5vZGUiLCJjaGlsZE5vZGUiLCJtZXJnZUNsYXNzRGF0YSIsImdlbkNsYXNzRnJvbURhdGEiLCJzdGF0aWNDbGFzcyIsImNsYXNzIiwiZHluYW1pY0NsYXNzIiwic3RyaW5naWZ5Q2xhc3MiLCJzdHJpbmdpZmllZCIsImlzU1ZHIiwiaXNVbmtub3duRWxlbWVudCIsImluQnJvd3NlciIsInVua25vd25FbGVtZW50Q2FjaGUiLCJkb2N1bWVudCIsIndpbmRvdyIsIkhUTUxVbmtub3duRWxlbWVudCIsIkhUTUxFbGVtZW50IiwicXVlcnkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50JDEiLCJ0YWdOYW1lIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudE5TIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlTWFwIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVDb21tZW50IiwiaW5zZXJ0QmVmb3JlIiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwibmV4dFNpYmxpbmciLCJzZXRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiY2hpbGROb2RlcyIsInJlZ2lzdGVyUmVmIiwiaXNSZW1vdmFsIiwicmVmcyIsInJlZkluRm9yIiwiaXNVbmRlZiIsInMiLCJpc0RlZiIsInNhbWVWbm9kZSIsInZub2RlMSIsInZub2RlMiIsImNyZWF0ZUtleVRvT2xkSWR4IiwiYmVnaW5JZHgiLCJlbmRJZHgiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwiYmFja2VuZCIsImVtcHR5Tm9kZUF0Iiwibm9kZU9wcyIsImNyZWF0ZVJtQ2IiLCJjaGlsZEVsbSIsInJlbW92ZUVsZW1lbnQiLCJjcmVhdGVFbG0iLCJpbnNlcnRlZFZub2RlUXVldWUiLCJuZXN0ZWQiLCJpc1Jvb3RJbnNlcnQiLCJpbml0Q29tcG9uZW50IiwiaWdub3JlZEVsZW1lbnRzIiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwiaXNQYXRjaGFibGUiLCJpJDEiLCJlbXB0eU5vZGUiLCJwZW5kaW5nSW5zZXJ0IiwiYWRkVm5vZGVzIiwicGFyZW50RWxtIiwiYmVmb3JlIiwic3RhcnRJZHgiLCJpbnZva2VEZXN0cm95SG9vayIsImRlc3Ryb3kiLCJyZW1vdmVWbm9kZXMiLCJjaCIsInJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2siLCJybSIsInJlbW92ZSIsInVwZGF0ZUNoaWxkcmVuIiwib2xkQ2giLCJuZXdDaCIsInJlbW92ZU9ubHkiLCJvbGRLZXlUb0lkeCIsImlkeEluT2xkIiwiZWxtVG9Nb3ZlIiwib2xkU3RhcnRJZHgiLCJuZXdTdGFydElkeCIsIm9sZEVuZElkeCIsIm9sZFN0YXJ0Vm5vZGUiLCJvbGRFbmRWbm9kZSIsIm5ld0VuZElkeCIsIm5ld1N0YXJ0Vm5vZGUiLCJuZXdFbmRWbm9kZSIsImNhbk1vdmUiLCJwYXRjaFZub2RlIiwiaGFzRGF0YSIsInBvc3RwYXRjaCIsImludm9rZUluc2VydEhvb2siLCJpbml0aWFsIiwiaHlkcmF0ZSIsImFzc2VydE5vZGVNYXRjaCIsImNoaWxkcmVuTWF0Y2giLCJiYWlsZWQiLCJob29rcyQxIiwiaXNJbml0aWFsUGF0Y2giLCJpc1JlYWxFbGVtZW50Iiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhbmNlc3RvciIsInVwZGF0ZURpcmVjdGl2ZXMiLCJvbGREaXIiLCJkaXIiLCJpc0NyZWF0ZSIsIm9sZERpcnMiLCJub3JtYWxpemVEaXJlY3RpdmVzJDEiLCJuZXdEaXJzIiwiZGlyc1dpdGhJbnNlcnQiLCJkaXJzV2l0aFBvc3RwYXRjaCIsIm9sZFZhbHVlIiwiY2FsbEhvb2skMSIsImNvbXBvbmVudFVwZGF0ZWQiLCJpbnNlcnRlZCIsImNhbGxJbnNlcnQiLCJtb2RpZmllcnMiLCJlbXB0eU1vZGlmaWVycyIsImdldFJhd0Rpck5hbWUiLCJyYXdOYW1lIiwidXBkYXRlQXR0cnMiLCJvbGRBdHRycyIsInNldEF0dHIiLCJpc1hsaW5rIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJ4bGlua05TIiwiZ2V0WGxpbmtQcm9wIiwiaXNFbnVtZXJhdGVkQXR0ciIsImlzQm9vbGVhbkF0dHIiLCJpc0ZhbHN5QXR0clZhbHVlIiwic2V0QXR0cmlidXRlTlMiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJ0cmFuc2l0aW9uQ2xhc3MiLCJfdHJhbnNpdGlvbkNsYXNzZXMiLCJfcHJldkNsYXNzIiwidXBkYXRlRE9NTGlzdGVuZXJzIiwiX3ZfYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl92X3JlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVET01Qcm9wcyIsIm9sZFByb3BzIiwiX3ZhbHVlIiwic3RyQ3VyIiwiY29tcG9zaW5nIiwibm9ybWFsaXplU3R5bGVEYXRhIiwic3R5bGUiLCJub3JtYWxpemVTdHlsZUJpbmRpbmciLCJzdGF0aWNTdHlsZSIsImJpbmRpbmdTdHlsZSIsInBhcnNlU3R5bGVUZXh0IiwiZ2V0U3R5bGUiLCJjaGVja0NoaWxkIiwic3R5bGVEYXRhIiwidXBkYXRlU3R5bGUiLCJvbGRTdGF0aWNTdHlsZSIsIm9sZFN0eWxlQmluZGluZyIsIm9sZFN0eWxlIiwibmV3U3R5bGUiLCJzZXRQcm9wIiwiYWRkQ2xhc3MiLCJ0cmltIiwiY2xhc3NMaXN0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQ2xhc3MiLCJ0YXIiLCJyZXBsYWNlIiwibmV4dEZyYW1lIiwicmFmIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJ0aW1lb3V0IiwicHJvcENvdW50IiwiVFJBTlNJVElPTiIsInRyYW5zaXRpb25FbmRFdmVudCIsImFuaW1hdGlvbkVuZEV2ZW50IiwiZW5kZWQiLCJlbmQiLCJvbkVuZCIsInNldFRpbWVvdXQiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwidHJhbnNpdGlvbmVEZWxheXMiLCJ0cmFuc2l0aW9uUHJvcCIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25Qcm9wIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsIkFOSU1BVElPTiIsImhhc1RyYW5zZm9ybSIsInRyYW5zZm9ybVJFIiwiZGVsYXlzIiwiZHVyYXRpb25zIiwiZCIsInRvTXMiLCJOdW1iZXIiLCJlbnRlciIsIl9sZWF2ZUNiIiwiY2FuY2VsbGVkIiwicmVzb2x2ZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiX2VudGVyQ2IiLCJjc3MiLCJlbnRlckNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImFwcGVhckNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJiZWZvcmVFbnRlciIsImFmdGVyRW50ZXIiLCJlbnRlckNhbmNlbGxlZCIsImJlZm9yZUFwcGVhciIsImFwcGVhciIsImFmdGVyQXBwZWFyIiwiYXBwZWFyQ2FuY2VsbGVkIiwidHJhbnNpdGlvbk5vZGUiLCJpc0FwcGVhciIsInN0YXJ0Q2xhc3MiLCJhY3RpdmVDbGFzcyIsImJlZm9yZUVudGVySG9vayIsImVudGVySG9vayIsImFmdGVyRW50ZXJIb29rIiwiZW50ZXJDYW5jZWxsZWRIb29rIiwiZXhwZWN0c0NTUyIsImlzSUU5IiwidXNlcldhbnRzQ29udHJvbCIsIm9uY2UiLCJzaG93IiwicGVuZGluZ05vZGUiLCJfcGVuZGluZyIsImxlYXZlIiwicGVyZm9ybUxlYXZlIiwiYmVmb3JlTGVhdmUiLCJsZWF2ZUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImFmdGVyTGVhdmUiLCJsZWF2ZUNhbmNlbGxlZCIsImRlbGF5TGVhdmUiLCJkZWYkJDEiLCJhdXRvQ3NzVHJhbnNpdGlvbiIsImNhbGxlZCIsInNldFNlbGVjdGVkIiwiYmluZGluZyIsImlzTXVsdGlwbGUiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwib3B0aW9uIiwiZ2V0VmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiaGFzTm9NYXRjaGluZ09wdGlvbiIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ0cmlnZ2VyIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9jYXRlTm9kZSIsImdldFJlYWxDaGlsZCIsImNvbXBPcHRpb25zIiwiZXh0cmFjdFRyYW5zaXRpb25EYXRhIiwiY29tcCIsImtleSQxIiwicGxhY2Vob2xkZXIiLCJyYXdDaGlsZCIsImhhc1BhcmVudFRyYW5zaXRpb24iLCJjYWxsUGVuZGluZ0NicyIsIl9tb3ZlQ2IiLCJyZWNvcmRQb3NpdGlvbiIsIm5ld1BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGx5VHJhbnNsYXRpb24iLCJvbGRQb3MiLCJwb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsIm1vdmVkIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiX2lzU2VydmVyIiwiX1NldCIsImNhbWVsaXplUkUiLCJ0b1VwcGVyQ2FzZSIsImh5cGhlbmF0ZVJFIiwibm8iLCJoYXNQcm90byIsIlVBIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNJRSIsImlzRWRnZSIsImlzQW5kcm9pZCIsImlzSU9TIiwiVlVFX0VOViIsIl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJuZXh0VGlja0hhbmRsZXIiLCJwZW5kaW5nIiwiY29waWVzIiwiY2FsbGJhY2tzIiwidGltZXJGdW5jIiwiUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjb3VudGVyIiwib2JzZXJ2ZXIiLCJ0ZXh0Tm9kZSIsImNoYXJhY3RlckRhdGEiLCJfcmVzb2x2ZSIsIlNldCIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInNpbGVudCIsIl9saWZlY3ljbGVIb29rcyIsImhhc0NvbnNvbGUiLCJtc2ciLCJmb3JtYXRMb2NhdGlvbiIsIl9fZmlsZSIsInVpZCQxIiwic3VicyIsImFkZFN1YiIsInN1YiIsInJlbW92ZVN1YiIsImFkZERlcCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJtZXRob2QiLCJvcmlnaW5hbCIsInJlc3VsdCIsIm9ic2VydmVBcnJheSIsImFycmF5S2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJhdWdtZW50Iiwid2FsayIsIml0ZW1zIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJmcmVlemUiLCJkZWZpbmVSZWFjdGl2ZSIsImFsbG93ZWRHbG9iYWxzIiwid2Fybk5vblByZXNlbnQiLCJoYXNQcm94eSIsIlByb3h5IiwiaGFzSGFuZGxlciIsImlzQWxsb3dlZCIsImdldEhhbmRsZXIiLCJfd2l0aFN0cmlwcGVkIiwidWlkJDIiLCJkZWVwIiwiZXhwcmVzc2lvbiIsImFjdGl2ZSIsImRlcHMiLCJuZXdEZXBzIiwiZGVwSWRzIiwibmV3RGVwSWRzIiwiY2xlYW51cERlcHMiLCJ0aGlzJDEiLCJ0bXAiLCJfdkZvclJlbW92aW5nIiwicmF3IiwicGF0dGVyblR5cGVzIiwiUmVnRXhwIiwiS2VlcEFsaXZlIiwiaW5jbHVkZSIsImV4Y2x1ZGUiLCJjcmVhdGVkIiwiZGVzdHJveWVkIiwidmVyc2lvbiIsInRlc3RFbCIsImF0dHIiLCJzdmciLCJtYXRoIiwieGh0bWwiLCJpc0hUTUxUYWciLCJiYXNlTW9kdWxlcyIsImtsYXNzIiwiZXZlbnRzIiwiY3NzVGV4dCIsImhhc0JhY2tncm91bmQiLCJsaXN0RGVsaW1pdGVyIiwicHJvcGVydHlEZWxpbWl0ZXIiLCJjc3NWYXJSRSIsInNldFByb3BlcnR5Iiwibm9ybWFsaXplIiwicHJlZml4ZXMiLCJ1cHBlciIsInByZWZpeGVkIiwiaGFzVHJhbnNpdGlvbiIsIm9udHJhbnNpdGlvbmVuZCIsIm9ud2Via2l0dHJhbnNpdGlvbmVuZCIsIm9uYW5pbWF0aW9uZW5kIiwib253ZWJraXRhbmltYXRpb25lbmQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwbGF0Zm9ybU1vZHVsZXMiLCJwYXRjaCQxIiwibW9kZWxhYmxlVGFnUkUiLCJhY3RpdmVFbGVtZW50Iiwidm1vZGVsIiwibW9kZWwiLCJuZWVkUmVzZXQiLCJzb21lIiwidiIsIm9yaWdpbmFsRGlzcGxheSIsImRpc3BsYXkiLCJfX3ZPcmlnaW5hbERpc3BsYXkiLCJwbGF0Zm9ybURpcmVjdGl2ZXMiLCJ0cmFuc2l0aW9uUHJvcHMiLCJCb29sZWFuIiwibW9kZSIsIlRyYW5zaXRpb24iLCJfbGVhdmluZyIsIm9sZFJhd0NoaWxkIiwib2xkQ2hpbGQiLCJkZWxheWVkTGVhdmUiLCJtb3ZlQ2xhc3MiLCJUcmFuc2l0aW9uR3JvdXAiLCJwcmV2Q2hpbGRyZW4iLCJyYXdDaGlsZHJlbiIsInRyYW5zaXRpb25EYXRhIiwia2VwdCIsInJlbW92ZWQiLCJjJDEiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiaGFzTW92ZSIsImJvZHkiLCJvZmZzZXRIZWlnaHQiLCJwcm9wZXJ0eU5hbWUiLCJfaGFzTW92ZSIsImluZm8iLCJwbGF0Zm9ybUNvbXBvbmVudHMiLCJsb2ciLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiSXRlbSIsImFycmF5IiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb25zIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfX3Z1ZV9leHBvcnRzX18iLCJfX3Z1ZV9vcHRpb25zX18iLCJfX3Z1ZV90ZW1wbGF0ZV9fIiwiY29udGVudCIsImxvY2FscyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJpZHgiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsInN0eWxlU2hlZXQiLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJzb3VyY2VzIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVtb2l6ZSIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJfdXBsb2FkIiwiX3VwbG9hZDIiLCJfcGxheWVyIiwiX3BsYXllcjIiLCJfbHlyaWNFZGl0b3IiLCJfbHlyaWNFZGl0b3IyIiwiX21vZGFscyIsIl9tb2RhbHMyIiwiX25hdk1lbnUiLCJfbmF2TWVudTIiLCJfbHJjS2l0IiwiX2NhY2hlIiwiX2NhY2hlMiIsImxyY0Zvcm1hdCIsIm11c2ljVXJsIiwiZWRpdGluZyIsInJ1bm5lciIsIlJ1bm5lciIsIkxyYyIsInBhcnNlIiwibHlyaWNBcnJheSIsInVwbG9hZE11c2ljIiwibXVzaWMiLCJwbGF5ZXIiLCJyZW1vdmVMeXJpYyIsInBsYXl0byIsInRpbWUiLCJ0aW1ldXBkYXRlIiwidGltZXN0YW1wIiwibHlyaWMiLCJVcGxvYWQiLCJQbGF5ZXIiLCJMeXJpY0VkaXRvciIsIk1vZGFscyIsIk5hdk1lbnUiLCJtb3VudGVkIiwiX3RoaXMiLCJ1cGxvYWQiLCJmaWxlcyIsInR5cGVfbWF0Y2giLCJyZWFkRm9ybWF0IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImFjY2VwdCIsImNsaWNrIiwiX3ZtIiwiX3JhbmdlIiwiX3JhbmdlMiIsIl90aW1lUGFuZWwiLCJfdGltZVBhbmVsMiIsIl91dGlscyIsImhvdmVyIiwiaXNNb2JpbGUiLCJtdXRlZCIsInBhdXNlZCIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJ2b2x1bWUiLCJhdWRpbyIsInNlZWsiLCJwZXJjZW50Iiwidm9sdW1lU2VlayIsIl90aGlzMiIsInByZWxvYWQiLCJnbG9iYWxLZXlkb3duIiwibXVzaWNSYW5nZSIsImNoYW5nZVZhbHVlIiwic291bmRSYW5nZSIsInBhdXNlIiwicGxheSIsIlJhbmdlIiwiVGltZVBhbmVsIiwic2VsZlZhbHVlIiwiZHJhZ2luZyIsImRyYWdWYWx1ZSIsInRodW1iIiwib2Zmc2V0MnZhbHVlIiwib2Zmc2V0WCIsImVtaXRTZWVrIiwiZW1pdERyYWdTZWVrIiwib2Zmc2V0IiwiYmFyIiwiY2xpZW50V2lkdGgiLCJkcmFnZ2VyIiwiRHJhZ2dlciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwic2F2ZUxyYyIsImlzRmlsZVNhdmVyU3VwcG9ydGVkIiwiX2ZpbGVzYXZlcjIiLCJzYXZlQXMiLCJCbG9iIiwiYWxlcnQiLCJ0aW1lc3RhbXAydGltZXN0ciIsIm9ubHlJbnRlZ2VyIiwicGFkWmVybyIsIm51bSIsInNpemUiLCJwYXJzZUludCIsInRvRml4ZWQiLCJ0aW1lc3RyMnRpbWVzdGFtcCIsIl9zdHIkc3BsaXQiLCJfc3RyJHNwbGl0MiIsIl9zbGljZWRUb0FycmF5IiwibWludXRlIiwic2Vjb25kIiwiVG9vbHRpcFBvc2l0aW9uIiwiQ2FjaGUiLCJEZWxheUhvdmVyIiwiU2Nyb2xsZXIiLCJFdmVudEVtaXR0ZXIiLCJzbGljZUl0ZXJhdG9yIiwiX2FyciIsIl9kIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImVyciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2dldCIsIm9iamVjdCIsInJlY2VpdmVyIiwiZGVzYyIsImdldFByb3RvdHlwZU9mIiwiX2V2ZW50ZW1pdHRlciIsIl9ldmVudGVtaXR0ZXIyIiwiX2ZpbGVzYXZlciIsIl91bmlkcmFnZ2VyIiwiX3VuaWRyYWdnZXIyIiwiX2lzX2pzIiwiX2lzX2pzMiIsIl9leHRlbmQiLCJfZXh0ZW5kMiIsIl9jbG9uZSIsIl9jbG9uZTIiLCJfcGFja2FnZSIsIl9wYWNrYWdlMiIsIl9FdmVudEVtaXR0ZXIiLCJfbGVuIiwiX2tleSIsIml0IiwiX2dldDIiLCJfZ2V0MyIsInZpZXdwb3J0IiwiX3RoaXMzIiwidGltZXIiLCJzY3JvbGxhYmxlU3RhcnRUaW1lIiwiRGF0ZSIsImRlbGF5Iiwic3RlcCIsImlzQ2FuU2Nyb2xsIiwibGV0RGVsYXkiLCJub3ciLCJ0YXJnZXRUb3AiLCJfdGhpczQiLCJmb3JjZSIsImNsZWFyVGltZXIiLCJzdGFydFRvcCIsInNjcm9sbFRvcCIsImVuZFRvcCIsImRpZmZUb3AiLCJwZXJTdGVwIiwiY3VyVG9wIiwiX0V2ZW50RW1pdHRlcjIiLCJlbGVtZW50IiwiX3RoaXM1IiwiZW50ZXJUaW1lciIsImxlYXZlVGltZXIiLCJjZmciLCJlbnRlckRlbGF5IiwibGVhdmVEZWxheSIsInVuaXF1ZSIsImNsb3NlTGFzdEhvdmVyIiwiY2xlYXJMZWF2ZVRpbWVyIiwiTGFzdEhvdmVyIiwiY2xlYXJFbnRlclRpbWVyIiwicHJlZml4IiwibG9jYWxTdG9yYWdlIiwiJHZlcnNpb24iLCJkZWZhdWx0VmFsdWUiLCJyZWFkIiwid3JpdGUiLCJjb2RlIiwiaGFzRmFsc2UiLCJmbGFnIiwicHJldmVudERlZmF1bHQiLCJfVW5pZHJhZ2dlciIsImVsZW0iLCJjb250YWluZXIiLCJfdGhpczYiLCJlZSIsIl9lZSIsIl9lZTIiLCJoYW5kbGVzIiwiYmluZEhhbmRsZXMiLCJkcmFnU3RhcnRQb2ludCIsIm9mZnNldExlZnQiLCJwb2ludGVyIiwibW92ZVZlY3RvciIsIngiLCJ0b29sdGlwIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2VuZXJhdGVEaXJzIiwicmVjdCIsInJpZ2h0IiwiYm90dG9tIiwiY2xpZW50SGVpZ2h0IiwibmVnYXRpdmUiLCJ3aWR0aCIsImhlaWdodCIsInRvb2x0aXBSZWN0Iiwib3ZlcmZsb3dWYWx1ZXMiLCJyZWN0T3ZlcmZsb3dDb3VudCIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiX2NvbmYiLCJjb25maWd1cmUiLCJjb25mIiwiZGVsaW1pdGVyIiwibWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsIndpbGRjYXJkIiwibmV3TGlzdGVuZXIiLCJ2ZXJib3NlTWVtb3J5TGVhayIsImxpc3RlbmVyVHJlZSIsImxvZ1Bvc3NpYmxlTWVtb3J5TGVhayIsImNvdW50IiwiZXZlbnROYW1lIiwiZXJyb3JNc2ciLCJ0cmFjZSIsInNlYXJjaExpc3RlbmVyVHJlZSIsImxlYWYiLCJicmFuY2giLCJ4VHJlZSIsInh4VHJlZSIsImlzb2xhdGVkQnJhbmNoIiwiZW5kUmVhY2hlZCIsInR5cGVMZW5ndGgiLCJjdXJyZW50VHlwZSIsIm5leHRUeXBlIiwiX2xpc3RlbmVycyIsIioqIiwiZ3Jvd0xpc3RlbmVyVHJlZSIsImxpc3RlbmVyIiwic2hpZnQiLCJ3YXJuZWQiLCJFdmVudEVtaXR0ZXIyIiwic2V0TWF4TGlzdGVuZXJzIiwibWFueSIsInR0bCIsIl9vcmlnaW4iLCJhbCIsIl9hbGwiLCJlbWl0QXN5bmMiLCJwcm9taXNlcyIsImFsbCIsIm9uQW55IiwicmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdCIsImxlYWZzIiwiaUxlYWYiLCJwb3NpdGlvbiIsIm9mZkFueSIsImZucyIsImxpc3RlbmVyQ291bnQiLCJsaXN0ZW5lcnNBbnkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwidmlldyIsImRvYyIsImdldF9VUkwiLCJ3ZWJraXRVUkwiLCJzYXZlX2xpbmsiLCJjYW5fdXNlX3NhdmVfbGluayIsIk1vdXNlRXZlbnQiLCJ3ZWJraXRfcmVxX2ZzIiwid2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0iLCJyZXFfZnMiLCJyZXF1ZXN0RmlsZVN5c3RlbSIsIm1velJlcXVlc3RGaWxlU3lzdGVtIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwiZm9yY2Vfc2F2ZWFibGVfdHlwZSIsImZzX21pbl9zaXplIiwiYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0IiwicmV2b2tlIiwiZmlsZSIsInJldm9rZXIiLCJyZXZva2VPYmplY3RVUkwiLCJjaHJvbWUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiYXV0b19ib20iLCJibG9iIiwiRmlsZVNhdmVyIiwibm9fYXV0b19ib20iLCJvYmplY3RfdXJsIiwidGFyZ2V0X3ZpZXciLCJibG9iX2NoYW5nZWQiLCJkaXNwYXRjaF9hbGwiLCJmc19lcnJvciIsImxvY2F0aW9uIiwiaHJlZiIsIm5ld190YWIiLCJvcGVuIiwic2FmYXJpIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJhYm9ydGFibGUiLCJmdW5jIiwiY3JlYXRlX2lmX25vdF9mb3VuZCIsImV4Y2x1c2l2ZSIsIklOSVQiLCJkb3dubG9hZCIsIndlYmtpdFNsaWNlIiwiVEVNUE9SQVJZIiwiZnMiLCJnZXREaXJlY3RvcnkiLCJzYXZlIiwiZ2V0RmlsZSIsImNyZWF0ZVdyaXRlciIsIndyaXRlciIsIm9ud3JpdGVlbmQiLCJ0b1VSTCIsIm9uZXJyb3IiLCJBQk9SVF9FUlIiLCJhYm9ydCIsIldSSVRJTkciLCJOT1RfRk9VTkRfRVJSIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0IiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iLCJVbmlwb2ludGVyIiwiVW5pZHJhZ2dlciIsInByb3RvIiwiX2JpbmRIYW5kbGVzIiwidW5iaW5kSGFuZGxlcyIsImlzQmluZCIsImJpbmRlckV4dHJhIiwicG9pbnRlckVuYWJsZWQiLCJoYW5kbGUiLCJ0b3VjaEFjdGlvbiIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc1RvdWNoQWN0aW9uIiwiYmluZE1ldGhvZCIsIl9iaW5kU3RhcnRFdmVudCIsInBvaW50ZXJEb3duIiwibm9kZU5hbWUiLCJpc1BvaW50ZXJEb3duIiwicG9pbnRlcklkZW50aWZpZXIiLCJfZHJhZ1BvaW50ZXJEb3duIiwiZm9jdXNlZCIsImJsdXIiLCJfYmluZFBvc3RTdGFydEV2ZW50cyIsImVtaXRFdmVudCIsInBvaW50ZXJEb3duUG9pbnQiLCJnZXRQb2ludGVyUG9pbnQiLCJjYW5QcmV2ZW50RGVmYXVsdCIsImNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biIsInBvaW50ZXJNb3ZlIiwiX2RyYWdQb2ludGVyTW92ZSIsIl9kcmFnTW92ZSIsIm1vdmVQb2ludCIsInkiLCJpc0RyYWdnaW5nIiwiaGFzRHJhZ1N0YXJ0ZWQiLCJfZHJhZ1N0YXJ0IiwiYWJzIiwicG9pbnRlclVwIiwiX2RyYWdQb2ludGVyVXAiLCJfZHJhZ0VuZCIsIl9zdGF0aWNDbGljayIsImlzUHJldmVudGluZ0NsaWNrcyIsImRyYWdTdGFydCIsImRyYWdNb3ZlIiwiZHJhZ0VuZCIsIm9uY2xpY2siLCJpc0lnbm9yaW5nTW91c2VVcCIsImZvY3VzIiwic3RhdGljQ2xpY2siLCJFdkVtaXR0ZXIiLCJiaW5kU3RhcnRFdmVudCIsInVuYmluZFN0YXJ0RXZlbnQiLCJoYW5kbGVFdmVudCIsImdldFRvdWNoIiwidG91Y2hlcyIsInRvdWNoIiwiaWRlbnRpZmllciIsIm9ubW91c2Vkb3duIiwiYnV0dG9uIiwiX3BvaW50ZXJEb3duIiwib250b3VjaHN0YXJ0IiwiY2hhbmdlZFRvdWNoZXMiLCJvbk1TUG9pbnRlckRvd24iLCJvbnBvaW50ZXJkb3duIiwicG9pbnRlcklkIiwicG9zdFN0YXJ0RXZlbnRzIiwibW91c2Vkb3duIiwidG91Y2hzdGFydCIsInBvaW50ZXJkb3duIiwiTVNQb2ludGVyRG93biIsIl9ib3VuZFBvaW50ZXJFdmVudHMiLCJfdW5iaW5kUG9zdFN0YXJ0RXZlbnRzIiwib25tb3VzZW1vdmUiLCJfcG9pbnRlck1vdmUiLCJvbk1TUG9pbnRlck1vdmUiLCJvbnBvaW50ZXJtb3ZlIiwib250b3VjaG1vdmUiLCJvbm1vdXNldXAiLCJfcG9pbnRlclVwIiwib25NU1BvaW50ZXJVcCIsIm9ucG9pbnRlcnVwIiwib250b3VjaGVuZCIsIl9wb2ludGVyRG9uZSIsInBvaW50ZXJEb25lIiwib25NU1BvaW50ZXJDYW5jZWwiLCJvbnBvaW50ZXJjYW5jZWwiLCJfcG9pbnRlckNhbmNlbCIsIm9udG91Y2hjYW5jZWwiLCJwb2ludGVyQ2FuY2VsIiwicGFnZVgiLCJwYWdlWSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIm9uY2VFdmVudHMiLCJfb25jZUV2ZW50cyIsIm9uY2VMaXN0ZW5lcnMiLCJpcyIsIm5vdCIsImFycmF5U2xpY2UiLCJwYXJhbWV0ZXJzIiwiYW55IiwicmVnZXhwQ2hlY2siLCJyZWdleHAiLCJyZWdleHBzIiwic2V0SW50ZXJmYWNlcyIsImZ1bmN0aW9uIiwiaW50ZXJmYWNlcyIsImFwaSIsInByZXZpb3VzSXMiLCJWRVJTSU9OIiwibnVsbCIsImJvb2xlYW4iLCJkYXRlIiwibmFuIiwibnVtYmVyIiwianNvbiIsInNhbWVUeXBlIiwidmFsdWUxIiwidmFsdWUyIiwic3RyaW5nIiwiY2hhciIsImVtcHR5IiwiZXhpc3R5IiwidHJ1dGh5IiwiZmFsc3kiLCJzcGFjZSIsImNoYXJhY3RlckNvZGUiLCJlcXVhbCIsImV2ZW4iLCJudW1iIiwib2RkIiwicG9zaXRpdmUiLCJhYm92ZSIsIm1pbiIsInVuZGVyIiwid2l0aGluIiwiZGVjaW1hbCIsImludGVnZXIiLCJmaW5pdGUiLCJpc0Zpbml0ZSIsIkluZmluaXR5IiwiaW5maW5pdGUiLCJ1cmwiLCJlbWFpbCIsImNyZWRpdENhcmQiLCJhbHBoYU51bWVyaWMiLCJ0aW1lU3RyaW5nIiwiZGF0ZVN0cmluZyIsInVzWmlwQ29kZSIsImNhUG9zdGFsQ29kZSIsInVrUG9zdENvZGUiLCJuYW5wUGhvbmUiLCJlcHBQaG9uZSIsInNvY2lhbFNlY3VyaXR5TnVtYmVyIiwiYWZmaXJtYXRpdmUiLCJoZXhhZGVjaW1hbCIsImhleENvbG9yIiwiaXB2NCIsImlwdjYiLCJpcCIsInN1YnN0ciIsInVwcGVyQ2FzZSIsImxvd2VyQ2FzZSIsInN0YXJ0V2l0aCIsImVuZFdpdGgiLCJjYXBpdGFsaXplZCIsIndvcmRzIiwicGFsaW5kcm9tZSIsInJldmVyc2UiLCJkYXlzIiwibW9udGhzIiwidG9kYXkiLCJ0b2RheVN0cmluZyIsInRvRGF0ZVN0cmluZyIsInllc3RlcmRheSIsInllc3RlcmRheVN0cmluZyIsInNldERhdGUiLCJnZXREYXRlIiwidG9tb3Jyb3ciLCJ0b21vcnJvd1N0cmluZyIsInBhc3QiLCJnZXRUaW1lIiwiZnV0dXJlIiwiZGF5IiwiZGF5U3RyaW5nIiwiZ2V0RGF5IiwibW9udGgiLCJtb250aFN0cmluZyIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwibGVhcFllYXIiLCJ3ZWVrZW5kIiwid2Vla2RheSIsImluRGF0ZVJhbmdlIiwic3RhcnRPYmoiLCJlbmRPYmoiLCJnaXZlbkRhdGUiLCJpbkxhc3RXZWVrIiwiaW5MYXN0TW9udGgiLCJzZXRNb250aCIsImluTGFzdFllYXIiLCJzZXRGdWxsWWVhciIsImluTmV4dFdlZWsiLCJpbk5leHRNb250aCIsImluTmV4dFllYXIiLCJxdWFydGVyT2ZZZWFyIiwicXVhcnRlck51bWJlciIsImZsb29yIiwiZGF5TGlnaHRTYXZpbmdUaW1lIiwiamFudWFyeSIsImp1bHkiLCJzdGRUaW1lem9uZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwidmVuZG9yIiwiYXBwVmVyc2lvbiIsImZpcmVmb3giLCJlZGdlIiwiaWUiLCJvcGVyYSIsImlvcyIsImlwaG9uZSIsImlwYWQiLCJpcG9kIiwiYW5kcm9pZCIsImFuZHJvaWRQaG9uZSIsImFuZHJvaWRUYWJsZXQiLCJibGFja2JlcnJ5IiwiZGVza3RvcCIsIm1vYmlsZSIsInRhYmxldCIsImxpbnV4IiwibWFjIiwid2luZG93cyIsIndpbmRvd3NQaG9uZSIsIndpbmRvd3NUYWJsZXQiLCJvbmxpbmUiLCJvbkxpbmUiLCJvZmZsaW5lIiwidG91Y2hEZXZpY2UiLCJEb2N1bWVudFRvdWNoIiwicHJvcGVydHlDb3VudCIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eURlZmluZWQiLCJ3aW5kb3dPYmplY3QiLCJkb21Ob2RlIiwiaW5BcnJheSIsInNvcnRlZCIsInNldFJlZ2V4cCIsInJlZ2V4cE5hbWUiLCJyIiwic2V0TmFtZXNwYWNlIiwidG9TdHIiLCJoYXNPd25Db25zdHJ1Y3RvciIsImhhc0lzUHJvdG90eXBlT2YiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsIkJ1ZmZlciIsImRlcHRoIiwiaW5jbHVkZU5vbkVudW1lcmFibGUiLCJuYXRpdmVNYXAiLCJuYXRpdmVTZXQiLCJuYXRpdmVQcm9taXNlIiwiX19pc0FycmF5IiwiX19pc1JlZ0V4cCIsInNvdXJjZSIsIl9fZ2V0UmVnRXhwRmxhZ3MiLCJsYXN0SW5kZXgiLCJfX2lzRGF0ZSIsInVzZUJ1ZmZlciIsImlzQnVmZmVyIiwiYWxsUGFyZW50cyIsImFsbENoaWxkcmVuIiwia2V5SXRlcmF0b3IiLCJrZXlDaGlsZCIsInZhbHVlQ2hpbGQiLCJlbnRyeUNoaWxkIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bWJvbCIsImFsbFByb3BlcnR5TmFtZXMiLCJfX29ialRvU3RyIiwicmUiLCJmbGFncyIsImlnbm9yZUNhc2UiLCJtdWx0aWxpbmUiLCJNYXAiLCJjbG9uZVByb3RvdHlwZSIsInR5cGVkQXJyYXlTdXBwb3J0IiwiVWludDhBcnJheSIsImZvbyIsInN1YmFycmF5IiwiYnl0ZUxlbmd0aCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJBcnJheUJ1ZmZlciIsImZyb21BcnJheUJ1ZmZlciIsImZyb21TdHJpbmciLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsImFsbG9jIiwiZmlsbCIsImVuY29kaW5nIiwiY2hlY2tlZCIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJmcm9tQXJyYXlMaWtlIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsImlzbmFuIiwiU2xvd0J1ZmZlciIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic2xvd1RvU3RyaW5nIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJidWYiLCJpbmRleFNpemUiLCJyZWFkVUludDE2QkUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJoZXhXcml0ZSIsInJlbWFpbmluZyIsInN0ckxlbiIsInBhcnNlZCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYXNjaWlUb0J5dGVzIiwibGF0aW4xV3JpdGUiLCJiYXNlNjRXcml0ZSIsInVjczJXcml0ZSIsInV0ZjE2bGVUb0J5dGVzIiwiYmFzZTY0IiwiZnJvbUJ5dGVBcnJheSIsImZpcnN0Qnl0ZSIsImNvZGVQb2ludCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJjb2RlUG9pbnRzIiwiTUFYX0FSR1VNRU5UU19MRU5HVEgiLCJmcm9tQ2hhckNvZGUiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJpZWVlNzU0Iiwid3JpdGVEb3VibGUiLCJiYXNlNjRjbGVhbiIsInN0cmluZ3RyaW0iLCJJTlZBTElEX0JBU0U2NF9SRSIsInVuaXRzIiwibGVhZFN1cnJvZ2F0ZSIsImJ5dGVBcnJheSIsImhpIiwibG8iLCJ0b0J5dGVBcnJheSIsImRzdCIsIklOU1BFQ1RfTUFYX0JZVEVTIiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiZXF1YWxzIiwiaW5zcGVjdCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpbmNsdWRlcyIsInRvSlNPTiIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwibWF4Qnl0ZXMiLCJ3cml0ZVVJbnRCRSIsIndyaXRlVUludDgiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJwbGFjZUhvbGRlcnNDb3VudCIsImI2NCIsInBsYWNlSG9sZGVycyIsIkFyciIsIkwiLCJyZXZMb29rdXAiLCJ0cmlwbGV0VG9CYXNlNjQiLCJsb29rdXAiLCJlbmNvZGVDaHVuayIsInVpbnQ4Iiwib3V0cHV0IiwiZXh0cmFCeXRlcyIsIm1heENodW5rTGVuZ3RoIiwibGVuMiIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJMTjIiLCJkZXNjcmlwdGlvbiIsIm1haW4iLCJzY3JpcHRzIiwibGludCIsImRldiIsImJ1aWxkIiwiYnVpbGQ6Y2xlYW4iLCJidWlsZDp2aWV3IiwiYnVpbGQ6d2VicGFjayIsImRlcGxveSIsImtleXdvcmRzIiwiYXV0aG9yIiwiaG9tZXBhZ2UiLCJyZXBvc2l0b3J5Iiwib25saW5lUGFnZSIsImJ1Z3MiLCJsaWNlbnNlIiwiZGV2RGVwZW5kZW5jaWVzIiwiYXV0b3ByZWZpeGVyIiwiYmFiZWwtY29yZSIsImJhYmVsLWVzbGludCIsImJhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzIiwiYmFiZWwtbG9hZGVyIiwiYmFiZWwtcGx1Z2luLXN5bnRheC1qc3giLCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXZ1ZS1qc3giLCJiYWJlbC1wcmVzZXQtbGF0ZXN0IiwiYmFiZWwtcHJlc2V0LXN0YWdlLTAiLCJjc3MtbG9hZGVyIiwiZXNsaW50IiwiZXNsaW50LWNvbmZpZy1zdGFuZGFyZCIsImVzbGludC1mcmllbmRseS1mb3JtYXR0ZXIiLCJlc2xpbnQtbG9hZGVyIiwiZXNsaW50LXBsdWdpbi1odG1sIiwiZXNsaW50LXBsdWdpbi1wcm9taXNlIiwiZXNsaW50LXBsdWdpbi1zdGFuZGFyZCIsImZpbGUtbG9hZGVyIiwiZ2gtcGFnZXMiLCJqc29uLWxvYWRlciIsIm5vZGUtc2FzcyIsInJlc29sdmUtdXJsLWxvYWRlciIsInNhc3MtbG9hZGVyIiwidXJsLWxvYWRlciIsInZ1ZS1sb2FkZXIiLCJ2dWUtdGVtcGxhdGUtY29tcGlsZXIiLCJ3ZWJwYWNrIiwid2VicGFjay1kZXYtc2VydmVyIiwieWFtbC1sb2FkZXIiLCJkZXBlbmRlbmNpZXMiLCJldmVudGVtaXR0ZXIyIiwiZmlsZXNhdmVyLmpzIiwibHJjLWtpdCIsInVuaWRyYWdnZXIiLCJ2dWUiLCJ2dWUtaTE4biIsInJlbWFpbiIsInRpbWVSZW1haW4iLCJmaWx0ZXJzIiwiY2FjaGVNYXAiLCJ1c2VyTmFtZSIsImNhY2hlT2JqIiwiJGV2ZW50IiwibW91c2VvdmVyIiwibW91c2VsZWF2ZSIsImN1cnJlbnQtdGltZSIsImRyYWctc2VlayIsIl90b0NvbnN1bWFibGVBcnJheSIsImFycjIiLCJfdG1lbnUiLCJfdG1lbnUyIiwiZWRpdGluZ0luZGV4IiwiZWRpdGluZ1RleHRJbmRleCIsInNjcm9sbGVyIiwiZWRpdE1lbnUiLCJleGl0RWRpdCIsImVkaXQiLCJlZGl0VGV4dCIsImxyYyIsImx5cmljcyIsInJlbW92ZVRleHQiLCJpbnNlcnRUZXh0IiwicmVtb3ZlVGltZXN0YW1wIiwiX2x5cmljQXJyYXkiLCJyZW1vdmVMeXJpY3MiLCJzZXRUaW1lc3RhbXAiLCJzZXRUaW1lc3RhbXBUZXh0Iiwic2Nyb2xsVG9DdXJyZW50THlyaWMiLCJvZmZzZXRUb3AiLCJzY3JvbGxUbyIsInRpbWVVcGRhdGUiLCJjdXJJbmRleCIsImxyY1VwZGF0ZSIsIlRtZW51IiwiTGluZVBhcnNlciIsIl9saW5lUGFyc2VyIiwiX2xpbmVQYXJzZXIyIiwiX2xyYyIsIl9scmMyIiwiX3J1bm5lciIsIl9ydW5uZXIyIiwibGluZSIsIlRZUEUiLCJJTlZBTElEIiwiX0xpbmVQYXJzZXIkcGFyc2VUYWdzIiwicGFyc2VUYWdzIiwiX0xpbmVQYXJzZXIkcGFyc2VUYWdzMiIsInRhZ3MiLCJUSU1FX1JFR0VYUCIsInBhcnNlQXNUaW1lIiwiSU5GT19SRUdFWFAiLCJwYXJzZUFzSW5mbyIsIm1hdGNocyIsIlRBR1NfUkVHRVhQIiwiZXhlYyIsInRpbWVzdGFtcHMiLCJtaW51dGVzIiwic2Vjb25kcyIsIlRJTUUiLCJJTkZPIiwib2Zmc2V0VGltZSIsImNvbWJpbmUiLCJsaW5lRm9ybWF0IiwibGluZXMiLCJseXJpY3NNYXAiLCJseXJpY3NMaXN0IiwidGltZXN0YW1wVG9TdHJpbmciLCJfY3VycmVudEluZGV4Iiwic2V0THJjIiwiX29mZnNldEFsaWduIiwiX3NvcnQiLCJfZmluZEluZGV4Iiwic3RhcnRJbmRleCIsImN1ckZyb250VGltZXN0YW1wIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJjdXJCYWNrVGltZXN0YW1wIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJnZXRMeXJpYyIsIl90b29sdGlwIiwiX3Rvb2x0aXAyIiwiVG9vbHRpcCIsInZpc2liaWxpdHkiLCJFbGVtZW50IiwidGxwUG9zIiwid3JhcCIsImFycm93U3BhY2UiLCJkaG92ZXIiLCJtZW51IiwiZW50ZXItZGVsYXkiLCJkYmxjbGljayIsImNvbnRleHRtZW51Iiwia2V5ZG93biIsImtleUNvZGUiLCJpbnB1dCIsIiR0IiwidHJhY2stYnkiLCIkJGV4cCIsIiQkaWR4IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJfaGVscCIsIl9oZWxwMiIsIl9scmNGb3JtYXRVcGxvYWQiLCJfbHJjRm9ybWF0VXBsb2FkMiIsIl9seXJpY1VwbG9hZCIsIl9seXJpY1VwbG9hZDIiLCJfbHJjU2F2ZSIsIl9scmNTYXZlMiIsIkNPTVBPTkVOVFMiLCJoZWxwIiwibHJjLWZvcm1hdC11cGxvYWQiLCJseXJpYy11cGxvYWQiLCJscmMtc2F2ZSIsIk1DIiwiY29uZmlybSIsIm1vZGFsTmFtZSIsIm1vZGFsQ29tcG9uZW50IiwiaXNTaG93IiwiY292ZXJTaG93IiwibW9kYWxXcmFwcGVyIiwib2siLCJjYW5jZWwiLCJIZWxwIiwiTHJjRm9ybWF0VXBsb2FkIiwiTHlyaWNVcGxvYWQiLCJMcmNTYXZlIiwiUEtHIiwic2F2ZU9wdGlvbnMiLCJpbmZvRmllbGRzIiwibGFiZWwiLCJmaWVsZCIsImJ5IiwidmUiLCJseXJpY1VwZGF0ZSIsInRpIiwiaW5mb1VwZGF0ZSIsImZvciIsImNoYW5nZSIsIiQkYSIsIiQkZWwiLCIkJGMiLCIkJHYiLCIkJGkiLCJjb3ZlciIsImFmdGVyLWxlYXZlIiwic3RvcFByb3BhZ2F0aW9uIiwibW9kYWxzIiwicmVhZC1mb3JtYXQiLCJseXJpYy1hcnJheSIsIl92dWVJMThuIiwiX3Z1ZUkxOG4yIiwiX2xvY2FsZXMiLCJfbG9jYWxlczIiLCJsYW5nIiwibGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImxvY2FsZSIsInN0YWNrIiwiQXNzZXQiLCJsYW5nVk0iLCJsb2NhbGVzIiwic2V0TG9jYWxlIiwiYmFiZWxIZWxwZXJzIiwidHlwZW9mIiwiaXNQcm9taXNlIiwiY2F0Y2giLCJPdmVycmlkZSIsIiRsYW5nIiwiX2xhbmdVbndhdGNoIiwiX2Rlc3Ryb3kiLCJnZXRXYXRjaGVyIiwidW53YXRjaCIsImdldERlcCIsIkNvbmZpZyIsIm1pc3NpbmdIYW5kbGVyIiwiaTE4bkZvcm1hdHRlciIsImlzTmlsIiwiRm9ybWF0IiwiUkVfTkFSR1MiLCJpc0xpdGVyYWwiLCJleHAiLCJsaXRlcmFsVmFsdWVSRSIsInN0cmlwUXVvdGVzIiwiZ2V0UGF0aENoYXJUeXBlIiwiZm9ybWF0U3ViUGF0aCIsInRyaW1tZWQiLCJtYXliZVVuZXNjYXBlUXVvdGUiLCJuZXh0Q2hhciIsIklOX1NJTkdMRV9RVU9URSIsIklOX0RPVUJMRV9RVU9URSIsIm5ld0NoYXIiLCJhY3Rpb25zIiwiQVBQRU5EIiwiQkVGT1JFX1BBVEgiLCJzdWJQYXRoRGVwdGgiLCJhY3Rpb24iLCJ0eXBlTWFwIiwiUFVTSCIsIklOQ19TVUJfUEFUSF9ERVBUSCIsIlBVU0hfU1VCX1BBVEgiLCJJTl9TVUJfUEFUSCIsInBhdGhTdGF0ZU1hY2hpbmUiLCJFUlJPUiIsIkFGVEVSX1BBVEgiLCJwYXRoQ2FjaGUiLCJQYXRoIiwicGF0aHMiLCJfVnVlJHV0aWwiLCJFeHRlbmQiLCJwYXJzZUFyZ3MiLCJmYWxsYmFja0xhbmciLCJwYXJhbXMiLCJpbnRlcnBvbGF0ZSIsImxpbmsiLCJsaW5rUGxhY2Vob2xkZXIiLCJ0cmFuc2xhdGVkc3RyaW5nIiwiZm9ybWF0IiwidHJhbnNsYXRlIiwid2FybkRlZmF1bHQiLCJnZXRBc3NldExvY2FsZSIsImdldENvbXBvbmVudExvY2FsZSIsImdldE9sZENob2ljZUluZGV4Rml4ZWQiLCJjaG9pY2UiLCJnZXRDaG9pY2VJbmRleCIsImNob2ljZXNMZW5ndGgiLCJmZXRjaENob2ljZSIsImNob2ljZXMiLCJ0IiwiX2xlbjIiLCJfa2V5MiIsIl9wYXJzZUFyZ3MiLCJ0YyIsIl9sZW4zIiwiX2tleTMiLCJfbGVuNCIsIl9rZXk0IiwiX3BhcnNlQXJnczIiLCIkdGMiLCJfbGVuNSIsIl9rZXk1Iiwic2V0dXBMYW5nVk0iLCJJTl9QQVRIIiwiQkVGT1JFX0lERU5UIiwiSU5fSURFTlQiLCJ3cyIsImlkZW50IiwiWyIsImVvZiIsIi4iLCIwIiwiJyIsIlwiIiwiXSIsImVsc2UiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsIi4vZW4iLCIuL2VuLnltbCIsIi4vaW5kZXgiLCIuL2luZGV4LmpzIiwiLi96aCIsIi4vemgueW1sIiwiY2xvc2VfZWRpdCIsIm9wZW5fZWRpdCIsImxyY19pbmZvIiwicmVtb3ZlX2x5cmljIiwicHJldl9seXJpYyIsIm5leHRfbHlyaWMiLCJtb2RhbCIsImxyY19mb3JtYXRfc2F2ZSIsImluZm9fdGl0bGUiLCJmaWVsZHMiLCJzb25nX3RpdGxlIiwiYXJ0aXN0IiwiYWxidW0iLCJzb25ndGV4dF9jcmVhdG9yIiwibHJjX2NyZWF0b3IiLCJzYXZlX3RpdGxlIiwibHJjX2Zvcm1hdF91cGxvYWQiLCJseXJpY191cGxvYWQiLCJzaG9ydGN1dF9rZXkiLCJwbGF5X2NvbnRyb2wiLCJsZWZ0X2tleSIsInJpZ2h0X2tleSIsImJhY2t3YXJkIiwiZm9yd2FyZCIsIm1ha2VfbHJjIiwidXBfa2V5IiwiZG93bl9rZXkiLCJzb3VyY2VfY29kZSIsImx5cmljX2VkaXRvciIsInJlbW92ZV90aW1lc3RhbXAiLCJwbGF5X3RvX3RoaXNfbHlyaWMiLCJmb2xsb3dpbmdfdW5zb3J0ZWQiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBcUNBLE9BVEFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsWUFHQVYsRUFBQSxLRE1NLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLFlBWUEsU0FBU1csR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0UxRHhGLEdBQUFHLEdBQUFmLEVBQUEsR0ZrREtnQixFQUFRTCxFQUF1QkksR0VqRHBDRSxFQUFBakIsRUFBQSxHRnFES2tCLEVBQVFQLEVBQXVCTSxFRXBEcENqQixHQUFBLElBRUEsSUFBSW1CLEdBQU8sR0FBQUgsR0FBQUYsU0FDVE0sR0FBSSxPQUNKQyxPQUZpQixTQUVUQyxHQUNOLE1BQU9BLGNBQVFDLElBQUssVUFJeEJQLEdBQUFGLFFB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LFlBQUEsV0FFQUMsV0FBQSxLQUNBMU4sUUFBQSxPQUNBdG1CLFNBQUEsVUFFQWkwQixtQkFDQXRzQyxNQUFBLFlBQ0FvM0IsWUFBQSxlQUNBbnhCLE9BQUEsU0FFQXNtQyxjQUNBdnNDLE1BQUEsU0FDQW8zQixZQUFBLGlCQUNBbnhCLE9BQUEsU0FFQTA3QixNQUNBM2hDLE1BQUEsS0FDQXdzQyxhQUFBLE1BQ0FDLGNBQ0F6c0MsTUFBQSxPQUNBMHNDLFNBQUEsU0FDQUMsVUFBQSxVQUNBQyxTQUFBLEtBQ0FDLFFBQUEsTUFFQUMsVUFDQTlzQyxNQUFBLE9BQ0Erc0MsT0FBQSxPQUNBQyxTQUFBLFNBQ0F0QixXQUFBLFFBQ0FDLFdBQUEsU0FFQXNCLFlBQUEsTUFFQTV2QixRQUNBaWxCLEdBQUEsS0FDQUMsT0FBQSxPQUdBMkssY0FDQXBSLEtBQUEsS0FDQWpxRCxJQUFBLEtBQ0FrVyxPQUFBLEtBQ0FvbEQsaUJBQUEsUUFDQUMsbUJBQUEsVUFDQUMsbUJBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vYXNzZXRzL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF92dWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF92dWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlKTtcblx0XG5cdHZhciBfYXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfYXBwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIHJvb3QgPSBuZXcgX3Z1ZTIuZGVmYXVsdCh7XG5cdCAgZWw6ICcjYXBwJyxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG5cdCAgICByZXR1cm4gaChfYXBwMi5kZWZhdWx0LCB7IHJlZjogJ2FwcCcgfSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdF92dWUyLmRlZmF1bHQucHJvdG90eXBlLiRBcHAgPSByb290LiRyZWZzLmFwcDtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwsIHByb2Nlc3MpIHsvKiFcblx0ICogVnVlLmpzIHYyLjEuM1xuXHQgKiAoYykgMjAxNC0yMDE2IEV2YW4gWW91XG5cdCAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qICAqL1xuXHRcblx0LyoqXG5cdCAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3RvU3RyaW5nICh2YWwpIHtcblx0ICByZXR1cm4gdmFsID09IG51bGxcblx0ICAgID8gJydcblx0ICAgIDogdHlwZW9mIHZhbCA9PT0gJ29iamVjdCdcblx0ICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG5cdCAgICAgIDogU3RyaW5nKHZhbClcblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbnZlcnQgYSBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXG5cdCAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkge1xuXHQgIHZhciBuID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcblx0ICByZXR1cm4gKG4gfHwgbiA9PT0gMCkgPyBuIDogdmFsXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcblx0ICogaXMgaW4gdGhhdCBtYXAuXG5cdCAqL1xuXHRmdW5jdGlvbiBtYWtlTWFwIChcblx0ICBzdHIsXG5cdCAgZXhwZWN0c0xvd2VyQ2FzZVxuXHQpIHtcblx0ICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICB2YXIgbGlzdCA9IHN0ci5zcGxpdCgnLCcpO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHQgICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcblx0ICB9XG5cdCAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2Vcblx0ICAgID8gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXTsgfVxuXHQgICAgOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsXTsgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSB0YWcgaXMgYSBidWlsdC1pbiB0YWcuXG5cdCAqL1xuXHR2YXIgaXNCdWlsdEluVGFnID0gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnLCB0cnVlKTtcblx0XG5cdC8qKlxuXHQgKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5XG5cdCAqL1xuXHRmdW5jdGlvbiByZW1vdmUkMSAoYXJyLCBpdGVtKSB7XG5cdCAgaWYgKGFyci5sZW5ndGgpIHtcblx0ICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuXHQgICAgaWYgKGluZGV4ID4gLTEpIHtcblx0ICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpXG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGhhcyB0aGUgcHJvcGVydHkuXG5cdCAqL1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHRmdW5jdGlvbiBoYXNPd24gKG9iaiwga2V5KSB7XG5cdCAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiB2YWx1ZSBpcyBwcmltaXRpdmVcblx0ICovXG5cdGZ1bmN0aW9uIGlzUHJpbWl0aXZlICh2YWx1ZSkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcblx0fVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhIGNhY2hlZCB2ZXJzaW9uIG9mIGEgcHVyZSBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGNhY2hlZCAoZm4pIHtcblx0ICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIHJldHVybiBmdW5jdGlvbiBjYWNoZWRGbiAoc3RyKSB7XG5cdCAgICB2YXIgaGl0ID0gY2FjaGVbc3RyXTtcblx0ICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIENhbWVsaXplIGEgaHlwaGVuLWRlbG1pdGVkIHN0cmluZy5cblx0ICovXG5cdHZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xuXHR2YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuXHQgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCBmdW5jdGlvbiAoXywgYykgeyByZXR1cm4gYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnOyB9KVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBDYXBpdGFsaXplIGEgc3RyaW5nLlxuXHQgKi9cblx0dmFyIGNhcGl0YWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuXHQgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSlcblx0fSk7XG5cdFxuXHQvKipcblx0ICogSHlwaGVuYXRlIGEgY2FtZWxDYXNlIHN0cmluZy5cblx0ICovXG5cdHZhciBoeXBoZW5hdGVSRSA9IC8oW14tXSkoW0EtWl0pL2c7XG5cdHZhciBoeXBoZW5hdGUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuXHQgIHJldHVybiBzdHJcblx0ICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuXHQgICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG5cdCAgICAudG9Mb3dlckNhc2UoKVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgYmluZCwgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kJDEgKGZuLCBjdHgpIHtcblx0ICBmdW5jdGlvbiBib3VuZEZuIChhKSB7XG5cdCAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICByZXR1cm4gbFxuXHQgICAgICA/IGwgPiAxXG5cdCAgICAgICAgPyBmbi5hcHBseShjdHgsIGFyZ3VtZW50cylcblx0ICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxuXHQgICAgICA6IGZuLmNhbGwoY3R4KVxuXHQgIH1cblx0ICAvLyByZWNvcmQgb3JpZ2luYWwgZm4gbGVuZ3RoXG5cdCAgYm91bmRGbi5fbGVuZ3RoID0gZm4ubGVuZ3RoO1xuXHQgIHJldHVybiBib3VuZEZuXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGEgcmVhbCBBcnJheS5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7XG5cdCAgc3RhcnQgPSBzdGFydCB8fCAwO1xuXHQgIHZhciBpID0gbGlzdC5sZW5ndGggLSBzdGFydDtcblx0ICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpO1xuXHQgIHdoaWxlIChpLS0pIHtcblx0ICAgIHJldFtpXSA9IGxpc3RbaSArIHN0YXJ0XTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldFxuXHR9XG5cdFxuXHQvKipcblx0ICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gZXh0ZW5kICh0bywgX2Zyb20pIHtcblx0ICBmb3IgKHZhciBrZXkgaW4gX2Zyb20pIHtcblx0ICAgIHRvW2tleV0gPSBfZnJvbVtrZXldO1xuXHQgIH1cblx0ICByZXR1cm4gdG9cblx0fVxuXHRcblx0LyoqXG5cdCAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxuXHQgKiBPYmplY3RzIGZyb20gcHJpbWl0aXZlIHZhbHVlcyB3aGVuIHdlIGtub3cgdGhlIHZhbHVlXG5cdCAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0IChvYmopIHtcblx0ICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlXG5cdCAqIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMuXG5cdCAqL1xuXHR2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHR2YXIgT0JKRUNUX1NUUklORyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXHRmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBPQkpFQ1RfU1RSSU5HXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNZXJnZSBhbiBBcnJheSBvZiBPYmplY3RzIGludG8gYSBzaW5nbGUgT2JqZWN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9PYmplY3QgKGFycikge1xuXHQgIHZhciByZXMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKGFycltpXSkge1xuXHQgICAgICBleHRlbmQocmVzLCBhcnJbaV0pO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQZXJmb3JtIG5vIG9wZXJhdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG5vb3AgKCkge31cblx0XG5cdC8qKlxuXHQgKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxuXHQgKi9cblx0dmFyIG5vID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cdFxuXHQvKipcblx0ICogR2VuZXJhdGUgYSBzdGF0aWMga2V5cyBzdHJpbmcgZnJvbSBjb21waWxlciBtb2R1bGVzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2VuU3RhdGljS2V5cyAobW9kdWxlcykge1xuXHQgIHJldHVybiBtb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAoa2V5cywgbSkge1xuXHQgICAgcmV0dXJuIGtleXMuY29uY2F0KG0uc3RhdGljS2V5cyB8fCBbXSlcblx0ICB9LCBbXSkuam9pbignLCcpXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcblx0ICogaWYgdGhleSBhcmUgcGxhaW4gb2JqZWN0cywgZG8gdGhleSBoYXZlIHRoZSBzYW1lIHNoYXBlP1xuXHQgKi9cblx0ZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHQgIHJldHVybiBhID09IGIgfHwgKFxuXHQgICAgaXNPYmplY3QoYSkgJiYgaXNPYmplY3QoYilcblx0ICAgICAgPyBKU09OLnN0cmluZ2lmeShhKSA9PT0gSlNPTi5zdHJpbmdpZnkoYilcblx0ICAgICAgOiBmYWxzZVxuXHQgIClcblx0ICAvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb29zZUluZGV4T2YgKGFyciwgdmFsKSB7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChsb29zZUVxdWFsKGFycltpXSwgdmFsKSkgeyByZXR1cm4gaSB9XG5cdCAgfVxuXHQgIHJldHVybiAtMVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiBhIHN0cmluZyBzdGFydHMgd2l0aCAkIG9yIF9cblx0ICovXG5cdGZ1bmN0aW9uIGlzUmVzZXJ2ZWQgKHN0cikge1xuXHQgIHZhciBjID0gKHN0ciArICcnKS5jaGFyQ29kZUF0KDApO1xuXHQgIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcblx0fVxuXHRcblx0LyoqXG5cdCAqIERlZmluZSBhIHByb3BlcnR5LlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVmIChvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG5cdCAgICB2YWx1ZTogdmFsLFxuXHQgICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxuXHQgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFBhcnNlIHNpbXBsZSBwYXRoLlxuXHQgKi9cblx0dmFyIGJhaWxSRSA9IC9bXlxcdy4kXS87XG5cdGZ1bmN0aW9uIHBhcnNlUGF0aCAocGF0aCkge1xuXHQgIGlmIChiYWlsUkUudGVzdChwYXRoKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoIW9iaikgeyByZXR1cm4gfVxuXHQgICAgICAgIG9iaiA9IG9ialtzZWdtZW50c1tpXV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG9ialxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdC8qIGdsb2JhbHMgTXV0YXRpb25PYnNlcnZlciAqL1xuXHRcblx0Ly8gY2FuIHdlIHVzZSBfX3Byb3RvX18/XG5cdHZhciBoYXNQcm90byA9ICdfX3Byb3RvX18nIGluIHt9O1xuXHRcblx0Ly8gQnJvd3NlciBlbnZpcm9ubWVudCBzbmlmZmluZ1xuXHR2YXIgaW5Ccm93c2VyID1cblx0ICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cpICE9PSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdHZhciBVQSA9IGluQnJvd3NlciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXHR2YXIgaXNJRSA9IFVBICYmIC9tc2llfHRyaWRlbnQvLnRlc3QoVUEpO1xuXHR2YXIgaXNJRTkgPSBVQSAmJiBVQS5pbmRleE9mKCdtc2llIDkuMCcpID4gMDtcblx0dmFyIGlzRWRnZSA9IFVBICYmIFVBLmluZGV4T2YoJ2VkZ2UvJykgPiAwO1xuXHR2YXIgaXNBbmRyb2lkID0gVUEgJiYgVUEuaW5kZXhPZignYW5kcm9pZCcpID4gMDtcblx0dmFyIGlzSU9TID0gVUEgJiYgL2lwaG9uZXxpcGFkfGlwb2R8aW9zLy50ZXN0KFVBKTtcblx0XG5cdC8vIHRoaXMgbmVlZHMgdG8gYmUgbGF6eS1ldmFsZWQgYmVjYXVzZSB2dWUgbWF5IGJlIHJlcXVpcmVkIGJlZm9yZVxuXHQvLyB2dWUtc2VydmVyLXJlbmRlcmVyIGNhbiBzZXQgVlVFX0VOVlxuXHR2YXIgX2lzU2VydmVyO1xuXHR2YXIgaXNTZXJ2ZXJSZW5kZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKF9pc1NlcnZlciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgIGlmICghaW5Ccm93c2VyICYmIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIC8vIGRldGVjdCBwcmVzZW5jZSBvZiB2dWUtc2VydmVyLXJlbmRlcmVyIGFuZCBhdm9pZFxuXHQgICAgICAvLyBXZWJwYWNrIHNoaW1taW5nIHRoZSBwcm9jZXNzXG5cdCAgICAgIF9pc1NlcnZlciA9IGdsb2JhbFsncHJvY2VzcyddLmVudi5WVUVfRU5WID09PSAnc2VydmVyJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gX2lzU2VydmVyXG5cdH07XG5cdFxuXHQvLyBkZXRlY3QgZGV2dG9vbHNcblx0dmFyIGRldnRvb2xzID0gaW5Ccm93c2VyICYmIHdpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuXHRcblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ZnVuY3Rpb24gaXNOYXRpdmUgKEN0b3IpIHtcblx0ICByZXR1cm4gL25hdGl2ZSBjb2RlLy50ZXN0KEN0b3IudG9TdHJpbmcoKSlcblx0fVxuXHRcblx0LyoqXG5cdCAqIERlZmVyIGEgdGFzayB0byBleGVjdXRlIGl0IGFzeW5jaHJvbm91c2x5LlxuXHQgKi9cblx0dmFyIG5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgY2FsbGJhY2tzID0gW107XG5cdCAgdmFyIHBlbmRpbmcgPSBmYWxzZTtcblx0ICB2YXIgdGltZXJGdW5jO1xuXHRcblx0ICBmdW5jdGlvbiBuZXh0VGlja0hhbmRsZXIgKCkge1xuXHQgICAgcGVuZGluZyA9IGZhbHNlO1xuXHQgICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcblx0ICAgIGNhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgY29waWVzW2ldKCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyB0aGUgbmV4dFRpY2sgYmVoYXZpb3IgbGV2ZXJhZ2VzIHRoZSBtaWNyb3Rhc2sgcXVldWUsIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZFxuXHQgIC8vIHZpYSBlaXRoZXIgbmF0aXZlIFByb21pc2UudGhlbiBvciBNdXRhdGlvbk9ic2VydmVyLlxuXHQgIC8vIE11dGF0aW9uT2JzZXJ2ZXIgaGFzIHdpZGVyIHN1cHBvcnQsIGhvd2V2ZXIgaXQgaXMgc2VyaW91c2x5IGJ1Z2dlZCBpblxuXHQgIC8vIFVJV2ViVmlldyBpbiBpT1MgPj0gOS4zLjMgd2hlbiB0cmlnZ2VyZWQgaW4gdG91Y2ggZXZlbnQgaGFuZGxlcnMuIEl0XG5cdCAgLy8gY29tcGxldGVseSBzdG9wcyB3b3JraW5nIGFmdGVyIHRyaWdnZXJpbmcgYSBmZXcgdGltZXMuLi4gc28sIGlmIG5hdGl2ZVxuXHQgIC8vIFByb21pc2UgaXMgYXZhaWxhYmxlLCB3ZSB3aWxsIHVzZSBpdDpcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb21pc2UpKSB7XG5cdCAgICB2YXIgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBwLnRoZW4obmV4dFRpY2tIYW5kbGVyKTtcblx0ICAgICAgLy8gaW4gcHJvYmxlbWF0aWMgVUlXZWJWaWV3cywgUHJvbWlzZS50aGVuIGRvZXNuJ3QgY29tcGxldGVseSBicmVhaywgYnV0XG5cdCAgICAgIC8vIGl0IGNhbiBnZXQgc3R1Y2sgaW4gYSB3ZWlyZCBzdGF0ZSB3aGVyZSBjYWxsYmFja3MgYXJlIHB1c2hlZCBpbnRvIHRoZVxuXHQgICAgICAvLyBtaWNyb3Rhc2sgcXVldWUgYnV0IHRoZSBxdWV1ZSBpc24ndCBiZWluZyBmbHVzaGVkLCB1bnRpbCB0aGUgYnJvd3NlclxuXHQgICAgICAvLyBuZWVkcyB0byBkbyBzb21lIG90aGVyIHdvcmssIGUuZy4gaGFuZGxlIGEgdGltZXIuIFRoZXJlZm9yZSB3ZSBjYW5cblx0ICAgICAgLy8gXCJmb3JjZVwiIHRoZSBtaWNyb3Rhc2sgcXVldWUgdG8gYmUgZmx1c2hlZCBieSBhZGRpbmcgYW4gZW1wdHkgdGltZXIuXG5cdCAgICAgIGlmIChpc0lPUykgeyBzZXRUaW1lb3V0KG5vb3ApOyB9XG5cdCAgICB9O1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnICYmIChcblx0ICAgIGlzTmF0aXZlKE11dGF0aW9uT2JzZXJ2ZXIpIHx8XG5cdCAgICAvLyBQaGFudG9tSlMgYW5kIGlPUyA3Lnhcblx0ICAgIE11dGF0aW9uT2JzZXJ2ZXIudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgTXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yXSdcblx0ICApKSB7XG5cdCAgICAvLyB1c2UgTXV0YXRpb25PYnNlcnZlciB3aGVyZSBuYXRpdmUgUHJvbWlzZSBpcyBub3QgYXZhaWxhYmxlLFxuXHQgICAgLy8gZS5nLiBQaGFudG9tSlMgSUUxMSwgaU9TNywgQW5kcm9pZCA0LjRcblx0ICAgIHZhciBjb3VudGVyID0gMTtcblx0ICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG5leHRUaWNrSGFuZGxlcik7XG5cdCAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY291bnRlcikpO1xuXHQgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0ZXh0Tm9kZSwge1xuXHQgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSAyO1xuXHQgICAgICB0ZXh0Tm9kZS5kYXRhID0gU3RyaW5nKGNvdW50ZXIpO1xuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gZmFsbGJhY2sgdG8gc2V0VGltZW91dFxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgc2V0VGltZW91dChuZXh0VGlja0hhbmRsZXIsIDApO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBxdWV1ZU5leHRUaWNrIChjYiwgY3R4KSB7XG5cdCAgICB2YXIgX3Jlc29sdmU7XG5cdCAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChjYikgeyBjYi5jYWxsKGN0eCk7IH1cblx0ICAgICAgaWYgKF9yZXNvbHZlKSB7IF9yZXNvbHZlKGN0eCk7IH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKCFwZW5kaW5nKSB7XG5cdCAgICAgIHBlbmRpbmcgPSB0cnVlO1xuXHQgICAgICB0aW1lckZ1bmMoKTtcblx0ICAgIH1cblx0ICAgIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcblx0ICAgICAgfSlcblx0ICAgIH1cblx0ICB9XG5cdH0pKCk7XG5cdFxuXHR2YXIgX1NldDtcblx0LyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdGlmICh0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTZXQpKSB7XG5cdCAgLy8gdXNlIG5hdGl2ZSBTZXQgd2hlbiBhdmFpbGFibGUuXG5cdCAgX1NldCA9IFNldDtcblx0fSBlbHNlIHtcblx0ICAvLyBhIG5vbi1zdGFuZGFyZCBTZXQgcG9seWZpbGwgdGhhdCBvbmx5IHdvcmtzIHdpdGggcHJpbWl0aXZlIGtleXMuXG5cdCAgX1NldCA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBTZXQgKCkge1xuXHQgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICB9XG5cdCAgICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNldFtrZXldICE9PSB1bmRlZmluZWRcblx0ICAgIH07XG5cdCAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoa2V5KSB7XG5cdCAgICAgIHRoaXMuc2V0W2tleV0gPSAxO1xuXHQgICAgfTtcblx0ICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG5cdCAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFNldDtcblx0ICB9KCkpO1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBjb25maWcgPSB7XG5cdCAgLyoqXG5cdCAgICogT3B0aW9uIG1lcmdlIHN0cmF0ZWdpZXMgKHVzZWQgaW4gY29yZS91dGlsL29wdGlvbnMpXG5cdCAgICovXG5cdCAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcblx0ICAvKipcblx0ICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxuXHQgICAqL1xuXHQgIHNpbGVudDogZmFsc2UsXG5cdFxuXHQgIC8qKlxuXHQgICAqIFdoZXRoZXIgdG8gZW5hYmxlIGRldnRvb2xzXG5cdCAgICovXG5cdCAgZGV2dG9vbHM6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG5cdFxuXHQgIC8qKlxuXHQgICAqIEVycm9yIGhhbmRsZXIgZm9yIHdhdGNoZXIgZXJyb3JzXG5cdCAgICovXG5cdCAgZXJyb3JIYW5kbGVyOiBudWxsLFxuXHRcblx0ICAvKipcblx0ICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcblx0ICAgKi9cblx0ICBpZ25vcmVkRWxlbWVudHM6IG51bGwsXG5cdFxuXHQgIC8qKlxuXHQgICAqIEN1c3RvbSB1c2VyIGtleSBhbGlhc2VzIGZvciB2LW9uXG5cdCAgICovXG5cdCAga2V5Q29kZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFxuXHQgIC8qKlxuXHQgICAqIENoZWNrIGlmIGEgdGFnIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHJlZ2lzdGVyZWQgYXMgYVxuXHQgICAqIGNvbXBvbmVudC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cblx0ICAgKi9cblx0ICBpc1Jlc2VydmVkVGFnOiBubyxcblx0XG5cdCAgLyoqXG5cdCAgICogQ2hlY2sgaWYgYSB0YWcgaXMgYW4gdW5rbm93biBlbGVtZW50LlxuXHQgICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cblx0ICAgKi9cblx0ICBpc1Vua25vd25FbGVtZW50OiBubyxcblx0XG5cdCAgLyoqXG5cdCAgICogR2V0IHRoZSBuYW1lc3BhY2Ugb2YgYW4gZWxlbWVudFxuXHQgICAqL1xuXHQgIGdldFRhZ05hbWVzcGFjZTogbm9vcCxcblx0XG5cdCAgLyoqXG5cdCAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIG11c3QgYmUgYm91bmQgdXNpbmcgcHJvcGVydHksIGUuZy4gdmFsdWVcblx0ICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG5cdCAgICovXG5cdCAgbXVzdFVzZVByb3A6IG5vLFxuXHRcblx0ICAvKipcblx0ICAgKiBMaXN0IG9mIGFzc2V0IHR5cGVzIHRoYXQgYSBjb21wb25lbnQgY2FuIG93bi5cblx0ICAgKi9cblx0ICBfYXNzZXRUeXBlczogW1xuXHQgICAgJ2NvbXBvbmVudCcsXG5cdCAgICAnZGlyZWN0aXZlJyxcblx0ICAgICdmaWx0ZXInXG5cdCAgXSxcblx0XG5cdCAgLyoqXG5cdCAgICogTGlzdCBvZiBsaWZlY3ljbGUgaG9va3MuXG5cdCAgICovXG5cdCAgX2xpZmVjeWNsZUhvb2tzOiBbXG5cdCAgICAnYmVmb3JlQ3JlYXRlJyxcblx0ICAgICdjcmVhdGVkJyxcblx0ICAgICdiZWZvcmVNb3VudCcsXG5cdCAgICAnbW91bnRlZCcsXG5cdCAgICAnYmVmb3JlVXBkYXRlJyxcblx0ICAgICd1cGRhdGVkJyxcblx0ICAgICdiZWZvcmVEZXN0cm95Jyxcblx0ICAgICdkZXN0cm95ZWQnLFxuXHQgICAgJ2FjdGl2YXRlZCcsXG5cdCAgICAnZGVhY3RpdmF0ZWQnXG5cdCAgXSxcblx0XG5cdCAgLyoqXG5cdCAgICogTWF4IGNpcmN1bGFyIHVwZGF0ZXMgYWxsb3dlZCBpbiBhIHNjaGVkdWxlciBmbHVzaCBjeWNsZS5cblx0ICAgKi9cblx0ICBfbWF4VXBkYXRlQ291bnQ6IDEwMFxuXHR9O1xuXHRcblx0dmFyIHdhcm4gPSBub29wO1xuXHR2YXIgZm9ybWF0Q29tcG9uZW50TmFtZTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7XG5cdFxuXHQgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuXHQgICAgaWYgKGhhc0NvbnNvbGUgJiYgKCFjb25maWcuc2lsZW50KSkge1xuXHQgICAgICBjb25zb2xlLmVycm9yKFwiW1Z1ZSB3YXJuXTogXCIgKyBtc2cgKyBcIiBcIiArIChcblx0ICAgICAgICB2bSA/IGZvcm1hdExvY2F0aW9uKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSA6ICcnXG5cdCAgICAgICkpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGZvcm1hdENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0pIHtcblx0ICAgIGlmICh2bS4kcm9vdCA9PT0gdm0pIHtcblx0ICAgICAgcmV0dXJuICdyb290IGluc3RhbmNlJ1xuXHQgICAgfVxuXHQgICAgdmFyIG5hbWUgPSB2bS5faXNWdWVcblx0ICAgICAgPyB2bS4kb3B0aW9ucy5uYW1lIHx8IHZtLiRvcHRpb25zLl9jb21wb25lbnRUYWdcblx0ICAgICAgOiB2bS5uYW1lO1xuXHQgICAgcmV0dXJuIChcblx0ICAgICAgKG5hbWUgPyAoXCJjb21wb25lbnQgPFwiICsgbmFtZSArIFwiPlwiKSA6IFwiYW5vbnltb3VzIGNvbXBvbmVudFwiKSArXG5cdCAgICAgICh2bS5faXNWdWUgJiYgdm0uJG9wdGlvbnMuX19maWxlID8gKFwiIGF0IFwiICsgKHZtLiRvcHRpb25zLl9fZmlsZSkpIDogJycpXG5cdCAgICApXG5cdCAgfTtcblx0XG5cdCAgdmFyIGZvcm1hdExvY2F0aW9uID0gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgaWYgKHN0ciA9PT0gJ2Fub255bW91cyBjb21wb25lbnQnKSB7XG5cdCAgICAgIHN0ciArPSBcIiAtIHVzZSB0aGUgXFxcIm5hbWVcXFwiIG9wdGlvbiBmb3IgYmV0dGVyIGRlYnVnZ2luZyBtZXNzYWdlcy5cIjtcblx0ICAgIH1cblx0ICAgIHJldHVybiAoXCJcXG4oZm91bmQgaW4gXCIgKyBzdHIgKyBcIilcIilcblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdFxuXHR2YXIgdWlkJDEgPSAwO1xuXHRcblx0LyoqXG5cdCAqIEEgZGVwIGlzIGFuIG9ic2VydmFibGUgdGhhdCBjYW4gaGF2ZSBtdWx0aXBsZVxuXHQgKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxuXHQgKi9cblx0dmFyIERlcCA9IGZ1bmN0aW9uIERlcCAoKSB7XG5cdCAgdGhpcy5pZCA9IHVpZCQxKys7XG5cdCAgdGhpcy5zdWJzID0gW107XG5cdH07XG5cdFxuXHREZXAucHJvdG90eXBlLmFkZFN1YiA9IGZ1bmN0aW9uIGFkZFN1YiAoc3ViKSB7XG5cdCAgdGhpcy5zdWJzLnB1c2goc3ViKTtcblx0fTtcblx0XG5cdERlcC5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24gcmVtb3ZlU3ViIChzdWIpIHtcblx0ICByZW1vdmUkMSh0aGlzLnN1YnMsIHN1Yik7XG5cdH07XG5cdFxuXHREZXAucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG5cdCAgaWYgKERlcC50YXJnZXQpIHtcblx0ICAgIERlcC50YXJnZXQuYWRkRGVwKHRoaXMpO1xuXHQgIH1cblx0fTtcblx0XG5cdERlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5ICgpIHtcblx0ICAvLyBzdGFibGl6ZSB0aGUgc3Vic2NyaWJlciBsaXN0IGZpcnN0XG5cdCAgdmFyIHN1YnMgPSB0aGlzLnN1YnMuc2xpY2UoKTtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IHN1YnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBzdWJzW2ldLnVwZGF0ZSgpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIHRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC5cblx0Ly8gdGhpcyBpcyBnbG9iYWxseSB1bmlxdWUgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvbmx5IG9uZVxuXHQvLyB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZCBhdCBhbnkgdGltZS5cblx0RGVwLnRhcmdldCA9IG51bGw7XG5cdHZhciB0YXJnZXRTdGFjayA9IFtdO1xuXHRcblx0ZnVuY3Rpb24gcHVzaFRhcmdldCAoX3RhcmdldCkge1xuXHQgIGlmIChEZXAudGFyZ2V0KSB7IHRhcmdldFN0YWNrLnB1c2goRGVwLnRhcmdldCk7IH1cblx0ICBEZXAudGFyZ2V0ID0gX3RhcmdldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcG9wVGFyZ2V0ICgpIHtcblx0ICBEZXAudGFyZ2V0ID0gdGFyZ2V0U3RhY2sucG9wKCk7XG5cdH1cblx0XG5cdC8qXG5cdCAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aFxuXHQgKiBkeW5hbWljYWxseSBhY2Nlc3NpbmcgbWV0aG9kcyBvbiBBcnJheSBwcm90b3R5cGVcblx0ICovXG5cdFxuXHR2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblx0dmFyIGFycmF5TWV0aG9kcyA9IE9iamVjdC5jcmVhdGUoYXJyYXlQcm90byk7W1xuXHQgICdwdXNoJyxcblx0ICAncG9wJyxcblx0ICAnc2hpZnQnLFxuXHQgICd1bnNoaWZ0Jyxcblx0ICAnc3BsaWNlJyxcblx0ICAnc29ydCcsXG5cdCAgJ3JldmVyc2UnXG5cdF1cblx0LmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZFxuXHQgIHZhciBvcmlnaW5hbCA9IGFycmF5UHJvdG9bbWV0aG9kXTtcblx0ICBkZWYoYXJyYXlNZXRob2RzLCBtZXRob2QsIGZ1bmN0aW9uIG11dGF0b3IgKCkge1xuXHQgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXHRcblx0ICAgIC8vIGF2b2lkIGxlYWtpbmcgYXJndW1lbnRzOlxuXHQgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvc3VyZS13aXRoLWFyZ3VtZW50c1xuXHQgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHMkMVtpXTtcblx0ICAgIH1cblx0ICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIHZhciBvYiA9IHRoaXMuX19vYl9fO1xuXHQgICAgdmFyIGluc2VydGVkO1xuXHQgICAgc3dpdGNoIChtZXRob2QpIHtcblx0ICAgICAgY2FzZSAncHVzaCc6XG5cdCAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzO1xuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIGNhc2UgJ3Vuc2hpZnQnOlxuXHQgICAgICAgIGluc2VydGVkID0gYXJncztcblx0ICAgICAgICBicmVha1xuXHQgICAgICBjYXNlICdzcGxpY2UnOlxuXHQgICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTtcblx0ICAgICAgICBicmVha1xuXHQgICAgfVxuXHQgICAgaWYgKGluc2VydGVkKSB7IG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7IH1cblx0ICAgIC8vIG5vdGlmeSBjaGFuZ2Vcblx0ICAgIG9iLmRlcC5ub3RpZnkoKTtcblx0ICAgIHJldHVybiByZXN1bHRcblx0ICB9KTtcblx0fSk7XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBhcnJheUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcnJheU1ldGhvZHMpO1xuXHRcblx0LyoqXG5cdCAqIEJ5IGRlZmF1bHQsIHdoZW4gYSByZWFjdGl2ZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBuZXcgdmFsdWUgaXNcblx0ICogYWxzbyBjb252ZXJ0ZWQgdG8gYmVjb21lIHJlYWN0aXZlLiBIb3dldmVyIHdoZW4gcGFzc2luZyBkb3duIHByb3BzLFxuXHQgKiB3ZSBkb24ndCB3YW50IHRvIGZvcmNlIGNvbnZlcnNpb24gYmVjYXVzZSB0aGUgdmFsdWUgbWF5IGJlIGEgbmVzdGVkIHZhbHVlXG5cdCAqIHVuZGVyIGEgZnJvemVuIGRhdGEgc3RydWN0dXJlLiBDb252ZXJ0aW5nIGl0IHdvdWxkIGRlZmVhdCB0aGUgb3B0aW1pemF0aW9uLlxuXHQgKi9cblx0dmFyIG9ic2VydmVyU3RhdGUgPSB7XG5cdCAgc2hvdWxkQ29udmVydDogdHJ1ZSxcblx0ICBpc1NldHRpbmdQcm9wczogZmFsc2Vcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBPYnNlcnZlciBjbGFzcyB0aGF0IGFyZSBhdHRhY2hlZCB0byBlYWNoIG9ic2VydmVkXG5cdCAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRhcmdldFxuXHQgKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdFxuXHQgKiBjb2xsZWN0IGRlcGVuZGVuY2llcyBhbmQgZGlzcGF0Y2hlcyB1cGRhdGVzLlxuXHQgKi9cblx0dmFyIE9ic2VydmVyID0gZnVuY3Rpb24gT2JzZXJ2ZXIgKHZhbHVlKSB7XG5cdCAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuXHQgIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuXHQgIHRoaXMudm1Db3VudCA9IDA7XG5cdCAgZGVmKHZhbHVlLCAnX19vYl9fJywgdGhpcyk7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICB2YXIgYXVnbWVudCA9IGhhc1Byb3RvXG5cdCAgICAgID8gcHJvdG9BdWdtZW50XG5cdCAgICAgIDogY29weUF1Z21lbnQ7XG5cdCAgICBhdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cyk7XG5cdCAgICB0aGlzLm9ic2VydmVBcnJheSh2YWx1ZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRoaXMud2Fsayh2YWx1ZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFdhbGsgdGhyb3VnaCBlYWNoIHByb3BlcnR5IGFuZCBjb252ZXJ0IHRoZW0gaW50b1xuXHQgKiBnZXR0ZXIvc2V0dGVycy4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW5cblx0ICogdmFsdWUgdHlwZSBpcyBPYmplY3QuXG5cdCAqL1xuXHRPYnNlcnZlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIHdhbGsgKG9iaikge1xuXHQgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGRlZmluZVJlYWN0aXZlJCQxKG9iaiwga2V5c1tpXSwgb2JqW2tleXNbaV1dKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogT2JzZXJ2ZSBhIGxpc3Qgb2YgQXJyYXkgaXRlbXMuXG5cdCAqL1xuXHRPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZUFycmF5ID0gZnVuY3Rpb24gb2JzZXJ2ZUFycmF5IChpdGVtcykge1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBvYnNlcnZlKGl0ZW1zW2ldKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBoZWxwZXJzXG5cdFxuXHQvKipcblx0ICogQXVnbWVudCBhbiB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGludGVyY2VwdGluZ1xuXHQgKiB0aGUgcHJvdG90eXBlIGNoYWluIHVzaW5nIF9fcHJvdG9fX1xuXHQgKi9cblx0ZnVuY3Rpb24gcHJvdG9BdWdtZW50ICh0YXJnZXQsIHNyYykge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdCAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHNyYztcblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBdWdtZW50IGFuIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgZGVmaW5pbmdcblx0ICogaGlkZGVuIHByb3BlcnRpZXMuXG5cdCAqXG5cdCAqIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cdCAqL1xuXHRmdW5jdGlvbiBjb3B5QXVnbWVudCAodGFyZ2V0LCBzcmMsIGtleXMpIHtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgIGRlZih0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLFxuXHQgKiByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgaWYgc3VjY2Vzc2Z1bGx5IG9ic2VydmVkLFxuXHQgKiBvciB0aGUgZXhpc3Rpbmcgb2JzZXJ2ZXIgaWYgdGhlIHZhbHVlIGFscmVhZHkgaGFzIG9uZS5cblx0ICovXG5cdGZ1bmN0aW9uIG9ic2VydmUgKHZhbHVlKSB7XG5cdCAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgb2I7XG5cdCAgaWYgKGhhc093bih2YWx1ZSwgJ19fb2JfXycpICYmIHZhbHVlLl9fb2JfXyBpbnN0YW5jZW9mIE9ic2VydmVyKSB7XG5cdCAgICBvYiA9IHZhbHVlLl9fb2JfXztcblx0ICB9IGVsc2UgaWYgKFxuXHQgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ICYmXG5cdCAgICAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSAmJlxuXHQgICAgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUpKSAmJlxuXHQgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiZcblx0ICAgICF2YWx1ZS5faXNWdWVcblx0ICApIHtcblx0ICAgIG9iID0gbmV3IE9ic2VydmVyKHZhbHVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIG9iXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZWZpbmUgYSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiBhbiBPYmplY3QuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZSQkMSAoXG5cdCAgb2JqLFxuXHQgIGtleSxcblx0ICB2YWwsXG5cdCAgY3VzdG9tU2V0dGVyXG5cdCkge1xuXHQgIHZhciBkZXAgPSBuZXcgRGVwKCk7XG5cdFxuXHQgIHZhciBwcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXHQgIGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIC8vIGNhdGVyIGZvciBwcmUtZGVmaW5lZCBnZXR0ZXIvc2V0dGVyc1xuXHQgIHZhciBnZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXQ7XG5cdCAgdmFyIHNldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnNldDtcblx0XG5cdCAgdmFyIGNoaWxkT2IgPSBvYnNlcnZlKHZhbCk7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiByZWFjdGl2ZUdldHRlciAoKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG5cdCAgICAgIGlmIChEZXAudGFyZ2V0KSB7XG5cdCAgICAgICAgZGVwLmRlcGVuZCgpO1xuXHQgICAgICAgIGlmIChjaGlsZE9iKSB7XG5cdCAgICAgICAgICBjaGlsZE9iLmRlcC5kZXBlbmQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICAgICAgICBkZXBlbmRBcnJheSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2YWx1ZVxuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xuXHQgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cblx0ICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHtcblx0ICAgICAgICByZXR1cm5cblx0ICAgICAgfVxuXHQgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjdXN0b21TZXR0ZXIpIHtcblx0ICAgICAgICBjdXN0b21TZXR0ZXIoKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc2V0dGVyKSB7XG5cdCAgICAgICAgc2V0dGVyLmNhbGwob2JqLCBuZXdWYWwpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbCA9IG5ld1ZhbDtcblx0ICAgICAgfVxuXHQgICAgICBjaGlsZE9iID0gb2JzZXJ2ZShuZXdWYWwpO1xuXHQgICAgICBkZXAubm90aWZ5KCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTZXQgYSBwcm9wZXJ0eSBvbiBhbiBvYmplY3QuIEFkZHMgdGhlIG5ldyBwcm9wZXJ0eSBhbmRcblx0ICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndFxuXHQgKiBhbHJlYWR5IGV4aXN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gc2V0IChvYmosIGtleSwgdmFsKSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHQgICAgb2JqLmxlbmd0aCA9IE1hdGgubWF4KG9iai5sZW5ndGgsIGtleSk7XG5cdCAgICBvYmouc3BsaWNlKGtleSwgMSwgdmFsKTtcblx0ICAgIHJldHVybiB2YWxcblx0ICB9XG5cdCAgaWYgKGhhc093bihvYmosIGtleSkpIHtcblx0ICAgIG9ialtrZXldID0gdmFsO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBvYiA9IG9iai5fX29iX187XG5cdCAgaWYgKG9iai5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICdBdm9pZCBhZGRpbmcgcmVhY3RpdmUgcHJvcGVydGllcyB0byBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcblx0ICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLidcblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgaWYgKCFvYikge1xuXHQgICAgb2JqW2tleV0gPSB2YWw7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgZGVmaW5lUmVhY3RpdmUkJDEob2IudmFsdWUsIGtleSwgdmFsKTtcblx0ICBvYi5kZXAubm90aWZ5KCk7XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHQvKipcblx0ICogRGVsZXRlIGEgcHJvcGVydHkgYW5kIHRyaWdnZXIgY2hhbmdlIGlmIG5lY2Vzc2FyeS5cblx0ICovXG5cdGZ1bmN0aW9uIGRlbCAob2JqLCBrZXkpIHtcblx0ICB2YXIgb2IgPSBvYmouX19vYl9fO1xuXHQgIGlmIChvYmouX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAnQXZvaWQgZGVsZXRpbmcgcHJvcGVydGllcyBvbiBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcblx0ICAgICAgJy0ganVzdCBzZXQgaXQgdG8gbnVsbC4nXG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGlmICghaGFzT3duKG9iaiwga2V5KSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGRlbGV0ZSBvYmpba2V5XTtcblx0ICBpZiAoIW9iKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgb2IuZGVwLm5vdGlmeSgpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ29sbGVjdCBkZXBlbmRlbmNpZXMgb24gYXJyYXkgZWxlbWVudHMgd2hlbiB0aGUgYXJyYXkgaXMgdG91Y2hlZCwgc2luY2Vcblx0ICogd2UgY2Fubm90IGludGVyY2VwdCBhcnJheSBlbGVtZW50IGFjY2VzcyBsaWtlIHByb3BlcnR5IGdldHRlcnMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZXBlbmRBcnJheSAodmFsdWUpIHtcblx0ICBmb3IgKHZhciBlID0gKHZvaWQgMCksIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBlID0gdmFsdWVbaV07XG5cdCAgICBlICYmIGUuX19vYl9fICYmIGUuX19vYl9fLmRlcC5kZXBlbmQoKTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG5cdCAgICAgIGRlcGVuZEFycmF5KGUpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHQvKipcblx0ICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZVxuXHQgKiBob3cgdG8gbWVyZ2UgYSBwYXJlbnQgb3B0aW9uIHZhbHVlIGFuZCBhIGNoaWxkIG9wdGlvblxuXHQgKiB2YWx1ZSBpbnRvIHRoZSBmaW5hbCB2YWx1ZS5cblx0ICovXG5cdHZhciBzdHJhdHMgPSBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO1xuXHRcblx0LyoqXG5cdCAqIE9wdGlvbnMgd2l0aCByZXN0cmljdGlvbnNcblx0ICovXG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgc3RyYXRzLmVsID0gc3RyYXRzLnByb3BzRGF0YSA9IGZ1bmN0aW9uIChwYXJlbnQsIGNoaWxkLCB2bSwga2V5KSB7XG5cdCAgICBpZiAoIXZtKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgXCJvcHRpb24gXFxcIlwiICsga2V5ICsgXCJcXFwiIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGluc3RhbmNlIFwiICtcblx0ICAgICAgICAnY3JlYXRpb24gd2l0aCB0aGUgYG5ld2Aga2V5d29yZC4nXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGVmYXVsdFN0cmF0KHBhcmVudCwgY2hpbGQpXG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEhlbHBlciB0aGF0IHJlY3Vyc2l2ZWx5IG1lcmdlcyB0d28gZGF0YSBvYmplY3RzIHRvZ2V0aGVyLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2VEYXRhICh0bywgZnJvbSkge1xuXHQgIGlmICghZnJvbSkgeyByZXR1cm4gdG8gfVxuXHQgIHZhciBrZXksIHRvVmFsLCBmcm9tVmFsO1xuXHQgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJvbSk7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBrZXkgPSBrZXlzW2ldO1xuXHQgICAgdG9WYWwgPSB0b1trZXldO1xuXHQgICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcblx0ICAgIGlmICghaGFzT3duKHRvLCBrZXkpKSB7XG5cdCAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh0b1ZhbCkgJiYgaXNQbGFpbk9iamVjdChmcm9tVmFsKSkge1xuXHQgICAgICBtZXJnZURhdGEodG9WYWwsIGZyb21WYWwpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdG9cblx0fVxuXHRcblx0LyoqXG5cdCAqIERhdGFcblx0ICovXG5cdHN0cmF0cy5kYXRhID0gZnVuY3Rpb24gKFxuXHQgIHBhcmVudFZhbCxcblx0ICBjaGlsZFZhbCxcblx0ICB2bVxuXHQpIHtcblx0ICBpZiAoIXZtKSB7XG5cdCAgICAvLyBpbiBhIFZ1ZS5leHRlbmQgbWVyZ2UsIGJvdGggc2hvdWxkIGJlIGZ1bmN0aW9uc1xuXHQgICAgaWYgKCFjaGlsZFZhbCkge1xuXHQgICAgICByZXR1cm4gcGFyZW50VmFsXG5cdCAgICB9XG5cdCAgICBpZiAodHlwZW9mIGNoaWxkVmFsICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICAnVGhlIFwiZGF0YVwiIG9wdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvbiAnICtcblx0ICAgICAgICAndGhhdCByZXR1cm5zIGEgcGVyLWluc3RhbmNlIHZhbHVlIGluIGNvbXBvbmVudCAnICtcblx0ICAgICAgICAnZGVmaW5pdGlvbnMuJyxcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgICByZXR1cm4gcGFyZW50VmFsXG5cdCAgICB9XG5cdCAgICBpZiAoIXBhcmVudFZhbCkge1xuXHQgICAgICByZXR1cm4gY2hpbGRWYWxcblx0ICAgIH1cblx0ICAgIC8vIHdoZW4gcGFyZW50VmFsICYgY2hpbGRWYWwgYXJlIGJvdGggcHJlc2VudCxcblx0ICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuXHQgICAgLy8gbWVyZ2VkIHJlc3VsdCBvZiBib3RoIGZ1bmN0aW9ucy4uLiBubyBuZWVkIHRvXG5cdCAgICAvLyBjaGVjayBpZiBwYXJlbnRWYWwgaXMgYSBmdW5jdGlvbiBoZXJlIGJlY2F1c2Vcblx0ICAgIC8vIGl0IGhhcyB0byBiZSBhIGZ1bmN0aW9uIHRvIHBhc3MgcHJldmlvdXMgbWVyZ2VzLlxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbiAoKSB7XG5cdCAgICAgIHJldHVybiBtZXJnZURhdGEoXG5cdCAgICAgICAgY2hpbGRWYWwuY2FsbCh0aGlzKSxcblx0ICAgICAgICBwYXJlbnRWYWwuY2FsbCh0aGlzKVxuXHQgICAgICApXG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChwYXJlbnRWYWwgfHwgY2hpbGRWYWwpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRJbnN0YW5jZURhdGFGbiAoKSB7XG5cdCAgICAgIC8vIGluc3RhbmNlIG1lcmdlXG5cdCAgICAgIHZhciBpbnN0YW5jZURhdGEgPSB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbidcblx0ICAgICAgICA/IGNoaWxkVmFsLmNhbGwodm0pXG5cdCAgICAgICAgOiBjaGlsZFZhbDtcblx0ICAgICAgdmFyIGRlZmF1bHREYXRhID0gdHlwZW9mIHBhcmVudFZhbCA9PT0gJ2Z1bmN0aW9uJ1xuXHQgICAgICAgID8gcGFyZW50VmFsLmNhbGwodm0pXG5cdCAgICAgICAgOiB1bmRlZmluZWQ7XG5cdCAgICAgIGlmIChpbnN0YW5jZURhdGEpIHtcblx0ICAgICAgICByZXR1cm4gbWVyZ2VEYXRhKGluc3RhbmNlRGF0YSwgZGVmYXVsdERhdGEpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGRlZmF1bHREYXRhXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogSG9va3MgYW5kIHBhcmFtIGF0dHJpYnV0ZXMgYXJlIG1lcmdlZCBhcyBhcnJheXMuXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZUhvb2sgKFxuXHQgIHBhcmVudFZhbCxcblx0ICBjaGlsZFZhbFxuXHQpIHtcblx0ICByZXR1cm4gY2hpbGRWYWxcblx0ICAgID8gcGFyZW50VmFsXG5cdCAgICAgID8gcGFyZW50VmFsLmNvbmNhdChjaGlsZFZhbClcblx0ICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKVxuXHQgICAgICAgID8gY2hpbGRWYWxcblx0ICAgICAgICA6IFtjaGlsZFZhbF1cblx0ICAgIDogcGFyZW50VmFsXG5cdH1cblx0XG5cdGNvbmZpZy5fbGlmZWN5Y2xlSG9va3MuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xuXHQgIHN0cmF0c1tob29rXSA9IG1lcmdlSG9vaztcblx0fSk7XG5cdFxuXHQvKipcblx0ICogQXNzZXRzXG5cdCAqXG5cdCAqIFdoZW4gYSB2bSBpcyBwcmVzZW50IChpbnN0YW5jZSBjcmVhdGlvbiksIHdlIG5lZWQgdG8gZG9cblx0ICogYSB0aHJlZS13YXkgbWVyZ2UgYmV0d2VlbiBjb25zdHJ1Y3RvciBvcHRpb25zLCBpbnN0YW5jZVxuXHQgKiBvcHRpb25zIGFuZCBwYXJlbnQgb3B0aW9ucy5cblx0ICovXG5cdGZ1bmN0aW9uIG1lcmdlQXNzZXRzIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG5cdCAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpO1xuXHQgIHJldHVybiBjaGlsZFZhbFxuXHQgICAgPyBleHRlbmQocmVzLCBjaGlsZFZhbClcblx0ICAgIDogcmVzXG5cdH1cblx0XG5cdGNvbmZpZy5fYXNzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFdhdGNoZXJzLlxuXHQgKlxuXHQgKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXG5cdCAqIGFub3RoZXIsIHNvIHdlIG1lcmdlIHRoZW0gYXMgYXJyYXlzLlxuXHQgKi9cblx0c3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoIWNoaWxkVmFsKSB7IHJldHVybiBwYXJlbnRWYWwgfVxuXHQgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG5cdCAgdmFyIHJldCA9IHt9O1xuXHQgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG5cdCAgZm9yICh2YXIga2V5IGluIGNoaWxkVmFsKSB7XG5cdCAgICB2YXIgcGFyZW50ID0gcmV0W2tleV07XG5cdCAgICB2YXIgY2hpbGQgPSBjaGlsZFZhbFtrZXldO1xuXHQgICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7XG5cdCAgICAgIHBhcmVudCA9IFtwYXJlbnRdO1xuXHQgICAgfVxuXHQgICAgcmV0W2tleV0gPSBwYXJlbnRcblx0ICAgICAgPyBwYXJlbnQuY29uY2F0KGNoaWxkKVxuXHQgICAgICA6IFtjaGlsZF07XG5cdCAgfVxuXHQgIHJldHVybiByZXRcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBPdGhlciBvYmplY3QgaGFzaGVzLlxuXHQgKi9cblx0c3RyYXRzLnByb3BzID1cblx0c3RyYXRzLm1ldGhvZHMgPVxuXHRzdHJhdHMuY29tcHV0ZWQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuXHQgIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIHBhcmVudFZhbCB9XG5cdCAgaWYgKCFwYXJlbnRWYWwpIHsgcmV0dXJuIGNoaWxkVmFsIH1cblx0ICB2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICBleHRlbmQocmV0LCBwYXJlbnRWYWwpO1xuXHQgIGV4dGVuZChyZXQsIGNoaWxkVmFsKTtcblx0ICByZXR1cm4gcmV0XG5cdH07XG5cdFxuXHQvKipcblx0ICogRGVmYXVsdCBzdHJhdGVneS5cblx0ICovXG5cdHZhciBkZWZhdWx0U3RyYXQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuXHQgIHJldHVybiBjaGlsZFZhbCA9PT0gdW5kZWZpbmVkXG5cdCAgICA/IHBhcmVudFZhbFxuXHQgICAgOiBjaGlsZFZhbFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFZhbGlkYXRlIGNvbXBvbmVudCBuYW1lc1xuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzIChvcHRpb25zKSB7XG5cdCAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY29tcG9uZW50cykge1xuXHQgICAgdmFyIGxvd2VyID0ga2V5LnRvTG93ZXJDYXNlKCk7XG5cdCAgICBpZiAoaXNCdWlsdEluVGFnKGxvd2VyKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhsb3dlcikpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcblx0ICAgICAgICAnaWQ6ICcgKyBrZXlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFbnN1cmUgYWxsIHByb3BzIG9wdGlvbiBzeW50YXggYXJlIG5vcm1hbGl6ZWQgaW50byB0aGVcblx0ICogT2JqZWN0LWJhc2VkIGZvcm1hdC5cblx0ICovXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzIChvcHRpb25zKSB7XG5cdCAgdmFyIHByb3BzID0gb3B0aW9ucy5wcm9wcztcblx0ICBpZiAoIXByb3BzKSB7IHJldHVybiB9XG5cdCAgdmFyIHJlcyA9IHt9O1xuXHQgIHZhciBpLCB2YWwsIG5hbWU7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG5cdCAgICBpID0gcHJvcHMubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICB2YWwgPSBwcm9wc1tpXTtcblx0ICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XG5cdCAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07XG5cdCAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuXHQgICAgICB2YWwgPSBwcm9wc1trZXldO1xuXHQgICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTtcblx0ICAgICAgcmVzW25hbWVdID0gaXNQbGFpbk9iamVjdCh2YWwpXG5cdCAgICAgICAgPyB2YWxcblx0ICAgICAgICA6IHsgdHlwZTogdmFsIH07XG5cdCAgICB9XG5cdCAgfVxuXHQgIG9wdGlvbnMucHJvcHMgPSByZXM7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LlxuXHQgKi9cblx0ZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyAob3B0aW9ucykge1xuXHQgIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzO1xuXHQgIGlmIChkaXJzKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gZGlycykge1xuXHQgICAgICB2YXIgZGVmID0gZGlyc1trZXldO1xuXHQgICAgICBpZiAodHlwZW9mIGRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIGRpcnNba2V5XSA9IHsgYmluZDogZGVmLCB1cGRhdGU6IGRlZiB9O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxuXHQgKiBDb3JlIHV0aWxpdHkgdXNlZCBpbiBib3RoIGluc3RhbnRpYXRpb24gYW5kIGluaGVyaXRhbmNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2VPcHRpb25zIChcblx0ICBwYXJlbnQsXG5cdCAgY2hpbGQsXG5cdCAgdm1cblx0KSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XG5cdCAgfVxuXHQgIG5vcm1hbGl6ZVByb3BzKGNoaWxkKTtcblx0ICBub3JtYWxpemVEaXJlY3RpdmVzKGNoaWxkKTtcblx0ICB2YXIgZXh0ZW5kc0Zyb20gPSBjaGlsZC5leHRlbmRzO1xuXHQgIGlmIChleHRlbmRzRnJvbSkge1xuXHQgICAgcGFyZW50ID0gdHlwZW9mIGV4dGVuZHNGcm9tID09PSAnZnVuY3Rpb24nXG5cdCAgICAgID8gbWVyZ2VPcHRpb25zKHBhcmVudCwgZXh0ZW5kc0Zyb20ub3B0aW9ucywgdm0pXG5cdCAgICAgIDogbWVyZ2VPcHRpb25zKHBhcmVudCwgZXh0ZW5kc0Zyb20sIHZtKTtcblx0ICB9XG5cdCAgaWYgKGNoaWxkLm1peGlucykge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZC5taXhpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgIHZhciBtaXhpbiA9IGNoaWxkLm1peGluc1tpXTtcblx0ICAgICAgaWYgKG1peGluLnByb3RvdHlwZSBpbnN0YW5jZW9mIFZ1ZSQyKSB7XG5cdCAgICAgICAgbWl4aW4gPSBtaXhpbi5vcHRpb25zO1xuXHQgICAgICB9XG5cdCAgICAgIHBhcmVudCA9IG1lcmdlT3B0aW9ucyhwYXJlbnQsIG1peGluLCB2bSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHZhciBvcHRpb25zID0ge307XG5cdCAgdmFyIGtleTtcblx0ICBmb3IgKGtleSBpbiBwYXJlbnQpIHtcblx0ICAgIG1lcmdlRmllbGQoa2V5KTtcblx0ICB9XG5cdCAgZm9yIChrZXkgaW4gY2hpbGQpIHtcblx0ICAgIGlmICghaGFzT3duKHBhcmVudCwga2V5KSkge1xuXHQgICAgICBtZXJnZUZpZWxkKGtleSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGZ1bmN0aW9uIG1lcmdlRmllbGQgKGtleSkge1xuXHQgICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xuXHQgICAgb3B0aW9uc1trZXldID0gc3RyYXQocGFyZW50W2tleV0sIGNoaWxkW2tleV0sIHZtLCBrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4gb3B0aW9uc1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVzb2x2ZSBhbiBhc3NldC5cblx0ICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJlY2F1c2UgY2hpbGQgaW5zdGFuY2VzIG5lZWQgYWNjZXNzXG5cdCAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cblx0ICovXG5cdGZ1bmN0aW9uIHJlc29sdmVBc3NldCAoXG5cdCAgb3B0aW9ucyxcblx0ICB0eXBlLFxuXHQgIGlkLFxuXHQgIHdhcm5NaXNzaW5nXG5cdCkge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIGFzc2V0cyA9IG9wdGlvbnNbdHlwZV07XG5cdCAgdmFyIHJlcyA9IGFzc2V0c1tpZF0gfHxcblx0ICAgIC8vIGNhbWVsQ2FzZSBJRFxuXHQgICAgYXNzZXRzW2NhbWVsaXplKGlkKV0gfHxcblx0ICAgIC8vIFBhc2NhbCBDYXNlIElEXG5cdCAgICBhc3NldHNbY2FwaXRhbGl6ZShjYW1lbGl6ZShpZCkpXTtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG5cdCAgICB3YXJuKFxuXHQgICAgICAnRmFpbGVkIHRvIHJlc29sdmUgJyArIHR5cGUuc2xpY2UoMCwgLTEpICsgJzogJyArIGlkLFxuXHQgICAgICBvcHRpb25zXG5cdCAgICApO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gdmFsaWRhdGVQcm9wIChcblx0ICBrZXksXG5cdCAgcHJvcE9wdGlvbnMsXG5cdCAgcHJvcHNEYXRhLFxuXHQgIHZtXG5cdCkge1xuXHQgIHZhciBwcm9wID0gcHJvcE9wdGlvbnNba2V5XTtcblx0ICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7XG5cdCAgdmFyIHZhbHVlID0gcHJvcHNEYXRhW2tleV07XG5cdCAgLy8gaGFuZGxlIGJvb2xlYW4gcHJvcHNcblx0ICBpZiAoaXNCb29sZWFuVHlwZShwcm9wLnR5cGUpKSB7XG5cdCAgICBpZiAoYWJzZW50ICYmICFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuXHQgICAgICB2YWx1ZSA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XG5cdCAgICAgIHZhbHVlID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgLy8gY2hlY2sgZGVmYXVsdCB2YWx1ZVxuXHQgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7XG5cdCAgICAvLyBzaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBhIGZyZXNoIGNvcHksXG5cdCAgICAvLyBtYWtlIHN1cmUgdG8gb2JzZXJ2ZSBpdC5cblx0ICAgIHZhciBwcmV2U2hvdWxkQ29udmVydCA9IG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydDtcblx0ICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHRydWU7XG5cdCAgICBvYnNlcnZlKHZhbHVlKTtcblx0ICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHByZXZTaG91bGRDb252ZXJ0O1xuXHQgIH1cblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgYXNzZXJ0UHJvcChwcm9wLCBrZXksIHZhbHVlLCB2bSwgYWJzZW50KTtcblx0ICB9XG5cdCAgcmV0dXJuIHZhbHVlXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBwcm9wLlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0UHJvcERlZmF1bHRWYWx1ZSAodm0sIHByb3AsIGtleSkge1xuXHQgIC8vIG5vIGRlZmF1bHQsIHJldHVybiB1bmRlZmluZWRcblx0ICBpZiAoIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkXG5cdCAgfVxuXHQgIHZhciBkZWYgPSBwcm9wLmRlZmF1bHQ7XG5cdCAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheVxuXHQgIGlmIChpc09iamVjdChkZWYpKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICdJbnZhbGlkIGRlZmF1bHQgdmFsdWUgZm9yIHByb3AgXCInICsga2V5ICsgJ1wiOiAnICtcblx0ICAgICAgJ1Byb3BzIHdpdGggdHlwZSBPYmplY3QvQXJyYXkgbXVzdCB1c2UgYSBmYWN0b3J5IGZ1bmN0aW9uICcgK1xuXHQgICAgICAndG8gcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLicsXG5cdCAgICAgIHZtXG5cdCAgICApO1xuXHQgIH1cblx0ICAvLyB0aGUgcmF3IHByb3AgdmFsdWUgd2FzIGFsc28gdW5kZWZpbmVkIGZyb20gcHJldmlvdXMgcmVuZGVyLFxuXHQgIC8vIHJldHVybiBwcmV2aW91cyBkZWZhdWx0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhdGNoZXIgdHJpZ2dlclxuXHQgIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgJiZcblx0ICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YVtrZXldID09PSB1bmRlZmluZWQgJiZcblx0ICAgIHZtW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuIHZtW2tleV1cblx0ICB9XG5cdCAgLy8gY2FsbCBmYWN0b3J5IGZ1bmN0aW9uIGZvciBub24tRnVuY3Rpb24gdHlwZXNcblx0ICByZXR1cm4gdHlwZW9mIGRlZiA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wLnR5cGUgIT09IEZ1bmN0aW9uXG5cdCAgICA/IGRlZi5jYWxsKHZtKVxuXHQgICAgOiBkZWZcblx0fVxuXHRcblx0LyoqXG5cdCAqIEFzc2VydCB3aGV0aGVyIGEgcHJvcCBpcyB2YWxpZC5cblx0ICovXG5cdGZ1bmN0aW9uIGFzc2VydFByb3AgKFxuXHQgIHByb3AsXG5cdCAgbmFtZSxcblx0ICB2YWx1ZSxcblx0ICB2bSxcblx0ICBhYnNlbnRcblx0KSB7XG5cdCAgaWYgKHByb3AucmVxdWlyZWQgJiYgYWJzZW50KSB7XG5cdCAgICB3YXJuKFxuXHQgICAgICAnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyxcblx0ICAgICAgdm1cblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgdHlwZSA9IHByb3AudHlwZTtcblx0ICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlO1xuXHQgIHZhciBleHBlY3RlZFR5cGVzID0gW107XG5cdCAgaWYgKHR5cGUpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuXHQgICAgICB0eXBlID0gW3R5cGVdO1xuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xuXHQgICAgICB2YXIgYXNzZXJ0ZWRUeXBlID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZVtpXSk7XG5cdCAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChhc3NlcnRlZFR5cGUuZXhwZWN0ZWRUeXBlKTtcblx0ICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGlmICghdmFsaWQpIHtcblx0ICAgIHdhcm4oXG5cdCAgICAgICdJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyArXG5cdCAgICAgICcgRXhwZWN0ZWQgJyArIGV4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJykgK1xuXHQgICAgICAnLCBnb3QgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpICsgJy4nLFxuXHQgICAgICB2bVxuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgdmFsaWRhdG9yID0gcHJvcC52YWxpZGF0b3I7XG5cdCAgaWYgKHZhbGlkYXRvcikge1xuXHQgICAgaWYgKCF2YWxpZGF0b3IodmFsdWUpKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nLFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHRoZSB0eXBlIG9mIGEgdmFsdWVcblx0ICovXG5cdGZ1bmN0aW9uIGFzc2VydFR5cGUgKHZhbHVlLCB0eXBlKSB7XG5cdCAgdmFyIHZhbGlkO1xuXHQgIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuXHQgIGlmIChleHBlY3RlZFR5cGUgPT09ICdTdHJpbmcnKSB7XG5cdCAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdzdHJpbmcnKTtcblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ051bWJlcicpIHtcblx0ICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ251bWJlcicpO1xuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQm9vbGVhbicpIHtcblx0ICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ2Jvb2xlYW4nKTtcblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0Z1bmN0aW9uJykge1xuXHQgICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnZnVuY3Rpb24nKTtcblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcblx0ICAgIHZhbGlkID0gaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcblx0ICAgIHZhbGlkID0gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuXHQgIH1cblx0ICByZXR1cm4ge1xuXHQgICAgdmFsaWQ6IHZhbGlkLFxuXHQgICAgZXhwZWN0ZWRUeXBlOiBleHBlY3RlZFR5cGVcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBVc2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgYnVpbHQtaW4gdHlwZXMsXG5cdCAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZ1xuXHQgKiBhY3Jvc3MgZGlmZmVyZW50IHZtcyAvIGlmcmFtZXMuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRUeXBlIChmbikge1xuXHQgIHZhciBtYXRjaCA9IGZuICYmIGZuLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XG5cdCAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQm9vbGVhblR5cGUgKGZuKSB7XG5cdCAgaWYgKCFBcnJheS5pc0FycmF5KGZuKSkge1xuXHQgICAgcmV0dXJuIGdldFR5cGUoZm4pID09PSAnQm9vbGVhbidcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICBpZiAoZ2V0VHlwZShmbltpXSkgPT09ICdCb29sZWFuJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgIHJldHVybiBmYWxzZVxuXHR9XG5cdFxuXHRcblx0XG5cdHZhciB1dGlsID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0ZGVmaW5lUmVhY3RpdmU6IGRlZmluZVJlYWN0aXZlJCQxLFxuXHRcdF90b1N0cmluZzogX3RvU3RyaW5nLFxuXHRcdHRvTnVtYmVyOiB0b051bWJlcixcblx0XHRtYWtlTWFwOiBtYWtlTWFwLFxuXHRcdGlzQnVpbHRJblRhZzogaXNCdWlsdEluVGFnLFxuXHRcdHJlbW92ZTogcmVtb3ZlJDEsXG5cdFx0aGFzT3duOiBoYXNPd24sXG5cdFx0aXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuXHRcdGNhY2hlZDogY2FjaGVkLFxuXHRcdGNhbWVsaXplOiBjYW1lbGl6ZSxcblx0XHRjYXBpdGFsaXplOiBjYXBpdGFsaXplLFxuXHRcdGh5cGhlbmF0ZTogaHlwaGVuYXRlLFxuXHRcdGJpbmQ6IGJpbmQkMSxcblx0XHR0b0FycmF5OiB0b0FycmF5LFxuXHRcdGV4dGVuZDogZXh0ZW5kLFxuXHRcdGlzT2JqZWN0OiBpc09iamVjdCxcblx0XHRpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0LFxuXHRcdHRvT2JqZWN0OiB0b09iamVjdCxcblx0XHRub29wOiBub29wLFxuXHRcdG5vOiBubyxcblx0XHRnZW5TdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzLFxuXHRcdGxvb3NlRXF1YWw6IGxvb3NlRXF1YWwsXG5cdFx0bG9vc2VJbmRleE9mOiBsb29zZUluZGV4T2YsXG5cdFx0aXNSZXNlcnZlZDogaXNSZXNlcnZlZCxcblx0XHRkZWY6IGRlZixcblx0XHRwYXJzZVBhdGg6IHBhcnNlUGF0aCxcblx0XHRoYXNQcm90bzogaGFzUHJvdG8sXG5cdFx0aW5Ccm93c2VyOiBpbkJyb3dzZXIsXG5cdFx0VUE6IFVBLFxuXHRcdGlzSUU6IGlzSUUsXG5cdFx0aXNJRTk6IGlzSUU5LFxuXHRcdGlzRWRnZTogaXNFZGdlLFxuXHRcdGlzQW5kcm9pZDogaXNBbmRyb2lkLFxuXHRcdGlzSU9TOiBpc0lPUyxcblx0XHRpc1NlcnZlclJlbmRlcmluZzogaXNTZXJ2ZXJSZW5kZXJpbmcsXG5cdFx0ZGV2dG9vbHM6IGRldnRvb2xzLFxuXHRcdG5leHRUaWNrOiBuZXh0VGljayxcblx0XHRnZXQgX1NldCAoKSB7IHJldHVybiBfU2V0OyB9LFxuXHRcdG1lcmdlT3B0aW9uczogbWVyZ2VPcHRpb25zLFxuXHRcdHJlc29sdmVBc3NldDogcmVzb2x2ZUFzc2V0LFxuXHRcdGdldCB3YXJuICgpIHsgcmV0dXJuIHdhcm47IH0sXG5cdFx0Z2V0IGZvcm1hdENvbXBvbmVudE5hbWUgKCkgeyByZXR1cm4gZm9ybWF0Q29tcG9uZW50TmFtZTsgfSxcblx0XHR2YWxpZGF0ZVByb3A6IHZhbGlkYXRlUHJvcFxuXHR9KTtcblx0XG5cdC8qIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aCBQcm94eSAqL1xuXHRcblx0dmFyIGluaXRQcm94eTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcblx0ICAgICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLCcgK1xuXHQgICAgJ3BhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLGRlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LCcgK1xuXHQgICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcblx0ICAgICdyZXF1aXJlJyAvLyBmb3IgV2VicGFjay9Ccm93c2VyaWZ5XG5cdCAgKTtcblx0XG5cdCAgdmFyIHdhcm5Ob25QcmVzZW50ID0gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XG5cdCAgICB3YXJuKFxuXHQgICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG5cdCAgICAgIFwicmVmZXJlbmNlZCBkdXJpbmcgcmVuZGVyLiBNYWtlIHN1cmUgdG8gZGVjbGFyZSByZWFjdGl2ZSBkYXRhIFwiICtcblx0ICAgICAgXCJwcm9wZXJ0aWVzIGluIHRoZSBkYXRhIG9wdGlvbi5cIixcblx0ICAgICAgdGFyZ2V0XG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHZhciBoYXNQcm94eSA9XG5cdCAgICB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICBQcm94eS50b1N0cmluZygpLm1hdGNoKC9uYXRpdmUgY29kZS8pO1xuXHRcblx0ICB2YXIgaGFzSGFuZGxlciA9IHtcblx0ICAgIGhhczogZnVuY3Rpb24gaGFzICh0YXJnZXQsIGtleSkge1xuXHQgICAgICB2YXIgaGFzID0ga2V5IGluIHRhcmdldDtcblx0ICAgICAgdmFyIGlzQWxsb3dlZCA9IGFsbG93ZWRHbG9iYWxzKGtleSkgfHwga2V5LmNoYXJBdCgwKSA9PT0gJ18nO1xuXHQgICAgICBpZiAoIWhhcyAmJiAhaXNBbGxvd2VkKSB7XG5cdCAgICAgICAgd2Fybk5vblByZXNlbnQodGFyZ2V0LCBrZXkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBoYXMgfHwgIWlzQWxsb3dlZFxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZhciBnZXRIYW5kbGVyID0ge1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQgKHRhcmdldCwga2V5KSB7XG5cdCAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG5cdCAgICAgICAgd2Fybk5vblByZXNlbnQodGFyZ2V0LCBrZXkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0YXJnZXRba2V5XVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGluaXRQcm94eSA9IGZ1bmN0aW9uIGluaXRQcm94eSAodm0pIHtcblx0ICAgIGlmIChoYXNQcm94eSkge1xuXHQgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2Vcblx0ICAgICAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcblx0ICAgICAgdmFyIGhhbmRsZXJzID0gb3B0aW9ucy5yZW5kZXIgJiYgb3B0aW9ucy5yZW5kZXIuX3dpdGhTdHJpcHBlZFxuXHQgICAgICAgID8gZ2V0SGFuZGxlclxuXHQgICAgICAgIDogaGFzSGFuZGxlcjtcblx0ICAgICAgdm0uX3JlbmRlclByb3h5ID0gbmV3IFByb3h5KHZtLCBoYW5kbGVycyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdFxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGhhcyQxID0ge307XG5cdHZhciBjaXJjdWxhciA9IHt9O1xuXHR2YXIgd2FpdGluZyA9IGZhbHNlO1xuXHR2YXIgZmx1c2hpbmcgPSBmYWxzZTtcblx0dmFyIGluZGV4ID0gMDtcblx0XG5cdC8qKlxuXHQgKiBSZXNldCB0aGUgc2NoZWR1bGVyJ3Mgc3RhdGUuXG5cdCAqL1xuXHRmdW5jdGlvbiByZXNldFNjaGVkdWxlclN0YXRlICgpIHtcblx0ICBxdWV1ZS5sZW5ndGggPSAwO1xuXHQgIGhhcyQxID0ge307XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGNpcmN1bGFyID0ge307XG5cdCAgfVxuXHQgIHdhaXRpbmcgPSBmbHVzaGluZyA9IGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRmx1c2ggYm90aCBxdWV1ZXMgYW5kIHJ1biB0aGUgd2F0Y2hlcnMuXG5cdCAqL1xuXHRmdW5jdGlvbiBmbHVzaFNjaGVkdWxlclF1ZXVlICgpIHtcblx0ICBmbHVzaGluZyA9IHRydWU7XG5cdFxuXHQgIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxuXHQgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxuXHQgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcblx0ICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQpXG5cdCAgLy8gMi4gQSBjb21wb25lbnQncyB1c2VyIHdhdGNoZXJzIGFyZSBydW4gYmVmb3JlIGl0cyByZW5kZXIgd2F0Y2hlciAoYmVjYXVzZVxuXHQgIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcilcblx0ICAvLyAzLiBJZiBhIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHdhdGNoZXIgcnVuLFxuXHQgIC8vICAgIGl0cyB3YXRjaGVycyBjYW4gYmUgc2tpcHBlZC5cblx0ICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XG5cdFxuXHQgIC8vIGRvIG5vdCBjYWNoZSBsZW5ndGggYmVjYXVzZSBtb3JlIHdhdGNoZXJzIG1pZ2h0IGJlIHB1c2hlZFxuXHQgIC8vIGFzIHdlIHJ1biBleGlzdGluZyB3YXRjaGVyc1xuXHQgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgrKykge1xuXHQgICAgdmFyIHdhdGNoZXIgPSBxdWV1ZVtpbmRleF07XG5cdCAgICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuXHQgICAgaGFzJDFbaWRdID0gbnVsbDtcblx0ICAgIHdhdGNoZXIucnVuKCk7XG5cdCAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBoYXMkMVtpZF0gIT0gbnVsbCkge1xuXHQgICAgICBjaXJjdWxhcltpZF0gPSAoY2lyY3VsYXJbaWRdIHx8IDApICsgMTtcblx0ICAgICAgaWYgKGNpcmN1bGFyW2lkXSA+IGNvbmZpZy5fbWF4VXBkYXRlQ291bnQpIHtcblx0ICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBhbiBpbmZpbml0ZSB1cGRhdGUgbG9vcCAnICsgKFxuXHQgICAgICAgICAgICB3YXRjaGVyLnVzZXJcblx0ICAgICAgICAgICAgICA/IChcImluIHdhdGNoZXIgd2l0aCBleHByZXNzaW9uIFxcXCJcIiArICh3YXRjaGVyLmV4cHJlc3Npb24pICsgXCJcXFwiXCIpXG5cdCAgICAgICAgICAgICAgOiBcImluIGEgY29tcG9uZW50IHJlbmRlciBmdW5jdGlvbi5cIlxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIHdhdGNoZXIudm1cblx0ICAgICAgICApO1xuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIGRldnRvb2wgaG9va1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChkZXZ0b29scyAmJiBjb25maWcuZGV2dG9vbHMpIHtcblx0ICAgIGRldnRvb2xzLmVtaXQoJ2ZsdXNoJyk7XG5cdCAgfVxuXHRcblx0ICByZXNldFNjaGVkdWxlclN0YXRlKCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLlxuXHQgKiBKb2JzIHdpdGggZHVwbGljYXRlIElEcyB3aWxsIGJlIHNraXBwZWQgdW5sZXNzIGl0J3Ncblx0ICogcHVzaGVkIHdoZW4gdGhlIHF1ZXVlIGlzIGJlaW5nIGZsdXNoZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBxdWV1ZVdhdGNoZXIgKHdhdGNoZXIpIHtcblx0ICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuXHQgIGlmIChoYXMkMVtpZF0gPT0gbnVsbCkge1xuXHQgICAgaGFzJDFbaWRdID0gdHJ1ZTtcblx0ICAgIGlmICghZmx1c2hpbmcpIHtcblx0ICAgICAgcXVldWUucHVzaCh3YXRjaGVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIGlmIGFscmVhZHkgZmx1c2hpbmcsIHNwbGljZSB0aGUgd2F0Y2hlciBiYXNlZCBvbiBpdHMgaWRcblx0ICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cblx0ICAgICAgdmFyIGkgPSBxdWV1ZS5sZW5ndGggLSAxO1xuXHQgICAgICB3aGlsZSAoaSA+PSAwICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkge1xuXHQgICAgICAgIGktLTtcblx0ICAgICAgfVxuXHQgICAgICBxdWV1ZS5zcGxpY2UoTWF0aC5tYXgoaSwgaW5kZXgpICsgMSwgMCwgd2F0Y2hlcik7XG5cdCAgICB9XG5cdCAgICAvLyBxdWV1ZSB0aGUgZmx1c2hcblx0ICAgIGlmICghd2FpdGluZykge1xuXHQgICAgICB3YWl0aW5nID0gdHJ1ZTtcblx0ICAgICAgbmV4dFRpY2soZmx1c2hTY2hlZHVsZXJRdWV1ZSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciB1aWQkMiA9IDA7XG5cdFxuXHQvKipcblx0ICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsXG5cdCAqIGFuZCBmaXJlcyBjYWxsYmFjayB3aGVuIHRoZSBleHByZXNzaW9uIHZhbHVlIGNoYW5nZXMuXG5cdCAqIFRoaXMgaXMgdXNlZCBmb3IgYm90aCB0aGUgJHdhdGNoKCkgYXBpIGFuZCBkaXJlY3RpdmVzLlxuXHQgKi9cblx0dmFyIFdhdGNoZXIgPSBmdW5jdGlvbiBXYXRjaGVyIChcblx0ICB2bSxcblx0ICBleHBPckZuLFxuXHQgIGNiLFxuXHQgIG9wdGlvbnNcblx0KSB7XG5cdCAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cdFxuXHQgIHRoaXMudm0gPSB2bTtcblx0ICB2bS5fd2F0Y2hlcnMucHVzaCh0aGlzKTtcblx0ICAvLyBvcHRpb25zXG5cdCAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XG5cdCAgdGhpcy51c2VyID0gISFvcHRpb25zLnVzZXI7XG5cdCAgdGhpcy5sYXp5ID0gISFvcHRpb25zLmxhenk7XG5cdCAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XG5cdCAgdGhpcy5leHByZXNzaW9uID0gZXhwT3JGbi50b1N0cmluZygpO1xuXHQgIHRoaXMuY2IgPSBjYjtcblx0ICB0aGlzLmlkID0gKyt1aWQkMjsgLy8gdWlkIGZvciBiYXRjaGluZ1xuXHQgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcblx0ICB0aGlzLmRpcnR5ID0gdGhpcy5sYXp5OyAvLyBmb3IgbGF6eSB3YXRjaGVyc1xuXHQgIHRoaXMuZGVwcyA9IFtdO1xuXHQgIHRoaXMubmV3RGVwcyA9IFtdO1xuXHQgIHRoaXMuZGVwSWRzID0gbmV3IF9TZXQoKTtcblx0ICB0aGlzLm5ld0RlcElkcyA9IG5ldyBfU2V0KCk7XG5cdCAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG5cdCAgaWYgKHR5cGVvZiBleHBPckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICB0aGlzLmdldHRlciA9IGV4cE9yRm47XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRoaXMuZ2V0dGVyID0gcGFyc2VQYXRoKGV4cE9yRm4pO1xuXHQgICAgaWYgKCF0aGlzLmdldHRlcikge1xuXHQgICAgICB0aGlzLmdldHRlciA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgXCJGYWlsZWQgd2F0Y2hpbmcgcGF0aDogXFxcIlwiICsgZXhwT3JGbiArIFwiXFxcIiBcIiArXG5cdCAgICAgICAgJ1dhdGNoZXIgb25seSBhY2NlcHRzIHNpbXBsZSBkb3QtZGVsaW1pdGVkIHBhdGhzLiAnICtcblx0ICAgICAgICAnRm9yIGZ1bGwgY29udHJvbCwgdXNlIGEgZnVuY3Rpb24gaW5zdGVhZC4nLFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHRoaXMudmFsdWUgPSB0aGlzLmxhenlcblx0ICAgID8gdW5kZWZpbmVkXG5cdCAgICA6IHRoaXMuZ2V0KCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0ICgpIHtcblx0ICBwdXNoVGFyZ2V0KHRoaXMpO1xuXHQgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0dGVyLmNhbGwodGhpcy52bSwgdGhpcy52bSk7XG5cdCAgLy8gXCJ0b3VjaFwiIGV2ZXJ5IHByb3BlcnR5IHNvIHRoZXkgYXJlIGFsbCB0cmFja2VkIGFzXG5cdCAgLy8gZGVwZW5kZW5jaWVzIGZvciBkZWVwIHdhdGNoaW5nXG5cdCAgaWYgKHRoaXMuZGVlcCkge1xuXHQgICAgdHJhdmVyc2UodmFsdWUpO1xuXHQgIH1cblx0ICBwb3BUYXJnZXQoKTtcblx0ICB0aGlzLmNsZWFudXBEZXBzKCk7XG5cdCAgcmV0dXJuIHZhbHVlXG5cdH07XG5cdFxuXHQvKipcblx0ICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLmFkZERlcCA9IGZ1bmN0aW9uIGFkZERlcCAoZGVwKSB7XG5cdCAgdmFyIGlkID0gZGVwLmlkO1xuXHQgIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGlkKSkge1xuXHQgICAgdGhpcy5uZXdEZXBJZHMuYWRkKGlkKTtcblx0ICAgIHRoaXMubmV3RGVwcy5wdXNoKGRlcCk7XG5cdCAgICBpZiAoIXRoaXMuZGVwSWRzLmhhcyhpZCkpIHtcblx0ICAgICAgZGVwLmFkZFN1Yih0aGlzKTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2xlYW4gdXAgZm9yIGRlcGVuZGVuY3kgY29sbGVjdGlvbi5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkge1xuXHQgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cdFxuXHQgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcblx0ICB3aGlsZSAoaS0tKSB7XG5cdCAgICB2YXIgZGVwID0gdGhpcyQxLmRlcHNbaV07XG5cdCAgICBpZiAoIXRoaXMkMS5uZXdEZXBJZHMuaGFzKGRlcC5pZCkpIHtcblx0ICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzJDEpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB2YXIgdG1wID0gdGhpcy5kZXBJZHM7XG5cdCAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkcztcblx0ICB0aGlzLm5ld0RlcElkcyA9IHRtcDtcblx0ICB0aGlzLm5ld0RlcElkcy5jbGVhcigpO1xuXHQgIHRtcCA9IHRoaXMuZGVwcztcblx0ICB0aGlzLmRlcHMgPSB0aGlzLm5ld0RlcHM7XG5cdCAgdGhpcy5uZXdEZXBzID0gdG1wO1xuXHQgIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFN1YnNjcmliZXIgaW50ZXJmYWNlLlxuXHQgKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgIGlmICh0aGlzLmxhenkpIHtcblx0ICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXHQgIH0gZWxzZSBpZiAodGhpcy5zeW5jKSB7XG5cdCAgICB0aGlzLnJ1bigpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBxdWV1ZVdhdGNoZXIodGhpcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNjaGVkdWxlciBqb2IgaW50ZXJmYWNlLlxuXHQgKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuICgpIHtcblx0ICBpZiAodGhpcy5hY3RpdmUpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KCk7XG5cdCAgICAgIGlmIChcblx0ICAgICAgICB2YWx1ZSAhPT0gdGhpcy52YWx1ZSB8fFxuXHQgICAgICAvLyBEZWVwIHdhdGNoZXJzIGFuZCB3YXRjaGVycyBvbiBPYmplY3QvQXJyYXlzIHNob3VsZCBmaXJlIGV2ZW5cblx0ICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heVxuXHQgICAgICAvLyBoYXZlIG11dGF0ZWQuXG5cdCAgICAgIGlzT2JqZWN0KHZhbHVlKSB8fFxuXHQgICAgICB0aGlzLmRlZXBcblx0ICAgICkge1xuXHQgICAgICAvLyBzZXQgbmV3IHZhbHVlXG5cdCAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG5cdCAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0ICAgICAgaWYgKHRoaXMudXNlcikge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgICAgIChcIkVycm9yIGluIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIiksXG5cdCAgICAgICAgICAgIHRoaXMudm1cblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgICAgICAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGUsIHRoaXMudm0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgZVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXG5cdCAqIFRoaXMgb25seSBnZXRzIGNhbGxlZCBmb3IgbGF6eSB3YXRjaGVycy5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkge1xuXHQgIHRoaXMudmFsdWUgPSB0aGlzLmdldCgpO1xuXHQgIHRoaXMuZGlydHkgPSBmYWxzZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG5cdCAgICB2YXIgdGhpcyQxID0gdGhpcztcblx0XG5cdCAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuXHQgIHdoaWxlIChpLS0pIHtcblx0ICAgIHRoaXMkMS5kZXBzW2ldLmRlcGVuZCgpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZW1vdmUgc2VsZiBmcm9tIGFsbCBkZXBlbmRlbmNpZXMnIHN1YnNjcmliZXIgbGlzdC5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gdGVhcmRvd24gKCkge1xuXHQgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cdFxuXHQgIGlmICh0aGlzLmFjdGl2ZSkge1xuXHQgICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuXHQgICAgLy8gdGhpcyBpcyBhIHNvbWV3aGF0IGV4cGVuc2l2ZSBvcGVyYXRpb24gc28gd2Ugc2tpcCBpdFxuXHQgICAgLy8gaWYgdGhlIHZtIGlzIGJlaW5nIGRlc3Ryb3llZCBvciBpcyBwZXJmb3JtaW5nIGEgdi1mb3Jcblx0ICAgIC8vIHJlLXJlbmRlciAodGhlIHdhdGNoZXIgbGlzdCBpcyB0aGVuIGZpbHRlcmVkIGJ5IHYtZm9yKS5cblx0ICAgIGlmICghdGhpcy52bS5faXNCZWluZ0Rlc3Ryb3llZCAmJiAhdGhpcy52bS5fdkZvclJlbW92aW5nKSB7XG5cdCAgICAgIHJlbW92ZSQxKHRoaXMudm0uX3dhdGNoZXJzLCB0aGlzKTtcblx0ICAgIH1cblx0ICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgdGhpcyQxLmRlcHNbaV0ucmVtb3ZlU3ViKHRoaXMkMSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSBhbiBvYmplY3QgdG8gZXZva2UgYWxsIGNvbnZlcnRlZFxuXHQgKiBnZXR0ZXJzLCBzbyB0aGF0IGV2ZXJ5IG5lc3RlZCBwcm9wZXJ0eSBpbnNpZGUgdGhlIG9iamVjdFxuXHQgKiBpcyBjb2xsZWN0ZWQgYXMgYSBcImRlZXBcIiBkZXBlbmRlbmN5LlxuXHQgKi9cblx0dmFyIHNlZW5PYmplY3RzID0gbmV3IF9TZXQoKTtcblx0ZnVuY3Rpb24gdHJhdmVyc2UgKHZhbCkge1xuXHQgIHNlZW5PYmplY3RzLmNsZWFyKCk7XG5cdCAgX3RyYXZlcnNlKHZhbCwgc2Vlbk9iamVjdHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfdHJhdmVyc2UgKHZhbCwgc2Vlbikge1xuXHQgIHZhciBpLCBrZXlzO1xuXHQgIHZhciBpc0EgPSBBcnJheS5pc0FycmF5KHZhbCk7XG5cdCAgaWYgKCghaXNBICYmICFpc09iamVjdCh2YWwpKSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWwpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgaWYgKHZhbC5fX29iX18pIHtcblx0ICAgIHZhciBkZXBJZCA9IHZhbC5fX29iX18uZGVwLmlkO1xuXHQgICAgaWYgKHNlZW4uaGFzKGRlcElkKSkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIHNlZW4uYWRkKGRlcElkKTtcblx0ICB9XG5cdCAgaWYgKGlzQSkge1xuXHQgICAgaSA9IHZhbC5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pOyB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xuXHQgICAgaSA9IGtleXMubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkgeyBfdHJhdmVyc2UodmFsW2tleXNbaV1dLCBzZWVuKTsgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0U3RhdGUgKHZtKSB7XG5cdCAgdm0uX3dhdGNoZXJzID0gW107XG5cdCAgaW5pdFByb3BzKHZtKTtcblx0ICBpbml0RGF0YSh2bSk7XG5cdCAgaW5pdENvbXB1dGVkKHZtKTtcblx0ICBpbml0TWV0aG9kcyh2bSk7XG5cdCAgaW5pdFdhdGNoKHZtKTtcblx0fVxuXHRcblx0dmFyIGlzUmVzZXJ2ZWRQcm9wID0gbWFrZU1hcCgna2V5LHJlZixzbG90Jyk7XG5cdFxuXHRmdW5jdGlvbiBpbml0UHJvcHMgKHZtKSB7XG5cdCAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG5cdCAgaWYgKHByb3BzKSB7XG5cdCAgICB2YXIgcHJvcHNEYXRhID0gdm0uJG9wdGlvbnMucHJvcHNEYXRhIHx8IHt9O1xuXHQgICAgdmFyIGtleXMgPSB2bS4kb3B0aW9ucy5fcHJvcEtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG5cdCAgICB2YXIgaXNSb290ID0gIXZtLiRwYXJlbnQ7XG5cdCAgICAvLyByb290IGluc3RhbmNlIHByb3BzIHNob3VsZCBiZSBjb252ZXJ0ZWRcblx0ICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IGlzUm9vdDtcblx0ICAgIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuXHQgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuXHQgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgKFwiXFxcIlwiICsga2V5ICsgXCJcXFwiIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgcHJvcC5cIiksXG5cdCAgICAgICAgICAgIHZtXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wcywgcHJvcHNEYXRhLCB2bSksIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGlmICh2bS4kcGFyZW50ICYmICFvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzKSB7XG5cdCAgICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICAgXCJBdm9pZCBtdXRhdGluZyBhIHByb3AgZGlyZWN0bHkgc2luY2UgdGhlIHZhbHVlIHdpbGwgYmUgXCIgK1xuXHQgICAgICAgICAgICAgIFwib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gXCIgK1xuXHQgICAgICAgICAgICAgIFwiSW5zdGVhZCwgdXNlIGEgZGF0YSBvciBjb21wdXRlZCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcHJvcCdzIFwiICtcblx0ICAgICAgICAgICAgICBcInZhbHVlLiBQcm9wIGJlaW5nIG11dGF0ZWQ6IFxcXCJcIiArIGtleSArIFwiXFxcIlwiLFxuXHQgICAgICAgICAgICAgIHZtXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sIGtleSwgdmFsaWRhdGVQcm9wKGtleSwgcHJvcHMsIHByb3BzRGF0YSwgdm0pKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcblx0ICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHRydWU7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbml0RGF0YSAodm0pIHtcblx0ICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7XG5cdCAgZGF0YSA9IHZtLl9kYXRhID0gdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbidcblx0ICAgID8gZGF0YS5jYWxsKHZtKVxuXHQgICAgOiBkYXRhIHx8IHt9O1xuXHQgIGlmICghaXNQbGFpbk9iamVjdChkYXRhKSkge1xuXHQgICAgZGF0YSA9IHt9O1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAnZGF0YSBmdW5jdGlvbnMgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuJyxcblx0ICAgICAgdm1cblx0ICAgICk7XG5cdCAgfVxuXHQgIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2Vcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXHQgIHZhciBwcm9wcyA9IHZtLiRvcHRpb25zLnByb3BzO1xuXHQgIHZhciBpID0ga2V5cy5sZW5ndGg7XG5cdCAgd2hpbGUgKGktLSkge1xuXHQgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5c1tpXSkpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgIFwiVGhlIGRhdGEgcHJvcGVydHkgXFxcIlwiICsgKGtleXNbaV0pICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIiArXG5cdCAgICAgICAgXCJVc2UgcHJvcCBkZWZhdWx0IHZhbHVlIGluc3RlYWQuXCIsXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHByb3h5KHZtLCBrZXlzW2ldKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgLy8gb2JzZXJ2ZSBkYXRhXG5cdCAgb2JzZXJ2ZShkYXRhKTtcblx0ICBkYXRhLl9fb2JfXyAmJiBkYXRhLl9fb2JfXy52bUNvdW50Kys7XG5cdH1cblx0XG5cdHZhciBjb21wdXRlZFNoYXJlZERlZmluaXRpb24gPSB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgZ2V0OiBub29wLFxuXHQgIHNldDogbm9vcFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gaW5pdENvbXB1dGVkICh2bSkge1xuXHQgIHZhciBjb21wdXRlZCA9IHZtLiRvcHRpb25zLmNvbXB1dGVkO1xuXHQgIGlmIChjb21wdXRlZCkge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7XG5cdCAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTtcblx0ICAgICAgaWYgKHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLmdldCA9IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLCB2bSk7XG5cdCAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLnNldCA9IG5vb3A7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XG5cdCAgICAgICAgICA/IHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG5cdCAgICAgICAgICAgID8gbWFrZUNvbXB1dGVkR2V0dGVyKHVzZXJEZWYuZ2V0LCB2bSlcblx0ICAgICAgICAgICAgOiBiaW5kJDEodXNlckRlZi5nZXQsIHZtKVxuXHQgICAgICAgICAgOiBub29wO1xuXHQgICAgICAgIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbi5zZXQgPSB1c2VyRGVmLnNldFxuXHQgICAgICAgICAgPyBiaW5kJDEodXNlckRlZi5zZXQsIHZtKVxuXHQgICAgICAgICAgOiBub29wO1xuXHQgICAgICB9XG5cdCAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2bSwga2V5LCBjb21wdXRlZFNoYXJlZERlZmluaXRpb24pO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUNvbXB1dGVkR2V0dGVyIChnZXR0ZXIsIG93bmVyKSB7XG5cdCAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcihvd25lciwgZ2V0dGVyLCBub29wLCB7XG5cdCAgICBsYXp5OiB0cnVlXG5cdCAgfSk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyICgpIHtcblx0ICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7XG5cdCAgICAgIHdhdGNoZXIuZXZhbHVhdGUoKTtcblx0ICAgIH1cblx0ICAgIGlmIChEZXAudGFyZ2V0KSB7XG5cdCAgICAgIHdhdGNoZXIuZGVwZW5kKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2F0Y2hlci52YWx1ZVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtKSB7XG5cdCAgdmFyIG1ldGhvZHMgPSB2bS4kb3B0aW9ucy5tZXRob2RzO1xuXHQgIGlmIChtZXRob2RzKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kcykge1xuXHQgICAgICB2bVtrZXldID0gbWV0aG9kc1trZXldID09IG51bGwgPyBub29wIDogYmluZCQxKG1ldGhvZHNba2V5XSwgdm0pO1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBtZXRob2RzW2tleV0gPT0gbnVsbCkge1xuXHQgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICBcIm1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaGFzIGFuIHVuZGVmaW5lZCB2YWx1ZSBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIFwiICtcblx0ICAgICAgICAgIFwiRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9cIixcblx0ICAgICAgICAgIHZtXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdFdhdGNoICh2bSkge1xuXHQgIHZhciB3YXRjaCA9IHZtLiRvcHRpb25zLndhdGNoO1xuXHQgIGlmICh3YXRjaCkge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHdhdGNoKSB7XG5cdCAgICAgIHZhciBoYW5kbGVyID0gd2F0Y2hba2V5XTtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlcikpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcltpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIgKHZtLCBrZXksIGhhbmRsZXIpIHtcblx0ICB2YXIgb3B0aW9ucztcblx0ICBpZiAoaXNQbGFpbk9iamVjdChoYW5kbGVyKSkge1xuXHQgICAgb3B0aW9ucyA9IGhhbmRsZXI7XG5cdCAgICBoYW5kbGVyID0gaGFuZGxlci5oYW5kbGVyO1xuXHQgIH1cblx0ICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBoYW5kbGVyID0gdm1baGFuZGxlcl07XG5cdCAgfVxuXHQgIHZtLiR3YXRjaChrZXksIGhhbmRsZXIsIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGF0ZU1peGluIChWdWUpIHtcblx0ICAvLyBmbG93IHNvbWVob3cgaGFzIHByb2JsZW1zIHdpdGggZGlyZWN0bHkgZGVjbGFyZWQgZGVmaW5pdGlvbiBvYmplY3Rcblx0ICAvLyB3aGVuIHVzaW5nIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgc28gd2UgaGF2ZSB0byBwcm9jZWR1cmFsbHkgYnVpbGQgdXBcblx0ICAvLyB0aGUgb2JqZWN0IGhlcmUuXG5cdCAgdmFyIGRhdGFEZWYgPSB7fTtcblx0ICBkYXRhRGVmLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9kYXRhXG5cdCAgfTtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgZGF0YURlZi5zZXQgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXG5cdCAgICAgICAgJ1VzZSBuZXN0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluc3RlYWQuJyxcblx0ICAgICAgICB0aGlzXG5cdCAgICAgICk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRkYXRhJywgZGF0YURlZik7XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJHNldCA9IHNldDtcblx0ICBWdWUucHJvdG90eXBlLiRkZWxldGUgPSBkZWw7XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJHdhdGNoID0gZnVuY3Rpb24gKFxuXHQgICAgZXhwT3JGbixcblx0ICAgIGNiLFxuXHQgICAgb3B0aW9uc1xuXHQgICkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgb3B0aW9ucy51c2VyID0gdHJ1ZTtcblx0ICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTtcblx0ICAgIGlmIChvcHRpb25zLmltbWVkaWF0ZSkge1xuXHQgICAgICBjYi5jYWxsKHZtLCB3YXRjaGVyLnZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmdW5jdGlvbiB1bndhdGNoRm4gKCkge1xuXHQgICAgICB3YXRjaGVyLnRlYXJkb3duKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJveHkgKHZtLCBrZXkpIHtcblx0ICBpZiAoIWlzUmVzZXJ2ZWQoa2V5KSkge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIHtcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uX2RhdGFba2V5XVxuXHQgICAgICB9LFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHtcblx0ICAgICAgICB2bS5fZGF0YVtrZXldID0gdmFsO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUgKFxuXHQgIHRhZyxcblx0ICBkYXRhLFxuXHQgIGNoaWxkcmVuLFxuXHQgIHRleHQsXG5cdCAgZWxtLFxuXHQgIG5zLFxuXHQgIGNvbnRleHQsXG5cdCAgY29tcG9uZW50T3B0aW9uc1xuXHQpIHtcblx0ICB0aGlzLnRhZyA9IHRhZztcblx0ICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0ICB0aGlzLnRleHQgPSB0ZXh0O1xuXHQgIHRoaXMuZWxtID0gZWxtO1xuXHQgIHRoaXMubnMgPSBucztcblx0ICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXHQgIHRoaXMuZnVuY3Rpb25hbENvbnRleHQgPSB1bmRlZmluZWQ7XG5cdCAgdGhpcy5rZXkgPSBkYXRhICYmIGRhdGEua2V5O1xuXHQgIHRoaXMuY29tcG9uZW50T3B0aW9ucyA9IGNvbXBvbmVudE9wdGlvbnM7XG5cdCAgdGhpcy5jaGlsZCA9IHVuZGVmaW5lZDtcblx0ICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcblx0ICB0aGlzLnJhdyA9IGZhbHNlO1xuXHQgIHRoaXMuaXNTdGF0aWMgPSBmYWxzZTtcblx0ICB0aGlzLmlzUm9vdEluc2VydCA9IHRydWU7XG5cdCAgdGhpcy5pc0NvbW1lbnQgPSBmYWxzZTtcblx0ICB0aGlzLmlzQ2xvbmVkID0gZmFsc2U7XG5cdCAgdGhpcy5pc09uY2UgPSBmYWxzZTtcblx0fTtcblx0XG5cdHZhciBlbXB0eVZOb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBub2RlID0gbmV3IFZOb2RlKCk7XG5cdCAgbm9kZS50ZXh0ID0gJyc7XG5cdCAgbm9kZS5pc0NvbW1lbnQgPSB0cnVlO1xuXHQgIHJldHVybiBub2RlXG5cdH07XG5cdFxuXHQvLyBvcHRpbWl6ZWQgc2hhbGxvdyBjbG9uZVxuXHQvLyB1c2VkIGZvciBzdGF0aWMgbm9kZXMgYW5kIHNsb3Qgbm9kZXMgYmVjYXVzZSB0aGV5IG1heSBiZSByZXVzZWQgYWNyb3NzXG5cdC8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseVxuXHQvLyBvbiB0aGVpciBlbG0gcmVmZXJlbmNlLlxuXHRmdW5jdGlvbiBjbG9uZVZOb2RlICh2bm9kZSkge1xuXHQgIHZhciBjbG9uZWQgPSBuZXcgVk5vZGUoXG5cdCAgICB2bm9kZS50YWcsXG5cdCAgICB2bm9kZS5kYXRhLFxuXHQgICAgdm5vZGUuY2hpbGRyZW4sXG5cdCAgICB2bm9kZS50ZXh0LFxuXHQgICAgdm5vZGUuZWxtLFxuXHQgICAgdm5vZGUubnMsXG5cdCAgICB2bm9kZS5jb250ZXh0LFxuXHQgICAgdm5vZGUuY29tcG9uZW50T3B0aW9uc1xuXHQgICk7XG5cdCAgY2xvbmVkLmlzU3RhdGljID0gdm5vZGUuaXNTdGF0aWM7XG5cdCAgY2xvbmVkLmtleSA9IHZub2RlLmtleTtcblx0ICBjbG9uZWQuaXNDbG9uZWQgPSB0cnVlO1xuXHQgIHJldHVybiBjbG9uZWRcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xvbmVWTm9kZXMgKHZub2Rlcykge1xuXHQgIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHJlc1tpXSA9IGNsb25lVk5vZGUodm5vZGVzW2ldKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIG1lcmdlVk5vZGVIb29rIChkZWYsIGhvb2tLZXksIGhvb2ssIGtleSkge1xuXHQgIGtleSA9IGtleSArIGhvb2tLZXk7XG5cdCAgdmFyIGluamVjdGVkSGFzaCA9IGRlZi5fX2luamVjdGVkIHx8IChkZWYuX19pbmplY3RlZCA9IHt9KTtcblx0ICBpZiAoIWluamVjdGVkSGFzaFtrZXldKSB7XG5cdCAgICBpbmplY3RlZEhhc2hba2V5XSA9IHRydWU7XG5cdCAgICB2YXIgb2xkSG9vayA9IGRlZltob29rS2V5XTtcblx0ICAgIGlmIChvbGRIb29rKSB7XG5cdCAgICAgIGRlZltob29rS2V5XSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBvbGRIb29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgaG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVmW2hvb2tLZXldID0gaG9vaztcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzIChcblx0ICBvbixcblx0ICBvbGRPbixcblx0ICBhZGQsXG5cdCAgcmVtb3ZlJCQxLFxuXHQgIHZtXG5cdCkge1xuXHQgIHZhciBuYW1lLCBjdXIsIG9sZCwgZm4sIGV2ZW50LCBjYXB0dXJlO1xuXHQgIGZvciAobmFtZSBpbiBvbikge1xuXHQgICAgY3VyID0gb25bbmFtZV07XG5cdCAgICBvbGQgPSBvbGRPbltuYW1lXTtcblx0ICAgIGlmICghY3VyKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICBcIkludmFsaWQgaGFuZGxlciBmb3IgZXZlbnQgXFxcIlwiICsgbmFtZSArIFwiXFxcIjogZ290IFwiICsgU3RyaW5nKGN1ciksXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgIH0gZWxzZSBpZiAoIW9sZCkge1xuXHQgICAgICBjYXB0dXJlID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJztcblx0ICAgICAgZXZlbnQgPSBjYXB0dXJlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cikpIHtcblx0ICAgICAgICBhZGQoZXZlbnQsIChjdXIuaW52b2tlciA9IGFyckludm9rZXIoY3VyKSksIGNhcHR1cmUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghY3VyLmludm9rZXIpIHtcblx0ICAgICAgICAgIGZuID0gY3VyO1xuXHQgICAgICAgICAgY3VyID0gb25bbmFtZV0gPSB7fTtcblx0ICAgICAgICAgIGN1ci5mbiA9IGZuO1xuXHQgICAgICAgICAgY3VyLmludm9rZXIgPSBmbkludm9rZXIoY3VyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgYWRkKGV2ZW50LCBjdXIuaW52b2tlciwgY2FwdHVyZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2xkKSkge1xuXHQgICAgICAgIG9sZC5sZW5ndGggPSBjdXIubGVuZ3RoO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7IG9sZFtpXSA9IGN1cltpXTsgfVxuXHQgICAgICAgIG9uW25hbWVdID0gb2xkO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIG9sZC5mbiA9IGN1cjtcblx0ICAgICAgICBvbltuYW1lXSA9IG9sZDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0ICBmb3IgKG5hbWUgaW4gb2xkT24pIHtcblx0ICAgIGlmICghb25bbmFtZV0pIHtcblx0ICAgICAgZXZlbnQgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJyEnID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG5cdCAgICAgIHJlbW92ZSQkMShldmVudCwgb2xkT25bbmFtZV0uaW52b2tlcik7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcnJJbnZva2VyIChhcnIpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG5cdCAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cdFxuXHQgICAgdmFyIHNpbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICBzaW5nbGUgPyBhcnJbaV0oZXYpIDogYXJyW2ldLmFwcGx5KG51bGwsIGFyZ3VtZW50cyQxKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZuSW52b2tlciAobykge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcblx0ICAgIHZhciBzaW5nbGUgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxO1xuXHQgICAgc2luZ2xlID8gby5mbihldikgOiBvLmZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuIChcblx0ICBjaGlsZHJlbixcblx0ICBucyxcblx0ICBuZXN0ZWRJbmRleFxuXHQpIHtcblx0ICBpZiAoaXNQcmltaXRpdmUoY2hpbGRyZW4pKSB7XG5cdCAgICByZXR1cm4gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildXG5cdCAgfVxuXHQgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHQgICAgdmFyIHJlcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTtcblx0ICAgICAgdmFyIGxhc3QgPSByZXNbcmVzLmxlbmd0aCAtIDFdO1xuXHQgICAgICAvLyAgbmVzdGVkXG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7XG5cdCAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBub3JtYWxpemVDaGlsZHJlbihjLCBucywgKChuZXN0ZWRJbmRleCB8fCAnJykgKyBcIl9cIiArIGkpKSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNQcmltaXRpdmUoYykpIHtcblx0ICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnRleHQpIHtcblx0ICAgICAgICAgIGxhc3QudGV4dCArPSBTdHJpbmcoYyk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChjICE9PSAnJykge1xuXHQgICAgICAgICAgLy8gY29udmVydCBwcmltaXRpdmUgdG8gdm5vZGVcblx0ICAgICAgICAgIHJlcy5wdXNoKGNyZWF0ZVRleHRWTm9kZShjKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBWTm9kZSkge1xuXHQgICAgICAgIGlmIChjLnRleHQgJiYgbGFzdCAmJiBsYXN0LnRleHQpIHtcblx0ICAgICAgICAgIGlmICghbGFzdC5pc0Nsb25lZCkge1xuXHQgICAgICAgICAgICBsYXN0LnRleHQgKz0gYy50ZXh0O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyBpbmhlcml0IHBhcmVudCBuYW1lc3BhY2Vcblx0ICAgICAgICAgIGlmIChucykge1xuXHQgICAgICAgICAgICBhcHBseU5TKGMsIG5zKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIGRlZmF1bHQga2V5IGZvciBuZXN0ZWQgYXJyYXkgY2hpbGRyZW4gKGxpa2VseSBnZW5lcmF0ZWQgYnkgdi1mb3IpXG5cdCAgICAgICAgICBpZiAoYy50YWcgJiYgYy5rZXkgPT0gbnVsbCAmJiBuZXN0ZWRJbmRleCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGMua2V5ID0gXCJfX3ZsaXN0XCIgKyBuZXN0ZWRJbmRleCArIFwiX1wiICsgaSArIFwiX19cIjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJlcy5wdXNoKGMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlICh2YWwpIHtcblx0ICByZXR1cm4gbmV3IFZOb2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyh2YWwpKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcHBseU5TICh2bm9kZSwgbnMpIHtcblx0ICBpZiAodm5vZGUudGFnICYmICF2bm9kZS5ucykge1xuXHQgICAgdm5vZGUubnMgPSBucztcblx0ICAgIGlmICh2bm9kZS5jaGlsZHJlbikge1xuXHQgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIGFwcGx5TlModm5vZGUuY2hpbGRyZW5baV0sIG5zKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBnZXRGaXJzdENvbXBvbmVudENoaWxkIChjaGlsZHJlbikge1xuXHQgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgJiYgYy5jb21wb25lbnRPcHRpb25zOyB9KVswXVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBhY3RpdmVJbnN0YW5jZSA9IG51bGw7XG5cdFxuXHRmdW5jdGlvbiBpbml0TGlmZWN5Y2xlICh2bSkge1xuXHQgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG5cdFxuXHQgIC8vIGxvY2F0ZSBmaXJzdCBub24tYWJzdHJhY3QgcGFyZW50XG5cdCAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuXHQgIGlmIChwYXJlbnQgJiYgIW9wdGlvbnMuYWJzdHJhY3QpIHtcblx0ICAgIHdoaWxlIChwYXJlbnQuJG9wdGlvbnMuYWJzdHJhY3QgJiYgcGFyZW50LiRwYXJlbnQpIHtcblx0ICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XG5cdCAgICB9XG5cdCAgICBwYXJlbnQuJGNoaWxkcmVuLnB1c2godm0pO1xuXHQgIH1cblx0XG5cdCAgdm0uJHBhcmVudCA9IHBhcmVudDtcblx0ICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtO1xuXHRcblx0ICB2bS4kY2hpbGRyZW4gPSBbXTtcblx0ICB2bS4kcmVmcyA9IHt9O1xuXHRcblx0ICB2bS5fd2F0Y2hlciA9IG51bGw7XG5cdCAgdm0uX2luYWN0aXZlID0gZmFsc2U7XG5cdCAgdm0uX2lzTW91bnRlZCA9IGZhbHNlO1xuXHQgIHZtLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuXHQgIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpZmVjeWNsZU1peGluIChWdWUpIHtcblx0ICBWdWUucHJvdG90eXBlLl9tb3VudCA9IGZ1bmN0aW9uIChcblx0ICAgIGVsLFxuXHQgICAgaHlkcmF0aW5nXG5cdCAgKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdm0uJGVsID0gZWw7XG5cdCAgICBpZiAoIXZtLiRvcHRpb25zLnJlbmRlcikge1xuXHQgICAgICB2bS4kb3B0aW9ucy5yZW5kZXIgPSBlbXB0eVZOb2RlO1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICAgIGlmICh2bS4kb3B0aW9ucy50ZW1wbGF0ZSAmJiB2bS4kb3B0aW9ucy50ZW1wbGF0ZS5jaGFyQXQoMCkgIT09ICcjJykge1xuXHQgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgJ1lvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCBvZiBWdWUgd2hlcmUgdGhlIHRlbXBsYXRlICcgK1xuXHQgICAgICAgICAgICAnb3B0aW9uIGlzIG5vdCBhdmFpbGFibGUuIEVpdGhlciBwcmUtY29tcGlsZSB0aGUgdGVtcGxhdGVzIGludG8gJyArXG5cdCAgICAgICAgICAgICdyZW5kZXIgZnVuY3Rpb25zLCBvciB1c2UgdGhlIGNvbXBpbGVyLWluY2x1ZGVkIGJ1aWxkLicsXG5cdCAgICAgICAgICAgIHZtXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAnRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsXG5cdCAgICAgICAgICAgIHZtXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgY2FsbEhvb2sodm0sICdiZWZvcmVNb3VudCcpO1xuXHQgICAgdm0uX3dhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2bS5fdXBkYXRlKHZtLl9yZW5kZXIoKSwgaHlkcmF0aW5nKTtcblx0ICAgIH0sIG5vb3ApO1xuXHQgICAgaHlkcmF0aW5nID0gZmFsc2U7XG5cdCAgICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxuXHQgICAgLy8gbW91bnRlZCBpcyBjYWxsZWQgZm9yIHJlbmRlci1jcmVhdGVkIGNoaWxkIGNvbXBvbmVudHMgaW4gaXRzIGluc2VydGVkIGhvb2tcblx0ICAgIGlmICh2bS4kdm5vZGUgPT0gbnVsbCkge1xuXHQgICAgICB2bS5faXNNb3VudGVkID0gdHJ1ZTtcblx0ICAgICAgY2FsbEhvb2sodm0sICdtb3VudGVkJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG5cdCAgICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlVXBkYXRlJyk7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJldkVsID0gdm0uJGVsO1xuXHQgICAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xuXHQgICAgYWN0aXZlSW5zdGFuY2UgPSB2bTtcblx0ICAgIHZhciBwcmV2Vm5vZGUgPSB2bS5fdm5vZGU7XG5cdCAgICB2bS5fdm5vZGUgPSB2bm9kZTtcblx0ICAgIGlmICghcHJldlZub2RlKSB7XG5cdCAgICAgIC8vIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fIGlzIGluamVjdGVkIGluIGVudHJ5IHBvaW50c1xuXHQgICAgICAvLyBiYXNlZCBvbiB0aGUgcmVuZGVyaW5nIGJhY2tlbmQgdXNlZC5cblx0ICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHZtLiRlbCwgdm5vZGUsIGh5ZHJhdGluZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18ocHJldlZub2RlLCB2bm9kZSk7XG5cdCAgICB9XG5cdCAgICBhY3RpdmVJbnN0YW5jZSA9IHByZXZBY3RpdmVJbnN0YW5jZTtcblx0ICAgIC8vIHVwZGF0ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuXHQgICAgaWYgKHByZXZFbCkge1xuXHQgICAgICBwcmV2RWwuX192dWVfXyA9IG51bGw7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uJGVsKSB7XG5cdCAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gdm07XG5cdCAgICB9XG5cdCAgICAvLyBpZiBwYXJlbnQgaXMgYW4gSE9DLCB1cGRhdGUgaXRzICRlbCBhcyB3ZWxsXG5cdCAgICBpZiAodm0uJHZub2RlICYmIHZtLiRwYXJlbnQgJiYgdm0uJHZub2RlID09PSB2bS4kcGFyZW50Ll92bm9kZSkge1xuXHQgICAgICB2bS4kcGFyZW50LiRlbCA9IHZtLiRlbDtcblx0ICAgIH1cblx0ICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG5cdCAgICAgIGNhbGxIb29rKHZtLCAndXBkYXRlZCcpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuX3VwZGF0ZUZyb21QYXJlbnQgPSBmdW5jdGlvbiAoXG5cdCAgICBwcm9wc0RhdGEsXG5cdCAgICBsaXN0ZW5lcnMsXG5cdCAgICBwYXJlbnRWbm9kZSxcblx0ICAgIHJlbmRlckNoaWxkcmVuXG5cdCAgKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdmFyIGhhc0NoaWxkcmVuID0gISEodm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuIHx8IHJlbmRlckNoaWxkcmVuKTtcblx0ICAgIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xuXHQgICAgdm0uJHZub2RlID0gcGFyZW50Vm5vZGU7IC8vIHVwZGF0ZSB2bSdzIHBsYWNlaG9sZGVyIG5vZGUgd2l0aG91dCByZS1yZW5kZXJcblx0ICAgIGlmICh2bS5fdm5vZGUpIHsgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcblx0ICAgICAgdm0uX3Zub2RlLnBhcmVudCA9IHBhcmVudFZub2RlO1xuXHQgICAgfVxuXHQgICAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuID0gcmVuZGVyQ2hpbGRyZW47XG5cdCAgICAvLyB1cGRhdGUgcHJvcHNcblx0ICAgIGlmIChwcm9wc0RhdGEgJiYgdm0uJG9wdGlvbnMucHJvcHMpIHtcblx0ICAgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gZmFsc2U7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcyA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHByb3BLZXlzW2ldO1xuXHQgICAgICAgIHZtW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCB2bS4kb3B0aW9ucy5wcm9wcywgcHJvcHNEYXRhLCB2bSk7XG5cdCAgICAgIH1cblx0ICAgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICBvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xuXHQgICAgfVxuXHQgICAgLy8gdXBkYXRlIGxpc3RlbmVyc1xuXHQgICAgaWYgKGxpc3RlbmVycykge1xuXHQgICAgICB2YXIgb2xkTGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcblx0ICAgICAgdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyA9IGxpc3RlbmVycztcblx0ICAgICAgdm0uX3VwZGF0ZUxpc3RlbmVycyhsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyk7XG5cdCAgICB9XG5cdCAgICAvLyByZXNvbHZlIHNsb3RzICsgZm9yY2UgdXBkYXRlIGlmIGhhcyBjaGlsZHJlblxuXHQgICAgaWYgKGhhc0NoaWxkcmVuKSB7XG5cdCAgICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhyZW5kZXJDaGlsZHJlbiwgdm0uX3JlbmRlckNvbnRleHQpO1xuXHQgICAgICB2bS4kZm9yY2VVcGRhdGUoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBpZiAodm0uX3dhdGNoZXIpIHtcblx0ICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcblx0ICAgIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gdHJ1ZTtcblx0ICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gcGFyZW50XG5cdCAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcblx0ICAgIGlmIChwYXJlbnQgJiYgIXBhcmVudC5faXNCZWluZ0Rlc3Ryb3llZCAmJiAhdm0uJG9wdGlvbnMuYWJzdHJhY3QpIHtcblx0ICAgICAgcmVtb3ZlJDEocGFyZW50LiRjaGlsZHJlbiwgdm0pO1xuXHQgICAgfVxuXHQgICAgLy8gdGVhcmRvd24gd2F0Y2hlcnNcblx0ICAgIGlmICh2bS5fd2F0Y2hlcikge1xuXHQgICAgICB2bS5fd2F0Y2hlci50ZWFyZG93bigpO1xuXHQgICAgfVxuXHQgICAgdmFyIGkgPSB2bS5fd2F0Y2hlcnMubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICB2bS5fd2F0Y2hlcnNbaV0udGVhcmRvd24oKTtcblx0ICAgIH1cblx0ICAgIC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSBkYXRhIG9iXG5cdCAgICAvLyBmcm96ZW4gb2JqZWN0IG1heSBub3QgaGF2ZSBvYnNlcnZlci5cblx0ICAgIGlmICh2bS5fZGF0YS5fX29iX18pIHtcblx0ICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTtcblx0ICAgIH1cblx0ICAgIC8vIGNhbGwgdGhlIGxhc3QgaG9vay4uLlxuXHQgICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTtcblx0ICAgIGNhbGxIb29rKHZtLCAnZGVzdHJveWVkJyk7XG5cdCAgICAvLyB0dXJuIG9mZiBhbGwgaW5zdGFuY2UgbGlzdGVuZXJzLlxuXHQgICAgdm0uJG9mZigpO1xuXHQgICAgLy8gcmVtb3ZlIF9fdnVlX18gcmVmZXJlbmNlXG5cdCAgICBpZiAodm0uJGVsKSB7XG5cdCAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gbnVsbDtcblx0ICAgIH1cblx0ICAgIC8vIGludm9rZSBkZXN0cm95IGhvb2tzIG9uIGN1cnJlbnQgcmVuZGVyZWQgdHJlZVxuXHQgICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsbEhvb2sgKHZtLCBob29rKSB7XG5cdCAgdmFyIGhhbmRsZXJzID0gdm0uJG9wdGlvbnNbaG9va107XG5cdCAgaWYgKGhhbmRsZXJzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgaiA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuXHQgICAgICBoYW5kbGVyc1tpXS5jYWxsKHZtKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdm0uJGVtaXQoJ2hvb2s6JyArIGhvb2spO1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBob29rcyA9IHsgaW5pdDogaW5pdCwgcHJlcGF0Y2g6IHByZXBhdGNoLCBpbnNlcnQ6IGluc2VydCwgZGVzdHJveTogZGVzdHJveSQxIH07XG5cdHZhciBob29rc1RvTWVyZ2UgPSBPYmplY3Qua2V5cyhob29rcyk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQgKFxuXHQgIEN0b3IsXG5cdCAgZGF0YSxcblx0ICBjb250ZXh0LFxuXHQgIGNoaWxkcmVuLFxuXHQgIHRhZ1xuXHQpIHtcblx0ICBpZiAoIUN0b3IpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTtcblx0ICBpZiAoaXNPYmplY3QoQ3RvcikpIHtcblx0ICAgIEN0b3IgPSBiYXNlQ3Rvci5leHRlbmQoQ3Rvcik7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIEN0b3IgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHdhcm4oKFwiSW52YWxpZCBDb21wb25lbnQgZGVmaW5pdGlvbjogXCIgKyAoU3RyaW5nKEN0b3IpKSksIGNvbnRleHQpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICAvLyBhc3luYyBjb21wb25lbnRcblx0ICBpZiAoIUN0b3IuY2lkKSB7XG5cdCAgICBpZiAoQ3Rvci5yZXNvbHZlZCkge1xuXHQgICAgICBDdG9yID0gQ3Rvci5yZXNvbHZlZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIEN0b3IgPSByZXNvbHZlQXN5bmNDb21wb25lbnQoQ3RvciwgYmFzZUN0b3IsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvLyBpdCdzIG9rIHRvIHF1ZXVlIHRoaXMgb24gZXZlcnkgcmVuZGVyIGJlY2F1c2Vcblx0ICAgICAgICAvLyAkZm9yY2VVcGRhdGUgaXMgYnVmZmVyZWQgYnkgdGhlIHNjaGVkdWxlci5cblx0ICAgICAgICBjb250ZXh0LiRmb3JjZVVwZGF0ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgaWYgKCFDdG9yKSB7XG5cdCAgICAgICAgLy8gcmV0dXJuIG5vdGhpbmcgaWYgdGhpcyBpcyBpbmRlZWQgYW4gYXN5bmMgY29tcG9uZW50XG5cdCAgICAgICAgLy8gd2FpdCBmb3IgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgcGFyZW50IHVwZGF0ZS5cblx0ICAgICAgICByZXR1cm5cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gcmVzb2x2ZSBjb25zdHJ1Y3RvciBvcHRpb25zIGluIGNhc2UgZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBhZnRlclxuXHQgIC8vIGNvbXBvbmVudCBjb25zdHJ1Y3RvciBjcmVhdGlvblxuXHQgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7XG5cdFxuXHQgIGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcblx0ICAvLyBleHRyYWN0IHByb3BzXG5cdCAgdmFyIHByb3BzRGF0YSA9IGV4dHJhY3RQcm9wcyhkYXRhLCBDdG9yKTtcblx0XG5cdCAgLy8gZnVuY3Rpb25hbCBjb21wb25lbnRcblx0ICBpZiAoQ3Rvci5vcHRpb25zLmZ1bmN0aW9uYWwpIHtcblx0ICAgIHJldHVybiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50KEN0b3IsIHByb3BzRGF0YSwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pXG5cdCAgfVxuXHRcblx0ICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhc1xuXHQgIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzXG5cdCAgdmFyIGxpc3RlbmVycyA9IGRhdGEub247XG5cdCAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXJcblx0ICBkYXRhLm9uID0gZGF0YS5uYXRpdmVPbjtcblx0XG5cdCAgaWYgKEN0b3Iub3B0aW9ucy5hYnN0cmFjdCkge1xuXHQgICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZ1xuXHQgICAgLy8gb3RoZXIgdGhhbiBwcm9wcyAmIGxpc3RlbmVyc1xuXHQgICAgZGF0YSA9IHt9O1xuXHQgIH1cblx0XG5cdCAgLy8gbWVyZ2UgY29tcG9uZW50IG1hbmFnZW1lbnQgaG9va3Mgb250byB0aGUgcGxhY2Vob2xkZXIgbm9kZVxuXHQgIG1lcmdlSG9va3MoZGF0YSk7XG5cdFxuXHQgIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIHZub2RlXG5cdCAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7XG5cdCAgdmFyIHZub2RlID0gbmV3IFZOb2RlKFxuXHQgICAgKFwidnVlLWNvbXBvbmVudC1cIiArIChDdG9yLmNpZCkgKyAobmFtZSA/IChcIi1cIiArIG5hbWUpIDogJycpKSxcblx0ICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dCxcblx0ICAgIHsgQ3RvcjogQ3RvciwgcHJvcHNEYXRhOiBwcm9wc0RhdGEsIGxpc3RlbmVyczogbGlzdGVuZXJzLCB0YWc6IHRhZywgY2hpbGRyZW46IGNoaWxkcmVuIH1cblx0ICApO1xuXHQgIHJldHVybiB2bm9kZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IChcblx0ICBDdG9yLFxuXHQgIHByb3BzRGF0YSxcblx0ICBkYXRhLFxuXHQgIGNvbnRleHQsXG5cdCAgY2hpbGRyZW5cblx0KSB7XG5cdCAgdmFyIHByb3BzID0ge307XG5cdCAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xuXHQgIGlmIChwcm9wT3B0aW9ucykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG5cdCAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIHZub2RlID0gQ3Rvci5vcHRpb25zLnJlbmRlci5jYWxsKFxuXHQgICAgbnVsbCxcblx0ICAgIC8vIGVuc3VyZSB0aGUgY3JlYXRlRWxlbWVudCBmdW5jdGlvbiBpbiBmdW5jdGlvbmFsIGNvbXBvbmVudHNcblx0ICAgIC8vIGdldHMgYSB1bmlxdWUgY29udGV4dCAtIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBjb3JyZWN0IG5hbWVkIHNsb3QgY2hlY2tcblx0ICAgIGJpbmQkMShjcmVhdGVFbGVtZW50LCB7IF9zZWxmOiBPYmplY3QuY3JlYXRlKGNvbnRleHQpIH0pLFxuXHQgICAge1xuXHQgICAgICBwcm9wczogcHJvcHMsXG5cdCAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgIHBhcmVudDogY29udGV4dCxcblx0ICAgICAgY2hpbGRyZW46IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSxcblx0ICAgICAgc2xvdHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVTbG90cyhjaGlsZHJlbiwgY29udGV4dCk7IH1cblx0ICAgIH1cblx0ICApO1xuXHQgIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7XG5cdCAgICB2bm9kZS5mdW5jdGlvbmFsQ29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICBpZiAoZGF0YS5zbG90KSB7XG5cdCAgICAgICh2bm9kZS5kYXRhIHx8ICh2bm9kZS5kYXRhID0ge30pKS5zbG90ID0gZGF0YS5zbG90O1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdm5vZGVcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSAoXG5cdCAgdm5vZGUsIC8vIHdlIGtub3cgaXQncyBNb3VudGVkQ29tcG9uZW50Vk5vZGUgYnV0IGZsb3cgZG9lc24ndFxuXHQgIHBhcmVudCAvLyBhY3RpdmVJbnN0YW5jZSBpbiBsaWZlY3ljbGUgc3RhdGVcblx0KSB7XG5cdCAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG5cdCAgdmFyIG9wdGlvbnMgPSB7XG5cdCAgICBfaXNDb21wb25lbnQ6IHRydWUsXG5cdCAgICBwYXJlbnQ6IHBhcmVudCxcblx0ICAgIHByb3BzRGF0YTogdm5vZGVDb21wb25lbnRPcHRpb25zLnByb3BzRGF0YSxcblx0ICAgIF9jb21wb25lbnRUYWc6IHZub2RlQ29tcG9uZW50T3B0aW9ucy50YWcsXG5cdCAgICBfcGFyZW50Vm5vZGU6IHZub2RlLFxuXHQgICAgX3BhcmVudExpc3RlbmVyczogdm5vZGVDb21wb25lbnRPcHRpb25zLmxpc3RlbmVycyxcblx0ICAgIF9yZW5kZXJDaGlsZHJlbjogdm5vZGVDb21wb25lbnRPcHRpb25zLmNoaWxkcmVuXG5cdCAgfTtcblx0ICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9uc1xuXHQgIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7XG5cdCAgaWYgKGlubGluZVRlbXBsYXRlKSB7XG5cdCAgICBvcHRpb25zLnJlbmRlciA9IGlubGluZVRlbXBsYXRlLnJlbmRlcjtcblx0ICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zO1xuXHQgIH1cblx0ICByZXR1cm4gbmV3IHZub2RlQ29tcG9uZW50T3B0aW9ucy5DdG9yKG9wdGlvbnMpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluaXQgKHZub2RlLCBoeWRyYXRpbmcpIHtcblx0ICBpZiAoIXZub2RlLmNoaWxkIHx8IHZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuXHQgICAgdmFyIGNoaWxkID0gdm5vZGUuY2hpbGQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKHZub2RlLCBhY3RpdmVJbnN0YW5jZSk7XG5cdCAgICBjaGlsZC4kbW91bnQoaHlkcmF0aW5nID8gdm5vZGUuZWxtIDogdW5kZWZpbmVkLCBoeWRyYXRpbmcpO1xuXHQgIH0gZWxzZSBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcblx0ICAgIC8vIGtlcHQtYWxpdmUgY29tcG9uZW50cywgdHJlYXQgYXMgYSBwYXRjaFxuXHQgICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3dcblx0ICAgIHByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmVwYXRjaCAoXG5cdCAgb2xkVm5vZGUsXG5cdCAgdm5vZGVcblx0KSB7XG5cdCAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuXHQgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG5cdCAgY2hpbGQuX3VwZGF0ZUZyb21QYXJlbnQoXG5cdCAgICBvcHRpb25zLnByb3BzRGF0YSwgLy8gdXBkYXRlZCBwcm9wc1xuXHQgICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzXG5cdCAgICB2bm9kZSwgLy8gbmV3IHBhcmVudCB2bm9kZVxuXHQgICAgb3B0aW9ucy5jaGlsZHJlbiAvLyBuZXcgY2hpbGRyZW5cblx0ICApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnNlcnQgKHZub2RlKSB7XG5cdCAgaWYgKCF2bm9kZS5jaGlsZC5faXNNb3VudGVkKSB7XG5cdCAgICB2bm9kZS5jaGlsZC5faXNNb3VudGVkID0gdHJ1ZTtcblx0ICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnbW91bnRlZCcpO1xuXHQgIH1cblx0ICBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcblx0ICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IGZhbHNlO1xuXHQgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdhY3RpdmF0ZWQnKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlc3Ryb3kkMSAodm5vZGUpIHtcblx0ICBpZiAoIXZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuXHQgICAgaWYgKCF2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuXHQgICAgICB2bm9kZS5jaGlsZC4kZGVzdHJveSgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm5vZGUuY2hpbGQuX2luYWN0aXZlID0gdHJ1ZTtcblx0ICAgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdkZWFjdGl2YXRlZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVzb2x2ZUFzeW5jQ29tcG9uZW50IChcblx0ICBmYWN0b3J5LFxuXHQgIGJhc2VDdG9yLFxuXHQgIGNiXG5cdCkge1xuXHQgIGlmIChmYWN0b3J5LnJlcXVlc3RlZCkge1xuXHQgICAgLy8gcG9vbCBjYWxsYmFja3Ncblx0ICAgIGZhY3RvcnkucGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNiKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZmFjdG9yeS5yZXF1ZXN0ZWQgPSB0cnVlO1xuXHQgICAgdmFyIGNicyA9IGZhY3RvcnkucGVuZGluZ0NhbGxiYWNrcyA9IFtjYl07XG5cdCAgICB2YXIgc3luYyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIHJlc29sdmUgPSBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XG5cdCAgICAgICAgcmVzID0gYmFzZUN0b3IuZXh0ZW5kKHJlcyk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcblx0ICAgICAgZmFjdG9yeS5yZXNvbHZlZCA9IHJlcztcblx0ICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZVxuXHQgICAgICAvLyAoYXN5bmMgcmVzb2x2ZXMgYXJlIHNoaW1tZWQgYXMgc3luY2hyb25vdXMgZHVyaW5nIFNTUilcblx0ICAgICAgaWYgKCFzeW5jKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICBjYnNbaV0ocmVzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgIFwiRmFpbGVkIHRvIHJlc29sdmUgYXN5bmMgY29tcG9uZW50OiBcIiArIChTdHJpbmcoZmFjdG9yeSkpICtcblx0ICAgICAgICAocmVhc29uID8gKFwiXFxuUmVhc29uOiBcIiArIHJlYXNvbikgOiAnJylcblx0ICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHJlcyA9IGZhY3RvcnkocmVzb2x2ZSwgcmVqZWN0KTtcblx0XG5cdCAgICAvLyBoYW5kbGUgcHJvbWlzZVxuXHQgICAgaWYgKHJlcyAmJiB0eXBlb2YgcmVzLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgIWZhY3RvcnkucmVzb2x2ZWQpIHtcblx0ICAgICAgcmVzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICBzeW5jID0gZmFsc2U7XG5cdCAgICAvLyByZXR1cm4gaW4gY2FzZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5XG5cdCAgICByZXR1cm4gZmFjdG9yeS5yZXNvbHZlZFxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZXh0cmFjdFByb3BzIChkYXRhLCBDdG9yKSB7XG5cdCAgLy8gd2UgYXJlIG9ubHkgZXh0cmFjdGluZyByYXcgdmFsdWVzIGhlcmUuXG5cdCAgLy8gdmFsaWRhdGlvbiBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIGNoaWxkXG5cdCAgLy8gY29tcG9uZW50IGl0c2VsZi5cblx0ICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XG5cdCAgaWYgKCFwcm9wT3B0aW9ucykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciByZXMgPSB7fTtcblx0ICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzO1xuXHQgIHZhciBwcm9wcyA9IGRhdGEucHJvcHM7XG5cdCAgdmFyIGRvbVByb3BzID0gZGF0YS5kb21Qcm9wcztcblx0ICBpZiAoYXR0cnMgfHwgcHJvcHMgfHwgZG9tUHJvcHMpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuXHQgICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XG5cdCAgICAgIGNoZWNrUHJvcChyZXMsIHByb3BzLCBrZXksIGFsdEtleSwgdHJ1ZSkgfHxcblx0ICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5KSB8fFxuXHQgICAgICBjaGVja1Byb3AocmVzLCBkb21Qcm9wcywga2V5LCBhbHRLZXkpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrUHJvcCAoXG5cdCAgcmVzLFxuXHQgIGhhc2gsXG5cdCAga2V5LFxuXHQgIGFsdEtleSxcblx0ICBwcmVzZXJ2ZVxuXHQpIHtcblx0ICBpZiAoaGFzaCkge1xuXHQgICAgaWYgKGhhc093bihoYXNoLCBrZXkpKSB7XG5cdCAgICAgIHJlc1trZXldID0gaGFzaFtrZXldO1xuXHQgICAgICBpZiAoIXByZXNlcnZlKSB7XG5cdCAgICAgICAgZGVsZXRlIGhhc2hba2V5XTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgfSBlbHNlIGlmIChoYXNPd24oaGFzaCwgYWx0S2V5KSkge1xuXHQgICAgICByZXNba2V5XSA9IGhhc2hbYWx0S2V5XTtcblx0ICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuXHQgICAgICAgIGRlbGV0ZSBoYXNoW2FsdEtleV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRydWVcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGZhbHNlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlSG9va3MgKGRhdGEpIHtcblx0ICBpZiAoIWRhdGEuaG9vaykge1xuXHQgICAgZGF0YS5ob29rID0ge307XG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3NUb01lcmdlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldO1xuXHQgICAgdmFyIGZyb21QYXJlbnQgPSBkYXRhLmhvb2tba2V5XTtcblx0ICAgIHZhciBvdXJzID0gaG9va3Nba2V5XTtcblx0ICAgIGRhdGEuaG9va1trZXldID0gZnJvbVBhcmVudCA/IG1lcmdlSG9vayQxKG91cnMsIGZyb21QYXJlbnQpIDogb3Vycztcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlSG9vayQxIChhLCBiKSB7XG5cdCAgLy8gc2luY2UgYWxsIGhvb2tzIGhhdmUgYXQgbW9zdCB0d28gYXJncywgdXNlIGZpeGVkIGFyZ3Ncblx0ICAvLyB0byBhdm9pZCBoYXZpbmcgdG8gdXNlIGZuLmFwcGx5KCkuXG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChfLCBfXykge1xuXHQgICAgYShfLCBfXyk7XG5cdCAgICBiKF8sIF9fKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gd3JhcHBlciBmdW5jdGlvbiBmb3IgcHJvdmlkaW5nIGEgbW9yZSBmbGV4aWJsZSBpbnRlcmZhY2Vcblx0Ly8gd2l0aG91dCBnZXR0aW5nIHllbGxlZCBhdCBieSBmbG93XG5cdGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKFxuXHQgIHRhZyxcblx0ICBkYXRhLFxuXHQgIGNoaWxkcmVuXG5cdCkge1xuXHQgIGlmIChkYXRhICYmIChBcnJheS5pc0FycmF5KGRhdGEpIHx8IHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JykpIHtcblx0ICAgIGNoaWxkcmVuID0gZGF0YTtcblx0ICAgIGRhdGEgPSB1bmRlZmluZWQ7XG5cdCAgfVxuXHQgIC8vIG1ha2Ugc3VyZSB0byB1c2UgcmVhbCBpbnN0YW5jZSBpbnN0ZWFkIG9mIHByb3h5IGFzIGNvbnRleHRcblx0ICByZXR1cm4gX2NyZWF0ZUVsZW1lbnQodGhpcy5fc2VsZiwgdGFnLCBkYXRhLCBjaGlsZHJlbilcblx0fVxuXHRcblx0ZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnQgKFxuXHQgIGNvbnRleHQsXG5cdCAgdGFnLFxuXHQgIGRhdGEsXG5cdCAgY2hpbGRyZW5cblx0KSB7XG5cdCAgaWYgKGRhdGEgJiYgZGF0YS5fX29iX18pIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgXCJBdm9pZCB1c2luZyBvYnNlcnZlZCBkYXRhIG9iamVjdCBhcyB2bm9kZSBkYXRhOiBcIiArIChKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIlxcblwiICtcblx0ICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsXG5cdCAgICAgIGNvbnRleHRcblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgaWYgKCF0YWcpIHtcblx0ICAgIC8vIGluIGNhc2Ugb2YgY29tcG9uZW50IDppcyBzZXQgdG8gZmFsc3kgdmFsdWVcblx0ICAgIHJldHVybiBlbXB0eVZOb2RlKClcblx0ICB9XG5cdCAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxuXHQgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSAmJlxuXHQgICAgICB0eXBlb2YgY2hpbGRyZW5bMF0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuXHQgICAgZGF0YS5zY29wZWRTbG90cyA9IHsgZGVmYXVsdDogY2hpbGRyZW5bMF0gfTtcblx0ICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7XG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFyIEN0b3I7XG5cdCAgICB2YXIgbnMgPSBjb25maWcuZ2V0VGFnTmFtZXNwYWNlKHRhZyk7XG5cdCAgICBpZiAoY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuXHQgICAgICAvLyBwbGF0Zm9ybSBidWlsdC1pbiBlbGVtZW50c1xuXHQgICAgICByZXR1cm4gbmV3IFZOb2RlKFxuXHQgICAgICAgIHRhZywgZGF0YSwgbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4sIG5zKSxcblx0ICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbnMsIGNvbnRleHRcblx0ICAgICAgKVxuXHQgICAgfSBlbHNlIGlmICgoQ3RvciA9IHJlc29sdmVBc3NldChjb250ZXh0LiRvcHRpb25zLCAnY29tcG9uZW50cycsIHRhZykpKSB7XG5cdCAgICAgIC8vIGNvbXBvbmVudFxuXHQgICAgICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyB1bmtub3duIG9yIHVubGlzdGVkIG5hbWVzcGFjZWQgZWxlbWVudHNcblx0ICAgICAgLy8gY2hlY2sgYXQgcnVudGltZSBiZWNhdXNlIGl0IG1heSBnZXQgYXNzaWduZWQgYSBuYW1lc3BhY2Ugd2hlbiBpdHNcblx0ICAgICAgLy8gcGFyZW50IG5vcm1hbGl6ZXMgY2hpbGRyZW5cblx0ICAgICAgdmFyIGNoaWxkTnMgPSB0YWcgPT09ICdmb3JlaWduT2JqZWN0JyA/ICd4aHRtbCcgOiBucztcblx0ICAgICAgcmV0dXJuIG5ldyBWTm9kZShcblx0ICAgICAgICB0YWcsIGRhdGEsIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuLCBjaGlsZE5zKSxcblx0ICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbnMsIGNvbnRleHRcblx0ICAgICAgKVxuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuXHQgICAgcmV0dXJuIGNyZWF0ZUNvbXBvbmVudCh0YWcsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuKVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0UmVuZGVyICh2bSkge1xuXHQgIHZtLiR2bm9kZSA9IG51bGw7IC8vIHRoZSBwbGFjZWhvbGRlciBub2RlIGluIHBhcmVudCB0cmVlXG5cdCAgdm0uX3Zub2RlID0gbnVsbDsgLy8gdGhlIHJvb3Qgb2YgdGhlIGNoaWxkIHRyZWVcblx0ICB2bS5fc3RhdGljVHJlZXMgPSBudWxsO1xuXHQgIHZtLl9yZW5kZXJDb250ZXh0ID0gdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlICYmIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZS5jb250ZXh0O1xuXHQgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcblx0ICB2bS4kc2NvcGVkU2xvdHMgPSB7fTtcblx0ICAvLyBiaW5kIHRoZSBwdWJsaWMgY3JlYXRlRWxlbWVudCBmbiB0byB0aGlzIGluc3RhbmNlXG5cdCAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC5cblx0ICB2bS4kY3JlYXRlRWxlbWVudCA9IGJpbmQkMShjcmVhdGVFbGVtZW50LCB2bSk7XG5cdCAgaWYgKHZtLiRvcHRpb25zLmVsKSB7XG5cdCAgICB2bS4kbW91bnQodm0uJG9wdGlvbnMuZWwpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVuZGVyTWl4aW4gKFZ1ZSkge1xuXHQgIFZ1ZS5wcm90b3R5cGUuJG5leHRUaWNrID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpXG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciByZWYgPSB2bS4kb3B0aW9ucztcblx0ICAgIHZhciByZW5kZXIgPSByZWYucmVuZGVyO1xuXHQgICAgdmFyIHN0YXRpY1JlbmRlckZucyA9IHJlZi5zdGF0aWNSZW5kZXJGbnM7XG5cdCAgICB2YXIgX3BhcmVudFZub2RlID0gcmVmLl9wYXJlbnRWbm9kZTtcblx0XG5cdCAgICBpZiAodm0uX2lzTW91bnRlZCkge1xuXHQgICAgICAvLyBjbG9uZSBzbG90IG5vZGVzIG9uIHJlLXJlbmRlcnNcblx0ICAgICAgZm9yICh2YXIga2V5IGluIHZtLiRzbG90cykge1xuXHQgICAgICAgIHZtLiRzbG90c1trZXldID0gY2xvbmVWTm9kZXModm0uJHNsb3RzW2tleV0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKF9wYXJlbnRWbm9kZSAmJiBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cykge1xuXHQgICAgICB2bS4kc2NvcGVkU2xvdHMgPSBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RhdGljUmVuZGVyRm5zICYmICF2bS5fc3RhdGljVHJlZXMpIHtcblx0ICAgICAgdm0uX3N0YXRpY1RyZWVzID0gW107XG5cdCAgICB9XG5cdCAgICAvLyBzZXQgcGFyZW50IHZub2RlLiB0aGlzIGFsbG93cyByZW5kZXIgZnVuY3Rpb25zIHRvIGhhdmUgYWNjZXNzXG5cdCAgICAvLyB0byB0aGUgZGF0YSBvbiB0aGUgcGxhY2Vob2xkZXIgbm9kZS5cblx0ICAgIHZtLiR2bm9kZSA9IF9wYXJlbnRWbm9kZTtcblx0ICAgIC8vIHJlbmRlciBzZWxmXG5cdCAgICB2YXIgdm5vZGU7XG5cdCAgICB0cnkge1xuXHQgICAgICB2bm9kZSA9IHJlbmRlci5jYWxsKHZtLl9yZW5kZXJQcm94eSwgdm0uJGNyZWF0ZUVsZW1lbnQpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIHdhcm4oKFwiRXJyb3Igd2hlbiByZW5kZXJpbmcgXCIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCI6XCIpKTtcblx0ICAgICAgfVxuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuXHQgICAgICAgIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlLCB2bSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGlzU2VydmVyUmVuZGVyaW5nKCkpIHtcblx0ICAgICAgICAgIHRocm93IGVcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgLy8gcmV0dXJuIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XG5cdCAgICAgIHZub2RlID0gdm0uX3Zub2RlO1xuXHQgICAgfVxuXHQgICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dFxuXHQgICAgaWYgKCEodm5vZGUgaW5zdGFuY2VvZiBWTm9kZSkpIHtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcblx0ICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgJ011bHRpcGxlIHJvb3Qgbm9kZXMgcmV0dXJuZWQgZnJvbSByZW5kZXIgZnVuY3Rpb24uIFJlbmRlciBmdW5jdGlvbiAnICtcblx0ICAgICAgICAgICdzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHJvb3Qgbm9kZS4nLFxuXHQgICAgICAgICAgdm1cblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICAgIHZub2RlID0gZW1wdHlWTm9kZSgpO1xuXHQgICAgfVxuXHQgICAgLy8gc2V0IHBhcmVudFxuXHQgICAgdm5vZGUucGFyZW50ID0gX3BhcmVudFZub2RlO1xuXHQgICAgcmV0dXJuIHZub2RlXG5cdCAgfTtcblx0XG5cdCAgLy8gc2hvcnRoYW5kcyB1c2VkIGluIHJlbmRlciBmdW5jdGlvbnNcblx0ICBWdWUucHJvdG90eXBlLl9oID0gY3JlYXRlRWxlbWVudDtcblx0ICAvLyB0b1N0cmluZyBmb3IgbXVzdGFjaGVzXG5cdCAgVnVlLnByb3RvdHlwZS5fcyA9IF90b1N0cmluZztcblx0ICAvLyBudW1iZXIgY29udmVyc2lvblxuXHQgIFZ1ZS5wcm90b3R5cGUuX24gPSB0b051bWJlcjtcblx0ICAvLyBlbXB0eSB2bm9kZVxuXHQgIFZ1ZS5wcm90b3R5cGUuX2UgPSBlbXB0eVZOb2RlO1xuXHQgIC8vIGxvb3NlIGVxdWFsXG5cdCAgVnVlLnByb3RvdHlwZS5fcSA9IGxvb3NlRXF1YWw7XG5cdCAgLy8gbG9vc2UgaW5kZXhPZlxuXHQgIFZ1ZS5wcm90b3R5cGUuX2kgPSBsb29zZUluZGV4T2Y7XG5cdFxuXHQgIC8vIHJlbmRlciBzdGF0aWMgdHJlZSBieSBpbmRleFxuXHQgIFZ1ZS5wcm90b3R5cGUuX20gPSBmdW5jdGlvbiByZW5kZXJTdGF0aWMgKFxuXHQgICAgaW5kZXgsXG5cdCAgICBpc0luRm9yXG5cdCAgKSB7XG5cdCAgICB2YXIgdHJlZSA9IHRoaXMuX3N0YXRpY1RyZWVzW2luZGV4XTtcblx0ICAgIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLFxuXHQgICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUgYnkgZG9pbmcgYSBzaGFsbG93IGNsb25lLlxuXHQgICAgaWYgKHRyZWUgJiYgIWlzSW5Gb3IpIHtcblx0ICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodHJlZSlcblx0ICAgICAgICA/IGNsb25lVk5vZGVzKHRyZWUpXG5cdCAgICAgICAgOiBjbG9uZVZOb2RlKHRyZWUpXG5cdCAgICB9XG5cdCAgICAvLyBvdGhlcndpc2UsIHJlbmRlciBhIGZyZXNoIHRyZWUuXG5cdCAgICB0cmVlID0gdGhpcy5fc3RhdGljVHJlZXNbaW5kZXhdID0gdGhpcy4kb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnNbaW5kZXhdLmNhbGwodGhpcy5fcmVuZGVyUHJveHkpO1xuXHQgICAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX3N0YXRpY19fXCIgKyBpbmRleCksIGZhbHNlKTtcblx0ICAgIHJldHVybiB0cmVlXG5cdCAgfTtcblx0XG5cdCAgLy8gbWFyayBub2RlIGFzIHN0YXRpYyAodi1vbmNlKVxuXHQgIFZ1ZS5wcm90b3R5cGUuX28gPSBmdW5jdGlvbiBtYXJrT25jZSAoXG5cdCAgICB0cmVlLFxuXHQgICAgaW5kZXgsXG5cdCAgICBrZXlcblx0ICApIHtcblx0ICAgIG1hcmtTdGF0aWModHJlZSwgKFwiX19vbmNlX19cIiArIGluZGV4ICsgKGtleSA/IChcIl9cIiArIGtleSkgOiBcIlwiKSksIHRydWUpO1xuXHQgICAgcmV0dXJuIHRyZWVcblx0ICB9O1xuXHRcblx0ICBmdW5jdGlvbiBtYXJrU3RhdGljICh0cmVlLCBrZXksIGlzT25jZSkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZSkpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKHRyZWVbaV0gJiYgdHlwZW9mIHRyZWVbaV0gIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICBtYXJrU3RhdGljTm9kZSh0cmVlW2ldLCAoa2V5ICsgXCJfXCIgKyBpKSwgaXNPbmNlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG1hcmtTdGF0aWNOb2RlIChub2RlLCBrZXksIGlzT25jZSkge1xuXHQgICAgbm9kZS5pc1N0YXRpYyA9IHRydWU7XG5cdCAgICBub2RlLmtleSA9IGtleTtcblx0ICAgIG5vZGUuaXNPbmNlID0gaXNPbmNlO1xuXHQgIH1cblx0XG5cdCAgLy8gZmlsdGVyIHJlc29sdXRpb24gaGVscGVyXG5cdCAgdmFyIGlkZW50aXR5ID0gZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH07XG5cdCAgVnVlLnByb3RvdHlwZS5fZiA9IGZ1bmN0aW9uIHJlc29sdmVGaWx0ZXIgKGlkKSB7XG5cdCAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KHRoaXMuJG9wdGlvbnMsICdmaWx0ZXJzJywgaWQsIHRydWUpIHx8IGlkZW50aXR5XG5cdCAgfTtcblx0XG5cdCAgLy8gcmVuZGVyIHYtZm9yXG5cdCAgVnVlLnByb3RvdHlwZS5fbCA9IGZ1bmN0aW9uIHJlbmRlckxpc3QgKFxuXHQgICAgdmFsLFxuXHQgICAgcmVuZGVyXG5cdCAgKSB7XG5cdCAgICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdCAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTtcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuXHQgICAgICByZXQgPSBuZXcgQXJyYXkodmFsKTtcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IHZhbDsgaSsrKSB7XG5cdCAgICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG5cdCAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xuXHQgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuXHQgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxba2V5XSwga2V5LCBpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldFxuXHQgIH07XG5cdFxuXHQgIC8vIHJlbmRlclNsb3Rcblx0ICBWdWUucHJvdG90eXBlLl90ID0gZnVuY3Rpb24gKFxuXHQgICAgbmFtZSxcblx0ICAgIGZhbGxiYWNrLFxuXHQgICAgcHJvcHNcblx0ICApIHtcblx0ICAgIHZhciBzY29wZWRTbG90Rm4gPSB0aGlzLiRzY29wZWRTbG90c1tuYW1lXTtcblx0ICAgIGlmIChzY29wZWRTbG90Rm4pIHsgLy8gc2NvcGVkIHNsb3Rcblx0ICAgICAgcmV0dXJuIHNjb3BlZFNsb3RGbihwcm9wcyB8fCB7fSkgfHwgZmFsbGJhY2tcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBzbG90Tm9kZXMgPSB0aGlzLiRzbG90c1tuYW1lXTtcblx0ICAgICAgLy8gd2FybiBkdXBsaWNhdGUgc2xvdCB1c2FnZVxuXHQgICAgICBpZiAoc2xvdE5vZGVzICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICBzbG90Tm9kZXMuX3JlbmRlcmVkICYmIHdhcm4oXG5cdCAgICAgICAgICBcIkR1cGxpY2F0ZSBwcmVzZW5jZSBvZiBzbG90IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgZm91bmQgaW4gdGhlIHNhbWUgcmVuZGVyIHRyZWUgXCIgK1xuXHQgICAgICAgICAgXCItIHRoaXMgd2lsbCBsaWtlbHkgY2F1c2UgcmVuZGVyIGVycm9ycy5cIixcblx0ICAgICAgICAgIHRoaXNcblx0ICAgICAgICApO1xuXHQgICAgICAgIHNsb3ROb2Rlcy5fcmVuZGVyZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBzbG90Tm9kZXMgfHwgZmFsbGJhY2tcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyBhcHBseSB2LWJpbmQgb2JqZWN0XG5cdCAgVnVlLnByb3RvdHlwZS5fYiA9IGZ1bmN0aW9uIGJpbmRQcm9wcyAoXG5cdCAgICBkYXRhLFxuXHQgICAgdGFnLFxuXHQgICAgdmFsdWUsXG5cdCAgICBhc1Byb3Bcblx0ICApIHtcblx0ICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICAgICd2LWJpbmQgd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCBvciBBcnJheSB2YWx1ZScsXG5cdCAgICAgICAgICB0aGlzXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgICAgICAgIHZhbHVlID0gdG9PYmplY3QodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcblx0ICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycgfHwga2V5ID09PSAnc3R5bGUnKSB7XG5cdCAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlW2tleV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgaGFzaCA9IGFzUHJvcCB8fCBjb25maWcubXVzdFVzZVByb3AodGFnLCBrZXkpXG5cdCAgICAgICAgICAgICAgPyBkYXRhLmRvbVByb3BzIHx8IChkYXRhLmRvbVByb3BzID0ge30pXG5cdCAgICAgICAgICAgICAgOiBkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pO1xuXHQgICAgICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZVtrZXldO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGFcblx0ICB9O1xuXHRcblx0ICAvLyBleHBvc2Ugdi1vbiBrZXlDb2Rlc1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2sgPSBmdW5jdGlvbiBnZXRLZXlDb2RlcyAoa2V5KSB7XG5cdCAgICByZXR1cm4gY29uZmlnLmtleUNvZGVzW2tleV1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNvbHZlU2xvdHMgKFxuXHQgIHJlbmRlckNoaWxkcmVuLFxuXHQgIGNvbnRleHRcblx0KSB7XG5cdCAgdmFyIHNsb3RzID0ge307XG5cdCAgaWYgKCFyZW5kZXJDaGlsZHJlbikge1xuXHQgICAgcmV0dXJuIHNsb3RzXG5cdCAgfVxuXHQgIHZhciBjaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKHJlbmRlckNoaWxkcmVuKSB8fCBbXTtcblx0ICB2YXIgZGVmYXVsdFNsb3QgPSBbXTtcblx0ICB2YXIgbmFtZSwgY2hpbGQ7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cdCAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGVcblx0ICAgIC8vIHNhbWUgY29udGV4dC5cblx0ICAgIGlmICgoY2hpbGQuY29udGV4dCA9PT0gY29udGV4dCB8fCBjaGlsZC5mdW5jdGlvbmFsQ29udGV4dCA9PT0gY29udGV4dCkgJiZcblx0ICAgICAgICBjaGlsZC5kYXRhICYmIChuYW1lID0gY2hpbGQuZGF0YS5zbG90KSkge1xuXHQgICAgICB2YXIgc2xvdCA9IChzbG90c1tuYW1lXSB8fCAoc2xvdHNbbmFtZV0gPSBbXSkpO1xuXHQgICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7XG5cdCAgICAgICAgc2xvdC5wdXNoLmFwcGx5KHNsb3QsIGNoaWxkLmNoaWxkcmVuKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBkZWZhdWx0U2xvdC5wdXNoKGNoaWxkKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgLy8gaWdub3JlIHNpbmdsZSB3aGl0ZXNwYWNlXG5cdCAgaWYgKGRlZmF1bHRTbG90Lmxlbmd0aCAmJiAhKFxuXHQgICAgZGVmYXVsdFNsb3QubGVuZ3RoID09PSAxICYmXG5cdCAgICAoZGVmYXVsdFNsb3RbMF0udGV4dCA9PT0gJyAnIHx8IGRlZmF1bHRTbG90WzBdLmlzQ29tbWVudClcblx0ICApKSB7XG5cdCAgICBzbG90cy5kZWZhdWx0ID0gZGVmYXVsdFNsb3Q7XG5cdCAgfVxuXHQgIHJldHVybiBzbG90c1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRFdmVudHMgKHZtKSB7XG5cdCAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzXG5cdCAgdmFyIGxpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG5cdCAgdmFyIG9uID0gYmluZCQxKHZtLiRvbiwgdm0pO1xuXHQgIHZhciBvZmYgPSBiaW5kJDEodm0uJG9mZiwgdm0pO1xuXHQgIHZtLl91cGRhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpIHtcblx0ICAgIHVwZGF0ZUxpc3RlbmVycyhsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyB8fCB7fSwgb24sIG9mZiwgdm0pO1xuXHQgIH07XG5cdCAgaWYgKGxpc3RlbmVycykge1xuXHQgICAgdm0uX3VwZGF0ZUxpc3RlbmVycyhsaXN0ZW5lcnMpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZXZlbnRzTWl4aW4gKFZ1ZSkge1xuXHQgIFZ1ZS5wcm90b3R5cGUuJG9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuXHQgICAgdmFyIHZtID0gdGhpczsodm0uX2V2ZW50c1tldmVudF0gfHwgKHZtLl9ldmVudHNbZXZlbnRdID0gW10pKS5wdXNoKGZuKTtcblx0ICAgIHJldHVybiB2bVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJG9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgZnVuY3Rpb24gb24gKCkge1xuXHQgICAgICB2bS4kb2ZmKGV2ZW50LCBvbik7XG5cdCAgICAgIGZuLmFwcGx5KHZtLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgICAgb24uZm4gPSBmbjtcblx0ICAgIHZtLiRvbihldmVudCwgb24pO1xuXHQgICAgcmV0dXJuIHZtXG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kb2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIC8vIGFsbFxuXHQgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG5cdCAgICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgICAgICByZXR1cm4gdm1cblx0ICAgIH1cblx0ICAgIC8vIHNwZWNpZmljIGV2ZW50XG5cdCAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XG5cdCAgICBpZiAoIWNicykge1xuXHQgICAgICByZXR1cm4gdm1cblx0ICAgIH1cblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHZtLl9ldmVudHNbZXZlbnRdID0gbnVsbDtcblx0ICAgICAgcmV0dXJuIHZtXG5cdCAgICB9XG5cdCAgICAvLyBzcGVjaWZpYyBoYW5kbGVyXG5cdCAgICB2YXIgY2I7XG5cdCAgICB2YXIgaSA9IGNicy5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIGNiID0gY2JzW2ldO1xuXHQgICAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuXHQgICAgICAgIGNicy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgYnJlYWtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtXG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcblx0ICAgIGlmIChjYnMpIHtcblx0ICAgICAgY2JzID0gY2JzLmxlbmd0aCA+IDEgPyB0b0FycmF5KGNicykgOiBjYnM7XG5cdCAgICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuXHQgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICBjYnNbaV0uYXBwbHkodm0sIGFyZ3MpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm1cblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciB1aWQgPSAwO1xuXHRcblx0ZnVuY3Rpb24gaW5pdE1peGluIChWdWUpIHtcblx0ICBWdWUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICAvLyBhIHVpZFxuXHQgICAgdm0uX3VpZCA9IHVpZCsrO1xuXHQgICAgLy8gYSBmbGFnIHRvIGF2b2lkIHRoaXMgYmVpbmcgb2JzZXJ2ZWRcblx0ICAgIHZtLl9pc1Z1ZSA9IHRydWU7XG5cdCAgICAvLyBtZXJnZSBvcHRpb25zXG5cdCAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLl9pc0NvbXBvbmVudCkge1xuXHQgICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvblxuXHQgICAgICAvLyBzaW5jZSBkeW5hbWljIG9wdGlvbnMgbWVyZ2luZyBpcyBwcmV0dHkgc2xvdywgYW5kIG5vbmUgb2YgdGhlXG5cdCAgICAgIC8vIGludGVybmFsIGNvbXBvbmVudCBvcHRpb25zIG5lZWRzIHNwZWNpYWwgdHJlYXRtZW50LlxuXHQgICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uJG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG5cdCAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksXG5cdCAgICAgICAgb3B0aW9ucyB8fCB7fSxcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIGluaXRQcm94eSh2bSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcblx0ICAgIH1cblx0ICAgIC8vIGV4cG9zZSByZWFsIHNlbGZcblx0ICAgIHZtLl9zZWxmID0gdm07XG5cdCAgICBpbml0TGlmZWN5Y2xlKHZtKTtcblx0ICAgIGluaXRFdmVudHModm0pO1xuXHQgICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTtcblx0ICAgIGluaXRTdGF0ZSh2bSk7XG5cdCAgICBjYWxsSG9vayh2bSwgJ2NyZWF0ZWQnKTtcblx0ICAgIGluaXRSZW5kZXIodm0pO1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluaXRJbnRlcm5hbENvbXBvbmVudCAodm0sIG9wdGlvbnMpIHtcblx0ICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zID0gT2JqZWN0LmNyZWF0ZSh2bS5jb25zdHJ1Y3Rvci5vcHRpb25zKTtcblx0ICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkeW5hbWljIGVudW1lcmF0aW9uLlxuXHQgIG9wdHMucGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG5cdCAgb3B0cy5wcm9wc0RhdGEgPSBvcHRpb25zLnByb3BzRGF0YTtcblx0ICBvcHRzLl9wYXJlbnRWbm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlO1xuXHQgIG9wdHMuX3BhcmVudExpc3RlbmVycyA9IG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcblx0ICBvcHRzLl9yZW5kZXJDaGlsZHJlbiA9IG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuO1xuXHQgIG9wdHMuX2NvbXBvbmVudFRhZyA9IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcblx0ICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcblx0ICAgIG9wdHMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG5cdCAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyAoQ3Rvcikge1xuXHQgIHZhciBvcHRpb25zID0gQ3Rvci5vcHRpb25zO1xuXHQgIGlmIChDdG9yLnN1cGVyKSB7XG5cdCAgICB2YXIgc3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlci5vcHRpb25zO1xuXHQgICAgdmFyIGNhY2hlZFN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXJPcHRpb25zO1xuXHQgICAgdmFyIGV4dGVuZE9wdGlvbnMgPSBDdG9yLmV4dGVuZE9wdGlvbnM7XG5cdCAgICBpZiAoc3VwZXJPcHRpb25zICE9PSBjYWNoZWRTdXBlck9wdGlvbnMpIHtcblx0ICAgICAgLy8gc3VwZXIgb3B0aW9uIGNoYW5nZWRcblx0ICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7XG5cdCAgICAgIGV4dGVuZE9wdGlvbnMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG5cdCAgICAgIGV4dGVuZE9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnM7XG5cdCAgICAgIGV4dGVuZE9wdGlvbnMuX3Njb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xuXHQgICAgICBvcHRpb25zID0gQ3Rvci5vcHRpb25zID0gbWVyZ2VPcHRpb25zKHN1cGVyT3B0aW9ucywgZXh0ZW5kT3B0aW9ucyk7XG5cdCAgICAgIGlmIChvcHRpb25zLm5hbWUpIHtcblx0ICAgICAgICBvcHRpb25zLmNvbXBvbmVudHNbb3B0aW9ucy5uYW1lXSA9IEN0b3I7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG9wdGlvbnNcblx0fVxuXHRcblx0ZnVuY3Rpb24gVnVlJDIgKG9wdGlvbnMpIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuXHQgICAgISh0aGlzIGluc3RhbmNlb2YgVnVlJDIpKSB7XG5cdCAgICB3YXJuKCdWdWUgaXMgYSBjb25zdHJ1Y3RvciBhbmQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkJyk7XG5cdCAgfVxuXHQgIHRoaXMuX2luaXQob3B0aW9ucyk7XG5cdH1cblx0XG5cdGluaXRNaXhpbihWdWUkMik7XG5cdHN0YXRlTWl4aW4oVnVlJDIpO1xuXHRldmVudHNNaXhpbihWdWUkMik7XG5cdGxpZmVjeWNsZU1peGluKFZ1ZSQyKTtcblx0cmVuZGVyTWl4aW4oVnVlJDIpO1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0VXNlIChWdWUpIHtcblx0ICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikge1xuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICBpZiAocGx1Z2luLmluc3RhbGxlZCkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1ldGVyc1xuXHQgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG5cdCAgICBhcmdzLnVuc2hpZnQodGhpcyk7XG5cdCAgICBpZiAodHlwZW9mIHBsdWdpbi5pbnN0YWxsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICB9XG5cdCAgICBwbHVnaW4uaW5zdGFsbGVkID0gdHJ1ZTtcblx0ICAgIHJldHVybiB0aGlzXG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0TWl4aW4kMSAoVnVlKSB7XG5cdCAgVnVlLm1peGluID0gZnVuY3Rpb24gKG1peGluKSB7XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBtaXhpbik7XG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0RXh0ZW5kIChWdWUpIHtcblx0ICAvKipcblx0ICAgKiBFYWNoIGluc3RhbmNlIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgVnVlLCBoYXMgYSB1bmlxdWVcblx0ICAgKiBjaWQuIFRoaXMgZW5hYmxlcyB1cyB0byBjcmVhdGUgd3JhcHBlZCBcImNoaWxkXG5cdCAgICogY29uc3RydWN0b3JzXCIgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgYW5kIGNhY2hlIHRoZW0uXG5cdCAgICovXG5cdCAgVnVlLmNpZCA9IDA7XG5cdCAgdmFyIGNpZCA9IDE7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENsYXNzIGluaGVyaXRhbmNlXG5cdCAgICovXG5cdCAgVnVlLmV4dGVuZCA9IGZ1bmN0aW9uIChleHRlbmRPcHRpb25zKSB7XG5cdCAgICBleHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucyB8fCB7fTtcblx0ICAgIHZhciBTdXBlciA9IHRoaXM7XG5cdCAgICB2YXIgU3VwZXJJZCA9IFN1cGVyLmNpZDtcblx0ICAgIHZhciBjYWNoZWRDdG9ycyA9IGV4dGVuZE9wdGlvbnMuX0N0b3IgfHwgKGV4dGVuZE9wdGlvbnMuX0N0b3IgPSB7fSk7XG5cdCAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcblx0ICAgICAgcmV0dXJuIGNhY2hlZEN0b3JzW1N1cGVySWRdXG5cdCAgICB9XG5cdCAgICB2YXIgbmFtZSA9IGV4dGVuZE9wdGlvbnMubmFtZSB8fCBTdXBlci5vcHRpb25zLm5hbWU7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICBpZiAoIS9eW2EtekEtWl1bXFx3LV0qJC8udGVzdChuYW1lKSkge1xuXHQgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAnSW52YWxpZCBjb21wb25lbnQgbmFtZTogXCInICsgbmFtZSArICdcIi4gQ29tcG9uZW50IG5hbWVzICcgK1xuXHQgICAgICAgICAgJ2NhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY2F0ZXJzIGFuZCB0aGUgaHlwaGVuLidcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgU3ViID0gZnVuY3Rpb24gVnVlQ29tcG9uZW50IChvcHRpb25zKSB7XG5cdCAgICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XG5cdCAgICB9O1xuXHQgICAgU3ViLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3VwZXIucHJvdG90eXBlKTtcblx0ICAgIFN1Yi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWI7XG5cdCAgICBTdWIuY2lkID0gY2lkKys7XG5cdCAgICBTdWIub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcblx0ICAgICAgU3VwZXIub3B0aW9ucyxcblx0ICAgICAgZXh0ZW5kT3B0aW9uc1xuXHQgICAgKTtcblx0ICAgIFN1Ylsnc3VwZXInXSA9IFN1cGVyO1xuXHQgICAgLy8gYWxsb3cgZnVydGhlciBleHRlbnNpb24vbWl4aW4vcGx1Z2luIHVzYWdlXG5cdCAgICBTdWIuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuXHQgICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47XG5cdCAgICBTdWIudXNlID0gU3VwZXIudXNlO1xuXHQgICAgLy8gY3JlYXRlIGFzc2V0IHJlZ2lzdGVycywgc28gZXh0ZW5kZWQgY2xhc3Nlc1xuXHQgICAgLy8gY2FuIGhhdmUgdGhlaXIgcHJpdmF0ZSBhc3NldHMgdG9vLlxuXHQgICAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcblx0ICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XG5cdCAgICB9KTtcblx0ICAgIC8vIGVuYWJsZSByZWN1cnNpdmUgc2VsZi1sb29rdXBcblx0ICAgIGlmIChuYW1lKSB7XG5cdCAgICAgIFN1Yi5vcHRpb25zLmNvbXBvbmVudHNbbmFtZV0gPSBTdWI7XG5cdCAgICB9XG5cdCAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzdXBlciBvcHRpb25zIGF0IGV4dGVuc2lvbiB0aW1lLlxuXHQgICAgLy8gbGF0ZXIgYXQgaW5zdGFudGlhdGlvbiB3ZSBjYW4gY2hlY2sgaWYgU3VwZXIncyBvcHRpb25zIGhhdmVcblx0ICAgIC8vIGJlZW4gdXBkYXRlZC5cblx0ICAgIFN1Yi5zdXBlck9wdGlvbnMgPSBTdXBlci5vcHRpb25zO1xuXHQgICAgU3ViLmV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zO1xuXHQgICAgLy8gY2FjaGUgY29uc3RydWN0b3Jcblx0ICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViO1xuXHQgICAgcmV0dXJuIFN1YlxuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdEFzc2V0UmVnaXN0ZXJzIChWdWUpIHtcblx0ICAvKipcblx0ICAgKiBDcmVhdGUgYXNzZXQgcmVnaXN0cmF0aW9uIG1ldGhvZHMuXG5cdCAgICovXG5cdCAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcblx0ICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChcblx0ICAgICAgaWQsXG5cdCAgICAgIGRlZmluaXRpb25cblx0ICAgICkge1xuXHQgICAgICBpZiAoIWRlZmluaXRpb24pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgY29uZmlnLmlzUmVzZXJ2ZWRUYWcoaWQpKSB7XG5cdCAgICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICAgJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgJyArXG5cdCAgICAgICAgICAgICAgJ2lkOiAnICsgaWRcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdjb21wb25lbnQnICYmIGlzUGxhaW5PYmplY3QoZGVmaW5pdGlvbikpIHtcblx0ICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IGRlZmluaXRpb24ubmFtZSB8fCBpZDtcblx0ICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZSA9PT0gJ2RpcmVjdGl2ZScgJiYgdHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdID0gZGVmaW5pdGlvbjtcblx0ICAgICAgICByZXR1cm4gZGVmaW5pdGlvblxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHBdO1xuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlcyAocGF0dGVybiwgbmFtZSkge1xuXHQgIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSlcblx0ICB9XG5cdH1cblx0XG5cdHZhciBLZWVwQWxpdmUgPSB7XG5cdCAgbmFtZTogJ2tlZXAtYWxpdmUnLFxuXHQgIGFic3RyYWN0OiB0cnVlLFxuXHQgIHByb3BzOiB7XG5cdCAgICBpbmNsdWRlOiBwYXR0ZXJuVHlwZXMsXG5cdCAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXNcblx0ICB9LFxuXHQgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQgKCkge1xuXHQgICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoKSB7XG5cdCAgICB2YXIgdm5vZGUgPSBnZXRGaXJzdENvbXBvbmVudENoaWxkKHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuXHQgICAgaWYgKHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnMpIHtcblx0ICAgICAgdmFyIG9wdHMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuXHQgICAgICAvLyBjaGVjayBwYXR0ZXJuXG5cdCAgICAgIHZhciBuYW1lID0gb3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZztcblx0ICAgICAgaWYgKG5hbWUgJiYgKFxuXHQgICAgICAgICh0aGlzLmluY2x1ZGUgJiYgIW1hdGNoZXModGhpcy5pbmNsdWRlLCBuYW1lKSkgfHxcblx0ICAgICAgICAodGhpcy5leGNsdWRlICYmIG1hdGNoZXModGhpcy5leGNsdWRlLCBuYW1lKSlcblx0ICAgICAgKSkge1xuXHQgICAgICAgIHJldHVybiB2bm9kZVxuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbFxuXHQgICAgICAgIC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzXG5cdCAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxuXHQgICAgICAgID8gb3B0cy5DdG9yLmNpZCArIChvcHRzLnRhZyA/IChcIjo6XCIgKyAob3B0cy50YWcpKSA6ICcnKVxuXHQgICAgICAgIDogdm5vZGUua2V5O1xuXHQgICAgICBpZiAodGhpcy5jYWNoZVtrZXldKSB7XG5cdCAgICAgICAgdm5vZGUuY2hpbGQgPSB0aGlzLmNhY2hlW2tleV0uY2hpbGQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gdm5vZGU7XG5cdCAgICAgIH1cblx0ICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUgPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZub2RlXG5cdCAgfSxcblx0ICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7XG5cdCAgICB2YXIgdGhpcyQxID0gdGhpcztcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jYWNoZSkge1xuXHQgICAgICB2YXIgdm5vZGUgPSB0aGlzJDEuY2FjaGVba2V5XTtcblx0ICAgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdkZWFjdGl2YXRlZCcpO1xuXHQgICAgICB2bm9kZS5jaGlsZC4kZGVzdHJveSgpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdHZhciBidWlsdEluQ29tcG9uZW50cyA9IHtcblx0ICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0R2xvYmFsQVBJIChWdWUpIHtcblx0ICAvLyBjb25maWdcblx0ICB2YXIgY29uZmlnRGVmID0ge307XG5cdCAgY29uZmlnRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmZpZzsgfTtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgY29uZmlnRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnRG8gbm90IHJlcGxhY2UgdGhlIFZ1ZS5jb25maWcgb2JqZWN0LCBzZXQgaW5kaXZpZHVhbCBmaWVsZHMgaW5zdGVhZC4nXG5cdCAgICAgICk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnY29uZmlnJywgY29uZmlnRGVmKTtcblx0ICBWdWUudXRpbCA9IHV0aWw7XG5cdCAgVnVlLnNldCA9IHNldDtcblx0ICBWdWUuZGVsZXRlID0gZGVsO1xuXHQgIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xuXHRcblx0ICBWdWUub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcblx0ICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICB9KTtcblx0XG5cdCAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxuXHQgIC8vIGNvbXBvbmVudHMgd2l0aCBpbiBXZWV4J3MgbXVsdGktaW5zdGFuY2Ugc2NlbmFyaW9zLlxuXHQgIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlO1xuXHRcblx0ICBleHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgYnVpbHRJbkNvbXBvbmVudHMpO1xuXHRcblx0ICBpbml0VXNlKFZ1ZSk7XG5cdCAgaW5pdE1peGluJDEoVnVlKTtcblx0ICBpbml0RXh0ZW5kKFZ1ZSk7XG5cdCAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XG5cdH1cblx0XG5cdGluaXRHbG9iYWxBUEkoVnVlJDIpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSQyLnByb3RvdHlwZSwgJyRpc1NlcnZlcicsIHtcblx0ICBnZXQ6IGlzU2VydmVyUmVuZGVyaW5nXG5cdH0pO1xuXHRcblx0VnVlJDIudmVyc2lvbiA9ICcyLjEuMyc7XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgdXNpbmcgcHJvcHMgZm9yIGJpbmRpbmdcblx0dmFyIG11c3RVc2VQcm9wID0gZnVuY3Rpb24gKHRhZywgYXR0cikge1xuXHQgIHJldHVybiAoXG5cdCAgICAoYXR0ciA9PT0gJ3ZhbHVlJyAmJiAodGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJyB8fCB0YWcgPT09ICdvcHRpb24nKSkgfHxcblx0ICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8XG5cdCAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcblx0ICAgIChhdHRyID09PSAnbXV0ZWQnICYmIHRhZyA9PT0gJ3ZpZGVvJylcblx0ICApXG5cdH07XG5cdFxuXHR2YXIgaXNFbnVtZXJhdGVkQXR0ciA9IG1ha2VNYXAoJ2NvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjaycpO1xuXHRcblx0dmFyIGlzQm9vbGVhbkF0dHIgPSBtYWtlTWFwKFxuXHQgICdhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLCcgK1xuXHQgICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArXG5cdCAgJ2VuYWJsZWQsZm9ybW5vdmFsaWRhdGUsaGlkZGVuLGluZGV0ZXJtaW5hdGUsaW5lcnQsaXNtYXAsaXRlbXNjb3BlLGxvb3AsbXVsdGlwbGUsJyArXG5cdCAgJ211dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHksJyArXG5cdCAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsJyArXG5cdCAgJ3RydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUnXG5cdCk7XG5cdFxuXHR2YXIgaXNBdHRyID0gbWFrZU1hcChcblx0ICAnYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWx0LGFzeW5jLGF1dG9jb21wbGV0ZSwnICtcblx0ICAnYXV0b2ZvY3VzLGF1dG9wbGF5LGF1dG9zYXZlLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNoYWxsZW5nZSxjaGFyc2V0LCcgK1xuXHQgICdjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxodHRwLWVxdWl2LCcgK1xuXHQgICduYW1lLGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsZGF0YSxkYXRldGltZSxkZWZhdWx0LCcgK1xuXHQgICdkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxtZXRob2QsZm9yLCcgK1xuXHQgICdmb3JtLGZvcm1hY3Rpb24saGVhZGVycyw8dGg+LGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsJyArXG5cdCAgJ2ljb24saWQsaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbGlzdCxsb29wLGxvdywnICtcblx0ICAnbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtZWRpYSxtZXRob2QsR0VULFBPU1QsbWluLG11bHRpcGxlLGVtYWlsLGZpbGUsJyArXG5cdCAgJ211dGVkLG5hbWUsbm92YWxpZGF0ZSxvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlciwnICtcblx0ICAncHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCwnICtcblx0ICAnc2NvcGUsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNoYXBlLHNpemUsdHlwZSx0ZXh0LHBhc3N3b3JkLHNpemVzLHNwYW4sJyArXG5cdCAgJ3NwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsJyArXG5cdCAgJ3RhcmdldCx0aXRsZSx0eXBlLHVzZW1hcCx2YWx1ZSx3aWR0aCx3cmFwJ1xuXHQpO1xuXHRcblx0XG5cdFxuXHR2YXIgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcblx0XG5cdHZhciBpc1hsaW5rID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICByZXR1cm4gbmFtZS5jaGFyQXQoNSkgPT09ICc6JyAmJiBuYW1lLnNsaWNlKDAsIDUpID09PSAneGxpbmsnXG5cdH07XG5cdFxuXHR2YXIgZ2V0WGxpbmtQcm9wID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICByZXR1cm4gaXNYbGluayhuYW1lKSA/IG5hbWUuc2xpY2UoNiwgbmFtZS5sZW5ndGgpIDogJydcblx0fTtcblx0XG5cdHZhciBpc0ZhbHN5QXR0clZhbHVlID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IGZhbHNlXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGdlbkNsYXNzRm9yVm5vZGUgKHZub2RlKSB7XG5cdCAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XG5cdCAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuXHQgIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcblx0ICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jaGlsZC5fdm5vZGU7XG5cdCAgICBpZiAoY2hpbGROb2RlLmRhdGEpIHtcblx0ICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG5cdCAgICBpZiAocGFyZW50Tm9kZS5kYXRhKSB7XG5cdCAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShkYXRhLCBwYXJlbnROb2RlLmRhdGEpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZ2VuQ2xhc3NGcm9tRGF0YShkYXRhKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUNsYXNzRGF0YSAoY2hpbGQsIHBhcmVudCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBzdGF0aWNDbGFzczogY29uY2F0KGNoaWxkLnN0YXRpY0NsYXNzLCBwYXJlbnQuc3RhdGljQ2xhc3MpLFxuXHQgICAgY2xhc3M6IGNoaWxkLmNsYXNzXG5cdCAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdXG5cdCAgICAgIDogcGFyZW50LmNsYXNzXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZW5DbGFzc0Zyb21EYXRhIChkYXRhKSB7XG5cdCAgdmFyIGR5bmFtaWNDbGFzcyA9IGRhdGEuY2xhc3M7XG5cdCAgdmFyIHN0YXRpY0NsYXNzID0gZGF0YS5zdGF0aWNDbGFzcztcblx0ICBpZiAoc3RhdGljQ2xhc3MgfHwgZHluYW1pY0NsYXNzKSB7XG5cdCAgICByZXR1cm4gY29uY2F0KHN0YXRpY0NsYXNzLCBzdHJpbmdpZnlDbGFzcyhkeW5hbWljQ2xhc3MpKVxuXHQgIH1cblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgIHJldHVybiAnJ1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb25jYXQgKGEsIGIpIHtcblx0ICByZXR1cm4gYSA/IGIgPyAoYSArICcgJyArIGIpIDogYSA6IChiIHx8ICcnKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdpZnlDbGFzcyAodmFsdWUpIHtcblx0ICB2YXIgcmVzID0gJyc7XG5cdCAgaWYgKCF2YWx1ZSkge1xuXHQgICAgcmV0dXJuIHJlc1xuXHQgIH1cblx0ICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHZhbHVlXG5cdCAgfVxuXHQgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgdmFyIHN0cmluZ2lmaWVkO1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgaWYgKHZhbHVlW2ldKSB7XG5cdCAgICAgICAgaWYgKChzdHJpbmdpZmllZCA9IHN0cmluZ2lmeUNsYXNzKHZhbHVlW2ldKSkpIHtcblx0ICAgICAgICAgIHJlcyArPSBzdHJpbmdpZmllZCArICcgJztcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXMuc2xpY2UoMCwgLTEpXG5cdCAgfVxuXHQgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuXHQgICAgICBpZiAodmFsdWVba2V5XSkgeyByZXMgKz0ga2V5ICsgJyAnOyB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKVxuXHQgIH1cblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgbmFtZXNwYWNlTWFwID0ge1xuXHQgIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcblx0ICBtYXRoOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcsXG5cdCAgeGh0bWw6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJ1xuXHR9O1xuXHRcblx0dmFyIGlzSFRNTFRhZyA9IG1ha2VNYXAoXG5cdCAgJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xuXHQgICdhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sJyArXG5cdCAgJ2RpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCwnICtcblx0ICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgK1xuXHQgICdzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbywnICtcblx0ICAnZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsJyArXG5cdCAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgK1xuXHQgICdidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLCcgK1xuXHQgICdvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLCcgK1xuXHQgICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArXG5cdCAgJ2NvbnRlbnQsZWxlbWVudCxzaGFkb3csdGVtcGxhdGUnXG5cdCk7XG5cdFxuXHR2YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoXG5cdCAgJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsZnJhbWUsaHIsaW1nLGlucHV0LGlzaW5kZXgsa2V5Z2VuLCcgK1xuXHQgICdsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdicicsXG5cdCAgdHJ1ZVxuXHQpO1xuXHRcblx0Ly8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuXG5cdC8vIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcblx0dmFyIGNhbkJlTGVmdE9wZW5UYWcgPSBtYWtlTWFwKFxuXHQgICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJyxcblx0ICB0cnVlXG5cdCk7XG5cdFxuXHQvLyBIVE1MNSB0YWdzIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbCNlbGVtZW50cy0zXG5cdC8vIFBocmFzaW5nIENvbnRlbnQgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZG9tLmh0bWwjcGhyYXNpbmctY29udGVudFxuXHR2YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoXG5cdCAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxiYXNlLGJsb2NrcXVvdGUsYm9keSxjYXB0aW9uLGNvbCxjb2xncm91cCxkZCwnICtcblx0ICAnZGV0YWlscyxkaWFsb2csZGl2LGRsLGR0LGZpZWxkc2V0LGZpZ2NhcHRpb24sZmlndXJlLGZvb3Rlcixmb3JtLCcgK1xuXHQgICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICtcblx0ICAnb3B0Z3JvdXAsb3B0aW9uLHBhcmFtLHJwLHJ0LHNvdXJjZSxzdHlsZSxzdW1tYXJ5LHRib2R5LHRkLHRmb290LHRoLHRoZWFkLCcgK1xuXHQgICd0aXRsZSx0cix0cmFjaycsXG5cdCAgdHJ1ZVxuXHQpO1xuXHRcblx0Ly8gdGhpcyBtYXAgaXMgaW50ZW50aW9uYWxseSBzZWxlY3RpdmUsIG9ubHkgY292ZXJpbmcgU1ZHIGVsZW1lbnRzIHRoYXQgbWF5XG5cdC8vIGNvbnRhaW4gY2hpbGQgZWxlbWVudHMuXG5cdHZhciBpc1NWRyA9IG1ha2VNYXAoXG5cdCAgJ3N2ZyxhbmltYXRlLGNpcmNsZSxjbGlwcGF0aCxjdXJzb3IsZGVmcyxkZXNjLGVsbGlwc2UsZmlsdGVyLGZvbnQsJyArXG5cdCAgJ2ZvbnQtZmFjZSxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4sJyArXG5cdCAgJ3BvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXcnLFxuXHQgIHRydWVcblx0KTtcblx0XG5cdFxuXHRcblx0dmFyIGlzUmVzZXJ2ZWRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG5cdCAgcmV0dXJuIGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHKHRhZylcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGdldFRhZ05hbWVzcGFjZSAodGFnKSB7XG5cdCAgaWYgKGlzU1ZHKHRhZykpIHtcblx0ICAgIHJldHVybiAnc3ZnJ1xuXHQgIH1cblx0ICAvLyBiYXNpYyBzdXBwb3J0IGZvciBNYXRoTUxcblx0ICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXG5cdCAgaWYgKHRhZyA9PT0gJ21hdGgnKSB7XG5cdCAgICByZXR1cm4gJ21hdGgnXG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdGZ1bmN0aW9uIGlzVW5rbm93bkVsZW1lbnQgKHRhZykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICghaW5Ccm93c2VyKSB7XG5cdCAgICByZXR1cm4gdHJ1ZVxuXHQgIH1cblx0ICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG5cdCAgICByZXR1cm4gZmFsc2Vcblx0ICB9XG5cdCAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSAhPSBudWxsKSB7XG5cdCAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddXG5cdCAgfVxuXHQgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblx0ICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XG5cdCAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yODIxMDM2NC8xMDcwMjQ0XG5cdCAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IChcblx0ICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcblx0ICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MRWxlbWVudFxuXHQgICAgKSlcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPSAvSFRNTFVua25vd25FbGVtZW50Ly50ZXN0KGVsLnRvU3RyaW5nKCkpKVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHQvKipcblx0ICogUXVlcnkgYW4gZWxlbWVudCBzZWxlY3RvciBpZiBpdCdzIG5vdCBhbiBlbGVtZW50IGFscmVhZHkuXG5cdCAqL1xuXHRmdW5jdGlvbiBxdWVyeSAoZWwpIHtcblx0ICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFyIHNlbGVjdG9yID0gZWw7XG5cdCAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuXHQgICAgaWYgKCFlbCkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgJ0Nhbm5vdCBmaW5kIGVsZW1lbnQ6ICcgKyBzZWxlY3RvclxuXHQgICAgICApO1xuXHQgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGVsXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxICh0YWdOYW1lLCB2bm9kZSkge1xuXHQgIHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuXHQgIGlmICh0YWdOYW1lICE9PSAnc2VsZWN0Jykge1xuXHQgICAgcmV0dXJuIGVsbVxuXHQgIH1cblx0ICBpZiAodm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLmF0dHJzICYmICdtdWx0aXBsZScgaW4gdm5vZGUuZGF0YS5hdHRycykge1xuXHQgICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcblx0ICB9XG5cdCAgcmV0dXJuIGVsbVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMgKG5hbWVzcGFjZSwgdGFnTmFtZSkge1xuXHQgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlICh0ZXh0KSB7XG5cdCAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQgKHRleHQpIHtcblx0ICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0ZXh0KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnNlcnRCZWZvcmUgKHBhcmVudE5vZGUsIG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcblx0ICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG5cdCAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFwcGVuZENoaWxkIChub2RlLCBjaGlsZCkge1xuXHQgIG5vZGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJlbnROb2RlIChub2RlKSB7XG5cdCAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBuZXh0U2libGluZyAobm9kZSkge1xuXHQgIHJldHVybiBub2RlLm5leHRTaWJsaW5nXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRhZ05hbWUgKG5vZGUpIHtcblx0ICByZXR1cm4gbm9kZS50YWdOYW1lXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFRleHRDb250ZW50IChub2RlLCB0ZXh0KSB7XG5cdCAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoaWxkTm9kZXMgKG5vZGUpIHtcblx0ICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldEF0dHJpYnV0ZSAobm9kZSwga2V5LCB2YWwpIHtcblx0ICBub2RlLnNldEF0dHJpYnV0ZShrZXksIHZhbCk7XG5cdH1cblx0XG5cdFxuXHR2YXIgbm9kZU9wcyA9IE9iamVjdC5mcmVlemUoe1xuXHRcdGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcblx0XHRjcmVhdGVFbGVtZW50TlM6IGNyZWF0ZUVsZW1lbnROUyxcblx0XHRjcmVhdGVUZXh0Tm9kZTogY3JlYXRlVGV4dE5vZGUsXG5cdFx0Y3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcblx0XHRpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSxcblx0XHRyZW1vdmVDaGlsZDogcmVtb3ZlQ2hpbGQsXG5cdFx0YXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuXHRcdHBhcmVudE5vZGU6IHBhcmVudE5vZGUsXG5cdFx0bmV4dFNpYmxpbmc6IG5leHRTaWJsaW5nLFxuXHRcdHRhZ05hbWU6IHRhZ05hbWUsXG5cdFx0c2V0VGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LFxuXHRcdGNoaWxkTm9kZXM6IGNoaWxkTm9kZXMsXG5cdFx0c2V0QXR0cmlidXRlOiBzZXRBdHRyaWJ1dGVcblx0fSk7XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciByZWYgPSB7XG5cdCAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG5cdCAgICByZWdpc3RlclJlZih2bm9kZSk7XG5cdCAgfSxcblx0ICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7XG5cdCAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcblx0ICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSAodm5vZGUpIHtcblx0ICAgIHJlZ2lzdGVyUmVmKHZub2RlLCB0cnVlKTtcblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkge1xuXHQgIHZhciBrZXkgPSB2bm9kZS5kYXRhLnJlZjtcblx0ICBpZiAoIWtleSkgeyByZXR1cm4gfVxuXHRcblx0ICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xuXHQgIHZhciByZWYgPSB2bm9kZS5jaGlsZCB8fCB2bm9kZS5lbG07XG5cdCAgdmFyIHJlZnMgPSB2bS4kcmVmcztcblx0ICBpZiAoaXNSZW1vdmFsKSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7XG5cdCAgICAgIHJlbW92ZSQxKHJlZnNba2V5XSwgcmVmKTtcblx0ICAgIH0gZWxzZSBpZiAocmVmc1trZXldID09PSByZWYpIHtcblx0ICAgICAgcmVmc1trZXldID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAodm5vZGUuZGF0YS5yZWZJbkZvcikge1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pICYmIHJlZnNba2V5XS5pbmRleE9mKHJlZikgPCAwKSB7XG5cdCAgICAgICAgcmVmc1trZXldLnB1c2gocmVmKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZWZzW2tleV0gPSBbcmVmXTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVmc1trZXldID0gcmVmO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieVxuXHQgKiBTaW1vbiBGcmlpcyBWaW5kdW0gKEBwYWxkZXBpbmQpXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcblx0ICpcblx0ICogbW9kaWZpZWQgYnkgRXZhbiBZb3UgKEB5eXg5OTA4MDMpXG5cdCAqXG5cdFxuXHQvKlxuXHQgKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGJlY2F1c2UgdGhpcyBmaWxlIGlzIHBlcmYtY3JpdGljYWwgYW5kIHRoZSBjb3N0XG5cdCAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LlxuXHQgKi9cblx0XG5cdHZhciBlbXB0eU5vZGUgPSBuZXcgVk5vZGUoJycsIHt9LCBbXSk7XG5cdFxuXHR2YXIgaG9va3MkMSA9IFsnY3JlYXRlJywgJ3VwZGF0ZScsICdyZW1vdmUnLCAnZGVzdHJveSddO1xuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZiAocykge1xuXHQgIHJldHVybiBzID09IG51bGxcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEZWYgKHMpIHtcblx0ICByZXR1cm4gcyAhPSBudWxsXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhbWVWbm9kZSAodm5vZGUxLCB2bm9kZTIpIHtcblx0ICByZXR1cm4gKFxuXHQgICAgdm5vZGUxLmtleSA9PT0gdm5vZGUyLmtleSAmJlxuXHQgICAgdm5vZGUxLnRhZyA9PT0gdm5vZGUyLnRhZyAmJlxuXHQgICAgdm5vZGUxLmlzQ29tbWVudCA9PT0gdm5vZGUyLmlzQ29tbWVudCAmJlxuXHQgICAgIXZub2RlMS5kYXRhID09PSAhdm5vZGUyLmRhdGFcblx0ICApXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUtleVRvT2xkSWR4IChjaGlsZHJlbiwgYmVnaW5JZHgsIGVuZElkeCkge1xuXHQgIHZhciBpLCBrZXk7XG5cdCAgdmFyIG1hcCA9IHt9O1xuXHQgIGZvciAoaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG5cdCAgICBrZXkgPSBjaGlsZHJlbltpXS5rZXk7XG5cdCAgICBpZiAoaXNEZWYoa2V5KSkgeyBtYXBba2V5XSA9IGk7IH1cblx0ICB9XG5cdCAgcmV0dXJuIG1hcFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVQYXRjaEZ1bmN0aW9uIChiYWNrZW5kKSB7XG5cdCAgdmFyIGksIGo7XG5cdCAgdmFyIGNicyA9IHt9O1xuXHRcblx0ICB2YXIgbW9kdWxlcyA9IGJhY2tlbmQubW9kdWxlcztcblx0ICB2YXIgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wcztcblx0XG5cdCAgZm9yIChpID0gMDsgaSA8IGhvb2tzJDEubGVuZ3RoOyArK2kpIHtcblx0ICAgIGNic1tob29rcyQxW2ldXSA9IFtdO1xuXHQgICAgZm9yIChqID0gMDsgaiA8IG1vZHVsZXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgaWYgKG1vZHVsZXNbal1baG9va3MkMVtpXV0gIT09IHVuZGVmaW5lZCkgeyBjYnNbaG9va3MkMVtpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzJDFbaV1dKTsgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkge1xuXHQgICAgcmV0dXJuIG5ldyBWTm9kZShub2RlT3BzLnRhZ05hbWUoZWxtKS50b0xvd2VyQ2FzZSgpLCB7fSwgW10sIHVuZGVmaW5lZCwgZWxtKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUm1DYiAoY2hpbGRFbG0sIGxpc3RlbmVycykge1xuXHQgICAgZnVuY3Rpb24gcmVtb3ZlJCQxICgpIHtcblx0ICAgICAgaWYgKC0tcmVtb3ZlJCQxLmxpc3RlbmVycyA9PT0gMCkge1xuXHQgICAgICAgIHJlbW92ZUVsZW1lbnQoY2hpbGRFbG0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZW1vdmUkJDEubGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuXHQgICAgcmV0dXJuIHJlbW92ZSQkMVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCAoZWwpIHtcblx0ICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xuXHQgICAgLy8gZWxlbWVudCBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZCBkdWUgdG8gdi1odG1sXG5cdCAgICBpZiAocGFyZW50KSB7XG5cdCAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbG0gKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5lc3RlZCkge1xuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgICB2bm9kZS5pc1Jvb3RJbnNlcnQgPSAhbmVzdGVkO1xuXHQgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG5cdCAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlKTsgfVxuXHQgICAgICAvLyBhZnRlciBjYWxsaW5nIHRoZSBpbml0IGhvb2ssIGlmIHRoZSB2bm9kZSBpcyBhIGNoaWxkIGNvbXBvbmVudFxuXHQgICAgICAvLyBpdCBzaG91bGQndmUgY3JlYXRlZCBhIGNoaWxkIGluc3RhbmNlIGFuZCBtb3VudGVkIGl0LiB0aGUgY2hpbGRcblx0ICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uXG5cdCAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIGVsZW1lbnQgYW5kIGJlIGRvbmUuXG5cdCAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGQpKSB7XG5cdCAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICByZXR1cm4gdm5vZGUuZWxtXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXHQgICAgdmFyIHRhZyA9IHZub2RlLnRhZztcblx0ICAgIGlmIChpc0RlZih0YWcpKSB7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKFxuXHQgICAgICAgICAgIXZub2RlLm5zICYmXG5cdCAgICAgICAgICAhKGNvbmZpZy5pZ25vcmVkRWxlbWVudHMgJiYgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5pbmRleE9mKHRhZykgPiAtMSkgJiZcblx0ICAgICAgICAgIGNvbmZpZy5pc1Vua25vd25FbGVtZW50KHRhZylcblx0ICAgICAgICApIHtcblx0ICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArIHRhZyArICc+IC0gZGlkIHlvdSAnICtcblx0ICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xuXHQgICAgICAgICAgICAnbWFrZSBzdXJlIHRvIHByb3ZpZGUgdGhlIFwibmFtZVwiIG9wdGlvbi4nLFxuXHQgICAgICAgICAgICB2bm9kZS5jb250ZXh0XG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB2bm9kZS5lbG0gPSB2bm9kZS5uc1xuXHQgICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZylcblx0ICAgICAgICA6IG5vZGVPcHMuY3JlYXRlRWxlbWVudCh0YWcsIHZub2RlKTtcblx0ICAgICAgc2V0U2NvcGUodm5vZGUpO1xuXHQgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuXHQgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKHZub2RlLmlzQ29tbWVudCkge1xuXHQgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZub2RlLmVsbVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4gKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQodm5vZGUuZWxtLCBjcmVhdGVFbG0oY2hpbGRyZW5baV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG5cdCAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQodm5vZGUuZWxtLCBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzUGF0Y2hhYmxlICh2bm9kZSkge1xuXHQgICAgd2hpbGUgKHZub2RlLmNoaWxkKSB7XG5cdCAgICAgIHZub2RlID0gdm5vZGUuY2hpbGQuX3Zub2RlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZylcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGludm9rZUNyZWF0ZUhvb2tzICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG5cdCAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpJDEpIHtcblx0ICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgdm5vZGUpO1xuXHQgICAgfVxuXHQgICAgaSA9IHZub2RlLmRhdGEuaG9vazsgLy8gUmV1c2UgdmFyaWFibGVcblx0ICAgIGlmIChpc0RlZihpKSkge1xuXHQgICAgICBpZiAoaS5jcmVhdGUpIHsgaS5jcmVhdGUoZW1wdHlOb2RlLCB2bm9kZSk7IH1cblx0ICAgICAgaWYgKGkuaW5zZXJ0KSB7IGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTsgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuXHQgICAgaWYgKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkge1xuXHQgICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaC5hcHBseShpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmRhdGEucGVuZGluZ0luc2VydCk7XG5cdCAgICB9XG5cdCAgICB2bm9kZS5lbG0gPSB2bm9kZS5jaGlsZC4kZWw7XG5cdCAgICBpZiAoaXNQYXRjaGFibGUodm5vZGUpKSB7XG5cdCAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICBzZXRTY29wZSh2bm9kZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBlbXB0eSBjb21wb25lbnQgcm9vdC5cblx0ICAgICAgLy8gc2tpcCBhbGwgZWxlbWVudC1yZWxhdGVkIG1vZHVsZXMgZXhjZXB0IGZvciByZWYgKCMzNDU1KVxuXHQgICAgICByZWdpc3RlclJlZih2bm9kZSk7XG5cdCAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbnZva2UgdGhlIGluc2VydCBob29rXG5cdCAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIHNldCBzY29wZSBpZCBhdHRyaWJ1dGUgZm9yIHNjb3BlZCBDU1MuXG5cdCAgLy8gdGhpcyBpcyBpbXBsZW1lbnRlZCBhcyBhIHNwZWNpYWwgY2FzZSB0byBhdm9pZCB0aGUgb3ZlcmhlYWRcblx0ICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuXG5cdCAgZnVuY3Rpb24gc2V0U2NvcGUgKHZub2RlKSB7XG5cdCAgICB2YXIgaTtcblx0ICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29udGV4dCkgJiYgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG5cdCAgICAgIG5vZGVPcHMuc2V0QXR0cmlidXRlKHZub2RlLmVsbSwgaSwgJycpO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzRGVmKGkgPSBhY3RpdmVJbnN0YW5jZSkgJiZcblx0ICAgICAgICBpICE9PSB2bm9kZS5jb250ZXh0ICYmXG5cdCAgICAgICAgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG5cdCAgICAgIG5vZGVPcHMuc2V0QXR0cmlidXRlKHZub2RlLmVsbSwgaSwgJycpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYWRkVm5vZGVzIChwYXJlbnRFbG0sIGJlZm9yZSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpIHtcblx0ICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcblx0ICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0odm5vZGVzW3N0YXJ0SWR4XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgYmVmb3JlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGludm9rZURlc3Ryb3lIb29rICh2bm9kZSkge1xuXHQgICAgdmFyIGksIGo7XG5cdCAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgICBpZiAoaXNEZWYoZGF0YSkpIHtcblx0ICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmRlc3Ryb3kpKSB7IGkodm5vZGUpOyB9XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuZGVzdHJveS5sZW5ndGg7ICsraSkgeyBjYnMuZGVzdHJveVtpXSh2bm9kZSk7IH1cblx0ICAgIH1cblx0ICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGRyZW4pKSB7XG5cdCAgICAgIGZvciAoaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xuXHQgICAgICAgIGludm9rZURlc3Ryb3lIb29rKHZub2RlLmNoaWxkcmVuW2pdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVtb3ZlVm5vZGVzIChwYXJlbnRFbG0sIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuXHQgICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuXHQgICAgICB2YXIgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuXHQgICAgICBpZiAoaXNEZWYoY2gpKSB7XG5cdCAgICAgICAgaWYgKGlzRGVmKGNoLnRhZykpIHtcblx0ICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soY2gpO1xuXHQgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuXHQgICAgICAgIH0gZWxzZSB7IC8vIFRleHQgbm9kZVxuXHQgICAgICAgICAgbm9kZU9wcy5yZW1vdmVDaGlsZChwYXJlbnRFbG0sIGNoLmVsbSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rICh2bm9kZSwgcm0pIHtcblx0ICAgIGlmIChybSB8fCBpc0RlZih2bm9kZS5kYXRhKSkge1xuXHQgICAgICB2YXIgbGlzdGVuZXJzID0gY2JzLnJlbW92ZS5sZW5ndGggKyAxO1xuXHQgICAgICBpZiAoIXJtKSB7XG5cdCAgICAgICAgLy8gZGlyZWN0bHkgcmVtb3Zpbmdcblx0ICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuXHQgICAgICAgIC8vIGluY3JlYXNlIHRoZSBsaXN0ZW5lcnMgY291bnRcblx0ICAgICAgICBybS5saXN0ZW5lcnMgKz0gbGlzdGVuZXJzO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHJlY3Vyc2l2ZWx5IGludm9rZSBob29rcyBvbiBjaGlsZCBjb21wb25lbnQgcm9vdCBub2RlXG5cdCAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGQpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkge1xuXHQgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soaSwgcm0pO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgY2JzLnJlbW92ZVtpXSh2bm9kZSwgcm0pO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7XG5cdCAgICAgICAgaSh2bm9kZSwgcm0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJtKCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlbW92ZUVsZW1lbnQodm5vZGUuZWxtKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuIChwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7XG5cdCAgICB2YXIgb2xkU3RhcnRJZHggPSAwO1xuXHQgICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcblx0ICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuXHQgICAgdmFyIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcblx0ICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG5cdCAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcblx0ICAgIHZhciBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG5cdCAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuXHQgICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgZWxtVG9Nb3ZlLCBiZWZvcmU7XG5cdFxuXHQgICAgLy8gcmVtb3ZlT25seSBpcyBhIHNwZWNpYWwgZmxhZyB1c2VkIG9ubHkgYnkgPHRyYW5zaXRpb24tZ3JvdXA+XG5cdCAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG5cdCAgICAvLyBkdXJpbmcgbGVhdmluZyB0cmFuc2l0aW9uc1xuXHQgICAgdmFyIGNhbk1vdmUgPSAhcmVtb3ZlT25seTtcblx0XG5cdCAgICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuXHQgICAgICBpZiAoaXNVbmRlZihvbGRTdGFydFZub2RlKSkge1xuXHQgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuXHQgICAgICB9IGVsc2UgaWYgKGlzVW5kZWYob2xkRW5kVm5vZGUpKSB7XG5cdCAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG5cdCAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG5cdCAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcblx0ICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG5cdCAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcblx0ICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcblx0ICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcblx0ICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7IC8vIFZub2RlIG1vdmVkIHJpZ2h0XG5cdCAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7XG5cdCAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuXHQgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuXHQgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdFxuXHQgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuXHQgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuXHQgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoaXNVbmRlZihvbGRLZXlUb0lkeCkpIHsgb2xkS2V5VG9JZHggPSBjcmVhdGVLZXlUb09sZElkeChvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7IH1cblx0ICAgICAgICBpZHhJbk9sZCA9IGlzRGVmKG5ld1N0YXJ0Vm5vZGUua2V5KSA/IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5XSA6IG51bGw7XG5cdCAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7IC8vIE5ldyBlbGVtZW50XG5cdCAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpLCBvbGRTdGFydFZub2RlLmVsbSk7XG5cdCAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGVsbVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcblx0ICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWVsbVRvTW92ZSkge1xuXHQgICAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAgICdJdCBzZWVtcyB0aGVyZSBhcmUgZHVwbGljYXRlIGtleXMgdGhhdCBpcyBjYXVzaW5nIGFuIHVwZGF0ZSBlcnJvci4gJyArXG5cdCAgICAgICAgICAgICAgJ01ha2Ugc3VyZSBlYWNoIHYtZm9yIGl0ZW0gaGFzIGEgdW5pcXVlIGtleS4nXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoZWxtVG9Nb3ZlLnRhZyAhPT0gbmV3U3RhcnRWbm9kZS50YWcpIHtcblx0ICAgICAgICAgICAgLy8gc2FtZSBrZXkgYnV0IGRpZmZlcmVudCBlbGVtZW50LiB0cmVhdCBhcyBuZXcgZWxlbWVudFxuXHQgICAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpLCBvbGRTdGFydFZub2RlLmVsbSk7XG5cdCAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBhdGNoVm5vZGUoZWxtVG9Nb3ZlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBuZXdTdGFydFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuXHQgICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcblx0ICAgICAgYmVmb3JlID0gaXNVbmRlZihuZXdDaFtuZXdFbmRJZHggKyAxXSkgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uZWxtO1xuXHQgICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCBiZWZvcmUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgfSBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuXHQgICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBwYXRjaFZub2RlIChvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuXHQgICAgaWYgKG9sZFZub2RlID09PSB2bm9kZSkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIC8vIHJldXNlIGVsZW1lbnQgZm9yIHN0YXRpYyB0cmVlcy5cblx0ICAgIC8vIG5vdGUgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgLVxuXHQgICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuXG5cdCAgICAvLyByZXNldCBieSB0aGUgaG90LXJlbG9hZC1hcGkgYW5kIHdlIG5lZWQgdG8gZG8gYSBwcm9wZXIgcmUtcmVuZGVyLlxuXHQgICAgaWYgKHZub2RlLmlzU3RhdGljICYmXG5cdCAgICAgICAgb2xkVm5vZGUuaXNTdGF0aWMgJiZcblx0ICAgICAgICB2bm9kZS5rZXkgPT09IG9sZFZub2RlLmtleSAmJlxuXHQgICAgICAgICh2bm9kZS5pc0Nsb25lZCB8fCB2bm9kZS5pc09uY2UpKSB7XG5cdCAgICAgIHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcblx0ICAgICAgdm5vZGUuY2hpbGQgPSBvbGRWbm9kZS5jaGlsZDtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICAgIHZhciBoYXNEYXRhID0gaXNEZWYoZGF0YSk7XG5cdCAgICBpZiAoaGFzRGF0YSAmJiBpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wcmVwYXRjaCkpIHtcblx0ICAgICAgaShvbGRWbm9kZSwgdm5vZGUpO1xuXHQgICAgfVxuXHQgICAgdmFyIGVsbSA9IHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcblx0ICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuO1xuXHQgICAgdmFyIGNoID0gdm5vZGUuY2hpbGRyZW47XG5cdCAgICBpZiAoaGFzRGF0YSAmJiBpc1BhdGNoYWJsZSh2bm9kZSkpIHtcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGNicy51cGRhdGUubGVuZ3RoOyArK2kpIHsgY2JzLnVwZGF0ZVtpXShvbGRWbm9kZSwgdm5vZGUpOyB9XG5cdCAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuXHQgICAgfVxuXHQgICAgaWYgKGlzVW5kZWYodm5vZGUudGV4dCkpIHtcblx0ICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcblx0ICAgICAgICBpZiAob2xkQ2ggIT09IGNoKSB7IHVwZGF0ZUNoaWxkcmVuKGVsbSwgb2xkQ2gsIGNoLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpOyB9XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNEZWYoY2gpKSB7XG5cdCAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH1cblx0ICAgICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBjaCwgMCwgY2gubGVuZ3RoIC0gMSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRDaCkpIHtcblx0ICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcblx0ICAgICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG9sZFZub2RlLnRleHQgIT09IHZub2RlLnRleHQpIHtcblx0ICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sIHZub2RlLnRleHQpO1xuXHQgICAgfVxuXHQgICAgaWYgKGhhc0RhdGEpIHtcblx0ICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnBvc3RwYXRjaCkpIHsgaShvbGRWbm9kZSwgdm5vZGUpOyB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rICh2bm9kZSwgcXVldWUsIGluaXRpYWwpIHtcblx0ICAgIC8vIGRlbGF5IGluc2VydCBob29rcyBmb3IgY29tcG9uZW50IHJvb3Qgbm9kZXMsIGludm9rZSB0aGVtIGFmdGVyIHRoZVxuXHQgICAgLy8gZWxlbWVudCBpcyByZWFsbHkgaW5zZXJ0ZWRcblx0ICAgIGlmIChpbml0aWFsICYmIHZub2RlLnBhcmVudCkge1xuXHQgICAgICB2bm9kZS5wYXJlbnQuZGF0YS5wZW5kaW5nSW5zZXJ0ID0gcXVldWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgcXVldWVbaV0uZGF0YS5ob29rLmluc2VydChxdWV1ZVtpXSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBiYWlsZWQgPSBmYWxzZTtcblx0ICBmdW5jdGlvbiBoeWRyYXRlIChlbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZub2RlLmVsbSA9IGVsbTtcblx0ICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XG5cdCAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblx0ICAgIGlmIChpc0RlZihkYXRhKSkge1xuXHQgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsgaSh2bm9kZSwgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pOyB9XG5cdCAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGQpKSB7XG5cdCAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXG5cdCAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoaXNEZWYodGFnKSkge1xuXHQgICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7XG5cdCAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBub2RlT3BzLmNoaWxkTm9kZXMoZWxtKTtcblx0ICAgICAgICAvLyBlbXB0eSBlbGVtZW50LCBhbGxvdyBjbGllbnQgdG8gcGljayB1cCBhbmQgcG9wdWxhdGUgY2hpbGRyZW5cblx0ICAgICAgICBpZiAoIWNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBjaGlsZHJlbk1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCAhPT0gY2hpbGRyZW4ubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcblx0ICAgICAgICAgICAgICBpZiAoIWh5ZHJhdGUoY2hpbGROb2Rlc1tpJDFdLCBjaGlsZHJlbltpJDFdLCBpbnNlcnRlZFZub2RlUXVldWUpKSB7XG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICBicmVha1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoKSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG5cdCAgICAgICAgICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgICAgICAgICAgICAgICFiYWlsZWQpIHtcblx0ICAgICAgICAgICAgICBiYWlsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xuXHQgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTWlzbWF0Y2hpbmcgY2hpbGROb2RlcyB2cy4gVk5vZGVzOiAnLCBjaGlsZE5vZGVzLCBjaGlsZHJlbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuXHQgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYXNzZXJ0Tm9kZU1hdGNoIChub2RlLCB2bm9kZSkge1xuXHQgICAgaWYgKHZub2RlLnRhZykge1xuXHQgICAgICByZXR1cm4gKFxuXHQgICAgICAgIHZub2RlLnRhZy5pbmRleE9mKCd2dWUtY29tcG9uZW50JykgPT09IDAgfHxcblx0ICAgICAgICB2bm9kZS50YWcudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU9wcy50YWdOYW1lKG5vZGUpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIF90b1N0cmluZyh2bm9kZS50ZXh0KSA9PT0gbm9kZS5kYXRhXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSwgaHlkcmF0aW5nLCByZW1vdmVPbmx5KSB7XG5cdCAgICBpZiAoIXZub2RlKSB7XG5cdCAgICAgIGlmIChvbGRWbm9kZSkgeyBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7IH1cblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGVsbSwgcGFyZW50O1xuXHQgICAgdmFyIGlzSW5pdGlhbFBhdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107XG5cdFxuXHQgICAgaWYgKCFvbGRWbm9kZSkge1xuXHQgICAgICAvLyBlbXB0eSBtb3VudCwgY3JlYXRlIG5ldyByb290IGVsZW1lbnRcblx0ICAgICAgaXNJbml0aWFsUGF0Y2ggPSB0cnVlO1xuXHQgICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgaXNSZWFsRWxlbWVudCA9IGlzRGVmKG9sZFZub2RlLm5vZGVUeXBlKTtcblx0ICAgICAgaWYgKCFpc1JlYWxFbGVtZW50ICYmIHNhbWVWbm9kZShvbGRWbm9kZSwgdm5vZGUpKSB7XG5cdCAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGlzUmVhbEVsZW1lbnQpIHtcblx0ICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XG5cdCAgICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIHNlcnZlci1yZW5kZXJlZCBjb250ZW50IGFuZCBpZiB3ZSBjYW4gcGVyZm9ybVxuXHQgICAgICAgICAgLy8gYSBzdWNjZXNzZnVsIGh5ZHJhdGlvbi5cblx0ICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpKSB7XG5cdCAgICAgICAgICAgIG9sZFZub2RlLnJlbW92ZUF0dHJpYnV0ZSgnc2VydmVyLXJlbmRlcmVkJyk7XG5cdCAgICAgICAgICAgIGh5ZHJhdGluZyA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoaHlkcmF0aW5nKSB7XG5cdCAgICAgICAgICAgIGlmIChoeWRyYXRlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkge1xuXHQgICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIG9sZFZub2RlXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICAgICAnVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgK1xuXHQgICAgICAgICAgICAgICAgJ3NlcnZlci1yZW5kZXJlZCBjb250ZW50LiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgaW5jb3JyZWN0ICcgK1xuXHQgICAgICAgICAgICAgICAgJ0hUTUwgbWFya3VwLCBmb3IgZXhhbXBsZSBuZXN0aW5nIGJsb2NrLWxldmVsIGVsZW1lbnRzIGluc2lkZSAnICtcblx0ICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArXG5cdCAgICAgICAgICAgICAgICAnZnVsbCBjbGllbnQtc2lkZSByZW5kZXIuJ1xuXHQgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIGVpdGhlciBub3Qgc2VydmVyLXJlbmRlcmVkLCBvciBoeWRyYXRpb24gZmFpbGVkLlxuXHQgICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXRcblx0ICAgICAgICAgIG9sZFZub2RlID0gZW1wdHlOb2RlQXQob2xkVm5vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbG0gPSBvbGRWbm9kZS5lbG07XG5cdCAgICAgICAgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsbSk7XG5cdFxuXHQgICAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0XG5cdCAgICAgICAgLy8gY29tcG9uZW50IHJvb3QgZWxlbWVudCByZXBsYWNlZC5cblx0ICAgICAgICAvLyB1cGRhdGUgcGFyZW50IHBsYWNlaG9sZGVyIG5vZGUgZWxlbWVudCwgcmVjdXJzaXZlbHlcblx0ICAgICAgICBpZiAodm5vZGUucGFyZW50KSB7XG5cdCAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XG5cdCAgICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcblx0ICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtO1xuXHQgICAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChpc1BhdGNoYWJsZSh2bm9kZSkpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgICAgY2JzLmNyZWF0ZVtpXShlbXB0eU5vZGUsIHZub2RlLnBhcmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcblx0ICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudCwgdm5vZGUuZWxtLCBub2RlT3BzLm5leHRTaWJsaW5nKGVsbSkpO1xuXHQgICAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudCwgW29sZFZub2RlXSwgMCwgMCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG5cdCAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG5cdCAgICByZXR1cm4gdm5vZGUuZWxtXG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBkaXJlY3RpdmVzID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlRGlyZWN0aXZlcyxcblx0ICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG5cdCAgZGVzdHJveTogZnVuY3Rpb24gdW5iaW5kRGlyZWN0aXZlcyAodm5vZGUpIHtcblx0ICAgIHVwZGF0ZURpcmVjdGl2ZXModm5vZGUsIGVtcHR5Tm9kZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAoXG5cdCAgb2xkVm5vZGUsXG5cdCAgdm5vZGVcblx0KSB7XG5cdCAgaWYgKCFvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMgJiYgIXZub2RlLmRhdGEuZGlyZWN0aXZlcykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBpc0NyZWF0ZSA9IG9sZFZub2RlID09PSBlbXB0eU5vZGU7XG5cdCAgdmFyIG9sZERpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcblx0ICB2YXIgbmV3RGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpO1xuXHRcblx0ICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcblx0ICB2YXIgZGlyc1dpdGhQb3N0cGF0Y2ggPSBbXTtcblx0XG5cdCAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XG5cdCAgZm9yIChrZXkgaW4gbmV3RGlycykge1xuXHQgICAgb2xkRGlyID0gb2xkRGlyc1trZXldO1xuXHQgICAgZGlyID0gbmV3RGlyc1trZXldO1xuXHQgICAgaWYgKCFvbGREaXIpIHtcblx0ICAgICAgLy8gbmV3IGRpcmVjdGl2ZSwgYmluZFxuXHQgICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuXHQgICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmluc2VydGVkKSB7XG5cdCAgICAgICAgZGlyc1dpdGhJbnNlcnQucHVzaChkaXIpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBleGlzdGluZyBkaXJlY3RpdmUsIHVwZGF0ZVxuXHQgICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XG5cdCAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcblx0ICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5jb21wb25lbnRVcGRhdGVkKSB7XG5cdCAgICAgICAgZGlyc1dpdGhQb3N0cGF0Y2gucHVzaChkaXIpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoZGlyc1dpdGhJbnNlcnQubGVuZ3RoKSB7XG5cdCAgICB2YXIgY2FsbEluc2VydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgZGlyc1dpdGhJbnNlcnQuZm9yRWFjaChmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICAgICAgY2FsbEhvb2skMShkaXIsICdpbnNlcnRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIGlmIChpc0NyZWF0ZSkge1xuXHQgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ2luc2VydCcsIGNhbGxJbnNlcnQsICdkaXItaW5zZXJ0Jyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjYWxsSW5zZXJ0KCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoZGlyc1dpdGhQb3N0cGF0Y2gubGVuZ3RoKSB7XG5cdCAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgZGlyc1dpdGhQb3N0cGF0Y2guZm9yRWFjaChmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICAgICAgY2FsbEhvb2skMShkaXIsICdjb21wb25lbnRVcGRhdGVkJywgdm5vZGUsIG9sZFZub2RlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9LCAnZGlyLXBvc3RwYXRjaCcpO1xuXHQgIH1cblx0XG5cdCAgaWYgKCFpc0NyZWF0ZSkge1xuXHQgICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xuXHQgICAgICBpZiAoIW5ld0RpcnNba2V5XSkge1xuXHQgICAgICAgIC8vIG5vIGxvbmdlciBwcmVzZW50LCB1bmJpbmRcblx0ICAgICAgICBjYWxsSG9vayQxKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIGVtcHR5TW9kaWZpZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSAoXG5cdCAgZGlycyxcblx0ICB2bVxuXHQpIHtcblx0ICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICBpZiAoIWRpcnMpIHtcblx0ICAgIHJldHVybiByZXNcblx0ICB9XG5cdCAgdmFyIGksIGRpcjtcblx0ICBmb3IgKGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xuXHQgICAgZGlyID0gZGlyc1tpXTtcblx0ICAgIGlmICghZGlyLm1vZGlmaWVycykge1xuXHQgICAgICBkaXIubW9kaWZpZXJzID0gZW1wdHlNb2RpZmllcnM7XG5cdCAgICB9XG5cdCAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcblx0ICAgIGRpci5kZWYgPSByZXNvbHZlQXNzZXQodm0uJG9wdGlvbnMsICdkaXJlY3RpdmVzJywgZGlyLm5hbWUsIHRydWUpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFJhd0Rpck5hbWUgKGRpcikge1xuXHQgIHJldHVybiBkaXIucmF3TmFtZSB8fCAoKGRpci5uYW1lKSArIFwiLlwiICsgKE9iamVjdC5rZXlzKGRpci5tb2RpZmllcnMgfHwge30pLmpvaW4oJy4nKSkpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbGxIb29rJDEgKGRpciwgaG9vaywgdm5vZGUsIG9sZFZub2RlKSB7XG5cdCAgdmFyIGZuID0gZGlyLmRlZiAmJiBkaXIuZGVmW2hvb2tdO1xuXHQgIGlmIChmbikge1xuXHQgICAgZm4odm5vZGUuZWxtLCBkaXIsIHZub2RlLCBvbGRWbm9kZSk7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgYmFzZU1vZHVsZXMgPSBbXG5cdCAgcmVmLFxuXHQgIGRpcmVjdGl2ZXNcblx0XTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlQXR0cnMgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgIGlmICghb2xkVm5vZGUuZGF0YS5hdHRycyAmJiAhdm5vZGUuZGF0YS5hdHRycykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBrZXksIGN1ciwgb2xkO1xuXHQgIHZhciBlbG0gPSB2bm9kZS5lbG07XG5cdCAgdmFyIG9sZEF0dHJzID0gb2xkVm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcblx0ICB2YXIgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzIHx8IHt9O1xuXHQgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuXHQgIGlmIChhdHRycy5fX29iX18pIHtcblx0ICAgIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyA9IGV4dGVuZCh7fSwgYXR0cnMpO1xuXHQgIH1cblx0XG5cdCAgZm9yIChrZXkgaW4gYXR0cnMpIHtcblx0ICAgIGN1ciA9IGF0dHJzW2tleV07XG5cdCAgICBvbGQgPSBvbGRBdHRyc1trZXldO1xuXHQgICAgaWYgKG9sZCAhPT0gY3VyKSB7XG5cdCAgICAgIHNldEF0dHIoZWxtLCBrZXksIGN1cik7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG5cdCAgICBpZiAoYXR0cnNba2V5XSA9PSBudWxsKSB7XG5cdCAgICAgIGlmIChpc1hsaW5rKGtleSkpIHtcblx0ICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcblx0ICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7XG5cdCAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuXHQgICAgLy8gc2V0IGF0dHJpYnV0ZSBmb3IgYmxhbmsgdmFsdWVcblx0ICAgIC8vIGUuZy4gPG9wdGlvbiBkaXNhYmxlZD5TZWxlY3Qgb25lPC9vcHRpb24+XG5cdCAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcblx0ICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBrZXkpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XG5cdCAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJyA/ICdmYWxzZScgOiAndHJ1ZScpO1xuXHQgIH0gZWxzZSBpZiAoaXNYbGluayhrZXkpKSB7XG5cdCAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcblx0ICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuXHQgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciBhdHRycyA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZUF0dHJzLFxuXHQgIHVwZGF0ZTogdXBkYXRlQXR0cnNcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgIHZhciBlbCA9IHZub2RlLmVsbTtcblx0ICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXHQgIGlmICghZGF0YS5zdGF0aWNDbGFzcyAmJiAhZGF0YS5jbGFzcyAmJlxuXHQgICAgICAoIW9sZERhdGEgfHwgKCFvbGREYXRhLnN0YXRpY0NsYXNzICYmICFvbGREYXRhLmNsYXNzKSkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIGNscyA9IGdlbkNsYXNzRm9yVm5vZGUodm5vZGUpO1xuXHRcblx0ICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBjbGFzc2VzXG5cdCAgdmFyIHRyYW5zaXRpb25DbGFzcyA9IGVsLl90cmFuc2l0aW9uQ2xhc3Nlcztcblx0ICBpZiAodHJhbnNpdGlvbkNsYXNzKSB7XG5cdCAgICBjbHMgPSBjb25jYXQoY2xzLCBzdHJpbmdpZnlDbGFzcyh0cmFuc2l0aW9uQ2xhc3MpKTtcblx0ICB9XG5cdFxuXHQgIC8vIHNldCB0aGUgY2xhc3Ncblx0ICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XG5cdCAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xzKTtcblx0ICAgIGVsLl9wcmV2Q2xhc3MgPSBjbHM7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIga2xhc3MgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVDbGFzcyxcblx0ICB1cGRhdGU6IHVwZGF0ZUNsYXNzXG5cdH07XG5cdFxuXHQvLyBza2lwIHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2Ugd2UgbmVlZCB0byBhdHRhY2ggcHJpdmF0ZSBwcm9wZXJ0aWVzXG5cdC8vIHRvIGVsZW1lbnRzXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgIGlmICghb2xkVm5vZGUuZGF0YS5vbiAmJiAhdm5vZGUuZGF0YS5vbikge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307XG5cdCAgdmFyIG9sZE9uID0gb2xkVm5vZGUuZGF0YS5vbiB8fCB7fTtcblx0ICB2YXIgYWRkID0gdm5vZGUuZWxtLl92X2FkZCB8fCAodm5vZGUuZWxtLl92X2FkZCA9IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlciwgY2FwdHVyZSkge1xuXHQgICAgdm5vZGUuZWxtLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpO1xuXHQgIH0pO1xuXHQgIHZhciByZW1vdmUgPSB2bm9kZS5lbG0uX3ZfcmVtb3ZlIHx8ICh2bm9kZS5lbG0uX3ZfcmVtb3ZlID0gZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVyKSB7XG5cdCAgICB2bm9kZS5lbG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG5cdCAgfSk7XG5cdCAgdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkLCByZW1vdmUsIHZub2RlLmNvbnRleHQpO1xuXHR9XG5cdFxuXHR2YXIgZXZlbnRzID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzLFxuXHQgIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZURPTVByb3BzIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICBpZiAoIW9sZFZub2RlLmRhdGEuZG9tUHJvcHMgJiYgIXZub2RlLmRhdGEuZG9tUHJvcHMpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIga2V5LCBjdXI7XG5cdCAgdmFyIGVsbSA9IHZub2RlLmVsbTtcblx0ICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuXHQgIHZhciBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgfHwge307XG5cdCAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG5cdCAgaWYgKHByb3BzLl9fb2JfXykge1xuXHQgICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7XG5cdCAgfVxuXHRcblx0ICBmb3IgKGtleSBpbiBvbGRQcm9wcykge1xuXHQgICAgaWYgKHByb3BzW2tleV0gPT0gbnVsbCkge1xuXHQgICAgICBlbG1ba2V5XSA9ICcnO1xuXHQgICAgfVxuXHQgIH1cblx0ICBmb3IgKGtleSBpbiBwcm9wcykge1xuXHQgICAgY3VyID0gcHJvcHNba2V5XTtcblx0ICAgIC8vIGlnbm9yZSBjaGlsZHJlbiBpZiB0aGUgbm9kZSBoYXMgdGV4dENvbnRlbnQgb3IgaW5uZXJIVE1MLFxuXHQgICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcblx0ICAgIC8vIG9uIHN1YnNlcXVlbnQgcGF0Y2hlcyAoIzMzNjApXG5cdCAgICBpZiAoa2V5ID09PSAndGV4dENvbnRlbnQnIHx8IGtleSA9PT0gJ2lubmVySFRNTCcpIHtcblx0ICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH1cblx0ICAgICAgaWYgKGN1ciA9PT0gb2xkUHJvcHNba2V5XSkgeyBjb250aW51ZSB9XG5cdCAgICB9XG5cdCAgICBpZiAoa2V5ID09PSAndmFsdWUnKSB7XG5cdCAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXG5cdCAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWRcblx0ICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcblx0ICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lXG5cdCAgICAgIHZhciBzdHJDdXIgPSBjdXIgPT0gbnVsbCA/ICcnIDogU3RyaW5nKGN1cik7XG5cdCAgICAgIGlmIChlbG0udmFsdWUgIT09IHN0ckN1ciAmJiAhZWxtLmNvbXBvc2luZykge1xuXHQgICAgICAgIGVsbS52YWx1ZSA9IHN0ckN1cjtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWxtW2tleV0gPSBjdXI7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgZG9tUHJvcHMgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcyxcblx0ICB1cGRhdGU6IHVwZGF0ZURPTVByb3BzXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBwYXJzZVN0eWxlVGV4dCA9IGNhY2hlZChmdW5jdGlvbiAoY3NzVGV4dCkge1xuXHQgIHZhciByZXMgPSB7fTtcblx0ICB2YXIgaGFzQmFja2dyb3VuZCA9IGNzc1RleHQuaW5kZXhPZignYmFja2dyb3VuZCcpID49IDA7XG5cdCAgLy8gbWF5YmUgd2l0aCBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cDovL3h4eCkgb3IgYmFzZTY0IGltZ1xuXHQgIHZhciBsaXN0RGVsaW1pdGVyID0gaGFzQmFja2dyb3VuZCA/IC87KD8hW14oXSpcXCkpL2cgOiAnOyc7XG5cdCAgdmFyIHByb3BlcnR5RGVsaW1pdGVyID0gaGFzQmFja2dyb3VuZCA/IC86KC4rKS8gOiAnOic7XG5cdCAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICBpZiAoaXRlbSkge1xuXHQgICAgICB2YXIgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlcik7XG5cdCAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gcmVzXG5cdH0pO1xuXHRcblx0Ly8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGVcblx0ZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVEYXRhIChkYXRhKSB7XG5cdCAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKGRhdGEuc3R5bGUpO1xuXHQgIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvblxuXHQgIC8vIGFuZCBpcyBhbHdheXMgYSBmcmVzaCBvYmplY3QsIHNvIGl0J3Mgc2FmZSB0byBtZXJnZSBpbnRvIGl0XG5cdCAgcmV0dXJuIGRhdGEuc3RhdGljU3R5bGVcblx0ICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKVxuXHQgICAgOiBzdHlsZVxuXHR9XG5cdFxuXHQvLyBub3JtYWxpemUgcG9zc2libGUgYXJyYXkgLyBzdHJpbmcgdmFsdWVzIGludG8gT2JqZWN0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlQmluZGluZyAoYmluZGluZ1N0eWxlKSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoYmluZGluZ1N0eWxlKSkge1xuXHQgICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSlcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBiaW5kaW5nU3R5bGUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKVxuXHQgIH1cblx0ICByZXR1cm4gYmluZGluZ1N0eWxlXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBwYXJlbnQgY29tcG9uZW50IHN0eWxlIHNob3VsZCBiZSBhZnRlciBjaGlsZCdzXG5cdCAqIHNvIHRoYXQgcGFyZW50IGNvbXBvbmVudCdzIHN0eWxlIGNvdWxkIG92ZXJyaWRlIGl0XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRTdHlsZSAodm5vZGUsIGNoZWNrQ2hpbGQpIHtcblx0ICB2YXIgcmVzID0ge307XG5cdCAgdmFyIHN0eWxlRGF0YTtcblx0XG5cdCAgaWYgKGNoZWNrQ2hpbGQpIHtcblx0ICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcblx0ICAgIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcblx0ICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLmNoaWxkLl92bm9kZTtcblx0ICAgICAgaWYgKGNoaWxkTm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEoY2hpbGROb2RlLmRhdGEpKSkge1xuXHQgICAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICgoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHZub2RlLmRhdGEpKSkge1xuXHQgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcblx0ICB9XG5cdFxuXHQgIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XG5cdCAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG5cdCAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHtcblx0ICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBjc3NWYXJSRSA9IC9eLS0vO1xuXHR2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGNzc1ZhclJFLnRlc3QobmFtZSkpIHtcblx0ICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGVsLnN0eWxlW25vcm1hbGl6ZShuYW1lKV0gPSB2YWw7XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XG5cdFxuXHR2YXIgdGVzdEVsO1xuXHR2YXIgbm9ybWFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgdGVzdEVsID0gdGVzdEVsIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIHByb3AgPSBjYW1lbGl6ZShwcm9wKTtcblx0ICBpZiAocHJvcCAhPT0gJ2ZpbHRlcicgJiYgKHByb3AgaW4gdGVzdEVsLnN0eWxlKSkge1xuXHQgICAgcmV0dXJuIHByb3Bcblx0ICB9XG5cdCAgdmFyIHVwcGVyID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSk7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyB1cHBlcjtcblx0ICAgIGlmIChwcmVmaXhlZCBpbiB0ZXN0RWwuc3R5bGUpIHtcblx0ICAgICAgcmV0dXJuIHByZWZpeGVkXG5cdCAgICB9XG5cdCAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXHRcblx0ICBpZiAoIWRhdGEuc3RhdGljU3R5bGUgJiYgIWRhdGEuc3R5bGUgJiZcblx0ICAgICAgIW9sZERhdGEuc3RhdGljU3R5bGUgJiYgIW9sZERhdGEuc3R5bGUpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIGN1ciwgbmFtZTtcblx0ICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cdCAgdmFyIG9sZFN0YXRpY1N0eWxlID0gb2xkVm5vZGUuZGF0YS5zdGF0aWNTdHlsZTtcblx0ICB2YXIgb2xkU3R5bGVCaW5kaW5nID0gb2xkVm5vZGUuZGF0YS5zdHlsZSB8fCB7fTtcblx0XG5cdCAgLy8gaWYgc3RhdGljIHN0eWxlIGV4aXN0cywgc3R5bGViaW5kaW5nIGFscmVhZHkgbWVyZ2VkIGludG8gaXQgd2hlbiBkb2luZyBub3JtYWxpemVTdHlsZURhdGFcblx0ICB2YXIgb2xkU3R5bGUgPSBvbGRTdGF0aWNTdHlsZSB8fCBvbGRTdHlsZUJpbmRpbmc7XG5cdFxuXHQgIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyh2bm9kZS5kYXRhLnN0eWxlKSB8fCB7fTtcblx0XG5cdCAgdm5vZGUuZGF0YS5zdHlsZSA9IHN0eWxlLl9fb2JfXyA/IGV4dGVuZCh7fSwgc3R5bGUpIDogc3R5bGU7XG5cdFxuXHQgIHZhciBuZXdTdHlsZSA9IGdldFN0eWxlKHZub2RlLCB0cnVlKTtcblx0XG5cdCAgZm9yIChuYW1lIGluIG9sZFN0eWxlKSB7XG5cdCAgICBpZiAobmV3U3R5bGVbbmFtZV0gPT0gbnVsbCkge1xuXHQgICAgICBzZXRQcm9wKGVsLCBuYW1lLCAnJyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGZvciAobmFtZSBpbiBuZXdTdHlsZSkge1xuXHQgICAgY3VyID0gbmV3U3R5bGVbbmFtZV07XG5cdCAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuXHQgICAgICAvLyBpZTkgc2V0dGluZyB0byBudWxsIGhhcyBubyBlZmZlY3QsIG11c3QgdXNlIGVtcHR5IHN0cmluZ1xuXHQgICAgICBzZXRQcm9wKGVsLCBuYW1lLCBjdXIgPT0gbnVsbCA/ICcnIDogY3VyKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciBzdHlsZSA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZVN0eWxlLFxuXHQgIHVwZGF0ZTogdXBkYXRlU3R5bGVcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0LyoqXG5cdCAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuXHQgKiBTVkcgZWxlbWVudHMgaW4gSUVcblx0ICovXG5cdGZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKCFjbHMgfHwgIWNscy50cmltKCkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICBpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdCAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XG5cdCAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGVsLmNsYXNzTGlzdC5hZGQoYyk7IH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbHMpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgY3VyID0gJyAnICsgZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnO1xuXHQgICAgaWYgKGN1ci5pbmRleE9mKCcgJyArIGNscyArICcgJykgPCAwKSB7XG5cdCAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuXHQgKiBTVkcgZWxlbWVudHMgaW4gSUVcblx0ICovXG5cdGZ1bmN0aW9uIHJlbW92ZUNsYXNzIChlbCwgY2xzKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKCFjbHMgfHwgIWNscy50cmltKCkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICBpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdCAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XG5cdCAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGVsLmNsYXNzTGlzdC5yZW1vdmUoYyk7IH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgY3VyID0gJyAnICsgZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnO1xuXHQgICAgdmFyIHRhciA9ICcgJyArIGNscyArICcgJztcblx0ICAgIHdoaWxlIChjdXIuaW5kZXhPZih0YXIpID49IDApIHtcblx0ICAgICAgY3VyID0gY3VyLnJlcGxhY2UodGFyLCAnICcpO1xuXHQgICAgfVxuXHQgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1ci50cmltKCkpO1xuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XG5cdHZhciBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xuXHR2YXIgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XG5cdFxuXHQvLyBUcmFuc2l0aW9uIHByb3BlcnR5L2V2ZW50IHNuaWZmaW5nXG5cdHZhciB0cmFuc2l0aW9uUHJvcCA9ICd0cmFuc2l0aW9uJztcblx0dmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcblx0dmFyIGFuaW1hdGlvblByb3AgPSAnYW5pbWF0aW9uJztcblx0dmFyIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ2FuaW1hdGlvbmVuZCc7XG5cdGlmIChoYXNUcmFuc2l0aW9uKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKHdpbmRvdy5vbnRyYW5zaXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJlxuXHQgICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0cmFuc2l0aW9uUHJvcCA9ICdXZWJraXRUcmFuc2l0aW9uJztcblx0ICAgIHRyYW5zaXRpb25FbmRFdmVudCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kJztcblx0ICB9XG5cdCAgaWYgKHdpbmRvdy5vbmFuaW1hdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG5cdCAgICB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgYW5pbWF0aW9uUHJvcCA9ICdXZWJraXRBbmltYXRpb24nO1xuXHQgICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcblx0ICB9XG5cdH1cblx0XG5cdHZhciByYWYgPSAoaW5Ccm93c2VyICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHx8IHNldFRpbWVvdXQ7XG5cdGZ1bmN0aW9uIG5leHRGcmFtZSAoZm4pIHtcblx0ICByYWYoZnVuY3Rpb24gKCkge1xuXHQgICAgcmFmKGZuKTtcblx0ICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzIChlbCwgY2xzKSB7XG5cdCAgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyB8fCAoZWwuX3RyYW5zaXRpb25DbGFzc2VzID0gW10pKS5wdXNoKGNscyk7XG5cdCAgYWRkQ2xhc3MoZWwsIGNscyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykge1xuXHQgIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcblx0ICAgIHJlbW92ZSQxKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcblx0ICB9XG5cdCAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyAoXG5cdCAgZWwsXG5cdCAgZXhwZWN0ZWRUeXBlLFxuXHQgIGNiXG5cdCkge1xuXHQgIHZhciByZWYgPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcblx0ICB2YXIgdHlwZSA9IHJlZi50eXBlO1xuXHQgIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG5cdCAgdmFyIHByb3BDb3VudCA9IHJlZi5wcm9wQ291bnQ7XG5cdCAgaWYgKCF0eXBlKSB7IHJldHVybiBjYigpIH1cblx0ICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG5cdCAgdmFyIGVuZGVkID0gMDtcblx0ICB2YXIgZW5kID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuXHQgICAgY2IoKTtcblx0ICB9O1xuXHQgIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICBpZiAoZS50YXJnZXQgPT09IGVsKSB7XG5cdCAgICAgIGlmICgrK2VuZGVkID49IHByb3BDb3VudCkge1xuXHQgICAgICAgIGVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0ICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xuXHQgICAgICBlbmQoKTtcblx0ICAgIH1cblx0ICB9LCB0aW1lb3V0ICsgMSk7XG5cdCAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuXHR9XG5cdFxuXHR2YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXHRcblx0ZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8gKGVsLCBleHBlY3RlZFR5cGUpIHtcblx0ICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuXHQgIHZhciB0cmFuc2l0aW9uZURlbGF5cyA9IHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddLnNwbGl0KCcsICcpO1xuXHQgIHZhciB0cmFuc2l0aW9uRHVyYXRpb25zID0gc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10uc3BsaXQoJywgJyk7XG5cdCAgdmFyIHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uZURlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XG5cdCAgdmFyIGFuaW1hdGlvbkRlbGF5cyA9IHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10uc3BsaXQoJywgJyk7XG5cdCAgdmFyIGFuaW1hdGlvbkR1cmF0aW9ucyA9IHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10uc3BsaXQoJywgJyk7XG5cdCAgdmFyIGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcblx0XG5cdCAgdmFyIHR5cGU7XG5cdCAgdmFyIHRpbWVvdXQgPSAwO1xuXHQgIHZhciBwcm9wQ291bnQgPSAwO1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcblx0ICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcblx0ICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG5cdCAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcblx0ICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuXHQgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG5cdCAgICAgIHR5cGUgPSBBTklNQVRJT047XG5cdCAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuXHQgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuXHQgICAgdHlwZSA9IHRpbWVvdXQgPiAwXG5cdCAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XG5cdCAgICAgICAgPyBUUkFOU0lUSU9OXG5cdCAgICAgICAgOiBBTklNQVRJT05cblx0ICAgICAgOiBudWxsO1xuXHQgICAgcHJvcENvdW50ID0gdHlwZVxuXHQgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cblx0ICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXG5cdCAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXG5cdCAgICAgIDogMDtcblx0ICB9XG5cdCAgdmFyIGhhc1RyYW5zZm9ybSA9XG5cdCAgICB0eXBlID09PSBUUkFOU0lUSU9OICYmXG5cdCAgICB0cmFuc2Zvcm1SRS50ZXN0KHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdQcm9wZXJ0eSddKTtcblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogdHlwZSxcblx0ICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG5cdCAgICBwcm9wQ291bnQ6IHByb3BDb3VudCxcblx0ICAgIGhhc1RyYW5zZm9ybTogaGFzVHJhbnNmb3JtXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUaW1lb3V0IChkZWxheXMsIGR1cmF0aW9ucykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG5cdCAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgZHVyYXRpb25zLm1hcChmdW5jdGlvbiAoZCwgaSkge1xuXHQgICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSlcblx0ICB9KSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9NcyAocykge1xuXHQgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkpICogMTAwMFxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGVudGVyICh2bm9kZSkge1xuXHQgIHZhciBlbCA9IHZub2RlLmVsbTtcblx0XG5cdCAgLy8gY2FsbCBsZWF2ZSBjYWxsYmFjayBub3dcblx0ICBpZiAoZWwuX2xlYXZlQ2IpIHtcblx0ICAgIGVsLl9sZWF2ZUNiLmNhbmNlbGxlZCA9IHRydWU7XG5cdCAgICBlbC5fbGVhdmVDYigpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuXHQgIGlmICghZGF0YSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoZWwuX2VudGVyQ2IgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIGNzcyA9IGRhdGEuY3NzO1xuXHQgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuXHQgIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzO1xuXHQgIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuXHQgIHZhciBhcHBlYXJDbGFzcyA9IGRhdGEuYXBwZWFyQ2xhc3M7XG5cdCAgdmFyIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcztcblx0ICB2YXIgYmVmb3JlRW50ZXIgPSBkYXRhLmJlZm9yZUVudGVyO1xuXHQgIHZhciBlbnRlciA9IGRhdGEuZW50ZXI7XG5cdCAgdmFyIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXI7XG5cdCAgdmFyIGVudGVyQ2FuY2VsbGVkID0gZGF0YS5lbnRlckNhbmNlbGxlZDtcblx0ICB2YXIgYmVmb3JlQXBwZWFyID0gZGF0YS5iZWZvcmVBcHBlYXI7XG5cdCAgdmFyIGFwcGVhciA9IGRhdGEuYXBwZWFyO1xuXHQgIHZhciBhZnRlckFwcGVhciA9IGRhdGEuYWZ0ZXJBcHBlYXI7XG5cdCAgdmFyIGFwcGVhckNhbmNlbGxlZCA9IGRhdGEuYXBwZWFyQ2FuY2VsbGVkO1xuXHRcblx0ICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzXG5cdCAgLy8gdHJhbnNpdGlvbi4gT25lIGVkZ2UgY2FzZSB0byBjaGVjayBpcyB3aGVuIHRoZSA8dHJhbnNpdGlvbj4gaXMgcGxhY2VkXG5cdCAgLy8gYXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNoaWxkIGNvbXBvbmVudC4gSW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gY2hlY2tcblx0ICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay5cblx0ICB2YXIgdHJhbnNpdGlvbk5vZGUgPSBhY3RpdmVJbnN0YW5jZS4kdm5vZGU7XG5cdCAgdmFyIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZSAmJiB0cmFuc2l0aW9uTm9kZS5wYXJlbnRcblx0ICAgID8gdHJhbnNpdGlvbk5vZGUucGFyZW50LmNvbnRleHRcblx0ICAgIDogYWN0aXZlSW5zdGFuY2U7XG5cdFxuXHQgIHZhciBpc0FwcGVhciA9ICFjb250ZXh0Ll9pc01vdW50ZWQgfHwgIXZub2RlLmlzUm9vdEluc2VydDtcblx0XG5cdCAgaWYgKGlzQXBwZWFyICYmICFhcHBlYXIgJiYgYXBwZWFyICE9PSAnJykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyID8gYXBwZWFyQ2xhc3MgOiBlbnRlckNsYXNzO1xuXHQgIHZhciBhY3RpdmVDbGFzcyA9IGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzO1xuXHQgIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhciA/IChiZWZvcmVBcHBlYXIgfHwgYmVmb3JlRW50ZXIpIDogYmVmb3JlRW50ZXI7XG5cdCAgdmFyIGVudGVySG9vayA9IGlzQXBwZWFyID8gKHR5cGVvZiBhcHBlYXIgPT09ICdmdW5jdGlvbicgPyBhcHBlYXIgOiBlbnRlcikgOiBlbnRlcjtcblx0ICB2YXIgYWZ0ZXJFbnRlckhvb2sgPSBpc0FwcGVhciA/IChhZnRlckFwcGVhciB8fCBhZnRlckVudGVyKSA6IGFmdGVyRW50ZXI7XG5cdCAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyID8gKGFwcGVhckNhbmNlbGxlZCB8fCBlbnRlckNhbmNlbGxlZCkgOiBlbnRlckNhbmNlbGxlZDtcblx0XG5cdCAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTtcblx0ICB2YXIgdXNlcldhbnRzQ29udHJvbCA9XG5cdCAgICBlbnRlckhvb2sgJiZcblx0ICAgIC8vIGVudGVySG9vayBtYXkgYmUgYSBib3VuZCBtZXRob2Qgd2hpY2ggZXhwb3Nlc1xuXHQgICAgLy8gdGhlIGxlbmd0aCBvZiBvcmlnaW5hbCBmbiBhcyBfbGVuZ3RoXG5cdCAgICAoZW50ZXJIb29rLl9sZW5ndGggfHwgZW50ZXJIb29rLmxlbmd0aCkgPiAxO1xuXHRcblx0ICB2YXIgY2IgPSBlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7XG5cdCAgICB9XG5cdCAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG5cdCAgICAgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcblx0ICAgICAgfVxuXHQgICAgICBlbnRlckNhbmNlbGxlZEhvb2sgJiYgZW50ZXJDYW5jZWxsZWRIb29rKGVsKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGFmdGVyRW50ZXJIb29rICYmIGFmdGVyRW50ZXJIb29rKGVsKTtcblx0ICAgIH1cblx0ICAgIGVsLl9lbnRlckNiID0gbnVsbDtcblx0ICB9KTtcblx0XG5cdCAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcblx0ICAgIC8vIHJlbW92ZSBwZW5kaW5nIGxlYXZlIGVsZW1lbnQgb24gZW50ZXIgYnkgaW5qZWN0aW5nIGFuIGluc2VydCBob29rXG5cdCAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ2luc2VydCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG5cdCAgICAgIHZhciBwZW5kaW5nTm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmcgJiYgcGFyZW50Ll9wZW5kaW5nW3Zub2RlLmtleV07XG5cdCAgICAgIGlmIChwZW5kaW5nTm9kZSAmJiBwZW5kaW5nTm9kZS50YWcgPT09IHZub2RlLnRhZyAmJiBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IpIHtcblx0ICAgICAgICBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IoKTtcblx0ICAgICAgfVxuXHQgICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XG5cdCAgICB9LCAndHJhbnNpdGlvbi1pbnNlcnQnKTtcblx0ICB9XG5cdFxuXHQgIC8vIHN0YXJ0IGVudGVyIHRyYW5zaXRpb25cblx0ICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcblx0ICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcblx0ICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuXHQgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcblx0ICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcblx0ICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBpZiAodm5vZGUuZGF0YS5zaG93KSB7XG5cdCAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XG5cdCAgfVxuXHRcblx0ICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcblx0ICAgIGNiKCk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsZWF2ZSAodm5vZGUsIHJtKSB7XG5cdCAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXHRcblx0ICAvLyBjYWxsIGVudGVyIGNhbGxiYWNrIG5vd1xuXHQgIGlmIChlbC5fZW50ZXJDYikge1xuXHQgICAgZWwuX2VudGVyQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcblx0ICAgIGVsLl9lbnRlckNiKCk7XG5cdCAgfVxuXHRcblx0ICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG5cdCAgaWYgKCFkYXRhKSB7XG5cdCAgICByZXR1cm4gcm0oKVxuXHQgIH1cblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGVsLl9sZWF2ZUNiIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBjc3MgPSBkYXRhLmNzcztcblx0ICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0ICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcblx0ICB2YXIgbGVhdmVBY3RpdmVDbGFzcyA9IGRhdGEubGVhdmVBY3RpdmVDbGFzcztcblx0ICB2YXIgYmVmb3JlTGVhdmUgPSBkYXRhLmJlZm9yZUxlYXZlO1xuXHQgIHZhciBsZWF2ZSA9IGRhdGEubGVhdmU7XG5cdCAgdmFyIGFmdGVyTGVhdmUgPSBkYXRhLmFmdGVyTGVhdmU7XG5cdCAgdmFyIGxlYXZlQ2FuY2VsbGVkID0gZGF0YS5sZWF2ZUNhbmNlbGxlZDtcblx0ICB2YXIgZGVsYXlMZWF2ZSA9IGRhdGEuZGVsYXlMZWF2ZTtcblx0XG5cdCAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTtcblx0ICB2YXIgdXNlcldhbnRzQ29udHJvbCA9XG5cdCAgICBsZWF2ZSAmJlxuXHQgICAgLy8gbGVhdmUgaG9vayBtYXkgYmUgYSBib3VuZCBtZXRob2Qgd2hpY2ggZXhwb3Nlc1xuXHQgICAgLy8gdGhlIGxlbmd0aCBvZiBvcmlnaW5hbCBmbiBhcyBfbGVuZ3RoXG5cdCAgICAobGVhdmUuX2xlbmd0aCB8fCBsZWF2ZS5sZW5ndGgpID4gMTtcblx0XG5cdCAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUuX3BlbmRpbmcpIHtcblx0ICAgICAgZWwucGFyZW50Tm9kZS5fcGVuZGluZ1t2bm9kZS5rZXldID0gbnVsbDtcblx0ICAgIH1cblx0ICAgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG5cdCAgICB9XG5cdCAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG5cdCAgICAgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcblx0ICAgICAgfVxuXHQgICAgICBsZWF2ZUNhbmNlbGxlZCAmJiBsZWF2ZUNhbmNlbGxlZChlbCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBybSgpO1xuXHQgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoZWwpO1xuXHQgICAgfVxuXHQgICAgZWwuX2xlYXZlQ2IgPSBudWxsO1xuXHQgIH0pO1xuXHRcblx0ICBpZiAoZGVsYXlMZWF2ZSkge1xuXHQgICAgZGVsYXlMZWF2ZShwZXJmb3JtTGVhdmUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBwZXJmb3JtTGVhdmUoKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHBlcmZvcm1MZWF2ZSAoKSB7XG5cdCAgICAvLyB0aGUgZGVsYXllZCBsZWF2ZSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkXG5cdCAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuXHQgICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcblx0ICAgICAgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgfHwgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgPSB7fSkpW3Zub2RlLmtleV0gPSB2bm9kZTtcblx0ICAgIH1cblx0ICAgIGJlZm9yZUxlYXZlICYmIGJlZm9yZUxlYXZlKGVsKTtcblx0ICAgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG5cdCAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG5cdCAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcblx0ICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuXHQgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGxlYXZlICYmIGxlYXZlKGVsLCBjYik7XG5cdCAgICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcblx0ICAgICAgY2IoKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHtcblx0ICBpZiAoIWRlZiQkMSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdvYmplY3QnKSB7XG5cdCAgICB2YXIgcmVzID0ge307XG5cdCAgICBpZiAoZGVmJCQxLmNzcyAhPT0gZmFsc2UpIHtcblx0ICAgICAgZXh0ZW5kKHJlcywgYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxLm5hbWUgfHwgJ3YnKSk7XG5cdCAgICB9XG5cdCAgICBleHRlbmQocmVzLCBkZWYkJDEpO1xuXHQgICAgcmV0dXJuIHJlc1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEpXG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgYXV0b0Nzc1RyYW5zaXRpb24gPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgZW50ZXJDbGFzczogKG5hbWUgKyBcIi1lbnRlclwiKSxcblx0ICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG5cdCAgICBhcHBlYXJDbGFzczogKG5hbWUgKyBcIi1lbnRlclwiKSxcblx0ICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpLFxuXHQgICAgbGVhdmVBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1sZWF2ZS1hY3RpdmVcIiksXG5cdCAgICBhcHBlYXJBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1lbnRlci1hY3RpdmVcIilcblx0ICB9XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gb25jZSAoZm4pIHtcblx0ICB2YXIgY2FsbGVkID0gZmFsc2U7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghY2FsbGVkKSB7XG5cdCAgICAgIGNhbGxlZCA9IHRydWU7XG5cdCAgICAgIGZuKCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgdHJhbnNpdGlvbiA9IGluQnJvd3NlciA/IHtcblx0ICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSAoXywgdm5vZGUpIHtcblx0ICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG5cdCAgICAgIGVudGVyKHZub2RlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlICh2bm9kZSwgcm0pIHtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuXHQgICAgICBsZWF2ZSh2bm9kZSwgcm0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcm0oKTtcblx0ICAgIH1cblx0ICB9XG5cdH0gOiB7fTtcblx0XG5cdHZhciBwbGF0Zm9ybU1vZHVsZXMgPSBbXG5cdCAgYXR0cnMsXG5cdCAga2xhc3MsXG5cdCAgZXZlbnRzLFxuXHQgIGRvbVByb3BzLFxuXHQgIHN0eWxlLFxuXHQgIHRyYW5zaXRpb25cblx0XTtcblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gdGhlIGRpcmVjdGl2ZSBtb2R1bGUgc2hvdWxkIGJlIGFwcGxpZWQgbGFzdCwgYWZ0ZXIgYWxsXG5cdC8vIGJ1aWx0LWluIG1vZHVsZXMgaGF2ZSBiZWVuIGFwcGxpZWQuXG5cdHZhciBtb2R1bGVzID0gcGxhdGZvcm1Nb2R1bGVzLmNvbmNhdChiYXNlTW9kdWxlcyk7XG5cdFxuXHR2YXIgcGF0Y2gkMSA9IGNyZWF0ZVBhdGNoRnVuY3Rpb24oeyBub2RlT3BzOiBub2RlT3BzLCBtb2R1bGVzOiBtb2R1bGVzIH0pO1xuXHRcblx0LyoqXG5cdCAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZ1xuXHQgKiBwcm9wZXJ0aWVzIHRvIEVsZW1lbnRzLlxuXHQgKi9cblx0XG5cdHZhciBtb2RlbGFibGVUYWdSRSA9IC9eaW5wdXR8c2VsZWN0fHRleHRhcmVhfHZ1ZS1jb21wb25lbnQtWzAtOV0rKC1bMC05YS16QS1aXy1dKik/JC87XG5cdFxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0aWYgKGlzSUU5KSB7XG5cdCAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvXG5cdCAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHtcblx0ICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdHZhciBtb2RlbCA9IHtcblx0ICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQgKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgaWYgKCFtb2RlbGFibGVUYWdSRS50ZXN0KHZub2RlLnRhZykpIHtcblx0ICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgXCJ2LW1vZGVsIGlzIG5vdCBzdXBwb3J0ZWQgb24gZWxlbWVudCB0eXBlOiA8XCIgKyAodm5vZGUudGFnKSArIFwiPi4gXCIgK1xuXHQgICAgICAgICAgJ0lmIHlvdSBhcmUgd29ya2luZyB3aXRoIGNvbnRlbnRlZGl0YWJsZSwgaXRcXCdzIHJlY29tbWVuZGVkIHRvICcgK1xuXHQgICAgICAgICAgJ3dyYXAgYSBsaWJyYXJ5IGRlZGljYXRlZCBmb3IgdGhhdCBwdXJwb3NlIGluc2lkZSBhIGN1c3RvbSBjb21wb25lbnQuJyxcblx0ICAgICAgICAgIHZub2RlLmNvbnRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuXHQgICAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuXHQgICAgICB9O1xuXHQgICAgICBjYigpO1xuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChjYiwgMCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoXG5cdCAgICAgICh2bm9kZS50YWcgPT09ICd0ZXh0YXJlYScgfHwgZWwudHlwZSA9PT0gJ3RleHQnKSAmJlxuXHQgICAgICAhYmluZGluZy5tb2RpZmllcnMubGF6eVxuXHQgICAgKSB7XG5cdCAgICAgIGlmICghaXNBbmRyb2lkKSB7XG5cdCAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XG5cdCAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcblx0ICAgICAgfVxuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgaWYgKGlzSUU5KSB7XG5cdCAgICAgICAgZWwudm1vZGVsID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50VXBkYXRlZDogZnVuY3Rpb24gY29tcG9uZW50VXBkYXRlZCAoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG5cdCAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuXHQgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7XG5cdCAgICAgIC8vIGluIGNhc2UgdGhlIG9wdGlvbnMgcmVuZGVyZWQgYnkgdi1mb3IgaGF2ZSBjaGFuZ2VkLFxuXHQgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG5cdCAgICAgIC8vIGRldGVjdCBzdWNoIGNhc2VzIGFuZCBmaWx0ZXIgb3V0IHZhbHVlcyB0aGF0IG5vIGxvbmdlciBoYXMgYSBtYXRjaGluZ1xuXHQgICAgICAvLyBvcHRpb24gaW4gdGhlIERPTS5cblx0ICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlXG5cdCAgICAgICAgPyBiaW5kaW5nLnZhbHVlLnNvbWUoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGhhc05vTWF0Y2hpbmdPcHRpb24odiwgZWwub3B0aW9ucyk7IH0pXG5cdCAgICAgICAgOiBiaW5kaW5nLnZhbHVlICE9PSBiaW5kaW5nLm9sZFZhbHVlICYmIGhhc05vTWF0Y2hpbmdPcHRpb24oYmluZGluZy52YWx1ZSwgZWwub3B0aW9ucyk7XG5cdCAgICAgIGlmIChuZWVkUmVzZXQpIHtcblx0ICAgICAgICB0cmlnZ2VyKGVsLCAnY2hhbmdlJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBzZXRTZWxlY3RlZCAoZWwsIGJpbmRpbmcsIHZtKSB7XG5cdCAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTtcblx0ICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuXHQgIGlmIChpc011bHRpcGxlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuXHQgICAgICBcImV4cGVjdHMgYW4gQXJyYXkgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290IFwiICsgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpKSxcblx0ICAgICAgdm1cblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcblx0ICAgIGlmIChpc011bHRpcGxlKSB7XG5cdCAgICAgIHNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBnZXRWYWx1ZShvcHRpb24pKSA+IC0xO1xuXHQgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuXHQgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcblx0ICAgICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkge1xuXHQgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVyblxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIGlmICghaXNNdWx0aXBsZSkge1xuXHQgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzTm9NYXRjaGluZ09wdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IG9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb25zW2ldKSwgdmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdHJ1ZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRWYWx1ZSAob3B0aW9uKSB7XG5cdCAgcmV0dXJuICdfdmFsdWUnIGluIG9wdGlvblxuXHQgICAgPyBvcHRpb24uX3ZhbHVlXG5cdCAgICA6IG9wdGlvbi52YWx1ZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQgKGUpIHtcblx0ICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kIChlKSB7XG5cdCAgZS50YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG5cdCAgdHJpZ2dlcihlLnRhcmdldCwgJ2lucHV0Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRyaWdnZXIgKGVsLCB0eXBlKSB7XG5cdCAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuXHQgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuXHQgIGVsLmRpc3BhdGNoRXZlbnQoZSk7XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gcmVjdXJzaXZlbHkgc2VhcmNoIGZvciBwb3NzaWJsZSB0cmFuc2l0aW9uIGRlZmluZWQgaW5zaWRlIHRoZSBjb21wb25lbnQgcm9vdFxuXHRmdW5jdGlvbiBsb2NhdGVOb2RlICh2bm9kZSkge1xuXHQgIHJldHVybiB2bm9kZS5jaGlsZCAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcblx0ICAgID8gbG9jYXRlTm9kZSh2bm9kZS5jaGlsZC5fdm5vZGUpXG5cdCAgICA6IHZub2RlXG5cdH1cblx0XG5cdHZhciBzaG93ID0ge1xuXHQgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKGVsLCByZWYsIHZub2RlKSB7XG5cdCAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7XG5cdFxuXHQgICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcblx0ICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG5cdCAgICBpZiAodmFsdWUgJiYgdHJhbnNpdGlvbiAmJiAhaXNJRTkpIHtcblx0ICAgICAgZW50ZXIodm5vZGUpO1xuXHQgICAgfVxuXHQgICAgdmFyIG9yaWdpbmFsRGlzcGxheSA9IGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICcnIDogZWwuc3R5bGUuZGlzcGxheTtcblx0ICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IG9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcblx0ICAgIGVsLl9fdk9yaWdpbmFsRGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcblx0ICB9LFxuXHQgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChlbCwgcmVmLCB2bm9kZSkge1xuXHQgICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXHQgICAgdmFyIG9sZFZhbHVlID0gcmVmLm9sZFZhbHVlO1xuXHRcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKHZhbHVlID09PSBvbGRWYWx1ZSkgeyByZXR1cm4gfVxuXHQgICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcblx0ICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG5cdCAgICBpZiAodHJhbnNpdGlvbiAmJiAhaXNJRTkpIHtcblx0ICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgZW50ZXIodm5vZGUpO1xuXHQgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbGVhdmUodm5vZGUsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl9fdk9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgcGxhdGZvcm1EaXJlY3RpdmVzID0ge1xuXHQgIG1vZGVsOiBtb2RlbCxcblx0ICBzaG93OiBzaG93XG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgYSBzaW5nbGUgZWxlbWVudC9jb21wb25lbnQuXG5cdC8vIHN1cHBvcnRzIHRyYW5zaXRpb24gbW9kZSAob3V0LWluIC8gaW4tb3V0KVxuXHRcblx0dmFyIHRyYW5zaXRpb25Qcm9wcyA9IHtcblx0ICBuYW1lOiBTdHJpbmcsXG5cdCAgYXBwZWFyOiBCb29sZWFuLFxuXHQgIGNzczogQm9vbGVhbixcblx0ICBtb2RlOiBTdHJpbmcsXG5cdCAgdHlwZTogU3RyaW5nLFxuXHQgIGVudGVyQ2xhc3M6IFN0cmluZyxcblx0ICBsZWF2ZUNsYXNzOiBTdHJpbmcsXG5cdCAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuXHQgIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcblx0ICBhcHBlYXJDbGFzczogU3RyaW5nLFxuXHQgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmdcblx0fTtcblx0XG5cdC8vIGluIGNhc2UgdGhlIGNoaWxkIGlzIGFsc28gYW4gYWJzdHJhY3QgY29tcG9uZW50LCBlLmcuIDxrZWVwLWFsaXZlPlxuXHQvLyB3ZSB3YW50IHRvIHJlY3Vyc2l2ZWx5IHJldHJpZXZlIHRoZSByZWFsIGNvbXBvbmVudCB0byBiZSByZW5kZXJlZFxuXHRmdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG5cdCAgdmFyIGNvbXBPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblx0ICBpZiAoY29tcE9wdGlvbnMgJiYgY29tcE9wdGlvbnMuQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XG5cdCAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gdm5vZGVcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuXHQgIHZhciBkYXRhID0ge307XG5cdCAgdmFyIG9wdGlvbnMgPSBjb21wLiRvcHRpb25zO1xuXHQgIC8vIHByb3BzXG5cdCAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMucHJvcHNEYXRhKSB7XG5cdCAgICBkYXRhW2tleV0gPSBjb21wW2tleV07XG5cdCAgfVxuXHQgIC8vIGV2ZW50cy5cblx0ICAvLyBleHRyYWN0IGxpc3RlbmVycyBhbmQgcGFzcyB0aGVtIGRpcmVjdGx5IHRvIHRoZSB0cmFuc2l0aW9uIG1ldGhvZHNcblx0ICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuXHQgIGZvciAodmFyIGtleSQxIGluIGxpc3RlbmVycykge1xuXHQgICAgZGF0YVtjYW1lbGl6ZShrZXkkMSldID0gbGlzdGVuZXJzW2tleSQxXS5mbjtcblx0ICB9XG5cdCAgcmV0dXJuIGRhdGFcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGxhY2Vob2xkZXIgKGgsIHJhd0NoaWxkKSB7XG5cdCAgcmV0dXJuIC9cXGQta2VlcC1hbGl2ZSQvLnRlc3QocmF3Q2hpbGQudGFnKVxuXHQgICAgPyBoKCdrZWVwLWFsaXZlJylcblx0ICAgIDogbnVsbFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNQYXJlbnRUcmFuc2l0aW9uICh2bm9kZSkge1xuXHQgIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XG5cdCAgICBpZiAodm5vZGUuZGF0YS50cmFuc2l0aW9uKSB7XG5cdCAgICAgIHJldHVybiB0cnVlXG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgVHJhbnNpdGlvbiA9IHtcblx0ICBuYW1lOiAndHJhbnNpdGlvbicsXG5cdCAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcyxcblx0ICBhYnN0cmFjdDogdHJ1ZSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkge1xuXHQgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdDtcblx0ICAgIGlmICghY2hpbGRyZW4pIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcblx0ICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRhZzsgfSk7XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHRcblx0ICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHNcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudC4gVXNlICcgK1xuXHQgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsXG5cdCAgICAgICAgdGhpcy4kcGFyZW50XG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1vZGUgPSB0aGlzLm1vZGU7XG5cdFxuXHQgICAgLy8gd2FybiBpbnZhbGlkIG1vZGVcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG5cdCAgICAgICAgbW9kZSAmJiBtb2RlICE9PSAnaW4tb3V0JyAmJiBtb2RlICE9PSAnb3V0LWluJykge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICdpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAnICsgbW9kZSxcblx0ICAgICAgICB0aGlzLiRwYXJlbnRcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmF3Q2hpbGQgPSBjaGlsZHJlblswXTtcblx0XG5cdCAgICAvLyBpZiB0aGlzIGlzIGEgY29tcG9uZW50IHJvb3Qgbm9kZSBhbmQgdGhlIGNvbXBvbmVudCdzXG5cdCAgICAvLyBwYXJlbnQgY29udGFpbmVyIG5vZGUgYWxzbyBoYXMgdHJhbnNpdGlvbiwgc2tpcC5cblx0ICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkge1xuXHQgICAgICByZXR1cm4gcmF3Q2hpbGRcblx0ICAgIH1cblx0XG5cdCAgICAvLyBhcHBseSB0cmFuc2l0aW9uIGRhdGEgdG8gY2hpbGRcblx0ICAgIC8vIHVzZSBnZXRSZWFsQ2hpbGQoKSB0byBpZ25vcmUgYWJzdHJhY3QgY29tcG9uZW50cyBlLmcuIGtlZXAtYWxpdmVcblx0ICAgIHZhciBjaGlsZCA9IGdldFJlYWxDaGlsZChyYXdDaGlsZCk7XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgIGlmICghY2hpbGQpIHtcblx0ICAgICAgcmV0dXJuIHJhd0NoaWxkXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMuX2xlYXZpbmcpIHtcblx0ICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBrZXkgPSBjaGlsZC5rZXkgPSBjaGlsZC5rZXkgPT0gbnVsbCB8fCBjaGlsZC5pc1N0YXRpY1xuXHQgICAgICA/IChcIl9fdlwiICsgKGNoaWxkLnRhZyArIHRoaXMuX3VpZCkgKyBcIl9fXCIpXG5cdCAgICAgIDogY2hpbGQua2V5O1xuXHQgICAgdmFyIGRhdGEgPSAoY2hpbGQuZGF0YSB8fCAoY2hpbGQuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcblx0ICAgIHZhciBvbGRSYXdDaGlsZCA9IHRoaXMuX3Zub2RlO1xuXHQgICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTtcblx0XG5cdCAgICAvLyBtYXJrIHYtc2hvd1xuXHQgICAgLy8gc28gdGhhdCB0aGUgdHJhbnNpdGlvbiBtb2R1bGUgY2FuIGhhbmQgb3ZlciB0aGUgY29udHJvbCB0byB0aGUgZGlyZWN0aXZlXG5cdCAgICBpZiAoY2hpbGQuZGF0YS5kaXJlY3RpdmVzICYmIGNoaWxkLmRhdGEuZGlyZWN0aXZlcy5zb21lKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfSkpIHtcblx0ICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAob2xkQ2hpbGQgJiYgb2xkQ2hpbGQuZGF0YSAmJiBvbGRDaGlsZC5rZXkgIT09IGtleSkge1xuXHQgICAgICAvLyByZXBsYWNlIG9sZCBjaGlsZCB0cmFuc2l0aW9uIGRhdGEgd2l0aCBmcmVzaCBvbmVcblx0ICAgICAgLy8gaW1wb3J0YW50IGZvciBkeW5hbWljIHRyYW5zaXRpb25zIVxuXHQgICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG5cdFxuXHQgICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXG5cdCAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xuXHQgICAgICAgIC8vIHJldHVybiBwbGFjZWhvbGRlciBub2RlIGFuZCBxdWV1ZSB1cGRhdGUgd2hlbiBsZWF2ZSBmaW5pc2hlc1xuXHQgICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xuXHQgICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdhZnRlckxlYXZlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdGhpcyQxLl9sZWF2aW5nID0gZmFsc2U7XG5cdCAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7XG5cdCAgICAgICAgfSwga2V5KTtcblx0ICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG5cdCAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcpIHtcblx0ICAgICAgICB2YXIgZGVsYXllZExlYXZlO1xuXHQgICAgICAgIHZhciBwZXJmb3JtTGVhdmUgPSBmdW5jdGlvbiAoKSB7IGRlbGF5ZWRMZWF2ZSgpOyB9O1xuXHQgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlLCBrZXkpO1xuXHQgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSwga2V5KTtcblx0ICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnZGVsYXlMZWF2ZScsIGZ1bmN0aW9uIChsZWF2ZSkge1xuXHQgICAgICAgICAgZGVsYXllZExlYXZlID0gbGVhdmU7XG5cdCAgICAgICAgfSwga2V5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByYXdDaGlsZFxuXHQgIH1cblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBsaXN0IGl0ZW1zLlxuXHQvLyBzdXBwb3J0cyBtb3ZlIHRyYW5zaXRpb25zIHVzaW5nIHRoZSBGTElQIHRlY2huaXF1ZS5cblx0XG5cdC8vIEJlY2F1c2UgdGhlIHZkb20ncyBjaGlsZHJlbiB1cGRhdGUgYWxnb3JpdGhtIGlzIFwidW5zdGFibGVcIiAtIGkuZS5cblx0Ly8gaXQgZG9lc24ndCBndWFyYW50ZWUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uaW5nIG9mIHJlbW92ZWQgZWxlbWVudHMsXG5cdC8vIHdlIGZvcmNlIHRyYW5zaXRpb24tZ3JvdXAgdG8gdXBkYXRlIGl0cyBjaGlsZHJlbiBpbnRvIHR3byBwYXNzZXM6XG5cdC8vIGluIHRoZSBmaXJzdCBwYXNzLCB3ZSByZW1vdmUgYWxsIG5vZGVzIHRoYXQgbmVlZCB0byBiZSByZW1vdmVkLFxuXHQvLyB0cmlnZ2VyaW5nIHRoZWlyIGxlYXZpbmcgdHJhbnNpdGlvbjsgaW4gdGhlIHNlY29uZCBwYXNzLCB3ZSBpbnNlcnQvbW92ZVxuXHQvLyBpbnRvIHRoZSBmaW5hbCBkaXNpcmVkIHN0YXRlLiBUaGlzIHdheSBpbiB0aGUgc2Vjb25kIHBhc3MgcmVtb3ZlZFxuXHQvLyBub2RlcyB3aWxsIHJlbWFpbiB3aGVyZSB0aGV5IHNob3VsZCBiZS5cblx0XG5cdHZhciBwcm9wcyA9IGV4dGVuZCh7XG5cdCAgdGFnOiBTdHJpbmcsXG5cdCAgbW92ZUNsYXNzOiBTdHJpbmdcblx0fSwgdHJhbnNpdGlvblByb3BzKTtcblx0XG5cdGRlbGV0ZSBwcm9wcy5tb2RlO1xuXHRcblx0dmFyIFRyYW5zaXRpb25Hcm91cCA9IHtcblx0ICBwcm9wczogcHJvcHMsXG5cdFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG5cdCAgICB2YXIgdGFnID0gdGhpcy50YWcgfHwgdGhpcy4kdm5vZGUuZGF0YS50YWcgfHwgJ3NwYW4nO1xuXHQgICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuXHQgICAgdmFyIHJhd0NoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTtcblx0ICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4gPSBbXTtcblx0ICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBjID0gcmF3Q2hpbGRyZW5baV07XG5cdCAgICAgIGlmIChjLnRhZykge1xuXHQgICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7XG5cdCAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xuXHQgICAgICAgICAgbWFwW2Mua2V5XSA9IGNcblx0ICAgICAgICAgIDsoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICAgIHZhciBvcHRzID0gYy5jb21wb25lbnRPcHRpb25zO1xuXHQgICAgICAgICAgdmFyIG5hbWUgPSBvcHRzXG5cdCAgICAgICAgICAgID8gKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpXG5cdCAgICAgICAgICAgIDogYy50YWc7XG5cdCAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJldkNoaWxkcmVuKSB7XG5cdCAgICAgIHZhciBrZXB0ID0gW107XG5cdCAgICAgIHZhciByZW1vdmVkID0gW107XG5cdCAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkkMSsrKSB7XG5cdCAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuXHQgICAgICAgIGMkMS5kYXRhLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcblx0ICAgICAgICBjJDEuZGF0YS5wb3MgPSBjJDEuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQgICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcblx0ICAgICAgICAgIGtlcHQucHVzaChjJDEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuXHQgICAgICB0aGlzLnJlbW92ZWQgPSByZW1vdmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBoKHRhZywgbnVsbCwgY2hpbGRyZW4pXG5cdCAgfSxcblx0XG5cdCAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVVcGRhdGUgKCkge1xuXHQgICAgLy8gZm9yY2UgcmVtb3ZpbmcgcGFzc1xuXHQgICAgdGhpcy5fX3BhdGNoX18oXG5cdCAgICAgIHRoaXMuX3Zub2RlLFxuXHQgICAgICB0aGlzLmtlcHQsXG5cdCAgICAgIGZhbHNlLCAvLyBoeWRyYXRpbmdcblx0ICAgICAgdHJ1ZSAvLyByZW1vdmVPbmx5ICghaW1wb3J0YW50LCBhdm9pZHMgdW5uZWNlc3NhcnkgbW92ZXMpXG5cdCAgICApO1xuXHQgICAgdGhpcy5fdm5vZGUgPSB0aGlzLmtlcHQ7XG5cdCAgfSxcblx0XG5cdCAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCAoKSB7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByZXZDaGlsZHJlbjtcblx0ICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7XG5cdCAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5oYXNNb3ZlKGNoaWxkcmVuWzBdLmVsbSwgbW92ZUNsYXNzKSkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0XG5cdCAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcblx0ICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuXHQgICAgY2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG5cdCAgICBjaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcblx0ICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XG5cdFxuXHQgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXG5cdCAgICB2YXIgZiA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFxuXHQgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgICBpZiAoYy5kYXRhLm1vdmVkKSB7XG5cdCAgICAgICAgdmFyIGVsID0gYy5lbG07XG5cdCAgICAgICAgdmFyIHMgPSBlbC5zdHlsZTtcblx0ICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG5cdCAgICAgICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG5cdCAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGVsLl9tb3ZlQ2IgPSBmdW5jdGlvbiBjYiAoZSkge1xuXHQgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuXHQgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgY2IpO1xuXHQgICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcblx0ICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICBoYXNNb3ZlOiBmdW5jdGlvbiBoYXNNb3ZlIChlbCwgbW92ZUNsYXNzKSB7XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5faGFzTW92ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmVcblx0ICAgICAgfVxuXHQgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG5cdCAgICAgIHZhciBpbmZvID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwpO1xuXHQgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG5cdCAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzIChjKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGMuZWxtLl9tb3ZlQ2IpIHtcblx0ICAgIGMuZWxtLl9tb3ZlQ2IoKTtcblx0ICB9XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGMuZWxtLl9lbnRlckNiKSB7XG5cdCAgICBjLmVsbS5fZW50ZXJDYigpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24gKGMpIHtcblx0ICBjLmRhdGEubmV3UG9zID0gYy5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24gKGMpIHtcblx0ICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcblx0ICB2YXIgbmV3UG9zID0gYy5kYXRhLm5ld1Bvcztcblx0ICB2YXIgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xuXHQgIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuXHQgIGlmIChkeCB8fCBkeSkge1xuXHQgICAgYy5kYXRhLm1vdmVkID0gdHJ1ZTtcblx0ICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG5cdCAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyBkeCArIFwicHgsXCIgKyBkeSArIFwicHgpXCI7XG5cdCAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuXHQgIFRyYW5zaXRpb246IFRyYW5zaXRpb24sXG5cdCAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXBcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gaW5zdGFsbCBwbGF0Zm9ybSBzcGVjaWZpYyB1dGlsc1xuXHRWdWUkMi5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XG5cdFZ1ZSQyLmNvbmZpZy5pc1Jlc2VydmVkVGFnID0gaXNSZXNlcnZlZFRhZztcblx0VnVlJDIuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTtcblx0VnVlJDIuY29uZmlnLm11c3RVc2VQcm9wID0gbXVzdFVzZVByb3A7XG5cdFxuXHQvLyBpbnN0YWxsIHBsYXRmb3JtIHJ1bnRpbWUgZGlyZWN0aXZlcyAmIGNvbXBvbmVudHNcblx0ZXh0ZW5kKFZ1ZSQyLm9wdGlvbnMuZGlyZWN0aXZlcywgcGxhdGZvcm1EaXJlY3RpdmVzKTtcblx0ZXh0ZW5kKFZ1ZSQyLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblx0XG5cdC8vIGluc3RhbGwgcGxhdGZvcm0gcGF0Y2ggZnVuY3Rpb25cblx0VnVlJDIucHJvdG90eXBlLl9fcGF0Y2hfXyA9IGluQnJvd3NlciA/IHBhdGNoJDEgOiBub29wO1xuXHRcblx0Ly8gd3JhcCBtb3VudFxuXHRWdWUkMi5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuXHQgIGVsLFxuXHQgIGh5ZHJhdGluZ1xuXHQpIHtcblx0ICBlbCA9IGVsICYmIGluQnJvd3NlciA/IHF1ZXJ5KGVsKSA6IHVuZGVmaW5lZDtcblx0ICByZXR1cm4gdGhpcy5fbW91bnQoZWwsIGh5ZHJhdGluZylcblx0fTtcblx0XG5cdC8vIGRldnRvb2xzIGdsb2JhbCBob29rXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgIGlmIChjb25maWcuZGV2dG9vbHMpIHtcblx0ICAgIGlmIChkZXZ0b29scykge1xuXHQgICAgICBkZXZ0b29scy5lbWl0KCdpbml0JywgVnVlJDIpO1xuXHQgICAgfSBlbHNlIGlmIChcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuXHQgICAgICBpbkJyb3dzZXIgJiYgL0Nocm9tZVxcL1xcZCsvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG5cdCAgICApIHtcblx0ICAgICAgY29uc29sZS5sb2coXG5cdCAgICAgICAgJ0Rvd25sb2FkIHRoZSBWdWUgRGV2dG9vbHMgZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6XFxuJyArXG5cdCAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtZGV2dG9vbHMnXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfVxuXHR9LCAwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVnVlJDI7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRleHBvcnRzLmkoX193ZWJwYWNrX3JlcXVpcmVfXyg3KSwgXCJcIik7XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiZm9vdGVyOmFmdGVyLGhlYWRlcjphZnRlcntjb250ZW50OicgJztkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGh9LmV4cGFuZC15LWVudGVyLWFjdGl2ZSwuZXhwYW5kLXktbGVhdmUtYWN0aXZlLC5tb2RhbC1lbnRlci1hY3RpdmUsLm1vZGFsLWxlYXZlLWFjdGl2ZSwucGxheWVyLW1vcmUtZW50ZXItYWN0aXZlLC5wbGF5ZXItbW9yZS1sZWF2ZS1hY3RpdmV7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzIGVhc2V9LmV4cGFuZC15LWVudGVyLC5leHBhbmQteS1sZWF2ZS1hY3RpdmUsLm1vZGFsLWVudGVyLC5tb2RhbC1sZWF2ZS1hY3RpdmUsLnBsYXllci1tb3JlLWVudGVyLC5wbGF5ZXItbW9yZS1sZWF2ZS1hY3RpdmV7dHJhbnNmb3JtOnNjYWxlWSgwKX0ucGxheWVyLW1vcmUtZW50ZXIsLnBsYXllci1tb3JlLWVudGVyLWFjdGl2ZSwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyIHRvcH0jYm9keSwuYXBwLGJvZHksaHRtbHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowfWJvZHl7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MThweH0qe2JveC1zaXppbmc6Ym9yZGVyLWJveH0uYXBwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufWZvb3RlcixoZWFkZXJ7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMyYTcyYmJ9Zm9vdGVyIC5sZWZ0LGhlYWRlciAubGVmdHtmbG9hdDpsZWZ0fWZvb3RlciAucmlnaHQsaGVhZGVyIC5yaWdodHtmbG9hdDpyaWdodH1mb290ZXIgLmNlbnRlcixoZWFkZXIgLmNlbnRlcnttYXJnaW46YXV0bzt0ZXh0LWFsaWduOmNlbnRlcn1mb290ZXIgLm1vYmlsZS1yb3csaGVhZGVyIC5tb2JpbGUtcm93e2Rpc3BsYXk6aW5saW5lLWJsb2NrfUBtZWRpYSAobWF4LXdpZHRoOjU0MHB4KXtmb290ZXIgLm1vYmlsZS1yb3csaGVhZGVyIC5tb2JpbGUtcm93e3BhZGRpbmctYm90dG9tOjEwcHg7ZGlzcGxheTpibG9ja31mb290ZXIgLm1vYmlsZS1yb3c6bGFzdC1jaGlsZCxoZWFkZXIgLm1vYmlsZS1yb3c6bGFzdC1jaGlsZHtwYWRkaW5nLWJvdHRvbTowfX0ubHlyaWMtZWRpdG9yey1tcy1mbGV4OjE7ZmxleDoxO292ZXJmbG93OmF1dG99LmZvcm0tZ3JvdXB7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo1cHggMDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5mb3JtLWdyb3VwIGxhYmVse3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtwYWRkaW5nLXJpZ2h0OjEwcHh9LmZvcm0tZ3JvdXAgaW5wdXR7LW1zLWZsZXg6MTtmbGV4OjE7aGVpZ2h0OjMwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O3BhZGRpbmc6MCAzcHg7Ym9yZGVyLXJhZGl1czo1cHh9Lm1lbnUtaXRlbXtkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojZmZmO2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHg7cGFkZGluZzowIDhweDtjdXJzb3I6cG9pbnRlcn0ubWVudS1pdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzIxNTk5MX0uYnRue2JvcmRlci1yYWRpdXM6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6NnB4O2ZvbnQtd2VpZ2h0OmJvbGRlcjtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZDojMTE2MWIzO2NvbG9yOiNmZmZ9LmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMxMjRiODZ9LmJ0bi53aGl0ZSxmb290ZXIgLmJ0bixoZWFkZXIgLmJ0bntiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzExNjFiM30uYnRuLndoaXRlOmhvdmVyLGZvb3RlciAuYnRuOmhvdmVyLGhlYWRlciAuYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2U4ZTFlMX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuXHQqL1xuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBsaXN0ID0gW107XG5cdFxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0XHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XG5cdFx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcblx0XHR9O1xuXHRcblx0XHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gbGlzdDtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBmb250LWZhY2V7Zm9udC1mYW1pbHk6Zm9udGVsbG87c3JjOnVybChcIiArIF9fd2VicGFja19yZXF1aXJlX18oOCkgKyBcIik7c3JjOnVybChcIiArIF9fd2VicGFja19yZXF1aXJlX18oOCkgKyBcIiNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChcIiArIF9fd2VicGFja19yZXF1aXJlX18oOSkgKyBcIikgZm9ybWF0KCd3b2ZmMicpLHVybChcIiArIF9fd2VicGFja19yZXF1aXJlX18oMTApICsgXCIpIGZvcm1hdCgnd29mZicpLHVybChcIiArIF9fd2VicGFja19yZXF1aXJlX18oMTEpICsgXCIpIGZvcm1hdCgndHJ1ZXR5cGUnKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSArIFwiI2ZvbnRlbGxvKSBmb3JtYXQoJ3N2ZycpO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXN0eWxlOm5vcm1hbH1bY2xhc3MqPVxcXCIgaWNvbi1cXFwiXTpiZWZvcmUsW2NsYXNzXj1pY29uLV06YmVmb3Jle2ZvbnQtZmFtaWx5OmZvbnRlbGxvO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjQwMDtzcGVhazpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3dpZHRoOjFlbTttYXJnaW4tcmlnaHQ6LjJlbTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXZhcmlhbnQ6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7bGluZS1oZWlnaHQ6MWVtO21hcmdpbi1sZWZ0Oi4yZW07LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGV9Lmljb24tZWRpdDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDAnfS5pY29uLXNhdmU6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAxJ30uaWNvbi10cmFzaDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDInfS5pY29uLWRvd25sb2FkOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMyd9Lmljb24tdXBsb2FkOmJlZm9yZXtjb250ZW50OidcXFxcRTgwNCd9Lmljb24tcmlnaHQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA1J30uaWNvbi1sZWZ0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwNid9Lmljb24tdXA6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA3J30uaWNvbi1kb3duOmJlZm9yZXtjb250ZW50OidcXFxcRTgwOCd9Lmljb24tdm9sdW1lLW9mZjpiZWZvcmV7Y29udGVudDonXFxcXEU4MDknfS5pY29uLXZvbHVtZS11cDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEEnfS5pY29uLXBsdXM6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBEJ30uaWNvbi1jYW5jZWw6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBFJ30uaWNvbi1lbGxpcHNpcy12ZXJ0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwRid9Lmljb24taW5mbzpiZWZvcmV7Y29udGVudDonXFxcXEU4MTAnfS5pY29uLWhlbHAtY2lyY2xlZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTEnfS5pY29uLXBsYXk6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODEyJ30uaWNvbi1wYXVzZTpiZWZvcmV7Y29udGVudDonXFxcXEU4MTMnfS5pY29uLWZvcndhcmQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODE0J30uaWNvbi1iYWNrd2FyZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTUnfS5pY29uLXN0b3A6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODE2J31cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiMmJiNGFlMDgwODRiN2E5MDBiZmUxYzcwM2M5ODhmMzQuZW90XCI7XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiZjMxM2EwZjk4NzY3MmRjNzdhOGMyNDMzODBlMjA4OWUud29mZjJcIjtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiNGNjOTMwMTYzZjZkNTA4OGRmYTVmZWY2MTlkODdjYjkud29mZlwiO1xuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJiNDgzNTQ0MzAzZmNmYzdlMWUzNDE1OWE0MTFmY2RjYi50dGZcIjtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiZjQwMzdmOGQxNmY0MzM3OWIxODAyMDcwNmJkYzk1Njcuc3ZnXCI7XG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Lypcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcblx0Ki9cblx0dmFyIHN0eWxlc0luRG9tID0ge30sXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0XHR2YXIgbWVtbztcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdHJldHVybiBtZW1vO1xuXHRcdFx0fTtcblx0XHR9LFxuXHRcdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuXHRcdH0pLFxuXHRcdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG5cdFx0fSksXG5cdFx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRcdGlmKGZhbHNlKSB7XG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0XHR9XG5cdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblx0XG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXHRcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xuXHRcdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cdFxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuXHRcdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdFx0fVxuXHRcdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xuXHRcdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXG5cdFx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XG5cdFx0dmFyIHN0eWxlcyA9IFtdO1xuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXHRcdFx0aWYoIW5ld1N0eWxlc1tpZF0pXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHN0eWxlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcblx0XHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0XHRcdH1cblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuXHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcblx0XHRpZihpZHggPj0gMCkge1xuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuXHRcdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG5cdFx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cdFxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHR1cGRhdGUob2JqKTtcblx0XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuXHRcdFx0aWYobmV3T2JqKSB7XG5cdFx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XG5cdFxuXHRcdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0XHR9O1xuXHR9KSgpO1xuXHRcblx0ZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblx0XG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XG5cdFx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXHRcblx0XHRpZiAobWVkaWEpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG5cdFx0fVxuXHRcblx0XHRpZiAoc291cmNlTWFwKSB7XG5cdFx0XHQvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RldnRvb2xzL2RvY3MvamF2YXNjcmlwdC1kZWJ1Z2dpbmdcblx0XHRcdC8vIHRoaXMgbWFrZXMgc291cmNlIG1hcHMgaW5zaWRlIHN0eWxlIHRhZ3Mgd29yayBwcm9wZXJseSBpbiBDaHJvbWVcblx0XHRcdGNzcyArPSAnXFxuLyojIHNvdXJjZVVSTD0nICsgc291cmNlTWFwLnNvdXJjZXNbMF0gKyAnICovJztcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdFx0fVxuXHRcblx0XHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG5cdFx0XHR9XG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdFx0fVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX3VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGxvYWQpO1xuXHRcblx0dmFyIF9wbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfcGxheWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYXllcik7XG5cdFxuXHR2YXIgX2x5cmljRWRpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX2x5cmljRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2x5cmljRWRpdG9yKTtcblx0XG5cdHZhciBfbW9kYWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdFxuXHR2YXIgX21vZGFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2RhbHMpO1xuXHRcblx0dmFyIF9uYXZNZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX25hdk1lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbmF2TWVudSk7XG5cdFxuXHR2YXIgX2xyY0tpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICB2YXIgbHJjRm9ybWF0ID0gX2NhY2hlMi5kZWZhdWx0LmxyY0Zvcm1hdDtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBtdXNpY1VybDogJycsXG5cdCAgICAgIGVkaXRpbmc6IF9jYWNoZTIuZGVmYXVsdC5lZGl0aW5nLFxuXHRcblx0ICAgICAgbHJjRm9ybWF0OiBscmNGb3JtYXQsXG5cdCAgICAgIHJ1bm5lcjogbmV3IF9scmNLaXQuUnVubmVyKF9scmNLaXQuTHJjLnBhcnNlKGxyY0Zvcm1hdCkpLFxuXHQgICAgICBseXJpY0FycmF5OiBfY2FjaGUyLmRlZmF1bHQubHlyaWNBcnJheVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICB1cGxvYWRNdXNpYzogZnVuY3Rpb24gdXBsb2FkTXVzaWMobXVzaWMpIHtcblx0ICAgICAgLy8gY2FjaGUubXVzaWMgPSBtdXNpY1xuXHQgICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmMgPSBtdXNpYztcblx0ICAgIH0sXG5cdCAgICByZW1vdmVMeXJpYzogZnVuY3Rpb24gcmVtb3ZlTHlyaWMoKSB7XG5cdCAgICAgIHRoaXMubHJjRm9ybWF0ID0gJyc7XG5cdCAgICAgIHRoaXMubHlyaWNBcnJheSA9IFtdO1xuXHQgICAgICB0aGlzLnJ1bm5lciA9IG5ldyBfbHJjS2l0LlJ1bm5lcigpO1xuXHQgICAgfSxcblx0ICAgIHBsYXl0bzogZnVuY3Rpb24gcGxheXRvKHRpbWUpIHtcblx0ICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheXRvKHRpbWUpO1xuXHQgICAgfSxcblx0ICAgIHRpbWV1cGRhdGU6IGZ1bmN0aW9uIHRpbWV1cGRhdGUodGltZXN0YW1wKSB7XG5cdCAgICAgIHRoaXMuJHJlZnMubHlyaWMuJGVtaXQoJ3RpbWV1cGRhdGUnLCB0aW1lc3RhbXApO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgd2F0Y2g6IHtcblx0ICAgIGVkaXRpbmc6IGZ1bmN0aW9uIGVkaXRpbmcodmFsKSB7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC5lZGl0aW5nID0gdmFsO1xuXHQgICAgfSxcblx0ICAgIGxyY0Zvcm1hdDogZnVuY3Rpb24gbHJjRm9ybWF0KHZhbCkge1xuXHQgICAgICBfY2FjaGUyLmRlZmF1bHQubHJjRm9ybWF0ID0gdmFsO1xuXHQgICAgICB0aGlzLnJ1bm5lciA9IG5ldyBfbHJjS2l0LlJ1bm5lcihfbHJjS2l0LkxyYy5wYXJzZSh0aGlzLmxyY0Zvcm1hdCkpO1xuXHQgICAgfSxcblx0XG5cdCAgICBseXJpY0FycmF5OiB7XG5cdCAgICAgIGRlZXA6IHRydWUsXG5cdCAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG5cdCAgICAgICAgX2NhY2hlMi5kZWZhdWx0Lmx5cmljQXJyYXkgPSB0aGlzLmx5cmljQXJyYXk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFVwbG9hZDogX3VwbG9hZDIuZGVmYXVsdCxcblx0ICAgIFBsYXllcjogX3BsYXllcjIuZGVmYXVsdCxcblx0ICAgIEx5cmljRWRpdG9yOiBfbHlyaWNFZGl0b3IyLmRlZmF1bHQsXG5cdCAgICBNb2RhbHM6IF9tb2RhbHMyLmRlZmF1bHQsXG5cdCAgICAvLyBNZW51LFxuXHQgICAgTmF2TWVudTogX25hdk1lbnUyLmRlZmF1bHRcblx0ICB9XG5cdH07XG5cdC8vIGltcG9ydCBNZW51IGZyb20gJy4vbWVudSdcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtMjcwMjQxMjNcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJpbnB1dFt0eXBlPWZpbGVdW2RhdGEtdi0yNzAyNDEyM117ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgdXBsb2FkID0gdGhpcy4kcmVmcy51cGxvYWQ7XG5cdCAgICB1cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAodXBsb2FkLmZpbGVzLmxlbmd0aCA+IDAgJiYgX3RoaXMudHlwZV9tYXRjaCgpKSB7XG5cdCAgICAgICAgaWYgKF90aGlzLnJlYWRGb3JtYXQgPT09ICd1cmwnKSB7XG5cdCAgICAgICAgICBfdGhpcy4kZW1pdCgndXBsb2FkJywgVVJMLmNyZWF0ZU9iamVjdFVSTCh1cGxvYWQuZmlsZXNbMF0pKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdCAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGxvYWQnLCBldmVudC50YXJnZXQucmVzdWx0KTtcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICByZWFkZXJbJ3JlYWRBcycgKyBfdGhpcy5yZWFkRm9ybWF0XSh1cGxvYWQuZmlsZXNbMF0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBwcm9wczoge1xuXHQgICAgdHlwZToge1xuXHQgICAgICB0eXBlOiBTdHJpbmdcblx0ICAgIH0sXG5cdCAgICByZWFkRm9ybWF0OiB7XG5cdCAgICAgIHR5cGU6IFN0cmluZyxcblx0ICAgICAgZGVmYXVsdDogJ1RleHQnXG5cdCAgICB9LFxuXHQgICAgYWNjZXB0OiB7XG5cdCAgICAgIHR5cGU6IFN0cmluZyxcblx0ICAgICAgZGVmYXVsdDogJydcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKCkge1xuXHQgICAgICB0aGlzLiRyZWZzLnVwbG9hZC5jbGljaygpO1xuXHQgICAgfSxcblx0ICAgIHR5cGVfbWF0Y2g6IGZ1bmN0aW9uIHR5cGVfbWF0Y2goKSB7XG5cdCAgICAgIGlmICh0aGlzLnR5cGUpIHtcblx0ICAgICAgICB2YXIgbWF0Y2ggPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMudHlwZSArICcvJyk7XG5cdCAgICAgICAgcmV0dXJuIG1hdGNoLnRlc3QodGhpcy4kcmVmcy51cGxvYWQuZmlsZXNbMF0udHlwZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0udXBsb2FkXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcblx0ICB9KSwgXCIgXCIsIF92bS5fdChcImRlZmF1bHRcIiksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuXHQgICAgcmVmOiBcInVwbG9hZFwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0eXBlXCI6IFwiZmlsZVwiLFxuXHQgICAgICBcImFjY2VwdFwiOiBfdm0uYWNjZXB0XG5cdCAgICB9XG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMSlcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTliMjk0M2ZhXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnJvb3RbZGF0YS12LTliMjk0M2ZhXXtoZWlnaHQ6MzBweH0ucm9vdC5tb2JpbGVbZGF0YS12LTliMjk0M2ZhXXtoZWlnaHQ6NjBweH0ubW9yZVtkYXRhLXYtOWIyOTQzZmFdLC5wbGF5ZXJbZGF0YS12LTliMjk0M2ZhXSwuc291bmRbZGF0YS12LTliMjk0M2ZhXXtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6anVzdGlmeTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ubW9yZVtkYXRhLXYtOWIyOTQzZmFdLC5wbGF5ZXJbZGF0YS12LTliMjk0M2ZhXXtiYWNrZ3JvdW5kOiNkMGRhZTQ7Y29sb3I6IzJhNzJiYjtoZWlnaHQ6MzBweH0uY3RybC1idG5bZGF0YS12LTliMjk0M2ZhXXtmb250LXNpemU6MjBweDtwYWRkaW5nOjAgMXB4fS5yYW5nZVtkYXRhLXYtOWIyOTQzZmFde21hcmdpbi1sZWZ0OjRweDttYXJnaW4tcmlnaHQ6NHB4fS5yYW5nZS5tdXNpY1tkYXRhLXYtOWIyOTQzZmFdey1tcy1mbGV4OjE7ZmxleDoxfXRpbWUtcGFuZWxbZGF0YS12LTliMjk0M2ZhXXtwYWRkaW5nOjAgNXB4fS5tb3JlW2RhdGEtdi05YjI5NDNmYV17aGVpZ2h0OjMwcHg7LW1zLWZsZXgtcGFjazplbmQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MTB9Lm1vYmlsZSAubW9yZVtkYXRhLXYtOWIyOTQzZmFdey1tcy1mbGV4LXBhY2s6anVzdGlmeTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uc291bmRbZGF0YS12LTliMjk0M2ZhXXtwYWRkaW5nOjAgNXB4O3dpZHRoOjMwJX0uc291bmQgLnJhbmdlLnZvbHVtZVtkYXRhLXYtOWIyOTQzZmFdey1tcy1mbGV4OjE7ZmxleDoxfS5zb3VuZCAuY3RybC1tdXRlLWJ0bltkYXRhLXYtOWIyOTQzZmFde3dpZHRoOjI2cHg7Zm9udC1zaXplOjE4cHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yYW5nZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9yYW5nZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYW5nZSk7XG5cdFxuXHR2YXIgX3RpbWVQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHRcblx0dmFyIF90aW1lUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZVBhbmVsKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGhvdmVyOiBmYWxzZSxcblx0ICAgICAgaXNNb2JpbGU6IF91dGlscy5pc01vYmlsZSxcblx0XG5cdCAgICAgIHByb2Nlc3M6IDAsXG5cdCAgICAgIG11dGVkOiBmYWxzZSxcblx0ICAgICAgcGF1c2VkOiB0cnVlLFxuXHQgICAgICBjdXJyZW50VGltZTogMCxcblx0ICAgICAgZHVyYXRpb246IDAsXG5cdCAgICAgIHZvbHVtZTogMCxcblx0ICAgICAgc3JjOiAnJyxcblx0ICAgICAgYXVkaW86IG51bGxcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgc2VlazogZnVuY3Rpb24gc2VlayhwZXJjZW50KSB7XG5cdCAgICAgIHRoaXMucGxheXRvKHBhcnNlRmxvYXQocGVyY2VudCAqIHRoaXMuYXVkaW8uZHVyYXRpb24pKTtcblx0ICAgIH0sXG5cdCAgICB2b2x1bWVTZWVrOiBmdW5jdGlvbiB2b2x1bWVTZWVrKHBlcmNlbnQpIHtcblx0ICAgICAgdGhpcy5hdWRpby52b2x1bWUgPSB0aGlzLnZvbHVtZSA9IHBlcmNlbnQ7XG5cdCAgICB9LFxuXHQgICAgcGxheXRvOiBmdW5jdGlvbiBwbGF5dG8odGltZSkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBVc2luZyBgbmV4dFRpY2tgXG5cdCAgICAgIC8vIEEgYnVnIG9uIGNocm9tZSwgZGF0YVVSTCBtdXNpYyB3aWxsIG92ZXJsYXAgcGxheSB3aGVuIGNoYW5nZSBjdXJyZW50VGltZSBiZWZvcmUgY2FsbCBgYXVkaW8ucGxheSgpYFxuXHQgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMuY3VycmVudFRpbWUgPSBfdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IHRpbWU7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXHQgICAgdGhpcy5hdWRpby5wcmVsb2FkID0gJ21ldGFkYXRhJztcblx0ICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZHVyYXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5kdXJhdGlvbiA9IF90aGlzMi5hdWRpby5kdXJhdGlvbjtcblx0ICAgIH0pO1xuXHQgICAgLy8gVE9ETyBvbiBwcm9ncmVzc1xuXHQgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIuY3VycmVudFRpbWUgPSBfdGhpczIuYXVkaW8uY3VycmVudFRpbWU7XG5cdCAgICAgIF90aGlzMi5wcm9jZXNzID0gX3RoaXMyLmN1cnJlbnRUaW1lIC8gX3RoaXMyLmR1cmF0aW9uO1xuXHQgICAgICBfdGhpczIuJGVtaXQoJ3RpbWV1cGRhdGUnLCBfdGhpczIuY3VycmVudFRpbWUpO1xuXHQgICAgfSk7XG5cdCAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIuJGVtaXQoJ3RpbWV1cGRhdGUnLCBfdGhpczIuY3VycmVudFRpbWUpO1xuXHQgICAgICBfdGhpczIucHJvY2VzcyA9IDA7XG5cdCAgICAgIF90aGlzMi5wYXVzZWQgPSB0cnVlO1xuXHQgICAgfSk7XG5cdCAgICBfdXRpbHMuZ2xvYmFsS2V5ZG93bi5vbihbJ3NwYWNlJywgJyAnXSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIucGF1c2VkID0gIV90aGlzMi5wYXVzZWQ7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0pLm9uKCdhcnJvd2xlZnQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi4kZW1pdCgnYmFja3dhcmQnKTtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSkub24oJ2Fycm93cmlnaHQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi4kZW1pdCgnZm9yd2FyZCcpO1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICB0aGlzLiRvbignYmFja3dhcmQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5wbGF5dG8oX3RoaXMyLmF1ZGlvLmN1cnJlbnRUaW1lIC0gNSk7XG5cdCAgICB9KS4kb24oJ2ZvcndhcmQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5wbGF5dG8oX3RoaXMyLmF1ZGlvLmN1cnJlbnRUaW1lICsgNSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICB3YXRjaDoge1xuXHQgICAgc3JjOiB7XG5cdCAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihzcmMpIHtcblx0ICAgICAgICBpZiAoc3JjKSB7XG5cdCAgICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG5cdCAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHNyYztcblx0ICAgICAgICAgIHRoaXMucHJvY2VzcyA9IDA7XG5cdCAgICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuYXVkaW8udm9sdW1lO1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWU7XG5cdCAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5hdWRpby5kdXJhdGlvbjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKHZhbCkge1xuXHQgICAgICB0aGlzLiRyZWZzLm11c2ljUmFuZ2UuY2hhbmdlVmFsdWUodmFsKTtcblx0ICAgIH0sXG5cdCAgICB2b2x1bWU6IGZ1bmN0aW9uIHZvbHVtZSh2YWwpIHtcblx0ICAgICAgdGhpcy4kcmVmcy5zb3VuZFJhbmdlLmNoYW5nZVZhbHVlKHZhbCk7XG5cdCAgICB9LFxuXHQgICAgbXV0ZWQ6IGZ1bmN0aW9uIG11dGVkKHZhbCkge1xuXHQgICAgICB0aGlzLmF1ZGlvLm11dGVkID0gdmFsO1xuXHQgICAgfSxcblx0ICAgIHBhdXNlZDogZnVuY3Rpb24gcGF1c2VkKCkge1xuXHQgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFJhbmdlOiBfcmFuZ2UyLmRlZmF1bHQsXG5cdCAgICBUaW1lUGFuZWw6IF90aW1lUGFuZWwyLmRlZmF1bHRcblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNSlcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTUwYmI1MzBiXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9yYW5nZS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5iYXJbZGF0YS12LTUwYmI1MzBiXXtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTBweH0ud3JhcFtkYXRhLXYtNTBiYjUzMGJde3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTIzYjVkO2JvcmRlci1yYWRpdXM6NXB4O292ZXJmbG93OmhpZGRlbn0udmFsdWVbZGF0YS12LTUwYmI1MzBiXXtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMyYTcyYmJ9LnRodW1iW2RhdGEtdi01MGJiNTMwYl17Y3Vyc29yOm1vdmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0zcHg7d2lkdGg6MTBweDtoZWlnaHQ6MTZweDtiYWNrZ3JvdW5kOiNmZmY7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggNXB4IC0ycHggIzBiMjAzMTtib3JkZXItcmFkaXVzOjE2cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzZWxmVmFsdWU6IDAsXG5cdCAgICAgIGRyYWdpbmc6IGZhbHNlLFxuXHQgICAgICBkcmFnVmFsdWU6IDBcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIHZhbHVlOiB7XG5cdCAgICAgIHR5cGU6IE51bWJlcixcblx0ICAgICAgZGVmYXVsdDogMCxcblx0ICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbCA+PSAwICYmIHZhbCA8PSAxO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtZXRob2RzOiB7XG5cdCAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZXZlbnQpIHtcblx0ICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy4kcmVmcy50aHVtYikge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNlbGZWYWx1ZSA9IHRoaXMub2Zmc2V0MnZhbHVlKGV2ZW50Lm9mZnNldFgpO1xuXHQgICAgICB0aGlzLmVtaXRTZWVrKCk7XG5cdCAgICB9LFxuXHQgICAgZW1pdFNlZWs6IGZ1bmN0aW9uIGVtaXRTZWVrKCkge1xuXHQgICAgICB0aGlzLiRlbWl0KCdzZWVrJywgdGhpcy5zZWxmVmFsdWUpO1xuXHQgICAgfSxcblx0ICAgIGVtaXREcmFnU2VlazogZnVuY3Rpb24gZW1pdERyYWdTZWVrKCkge1xuXHQgICAgICB0aGlzLiRlbWl0KCdkcmFnLXNlZWsnLCB0aGlzLnNlbGZWYWx1ZSk7XG5cdCAgICB9LFxuXHQgICAgb2Zmc2V0MnZhbHVlOiBmdW5jdGlvbiBvZmZzZXQydmFsdWUob2Zmc2V0KSB7XG5cdCAgICAgIHJldHVybiBvZmZzZXQgLyB0aGlzLiRyZWZzLmJhci5jbGllbnRXaWR0aDtcblx0ICAgIH0sXG5cdCAgICBjaGFuZ2VWYWx1ZTogZnVuY3Rpb24gY2hhbmdlVmFsdWUodmFsdWUpIHtcblx0ICAgICAgaWYgKCF0aGlzLmRyYWdpbmcpIHtcblx0ICAgICAgICB0aGlzLnNlbGZWYWx1ZSA9IHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgdGh1bWIgPSB0aGlzLiRyZWZzLnRodW1iO1xuXHQgICAgdmFyIGJhciA9IHRoaXMuJHJlZnMuYmFyO1xuXHRcblx0ICAgIHZhciBkcmFnZ2VyID0gbmV3IF91dGlscy5EcmFnZ2VyKHRodW1iLCBiYXIpO1xuXHQgICAgZHJhZ2dlci5vbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLmRyYWdpbmcgPSB0cnVlO1xuXHQgICAgfSkub24oJ21vdmUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnNlbGZWYWx1ZSA9IF90aGlzLm9mZnNldDJ2YWx1ZShkcmFnZ2VyLm9mZnNldCk7XG5cdCAgICAgIF90aGlzLmVtaXREcmFnU2VlaygpO1xuXHQgICAgfSkub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuZHJhZ2luZyA9IGZhbHNlO1xuXHQgICAgICBfdGhpcy5zZWxmVmFsdWUgPSBfdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpO1xuXHQgICAgICBfdGhpcy5lbWl0U2VlaygpO1xuXHQgICAgfSk7XG5cdCAgICBkcmFnZ2VyLmNyZWF0ZSgpO1xuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Ub29sdGlwUG9zaXRpb24gPSBleHBvcnRzLkRyYWdnZXIgPSBleHBvcnRzLmdsb2JhbEtleWRvd24gPSBleHBvcnRzLmNhY2hlID0gZXhwb3J0cy5DYWNoZSA9IGV4cG9ydHMuRGVsYXlIb3ZlciA9IGV4cG9ydHMuU2Nyb2xsZXIgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IGV4cG9ydHMuaXNNb2JpbGUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXHRcblx0ZXhwb3J0cy5zYXZlTHJjID0gc2F2ZUxyYztcblx0ZXhwb3J0cy50aW1lc3RhbXAydGltZXN0ciA9IHRpbWVzdGFtcDJ0aW1lc3RyO1xuXHRleHBvcnRzLnRpbWVzdHIydGltZXN0YW1wID0gdGltZXN0cjJ0aW1lc3RhbXA7XG5cdFxuXHR2YXIgX2V2ZW50ZW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblx0XG5cdHZhciBfZmlsZXNhdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX2ZpbGVzYXZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWxlc2F2ZXIpO1xuXHRcblx0dmFyIF91bmlkcmFnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX3VuaWRyYWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5pZHJhZ2dlcik7XG5cdFxuXHR2YXIgX2lzX2pzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdFxuXHR2YXIgX2lzX2pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzX2pzKTtcblx0XG5cdHZhciBfZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2V4dGVuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmQpO1xuXHRcblx0dmFyIF9jbG9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9jbG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbG9uZSk7XG5cdFxuXHR2YXIgX3BhY2thZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfcGFja2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWNrYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBpc01vYmlsZSA9IGV4cG9ydHMuaXNNb2JpbGUgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cdFxuXHR2YXIgRXZlbnRFbWl0dGVyID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuXHQgIF9pbmhlcml0cyhFdmVudEVtaXR0ZXIsIF9FdmVudEVtaXR0ZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRFbWl0dGVyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEV2ZW50RW1pdHRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEV2ZW50RW1pdHRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3tcblx0ICAgIGtleTogJ29uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudHMpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKF9pc19qczIuZGVmYXVsdC5hcnJheShldmVudHMpKSB7XG5cdCAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGl0KSB7XG5cdCAgICAgICAgICB2YXIgX2dldDI7XG5cdFxuXHQgICAgICAgICAgKF9nZXQyID0gX2dldChFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSksICdvbicsIF90aGlzMikpLmNhbGwuYXBwbHkoX2dldDIsIFtfdGhpczIsIGl0XS5jb25jYXQoYXJncykpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBfZ2V0Mztcblx0XG5cdCAgICAgICAgKF9nZXQzID0gX2dldChFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSksICdvbicsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQzLCBbdGhpcywgZXZlbnRzXS5jb25jYXQoYXJncykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcblx0fShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblx0XG5cdHZhciBTY3JvbGxlciA9IGV4cG9ydHMuU2Nyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gU2Nyb2xsZXIodmlld3BvcnQpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxlcik7XG5cdFxuXHQgICAgdGhpcy50aW1lciA9IFtdO1xuXHQgICAgdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcblx0XG5cdCAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG5cdCAgICB0aGlzLmNvbmZpZyA9ICgwLCBfZXh0ZW5kMi5kZWZhdWx0KSh7IGRlbGF5OiAzLCB0aW1lOiAxLCBzdGVwOiAxMDAgfSwgY29uZmlnKTtcblx0XG5cdCAgICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKCFfdGhpczMuaXNDYW5TY3JvbGwoKSkge1xuXHQgICAgICAgIF90aGlzMy5sZXREZWxheSgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhTY3JvbGxlciwgW3tcblx0ICAgIGtleTogJ2xldERlbGF5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBsZXREZWxheSgpIHtcblx0ICAgICAgdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lID0gRGF0ZS5ub3coKSArIHRoaXMuY29uZmlnLmRlbGF5ICogMTAwMDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhclRpbWVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuXHQgICAgICB0aGlzLnRpbWVyLmZvckVhY2goZnVuY3Rpb24gKGl0KSB7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpdCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnRpbWVyID0gW107XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNDYW5TY3JvbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2FuU2Nyb2xsKCkge1xuXHQgICAgICByZXR1cm4gRGF0ZS5ub3coKSA+IHRoaXMuc2Nyb2xsYWJsZVN0YXJ0VGltZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzY3JvbGxUbycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG8odGFyZ2V0VG9wKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIGZvcmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblx0XG5cdCAgICAgIGlmICghdGhpcy5pc0NhblNjcm9sbCgpICYmIGZvcmNlID09PSBmYWxzZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcblx0XG5cdCAgICAgIHZhciBzdGFydFRvcCA9IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wO1xuXHQgICAgICB2YXIgZW5kVG9wID0gdGFyZ2V0VG9wO1xuXHQgICAgICB2YXIgZGlmZlRvcCA9IGVuZFRvcCAtIHN0YXJ0VG9wO1xuXHQgICAgICBpZiAoZGlmZlRvcCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHBlclN0ZXAgPSBkaWZmVG9wIC8gdGhpcy5jb25maWcuc3RlcDtcblx0XG5cdCAgICAgIHZhciBjdXJUb3AgPSBzdGFydFRvcDtcblx0ICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLmNvbmZpZy5zdGVwOyArK2kpIHtcblx0ICAgICAgICAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIF90aGlzNC50aW1lci5wdXNoKHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAoY3VyVG9wICE9PSBfdGhpczQudmlld3BvcnQuc2Nyb2xsVG9wKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXM0LmNsZWFyVGltZXIoKTtcblx0ICAgICAgICAgICAgICBfdGhpczQubGV0RGVsYXkoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBfdGhpczQudmlld3BvcnQuc2Nyb2xsVG9wID0gc3RhcnRUb3AgKyBwZXJTdGVwICogaTtcblx0ICAgICAgICAgICAgICBjdXJUb3AgPSBfdGhpczQudmlld3BvcnQuc2Nyb2xsVG9wO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LCBfdGhpczQuY29uZmlnLnRpbWUgKiAxMDAwICogaSAvIF90aGlzNC5jb25maWcuc3RlcCkpO1xuXHQgICAgICAgIH0pKGkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gU2Nyb2xsZXI7XG5cdH0oKTtcblx0XG5cdHZhciBEZWxheUhvdmVyID0gZXhwb3J0cy5EZWxheUhvdmVyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIyKSB7XG5cdCAgX2luaGVyaXRzKERlbGF5SG92ZXIsIF9FdmVudEVtaXR0ZXIyKTtcblx0XG5cdCAgZnVuY3Rpb24gRGVsYXlIb3ZlcihlbGVtZW50KSB7XG5cdCAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVsYXlIb3Zlcik7XG5cdFxuXHQgICAgdmFyIF90aGlzNSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEZWxheUhvdmVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGVsYXlIb3ZlcikpLmNhbGwodGhpcykpO1xuXHRcblx0ICAgIF90aGlzNS5lbnRlclRpbWVyID0gbnVsbDtcblx0ICAgIF90aGlzNS5sZWF2ZVRpbWVyID0gbnVsbDtcblx0ICAgIF90aGlzNS5zaG93ID0gZmFsc2U7XG5cdFxuXHQgICAgX3RoaXM1LmVsZW1lbnQgPSBlbGVtZW50O1xuXHQgICAgX3RoaXM1LmNmZyA9ICgwLCBfZXh0ZW5kMi5kZWZhdWx0KSh7XG5cdCAgICAgIGVudGVyRGVsYXk6IDAuNSxcblx0ICAgICAgbGVhdmVEZWxheTogMC4zLFxuXHQgICAgICB1bmlxdWU6IHRydWVcblx0ICAgIH0sIGNvbmZpZyk7XG5cdFxuXHQgICAgX3RoaXM1LmhvdmVyKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXM1LnNob3cgPSB0cnVlO1xuXHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczUuc2hvdyA9IGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgaWYgKGlzTW9iaWxlKSB7XG5cdCAgICAgIF90aGlzNS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChfdGhpczUuc2hvdykge1xuXHQgICAgICAgICAgX3RoaXM1LmVtaXQoJ2xlYXZlJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF90aGlzNS5jbG9zZUxhc3RIb3ZlcigpO1xuXHQgICAgICAgICAgX3RoaXM1LmVtaXQoJ2VudGVyJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF90aGlzNS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM1LmNsZWFyTGVhdmVUaW1lcigpO1xuXHQgICAgICAgIF90aGlzNS5lbnRlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpczUuY2xvc2VMYXN0SG92ZXIoKTtcblx0ICAgICAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyID0gX3RoaXM1O1xuXHQgICAgICAgICAgX3RoaXM1LmVtaXQoJ2VudGVyJyk7XG5cdCAgICAgICAgfSwgMTAwMCAqIF90aGlzNS5jZmcuZW50ZXJEZWxheSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBfdGhpczUuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzNS5jbGVhckVudGVyVGltZXIoKTtcblx0ICAgICAgICBfdGhpczUubGVhdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXM1LmVtaXQoJ2xlYXZlJyk7XG5cdCAgICAgICAgfSwgMTAwMCAqIF90aGlzNS5jZmcubGVhdmVEZWxheSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF90aGlzNTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEZWxheUhvdmVyLCBbe1xuXHQgICAga2V5OiAnY2xvc2VMYXN0SG92ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTGFzdEhvdmVyKCkge1xuXHQgICAgICBpZiAodGhpcy5jZmcudW5pcXVlICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyICE9PSB0aGlzKSB7XG5cdCAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIuZW1pdCgnbGVhdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NsZWFyTGVhdmVUaW1lcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJMZWF2ZVRpbWVyKCkge1xuXHQgICAgICBpZiAodGhpcy5sZWF2ZVRpbWVyICE9PSBudWxsKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lcik7XG5cdCAgICAgICAgdGhpcy5sZWF2ZVRpbWVyID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NsZWFyRW50ZXJUaW1lcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJFbnRlclRpbWVyKCkge1xuXHQgICAgICBpZiAodGhpcy5lbnRlclRpbWVyICE9PSBudWxsKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lcik7XG5cdCAgICAgICAgdGhpcy5lbnRlclRpbWVyID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hvdmVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBob3ZlcihlbnRlciwgbGVhdmUpIHtcblx0ICAgICAgdGhpcy5vbignZW50ZXInLCBlbnRlcikub24oJ2xlYXZlJywgbGVhdmUpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERlbGF5SG92ZXI7XG5cdH0oRXZlbnRFbWl0dGVyKTtcblx0XG5cdERlbGF5SG92ZXIuTGFzdEhvdmVyID0gbnVsbDtcblx0XG5cdFxuXHR2YXIgaXNGaWxlU2F2ZXJTdXBwb3J0ZWQ7XG5cdHRyeSB7XG5cdCAgaXNGaWxlU2F2ZXJTdXBwb3J0ZWQgPSAhIW5ldyBCbG9iKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0ICBpc0ZpbGVTYXZlclN1cHBvcnRlZCA9IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlTHJjKHN0ciwgbmFtZSkge1xuXHQgIGlmIChpc0ZpbGVTYXZlclN1cHBvcnRlZCkge1xuXHQgICAgX2ZpbGVzYXZlcjIuZGVmYXVsdC5zYXZlQXMobmV3IEJsb2IoW3N0cl0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSksIG5hbWUgKyAnLmxyYycpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBhbGVydCgnUGxlYXNlIHVwZ3JhZGUgeW91ciBicm93c2VyJyk7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgQ2FjaGUgPSBleHBvcnRzLkNhY2hlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIENhY2hlKCkge1xuXHQgICAgdmFyIHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogX3BhY2thZ2UyLmRlZmF1bHQubmFtZTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FjaGUpO1xuXHRcblx0ICAgIHRoaXMudmVyc2lvbiA9IDI7XG5cdFxuXHQgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQ2FjaGUsIFt7XG5cdCAgICBrZXk6ICdyZWFkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkKCkge1xuXHQgICAgICB2YXIgZGF0YTtcblx0ICAgICAgaWYgKHRoaXMucHJlZml4IGluIGxvY2FsU3RvcmFnZSkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZGF0YS4kdmVyc2lvbiA9PT0gdGhpcy52ZXJzaW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHt9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3dyaXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZShkYXRhKSB7XG5cdCAgICAgIGRhdGEuJHZlcnNpb24gPSB0aGlzLnZlcnNpb247XG5cdCAgICAgIGxvY2FsU3RvcmFnZVt0aGlzLnByZWZpeF0gPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMucmVhZCgpO1xuXHQgICAgICByZXR1cm4ga2V5IGluIGRhdGEgPyBkYXRhW2tleV0gOiBkZWZhdWx0VmFsdWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMucmVhZCgpO1xuXHQgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB0aGlzLndyaXRlKGRhdGEpO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENhY2hlO1xuXHR9KCk7XG5cdFxuXHR2YXIgY2FjaGUgPSBleHBvcnRzLmNhY2hlID0gbmV3IENhY2hlKCk7XG5cdFxuXHR2YXIgZ2xvYmFsS2V5ZG93biA9IGV4cG9ydHMuZ2xvYmFsS2V5ZG93biA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICBpZiAoLyhpbnB1dHxzZWxlY3R8b3B0aW9ufHRleHRhcmVhKS8udGVzdChldmVudC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuO1xuXHRcblx0ICB2YXIgY29kZSA9IGV2ZW50LmtleSB8fCBldmVudC5jb2RlO1xuXHQgIHZhciBoYXNGYWxzZSA9IGdsb2JhbEtleWRvd24ubGlzdGVuZXJzKGNvZGUudG9Mb3dlckNhc2UoKSkubWFwKGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIGZuKGV2ZW50KTtcblx0ICB9KS5zb21lKGZ1bmN0aW9uIChmbGFnKSB7XG5cdCAgICByZXR1cm4gZmxhZyA9PT0gZmFsc2U7XG5cdCAgfSk7XG5cdCAgaWYgKGhhc0ZhbHNlKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9KTtcblx0XG5cdHZhciBEcmFnZ2VyID0gZXhwb3J0cy5EcmFnZ2VyID0gZnVuY3Rpb24gKF9VbmlkcmFnZ2VyKSB7XG5cdCAgX2luaGVyaXRzKERyYWdnZXIsIF9VbmlkcmFnZ2VyKTtcblx0XG5cdCAgZnVuY3Rpb24gRHJhZ2dlcihlbGVtLCBjb250YWluZXIpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmFnZ2VyKTtcblx0XG5cdCAgICB2YXIgX3RoaXM2ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERyYWdnZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEcmFnZ2VyKSkuY2FsbCh0aGlzLCBlbGVtKSk7XG5cdFxuXHQgICAgX3RoaXM2LmVlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHQgICAgX3RoaXM2LmVsZW1lbnQgPSBlbGVtO1xuXHQgICAgX3RoaXM2LmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0ICAgIHJldHVybiBfdGhpczY7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRHJhZ2dlciwgW3tcblx0ICAgIGtleTogJ29uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbigpIHtcblx0ICAgICAgdmFyIF9lZTtcblx0XG5cdCAgICAgIHJldHVybiAoX2VlID0gdGhpcy5lZSkub24uYXBwbHkoX2VlLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2VtaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQoKSB7XG5cdCAgICAgIHZhciBfZWUyO1xuXHRcblx0ICAgICAgcmV0dXJuIChfZWUyID0gdGhpcy5lZSkuZW1pdC5hcHBseShfZWUyLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHQgICAgICB0aGlzLmhhbmRsZXMgPSBbdGhpcy5lbGVtZW50XTtcblx0ICAgICAgdGhpcy5iaW5kSGFuZGxlcygpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RyYWdTdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZHJhZ1N0YXJ0KGV2ZW50KSB7XG5cdCAgICAgIHRoaXMuZHJhZ1N0YXJ0UG9pbnQubGVmdCA9IHRoaXMuZWxlbWVudC5vZmZzZXRMZWZ0O1xuXHQgICAgICB0aGlzLmVtaXQoJ3N0YXJ0JywgZXZlbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RyYWdNb3ZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnTW92ZShldmVudCwgcG9pbnRlciwgbW92ZVZlY3Rvcikge1xuXHQgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuZHJhZ1N0YXJ0UG9pbnQubGVmdCArIG1vdmVWZWN0b3IueDtcblx0ICAgICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkge1xuXHQgICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLm9mZnNldCA+IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG5cdCAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aDtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLmVtaXQoJ21vdmUnLCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3Rvcik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhZ0VuZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZHJhZ0VuZChldmVudCwgcG9pbnRlcikge1xuXHQgICAgICB0aGlzLmVtaXQoJ2VuZCcsIGV2ZW50LCBwb2ludGVyKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBEcmFnZ2VyO1xuXHR9KF91bmlkcmFnZ2VyMi5kZWZhdWx0KTtcblx0XG5cdGZ1bmN0aW9uIHRpbWVzdGFtcDJ0aW1lc3RyKHRpbWUpIHtcblx0ICB2YXIgb25seUludGVnZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXHRcblx0ICBpZiAoIXRpbWUpIHtcblx0ICAgIHRpbWUgPSAwO1xuXHQgIH1cblx0ICB2YXIgcGFkWmVybyA9IGZ1bmN0aW9uIHBhZFplcm8obnVtKSB7XG5cdCAgICB2YXIgc2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMjtcblx0XG5cdCAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcblx0ICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSB7XG5cdCAgICAgIG51bSA9ICcwJyArIG51bTtcblx0ICAgIH1yZXR1cm4gbnVtO1xuXHQgIH07XG5cdCAgaWYgKG9ubHlJbnRlZ2VyKSB7XG5cdCAgICByZXR1cm4gcGFkWmVybyhwYXJzZUludCh0aW1lIC8gNjAsIDEwKSkgKyAnOicgKyBwYWRaZXJvKHBhcnNlSW50KHRpbWUgJSA2MCwgMTApKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHBhZFplcm8ocGFyc2VJbnQodGltZSAvIDYwLCAxMCkpICsgJzonICsgcGFkWmVybygodGltZSAlIDYwKS50b0ZpeGVkKDIpLCAyKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRpbWVzdHIydGltZXN0YW1wKHN0cikge1xuXHQgIHZhciBfc3RyJHNwbGl0ID0gc3RyLnNwbGl0KCc6JyksXG5cdCAgICAgIF9zdHIkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3N0ciRzcGxpdCwgMiksXG5cdCAgICAgIG1pbnV0ZSA9IF9zdHIkc3BsaXQyWzBdLFxuXHQgICAgICBzZWNvbmQgPSBfc3RyJHNwbGl0MlsxXTtcblx0XG5cdCAgcmV0dXJuIHBhcnNlSW50KG1pbnV0ZSwgMTApICogNjAgKyBwYXJzZUZsb2F0KHNlY29uZCk7XG5cdH1cblx0XG5cdHZhciBUb29sdGlwUG9zaXRpb24gPSBleHBvcnRzLlRvb2x0aXBQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBUb29sdGlwUG9zaXRpb24odGFyZ2V0LCB0b29sdGlwKSB7XG5cdCAgICB2YXIgZGlyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnYm90dG9tJztcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcFBvc2l0aW9uKTtcblx0XG5cdCAgICB0aGlzLmRpcnMgPSBbJ2JvdHRvbScsICdyaWdodCcsICd0b3AnLCAnbGVmdCddO1xuXHRcblx0ICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHQgICAgdGhpcy50b29sdGlwID0gdG9vbHRpcDtcblx0ICAgIHRoaXMudmlld3BvcnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdCAgICB0aGlzLmdlbmVyYXRlRGlycyhkaXIpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRvb2x0aXBQb3NpdGlvbiwgW3tcblx0ICAgIGtleTogJ2dlbmVyYXRlRGlycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVEaXJzKGRpcikge1xuXHQgICAgICB2YXIgaWR4ID0gdGhpcy5kaXJzLmluZGV4T2YoZGlyKTtcblx0ICAgICAgdGhpcy5kaXJzLnNwbGljZShpZHgsIDEpO1xuXHQgICAgICB0aGlzLmRpcnMudW5zaGlmdChkaXIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NoZWNrUmVjdE92ZXJmbG93Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1JlY3RPdmVyZmxvdyhyZWN0KSB7XG5cdCAgICAgIHJldHVybiByZWN0LmxlZnQgPj0gMCAmJiByZWN0LnRvcCA+PSAwICYmIHJlY3QucmlnaHQgPD0gdGhpcy52aWV3cG9ydC5jbGllbnRXaWR0aCAmJiByZWN0LmJvdHRvbSA8PSB0aGlzLnZpZXdwb3J0LmNsaWVudEhlaWdodDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWN0T3ZlcmZsb3dDb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVjdE92ZXJmbG93Q291bnQocmVjdCkge1xuXHQgICAgICB2YXIgbmVnYXRpdmUgPSBmdW5jdGlvbiBuZWdhdGl2ZSh2YWwpIHtcblx0ICAgICAgICByZXR1cm4gdmFsIDwgMCA/IHZhbCA6IDA7XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiBuZWdhdGl2ZShyZWN0LmxlZnQpICsgbmVnYXRpdmUocmVjdC50b3ApICsgbmVnYXRpdmUodGhpcy52aWV3cG9ydC5jbGllbnRXaWR0aCAtIHJlY3QucmlnaHQpICsgbmVnYXRpdmUodGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQgLSByZWN0LmJvdHRvbSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG9zaXRpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uKCkge1xuXHQgICAgICB2YXIgcmVjdCA9IHRoaXMudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQgICAgICB2YXIgd2lkdGggPSB0aGlzLnRvb2x0aXAuY2xpZW50V2lkdGg7XG5cdCAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnRvb2x0aXAuY2xpZW50SGVpZ2h0O1xuXHRcblx0ICAgICAgdmFyIHRvb2x0aXBSZWN0ID0ge1xuXHQgICAgICAgIHdpZHRoOiB3aWR0aCxcblx0ICAgICAgICBoZWlnaHQ6IGhlaWdodFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIG92ZXJmbG93VmFsdWVzID0gW107XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGlycy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBkaXIgPSB0aGlzLmRpcnNbaV07XG5cdCAgICAgICAgc3dpdGNoICh0aGlzLmRpcnNbaV0pIHtcblx0ICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QucmlnaHQgPSB0b29sdGlwUmVjdC5sZWZ0ICsgd2lkdGg7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QuYm90dG9tO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSByZWN0LmJvdHRvbSArIGhlaWdodDtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlICd0b3AnOlxuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCAtIGhlaWdodDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC50b3A7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSAnbGVmdCc6XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgLSB3aWR0aDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QucmlnaHQgPSByZWN0LmxlZnQ7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gdG9vbHRpcFJlY3QudG9wICsgaGVpZ2h0O1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgJ3JpZ2h0Jzpcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QucmlnaHQ7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5yaWdodCArIHdpZHRoO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHRvb2x0aXBSZWN0LnRvcCArIGhlaWdodDtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdmVyZmxvd1ZhbHVlcy5wdXNoKFt0aGlzLnJlY3RPdmVyZmxvd0NvdW50KHRvb2x0aXBSZWN0KSwgZGlyLCAoMCwgX2Nsb25lMi5kZWZhdWx0KSh0b29sdGlwUmVjdCldKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgb3ZlcmZsb3dWYWx1ZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBiWzBdIC0gYVswXTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGRpcjogb3ZlcmZsb3dWYWx1ZXNbMF1bMV0sXG5cdCAgICAgICAgcmVjdDogb3ZlcmZsb3dWYWx1ZXNbMF1bMl1cblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gVG9vbHRpcFBvc2l0aW9uO1xuXHR9KCk7XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxyXG5cdCAqIEV2ZW50RW1pdHRlcjJcclxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vaGlqMW54L0V2ZW50RW1pdHRlcjJcclxuXHQgKlxyXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMyBoaWoxbnhcclxuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblx0ICovXHJcblx0OyFmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHRcclxuXHQgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSA/IEFycmF5LmlzQXJyYXkgOiBmdW5jdGlvbiBfaXNBcnJheShvYmopIHtcclxuXHQgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XHJcblx0ICB9O1xyXG5cdCAgdmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcclxuXHRcclxuXHQgIGZ1bmN0aW9uIGluaXQoKSB7XHJcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG5cdCAgICBpZiAodGhpcy5fY29uZikge1xyXG5cdCAgICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIHRoaXMuX2NvbmYpO1xyXG5cdCAgICB9XHJcblx0ICB9XHJcblx0XHJcblx0ICBmdW5jdGlvbiBjb25maWd1cmUoY29uZikge1xyXG5cdCAgICBpZiAoY29uZikge1xyXG5cdCAgICAgIHRoaXMuX2NvbmYgPSBjb25mO1xyXG5cdFxyXG5cdCAgICAgIGNvbmYuZGVsaW1pdGVyICYmICh0aGlzLmRlbGltaXRlciA9IGNvbmYuZGVsaW1pdGVyKTtcclxuXHQgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID0gY29uZi5tYXhMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCA/IGNvbmYubWF4TGlzdGVuZXJzIDogZGVmYXVsdE1heExpc3RlbmVycztcclxuXHQgICAgICBjb25mLndpbGRjYXJkICYmICh0aGlzLndpbGRjYXJkID0gY29uZi53aWxkY2FyZCk7XHJcblx0ICAgICAgY29uZi5uZXdMaXN0ZW5lciAmJiAodGhpcy5uZXdMaXN0ZW5lciA9IGNvbmYubmV3TGlzdGVuZXIpO1xyXG5cdCAgICAgIGNvbmYudmVyYm9zZU1lbW9yeUxlYWsgJiYgKHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBjb25mLnZlcmJvc2VNZW1vcnlMZWFrKTtcclxuXHRcclxuXHQgICAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgICAgdGhpcy5saXN0ZW5lclRyZWUgPSB7fTtcclxuXHQgICAgICB9XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHRcclxuXHQgIGZ1bmN0aW9uIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhayhjb3VudCwgZXZlbnROYW1lKSB7XHJcblx0ICAgIHZhciBlcnJvck1zZyA9ICcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcclxuXHQgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xyXG5cdCAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Lic7XHJcblx0XHJcblx0ICAgIGlmKHRoaXMudmVyYm9zZU1lbW9yeUxlYWspe1xyXG5cdCAgICAgIGVycm9yTXNnICs9ICcgRXZlbnQgbmFtZTogJXMuJztcclxuXHQgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnLCBjb3VudCwgZXZlbnROYW1lKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnLCBjb3VudCk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKGNvbnNvbGUudHJhY2Upe1xyXG5cdCAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGNvbmYpIHtcclxuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XHJcblx0ICAgIHRoaXMubmV3TGlzdGVuZXIgPSBmYWxzZTtcclxuXHQgICAgdGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGZhbHNlO1xyXG5cdCAgICBjb25maWd1cmUuY2FsbCh0aGlzLCBjb25mKTtcclxuXHQgIH1cclxuXHQgIEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgZXhwb3J0aW5nIEV2ZW50RW1pdHRlciBwcm9wZXJ0eVxyXG5cdFxyXG5cdCAgLy9cclxuXHQgIC8vIEF0dGVudGlvbiwgZnVuY3Rpb24gcmV0dXJuIHR5cGUgbm93IGlzIGFycmF5LCBhbHdheXMgIVxyXG5cdCAgLy8gSXQgaGFzIHplcm8gZWxlbWVudHMgaWYgbm8gYW55IG1hdGNoZXMgZm91bmQgYW5kIG9uZSBvciBtb3JlXHJcblx0ICAvLyBlbGVtZW50cyAobGVhZnMpIGlmIHRoZXJlIGFyZSBtYXRjaGVzXHJcblx0ICAvL1xyXG5cdCAgZnVuY3Rpb24gc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlLCBpKSB7XHJcblx0ICAgIGlmICghdHJlZSkge1xyXG5cdCAgICAgIHJldHVybiBbXTtcclxuXHQgICAgfVxyXG5cdCAgICB2YXIgbGlzdGVuZXJzPVtdLCBsZWFmLCBsZW4sIGJyYW5jaCwgeFRyZWUsIHh4VHJlZSwgaXNvbGF0ZWRCcmFuY2gsIGVuZFJlYWNoZWQsXHJcblx0ICAgICAgICB0eXBlTGVuZ3RoID0gdHlwZS5sZW5ndGgsIGN1cnJlbnRUeXBlID0gdHlwZVtpXSwgbmV4dFR5cGUgPSB0eXBlW2krMV07XHJcblx0ICAgIGlmIChpID09PSB0eXBlTGVuZ3RoICYmIHRyZWUuX2xpc3RlbmVycykge1xyXG5cdCAgICAgIC8vXHJcblx0ICAgICAgLy8gSWYgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQocykgbGlzdCBhbmQgdGhlIHRyZWUgaGFzIGxpc3RlbmVyc1xyXG5cdCAgICAgIC8vIGludm9rZSB0aG9zZSBsaXN0ZW5lcnMuXHJcblx0ICAgICAgLy9cclxuXHQgICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgaGFuZGxlcnMgJiYgaGFuZGxlcnMucHVzaCh0cmVlLl9saXN0ZW5lcnMpO1xyXG5cdCAgICAgICAgcmV0dXJuIFt0cmVlXTtcclxuXHQgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgZm9yIChsZWFmID0gMCwgbGVuID0gdHJlZS5fbGlzdGVuZXJzLmxlbmd0aDsgbGVhZiA8IGxlbjsgbGVhZisrKSB7XHJcblx0ICAgICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzW2xlYWZdKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBbdHJlZV07XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICgoY3VycmVudFR5cGUgPT09ICcqJyB8fCBjdXJyZW50VHlwZSA9PT0gJyoqJykgfHwgdHJlZVtjdXJyZW50VHlwZV0pIHtcclxuXHQgICAgICAvL1xyXG5cdCAgICAgIC8vIElmIHRoZSBldmVudCBlbWl0dGVkIGlzICcqJyBhdCB0aGlzIHBhcnRcclxuXHQgICAgICAvLyBvciB0aGVyZSBpcyBhIGNvbmNyZXRlIG1hdGNoIGF0IHRoaXMgcGF0Y2hcclxuXHQgICAgICAvL1xyXG5cdCAgICAgIGlmIChjdXJyZW50VHlwZSA9PT0gJyonKSB7XHJcblx0ICAgICAgICBmb3IgKGJyYW5jaCBpbiB0cmVlKSB7XHJcblx0ICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB0cmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuXHQgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKzEpKTtcclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcclxuXHQgICAgICB9IGVsc2UgaWYoY3VycmVudFR5cGUgPT09ICcqKicpIHtcclxuXHQgICAgICAgIGVuZFJlYWNoZWQgPSAoaSsxID09PSB0eXBlTGVuZ3RoIHx8IChpKzIgPT09IHR5cGVMZW5ndGggJiYgbmV4dFR5cGUgPT09ICcqJykpO1xyXG5cdCAgICAgICAgaWYoZW5kUmVhY2hlZCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAgICAgLy8gVGhlIG5leHQgZWxlbWVudCBoYXMgYSBfbGlzdGVuZXJzLCBhZGQgaXQgdG8gdGhlIGhhbmRsZXJzLlxyXG5cdCAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgdHlwZUxlbmd0aCkpO1xyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG5cdCAgICAgICAgICBpZiAoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgdHJlZS5oYXNPd25Qcm9wZXJ0eShicmFuY2gpKSB7XHJcblx0ICAgICAgICAgICAgaWYoYnJhbmNoID09PSAnKicgfHwgYnJhbmNoID09PSAnKionKSB7XHJcblx0ICAgICAgICAgICAgICBpZih0cmVlW2JyYW5jaF0uX2xpc3RlbmVycyAmJiAhZW5kUmVhY2hlZCkge1xyXG5cdCAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCB0eXBlTGVuZ3RoKSk7XHJcblx0ICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmKGJyYW5jaCA9PT0gbmV4dFR5cGUpIHtcclxuXHQgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGkrMikpO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgICAvLyBObyBtYXRjaCBvbiB0aGlzIG9uZSwgc2hpZnQgaW50byB0aGUgdHJlZSBidXQgbm90IGluIHRoZSB0eXBlIGFycmF5LlxyXG5cdCAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSkpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbY3VycmVudFR5cGVdLCBpKzEpKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB4VHJlZSA9IHRyZWVbJyonXTtcclxuXHQgICAgaWYgKHhUcmVlKSB7XHJcblx0ICAgICAgLy9cclxuXHQgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgdHJlZSB3aWxsIGFsbG93IGFueSBtYXRjaCBmb3IgdGhpcyBwYXJ0LFxyXG5cdCAgICAgIC8vIHRoZW4gcmVjdXJzaXZlbHkgZXhwbG9yZSBhbGwgYnJhbmNoZXMgb2YgdGhlIHRyZWVcclxuXHQgICAgICAvL1xyXG5cdCAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeFRyZWUsIGkrMSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgeHhUcmVlID0gdHJlZVsnKionXTtcclxuXHQgICAgaWYoeHhUcmVlKSB7XHJcblx0ICAgICAgaWYoaSA8IHR5cGVMZW5ndGgpIHtcclxuXHQgICAgICAgIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBsaXN0ZW5lciBvbiBhICcqKicsIGl0IHdpbGwgY2F0Y2ggYWxsLCBzbyBhZGQgaXRzIGhhbmRsZXIuXHJcblx0ICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoKTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIC8vIEJ1aWxkIGFycmF5cyBvZiBtYXRjaGluZyBuZXh0IGJyYW5jaGVzIGFuZCBvdGhlcnMuXHJcblx0ICAgICAgICBmb3IoYnJhbmNoIGluIHh4VHJlZSkge1xyXG5cdCAgICAgICAgICBpZihicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB4eFRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG5cdCAgICAgICAgICAgIGlmKGJyYW5jaCA9PT0gbmV4dFR5cGUpIHtcclxuXHQgICAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIG5leHQgZWxlbWVudCB3aWxsIG1hdGNoLCBzbyBqdW1wIHR3aWNlLlxyXG5cdCAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWVbYnJhbmNoXSwgaSsyKTtcclxuXHQgICAgICAgICAgICB9IGVsc2UgaWYoYnJhbmNoID09PSBjdXJyZW50VHlwZSkge1xyXG5cdCAgICAgICAgICAgICAgLy8gQ3VycmVudCBub2RlIG1hdGNoZXMsIG1vdmUgaW50byB0aGUgdHJlZS5cclxuXHQgICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMSk7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoID0ge307XHJcblx0ICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaFticmFuY2hdID0geHhUcmVlW2JyYW5jaF07XHJcblx0ICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHsgJyoqJzogaXNvbGF0ZWRCcmFuY2ggfSwgaSsxKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9IGVsc2UgaWYoeHhUcmVlLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAgIC8vIFdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIGFuZCBzdGlsbCBvbiBhICcqKidcclxuXHQgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoKTtcclxuXHQgICAgICB9IGVsc2UgaWYoeHhUcmVlWycqJ10gJiYgeHhUcmVlWycqJ10uX2xpc3RlbmVycykge1xyXG5cdCAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWVbJyonXSwgdHlwZUxlbmd0aCk7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcblx0ICB9XHJcblx0XHJcblx0ICBmdW5jdGlvbiBncm93TGlzdGVuZXJUcmVlKHR5cGUsIGxpc3RlbmVyKSB7XHJcblx0XHJcblx0ICAgIHR5cGUgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHRcclxuXHQgICAgLy9cclxuXHQgICAgLy8gTG9va3MgZm9yIHR3byBjb25zZWN1dGl2ZSAnKionLCBpZiBzbywgZG9uJ3QgYWRkIHRoZSBldmVudCBhdCBhbGwuXHJcblx0ICAgIC8vXHJcblx0ICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHR5cGUubGVuZ3RoOyBpKzEgPCBsZW47IGkrKykge1xyXG5cdCAgICAgIGlmKHR5cGVbaV0gPT09ICcqKicgJiYgdHlwZVtpKzFdID09PSAnKionKSB7XHJcblx0ICAgICAgICByZXR1cm47XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciB0cmVlID0gdGhpcy5saXN0ZW5lclRyZWU7XHJcblx0ICAgIHZhciBuYW1lID0gdHlwZS5zaGlmdCgpO1xyXG5cdFxyXG5cdCAgICB3aGlsZSAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHJcblx0ICAgICAgaWYgKCF0cmVlW25hbWVdKSB7XHJcblx0ICAgICAgICB0cmVlW25hbWVdID0ge307XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIHRyZWUgPSB0cmVlW25hbWVdO1xyXG5cdFxyXG5cdCAgICAgIGlmICh0eXBlLmxlbmd0aCA9PT0gMCkge1xyXG5cdFxyXG5cdCAgICAgICAgaWYgKCF0cmVlLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gbGlzdGVuZXI7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBbdHJlZS5fbGlzdGVuZXJzXTtcclxuXHQgICAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgICAgICAgIGlmIChcclxuXHQgICAgICAgICAgICAhdHJlZS5fbGlzdGVuZXJzLndhcm5lZCAmJlxyXG5cdCAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPiAwICYmXHJcblx0ICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLmxlbmd0aCA+IHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnNcclxuXHQgICAgICAgICAgKSB7XHJcblx0ICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLndhcm5lZCA9IHRydWU7XHJcblx0ICAgICAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdHJlZS5fbGlzdGVuZXJzLmxlbmd0aCwgbmFtZSk7XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiB0cnVlO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBuYW1lID0gdHlwZS5zaGlmdCgpO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0cnVlO1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhblxyXG5cdCAgLy8gMTAgbGlzdGVuZXJzIGFyZSBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoXHJcblx0ICAvLyBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cclxuXHQgIC8vXHJcblx0ICAvLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3NcclxuXHQgIC8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5kZWxpbWl0ZXIgPSAnLic7XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcclxuXHQgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IG47XHJcblx0ICAgICAgaWYgKCF0aGlzLl9jb25mKSB0aGlzLl9jb25mID0ge307XHJcblx0ICAgICAgdGhpcy5fY29uZi5tYXhMaXN0ZW5lcnMgPSBuO1xyXG5cdCAgICB9XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudCA9ICcnO1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKSB7XHJcblx0ICAgIHRoaXMubWFueShldmVudCwgMSwgZm4pO1xyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm1hbnkgPSBmdW5jdGlvbihldmVudCwgdHRsLCBmbikge1xyXG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHJcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xyXG5cdCAgICAgIGlmICgtLXR0bCA9PT0gMCkge1xyXG5cdCAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGxpc3RlbmVyKTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBsaXN0ZW5lci5fb3JpZ2luID0gZm47XHJcblx0XHJcblx0ICAgIHRoaXMub24oZXZlbnQsIGxpc3RlbmVyKTtcclxuXHRcclxuXHQgICAgcmV0dXJuIHNlbGY7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0ICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblx0XHJcblx0ICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xyXG5cdFxyXG5cdCAgICBpZiAodHlwZSA9PT0gJ25ld0xpc3RlbmVyJyAmJiAhdGhpcy5uZXdMaXN0ZW5lcikge1xyXG5cdCAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7XHJcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciBhbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcblx0ICAgIHZhciBhcmdzLGwsaSxqO1xyXG5cdCAgICB2YXIgaGFuZGxlcjtcclxuXHRcclxuXHQgICAgaWYgKHRoaXMuX2FsbCAmJiB0aGlzLl9hbGwubGVuZ3RoKSB7XHJcblx0ICAgICAgaGFuZGxlciA9IHRoaXMuX2FsbC5zbGljZSgpO1xyXG5cdCAgICAgIGlmIChhbCA+IDMpIHtcclxuXHQgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwpO1xyXG5cdCAgICAgICAgZm9yIChqID0gMDsgaiA8IGFsOyBqKyspIGFyZ3Nbal0gPSBhcmd1bWVudHNbal07XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdCAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgICBjYXNlIDE6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMzpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIGhhbmRsZXIgPSBbXTtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuXHQgICAgICAgIHN3aXRjaCAoYWwpIHtcclxuXHQgICAgICAgIGNhc2UgMTpcclxuXHQgICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGRlZmF1bHQ6XHJcblx0ICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuXHQgICAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIHRydWU7XHJcblx0ICAgICAgfSBlbHNlIGlmIChoYW5kbGVyKSB7XHJcblx0ICAgICAgICAvLyBuZWVkIHRvIG1ha2UgY29weSBvZiBoYW5kbGVycyBiZWNhdXNlIGxpc3QgY2FuIGNoYW5nZSBpbiB0aGUgbWlkZGxlXHJcblx0ICAgICAgICAvLyBvZiBlbWl0IGNhbGxcclxuXHQgICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XHJcblx0ICAgICAgaWYgKGFsID4gMykge1xyXG5cdCAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG5cdCAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcyk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgICAgcmV0dXJuIHRydWU7XHJcblx0ICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcblx0ICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcblx0ICAgICAgICB0aHJvdyBhcmd1bWVudHNbMV07IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XHJcblx0ICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHJldHVybiAhIXRoaXMuX2FsbDtcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXRBc3luYyA9IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcclxuXHQgICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuXHQgICAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoW2ZhbHNlXSk7IH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgcHJvbWlzZXM9IFtdO1xyXG5cdFxyXG5cdCAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cdCAgICB2YXIgYXJncyxsLGksajtcclxuXHQgICAgdmFyIGhhbmRsZXI7XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLl9hbGwpIHtcclxuXHQgICAgICBpZiAoYWwgPiAzKSB7XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fYWxsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdCAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgICBjYXNlIDE6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSkpO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcblx0ICAgICAgaGFuZGxlciA9IFtdO1xyXG5cdCAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG5cdCAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXIsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuXHQgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcykpO1xyXG5cdCAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKSk7XHJcblx0ICAgICAgICBicmVhaztcclxuXHQgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSkpO1xyXG5cdCAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKSk7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9IGVsc2UgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcclxuXHQgICAgICBpZiAoYWwgPiAzKSB7XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcblx0ICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdCAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgICBjYXNlIDE6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMpKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMzpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfSBlbHNlIGlmICghdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcclxuXHQgICAgICBpZiAoYXJndW1lbnRzWzFdIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuXHQgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhcmd1bWVudHNbMV0pOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG5cdCAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XHJcblx0ICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRoaXMub25BbnkodHlwZSk7XHJcblx0ICAgICAgcmV0dXJuIHRoaXM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignb24gb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG5cdCAgICB9XHJcblx0ICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblx0XHJcblx0ICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT0gXCJuZXdMaXN0ZW5lcnNcIiEgQmVmb3JlXHJcblx0ICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJzXCIuXHJcblx0ICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcblx0ICAgICAgZ3Jvd0xpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcclxuXHQgICAgICByZXR1cm4gdGhpcztcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkge1xyXG5cdCAgICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxyXG5cdCAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2Uge1xyXG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICAvLyBDaGFuZ2UgdG8gYXJyYXkuXHJcblx0ICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxyXG5cdCAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcclxuXHRcclxuXHQgICAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xyXG5cdCAgICAgIGlmIChcclxuXHQgICAgICAgICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkICYmXHJcblx0ICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG5cdCAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnNcclxuXHQgICAgICApIHtcclxuXHQgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xyXG5cdCAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCwgdHlwZSk7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25BbnkgPSBmdW5jdGlvbihmbikge1xyXG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbkFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKCF0aGlzLl9hbGwpIHtcclxuXHQgICAgICB0aGlzLl9hbGwgPSBbXTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICAvLyBBZGQgdGhlIGZ1bmN0aW9uIHRvIHRoZSBldmVudCBsaXN0ZW5lciBjb2xsZWN0aW9uLlxyXG5cdCAgICB0aGlzLl9hbGwucHVzaChmbik7XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xyXG5cdCAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZW1vdmVMaXN0ZW5lciBvbmx5IHRha2VzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciBoYW5kbGVycyxsZWFmcz1bXTtcclxuXHRcclxuXHQgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG5cdCAgICAgIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIHtcclxuXHQgICAgICAvLyBkb2VzIG5vdCB1c2UgbGlzdGVuZXJzKCksIHNvIG5vIHNpZGUgZWZmZWN0IG9mIGNyZWF0aW5nIF9ldmVudHNbdHlwZV1cclxuXHQgICAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgcmV0dXJuIHRoaXM7XHJcblx0ICAgICAgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgICAgbGVhZnMucHVzaCh7X2xpc3RlbmVyczpoYW5kbGVyc30pO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG5cdCAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG5cdCAgICAgIGhhbmRsZXJzID0gbGVhZi5fbGlzdGVuZXJzO1xyXG5cdCAgICAgIGlmIChpc0FycmF5KGhhbmRsZXJzKSkge1xyXG5cdFxyXG5cdCAgICAgICAgdmFyIHBvc2l0aW9uID0gLTE7XHJcblx0XHJcblx0ICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICAgICAgaWYgKGhhbmRsZXJzW2ldID09PSBsaXN0ZW5lciB8fFxyXG5cdCAgICAgICAgICAgIChoYW5kbGVyc1tpXS5saXN0ZW5lciAmJiBoYW5kbGVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcblx0ICAgICAgICAgICAgKGhhbmRsZXJzW2ldLl9vcmlnaW4gJiYgaGFuZGxlcnNbaV0uX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XHJcblx0ICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xyXG5cdCAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICBpZiAocG9zaXRpb24gPCAwKSB7XHJcblx0ICAgICAgICAgIGNvbnRpbnVlO1xyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgICAgICBsZWFmLl9saXN0ZW5lcnMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0uc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIGlmIChoYW5kbGVycy5sZW5ndGggPT09IDApIHtcclxuXHQgICAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgICAgICAgIGRlbGV0ZSBsZWFmLl9saXN0ZW5lcnM7XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdFxyXG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIGVsc2UgaWYgKGhhbmRsZXJzID09PSBsaXN0ZW5lciB8fFxyXG5cdCAgICAgICAgKGhhbmRsZXJzLmxpc3RlbmVyICYmIGhhbmRsZXJzLmxpc3RlbmVyID09PSBsaXN0ZW5lcikgfHxcclxuXHQgICAgICAgIChoYW5kbGVycy5fb3JpZ2luICYmIGhhbmRsZXJzLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG5cdCAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgICAgICBkZWxldGUgbGVhZi5fbGlzdGVuZXJzO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3Qocm9vdCkge1xyXG5cdCAgICAgIGlmIChyb290ID09PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICAgIHJldHVybjtcclxuXHQgICAgICB9XHJcblx0ICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyb290KTtcclxuXHQgICAgICBmb3IgKHZhciBpIGluIGtleXMpIHtcclxuXHQgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG5cdCAgICAgICAgdmFyIG9iaiA9IHJvb3Rba2V5XTtcclxuXHQgICAgICAgIGlmICgob2JqIGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8ICh0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB8fCAob2JqID09PSBudWxsKSlcclxuXHQgICAgICAgICAgY29udGludWU7XHJcblx0ICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwKSB7XHJcblx0ICAgICAgICAgIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3Qocm9vdFtrZXldKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xyXG5cdCAgICAgICAgICBkZWxldGUgcm9vdFtrZXldO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHRoaXMubGlzdGVuZXJUcmVlKTtcclxuXHRcclxuXHQgICAgcmV0dXJuIHRoaXM7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmZBbnkgPSBmdW5jdGlvbihmbikge1xyXG5cdCAgICB2YXIgaSA9IDAsIGwgPSAwLCBmbnM7XHJcblx0ICAgIGlmIChmbiAmJiB0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCA+IDApIHtcclxuXHQgICAgICBmbnMgPSB0aGlzLl9hbGw7XHJcblx0ICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdCAgICAgICAgaWYoZm4gPT09IGZuc1tpXSkge1xyXG5cdCAgICAgICAgICBmbnMuc3BsaWNlKGksIDEpO1xyXG5cdCAgICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbik7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICBmbnMgPSB0aGlzLl9hbGw7XHJcblx0ICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuXHQgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuc1tpXSk7XHJcblx0ICAgICAgdGhpcy5fYWxsID0gW107XHJcblx0ICAgIH1cclxuXHQgICAgcmV0dXJuIHRoaXM7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmO1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XHJcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XHJcblx0ICAgICAgIXRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblx0ICAgICAgcmV0dXJuIHRoaXM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICB2YXIgbGVhZnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBudWxsLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG5cdFxyXG5cdCAgICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG5cdCAgICAgICAgdmFyIGxlYWYgPSBsZWFmc1tpTGVhZl07XHJcblx0ICAgICAgICBsZWFmLl9saXN0ZW5lcnMgPSBudWxsO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIGlmICh0aGlzLl9ldmVudHMpIHtcclxuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBudWxsO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIHZhciBoYW5kbGVycyA9IFtdO1xyXG5cdCAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG5cdCAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXJzLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG5cdCAgICAgIHJldHVybiBoYW5kbGVycztcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgdGhpcy5fZXZlbnRzW3R5cGVdID0gW107XHJcblx0ICAgIGlmICghaXNBcnJheSh0aGlzLl9ldmVudHNbdHlwZV0pKSB7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XHJcblx0ICAgIH1cclxuXHQgICAgcmV0dXJuIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XHJcblx0ICAgIHJldHVybiB0aGlzLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnNBbnkgPSBmdW5jdGlvbigpIHtcclxuXHRcclxuXHQgICAgaWYodGhpcy5fYWxsKSB7XHJcblx0ICAgICAgcmV0dXJuIHRoaXMuX2FsbDtcclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIHtcclxuXHQgICAgICByZXR1cm4gW107XHJcblx0ICAgIH1cclxuXHRcclxuXHQgIH07XHJcblx0XHJcblx0ICBpZiAodHJ1ZSkge1xyXG5cdCAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxyXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XHJcblx0ICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxuXHQgICAgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcclxuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcblx0ICAgIC8vIENvbW1vbkpTXHJcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG5cdCAgfVxyXG5cdCAgZWxzZSB7XHJcblx0ICAgIC8vIEJyb3dzZXIgZ2xvYmFsLlxyXG5cdCAgICB3aW5kb3cuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjtcclxuXHQgIH1cclxuXHR9KCk7XHJcblxuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBGaWxlU2F2ZXIuanNcblx0ICogQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXG5cdCAqIDEuMS4yMDE1MDcxNlxuXHQgKlxuXHQgKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG5cdCAqIExpY2Vuc2U6IFgxMS9NSVRcblx0ICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcblx0ICovXG5cdFxuXHQvKmdsb2JhbCBzZWxmICovXG5cdC8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cdFxuXHQvKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xuXHRcblx0dmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24odmlldykge1xuXHRcdFwidXNlIHN0cmljdFwiO1xuXHRcdC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXG5cdFx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyXG5cdFx0XHQgIGRvYyA9IHZpZXcuZG9jdW1lbnRcblx0XHRcdCAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcblx0XHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHRcdH1cblx0XHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0XHQsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xuXHRcdFx0LCBjbGljayA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcblx0XHRcdFx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdCwgd2Via2l0X3JlcV9mcyA9IHZpZXcud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHRcdCwgcmVxX2ZzID0gdmlldy5yZXF1ZXN0RmlsZVN5c3RlbSB8fCB3ZWJraXRfcmVxX2ZzIHx8IHZpZXcubW96UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHRcdCwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uKGV4KSB7XG5cdFx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRocm93IGV4O1xuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH1cblx0XHRcdCwgZm9yY2Vfc2F2ZWFibGVfdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcblx0XHRcdCwgZnNfbWluX3NpemUgPSAwXG5cdFx0XHQvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3NTI5NyNjNyBhbmRcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9jb21taXQvNDg1OTMwYSNjb21taXRjb21tZW50LTg3NjgwNDdcblx0XHRcdC8vIGZvciB0aGUgcmVhc29uaW5nIGJlaGluZCB0aGUgdGltZW91dCBhbmQgcmV2b2NhdGlvbiBmbG93XG5cdFx0XHQsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDUwMCAvLyBpbiBtc1xuXHRcdFx0LCByZXZva2UgPSBmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdHZhciByZXZva2VyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxuXHRcdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0XHR9IGVsc2UgeyAvLyBmaWxlIGlzIGEgRmlsZVxuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmICh2aWV3LmNocm9tZSkge1xuXHRcdFx0XHRcdHJldm9rZXIoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdCwgZGlzcGF0Y2ggPSBmdW5jdGlvbihmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xuXHRcdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHRcdHZhciBpID0gZXZlbnRfdHlwZXMubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dfb3V0c2lkZShleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQsIGF1dG9fYm9tID0gZnVuY3Rpb24oYmxvYikge1xuXHRcdFx0XHQvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuXHRcdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgQmxvYihbXCJcXHVmZWZmXCIsIGJsb2JdLCB7dHlwZTogYmxvYi50eXBlfSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGJsb2I7XG5cdFx0XHR9XG5cdFx0XHQsIEZpbGVTYXZlciA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0ICBmaWxlc2F2ZXIgPSB0aGlzXG5cdFx0XHRcdFx0LCB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdFx0LCBibG9iX2NoYW5nZWQgPSBmYWxzZVxuXHRcdFx0XHRcdCwgb2JqZWN0X3VybFxuXHRcdFx0XHRcdCwgdGFyZ2V0X3ZpZXdcblx0XHRcdFx0XHQsIGRpc3BhdGNoX2FsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBvbiBhbnkgZmlsZXN5cyBlcnJvcnMgcmV2ZXJ0IHRvIHNhdmluZyB3aXRoIG9iamVjdCBVUkxzXG5cdFx0XHRcdFx0LCBmc19lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcblx0XHRcdFx0XHRcdGlmIChibG9iX2NoYW5nZWQgfHwgIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAodGFyZ2V0X3ZpZXcpIHtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR2YXIgbmV3X3RhYiA9IHZpZXcub3BlbihvYmplY3RfdXJsLCBcIl9ibGFua1wiKTtcblx0XHRcdFx0XHRcdFx0aWYgKG5ld190YWIgPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzYWZhcmkgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRcdFx0XHQvL0FwcGxlIGRvIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHA6Ly9iaXQubHkvMWtaZmZSSVxuXHRcdFx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmxcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQsIGFib3J0YWJsZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZpbGVzYXZlci5yZWFkeVN0YXRlICE9PSBmaWxlc2F2ZXIuRE9ORSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCwgY3JlYXRlX2lmX25vdF9mb3VuZCA9IHtjcmVhdGU6IHRydWUsIGV4Y2x1c2l2ZTogZmFsc2V9XG5cdFx0XHRcdFx0LCBzbGljZVxuXHRcdFx0XHQ7XG5cdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRcdGlmICghbmFtZSkge1xuXHRcdFx0XHRcdG5hbWUgPSBcImRvd25sb2FkXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0c2F2ZV9saW5rLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdHNhdmVfbGluay5kb3dubG9hZCA9IG5hbWU7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIE9iamVjdCBhbmQgd2ViIGZpbGVzeXN0ZW0gVVJMcyBoYXZlIGEgcHJvYmxlbSBzYXZpbmcgaW4gR29vZ2xlIENocm9tZSB3aGVuXG5cdFx0XHRcdC8vIHZpZXdlZCBpbiBhIHRhYiwgc28gSSBmb3JjZSBzYXZlIHdpdGggYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXG5cdFx0XHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkxMTU4XG5cdFx0XHRcdC8vIFVwZGF0ZTogR29vZ2xlIGVycmFudGx5IGNsb3NlZCA5MTE1OCwgSSBzdWJtaXR0ZWQgaXQgYWdhaW46XG5cdFx0XHRcdC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zODk2NDJcblx0XHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRcdHNsaWNlID0gYmxvYi5zbGljZSB8fCBibG9iLndlYmtpdFNsaWNlO1xuXHRcdFx0XHRcdGJsb2IgPSBzbGljZS5jYWxsKGJsb2IsIDAsIGJsb2Iuc2l6ZSwgZm9yY2Vfc2F2ZWFibGVfdHlwZSk7XG5cdFx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBTaW5jZSBJIGNhbid0IGJlIHN1cmUgdGhhdCB0aGUgZ3Vlc3NlZCBtZWRpYSB0eXBlIHdpbGwgdHJpZ2dlciBhIGRvd25sb2FkXG5cdFx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTY1NDQwXG5cdFx0XHRcdGlmICh3ZWJraXRfcmVxX2ZzICYmIG5hbWUgIT09IFwiZG93bmxvYWRcIikge1xuXHRcdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSB8fCB3ZWJraXRfcmVxX2ZzKSB7XG5cdFx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghcmVxX2ZzKSB7XG5cdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0XHRyZXFfZnModmlldy5URU1QT1JBUlksIGZzX21pbl9zaXplLCBhYm9ydGFibGUoZnVuY3Rpb24oZnMpIHtcblx0XHRcdFx0XHRmcy5yb290LmdldERpcmVjdG9yeShcInNhdmVkXCIsIGNyZWF0ZV9pZl9ub3RfZm91bmQsIGFib3J0YWJsZShmdW5jdGlvbihkaXIpIHtcblx0XHRcdFx0XHRcdHZhciBzYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGRpci5nZXRGaWxlKG5hbWUsIGNyZWF0ZV9pZl9ub3RfZm91bmQsIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZS5jcmVhdGVXcml0ZXIoYWJvcnRhYmxlKGZ1bmN0aW9uKHdyaXRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gZmlsZS50b1VSTCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVlbmRcIiwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXZva2UoZmlsZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yID0gd3JpdGVyLmVycm9yO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyb3IuY29kZSAhPT0gZXJyb3IuQUJPUlRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSBhYm9ydFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlcltcIm9uXCIgKyBldmVudF0gPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRdO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXIud3JpdGUoYmxvYik7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIuYWJvcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuV1JJVElORztcblx0XHRcdFx0XHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGRpci5nZXRGaWxlKG5hbWUsIHtjcmVhdGU6IGZhbHNlfSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZpbGUpIHtcblx0XHRcdFx0XHRcdFx0Ly8gZGVsZXRlIGZpbGUgaWYgaXQgYWxyZWFkeSBleGlzdHNcblx0XHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdFx0fSksIGFib3J0YWJsZShmdW5jdGlvbihleCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZXguY29kZSA9PT0gZXguTk9UX0ZPVU5EX0VSUikge1xuXHRcdFx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdH1cblx0XHRcdCwgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlXG5cdFx0XHQsIHNhdmVBcyA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgRmlsZVNhdmVyKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKTtcblx0XHRcdH1cblx0XHQ7XG5cdFx0Ly8gSUUgMTArIChuYXRpdmUgc2F2ZUFzKVxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSB8fCBcImRvd25sb2FkXCIpO1xuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZmlsZXNhdmVyID0gdGhpcztcblx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwiYWJvcnRcIik7XG5cdFx0fTtcblx0XHRGU19wcm90by5yZWFkeVN0YXRlID0gRlNfcHJvdG8uSU5JVCA9IDA7XG5cdFx0RlNfcHJvdG8uV1JJVElORyA9IDE7XG5cdFx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cdFxuXHRcdEZTX3Byb3RvLmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRcdEZTX3Byb3RvLm9ucHJvZ3Jlc3MgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGUgPVxuXHRcdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRcdEZTX3Byb3RvLm9uZXJyb3IgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGVlbmQgPVxuXHRcdFx0bnVsbDtcblx0XG5cdFx0cmV0dXJuIHNhdmVBcztcblx0fShcblx0XHQgICB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG5cdFx0fHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcblx0XHR8fCB0aGlzLmNvbnRlbnRcblx0KSk7XG5cdC8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG5cdC8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuXHQvLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgIG1vZHVsZS5leHBvcnRzLnNhdmVBcyA9IHNhdmVBcztcblx0fSBlbHNlIGlmICgoXCJmdW5jdGlvblwiICE9PSBcInVuZGVmaW5lZFwiICYmIF9fd2VicGFja19yZXF1aXJlX18oMzEpICE9PSBudWxsKSAmJiAoX193ZWJwYWNrX3JlcXVpcmVfXygzMikgIT0gbnVsbCkpIHtcblx0ICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBzYXZlQXM7XG5cdCAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XG5cblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oX193ZWJwYWNrX2FtZF9vcHRpb25zX18pIHttb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIHt9KSlcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG5cdCAqIFVuaWRyYWdnZXIgdjIuMS4wXG5cdCAqIERyYWdnYWJsZSBiYXNlIGNsYXNzXG5cdCAqIE1JVCBsaWNlbnNlXG5cdCAqL1xuXHRcblx0Lypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW51c2VkOiB0cnVlLCB1bmRlZjogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cdFxuXHQoIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG5cdCAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cdCAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblx0XG5cdCAgaWYgKCB0cnVlICkge1xuXHQgICAgLy8gQU1EXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXG5cdCAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzQpXG5cdCAgICBdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCBVbmlwb2ludGVyICkge1xuXHQgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBVbmlwb2ludGVyICk7XG5cdCAgICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcblx0ICAgIC8vIENvbW1vbkpTXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG5cdCAgICAgIHdpbmRvdyxcblx0ICAgICAgcmVxdWlyZSgndW5pcG9pbnRlcicpXG5cdCAgICApO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBicm93c2VyIGdsb2JhbFxuXHQgICAgd2luZG93LlVuaWRyYWdnZXIgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHdpbmRvdy5Vbmlwb2ludGVyXG5cdCAgICApO1xuXHQgIH1cblx0XG5cdH0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBVbmlwb2ludGVyICkge1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFVuaWRyYWdnZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblx0XG5cdGZ1bmN0aW9uIFVuaWRyYWdnZXIoKSB7fVxuXHRcblx0Ly8gaW5oZXJpdCBVbmlwb2ludGVyICYgRXZFbWl0dGVyXG5cdHZhciBwcm90byA9IFVuaWRyYWdnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVW5pcG9pbnRlci5wcm90b3R5cGUgKTtcblx0XG5cdC8vIC0tLS0tIGJpbmQgc3RhcnQgLS0tLS0gLy9cblx0XG5cdHByb3RvLmJpbmRIYW5kbGVzID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fYmluZEhhbmRsZXMoIHRydWUgKTtcblx0fTtcblx0XG5cdHByb3RvLnVuYmluZEhhbmRsZXMgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLl9iaW5kSGFuZGxlcyggZmFsc2UgKTtcblx0fTtcblx0XG5cdHZhciBuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yO1xuXHQvKipcblx0ICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLmJpbmRIYW5kbGVzKCBmYWxzZSApIHRvIHVuYmluZFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluZCAtIHdpbGwgdW5iaW5kIGlmIGZhbHNleVxuXHQgKi9cblx0cHJvdG8uX2JpbmRIYW5kbGVzID0gZnVuY3Rpb24oIGlzQmluZCApIHtcblx0ICAvLyBtdW5nZSBpc0JpbmQsIGRlZmF1bHQgdG8gdHJ1ZVxuXHQgIGlzQmluZCA9IGlzQmluZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhaXNCaW5kO1xuXHQgIC8vIGV4dHJhIGJpbmQgbG9naWNcblx0ICB2YXIgYmluZGVyRXh0cmE7XG5cdCAgaWYgKCBuYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgKSB7XG5cdCAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG5cdCAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBlbGVtZW50XG5cdCAgICAgIGhhbmRsZS5zdHlsZS50b3VjaEFjdGlvbiA9IGlzQmluZCA/ICdub25lJyA6ICcnO1xuXHQgICAgfTtcblx0ICB9IGVsc2UgaWYgKCBuYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCApIHtcblx0ICAgIGJpbmRlckV4dHJhID0gZnVuY3Rpb24oIGhhbmRsZSApIHtcblx0ICAgICAgLy8gZGlzYWJsZSBzY3JvbGxpbmcgb24gdGhlIGVsZW1lbnRcblx0ICAgICAgaGFuZGxlLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIGJpbmRlckV4dHJhID0gbm9vcDtcblx0ICB9XG5cdCAgLy8gYmluZCBlYWNoIGhhbmRsZVxuXHQgIHZhciBiaW5kTWV0aG9kID0gaXNCaW5kID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuXHQgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLmhhbmRsZXMubGVuZ3RoOyBpKysgKSB7XG5cdCAgICB2YXIgaGFuZGxlID0gdGhpcy5oYW5kbGVzW2ldO1xuXHQgICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGhhbmRsZSwgaXNCaW5kICk7XG5cdCAgICBiaW5kZXJFeHRyYSggaGFuZGxlICk7XG5cdCAgICBoYW5kbGVbIGJpbmRNZXRob2QgXSggJ2NsaWNrJywgdGhpcyApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cdFxuXHQvKipcblx0ICogcG9pbnRlciBzdGFydFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqL1xuXHRwcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBkaXNtaXNzIHJhbmdlIHNsaWRlcnNcblx0ICBpZiAoIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAnSU5QVVQnICYmIGV2ZW50LnRhcmdldC50eXBlID09ICdyYW5nZScgKSB7XG5cdCAgICAvLyByZXNldCBwb2ludGVyRG93biBsb2dpY1xuXHQgICAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG5cdCAgICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIHRoaXMuX2RyYWdQb2ludGVyRG93biggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICAvLyBrbHVkZ2UgdG8gYmx1ciBmb2N1c2VkIGlucHV0cyBpbiBkcmFnZ2VyXG5cdCAgdmFyIGZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHQgIGlmICggZm9jdXNlZCAmJiBmb2N1c2VkLmJsdXIgKSB7XG5cdCAgICBmb2N1c2VkLmJsdXIoKTtcblx0ICB9XG5cdCAgLy8gYmluZCBtb3ZlIGFuZCBlbmQgZXZlbnRzXG5cdCAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cdH07XG5cdFxuXHQvLyBiYXNlIHBvaW50ZXIgZG93biBsb2dpY1xuXHRwcm90by5fZHJhZ1BvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIC8vIHRyYWNrIHRvIHNlZSB3aGVuIGRyYWdnaW5nIHN0YXJ0c1xuXHQgIHRoaXMucG9pbnRlckRvd25Qb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG5cdFxuXHQgIHZhciBjYW5QcmV2ZW50RGVmYXVsdCA9IHRoaXMuY2FuUHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duKCBldmVudCwgcG9pbnRlciApO1xuXHQgIGlmICggY2FuUHJldmVudERlZmF1bHQgKSB7XG5cdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIG92ZXJ3cml0ZWFibGUgbWV0aG9kIHNvIEZsaWNraXR5IGNhbiBwcmV2ZW50IGZvciBzY3JvbGxpbmdcblx0cHJvdG8uY2FuUHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIC8vIHByZXZlbnQgZGVmYXVsdCwgdW5sZXNzIHRvdWNoc3RhcnQgb3IgPHNlbGVjdD5cblx0ICByZXR1cm4gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9ICdTRUxFQ1QnO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gbW92ZSBldmVudCAtLS0tLSAvL1xuXHRcblx0LyoqXG5cdCAqIGRyYWcgbW92ZVxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqL1xuXHRwcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB2YXIgbW92ZVZlY3RvciA9IHRoaXMuX2RyYWdQb2ludGVyTW92ZSggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG5cdCAgdGhpcy5fZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG5cdH07XG5cdFxuXHQvLyBiYXNlIHBvaW50ZXIgbW92ZSBsb2dpY1xuXHRwcm90by5fZHJhZ1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHZhciBtb3ZlUG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuXHQgIHZhciBtb3ZlVmVjdG9yID0ge1xuXHQgICAgeDogbW92ZVBvaW50LnggLSB0aGlzLnBvaW50ZXJEb3duUG9pbnQueCxcblx0ICAgIHk6IG1vdmVQb2ludC55IC0gdGhpcy5wb2ludGVyRG93blBvaW50Lnlcblx0ICB9O1xuXHQgIC8vIHN0YXJ0IGRyYWcgaWYgcG9pbnRlciBoYXMgbW92ZWQgZmFyIGVub3VnaCB0byBzdGFydCBkcmFnXG5cdCAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICYmIHRoaXMuaGFzRHJhZ1N0YXJ0ZWQoIG1vdmVWZWN0b3IgKSApIHtcblx0ICAgIHRoaXMuX2RyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1vdmVWZWN0b3I7XG5cdH07XG5cdFxuXHQvLyBjb25kaXRpb24gaWYgcG9pbnRlciBoYXMgbW92ZWQgZmFyIGVub3VnaCB0byBzdGFydCBkcmFnXG5cdHByb3RvLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24oIG1vdmVWZWN0b3IgKSB7XG5cdCAgcmV0dXJuIE1hdGguYWJzKCBtb3ZlVmVjdG9yLnggKSA+IDMgfHwgTWF0aC5hYnMoIG1vdmVWZWN0b3IueSApID4gMztcblx0fTtcblx0XG5cdFxuXHQvLyAtLS0tLSBlbmQgZXZlbnQgLS0tLS0gLy9cblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIHVwXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcblx0ICovXG5cdHByb3RvLnBvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJVcCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHQgIHRoaXMuX2RyYWdQb2ludGVyVXAoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5fZHJhZ1BvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICBpZiAoIHRoaXMuaXNEcmFnZ2luZyApIHtcblx0ICAgIHRoaXMuX2RyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIHBvaW50ZXIgZGlkbid0IG1vdmUgZW5vdWdoIGZvciBkcmFnIHRvIHN0YXJ0XG5cdCAgICB0aGlzLl9zdGF0aWNDbGljayggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cdFxuXHQvLyBkcmFnU3RhcnRcblx0cHJvdG8uX2RyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuXHQgIHRoaXMuZHJhZ1N0YXJ0UG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuXHQgIC8vIHByZXZlbnQgY2xpY2tzXG5cdCAgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgPSB0cnVlO1xuXHRcblx0ICB0aGlzLmRyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdHByb3RvLmRyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ2RyYWdTdGFydCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gZHJhZ01vdmVcblx0cHJvdG8uX2RyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuXHQgIC8vIGRvIG5vdCBkcmFnIGlmIG5vdCBkcmFnZ2luZyB5ZXRcblx0ICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB0aGlzLmRyYWdNb3ZlKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApO1xuXHR9O1xuXHRcblx0cHJvdG8uZHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG5cdCAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB0aGlzLmVtaXRFdmVudCggJ2RyYWdNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG5cdH07XG5cdFxuXHQvLyBkcmFnRW5kXG5cdHByb3RvLl9kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIC8vIHNldCBmbGFnc1xuXHQgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXHQgIC8vIHJlLWVuYWJsZSBjbGlja2luZyBhc3luY1xuXHQgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHQgICAgZGVsZXRlIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzO1xuXHQgIH0uYmluZCggdGhpcyApICk7XG5cdFxuXHQgIHRoaXMuZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdHByb3RvLmRyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdkcmFnRW5kJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBvbmNsaWNrIC0tLS0tIC8vXG5cdFxuXHQvLyBoYW5kbGUgYWxsIGNsaWNrcyBhbmQgcHJldmVudCBjbGlja3Mgd2hlbiBkcmFnZ2luZ1xuXHRwcm90by5vbmNsaWNrID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIGlmICggdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgKSB7XG5cdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIC0tLS0tIHN0YXRpY0NsaWNrIC0tLS0tIC8vXG5cdFxuXHQvLyB0cmlnZ2VyZWQgYWZ0ZXIgcG9pbnRlciBkb3duICYgdXAgd2l0aCBuby90aW55IG1vdmVtZW50XG5cdHByb3RvLl9zdGF0aWNDbGljayA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBpZ25vcmUgZW11bGF0ZWQgbW91c2UgdXAgY2xpY2tzXG5cdCAgaWYgKCB0aGlzLmlzSWdub3JpbmdNb3VzZVVwICYmIGV2ZW50LnR5cGUgPT0gJ21vdXNldXAnICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgLy8gYWxsb3cgY2xpY2sgaW4gPGlucHV0PnMgYW5kIDx0ZXh0YXJlYT5zXG5cdCAgdmFyIG5vZGVOYW1lID0gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lO1xuXHQgIGlmICggbm9kZU5hbWUgPT0gJ0lOUFVUJyB8fCBub2RlTmFtZSA9PSAnVEVYVEFSRUEnICkge1xuXHQgICAgZXZlbnQudGFyZ2V0LmZvY3VzKCk7XG5cdCAgfVxuXHQgIHRoaXMuc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG5cdFxuXHQgIC8vIHNldCBmbGFnIGZvciBlbXVsYXRlZCBjbGlja3MgMzAwbXMgYWZ0ZXIgdG91Y2hlbmRcblx0ICBpZiAoIGV2ZW50LnR5cGUgIT0gJ21vdXNldXAnICkge1xuXHQgICAgdGhpcy5pc0lnbm9yaW5nTW91c2VVcCA9IHRydWU7XG5cdCAgICAvLyByZXNldCBmbGFnIGFmdGVyIDMwMG1zXG5cdCAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0ICAgICAgZGVsZXRlIHRoaXMuaXNJZ25vcmluZ01vdXNlVXA7XG5cdCAgICB9LmJpbmQoIHRoaXMgKSwgNDAwICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8uc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdzdGF0aWNDbGljaycsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gdXRpbHMgLS0tLS0gLy9cblx0XG5cdFVuaWRyYWdnZXIuZ2V0UG9pbnRlclBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQ7XG5cdFxuXHQvLyAtLS0tLSAgLS0tLS0gLy9cblx0XG5cdHJldHVybiBVbmlkcmFnZ2VyO1xuXHRcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxuXHQgKiBVbmlwb2ludGVyIHYyLjEuMFxuXHQgKiBiYXNlIGNsYXNzIGZvciBkb2luZyBvbmUgdGhpbmcgd2l0aCBwb2ludGVyIGV2ZW50XG5cdCAqIE1JVCBsaWNlbnNlXG5cdCAqL1xuXHRcblx0Lypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cdFxuXHQoIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG5cdCAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cdCAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWwgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblx0ICBpZiAoIHRydWUgKSB7XG5cdCAgICAvLyBBTURcblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtcblx0ICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygzNSlcblx0ICAgIF0sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oIEV2RW1pdHRlciApIHtcblx0ICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICk7XG5cdCAgICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcblx0ICAgIC8vIENvbW1vbkpTXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG5cdCAgICAgIHdpbmRvdyxcblx0ICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpXG5cdCAgICApO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBicm93c2VyIGdsb2JhbFxuXHQgICAgd2luZG93LlVuaXBvaW50ZXIgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHdpbmRvdy5FdkVtaXR0ZXJcblx0ICAgICk7XG5cdCAgfVxuXHRcblx0fSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApIHtcblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gVW5pcG9pbnRlcigpIHt9XG5cdFxuXHQvLyBpbmhlcml0IEV2RW1pdHRlclxuXHR2YXIgcHJvdG8gPSBVbmlwb2ludGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblx0XG5cdHByb3RvLmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdCAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGVsZW0sIHRydWUgKTtcblx0fTtcblx0XG5cdHByb3RvLnVuYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0ICB0aGlzLl9iaW5kU3RhcnRFdmVudCggZWxlbSwgZmFsc2UgKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiB3b3JrcyBhcyB1bmJpbmRlciwgYXMgeW91IGNhbiAuX2JpbmRTdGFydCggZmFsc2UgKSB0byB1bmJpbmRcblx0ICogQHBhcmFtIHtCb29sZWFufSBpc0JpbmQgLSB3aWxsIHVuYmluZCBpZiBmYWxzZXlcblx0ICovXG5cdHByb3RvLl9iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCBpc0JpbmQgKSB7XG5cdCAgLy8gbXVuZ2UgaXNCaW5kLCBkZWZhdWx0IHRvIHRydWVcblx0ICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcblx0ICB2YXIgYmluZE1ldGhvZCA9IGlzQmluZCA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcblx0XG5cdCAgaWYgKCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuXHQgICAgLy8gVzNDIFBvaW50ZXIgRXZlbnRzLCBJRTExLiBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3AvbWZyZWNhXG5cdCAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdwb2ludGVyZG93bicsIHRoaXMgKTtcblx0ICB9IGVsc2UgaWYgKCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG5cdCAgICAvLyBJRTEwIFBvaW50ZXIgRXZlbnRzXG5cdCAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdNU1BvaW50ZXJEb3duJywgdGhpcyApO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBsaXN0ZW4gZm9yIGJvdGgsIGZvciBkZXZpY2VzIGxpa2UgQ2hyb21lIFBpeGVsXG5cdCAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdtb3VzZWRvd24nLCB0aGlzICk7XG5cdCAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICd0b3VjaHN0YXJ0JywgdGhpcyApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIHRyaWdnZXIgaGFuZGxlciBtZXRob2RzIGZvciBldmVudHNcblx0cHJvdG8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuXHQgIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG5cdCAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyByZXR1cm5zIHRoZSB0b3VjaCB0aGF0IHdlJ3JlIGtlZXBpbmcgdHJhY2sgb2Zcblx0cHJvdG8uZ2V0VG91Y2ggPSBmdW5jdGlvbiggdG91Y2hlcyApIHtcblx0ICBmb3IgKCB2YXIgaT0wOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKyApIHtcblx0ICAgIHZhciB0b3VjaCA9IHRvdWNoZXNbaV07XG5cdCAgICBpZiAoIHRvdWNoLmlkZW50aWZpZXIgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcblx0ICAgICAgcmV0dXJuIHRvdWNoO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdC8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cdFxuXHRwcm90by5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICAvLyBkaXNtaXNzIGNsaWNrcyBmcm9tIHJpZ2h0IG9yIG1pZGRsZSBidXR0b25zXG5cdCAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblx0ICBpZiAoIGJ1dHRvbiAmJiAoIGJ1dHRvbiAhPT0gMCAmJiBidXR0b24gIT09IDEgKSApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gKTtcblx0fTtcblx0XG5cdHByb3RvLm9uTVNQb2ludGVyRG93biA9XG5cdHByb3RvLm9ucG9pbnRlcmRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIHBvaW50ZXIgc3RhcnRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIC8vIGRpc21pc3Mgb3RoZXIgcG9pbnRlcnNcblx0ICBpZiAoIHRoaXMuaXNQb2ludGVyRG93biApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIHRoaXMuaXNQb2ludGVyRG93biA9IHRydWU7XG5cdCAgLy8gc2F2ZSBwb2ludGVyIGlkZW50aWZpZXIgdG8gbWF0Y2ggdXAgdG91Y2ggZXZlbnRzXG5cdCAgdGhpcy5wb2ludGVySWRlbnRpZmllciA9IHBvaW50ZXIucG9pbnRlcklkICE9PSB1bmRlZmluZWQgP1xuXHQgICAgLy8gcG9pbnRlcklkIGZvciBwb2ludGVyIGV2ZW50cywgdG91Y2guaW5kZW50aWZpZXIgZm9yIHRvdWNoIGV2ZW50c1xuXHQgICAgcG9pbnRlci5wb2ludGVySWQgOiBwb2ludGVyLmlkZW50aWZpZXI7XG5cdFxuXHQgIHRoaXMucG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckRvd24nLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIGhhc2ggb2YgZXZlbnRzIHRvIGJlIGJvdW5kIGFmdGVyIHN0YXJ0IGV2ZW50XG5cdHZhciBwb3N0U3RhcnRFdmVudHMgPSB7XG5cdCAgbW91c2Vkb3duOiBbICdtb3VzZW1vdmUnLCAnbW91c2V1cCcgXSxcblx0ICB0b3VjaHN0YXJ0OiBbICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnIF0sXG5cdCAgcG9pbnRlcmRvd246IFsgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCcsICdwb2ludGVyY2FuY2VsJyBdLFxuXHQgIE1TUG9pbnRlckRvd246IFsgJ01TUG9pbnRlck1vdmUnLCAnTVNQb2ludGVyVXAnLCAnTVNQb2ludGVyQ2FuY2VsJyBdXG5cdH07XG5cdFxuXHRwcm90by5fYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoICFldmVudCApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgLy8gZ2V0IHByb3BlciBldmVudHMgdG8gbWF0Y2ggc3RhcnQgZXZlbnRcblx0ICB2YXIgZXZlbnRzID0gcG9zdFN0YXJ0RXZlbnRzWyBldmVudC50eXBlIF07XG5cdCAgLy8gYmluZCBldmVudHMgdG8gbm9kZVxuXHQgIGV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbiggZXZlbnROYW1lICkge1xuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuXHQgIH0sIHRoaXMgKTtcblx0ICAvLyBzYXZlIHRoZXNlIGFyZ3VtZW50c1xuXHQgIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyA9IGV2ZW50cztcblx0fTtcblx0XG5cdHByb3RvLl91bmJpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0ICAvLyBjaGVjayBmb3IgX2JvdW5kRXZlbnRzLCBpbiBjYXNlIGRyYWdFbmQgdHJpZ2dlcmVkIHR3aWNlIChvbGQgSUU4IGJ1Zylcblx0ICBpZiAoICF0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbiggZXZlbnROYW1lICkge1xuXHQgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuXHQgIH0sIHRoaXMgKTtcblx0XG5cdCAgZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cztcblx0fTtcblx0XG5cdC8vIC0tLS0tIG1vdmUgZXZlbnQgLS0tLS0gLy9cblx0XG5cdHByb3RvLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdHByb3RvLm9uTVNQb2ludGVyTW92ZSA9XG5cdHByb3RvLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcblx0ICAgIHRoaXMuX3BvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcblx0ICB9XG5cdH07XG5cdFxuXHRwcm90by5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuXHQgIGlmICggdG91Y2ggKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIHRvdWNoICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIHBvaW50ZXIgbW92ZVxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fcG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5wb2ludGVyTW92ZSggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdC8vIHB1YmxpY1xuXHRwcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJNb3ZlJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBlbmQgZXZlbnQgLS0tLS0gLy9cblx0XG5cdFxuXHRwcm90by5vbm1vdXNldXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgdGhpcy5fcG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdHByb3RvLm9uTVNQb2ludGVyVXAgPVxuXHRwcm90by5vbnBvaW50ZXJ1cCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoIGV2ZW50LnBvaW50ZXJJZCA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuXHQgICAgdGhpcy5fcG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcblx0ICB9XG5cdH07XG5cdFxuXHRwcm90by5vbnRvdWNoZW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHZhciB0b3VjaCA9IHRoaXMuZ2V0VG91Y2goIGV2ZW50LmNoYW5nZWRUb3VjaGVzICk7XG5cdCAgaWYgKCB0b3VjaCApIHtcblx0ICAgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIHRvdWNoICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIHBvaW50ZXIgdXBcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuXHQgIHRoaXMucG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xuXHR9O1xuXHRcblx0Ly8gcHVibGljXG5cdHByb3RvLnBvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJVcCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gcG9pbnRlciBkb25lIC0tLS0tIC8vXG5cdFxuXHQvLyB0cmlnZ2VyZWQgb24gcG9pbnRlciB1cCAmIHBvaW50ZXIgY2FuY2VsXG5cdHByb3RvLl9wb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgIC8vIHJlc2V0IHByb3BlcnRpZXNcblx0ICB0aGlzLmlzUG9pbnRlckRvd24gPSBmYWxzZTtcblx0ICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcblx0ICAvLyByZW1vdmUgZXZlbnRzXG5cdCAgdGhpcy5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzKCk7XG5cdCAgdGhpcy5wb2ludGVyRG9uZSgpO1xuXHR9O1xuXHRcblx0cHJvdG8ucG9pbnRlckRvbmUgPSBub29wO1xuXHRcblx0Ly8gLS0tLS0gcG9pbnRlciBjYW5jZWwgLS0tLS0gLy9cblx0XG5cdHByb3RvLm9uTVNQb2ludGVyQ2FuY2VsID1cblx0cHJvdG8ub25wb2ludGVyY2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgZXZlbnQgKTtcblx0ICB9XG5cdH07XG5cdFxuXHRwcm90by5vbnRvdWNoY2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHZhciB0b3VjaCA9IHRoaXMuZ2V0VG91Y2goIGV2ZW50LmNoYW5nZWRUb3VjaGVzICk7XG5cdCAgaWYgKCB0b3VjaCApIHtcblx0ICAgIHRoaXMuX3BvaW50ZXJDYW5jZWwoIGV2ZW50LCB0b3VjaCApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIGNhbmNlbFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fcG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuXHQgIHRoaXMucG9pbnRlckNhbmNlbCggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdC8vIHB1YmxpY1xuXHRwcm90by5wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckNhbmNlbCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHQvLyB1dGlsaXR5IGZ1bmN0aW9uIGZvciBnZXR0aW5nIHgveSBjb29yZHMgZnJvbSBldmVudFxuXHRVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCA9IGZ1bmN0aW9uKCBwb2ludGVyICkge1xuXHQgIHJldHVybiB7XG5cdCAgICB4OiBwb2ludGVyLnBhZ2VYLFxuXHQgICAgeTogcG9pbnRlci5wYWdlWVxuXHQgIH07XG5cdH07XG5cdFxuXHQvLyAtLS0tLSAgLS0tLS0gLy9cblx0XG5cdHJldHVybiBVbmlwb2ludGVyO1xuXHRcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyoqXG5cdCAqIEV2RW1pdHRlciB2MS4wLjNcblx0ICogTGlsJyBldmVudCBlbWl0dGVyXG5cdCAqIE1JVCBMaWNlbnNlXG5cdCAqL1xuXHRcblx0LyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXHRcblx0KCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXHQgIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXHQgIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHdpbmRvdyAqL1xuXHQgIGlmICggdHJ1ZSApIHtcblx0ICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcblx0ICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHQgICAgZ2xvYmFsLkV2RW1pdHRlciA9IGZhY3RvcnkoKTtcblx0ICB9XG5cdFxuXHR9KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oKSB7XG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cdFxuXHR2YXIgcHJvdG8gPSBFdkVtaXR0ZXIucHJvdG90eXBlO1xuXHRcblx0cHJvdG8ub24gPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcblx0ICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICAvLyBzZXQgZXZlbnRzIGhhc2hcblx0ICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuXHQgIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcblx0ICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzWyBldmVudE5hbWUgXSA9IGV2ZW50c1sgZXZlbnROYW1lIF0gfHwgW107XG5cdCAgLy8gb25seSBhZGQgb25jZVxuXHQgIGlmICggbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICkgPT0gLTEgKSB7XG5cdCAgICBsaXN0ZW5lcnMucHVzaCggbGlzdGVuZXIgKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0cHJvdG8ub25jZSA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuXHQgIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIC8vIGFkZCBldmVudFxuXHQgIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcblx0ICAvLyBzZXQgb25jZSBmbGFnXG5cdCAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuXHQgIHZhciBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG5cdCAgLy8gc2V0IG9uY2VMaXN0ZW5lcnMgb2JqZWN0XG5cdCAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuXHQgIC8vIHNldCBmbGFnXG5cdCAgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXSA9IHRydWU7XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0cHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG5cdCAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuXHQgIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG5cdCAgaWYgKCBpbmRleCAhPSAtMSApIHtcblx0ICAgIGxpc3RlbmVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdHByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGFyZ3MgKSB7XG5cdCAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuXHQgIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGkgPSAwO1xuXHQgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcblx0ICBhcmdzID0gYXJncyB8fCBbXTtcblx0ICAvLyBvbmNlIHN0dWZmXG5cdCAgdmFyIG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXHRcblx0ICB3aGlsZSAoIGxpc3RlbmVyICkge1xuXHQgICAgdmFyIGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcblx0ICAgIGlmICggaXNPbmNlICkge1xuXHQgICAgICAvLyByZW1vdmUgbGlzdGVuZXJcblx0ICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG5cdCAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG5cdCAgICAgIC8vIHVuc2V0IG9uY2UgZmxhZ1xuXHQgICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcblx0ICAgIH1cblx0ICAgIC8vIHRyaWdnZXIgbGlzdGVuZXJcblx0ICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG5cdCAgICAvLyBnZXQgbmV4dCBsaXN0ZW5lclxuXHQgICAgaSArPSBpc09uY2UgPyAwIDogMTtcblx0ICAgIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRyZXR1cm4gRXZFbWl0dGVyO1xuXHRcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvLyBpcy5qcyAwLjguMFxuXHQvLyBBdXRob3I6IEFyYXMgQXRhc2F5Z2luXG5cdFxuXHQvLyBBTUQgd2l0aCBnbG9iYWwsIE5vZGUsIG9yIGdsb2JhbFxuXHQ7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0ICAgIGlmKHRydWUpIHtcblx0ICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdCAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAvLyBBbHNvIGNyZWF0ZSBhIGdsb2JhbCBpbiBjYXNlIHNvbWUgc2NyaXB0c1xuXHQgICAgICAgICAgICAvLyB0aGF0IGFyZSBsb2FkZWQgc3RpbGwgYXJlIGxvb2tpbmcgZm9yXG5cdCAgICAgICAgICAgIC8vIGEgZ2xvYmFsIGV2ZW4gd2hlbiBhbiBBTUQgbG9hZGVyIGlzIGluIHVzZS5cblx0ICAgICAgICAgICAgcmV0dXJuIChyb290LmlzID0gZmFjdG9yeSgpKTtcblx0ICAgICAgICB9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgICAgfSBlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAgICAgLy8gbGlrZSBOb2RlLlxuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHQgICAgICAgIHJvb3QuaXMgPSBmYWN0b3J5KCk7XG5cdCAgICB9XG5cdH0gKHRoaXMsIGZ1bmN0aW9uKCkge1xuXHRcblx0ICAgIC8vIEJhc2VsaW5lXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIHZhciByb290ID0gdGhpcyB8fCBnbG9iYWw7XG5cdCAgICB2YXIgcHJldmlvdXNJcyA9IHJvb3QuaXM7XG5cdFxuXHQgICAgLy8gZGVmaW5lICdpcycgb2JqZWN0IGFuZCBjdXJyZW50IHZlcnNpb25cblx0ICAgIHZhciBpcyA9IHt9O1xuXHQgICAgaXMuVkVSU0lPTiA9ICcwLjguMCc7XG5cdFxuXHQgICAgLy8gZGVmaW5lIGludGVyZmFjZXNcblx0ICAgIGlzLm5vdCA9IHt9O1xuXHQgICAgaXMuYWxsID0ge307XG5cdCAgICBpcy5hbnkgPSB7fTtcblx0XG5cdCAgICAvLyBjYWNoZSBzb21lIG1ldGhvZHMgdG8gY2FsbCBsYXRlciBvblxuXHQgICAgdmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0ICAgIHZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHQgICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdCAgICAvLyBoZWxwZXIgZnVuY3Rpb24gd2hpY2ggcmV2ZXJzZXMgdGhlIHNlbnNlIG9mIHByZWRpY2F0ZSByZXN1bHRcblx0ICAgIGZ1bmN0aW9uIG5vdChmdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gIWZ1bmMuYXBwbHkobnVsbCwgYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gaGVscGVyIGZ1bmN0aW9uIHdoaWNoIGNhbGwgcHJlZGljYXRlIGZ1bmN0aW9uIHBlciBwYXJhbWV0ZXIgYW5kIHJldHVybiB0cnVlIGlmIGFsbCBwYXNzXG5cdCAgICBmdW5jdGlvbiBhbGwoZnVuYykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuXHQgICAgICAgICAgICBpZihsZW5ndGggPT09IDEgJiYgaXMuYXJyYXkocGFyYW1ldGVyc1swXSkpIHsgICAgLy8gc3VwcG9ydCBhcnJheVxuXHQgICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnNbMF07XG5cdCAgICAgICAgICAgICAgICBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWZ1bmMuY2FsbChudWxsLCBwYXJhbWV0ZXJzW2ldKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbnkgcGFzc1xuXHQgICAgZnVuY3Rpb24gYW55KGZ1bmMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcblx0ICAgICAgICAgICAgaWYobGVuZ3RoID09PSAxICYmIGlzLmFycmF5KHBhcmFtZXRlcnNbMF0pKSB7ICAgIC8vIHN1cHBvcnQgYXJyYXlcblx0ICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuXHQgICAgICAgICAgICAgICAgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGZ1bmMuY2FsbChudWxsLCBwYXJhbWV0ZXJzW2ldKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFR5cGUgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQXJndW1lbnRzP1xuXHQgICAgaXMuYXJndW1lbnRzID0gZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gZmFsbGJhY2sgY2hlY2sgaXMgZm9yIElFXG5cdCAgICAgICAgcmV0dXJuIGlzLm5vdC5udWxsKHZhbHVlKSAmJiAodG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICdjYWxsZWUnIGluIHZhbHVlKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQXJyYXk/XG5cdCAgICBpcy5hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gY2hlY2sgbmF0aXZlIGlzQXJyYXkgZmlyc3Rcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQm9vbGVhbj9cblx0ICAgIGlzLmJvb2xlYW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBEYXRlIE9iamVjdD9cblx0ICAgIGlzLmRhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEVycm9yIG9iamVjdD9cblx0ICAgIGlzLmVycm9yID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEVycm9yXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZnVuY3Rpb24/XG5cdCAgICBpcy5mdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgTmFOP1xuXHQgICAgaXMubmFuID0gZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gTmFOIGlzIG51bWJlciA6KSBBbHNvIGl0IGlzIHRoZSBvbmx5IHZhbHVlIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZlxuXHQgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVsbD9cblx0ICAgIGlzLm51bGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBudW1iZXI/XG5cdCAgICBpcy5udW1iZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpcy5ub3QubmFuKHZhbHVlKSAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgb2JqZWN0P1xuXHQgICAgaXMub2JqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0ICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBnaXZlbiB2YWx1ZSBhIHB1cmUgSlNPTiBvYmplY3Q/XG5cdCAgICBpcy5qc29uID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIFJlZ0V4cD9cblx0ICAgIGlzLnJlZ2V4cCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gYXJlIGdpdmVuIHZhbHVlcyBzYW1lIHR5cGU/XG5cdCAgICAvLyBwcmV2ZW50IE5hTiwgTnVtYmVyIHNhbWUgdHlwZSBjaGVja1xuXHQgICAgaXMuc2FtZVR5cGUgPSBmdW5jdGlvbih2YWx1ZTEsIHZhbHVlMikge1xuXHQgICAgICAgIGlmKGlzLm5hbih2YWx1ZTEpIHx8IGlzLm5hbih2YWx1ZTIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy5uYW4odmFsdWUxKSA9PT0gaXMubmFuKHZhbHVlMik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlMSkgPT09IHRvU3RyaW5nLmNhbGwodmFsdWUyKTtcblx0ICAgIH07XG5cdCAgICAvLyBzYW1lVHlwZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuc2FtZVR5cGUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIFN0cmluZz9cblx0ICAgIGlzLnN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBTdHJpbmddJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBDaGFyP1xuXHQgICAgaXMuY2hhciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAxO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHVuZGVmaW5lZD9cblx0ICAgIGlzLnVuZGVmaW5lZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIFByZXNlbmNlIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvL2lzIGEgZ2l2ZW4gdmFsdWUgZW1wdHk/IE9iamVjdHMsIGFycmF5cywgc3RyaW5nc1xuXHQgICAgaXMuZW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIGlmKGlzLm9iamVjdCh2YWx1ZSkpe1xuXHQgICAgICAgICAgICB2YXIgbnVtID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aDtcblx0ICAgICAgICAgICAgaWYobnVtID09PSAwIHx8IChudW0gPT09IDEgJiYgaXMuYXJyYXkodmFsdWUpKSB8fCAobnVtID09PSAyICYmIGlzLmFyZ3VtZW50cyh2YWx1ZSkpKXtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBleGlzdHk/XG5cdCAgICBpcy5leGlzdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHRydXRoeT9cblx0ICAgIGlzLnRydXRoeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmV4aXN0eSh2YWx1ZSkgJiYgdmFsdWUgIT09IGZhbHNlICYmIGlzLm5vdC5uYW4odmFsdWUpICYmIHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZhbHN5P1xuXHQgICAgaXMuZmFsc3kgPSBub3QoaXMudHJ1dGh5KTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHNwYWNlP1xuXHQgICAgLy8gaG9yaXphbnRhbCB0YWI6IDksIGxpbmUgZmVlZDogMTAsIHZlcnRpY2FsIHRhYjogMTEsIGZvcm0gZmVlZDogMTIsIGNhcnJpYWdlIHJldHVybjogMTMsIHNwYWNlOiAzMlxuXHQgICAgaXMuc3BhY2UgPSAgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICBpZihpcy5jaGFyKHZhbHVlKSkge1xuXHQgICAgICAgICAgICB2YXIgY2hhcmFjdGVyQ29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG5cdCAgICAgICAgICAgIHJldHVybiAoY2hhcmFjdGVyQ29kZSA+ICA4ICYmIGNoYXJhY3RlckNvZGUgPCAxNCkgfHwgY2hhcmFjdGVyQ29kZSA9PT0gMzI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgLy8gQXJpdGhtZXRpYyBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy8gYXJlIGdpdmVuIHZhbHVlcyBlcXVhbD8gc3VwcG9ydHMgbnVtYmVycywgc3RyaW5ncywgcmVnZXhwcywgYm9vbGVhbnNcblx0ICAgIC8vIFRPRE86IEFkZCBvYmplY3QgYW5kIGFycmF5IHN1cHBvcnRcblx0ICAgIGlzLmVxdWFsID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcblx0ICAgICAgICAvLyBjaGVjayAwIGFuZCAtMCBlcXVpdHkgd2l0aCBJbmZpbml0eSBhbmQgLUluZmluaXR5XG5cdCAgICAgICAgaWYoaXMuYWxsLm51bWJlcih2YWx1ZTEsIHZhbHVlMikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlMSA9PT0gdmFsdWUyICYmIDEgLyB2YWx1ZTEgPT09IDEgLyB2YWx1ZTI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIGNoZWNrIHJlZ2V4cHMgYXMgc3RyaW5ncyB0b29cblx0ICAgICAgICBpZihpcy5hbGwuc3RyaW5nKHZhbHVlMSwgdmFsdWUyKSB8fCBpcy5hbGwucmVnZXhwKHZhbHVlMSwgdmFsdWUyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTEgPT09ICcnICsgdmFsdWUyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZihpcy5hbGwuYm9vbGVhbih2YWx1ZTEsIHZhbHVlMikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlMSA9PT0gdmFsdWUyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHQgICAgLy8gZXF1YWwgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmVxdWFsLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgZXZlbj9cblx0ICAgIGlzLmV2ZW4gPSBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iICUgMiA9PT0gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgb2RkP1xuXHQgICAgaXMub2RkID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDE7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHBvc2l0aXZlP1xuXHQgICAgaXMucG9zaXRpdmUgPSBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iID4gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgbmVnYXRpdmU/XG5cdCAgICBpcy5uZWdhdGl2ZSA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgPCAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBhYm92ZSBtaW5pbXVtIHBhcmFtZXRlcj9cblx0ICAgIGlzLmFib3ZlID0gZnVuY3Rpb24obnVtYiwgbWluKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWluKSAmJiBudW1iID4gbWluO1xuXHQgICAgfTtcblx0ICAgIC8vIGFib3ZlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5hYm92ZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGFib3ZlIG1heGltdW0gcGFyYW1ldGVyP1xuXHQgICAgaXMudW5kZXIgPSBmdW5jdGlvbihudW1iLCBtYXgpIHtcblx0ICAgICAgICByZXR1cm4gaXMuYWxsLm51bWJlcihudW1iLCBtYXgpICYmIG51bWIgPCBtYXg7XG5cdCAgICB9O1xuXHQgICAgLy8gbGVhc3QgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnVuZGVyLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgd2l0aGluIG1pbmltdW0gYW5kIG1heGltdW0gcGFyYW1ldGVycz9cblx0ICAgIGlzLndpdGhpbiA9IGZ1bmN0aW9uKG51bWIsIG1pbiwgbWF4KSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWluLCBtYXgpICYmIG51bWIgPiBtaW4gJiYgbnVtYiA8IG1heDtcblx0ICAgIH07XG5cdCAgICAvLyB3aXRoaW4gbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLndpdGhpbi5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGRlY2ltYWw/XG5cdCAgICBpcy5kZWNpbWFsID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDEgIT09IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGludGVnZXI/XG5cdCAgICBpcy5pbnRlZ2VyID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDEgPT09IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGZpbml0ZT9cblx0ICAgIGlzLmZpbml0ZSA9IGlzRmluaXRlIHx8IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gbnVtYiAhPT0gSW5maW5pdHkgJiYgbnVtYiAhPT0gLUluZmluaXR5ICYmIGlzLm5vdC5uYW4obnVtYik7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGluZmluaXRlP1xuXHQgICAgaXMuaW5maW5pdGUgPSBub3QoaXMuZmluaXRlKTtcblx0XG5cdCAgICAvLyBSZWdleHAgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHQgICAgLy8gU3RldmVuIExldml0aGFuLCBKYW4gR295dmFlcnRzOiBSZWd1bGFyIEV4cHJlc3Npb25zIENvb2tib29rXG5cdCAgICAvLyBTY290dCBHb256YWxlejogRW1haWwgYWRkcmVzcyB2YWxpZGF0aW9uXG5cdFxuXHQgICAgLy8gZXBwUGhvbmUgbWF0Y2ggZXh0ZW5zaWJsZSBwcm92aXNpb25pbmcgcHJvdG9jb2wgZm9ybWF0XG5cdCAgICAvLyBuYW5wUGhvbmUgbWF0Y2ggbm9ydGggYW1lcmljYW4gbnVtYmVyIHBsYW4gZm9ybWF0XG5cdCAgICAvLyBkYXRlU3RyaW5nIG1hdGNoIG0vZC95eSBhbmQgbW0vZGQveXl5eSwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIG9uZSBvciB0d28gZGlnaXRzIGZvciB0aGUgZGF5IGFuZCBtb250aCwgYW5kIHR3byBvciBmb3VyIGRpZ2l0cyBmb3IgdGhlIHllYXJcblx0ICAgIC8vIHRpbWUgbWF0Y2ggaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLCAyNC1ob3VyIGNsb2NrXG5cdCAgICB2YXIgcmVnZXhwcyA9IHtcblx0ICAgICAgICB1cmw6IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmZdezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvXFxTKik/JC9pLFxuXHQgICAgICAgIGVtYWlsOiAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2ksXG5cdCAgICAgICAgY3JlZGl0Q2FyZDogL14oPzooNFswLTldezEyfSg/OlswLTldezN9KT8pfCg1WzEtNV1bMC05XXsxNH0pfCg2KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0pfCgzWzQ3XVswLTldezEzfSl8KDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSl8KCg/OjIxMzF8MTgwMHwzNVswLTldezN9KVswLTldezExfSkpJC8sXG5cdCAgICAgICAgYWxwaGFOdW1lcmljOiAvXltBLVphLXowLTldKyQvLFxuXHQgICAgICAgIHRpbWVTdHJpbmc6IC9eKDJbMC0zXXxbMDFdP1swLTldKTooWzAtNV0/WzAtOV0pOihbMC01XT9bMC05XSkkLyxcblx0ICAgICAgICBkYXRlU3RyaW5nOiAvXigxWzAtMl18MD9bMS05XSlcXC8oM1swMV18WzEyXVswLTldfDA/WzEtOV0pXFwvKD86WzAtOV17Mn0pP1swLTldezJ9JC8sXG5cdCAgICAgICAgdXNaaXBDb2RlOiAvXlswLTldezV9KD86LVswLTldezR9KT8kLyxcblx0ICAgICAgICBjYVBvc3RhbENvZGU6IC9eKD8hLipbREZJT1FVXSlbQS1WWFldWzAtOV1bQS1aXVxccz9bMC05XVtBLVpdWzAtOV0kLyxcblx0ICAgICAgICB1a1Bvc3RDb2RlOiAvXltBLVpdezEsMn1bMC05UkNITlFdWzAtOUEtWl0/XFxzP1swLTldW0FCRC1ISkxOUC1VVy1aXXsyfSR8XltBLVpdezJ9LT9bMC05XXs0fSQvLFxuXHQgICAgICAgIG5hbnBQaG9uZTogL15cXCg/KFswLTldezN9KVxcKT9bLS4gXT8oWzAtOV17M30pWy0uIF0/KFswLTldezR9KSQvLFxuXHQgICAgICAgIGVwcFBob25lOiAvXlxcK1swLTldezEsM31cXC5bMC05XXs0LDE0fSg/OnguKyk/JC8sXG5cdCAgICAgICAgc29jaWFsU2VjdXJpdHlOdW1iZXI6IC9eKD8hMDAwfDY2NilbMC04XVswLTldezJ9LSg/ITAwKVswLTldezJ9LSg/ITAwMDApWzAtOV17NH0kLyxcblx0ICAgICAgICBhZmZpcm1hdGl2ZTogL14oPzoxfHQoPzpydWUpP3x5KD86ZXMpP3xvayg/OmF5KT8pJC8sXG5cdCAgICAgICAgaGV4YWRlY2ltYWw6IC9eWzAtOWEtZkEtRl0rJC8sXG5cdCAgICAgICAgaGV4Q29sb3I6IC9eIz8oWzAtOWEtZkEtRl17M318WzAtOWEtZkEtRl17Nn0pJC8sXG5cdCAgICAgICAgaXB2NDogL14oPzooPzpcXGR8WzEtOV1cXGR8MVxcZHsyfXwyWzAtNF1cXGR8MjVbMC01XSlcXC4pezN9KD86XFxkfFsxLTldXFxkfDFcXGR7Mn18MlswLTRdXFxkfDI1WzAtNV0pJC8sXG5cdCAgICAgICAgaXB2NjogL14oKFthLXpBLVpdfFthLXpBLVpdW2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pXFwuKSooW0EtWmEtel18W0EtWmEtel1bQS1aYS16MC05XFwtXSpbQS1aYS16MC05XSkkfF5cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLFxuXHQgICAgICAgIGlwOiAvXigoWzAtOV18WzEtOV1bMC05XXwxWzAtOV17Mn18MlswLTRdWzAtOV18MjVbMC01XSlcXC4pezN9KFswLTldfFsxLTldWzAtOV18MVswLTldezJ9fDJbMC00XVswLTldfDI1WzAtNV0pJHxeKChbYS16QS1aXXxbYS16QS1aXVthLXpBLVowLTlcXC1dKlthLXpBLVowLTldKVxcLikqKFtBLVphLXpdfFtBLVphLXpdW0EtWmEtejAtOVxcLV0qW0EtWmEtejAtOV0pJHxeXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokL1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBjcmVhdGUgcmVnZXhwIGNoZWNrcyBtZXRob2RzIGZyb20gJ3JlZ2V4cCcgb2JqZWN0XG5cdCAgICBmb3IodmFyIHJlZ2V4cCBpbiByZWdleHBzKSB7XG5cdCAgICAgICAgaWYocmVnZXhwcy5oYXNPd25Qcm9wZXJ0eShyZWdleHApKSB7XG5cdCAgICAgICAgICAgIHJlZ2V4cENoZWNrKHJlZ2V4cCwgcmVnZXhwcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJlZ2V4cENoZWNrKHJlZ2V4cCwgcmVnZXhwcykge1xuXHQgICAgICAgIGlzW3JlZ2V4cF0gPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVnZXhwc1tyZWdleHBdLnRlc3QodmFsdWUpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU3RyaW5nIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBpbmNsdWRlIHBhcmFtZXRlciBzdWJzdHJpbmc/XG5cdCAgICBpcy5pbmNsdWRlID0gZnVuY3Rpb24oc3RyLCBzdWJzdHIpIHtcblx0ICAgICAgICByZXR1cm4gc3RyLmluZGV4T2Yoc3Vic3RyKSA+IC0xO1xuXHQgICAgfTtcblx0ICAgIC8vIGluY2x1ZGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmluY2x1ZGUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBhbGwgdXBwZXJjYXNlP1xuXHQgICAgaXMudXBwZXJDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvVXBwZXJDYXNlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gc3RyaW5nIGFsbCBsb3dlcmNhc2U/XG5cdCAgICBpcy5sb3dlckNhc2UgPSBmdW5jdGlvbihzdHIpIHtcblx0ICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyID09PSBzdHIudG9Mb3dlckNhc2UoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgc3RyaW5nIHN0YXJ0IHdpdGggYSBnaXZlbiBzdGFydFdpdGggcGFyYW1ldGVyP1xuXHQgICAgaXMuc3RhcnRXaXRoID0gZnVuY3Rpb24oc3RyLCBzdGFydFdpdGgpIHtcblx0ICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2Yoc3RhcnRXaXRoKSA9PT0gMDtcblx0ICAgIH07XG5cdCAgICAvLyBzdGFydFdpdGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnN0YXJ0V2l0aC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIHN0cmluZyBlbmQgd2l0aCBhIGdpdmVuIGVuZFdpdGggcGFyYW1ldGVyP1xuXHQgICAgaXMuZW5kV2l0aCA9IGZ1bmN0aW9uKHN0ciwgZW5kV2l0aCkge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIuaW5kZXhPZihlbmRXaXRoKSA+IC0xICYmIHN0ci5pbmRleE9mKGVuZFdpdGgpID09PSBzdHIubGVuZ3RoIC0gIGVuZFdpdGgubGVuZ3RoO1xuXHQgICAgfTtcblx0ICAgIC8vIGVuZFdpdGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmVuZFdpdGguYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBvciBzZW50ZW5jZSBjYXBpdGFsaXplZD9cblx0ICAgIGlzLmNhcGl0YWxpemVkID0gZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgaWYoaXMubm90LnN0cmluZyhzdHIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHdvcmRzID0gc3RyLnNwbGl0KCcgJyk7XG5cdCAgICAgICAgdmFyIGNhcGl0YWxpemVkID0gW107XG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGNhcGl0YWxpemVkLnB1c2god29yZHNbaV1bMF0gPT09IHdvcmRzW2ldWzBdLnRvVXBwZXJDYXNlKCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaXMuYWxsLnRydXRoeS5hcHBseShudWxsLCBjYXBpdGFsaXplZCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gc3RyaW5nIHBhbGluZHJvbWU/XG5cdCAgICBpcy5wYWxpbmRyb21lID0gZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PSBzdHIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gVGltZSBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgdmFyIGRheXMgPSBbJ3N1bmRheScsICdtb25kYXknLCAndHVlc2RheScsICd3ZWRuZXNkYXknLCAndGh1cnNkYXknLCAnZnJpZGF5JywgJ3NhdHVyZGF5J107XG5cdCAgICB2YXIgbW9udGhzID0gWydqYW51YXJ5JywgJ2ZlYnJ1YXJ5JywgJ21hcmNoJywgJ2FwcmlsJywgJ21heScsICdqdW5lJywgJ2p1bHknLCAnYXVndXN0JywgJ3NlcHRlbWJlcicsICdvY3RvYmVyJywgJ25vdmVtYmVyJywgJ2RlY2VtYmVyJ107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHRvZGF5P1xuXHQgICAgaXMudG9kYXkgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0ICAgICAgICB2YXIgdG9kYXlTdHJpbmcgPSBub3cudG9EYXRlU3RyaW5nKCk7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmoudG9EYXRlU3RyaW5nKCkgPT09IHRvZGF5U3RyaW5nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW5kaWNhdGUgeWVzdGVyZGF5P1xuXHQgICAgaXMueWVzdGVyZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgdmFyIHllc3RlcmRheVN0cmluZyA9IG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKSkudG9EYXRlU3RyaW5nKCk7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmoudG9EYXRlU3RyaW5nKCkgPT09IHllc3RlcmRheVN0cmluZztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHRvbW9ycm93P1xuXHQgICAgaXMudG9tb3Jyb3cgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0ICAgICAgICB2YXIgdG9tb3Jyb3dTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgMSkpLnRvRGF0ZVN0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b21vcnJvd1N0cmluZztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIHBhc3Q/XG5cdCAgICBpcy5wYXN0ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmouZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGZ1dHVyZT9cblx0ICAgIGlzLmZ1dHVyZSA9IG5vdChpcy5wYXN0KTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIGRheSBlcXVhbCBnaXZlbiBkYXlTdHJpbmcgcGFyYW1ldGVyP1xuXHQgICAgaXMuZGF5ID0gZnVuY3Rpb24ob2JqLCBkYXlTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIGRheVN0cmluZy50b0xvd2VyQ2FzZSgpID09PSBkYXlzW29iai5nZXREYXkoKV07XG5cdCAgICB9O1xuXHQgICAgLy8gZGF5IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5kYXkuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIG1vbnRoIGVxdWFsIGdpdmVuIG1vbnRoU3RyaW5nIHBhcmFtZXRlcj9cblx0ICAgIGlzLm1vbnRoID0gZnVuY3Rpb24ob2JqLCBtb250aFN0cmluZykge1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgbW9udGhTdHJpbmcudG9Mb3dlckNhc2UoKSA9PT0gbW9udGhzW29iai5nZXRNb250aCgpXTtcblx0ICAgIH07XG5cdCAgICAvLyBtb250aCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMubW9udGguYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIHllYXIgZXF1YWwgZ2l2ZW4geWVhciBwYXJhbWV0ZXI/XG5cdCAgICBpcy55ZWFyID0gZnVuY3Rpb24ob2JqLCB5ZWFyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBpcy5udW1iZXIoeWVhcikgJiYgeWVhciA9PT0gb2JqLmdldEZ1bGxZZWFyKCk7XG5cdCAgICB9O1xuXHQgICAgLy8geWVhciBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMueWVhci5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIHRoZSBnaXZlbiB5ZWFyIGEgbGVhcCB5ZWFyP1xuXHQgICAgaXMubGVhcFllYXIgPSBmdW5jdGlvbih5ZWFyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm51bWJlcih5ZWFyKSAmJiAoKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDApO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgd2Vla2VuZD9cblx0ICAgIC8vIDY6IFNhdHVyZGF5LCAwOiBTdW5kYXlcblx0ICAgIGlzLndlZWtlbmQgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIChvYmouZ2V0RGF5KCkgPT09IDYgfHwgb2JqLmdldERheSgpID09PSAwKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIHdlZWtkYXk/XG5cdCAgICBpcy53ZWVrZGF5ID0gbm90KGlzLndlZWtlbmQpO1xuXHRcblx0ICAgIC8vIGlzIGRhdGUgd2l0aGluIGdpdmVuIHJhbmdlP1xuXHQgICAgaXMuaW5EYXRlUmFuZ2UgPSBmdW5jdGlvbihvYmosIHN0YXJ0T2JqLCBlbmRPYmopIHtcblx0ICAgICAgICBpZihpcy5ub3QuZGF0ZShvYmopIHx8IGlzLm5vdC5kYXRlKHN0YXJ0T2JqKSB8fCBpcy5ub3QuZGF0ZShlbmRPYmopKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGdpdmVuRGF0ZSA9IG9iai5nZXRUaW1lKCk7XG5cdCAgICAgICAgdmFyIHN0YXJ0ID0gc3RhcnRPYmouZ2V0VGltZSgpO1xuXHQgICAgICAgIHZhciBlbmQgPSBlbmRPYmouZ2V0VGltZSgpO1xuXHQgICAgICAgIHJldHVybiBnaXZlbkRhdGUgPiBzdGFydCAmJiBnaXZlbkRhdGUgPCBlbmQ7XG5cdCAgICB9O1xuXHQgICAgLy8gaW5EYXRlUmFuZ2UgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmluRGF0ZVJhbmdlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3Qgd2VlayByYW5nZT9cblx0ICAgIGlzLmluTGFzdFdlZWsgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSksIG5ldyBEYXRlKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbGFzdCBtb250aCByYW5nZT9cblx0ICAgIGlzLmluTGFzdE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUobmV3IERhdGUoKS5zZXRNb250aChuZXcgRGF0ZSgpLmdldE1vbnRoKCkgLSAxKSksIG5ldyBEYXRlKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbGFzdCB5ZWFyIHJhbmdlP1xuXHQgICAgaXMuaW5MYXN0WWVhciA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgd2VlayByYW5nZT9cblx0ICAgIGlzLmluTmV4dFdlZWsgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgKyA3KSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbmV4dCBtb250aCByYW5nZT9cblx0ICAgIGlzLmluTmV4dE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUoKSwgbmV3IERhdGUobmV3IERhdGUoKS5zZXRNb250aChuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxKSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbmV4dCB5ZWFyIHJhbmdlP1xuXHQgICAgaXMuaW5OZXh0WWVhciA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgMSkpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIHRoZSBwYXJhbWV0ZXIgcXVhcnRlcj9cblx0ICAgIGlzLnF1YXJ0ZXJPZlllYXIgPSBmdW5jdGlvbihvYmosIHF1YXJ0ZXJOdW1iZXIpIHtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIGlzLm51bWJlcihxdWFydGVyTnVtYmVyKSAmJiBxdWFydGVyTnVtYmVyID09PSBNYXRoLmZsb29yKChvYmouZ2V0TW9udGgoKSArIDMpIC8gMyk7XG5cdCAgICB9O1xuXHQgICAgLy8gcXVhcnRlck9mWWVhciBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMucXVhcnRlck9mWWVhci5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBkYXlsaWdodCBzYXZpbmcgdGltZT9cblx0ICAgIGlzLmRheUxpZ2h0U2F2aW5nVGltZSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBqYW51YXJ5ID0gbmV3IERhdGUob2JqLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuXHQgICAgICAgIHZhciBqdWx5ID0gbmV3IERhdGUob2JqLmdldEZ1bGxZZWFyKCksIDYsIDEpO1xuXHQgICAgICAgIHZhciBzdGRUaW1lem9uZU9mZnNldCA9IE1hdGgubWF4KGphbnVhcnkuZ2V0VGltZXpvbmVPZmZzZXQoKSwganVseS5nZXRUaW1lem9uZU9mZnNldCgpKTtcblx0ICAgICAgICByZXR1cm4gb2JqLmdldFRpbWV6b25lT2Zmc2V0KCkgPCBzdGRUaW1lem9uZU9mZnNldDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gRW52aXJvbm1lbnQgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIGNoZWNrIGlmIGxpYnJhcnkgaXMgdXNlZCBhcyBhIE5vZGUuanMgbW9kdWxlXG5cdCAgICBpZih0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHRcblx0ICAgICAgICAvLyBzdG9yZSBuYXZpZ2F0b3IgcHJvcGVydGllcyB0byB1c2UgbGF0ZXJcblx0ICAgICAgICB2YXIgdXNlckFnZW50ID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICd1c2VyQWdlbnQnIGluIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgfHwgJyc7XG5cdCAgICAgICAgdmFyIHZlbmRvciA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndmVuZG9yJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnZlbmRvci50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuXHQgICAgICAgIHZhciBhcHBWZXJzaW9uID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICdhcHBWZXJzaW9uJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKSB8fCAnJztcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGNocm9tZT9cblx0ICAgICAgICBpcy5jaHJvbWUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9jaHJvbWV8Y2hyb21pdW0vaS50ZXN0KHVzZXJBZ2VudCkgJiYgL2dvb2dsZSBpbmMvLnRlc3QodmVuZG9yKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGNocm9tZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmNocm9tZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZmlyZWZveD9cblx0ICAgICAgICBpcy5maXJlZm94ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvZmlyZWZveC9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGZpcmVmb3ggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5maXJlZm94LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBlZGdlP1xuXHQgICAgICAgIGlzLmVkZ2UgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9lZGdlL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gZWRnZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmVkZ2UuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGludGVybmV0IGV4cGxvcmVyP1xuXHQgICAgICAgIC8vIHBhcmFtZXRlciBpcyBvcHRpb25hbFxuXHQgICAgICAgIGlzLmllID0gZnVuY3Rpb24odmVyc2lvbikge1xuXHQgICAgICAgICAgICBpZighdmVyc2lvbikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIC9tc2llL2kudGVzdCh1c2VyQWdlbnQpIHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZih2ZXJzaW9uID49IDExKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdtc2llICcgKyB2ZXJzaW9uKS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBpZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmllLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBvcGVyYT9cblx0ICAgICAgICBpcy5vcGVyYSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL15PcGVyYVxcLy8udGVzdCh1c2VyQWdlbnQpIHx8IC8vIE9wZXJhIDEyIGFuZCBvbGRlciB2ZXJzaW9uc1xuXHQgICAgICAgICAgICAgICAgL1xceDIwT1BSXFwvLy50ZXN0KHVzZXJBZ2VudCk7IC8vIE9wZXJhIDE1K1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gb3BlcmEgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5vcGVyYS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgc2FmYXJpP1xuXHQgICAgICAgIGlzLnNhZmFyaSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL3NhZmFyaS9pLnRlc3QodXNlckFnZW50KSAmJiAvYXBwbGUgY29tcHV0ZXIvaS50ZXN0KHZlbmRvcik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBzYWZhcmkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5zYWZhcmkuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaW9zP1xuXHQgICAgICAgIGlzLmlvcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMuaXBob25lKCkgfHwgaXMuaXBhZCgpIHx8IGlzLmlwb2QoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGlvcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlvcy5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcGhvbmU/XG5cdCAgICAgICAgaXMuaXBob25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvaXBob25lL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaXBob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuaXBob25lLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwYWQ/XG5cdCAgICAgICAgaXMuaXBhZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2lwYWQvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBpcGFkIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuaXBhZC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcG9kP1xuXHQgICAgICAgIGlzLmlwb2QgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9pcG9kL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaXBvZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlwb2QuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgYW5kcm9pZD9cblx0ICAgICAgICBpcy5hbmRyb2lkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGFuZHJvaWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5hbmRyb2lkLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQgcGhvbmU/XG5cdCAgICAgICAgaXMuYW5kcm9pZFBob25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSAmJiAvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gYW5kcm9pZFBob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuYW5kcm9pZFBob25lLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQgdGFibGV0P1xuXHQgICAgICAgIGlzLmFuZHJvaWRUYWJsZXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpICYmICEvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gYW5kcm9pZFRhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmFuZHJvaWRUYWJsZXQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgYmxhY2tiZXJyeT9cblx0ICAgICAgICBpcy5ibGFja2JlcnJ5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvYmxhY2tiZXJyeS9pLnRlc3QodXNlckFnZW50KSB8fCAvQkIxMC9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGJsYWNrYmVycnkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5ibGFja2JlcnJ5LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGRlc2t0b3A/XG5cdCAgICAgICAgaXMuZGVza3RvcCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMubm90Lm1vYmlsZSgpICYmIGlzLm5vdC50YWJsZXQoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGRlc2t0b3AgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5kZXNrdG9wLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSBsaW51eD9cblx0ICAgICAgICBpcy5saW51eCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2xpbnV4L2kudGVzdChhcHBWZXJzaW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGxpbnV4IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMubGludXguYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBvcGVyYXRpbmcgc3lzdGVtIG1hYz9cblx0ICAgICAgICBpcy5tYWMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9tYWMvaS50ZXN0KGFwcFZlcnNpb24pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gbWFjIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMubWFjLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSB3aW5kb3dzP1xuXHQgICAgICAgIGlzLndpbmRvd3MgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC93aW4vaS50ZXN0KGFwcFZlcnNpb24pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gd2luZG93cyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLndpbmRvd3MuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2Ugd2luZG93cyBwaG9uZT9cblx0ICAgICAgICBpcy53aW5kb3dzUGhvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiAvcGhvbmUvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyB3aW5kb3dzUGhvbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy53aW5kb3dzUGhvbmUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2Ugd2luZG93cyB0YWJsZXQ/XG5cdCAgICAgICAgaXMud2luZG93c1RhYmxldCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMud2luZG93cygpICYmIGlzLm5vdC53aW5kb3dzUGhvbmUoKSAmJiAvdG91Y2gvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyB3aW5kb3dzVGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMud2luZG93c1RhYmxldC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBtb2JpbGU/XG5cdCAgICAgICAgaXMubW9iaWxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy5pcGhvbmUoKSB8fCBpcy5pcG9kKCkgfHwgaXMuYW5kcm9pZFBob25lKCkgfHwgaXMuYmxhY2tiZXJyeSgpIHx8IGlzLndpbmRvd3NQaG9uZSgpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gbW9iaWxlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMubW9iaWxlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHRhYmxldD9cblx0ICAgICAgICBpcy50YWJsZXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLmlwYWQoKSB8fCBpcy5hbmRyb2lkVGFibGV0KCkgfHwgaXMud2luZG93c1RhYmxldCgpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gdGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMudGFibGV0LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgc3RhdGUgb25saW5lP1xuXHQgICAgICAgIGlzLm9ubGluZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG9ubGluZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLm9ubGluZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IHN0YXRlIG9mZmxpbmU/XG5cdCAgICAgICAgaXMub2ZmbGluZSA9IG5vdChpcy5vbmxpbmUpO1xuXHQgICAgICAgIC8vIG9mZmxpbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5vZmZsaW5lLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHN1cHBvcnRzIHRvdWNoP1xuXHQgICAgICAgIGlzLnRvdWNoRGV2aWNlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwnRG9jdW1lbnRUb3VjaCcgaW4gd2luZG93ICYmIGRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaDtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHRvdWNoRGV2aWNlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMudG91Y2hEZXZpY2UuYXBpID0gWydub3QnXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBPYmplY3QgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIGhhcyBhIGdpdmVuIG9iamVjdCBnb3QgcGFyYW1ldGVyaXplZCBjb3VudCBwcm9wZXJ0eT9cblx0ICAgIGlzLnByb3BlcnR5Q291bnQgPSBmdW5jdGlvbihvYmosIGNvdW50KSB7XG5cdCAgICAgICAgaWYoIWlzLm9iamVjdChvYmopIHx8ICFpcy5udW1iZXIoY291bnQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYoT2JqZWN0LmtleXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSBjb3VudDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXSxcblx0ICAgICAgICAgICAgcHJvcGVydHk7XG5cdCAgICAgICAgZm9yKHByb3BlcnR5IGluIG9iaikge1xuXHQgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkge1xuXHQgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcHJvcGVydGllcy5sZW5ndGggPT09IGNvdW50O1xuXHQgICAgfTtcblx0ICAgIC8vIHByb3BlcnR5Q291bnQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnByb3BlcnR5Q291bnQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBnaXZlbiBvYmplY3QgaGFzIHBhcmFtZXRlcml6ZWQgcHJvcGVydHk/XG5cdCAgICBpcy5wcm9wZXJ0eURlZmluZWQgPSBmdW5jdGlvbihvYmosIHByb3BlcnR5KSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm9iamVjdChvYmopICYmIGlzLnN0cmluZyhwcm9wZXJ0eSkgJiYgcHJvcGVydHkgaW4gb2JqO1xuXHQgICAgfTtcblx0ICAgIC8vIHByb3BlcnR5RGVmaW5lZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMucHJvcGVydHlEZWZpbmVkLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBvYmplY3Qgd2luZG93P1xuXHQgICAgLy8gc2V0SW50ZXJ2YWwgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGZvciB3aW5kb3cgb2JqZWN0XG5cdCAgICBpcy53aW5kb3dPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgJ3NldEludGVydmFsJyBpbiBvYmo7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gb2JqZWN0IGEgRE9NIG5vZGU/XG5cdCAgICBpcy5kb21Ob2RlID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm9iamVjdChvYmopICYmIG9iai5ub2RlVHlwZSA+IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEFycmF5IGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGl0ZW0gaW4gYW4gYXJyYXk/XG5cdCAgICBpcy5pbkFycmF5ID0gZnVuY3Rpb24odmFsLCBhcnIpe1xuXHQgICAgICAgIGlmKGlzLm5vdC5hcnJheShhcnIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoYXJyW2ldID09PSB2YWwpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHQgICAgLy8gaW5BcnJheSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuaW5BcnJheS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gYXJyYXkgc29ydGVkP1xuXHQgICAgaXMuc29ydGVkID0gZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYoaXMubm90LmFycmF5KGFycikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmKGFycltpXSA+IGFycltpICsgMV0pIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEFQSVxuXHQgICAgLy8gU2V0ICdub3QnLCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlcyB0byBtZXRob2RzIGJhc2VkIG9uIHRoZWlyIGFwaSBwcm9wZXJ0eVxuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICBmdW5jdGlvbiBzZXRJbnRlcmZhY2VzKCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gaXM7XG5cdCAgICAgICAgZm9yKHZhciBvcHRpb24gaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICBpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG9wdGlvbikgJiYgaXMuZnVuY3Rpb24ob3B0aW9uc1tvcHRpb25dKSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGludGVyZmFjZXMgPSBvcHRpb25zW29wdGlvbl0uYXBpIHx8IFsnbm90JywgJ2FsbCcsICdhbnknXTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdub3QnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzLm5vdFtvcHRpb25dID0gbm90KGlzW29wdGlvbl0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnYWxsJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpcy5hbGxbb3B0aW9uXSA9IGFsbChpc1tvcHRpb25dKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ2FueScpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXMuYW55W29wdGlvbl0gPSBhbnkoaXNbb3B0aW9uXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgc2V0SW50ZXJmYWNlcygpO1xuXHRcblx0ICAgIC8vIENvbmZpZ3VyYXRpb24gbWV0aG9kc1xuXHQgICAgLy8gSW50ZW50aW9uYWxseSBhZGRlZCBhZnRlciBzZXRJbnRlcmZhY2VzIGZ1bmN0aW9uXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIHNldCBvcHRpb25hbCByZWdleHBzIHRvIG1ldGhvZHMgaWYgeW91IHRoaW5rIHRoZXkgc3Vja1xuXHQgICAgaXMuc2V0UmVnZXhwID0gZnVuY3Rpb24ocmVnZXhwLCByZWdleHBOYW1lKSB7XG5cdCAgICAgICAgZm9yKHZhciByIGluIHJlZ2V4cHMpIHtcblx0ICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChyZWdleHBzLCByKSAmJiAocmVnZXhwTmFtZSA9PT0gcikpIHtcblx0ICAgICAgICAgICAgICAgIHJlZ2V4cHNbcl0gPSByZWdleHA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGNoYW5nZSBuYW1lc3BhY2Ugb2YgbGlicmFyeSB0byBwcmV2ZW50IG5hbWUgY29sbGlzaW9uc1xuXHQgICAgLy8gdmFyIHByZWZlcnJlZE5hbWUgPSBpcy5zZXROYW1lc3BhY2UoKTtcblx0ICAgIC8vIHByZWZlcnJlZE5hbWUub2RkKDMpO1xuXHQgICAgLy8gPT4gdHJ1ZVxuXHQgICAgaXMuc2V0TmFtZXNwYWNlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcm9vdC5pcyA9IHByZXZpb3VzSXM7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBpcztcblx0fSkpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcblx0dmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KGFycikge1xuXHRcdGlmICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiB0b1N0ci5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cdFxuXHR2YXIgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG5cdFx0aWYgKCFvYmogfHwgdG9TdHIuY2FsbChvYmopICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0dmFyIGhhc093bkNvbnN0cnVjdG9yID0gaGFzT3duLmNhbGwob2JqLCAnY29uc3RydWN0b3InKTtcblx0XHR2YXIgaGFzSXNQcm90b3R5cGVPZiA9IG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IucHJvdG90eXBlICYmIGhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG5cdFx0Ly8gTm90IG93biBjb25zdHJ1Y3RvciBwcm9wZXJ0eSBtdXN0IGJlIE9iamVjdFxuXHRcdGlmIChvYmouY29uc3RydWN0b3IgJiYgIWhhc093bkNvbnN0cnVjdG9yICYmICFoYXNJc1Byb3RvdHlwZU9mKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcblx0XHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0XHQvLyBpZiBsYXN0IG9uZSBpcyBvd24sIHRoZW4gYWxsIHByb3BlcnRpZXMgYXJlIG93bi5cblx0XHR2YXIga2V5O1xuXHRcdGZvciAoa2V5IGluIG9iaikgey8qKi99XG5cdFxuXHRcdHJldHVybiB0eXBlb2Yga2V5ID09PSAndW5kZWZpbmVkJyB8fCBoYXNPd24uY2FsbChvYmosIGtleSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4dGVuZCgpIHtcblx0XHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMF0sXG5cdFx0XHRpID0gMSxcblx0XHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0XHRkZWVwID0gZmFsc2U7XG5cdFxuXHRcdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0XHRpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRkZWVwID0gdGFyZ2V0O1xuXHRcdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuXHRcdFx0Ly8gc2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdFx0aSA9IDI7XG5cdFx0fSBlbHNlIGlmICgodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJykgfHwgdGFyZ2V0ID09IG51bGwpIHtcblx0XHRcdHRhcmdldCA9IHt9O1xuXHRcdH1cblx0XG5cdFx0Zm9yICg7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdGlmIChvcHRpb25zICE9IG51bGwpIHtcblx0XHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0XHRmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFtuYW1lXTtcblx0XHRcdFx0XHRjb3B5ID0gb3B0aW9uc1tuYW1lXTtcblx0XG5cdFx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRcdGlmICh0YXJnZXQgIT09IGNvcHkpIHtcblx0XHRcdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRcdFx0aWYgKGRlZXAgJiYgY29weSAmJiAoaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBpc0FycmF5KGNvcHkpKSkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGNvcHlJc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0XHRcdHRhcmdldFtuYW1lXSA9IGV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgY29weSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gY29weTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oQnVmZmVyKSB7dmFyIGNsb25lID0gKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgbmF0aXZlTWFwO1xuXHR0cnkge1xuXHQgIG5hdGl2ZU1hcCA9IE1hcDtcblx0fSBjYXRjaChfKSB7XG5cdCAgLy8gbWF5YmUgYSByZWZlcmVuY2UgZXJyb3IgYmVjYXVzZSBubyBgTWFwYC4gR2l2ZSBpdCBhIGR1bW15IHZhbHVlIHRoYXQgbm9cblx0ICAvLyB2YWx1ZSB3aWxsIGV2ZXIgYmUgYW4gaW5zdGFuY2VvZi5cblx0ICBuYXRpdmVNYXAgPSBmdW5jdGlvbigpIHt9O1xuXHR9XG5cdFxuXHR2YXIgbmF0aXZlU2V0O1xuXHR0cnkge1xuXHQgIG5hdGl2ZVNldCA9IFNldDtcblx0fSBjYXRjaChfKSB7XG5cdCAgbmF0aXZlU2V0ID0gZnVuY3Rpb24oKSB7fTtcblx0fVxuXHRcblx0dmFyIG5hdGl2ZVByb21pc2U7XG5cdHRyeSB7XG5cdCAgbmF0aXZlUHJvbWlzZSA9IFByb21pc2U7XG5cdH0gY2F0Y2goXykge1xuXHQgIG5hdGl2ZVByb21pc2UgPSBmdW5jdGlvbigpIHt9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG5cdCAqXG5cdCAqIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgY2lyY3VsYXIgcmVmZXJlbmNlcyBieSBkZWZhdWx0LCBidXQgaWYgeW91IGFyZSBjZXJ0YWluXG5cdCAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuXHQgKiBieSBjYWxsaW5nIGNsb25lKG9iaiwgZmFsc2UpLlxuXHQgKlxuXHQgKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuXHQgKiB5b3VyIHByb2dyYW0gbWF5IGVudGVyIGFuIGluZmluaXRlIGxvb3AgYW5kIGNyYXNoLlxuXHQgKlxuXHQgKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuXHQgKiBAcGFyYW0gYGNpcmN1bGFyYCAtIHNldCB0byB0cnVlIGlmIHRoZSBvYmplY3QgdG8gYmUgY2xvbmVkIG1heSBjb250YWluXG5cdCAqICAgIGNpcmN1bGFyIHJlZmVyZW5jZXMuIChvcHRpb25hbCAtIHRydWUgYnkgZGVmYXVsdClcblx0ICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuXHQgKiAgICBhIHBhcnRpY3VsYXIgZGVwdGguIChvcHRpb25hbCAtIGRlZmF1bHRzIHRvIEluZmluaXR5KVxuXHQgKiBAcGFyYW0gYHByb3RvdHlwZWAgLSBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgdXNlZCB3aGVuIGNsb25pbmcgYW4gb2JqZWN0LlxuXHQgKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cblx0ICogQHBhcmFtIGBpbmNsdWRlTm9uRW51bWVyYWJsZWAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgbm9uLWVudW1lcmFibGUgcHJvcGVydGllc1xuXHQgKiAgICBzaG91bGQgYmUgY2xvbmVkIGFzIHdlbGwuIE5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgb24gdGhlIHByb3RvdHlwZVxuXHQgKiAgICBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuIChvcHRpb25hbCAtIGZhbHNlIGJ5IGRlZmF1bHQpXG5cdCovXG5cdGZ1bmN0aW9uIGNsb25lKHBhcmVudCwgY2lyY3VsYXIsIGRlcHRoLCBwcm90b3R5cGUsIGluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG5cdCAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PT0gJ29iamVjdCcpIHtcblx0ICAgIGRlcHRoID0gY2lyY3VsYXIuZGVwdGg7XG5cdCAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG5cdCAgICBpbmNsdWRlTm9uRW51bWVyYWJsZSA9IGNpcmN1bGFyLmluY2x1ZGVOb25FbnVtZXJhYmxlO1xuXHQgICAgY2lyY3VsYXIgPSBjaXJjdWxhci5jaXJjdWxhcjtcblx0ICB9XG5cdCAgLy8gbWFpbnRhaW4gdHdvIGFycmF5cyBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcywgd2hlcmUgY29ycmVzcG9uZGluZyBwYXJlbnRzXG5cdCAgLy8gYW5kIGNoaWxkcmVuIGhhdmUgdGhlIHNhbWUgaW5kZXhcblx0ICB2YXIgYWxsUGFyZW50cyA9IFtdO1xuXHQgIHZhciBhbGxDaGlsZHJlbiA9IFtdO1xuXHRcblx0ICB2YXIgdXNlQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciAhPSAndW5kZWZpbmVkJztcblx0XG5cdCAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PSAndW5kZWZpbmVkJylcblx0ICAgIGNpcmN1bGFyID0gdHJ1ZTtcblx0XG5cdCAgaWYgKHR5cGVvZiBkZXB0aCA9PSAndW5kZWZpbmVkJylcblx0ICAgIGRlcHRoID0gSW5maW5pdHk7XG5cdFxuXHQgIC8vIHJlY3Vyc2UgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCByZXNldCBhbGxQYXJlbnRzIGFuZCBhbGxDaGlsZHJlblxuXHQgIGZ1bmN0aW9uIF9jbG9uZShwYXJlbnQsIGRlcHRoKSB7XG5cdCAgICAvLyBjbG9uaW5nIG51bGwgYWx3YXlzIHJldHVybnMgbnVsbFxuXHQgICAgaWYgKHBhcmVudCA9PT0gbnVsbClcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdFxuXHQgICAgaWYgKGRlcHRoID09PSAwKVxuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHRcblx0ICAgIHZhciBjaGlsZDtcblx0ICAgIHZhciBwcm90bztcblx0ICAgIGlmICh0eXBlb2YgcGFyZW50ICE9ICdvYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiBwYXJlbnQ7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZU1hcCkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBuYXRpdmVNYXAoKTtcblx0ICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlU2V0KSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZVNldCgpO1xuXHQgICAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVQcm9taXNlKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgIHBhcmVudC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICByZXNvbHZlKF9jbG9uZSh2YWx1ZSwgZGVwdGggLSAxKSk7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG5cdCAgICAgICAgICByZWplY3QoX2Nsb25lKGVyciwgZGVwdGggLSAxKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzQXJyYXkocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IFtdO1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgUmVnRXhwKHBhcmVudC5zb3VyY2UsIF9fZ2V0UmVnRXhwRmxhZ3MocGFyZW50KSk7XG5cdCAgICAgIGlmIChwYXJlbnQubGFzdEluZGV4KSBjaGlsZC5sYXN0SW5kZXggPSBwYXJlbnQubGFzdEluZGV4O1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IERhdGUocGFyZW50LmdldFRpbWUoKSk7XG5cdCAgICB9IGVsc2UgaWYgKHVzZUJ1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG5cdCAgICAgIHBhcmVudC5jb3B5KGNoaWxkKTtcblx0ICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocGFyZW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGFyZW50KTtcblx0ICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuXHQgICAgICB9XG5cdCAgICAgIGVsc2Uge1xuXHQgICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXHQgICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNpcmN1bGFyKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IGFsbFBhcmVudHMuaW5kZXhPZihwYXJlbnQpO1xuXHRcblx0ICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuIGFsbENoaWxkcmVuW2luZGV4XTtcblx0ICAgICAgfVxuXHQgICAgICBhbGxQYXJlbnRzLnB1c2gocGFyZW50KTtcblx0ICAgICAgYWxsQ2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZU1hcCkge1xuXHQgICAgICB2YXIga2V5SXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuXHQgICAgICB3aGlsZSh0cnVlKSB7XG5cdCAgICAgICAgdmFyIG5leHQgPSBrZXlJdGVyYXRvci5uZXh0KCk7XG5cdCAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBrZXlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIHZhciB2YWx1ZUNoaWxkID0gX2Nsb25lKHBhcmVudC5nZXQobmV4dC52YWx1ZSksIGRlcHRoIC0gMSk7XG5cdCAgICAgICAgY2hpbGQuc2V0KGtleUNoaWxkLCB2YWx1ZUNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVNldCkge1xuXHQgICAgICB2YXIgaXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuXHQgICAgICB3aGlsZSh0cnVlKSB7XG5cdCAgICAgICAgdmFyIG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG5cdCAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlbnRyeUNoaWxkID0gX2Nsb25lKG5leHQudmFsdWUsIGRlcHRoIC0gMSk7XG5cdCAgICAgICAgY2hpbGQuYWRkKGVudHJ5Q2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSBpbiBwYXJlbnQpIHtcblx0ICAgICAgdmFyIGF0dHJzO1xuXHQgICAgICBpZiAocHJvdG8pIHtcblx0ICAgICAgICBhdHRycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIGkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoYXR0cnMgJiYgYXR0cnMuc2V0ID09IG51bGwpIHtcblx0ICAgICAgICBjb250aW51ZTtcblx0ICAgICAgfVxuXHQgICAgICBjaGlsZFtpXSA9IF9jbG9uZShwYXJlbnRbaV0sIGRlcHRoIC0gMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0ICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHBhcmVudCk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIC8vIERvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgY2xvbmluZyBhIHN5bWJvbCBiZWNhdXNlIGl0IGlzIGEgcHJpbWl0aXZlLFxuXHQgICAgICAgIC8vIGxpa2UgYSBudW1iZXIgb3Igc3RyaW5nLlxuXHQgICAgICAgIHZhciBzeW1ib2wgPSBzeW1ib2xzW2ldO1xuXHQgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHN5bWJvbCk7XG5cdCAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3IuZW51bWVyYWJsZSAmJiAhaW5jbHVkZU5vbkVudW1lcmFibGUpIHtcblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjaGlsZFtzeW1ib2xdID0gX2Nsb25lKHBhcmVudFtzeW1ib2xdLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIGlmICghZGVzY3JpcHRvci5lbnVtZXJhYmxlKSB7XG5cdCAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsIHN5bWJvbCwge1xuXHQgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG5cdCAgICAgIHZhciBhbGxQcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocGFyZW50KTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxQcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGFsbFByb3BlcnR5TmFtZXNbaV07XG5cdCAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudCwgcHJvcGVydHlOYW1lKTtcblx0ICAgICAgICBpZiAoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjaGlsZFtwcm9wZXJ0eU5hbWVdID0gX2Nsb25lKHBhcmVudFtwcm9wZXJ0eU5hbWVdLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgcHJvcGVydHlOYW1lLCB7XG5cdCAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNoaWxkO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIF9jbG9uZShwYXJlbnQsIGRlcHRoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFNpbXBsZSBmbGF0IGNsb25lIHVzaW5nIHByb3RvdHlwZSwgYWNjZXB0cyBvbmx5IG9iamVjdHMsIHVzZWZ1bGwgZm9yIHByb3BlcnR5XG5cdCAqIG92ZXJyaWRlIG9uIEZMQVQgY29uZmlndXJhdGlvbiBvYmplY3QgKG5vIG5lc3RlZCBwcm9wcykuXG5cdCAqXG5cdCAqIFVTRSBXSVRIIENBVVRJT04hIFRoaXMgbWF5IG5vdCBiZWhhdmUgYXMgeW91IHdpc2ggaWYgeW91IGRvIG5vdCBrbm93IGhvdyB0aGlzXG5cdCAqIHdvcmtzLlxuXHQgKi9cblx0Y2xvbmUuY2xvbmVQcm90b3R5cGUgPSBmdW5jdGlvbiBjbG9uZVByb3RvdHlwZShwYXJlbnQpIHtcblx0ICBpZiAocGFyZW50ID09PSBudWxsKVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdFxuXHQgIHZhciBjID0gZnVuY3Rpb24gKCkge307XG5cdCAgYy5wcm90b3R5cGUgPSBwYXJlbnQ7XG5cdCAgcmV0dXJuIG5ldyBjKCk7XG5cdH07XG5cdFxuXHQvLyBwcml2YXRlIHV0aWxpdHkgZnVuY3Rpb25zXG5cdFxuXHRmdW5jdGlvbiBfX29ialRvU3RyKG8pIHtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xuXHR9XG5cdGNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXHRcblx0ZnVuY3Rpb24gX19pc0RhdGUobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9XG5cdGNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cdFxuXHRmdW5jdGlvbiBfX2lzQXJyYXkobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXHRjbG9uZS5fX2lzQXJyYXkgPSBfX2lzQXJyYXk7XG5cdFxuXHRmdW5jdGlvbiBfX2lzUmVnRXhwKG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xuXHR9XG5cdGNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXHRcblx0ZnVuY3Rpb24gX19nZXRSZWdFeHBGbGFncyhyZSkge1xuXHQgIHZhciBmbGFncyA9ICcnO1xuXHQgIGlmIChyZS5nbG9iYWwpIGZsYWdzICs9ICdnJztcblx0ICBpZiAocmUuaWdub3JlQ2FzZSkgZmxhZ3MgKz0gJ2knO1xuXHQgIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcblx0ICByZXR1cm4gZmxhZ3M7XG5cdH1cblx0Y2xvbmUuX19nZXRSZWdFeHBGbGFncyA9IF9fZ2V0UmVnRXhwRmxhZ3M7XG5cdFxuXHRyZXR1cm4gY2xvbmU7XG5cdH0pKCk7XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICBtb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzOSkuQnVmZmVyKSlcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oQnVmZmVyLCBnbG9iYWwpIHsvKiFcblx0ICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG5cdCAqXG5cdCAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuXHQgKiBAbGljZW5zZSAgTUlUXG5cdCAqL1xuXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXHRcblx0J3VzZSBzdHJpY3QnXG5cdFxuXHR2YXIgYmFzZTY0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MClcblx0dmFyIGllZWU3NTQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHR2YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpXG5cdFxuXHRleHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuXHRleHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5cdGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXHRcblx0LyoqXG5cdCAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG5cdCAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG5cdCAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcblx0ICpcblx0ICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuXHQgKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG5cdCAqXG5cdCAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cblx0ICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG5cdCAqXG5cdCAqIE5vdGU6XG5cdCAqXG5cdCAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG5cdCAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cblx0ICpcblx0ICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG5cdCAqXG5cdCAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG5cdCAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblx0XG5cdCAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG5cdCAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuXHQgKi9cblx0QnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG5cdCAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuXHQgIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXHRcblx0Lypcblx0ICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuXHQgKi9cblx0ZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cdFxuXHRmdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuXHQgICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG5cdCAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuXHQgICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG5cdCAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICByZXR1cm4gZmFsc2Vcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuXHQgIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuXHQgICAgPyAweDdmZmZmZmZmXG5cdCAgICA6IDB4M2ZmZmZmZmZcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcblx0ICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuXHQgIH1cblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuXHQgICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcblx0ICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG5cdCAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuXHQgICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG5cdCAgICB9XG5cdCAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuXHQgKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG5cdCAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcblx0ICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcblx0ICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cblx0ICpcblx0ICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcblx0ICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuXHQgIH1cblx0XG5cdCAgLy8gQ29tbW9uIGNhc2UuXG5cdCAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG5cdCAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG5cdCAgICAgIClcblx0ICAgIH1cblx0ICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG5cdCAgfVxuXHQgIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuXHR9XG5cdFxuXHRCdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblx0XG5cdC8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuXHRCdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG5cdCAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICByZXR1cm4gYXJyXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcblx0ICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxuXHR9XG5cdFxuXHQvKipcblx0ICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3Jcblx0ICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG5cdCAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcblx0ICogQnVmZmVyLmZyb20oYXJyYXkpXG5cdCAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcblx0ICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG5cdCAqKi9cblx0QnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuXHQgIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcblx0ICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuXHQgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuXHQgICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcblx0ICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuXHQgICAgICB2YWx1ZTogbnVsbCxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuXHQgIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuXHQgIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcblx0ICBhc3NlcnRTaXplKHNpemUpXG5cdCAgaWYgKHNpemUgPD0gMCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuXHQgIH1cblx0ICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuXHQgICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuXHQgICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuXHQgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcblx0ICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcblx0ICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuXHQgIH1cblx0ICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG5cdCAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcblx0ICoqL1xuXHRCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcblx0ICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG5cdCAgYXNzZXJ0U2l6ZShzaXplKVxuXHQgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG5cdCAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcblx0ICAgICAgdGhhdFtpXSA9IDBcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0LyoqXG5cdCAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG5cdCAqICovXG5cdEJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdCAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG5cdH1cblx0LyoqXG5cdCAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuXHQgKi9cblx0QnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdCAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcblx0ICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcblx0ICAgIGVuY29kaW5nID0gJ3V0ZjgnXG5cdCAgfVxuXHRcblx0ICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuXHQgIH1cblx0XG5cdCAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG5cdCAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cdFxuXHQgIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cdFxuXHQgIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuXHQgICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG5cdCAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuXHQgICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG5cdCAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhhdFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuXHQgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcblx0ICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdCAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcblx0ICB9XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cdFxuXHQgIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcblx0ICB9XG5cdFxuXHQgIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG5cdCAgfVxuXHRcblx0ICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuXHQgIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG5cdCAgfSBlbHNlIHtcblx0ICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcblx0ICB9XG5cdFxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG5cdCAgICB0aGF0ID0gYXJyYXlcblx0ICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG5cdCAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcblx0ICB9XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG5cdCAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG5cdCAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcblx0ICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXHRcblx0ICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gdGhhdFxuXHQgICAgfVxuXHRcblx0ICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcblx0ICAgIHJldHVybiB0aGF0XG5cdCAgfVxuXHRcblx0ICBpZiAob2JqKSB7XG5cdCAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuXHQgICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcblx0ICAgIH1cblx0XG5cdCAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG5cdCAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuXHQgIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuXHQgIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuXHQgIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG5cdCAgfVxuXHQgIHJldHVybiBsZW5ndGggfCAwXG5cdH1cblx0XG5cdGZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuXHQgIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuXHQgICAgbGVuZ3RoID0gMFxuXHQgIH1cblx0ICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG5cdH1cblx0XG5cdEJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG5cdCAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcblx0fVxuXHRcblx0QnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG5cdCAgfVxuXHRcblx0ICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblx0XG5cdCAgdmFyIHggPSBhLmxlbmd0aFxuXHQgIHZhciB5ID0gYi5sZW5ndGhcblx0XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG5cdCAgICAgIHggPSBhW2ldXG5cdCAgICAgIHkgPSBiW2ldXG5cdCAgICAgIGJyZWFrXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoeCA8IHkpIHJldHVybiAtMVxuXHQgIGlmICh5IDwgeCkgcmV0dXJuIDFcblx0ICByZXR1cm4gMFxuXHR9XG5cdFxuXHRCdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG5cdCAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcblx0ICAgIGNhc2UgJ2hleCc6XG5cdCAgICBjYXNlICd1dGY4Jzpcblx0ICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgIGNhc2UgJ2FzY2lpJzpcblx0ICAgIGNhc2UgJ2xhdGluMSc6XG5cdCAgICBjYXNlICdiaW5hcnknOlxuXHQgICAgY2FzZSAnYmFzZTY0Jzpcblx0ICAgIGNhc2UgJ3VjczInOlxuXHQgICAgY2FzZSAndWNzLTInOlxuXHQgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICBjYXNlICd1dGYtMTZsZSc6XG5cdCAgICAgIHJldHVybiB0cnVlXG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gZmFsc2Vcblx0ICB9XG5cdH1cblx0XG5cdEJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuXHQgIGlmICghaXNBcnJheShsaXN0KSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcblx0ICB9XG5cdFxuXHQgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuXHQgIH1cblx0XG5cdCAgdmFyIGlcblx0ICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGxlbmd0aCA9IDBcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG5cdCAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG5cdCAgdmFyIHBvcyA9IDBcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuXHQgICAgdmFyIGJ1ZiA9IGxpc3RbaV1cblx0ICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcblx0ICAgIH1cblx0ICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuXHQgICAgcG9zICs9IGJ1Zi5sZW5ndGhcblx0ICB9XG5cdCAgcmV0dXJuIGJ1ZmZlclxuXHR9XG5cdFxuXHRmdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG5cdCAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuXHQgIH1cblx0ICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcblx0ICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuXHQgIH1cblx0ICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcblx0ICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG5cdCAgfVxuXHRcblx0ICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuXHQgIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cdFxuXHQgIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuXHQgIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cdCAgZm9yICg7Oykge1xuXHQgICAgc3dpdGNoIChlbmNvZGluZykge1xuXHQgICAgICBjYXNlICdhc2NpaSc6XG5cdCAgICAgIGNhc2UgJ2xhdGluMSc6XG5cdCAgICAgIGNhc2UgJ2JpbmFyeSc6XG5cdCAgICAgICAgcmV0dXJuIGxlblxuXHQgICAgICBjYXNlICd1dGY4Jzpcblx0ICAgICAgY2FzZSAndXRmLTgnOlxuXHQgICAgICBjYXNlIHVuZGVmaW5lZDpcblx0ICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcblx0ICAgICAgY2FzZSAndWNzMic6XG5cdCAgICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcblx0ICAgICAgICByZXR1cm4gbGVuICogMlxuXHQgICAgICBjYXNlICdoZXgnOlxuXHQgICAgICAgIHJldHVybiBsZW4gPj4+IDFcblx0ICAgICAgY2FzZSAnYmFzZTY0Jzpcblx0ICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG5cdCAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuXHQgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblx0XG5cdGZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXHRcblx0ICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcblx0ICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXHRcblx0ICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcblx0ICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG5cdCAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcblx0ICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cblx0ICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcblx0ICAgIHN0YXJ0ID0gMFxuXHQgIH1cblx0ICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuXHQgIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG5cdCAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcblx0ICAgIHJldHVybiAnJ1xuXHQgIH1cblx0XG5cdCAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG5cdCAgICBlbmQgPSB0aGlzLmxlbmd0aFxuXHQgIH1cblx0XG5cdCAgaWYgKGVuZCA8PSAwKSB7XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdFxuXHQgIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG5cdCAgZW5kID4+Pj0gMFxuXHQgIHN0YXJ0ID4+Pj0gMFxuXHRcblx0ICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdFxuXHQgIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cdFxuXHQgIHdoaWxlICh0cnVlKSB7XG5cdCAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG5cdCAgICAgIGNhc2UgJ2hleCc6XG5cdCAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICd1dGY4Jzpcblx0ICAgICAgY2FzZSAndXRmLTgnOlxuXHQgICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblx0XG5cdCAgICAgIGNhc2UgJ2FzY2lpJzpcblx0ICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXHRcblx0ICAgICAgY2FzZSAnbGF0aW4xJzpcblx0ICAgICAgY2FzZSAnYmluYXJ5Jzpcblx0ICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblx0XG5cdCAgICAgIGNhc2UgJ2Jhc2U2NCc6XG5cdCAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICd1Y3MyJzpcblx0ICAgICAgY2FzZSAndWNzLTInOlxuXHQgICAgICBjYXNlICd1dGYxNmxlJzpcblx0ICAgICAgY2FzZSAndXRmLTE2bGUnOlxuXHQgICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblx0XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG5cdCAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuXHQgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0Ly8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcblx0Ly8gQnVmZmVyIGluc3RhbmNlcy5cblx0QnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cdFxuXHRmdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG5cdCAgdmFyIGkgPSBiW25dXG5cdCAgYltuXSA9IGJbbV1cblx0ICBiW21dID0gaVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDIgIT09IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcblx0ICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG5cdCAgfVxuXHQgIHJldHVybiB0aGlzXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcblx0ICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcblx0ICBpZiAobGVuICUgNCAhPT0gMCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuXHQgICAgc3dhcCh0aGlzLCBpLCBpICsgMylcblx0ICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuXHQgIH1cblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDggIT09IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcblx0ICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG5cdCAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcblx0ICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuXHQgICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG5cdCAgfVxuXHQgIHJldHVybiB0aGlzXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG5cdCAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuXHQgIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuXHQgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcblx0ICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcblx0ICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG5cdCAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG5cdCAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuXHQgIHZhciBzdHIgPSAnJ1xuXHQgIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG5cdCAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuXHQgICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcblx0ICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcblx0ICB9XG5cdCAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcblx0ICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcblx0ICB9XG5cdFxuXHQgIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBzdGFydCA9IDBcblx0ICB9XG5cdCAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuXHQgIH1cblx0ICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHRoaXNTdGFydCA9IDBcblx0ICB9XG5cdCAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG5cdCAgfVxuXHRcblx0ICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuXHQgIH1cblx0XG5cdCAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuXHQgICAgcmV0dXJuIDBcblx0ICB9XG5cdCAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG5cdCAgICByZXR1cm4gLTFcblx0ICB9XG5cdCAgaWYgKHN0YXJ0ID49IGVuZCkge1xuXHQgICAgcmV0dXJuIDFcblx0ICB9XG5cdFxuXHQgIHN0YXJ0ID4+Pj0gMFxuXHQgIGVuZCA+Pj49IDBcblx0ICB0aGlzU3RhcnQgPj4+PSAwXG5cdCAgdGhpc0VuZCA+Pj49IDBcblx0XG5cdCAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblx0XG5cdCAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG5cdCAgdmFyIHkgPSBlbmQgLSBzdGFydFxuXHQgIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXHRcblx0ICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcblx0ICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcblx0ICAgICAgeCA9IHRoaXNDb3B5W2ldXG5cdCAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG5cdCAgICAgIGJyZWFrXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoeCA8IHkpIHJldHVybiAtMVxuXHQgIGlmICh5IDwgeCkgcmV0dXJuIDFcblx0ICByZXR1cm4gMFxuXHR9XG5cdFxuXHQvLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG5cdC8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG5cdC8vXG5cdC8vIEFyZ3VtZW50czpcblx0Ly8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcblx0Ly8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcblx0Ly8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG5cdC8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG5cdC8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5cdGZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuXHQgIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuXHQgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblx0XG5cdCAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcblx0ICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcblx0ICAgIGJ5dGVPZmZzZXQgPSAwXG5cdCAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuXHQgICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcblx0ICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuXHQgICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG5cdCAgfVxuXHQgIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cblx0ICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcblx0ICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuXHQgICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG5cdCAgfVxuXHRcblx0ICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuXHQgIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG5cdCAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuXHQgICAgaWYgKGRpcikgcmV0dXJuIC0xXG5cdCAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuXHQgIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcblx0ICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG5cdCAgICBlbHNlIHJldHVybiAtMVxuXHQgIH1cblx0XG5cdCAgLy8gTm9ybWFsaXplIHZhbFxuXHQgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcblx0ICB9XG5cdFxuXHQgIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG5cdCAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG5cdCAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG5cdCAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gLTFcblx0ICAgIH1cblx0ICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuXHQgICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG5cdCAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcblx0ICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBpZiAoZGlyKSB7XG5cdCAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG5cdCAgfVxuXHRcblx0ICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG5cdCAgdmFyIGluZGV4U2l6ZSA9IDFcblx0ICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuXHQgIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cdFxuXHQgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuXHQgICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcblx0ICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG5cdCAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuXHQgICAgICAgIHJldHVybiAtMVxuXHQgICAgICB9XG5cdCAgICAgIGluZGV4U2l6ZSA9IDJcblx0ICAgICAgYXJyTGVuZ3RoIC89IDJcblx0ICAgICAgdmFsTGVuZ3RoIC89IDJcblx0ICAgICAgYnl0ZU9mZnNldCAvPSAyXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcblx0ICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcblx0ICAgICAgcmV0dXJuIGJ1ZltpXVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBpXG5cdCAgaWYgKGRpcikge1xuXHQgICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuXHQgICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcblx0ICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG5cdCAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuXHQgICAgICAgIGZvdW5kSW5kZXggPSAtMVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG5cdCAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuXHQgICAgICB2YXIgZm91bmQgPSB0cnVlXG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG5cdCAgICAgICAgICBmb3VuZCA9IGZhbHNlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoZm91bmQpIHJldHVybiBpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gLTFcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG5cdCAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuXHQgIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcblx0ICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG5cdCAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcblx0ICBpZiAoIWxlbmd0aCkge1xuXHQgICAgbGVuZ3RoID0gcmVtYWluaW5nXG5cdCAgfSBlbHNlIHtcblx0ICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG5cdCAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG5cdCAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcblx0ICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuXHQgIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXHRcblx0ICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuXHQgICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuXHQgICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG5cdCAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcblx0ICB9XG5cdCAgcmV0dXJuIGlcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuXHQgIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0ZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuXHQgIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0ZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG5cdCAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcblx0ICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGVuY29kaW5nID0gJ3V0ZjgnXG5cdCAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuXHQgICAgb2Zmc2V0ID0gMFxuXHQgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXHQgIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIGVuY29kaW5nID0gb2Zmc2V0XG5cdCAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuXHQgICAgb2Zmc2V0ID0gMFxuXHQgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG5cdCAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG5cdCAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuXHQgICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG5cdCAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcblx0ICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG5cdCAgICB9XG5cdCAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXG5cdCAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcblx0ICAgIClcblx0ICB9XG5cdFxuXHQgIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuXHQgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXHRcblx0ICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcblx0ICB9XG5cdFxuXHQgIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cdFxuXHQgIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cdCAgZm9yICg7Oykge1xuXHQgICAgc3dpdGNoIChlbmNvZGluZykge1xuXHQgICAgICBjYXNlICdoZXgnOlxuXHQgICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAndXRmOCc6XG5cdCAgICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBjYXNlICdhc2NpaSc6XG5cdCAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblx0XG5cdCAgICAgIGNhc2UgJ2xhdGluMSc6XG5cdCAgICAgIGNhc2UgJ2JpbmFyeSc6XG5cdCAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBjYXNlICdiYXNlNjQnOlxuXHQgICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG5cdCAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBjYXNlICd1Y3MyJzpcblx0ICAgICAgY2FzZSAndWNzLTInOlxuXHQgICAgICBjYXNlICd1dGYxNmxlJzpcblx0ICAgICAgY2FzZSAndXRmLTE2bGUnOlxuXHQgICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblx0XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG5cdCAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuXHQgICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICB0eXBlOiAnQnVmZmVyJyxcblx0ICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcblx0ICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblx0ICB2YXIgcmVzID0gW11cblx0XG5cdCAgdmFyIGkgPSBzdGFydFxuXHQgIHdoaWxlIChpIDwgZW5kKSB7XG5cdCAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG5cdCAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuXHQgICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG5cdCAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuXHQgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcblx0ICAgICAgOiAxXG5cdFxuXHQgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuXHQgICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cdFxuXHQgICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuXHQgICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cblx0ICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG5cdCAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuXHQgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcblx0ICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cblx0ICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cblx0ICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcblx0ICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuXHQgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgYnJlYWtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuXHQgICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuXHQgICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cblx0ICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG5cdCAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuXHQgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcblx0ICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcblx0ICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuXHQgICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG5cdCAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuXHQgICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuXHQgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcblx0ICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcblx0ICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcblx0ICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuXHQgICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuXHQgICAgfVxuXHRcblx0ICAgIHJlcy5wdXNoKGNvZGVQb2ludClcblx0ICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG5cdH1cblx0XG5cdC8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuXHQvLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG5cdC8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcblx0dmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cdFxuXHRmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcblx0ICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcblx0ICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG5cdCAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcblx0ICB9XG5cdFxuXHQgIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cblx0ICB2YXIgcmVzID0gJydcblx0ICB2YXIgaSA9IDBcblx0ICB3aGlsZSAoaSA8IGxlbikge1xuXHQgICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG5cdCAgICAgIFN0cmluZyxcblx0ICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuXHQgICAgKVxuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIHZhciByZXQgPSAnJ1xuXHQgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblx0XG5cdCAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcblx0ICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG5cdCAgfVxuXHQgIHJldHVybiByZXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIHZhciByZXQgPSAnJ1xuXHQgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblx0XG5cdCAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcblx0ICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcblx0ICB9XG5cdCAgcmV0dXJuIHJldFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblx0XG5cdCAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuXHQgIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblx0XG5cdCAgdmFyIG91dCA9ICcnXG5cdCAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcblx0ICAgIG91dCArPSB0b0hleChidWZbaV0pXG5cdCAgfVxuXHQgIHJldHVybiBvdXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcblx0ICB2YXIgcmVzID0gJydcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG5cdCAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1Nilcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcblx0ICBzdGFydCA9IH5+c3RhcnRcblx0ICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cdFxuXHQgIGlmIChzdGFydCA8IDApIHtcblx0ICAgIHN0YXJ0ICs9IGxlblxuXHQgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG5cdCAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuXHQgICAgc3RhcnQgPSBsZW5cblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPCAwKSB7XG5cdCAgICBlbmQgKz0gbGVuXG5cdCAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuXHQgIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG5cdCAgICBlbmQgPSBsZW5cblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblx0XG5cdCAgdmFyIG5ld0J1ZlxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuXHQgICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcblx0ICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuXHQgICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBuZXdCdWZcblx0fVxuXHRcblx0Lypcblx0ICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuXHQgIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG5cdCAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHZhciB2YWwgPSB0aGlzW29mZnNldF1cblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciBpID0gMFxuXHQgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cdCAgfVxuXHRcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG5cdCAgdmFyIG11bCA9IDFcblx0ICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcblx0ICB9XG5cdFxuXHQgIHJldHVybiB2YWxcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiB0aGlzW29mZnNldF1cblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblx0XG5cdCAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG5cdCAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcblx0ICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG5cdCAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG5cdCAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10pXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHZhciB2YWwgPSB0aGlzW29mZnNldF1cblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciBpID0gMFxuXHQgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuXHQgIH1cblx0ICBtdWwgKj0gMHg4MFxuXHRcblx0ICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHZhciBpID0gYnl0ZUxlbmd0aFxuXHQgIHZhciBtdWwgPSAxXG5cdCAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuXHQgIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuXHQgIH1cblx0ICBtdWwgKj0gMHg4MFxuXHRcblx0ICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG5cdCAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuXHQgIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuXHQgIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuXHQgIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcblx0ICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG5cdCAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG5cdCAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG5cdCAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgM10pXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcblx0ICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG5cdCAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG5cdCAgfVxuXHRcblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciBpID0gMFxuXHQgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuXHQgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG5cdCAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcblx0ICB9XG5cdFxuXHQgIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcblx0ICB2YXIgbXVsID0gMVxuXHQgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcblx0ICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuXHQgIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcblx0ICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgIHJldHVybiBvZmZzZXQgKyAxXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuXHQgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG5cdCAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuXHQgICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cblx0ICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG5cdCAgfVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgMlxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDJcblx0fVxuXHRcblx0ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG5cdCAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG5cdCAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuXHQgICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuXHQgIH1cblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG5cdCAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblx0XG5cdCAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcblx0ICB9XG5cdFxuXHQgIHZhciBpID0gMFxuXHQgIHZhciBtdWwgPSAxXG5cdCAgdmFyIHN1YiA9IDBcblx0ICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcblx0ICAgICAgc3ViID0gMVxuXHQgICAgfVxuXHQgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cdFxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG5cdCAgfVxuXHRcblx0ICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgc3ViID0gMFxuXHQgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcblx0ICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG5cdCAgICAgIHN1YiA9IDFcblx0ICAgIH1cblx0ICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuXHQgIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcblx0ICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcblx0ICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgIHJldHVybiBvZmZzZXQgKyAxXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgMlxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG5cdCAgfVxuXHQgIHJldHVybiBvZmZzZXQgKyAyXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcblx0ICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG5cdCAgfVxuXHQgIHJldHVybiBvZmZzZXQgKyA0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG5cdCAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuXHQgIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG5cdCAgfVxuXHQgIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuXHQgIHJldHVybiBvZmZzZXQgKyA0XG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuXHQgIH1cblx0ICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcblx0ICByZXR1cm4gb2Zmc2V0ICsgOFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxuXHR9XG5cdFxuXHQvLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5cdEJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcblx0ICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcblx0ICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuXHQgIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuXHQgIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXHRcblx0ICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcblx0ICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcblx0ICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblx0XG5cdCAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuXHQgIGlmICh0YXJnZXRTdGFydCA8IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcblx0ICB9XG5cdCAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuXHQgIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXHRcblx0ICAvLyBBcmUgd2Ugb29iP1xuXHQgIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcblx0ICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcblx0ICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG5cdCAgfVxuXHRcblx0ICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcblx0ICB2YXIgaVxuXHRcblx0ICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcblx0ICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuXHQgICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0ICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG5cdCAgICAgIHRhcmdldCxcblx0ICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuXHQgICAgICB0YXJnZXRTdGFydFxuXHQgICAgKVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGxlblxuXHR9XG5cdFxuXHQvLyBVc2FnZTpcblx0Ly8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG5cdC8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuXHQvLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcblx0QnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuXHQgIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG5cdCAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICBlbmNvZGluZyA9IHN0YXJ0XG5cdCAgICAgIHN0YXJ0ID0gMFxuXHQgICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuXHQgICAgICBlbmNvZGluZyA9IGVuZFxuXHQgICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuXHQgICAgfVxuXHQgICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuXHQgICAgICBpZiAoY29kZSA8IDI1Nikge1xuXHQgICAgICAgIHZhbCA9IGNvZGVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgIHZhbCA9IHZhbCAmIDI1NVxuXHQgIH1cblx0XG5cdCAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG5cdCAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4Jylcblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPD0gc3RhcnQpIHtcblx0ICAgIHJldHVybiB0aGlzXG5cdCAgfVxuXHRcblx0ICBzdGFydCA9IHN0YXJ0ID4+PiAwXG5cdCAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXHRcblx0ICBpZiAoIXZhbCkgdmFsID0gMFxuXHRcblx0ICB2YXIgaVxuXHQgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuXHQgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuXHQgICAgICB0aGlzW2ldID0gdmFsXG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG5cdCAgICAgID8gdmFsXG5cdCAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuXHQgICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcblx0ICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzXG5cdH1cblx0XG5cdC8vIEhFTFBFUiBGVU5DVElPTlNcblx0Ly8gPT09PT09PT09PT09PT09PVxuXHRcblx0dmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cdFxuXHRmdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG5cdCAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG5cdCAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuXHQgIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcblx0ICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuXHQgIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuXHQgIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuXHQgICAgc3RyID0gc3RyICsgJz0nXG5cdCAgfVxuXHQgIHJldHVybiBzdHJcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG5cdCAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuXHQgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSGV4IChuKSB7XG5cdCAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG5cdCAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG5cdCAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuXHQgIHZhciBjb2RlUG9pbnRcblx0ICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuXHQgIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXHQgIHZhciBieXRlcyA9IFtdXG5cdFxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cdFxuXHQgICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuXHQgICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcblx0ICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcblx0ICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG5cdCAgICAgICAgLy8gbm8gbGVhZCB5ZXRcblx0ICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG5cdCAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG5cdCAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcblx0ICAgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG5cdCAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG5cdCAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcblx0ICAgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyB2YWxpZCBsZWFkXG5cdCAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXHRcblx0ICAgICAgICBjb250aW51ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG5cdCAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcblx0ICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcblx0ICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cdCAgICAgICAgY29udGludWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcblx0ICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuXHQgICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG5cdCAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcblx0ICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICB9XG5cdFxuXHQgICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblx0XG5cdCAgICAvLyBlbmNvZGUgdXRmOFxuXHQgICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcblx0ICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG5cdCAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuXHQgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuXHQgICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblx0ICAgICAgYnl0ZXMucHVzaChcblx0ICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcblx0ICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuXHQgICAgICApXG5cdCAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcblx0ICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG5cdCAgICAgIGJ5dGVzLnB1c2goXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuXHQgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG5cdCAgICAgIClcblx0ICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcblx0ICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG5cdCAgICAgIGJ5dGVzLnB1c2goXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcblx0ICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG5cdCAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcblx0ICAgICAgKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGJ5dGVzXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG5cdCAgdmFyIGJ5dGVBcnJheSA9IFtdXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcblx0ICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuXHQgICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuXHQgIH1cblx0ICByZXR1cm4gYnl0ZUFycmF5XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG5cdCAgdmFyIGMsIGhpLCBsb1xuXHQgIHZhciBieXRlQXJyYXkgPSBbXVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG5cdCAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblx0XG5cdCAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcblx0ICAgIGhpID0gYyA+PiA4XG5cdCAgICBsbyA9IGMgJSAyNTZcblx0ICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuXHQgICAgYnl0ZUFycmF5LnB1c2goaGkpXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gYnl0ZUFycmF5XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuXHQgIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuXHQgICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG5cdCAgfVxuXHQgIHJldHVybiBpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcblx0ICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzkpLkJ1ZmZlciwgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiA0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cdFxuXHRleHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cdGV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuXHRleHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cdFxuXHR2YXIgbG9va3VwID0gW11cblx0dmFyIHJldkxvb2t1cCA9IFtdXG5cdHZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblx0XG5cdHZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5cdGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgbG9va3VwW2ldID0gY29kZVtpXVxuXHQgIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxuXHR9XG5cdFxuXHRyZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcblx0cmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cdFxuXHRmdW5jdGlvbiBwbGFjZUhvbGRlcnNDb3VudCAoYjY0KSB7XG5cdCAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0ICBpZiAobGVuICUgNCA+IDApIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG5cdCAgfVxuXHRcblx0ICAvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuXHQgIC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcblx0ICAvLyByZXByZXNlbnQgb25lIGJ5dGVcblx0ICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcblx0ICAvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG5cdCAgcmV0dXJuIGI2NFtsZW4gLSAyXSA9PT0gJz0nID8gMiA6IGI2NFtsZW4gLSAxXSA9PT0gJz0nID8gMSA6IDBcblx0fVxuXHRcblx0ZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG5cdCAgLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5cdCAgcmV0dXJuIGI2NC5sZW5ndGggKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0NvdW50KGI2NClcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuXHQgIHZhciBpLCBqLCBsLCB0bXAsIHBsYWNlSG9sZGVycywgYXJyXG5cdCAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0ICBwbGFjZUhvbGRlcnMgPSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cdFxuXHQgIGFyciA9IG5ldyBBcnIobGVuICogMyAvIDQgLSBwbGFjZUhvbGRlcnMpXG5cdFxuXHQgIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcblx0ICBsID0gcGxhY2VIb2xkZXJzID4gMCA/IGxlbiAtIDQgOiBsZW5cblx0XG5cdCAgdmFyIEwgPSAwXG5cdFxuXHQgIGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcblx0ICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuXHQgICAgYXJyW0wrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcblx0ICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcblx0ICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuXHQgIH1cblx0XG5cdCAgaWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuXHQgICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcblx0ICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuXHQgIH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG5cdCAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcblx0ICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcblx0ICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGFyclxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuXHQgIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArIGxvb2t1cFtudW0gJiAweDNGXVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgdG1wXG5cdCAgdmFyIG91dHB1dCA9IFtdXG5cdCAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcblx0ICAgIHRtcCA9ICh1aW50OFtpXSA8PCAxNikgKyAodWludDhbaSArIDFdIDw8IDgpICsgKHVpbnQ4W2kgKyAyXSlcblx0ICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuXHQgIH1cblx0ICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG5cdCAgdmFyIHRtcFxuXHQgIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcblx0ICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcblx0ICB2YXIgb3V0cHV0ID0gJydcblx0ICB2YXIgcGFydHMgPSBbXVxuXHQgIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXHRcblx0ICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuXHQgICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcblx0ICB9XG5cdFxuXHQgIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcblx0ICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuXHQgICAgdG1wID0gdWludDhbbGVuIC0gMV1cblx0ICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDJdXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXVxuXHQgICAgb3V0cHV0ICs9ICc9PSdcblx0ICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcblx0ICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArICh1aW50OFtsZW4gLSAxXSlcblx0ICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDEwXVxuXHQgICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl1cblx0ICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdXG5cdCAgICBvdXRwdXQgKz0gJz0nXG5cdCAgfVxuXHRcblx0ICBwYXJ0cy5wdXNoKG91dHB1dClcblx0XG5cdCAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG5cdH1cblxuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG5cdCAgdmFyIGUsIG1cblx0ICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuXHQgIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG5cdCAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG5cdCAgdmFyIG5CaXRzID0gLTdcblx0ICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG5cdCAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG5cdCAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblx0XG5cdCAgaSArPSBkXG5cdFxuXHQgIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG5cdCAgcyA+Pj0gKC1uQml0cylcblx0ICBuQml0cyArPSBlTGVuXG5cdCAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblx0XG5cdCAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcblx0ICBlID4+PSAoLW5CaXRzKVxuXHQgIG5CaXRzICs9IG1MZW5cblx0ICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXHRcblx0ICBpZiAoZSA9PT0gMCkge1xuXHQgICAgZSA9IDEgLSBlQmlhc1xuXHQgIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuXHQgICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcblx0ICAgIGUgPSBlIC0gZUJpYXNcblx0ICB9XG5cdCAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcblx0fVxuXHRcblx0ZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuXHQgIHZhciBlLCBtLCBjXG5cdCAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcblx0ICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuXHQgIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuXHQgIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcblx0ICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG5cdCAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG5cdCAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblx0XG5cdCAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblx0XG5cdCAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcblx0ICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuXHQgICAgZSA9IGVNYXhcblx0ICB9IGVsc2Uge1xuXHQgICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG5cdCAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG5cdCAgICAgIGUtLVxuXHQgICAgICBjICo9IDJcblx0ICAgIH1cblx0ICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuXHQgICAgICB2YWx1ZSArPSBydCAvIGNcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuXHQgICAgfVxuXHQgICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG5cdCAgICAgIGUrK1xuXHQgICAgICBjIC89IDJcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcblx0ICAgICAgbSA9IDBcblx0ICAgICAgZSA9IGVNYXhcblx0ICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcblx0ICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG5cdCAgICAgIGUgPSBlICsgZUJpYXNcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuXHQgICAgICBlID0gMFxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblx0XG5cdCAgZSA9IChlIDw8IG1MZW4pIHwgbVxuXHQgIGVMZW4gKz0gbUxlblxuXHQgIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblx0XG5cdCAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG5cdH1cblxuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcIm5hbWVcIjogXCJscmMtbWFrZXJcIixcblx0XHRcInZlcnNpb25cIjogXCIwLjIuMlwiLFxuXHRcdFwiZGVzY3JpcHRpb25cIjogXCJscmMgbWFrZXJcIixcblx0XHRcIm1haW5cIjogXCJpbmRleC5qc1wiLFxuXHRcdFwic2NyaXB0c1wiOiB7XG5cdFx0XHRcInRlc3RcIjogXCJ5YXJuIHJ1biBsaW50XCIsXG5cdFx0XHRcImxpbnRcIjogXCJlc2xpbnQgLS1mb3JtYXQgJ25vZGVfbW9kdWxlcy9lc2xpbnQtZnJpZW5kbHktZm9ybWF0dGVyJyAtLWV4dCBqcyx2dWUgd2VicGFjay5jb25maWcuanMgc3JjXCIsXG5cdFx0XHRcImRldlwiOiBcIndlYnBhY2stZGV2LXNlcnZlciAtLWhvc3Q9JzAuMC4wLjAnIC0tcHJvZ3Jlc3MgLS1jb2xvcnMgLS1pbmxpbmUgLS1ob3QgLS1vdXRwdXQtcHVibGljLXBhdGg9Jy9hc3NldHMvJ1wiLFxuXHRcdFx0XCJidWlsZFwiOiBcInlhcm4gcnVuIGJ1aWxkOmNsZWFuICYmIHlhcm4gcnVuIGJ1aWxkOndlYnBhY2sgJiYgeWFybiBydW4gYnVpbGQ6dmlld1wiLFxuXHRcdFx0XCJidWlsZDpjbGVhblwiOiBcInJtIC1yZiBidWlsZFwiLFxuXHRcdFx0XCJidWlsZDp2aWV3XCI6IFwiIGNwIGluZGV4Lmh0bWwgYnVpbGQvaW5kZXguaHRtbFwiLFxuXHRcdFx0XCJidWlsZDp3ZWJwYWNrXCI6IFwid2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3V0cHV0LXB1YmxpYy1wYXRoPScuL2Fzc2V0cy8nXCIsXG5cdFx0XHRcImRlcGxveVwiOiBcInlhcm4gcnVuIGJ1aWxkICYmIGdoLXBhZ2VzIC1kIGJ1aWxkXCJcblx0XHR9LFxuXHRcdFwia2V5d29yZHNcIjogW1xuXHRcdFx0XCJscmNcIlxuXHRcdF0sXG5cdFx0XCJhdXRob3JcIjogXCJXZWlyb25nIFh1IDx3ZWlyb25neHUucmFpZG91QGdtYWlsLmNvbT5cIixcblx0XHRcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXJcIixcblx0XHRcInJlcG9zaXRvcnlcIjoge1xuXHRcdFx0XCJ0eXBlXCI6IFwiZ2l0XCIsXG5cdFx0XHRcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyLmdpdFwiXG5cdFx0fSxcblx0XHRcIm9ubGluZVBhZ2VcIjogXCJodHRwczovL3dlaXJvbmd4dS5naXRodWIuaW8vbHJjLW1ha2VyL1wiLFxuXHRcdFwiYnVnc1wiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyL2lzc3Vlc1wiLFxuXHRcdFwibGljZW5zZVwiOiBcIk1JVFwiLFxuXHRcdFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcdFwiYXV0b3ByZWZpeGVyXCI6IFwiXjYuNS4zXCIsXG5cdFx0XHRcImJhYmVsLWNvcmVcIjogXCJeNi43LjZcIixcblx0XHRcdFwiYmFiZWwtZXNsaW50XCI6IFwiXjcuMS4xXCIsXG5cdFx0XHRcImJhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzXCI6IFwiXjIuMC4yXCIsXG5cdFx0XHRcImJhYmVsLWxvYWRlclwiOiBcIl42LjIuOFwiLFxuXHRcdFx0XCJiYWJlbC1wbHVnaW4tc3ludGF4LWpzeFwiOiBcIl42LjE4LjBcIixcblx0XHRcdFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS12dWUtanN4XCI6IFwiXjMuMi4wXCIsXG5cdFx0XHRcImJhYmVsLXByZXNldC1sYXRlc3RcIjogXCJeNi4xNi4wXCIsXG5cdFx0XHRcImJhYmVsLXByZXNldC1zdGFnZS0wXCI6IFwiXjYuMTYuMFwiLFxuXHRcdFx0XCJjc3MtbG9hZGVyXCI6IFwiXjAuMjYuMFwiLFxuXHRcdFx0XCJlc2xpbnRcIjogXCJeMy4xMC4yXCIsXG5cdFx0XHRcImVzbGludC1jb25maWctc3RhbmRhcmRcIjogXCJeNi4yLjFcIixcblx0XHRcdFwiZXNsaW50LWZyaWVuZGx5LWZvcm1hdHRlclwiOiBcIl4yLjAuNlwiLFxuXHRcdFx0XCJlc2xpbnQtbG9hZGVyXCI6IFwiXjEuMy4wXCIsXG5cdFx0XHRcImVzbGludC1wbHVnaW4taHRtbFwiOiBcIl4xLjcuMFwiLFxuXHRcdFx0XCJlc2xpbnQtcGx1Z2luLXByb21pc2VcIjogXCJeMy40LjBcIixcblx0XHRcdFwiZXNsaW50LXBsdWdpbi1zdGFuZGFyZFwiOiBcIl4yLjAuMVwiLFxuXHRcdFx0XCJmaWxlLWxvYWRlclwiOiBcIl4wLjkuMFwiLFxuXHRcdFx0XCJnaC1wYWdlc1wiOiBcIl4wLjEyLjBcIixcblx0XHRcdFwianNvbi1sb2FkZXJcIjogXCJeMC41LjRcIixcblx0XHRcdFwibm9kZS1zYXNzXCI6IFwiXjMuMTMuMFwiLFxuXHRcdFx0XCJyZXNvbHZlLXVybC1sb2FkZXJcIjogXCJeMS42LjBcIixcblx0XHRcdFwic2Fzcy1sb2FkZXJcIjogXCJeNC4wLjJcIixcblx0XHRcdFwidXJsLWxvYWRlclwiOiBcIl4wLjUuN1wiLFxuXHRcdFx0XCJ2dWUtbG9hZGVyXCI6IFwiXjEwLjAuMVwiLFxuXHRcdFx0XCJ2dWUtdGVtcGxhdGUtY29tcGlsZXJcIjogXCJeMi4xLjNcIixcblx0XHRcdFwid2VicGFja1wiOiBcIl4xLjEyLjE1XCIsXG5cdFx0XHRcIndlYnBhY2stZGV2LXNlcnZlclwiOiBcIl4xLjE0LjFcIixcblx0XHRcdFwieWFtbC1sb2FkZXJcIjogXCJeMC40LjBcIlxuXHRcdH0sXG5cdFx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFx0XCJjbG9uZVwiOiBcIl4yLjEuMFwiLFxuXHRcdFx0XCJldmVudGVtaXR0ZXIyXCI6IFwiXjIuMi4xXCIsXG5cdFx0XHRcImV4dGVuZFwiOiBcIl4zLjAuMFwiLFxuXHRcdFx0XCJmaWxlc2F2ZXIuanNcIjogXCJeMC4yLjBcIixcblx0XHRcdFwibHJjLWtpdFwiOiBcIl4wLjIuMFwiLFxuXHRcdFx0XCJ1bmlkcmFnZ2VyXCI6IFwiXjIuMS4wXCIsXG5cdFx0XHRcInZ1ZVwiOiBcIl4yLjEuM1wiLFxuXHRcdFx0XCJ2dWUtaTE4blwiOiBcIl40LjcuM1wiXG5cdFx0fVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJiYXJcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJhclwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0uY2xpY2tcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJ2YWx1ZVwiLFxuXHQgICAgc3R5bGU6ICh7XG5cdCAgICAgIHdpZHRoOiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG5cdCAgICB9KVxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJ0aHVtYlwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwidGh1bWJcIixcblx0ICAgIHN0eWxlOiAoe1xuXHQgICAgICBsZWZ0OiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG5cdCAgICB9KVxuXHQgIH0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OClcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MClcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdGltZS1wYW5lbC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlbWFpbjogX2NhY2hlMi5kZWZhdWx0LnRpbWVSZW1haW5cblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIGR1cmF0aW9uOiB7XG5cdCAgICAgIGRlZmF1bHQ6IDAsXG5cdCAgICAgIHR5cGU6IE51bWJlclxuXHQgICAgfSxcblx0ICAgIGN1cnJlbnRUaW1lOiB7XG5cdCAgICAgIGRlZmF1bHQ6IDAsXG5cdCAgICAgIHR5cGU6IE51bWJlclxuXHQgICAgfVxuXHQgIH0sXG5cdCAgZmlsdGVyczoge1xuXHQgICAgdGltZTogZnVuY3Rpb24gdGltZSh0aW1lc3RhbXApIHtcblx0ICAgICAgcmV0dXJuICgwLCBfdXRpbHMudGltZXN0YW1wMnRpbWVzdHIpKHRpbWVzdGFtcCwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB3YXRjaDoge1xuXHQgICAgcmVtYWluOiBmdW5jdGlvbiByZW1haW4odmFsKSB7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC50aW1lUmVtYWluID0gdmFsO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBjYWNoZU1hcCA9IHtcblx0ICBscmNGb3JtYXQ6IHt9LFxuXHQgIGx5cmljOiB7fSxcblx0ICBlZGl0aW5nOiB7XG5cdCAgICBkZWZhdWx0OiB0cnVlXG5cdCAgfSxcblx0ICBseXJpY0FycmF5OiB7XG5cdCAgICBkZWZhdWx0OiBbXVxuXHQgIH0sXG5cdCAgdGltZVJlbWFpbjoge1xuXHQgICAgZGVmYXVsdDogZmFsc2Vcblx0ICB9LFxuXHQgIHVzZXJOYW1lOiB7XG5cdCAgICBkZWZhdWx0OiAnJ1xuXHQgIH1cblx0fTtcblx0XG5cdHZhciBjYWNoZU9iaiA9IHt9O1xuXHRPYmplY3Qua2V5cyhjYWNoZU1hcCkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuXHQgIHZhciBjb25maWcgPSBjYWNoZU1hcFtwcm9wXTtcblx0ICBjYWNoZU9ialtwcm9wXSA9IF91dGlscy5jYWNoZS5nZXQoY29uZmlnLm5hbWUgfHwgcHJvcCwgY29uZmlnLmRlZmF1bHQgfHwgJycpO1xuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG5ldyBQcm94eShjYWNoZU9iaiwge1xuXHQgIHNldDogZnVuY3Rpb24gc2V0KG9iaiwgcHJvcCwgdmFsdWUpIHtcblx0ICAgIHZhciBjb25maWcgPSBjYWNoZU1hcFtwcm9wXTtcblx0ICAgIF91dGlscy5jYWNoZS5zZXQoY29uZmlnLm5hbWUgfHwgcHJvcCwgdmFsdWUpO1xuXHQgICAgb2JqW3Byb3BdID0gdmFsdWU7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ3NwYW4nLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5yZW1haW4gPSAhX3ZtLnJlbWFpblxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0ucmVtYWluKSA/IFtcIlxcbiAgICAgIC1cIiArIF92bS5fcyhfdm0uX2YoXCJ0aW1lXCIpKChfdm0uZHVyYXRpb24gLSBfdm0uY3VycmVudFRpbWUpKSkgKyBcIlxcbiAgICBcIl0gOiBbXCJcXG4gICAgICBcIiArIF92bS5fcyhfdm0uX2YoXCJ0aW1lXCIpKF92bS5jdXJyZW50VGltZSkpICsgXCJcXG4gICAgXCJdLCBcIiBcIl0pLCBcIlxcbiAgLyBcIiArIF92bS5fcyhfdm0uX2YoXCJ0aW1lXCIpKF92bS5kdXJhdGlvbikpICsgXCJcXG5cIl0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcInNob3dcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcblx0ICAgICAgdmFsdWU6IChfdm0uc3JjLmxlbmd0aCksXG5cdCAgICAgIGV4cHJlc3Npb246IFwic3JjLmxlbmd0aFwiXG5cdCAgICB9XSxcblx0ICAgIHN0YXRpY0NsYXNzOiBcInJvb3RcIixcblx0ICAgIGNsYXNzOiB7XG5cdCAgICAgIG1vYmlsZTogX3ZtLmlzTW9iaWxlXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJtb3VzZW92ZXJcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLmhvdmVyID0gdHJ1ZVxuXHQgICAgICB9LFxuXHQgICAgICBcIm1vdXNlbGVhdmVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLmhvdmVyID0gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInBsYXllclwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogXCJbU1BBQ0VdXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5wYXVzZWQgPSAhX3ZtLnBhdXNlZFxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0ucGF1c2VkKSA/IF92bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tcGxheVwiXG5cdCAgfSkgOiBfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXBhdXNlXCJcblx0ICB9KSwgXCIgXCJdKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogXCJbTEVGVF1cIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRlbWl0KCdiYWNrd2FyZCcpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1iYWNrd2FyZFwiXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogXCJbUklHSFRdXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kZW1pdCgnZm9yd2FyZCcpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1mb3J3YXJkXCJcblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdyYW5nZScsIHtcblx0ICAgIHJlZjogXCJtdXNpY1JhbmdlXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJyYW5nZSBtdXNpY1wiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0ucHJvY2Vzc1xuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwic2Vla1wiOiBfdm0uc2Vla1xuXHQgICAgfVxuXHQgIH0pLCBcIiBcIiwgKCFfdm0uaXNNb2JpbGUpID8gX3ZtLl9oKCd0aW1lLXBhbmVsJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG5cdCAgICAgIFwiY3VycmVudC10aW1lXCI6IF92bS5jdXJyZW50VGltZVxuXHQgICAgfVxuXHQgIH0pIDogX3ZtLl9lKCldKSwgXCIgXCIsIF92bS5faCgndHJhbnNpdGlvbicsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwibmFtZVwiOiBcInBsYXllci1tb3JlXCJcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcInNob3dcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcblx0ICAgICAgdmFsdWU6IChfdm0uaXNNb2JpbGUgfHwgX3ZtLmhvdmVyKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJpc01vYmlsZSB8fCBob3ZlclwiXG5cdCAgICB9XSxcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1vcmVcIlxuXHQgIH0sIFsoX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZHVyYXRpb25cIjogX3ZtLmR1cmF0aW9uLFxuXHQgICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcblx0ICAgIH1cblx0ICB9KSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJzb3VuZFwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLm11dGVkID0gIV92bS5tdXRlZFxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0ubXV0ZWQgfHwgX3ZtLnZvbHVtZSA9PSAwKSA/IF92bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLW9mZlwiXG5cdCAgfSkgOiBfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXZvbHVtZS11cFwiXG5cdCAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ3JhbmdlJywge1xuXHQgICAgcmVmOiBcInNvdW5kUmFuZ2VcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcInJhbmdlIHZvbHVtZVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0udm9sdW1lXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJzZWVrXCI6IF92bS52b2x1bWVTZWVrLFxuXHQgICAgICBcImRyYWctc2Vla1wiOiBfdm0udm9sdW1lU2Vla1xuXHQgICAgfVxuXHQgIH0pXSldKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTMpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSlcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mylcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0xY2FjZjUzZFwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInVsLmx5cmljc1tkYXRhLXYtMWNhY2Y1M2Rde2xpc3Qtc3R5bGUtdHlwZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmMWYxZjF9dWwubHlyaWNzPmxpW2RhdGEtdi0xY2FjZjUzZF17bWluLWhlaWdodDo0MHB4O3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiMyYTcyYmI7cGFkZGluZzoxMHB4IDB9dWwubHlyaWNzPmxpLmN1cltkYXRhLXYtMWNhY2Y1M2Rde2NvbG9yOiMyYTcyYmI7dGV4dC1zaGFkb3c6MXB4IDFweCAxcHggI2FhYTtiYWNrZ3JvdW5kLWNvbG9yOiNmYmZiZmJ9dWwubHlyaWNzPmxpOmhvdmVyIC5jb25jZWFsW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTppbmxpbmUtYmxvY2t9dWwubHlyaWNzPmxpIC5jb25jZWFsW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpub25lfXVsLmx5cmljcz5saS5kaXZpc2lvbltkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcz5saS51bnNvcnRlZFtkYXRhLXYtMWNhY2Y1M2Rde2JhY2tncm91bmQtY29sb3I6I2YxZjFmMX11bC5seXJpY3M+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7bWluLWhlaWdodDphdXRvO3BhZGRpbmc6MnB4IDA7Zm9udC1zaXplOjEycHg7dGV4dC1hbGlnbjpjZW50ZXJ9dWwubHlyaWNzLmVkaXRpbmc+bGlbZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9dWwubHlyaWNzLmVkaXRpbmc+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NHB4IDB9dWwubHlyaWNzLmVkaXRpbmc+bGkgLnRpbWVzdGFtcFtkYXRhLXYtMWNhY2Y1M2Rde2NvbG9yOiM3YzlmYmI7d2lkdGg6NjBweDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzonLid9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmNvbnRlbnRbZGF0YS12LTFjYWNmNTNkXXstbXMtZmxleDoxO2ZsZXg6MX11bC5seXJpY3MuZWRpdGluZz5saSAuaWNvbi1idG5bZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nLWxlZnQ6NHB4O3BhZGRpbmctcmlnaHQ6NHB4fXVsLmx5cmljcy5lZGl0aW5nPmxpIC5jb250ZW50W2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzLmVkaXRpbmc+bGkgLmljb24tYnRuW2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzLmVkaXRpbmc+bGkgLnRpbWVzdGFtcFtkYXRhLXYtMWNhY2Y1M2Rde3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweH11bC5seXJpY3MuZWRpdGluZz5saSBpbnB1dFtkYXRhLXYtMWNhY2Y1M2Rde3RleHQtYWxpZ246Y2VudGVyO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6I2QwZGFlNH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2xyY0tpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHR2YXIgX3RtZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdFxuXHR2YXIgX3RtZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RtZW51KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH0gLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgaW5kZXg6IC0xLFxuXHQgICAgICBlZGl0aW5nSW5kZXg6IC0xLFxuXHQgICAgICBlZGl0aW5nVGV4dEluZGV4OiAtMSxcblx0ICAgICAgc2Nyb2xsZXI6IG51bGxcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIHJ1bm5lcjoge1xuXHQgICAgICB0eXBlOiBfbHJjS2l0LlJ1bm5lcixcblx0ICAgICAgZGVmYXVsdDogbmV3IF9scmNLaXQuUnVubmVyKClcblx0ICAgIH0sXG5cdCAgICBwbGF5dG86IHtcblx0ICAgICAgdHlwZTogRnVuY3Rpb24sXG5cdCAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge31cblx0ICAgIH0sXG5cdCAgICBlZGl0aW5nOiB7XG5cdCAgICAgIHR5cGU6IEJvb2xlYW4sXG5cdCAgICAgIGRlZmF1bHQ6IF9jYWNoZTIuZGVmYXVsdC5lZGl0aW5nXG5cdCAgICB9LFxuXHQgICAgbHlyaWNBcnJheToge1xuXHQgICAgICB0eXBlOiBBcnJheSxcblx0ICAgICAgZGVmYXVsdDogW11cblx0ICAgIH1cblx0ICB9LFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIGVkaXRNZW51OiBmdW5jdGlvbiBlZGl0TWVudShpbmRleCkge1xuXHQgICAgICAvLyBUT0RPXG5cdCAgICB9LFxuXHQgICAgZXhpdEVkaXQ6IGZ1bmN0aW9uIGV4aXRFZGl0KCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IC0xO1xuXHQgICAgICB0aGlzLmVkaXRpbmdUZXh0SW5kZXggPSAtMTtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgZWRpdDogZnVuY3Rpb24gZWRpdChpbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IGluZGV4O1xuXHQgICAgfSxcblx0ICAgIGVkaXRUZXh0OiBmdW5jdGlvbiBlZGl0VGV4dChpbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdUZXh0SW5kZXggPSBpbmRleDtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaW5kZXgpIHtcblx0ICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICByZW1vdmVUZXh0OiBmdW5jdGlvbiByZW1vdmVUZXh0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICBpbnNlcnQ6IGZ1bmN0aW9uIGluc2VydChpbmRleCkge1xuXHQgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnNwbGljZShpbmRleCArIDEsIDAsIHtcblx0ICAgICAgICB0aW1lc3RhbXA6IHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCxcblx0ICAgICAgICBjb250ZW50OiB0aGlzLnJ1bm5lci5scmMubHlyaWNzW2luZGV4XS5jb250ZW50XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICBpbnNlcnRUZXh0OiBmdW5jdGlvbiBpbnNlcnRUZXh0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXggKyAxLCAwLCB0aGlzLmx5cmljQXJyYXlbaW5kZXhdKTtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlVGltZXN0YW1wOiBmdW5jdGlvbiByZW1vdmVUaW1lc3RhbXAoaW5kZXgpIHtcblx0ICAgICAgdmFyIF9seXJpY0FycmF5O1xuXHRcblx0ICAgICAgdmFyIGx5cmljcyA9IHRoaXMucnVubmVyLmxyYy5seXJpY3M7XG5cdCAgICAgIHZhciByZW1vdmVMeXJpY3MgPSBseXJpY3Muc3BsaWNlKGluZGV4LCBseXJpY3MubGVuZ3RoIC0gaW5kZXgpLm1hcChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICByZXR1cm4gbHlyaWMuY29udGVudDtcblx0ICAgICAgfSk7XG5cdCAgICAgIChfbHlyaWNBcnJheSA9IHRoaXMubHlyaWNBcnJheSkuc3BsaWNlLmFwcGx5KF9seXJpY0FycmF5LCBbMCwgMF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZW1vdmVMeXJpY3MpKSk7XG5cdCAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgfSxcblx0ICAgIHNldFRpbWVzdGFtcDogZnVuY3Rpb24gc2V0VGltZXN0YW1wKGluZGV4KSB7XG5cdCAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuJHBhcmVudC4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWU7XG5cdCAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gMCkge1xuXHQgICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCA9IGN1cnJlbnRUaW1lO1xuXHQgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgc2V0VGltZXN0YW1wVGV4dDogZnVuY3Rpb24gc2V0VGltZXN0YW1wVGV4dChpbmRleCkge1xuXHQgICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lO1xuXHQgICAgICBpZiAoY3VycmVudFRpbWUgIT09IDAgJiYgdGhpcy5seXJpY0FycmF5Lmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3MucHVzaCh7XG5cdCAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnRUaW1lLFxuXHQgICAgICAgICAgY29udGVudDogdGhpcy5seXJpY0FycmF5W2luZGV4XVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHRoaXMucmVtb3ZlVGV4dChpbmRleCk7XG5cdCAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzY3JvbGxUb0N1cnJlbnRMeXJpYzogZnVuY3Rpb24gc2Nyb2xsVG9DdXJyZW50THlyaWMoKSB7XG5cdCAgICAgIHZhciBmb3JjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cdFxuXHQgICAgICB2YXIgcm9vdCA9IHRoaXMuJGVsO1xuXHQgICAgICB2YXIgY3VyID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcuY3VyJyk7XG5cdCAgICAgIGlmIChjdXIpIHtcblx0ICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5jbGllbnRIZWlnaHQ7XG5cdCAgICAgICAgdmFyIHRvcCA9IGN1ci5vZmZzZXRUb3AgLSBoZWlnaHQgLyAyO1xuXHQgICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8odG9wLCBmb3JjZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGZpbHRlcnM6IHtcblx0ICAgIHRpbWU6IF91dGlscy50aW1lc3RhbXAydGltZXN0clxuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy4kb24oJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAodGltZXN0YW1wKSB7XG5cdCAgICAgIF90aGlzLnJ1bm5lci50aW1lVXBkYXRlKHRpbWVzdGFtcCk7XG5cdCAgICAgIF90aGlzLmluZGV4ID0gX3RoaXMucnVubmVyLmN1ckluZGV4KCk7XG5cdCAgICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudEx5cmljKCk7XG5cdCAgICB9KS4kb24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMucnVubmVyLmxyY1VwZGF0ZSgpO1xuXHQgICAgICBfdGhpcy4kQXBwLmxyY0Zvcm1hdCA9IF90aGlzLnJ1bm5lci5scmMudG9TdHJpbmcoKTtcblx0ICAgICAgX3RoaXMuJEFwcC5seXJpY0FycmF5ID0gX3RoaXMubHlyaWNBcnJheTtcblx0ICAgIH0pLiRvbigncHJldmx5cmljJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5yZW1vdmVUaW1lc3RhbXAoX3RoaXMucnVubmVyLmxyYy5seXJpY3MubGVuZ3RoIC0gMSk7XG5cdCAgICB9KS4kb24oJ25leHRseXJpYycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc2V0VGltZXN0YW1wVGV4dCgwKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuc2Nyb2xsZXIgPSBuZXcgX3V0aWxzLlNjcm9sbGVyKHRoaXMuJGVsKTtcblx0XG5cdCAgICBfdXRpbHMuZ2xvYmFsS2V5ZG93bi5vbihbJ2VudGVyJywgJ2VzY2FwZSddLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChfdGhpczIuZWRpdGluZykge1xuXHQgICAgICAgIF90aGlzMi5leGl0RWRpdCgpO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSkub24oJ2Fycm93dXAnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChfdGhpczIuZWRpdGluZykge1xuXHQgICAgICAgIF90aGlzMi4kZW1pdCgncHJldmx5cmljJyk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KS5vbignYXJyb3dkb3duJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoX3RoaXMyLmVkaXRpbmcpIHtcblx0ICAgICAgICBfdGhpczIuJGVtaXQoJ25leHRseXJpYycpO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgd2F0Y2g6IHtcblx0ICAgIGVkaXRpbmc6IGZ1bmN0aW9uIGVkaXRpbmcoKSB7XG5cdCAgICAgIGlmICghdGhpcy5lZGl0aW5nKSB7XG5cdCAgICAgICAgdGhpcy5leGl0RWRpdCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBUbWVudTogX3RtZW51Mi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlJ1bm5lciA9IGV4cG9ydHMuTHJjID0gZXhwb3J0cy5MaW5lUGFyc2VyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9saW5lUGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cdFxuXHR2YXIgX2xyYyA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblx0XG5cdHZhciBfcnVubmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX3J1bm5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5uZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuTGluZVBhcnNlciA9IF9saW5lUGFyc2VyMi5kZWZhdWx0O1xuXHRleHBvcnRzLkxyYyA9IF9scmMyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUnVubmVyID0gX3J1bm5lcjIuZGVmYXVsdDtcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIExpbmVQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIG51bGwsIFt7XG5cdCAgICBrZXk6ICdwYXJzZVRhZ3MnLFxuXHRcblx0ICAgIC8vIG1hdGNoIGBbdGk6IFRoZSBUaXRsZV1gXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VUYWdzKGxpbmUpIHtcblx0ICAgICAgbGluZSA9IGxpbmUudHJpbSgpO1xuXHQgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5UQUdTX1JFR0VYUC5leGVjKGxpbmUpO1xuXHQgICAgICB2YXIgdGFnID0gbWF0Y2hzWzBdO1xuXHQgICAgICB2YXIgY29udGVudCA9IGxpbmUuc3Vic3RyKHRhZy5sZW5ndGgpO1xuXHQgICAgICByZXR1cm4gW3RhZy5zbGljZSgxLCAtMSkuc3BsaXQoL1xcXVxccypcXFsvKSwgY29udGVudF07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBsaW5lIHBhcnNlIGxyYyBvZiB0aW1lc3RhbXBcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignW3RpOiBTb25nIHRpdGxlXScpXG5cdCAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuSU5GT1xuXHQgICAgICogbHAua2V5ID09PSAndGknXG5cdCAgICAgKiBscC52YWx1ZSA9PT0gJ1NvbmcgdGl0bGUnXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGxwID0gbmV3IExpbmVQYXJzZXIoJ1sxMDoxMC4xMF1oZWxsbycpXG5cdCAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuVElNRVxuXHQgICAgICogbHAudGltZXN0YW1wcyA9PT0gWzEwKjYwKzEwLjEwXVxuXHQgICAgICogbHAuY29udGVudCA9PT0gJ2hlbGxvJ1xuXHQgICAgICogQGNvbnN0cnVjdHNcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lXG5cdCAgICAgKi9cblx0XG5cdCAgICAvLyBtYXRjaCBgWzUxMjozNC4xXSBseXJpYyBjb250ZW50YFxuXHRcblx0ICAgIC8vIG1hdGNoIGBbMTI6MzAuMV1bMTI6MzAuMl1gXG5cdFxuXHQgIH1dKTtcblx0XG5cdCAgZnVuY3Rpb24gTGluZVBhcnNlcihsaW5lKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGluZVBhcnNlcik7XG5cdFxuXHQgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLklOVkFMSUQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFncyA9IExpbmVQYXJzZXIucGFyc2VUYWdzKGxpbmUpO1xuXHRcblx0ICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFnczIgPSBfc2xpY2VkVG9BcnJheShfTGluZVBhcnNlciRwYXJzZVRhZ3MsIDIpO1xuXHRcblx0ICAgICAgdmFyIHRhZ3MgPSBfTGluZVBhcnNlciRwYXJzZVRhZ3MyWzBdO1xuXHQgICAgICB2YXIgY29udGVudCA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMV07XG5cdFxuXHQgICAgICBpZiAoTGluZVBhcnNlci5USU1FX1JFR0VYUC50ZXN0KHRhZ3NbMF0pKSB7XG5cdCAgICAgICAgdGhpcy5wYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChMaW5lUGFyc2VyLklORk9fUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcblx0ICAgICAgICB0aGlzLnBhcnNlQXNJbmZvKHRhZ3NbMF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIFt7XG5cdCAgICBrZXk6ICdwYXJzZUFzVGltZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VBc1RpbWUodGFncywgY29udGVudCkge1xuXHQgICAgICB2YXIgdGltZXN0YW1wcyA9IFtdO1xuXHQgICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuXHQgICAgICAgIHZhciBtYXRjaHMgPSBMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLmV4ZWModGFnKTtcblx0ICAgICAgICB2YXIgbWludXRlcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzFdKTtcblx0ICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzJdLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoJzonLCAnLicpKTtcblx0ICAgICAgICB0aW1lc3RhbXBzLnB1c2gobWludXRlcyAqIDYwICsgc2Vjb25kcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzO1xuXHQgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50LnRyaW0oKTtcblx0ICAgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLlRJTUU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFyc2VBc0luZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNJbmZvKHRhZykge1xuXHQgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5JTkZPX1JFR0VYUC5leGVjKHRhZyk7XG5cdCAgICAgIHRoaXMua2V5ID0gbWF0Y2hzWzFdLnRyaW0oKTtcblx0ICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoc1syXS50cmltKCk7XG5cdCAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTkZPO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIExpbmVQYXJzZXI7XG5cdH0oKTtcblx0XG5cdExpbmVQYXJzZXIuVEFHU19SRUdFWFAgPSAvXihcXFsuK1xcXSkrLztcblx0TGluZVBhcnNlci5JTkZPX1JFR0VYUCA9IC9eXFxzKihcXHcrKVxccyo6KC4qKSQvO1xuXHRMaW5lUGFyc2VyLlRJTUVfUkVHRVhQID0gL15cXHMqKFxcZCspXFxzKjpcXHMqKFxcZCsoXFxzKltcXC46XVxccypcXGQrKT8pXFxzKiQvO1xuXHRMaW5lUGFyc2VyLlRZUEUgPSB7XG5cdCAgSU5WQUxJRDogMCxcblx0ICBJTkZPOiAxLFxuXHQgIFRJTUU6IDJcblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGluZVBhcnNlcjtcblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2lzX2pzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdFxuXHR2YXIgX2lzX2pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzX2pzKTtcblx0XG5cdHZhciBfbGluZVBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRcblx0dmFyIF9saW5lUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmVQYXJzZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgTHJjID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIExyYygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMcmMpO1xuXHRcblx0ICAgIHRoaXMuaW5mbyA9IHt9O1xuXHQgICAgdGhpcy5seXJpY3MgPSBbXTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhMcmMsIFt7XG5cdCAgICBrZXk6ICdvZmZzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZnNldChvZmZzZXRUaW1lKSB7XG5cdCAgICAgIHRoaXMubHlyaWNzLmZvckVhY2goZnVuY3Rpb24gKGx5cmljKSB7XG5cdCAgICAgICAgbHlyaWMudGltZXN0YW1wICs9IG9mZnNldFRpbWU7XG5cdCAgICAgICAgaWYgKGx5cmljLnRpbWVzdGFtcCA8IDApIHtcblx0ICAgICAgICAgIGx5cmljLnRpbWVzdGFtcCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIGdldCBscmMgdGV4dFxuXHQgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBvcHRzLmNvbWJpbmUgbHlyaWNzIGNvbWJpbmUgYnkgc2FtZSBjb250ZW50XG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdHMuc29ydCBseXJpY3Mgc29ydCBieSB0aW1lc3RhbXBcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxpbmVGb3JtYXQgbmV3bGluZSBmb3JtYXRcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ31cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0b1N0cmluZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgICBvcHRzLmNvbWJpbmUgPSAnY29tYmluZScgaW4gb3B0cyA/IG9wdHMuY29tYmluZSA6IHRydWU7XG5cdCAgICAgIG9wdHMubGluZUZvcm1hdCA9ICdsaW5lRm9ybWF0JyBpbiBvcHRzID8gb3B0cy5saW5lRm9ybWF0IDogJ1xcclxcbic7XG5cdCAgICAgIG9wdHMuc29ydCA9ICdzb3J0JyBpbiBvcHRzID8gb3B0cy5zb3J0IDogdHJ1ZTtcblx0ICAgICAgdmFyIGxpbmVzID0gW10sXG5cdCAgICAgICAgICBseXJpY3NNYXAgPSB7fSxcblx0ICAgICAgICAgIGx5cmljc0xpc3QgPSBbXTtcblx0XG5cdCAgICAgIC8vIGdlbmVyYXRlIGluZm9cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5mbykge1xuXHQgICAgICAgIGxpbmVzLnB1c2goJ1snICsga2V5ICsgJzonICsgdGhpcy5pbmZvW2tleV0gKyAnXScpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5jb21iaW5lKSB7XG5cdCAgICAgICAgLy8gdW5pcXVlbmVzc1xuXHQgICAgICAgIHRoaXMubHlyaWNzLmZvckVhY2goZnVuY3Rpb24gKGx5cmljKSB7XG5cdCAgICAgICAgICBpZiAobHlyaWMuY29udGVudCBpbiBseXJpY3NNYXApIHtcblx0ICAgICAgICAgICAgbHlyaWNzTWFwW2x5cmljLmNvbnRlbnRdLnB1c2gobHlyaWMudGltZXN0YW1wKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XSA9IFtseXJpYy50aW1lc3RhbXBdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIC8vIHNvcnRlZFxuXHQgICAgICAgIGZvciAodmFyIGNvbnRlbnQgaW4gbHlyaWNzTWFwKSB7XG5cdCAgICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG5cdCAgICAgICAgICAgIGx5cmljc01hcFtjb250ZW50XS5zb3J0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBseXJpY3NMaXN0LnB1c2goe1xuXHQgICAgICAgICAgICB0aW1lc3RhbXBzOiBseXJpY3NNYXBbY29udGVudF0sXG5cdCAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG9wdHMuc29ydCkge1xuXHQgICAgICAgICAgbHlyaWNzTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhLnRpbWVzdGFtcHNbMF0gLSBiLnRpbWVzdGFtcHNbMF07XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGdlbmVyYXRlIGx5cmljc1xuXHQgICAgICAgIGx5cmljc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICAgIGxpbmVzLnB1c2goJ1snICsgbHlyaWMudGltZXN0YW1wcy5tYXAoZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuXHQgICAgICAgICAgICByZXR1cm4gTHJjLnRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCk7XG5cdCAgICAgICAgICB9KS5qb2luKCddWycpICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmx5cmljcy5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuXHQgICAgICAgICAgbGluZXMucHVzaCgnWycgKyBMcmMudGltZXN0YW1wVG9TdHJpbmcobHlyaWMudGltZXN0YW1wKSArICddJyArIChseXJpYy5jb250ZW50IHx8ICcnKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBsaW5lcy5qb2luKG9wdHMubGluZUZvcm1hdCk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdwYXJzZScsXG5cdFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcGFyc2UgbHJjIHRleHQgYW5kIHJldHVybiBhIExyYyBvYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG5cdCAgICAgKiBAcmV0dXJuIHtMcmN9XG5cdCAgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZSh0ZXh0KSB7XG5cdCAgICAgIHZhciBseXJpY3MgPSBbXTtcblx0ICAgICAgdmFyIGluZm8gPSB7fTtcblx0ICAgICAgdGV4dC5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpLm1hcChmdW5jdGlvbiAobGluZSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgX2xpbmVQYXJzZXIyLmRlZmF1bHQobGluZSk7XG5cdCAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcblx0ICAgICAgICBzd2l0Y2ggKGxpbmUudHlwZSkge1xuXHQgICAgICAgICAgY2FzZSBfbGluZVBhcnNlcjIuZGVmYXVsdC5UWVBFLklORk86XG5cdCAgICAgICAgICAgIGluZm9bbGluZS5rZXldID0gbGluZS52YWx1ZTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuVElNRTpcblx0ICAgICAgICAgICAgbGluZS50aW1lc3RhbXBzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuXHQgICAgICAgICAgICAgIGx5cmljcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuXHQgICAgICAgICAgICAgICAgY29udGVudDogbGluZS5jb250ZW50XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBscmMgPSBuZXcgdGhpcygpO1xuXHQgICAgICBscmMubHlyaWNzID0gbHlyaWNzO1xuXHQgICAgICBscmMuaW5mbyA9IGluZm87XG5cdCAgICAgIHJldHVybiBscmM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2hlY2tMeXJpY09iamVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tMeXJpY09iamVjdChseXJpYykge1xuXHQgICAgICByZXR1cm4gX2lzX2pzMi5kZWZhdWx0Lm9iamVjdChseXJpYykgJiYgJ3RpbWVzdGFtcCcgaW4gbHlyaWMgJiYgX2lzX2pzMi5kZWZhdWx0Lm51bWJlcihseXJpYy50aW1lc3RhbXApICYmICdjb250ZW50JyBpbiBseXJpYyAmJiBfaXNfanMyLmRlZmF1bHQuc3RyaW5nKGx5cmljLmNvbnRlbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3BhZFplcm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhZFplcm8obnVtKSB7XG5cdCAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIGlmIChfaXNfanMyLmRlZmF1bHQubnVtYmVyKG51bSkpIHtcblx0ICAgICAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcblx0ICAgICAgfVxuXHQgICAgICB3aGlsZSAobnVtLnNwbGl0KCcuJylbMF0ubGVuZ3RoIDwgc2l6ZSkge1xuXHQgICAgICAgIG51bSA9ICcwJyArIG51bTtcblx0ICAgICAgfXJldHVybiBudW07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBnZXQgbHJjIHRpbWUgc3RyaW5nXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogTHJjLnRpbWVzdGFtcFRvU3RyaW5nKDE0My41NClcblx0ICAgICAqIC8vIHJldHVybiAnMDI6MjMuNTQnOlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCBzZWNvbmQgdGltZXN0YW1wXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAndGltZXN0YW1wVG9TdHJpbmcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wYWRaZXJvKHBhcnNlSW50KHRpbWVzdGFtcCAvIDYwKSkgKyAnOicgKyB0aGlzLnBhZFplcm8oKHRpbWVzdGFtcCAlIDYwKS50b0ZpeGVkKDIpKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBMcmM7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExyYztcblxuLyoqKi8gfSxcbi8qIDU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2xyYyA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblx0XG5cdHZhciBfY2xvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgUnVubmVyID0gZnVuY3Rpb24gKCkge1xuXHQgIC8qKlxuXHQgICAqIEBwYXJhbSB7THJjfSBscmNcblx0ICAgKi9cblx0XG5cdCAgZnVuY3Rpb24gUnVubmVyKCkge1xuXHQgICAgdmFyIGxyYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5ldyBfbHJjMi5kZWZhdWx0KCkgOiBhcmd1bWVudHNbMF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVubmVyKTtcblx0XG5cdCAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcblx0ICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuXHQgICAgdGhpcy5zZXRMcmMobHJjKTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqICBAcGFyYW0ge0xyY30gbHJjXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUnVubmVyLCBbe1xuXHQgICAga2V5OiAnc2V0THJjJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMcmMobHJjKSB7XG5cdCAgICAgIHRoaXMubHJjID0gKDAsIF9jbG9uZTIuZGVmYXVsdCkobHJjKTtcblx0ICAgICAgdGhpcy5scmNVcGRhdGUoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdscmNVcGRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxyY1VwZGF0ZSgpIHtcblx0ICAgICAgaWYgKHRoaXMub2Zmc2V0KSB7XG5cdCAgICAgICAgdGhpcy5fb2Zmc2V0QWxpZ24oKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9zb3J0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX29mZnNldEFsaWduJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb2Zmc2V0QWxpZ24oKSB7XG5cdCAgICAgIGlmICgnb2Zmc2V0JyBpbiB0aGlzLmxyYy5pbmZvKSB7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMubHJjLmluZm8ub2Zmc2V0KSAvIDEwMDA7XG5cdCAgICAgICAgaWYgKCFpc05hTihvZmZzZXQpKSB7XG5cdCAgICAgICAgICB0aGlzLmxyYy5vZmZzZXQob2Zmc2V0KTtcblx0ICAgICAgICAgIGRlbGV0ZSB0aGlzLmxyYy5pbmZvLm9mZnNldDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfc29ydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoKSB7XG5cdCAgICAgIHRoaXMubHJjLmx5cmljcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0aW1lVXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKHRpbWVzdGFtcCkge1xuXHQgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMubHJjLmx5cmljcy5sZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCAtMSkge1xuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHRoaXMuX2N1cnJlbnRJbmRleCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2ZpbmRJbmRleCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHN0YXJ0SW5kZXgpIHtcblx0ICAgICAgdmFyIGN1ckZyb250VGltZXN0YW1wID0gc3RhcnRJbmRleCA9PSAtMSA/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA6IHRoaXMubHJjLmx5cmljc1tzdGFydEluZGV4XS50aW1lc3RhbXA7XG5cdFxuXHQgICAgICB2YXIgY3VyQmFja1RpbWVzdGFtcCA9IHN0YXJ0SW5kZXggPT0gdGhpcy5scmMubHlyaWNzLmxlbmd0aCAtIDEgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiB0aGlzLmxyYy5seXJpY3Nbc3RhcnRJbmRleCArIDFdLnRpbWVzdGFtcDtcblx0XG5cdCAgICAgIGlmICh0aW1lc3RhbXAgPCBjdXJGcm9udFRpbWVzdGFtcCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4IC0gMSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID09PSBjdXJCYWNrVGltZXN0YW1wKSB7XG5cdCAgICAgICAgaWYgKGN1ckJhY2tUaW1lc3RhbXAgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuXHQgICAgICAgICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ICsgMTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID4gY3VyQmFja1RpbWVzdGFtcCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4ICsgMSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJbmZvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmZvKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5scmMuaW5mbztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMeXJpY3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljcygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubHJjLmx5cmljcztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqICBAcmV0dXJuIHtPYmplY3R9IHsnJ31cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMeXJpYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0THlyaWMoKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRoaXMuY3VySW5kZXgoKSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubHJjLmx5cmljc1tpbmRleF07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBub3QgZXhpc3QnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2N1ckluZGV4Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJJbmRleCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjdXJMeXJpYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3VyTHlyaWMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmdldEx5cmljKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUnVubmVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSdW5uZXI7XG5cbi8qKiovIH0sXG4vKiA2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlcikge3ZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIGNpcmN1bGFyIHJlZmVyZW5jZXMgYnkgZGVmYXVsdCwgYnV0IGlmIHlvdSBhcmUgY2VydGFpblxuXHQgKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcblx0ICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cblx0ICpcblx0ICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcblx0ICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cblx0ICpcblx0ICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcblx0ICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuXHQgKiAgICBjaXJjdWxhciByZWZlcmVuY2VzLiAob3B0aW9uYWwgLSB0cnVlIGJ5IGRlZmF1bHQpXG5cdCAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cblx0ICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcblx0ICogQHBhcmFtIGBwcm90b3R5cGVgIC0gc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIHVzZWQgd2hlbiBjbG9uaW5nIGFuIG9iamVjdC5cblx0ICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG5cdCovXG5cdGZ1bmN0aW9uIGNsb25lKHBhcmVudCwgY2lyY3VsYXIsIGRlcHRoLCBwcm90b3R5cGUpIHtcblx0ICB2YXIgZmlsdGVyO1xuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG5cdCAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuXHQgICAgcHJvdG90eXBlID0gY2lyY3VsYXIucHJvdG90eXBlO1xuXHQgICAgZmlsdGVyID0gY2lyY3VsYXIuZmlsdGVyO1xuXHQgICAgY2lyY3VsYXIgPSBjaXJjdWxhci5jaXJjdWxhclxuXHQgIH1cblx0ICAvLyBtYWludGFpbiB0d28gYXJyYXlzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLCB3aGVyZSBjb3JyZXNwb25kaW5nIHBhcmVudHNcblx0ICAvLyBhbmQgY2hpbGRyZW4gaGF2ZSB0aGUgc2FtZSBpbmRleFxuXHQgIHZhciBhbGxQYXJlbnRzID0gW107XG5cdCAgdmFyIGFsbENoaWxkcmVuID0gW107XG5cdFxuXHQgIHZhciB1c2VCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9ICd1bmRlZmluZWQnO1xuXHRcblx0ICBpZiAodHlwZW9mIGNpcmN1bGFyID09ICd1bmRlZmluZWQnKVxuXHQgICAgY2lyY3VsYXIgPSB0cnVlO1xuXHRcblx0ICBpZiAodHlwZW9mIGRlcHRoID09ICd1bmRlZmluZWQnKVxuXHQgICAgZGVwdGggPSBJbmZpbml0eTtcblx0XG5cdCAgLy8gcmVjdXJzZSB0aGlzIGZ1bmN0aW9uIHNvIHdlIGRvbid0IHJlc2V0IGFsbFBhcmVudHMgYW5kIGFsbENoaWxkcmVuXG5cdCAgZnVuY3Rpb24gX2Nsb25lKHBhcmVudCwgZGVwdGgpIHtcblx0ICAgIC8vIGNsb25pbmcgbnVsbCBhbHdheXMgcmV0dXJucyBudWxsXG5cdCAgICBpZiAocGFyZW50ID09PSBudWxsKVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0XG5cdCAgICBpZiAoZGVwdGggPT0gMClcblx0ICAgICAgcmV0dXJuIHBhcmVudDtcblx0XG5cdCAgICB2YXIgY2hpbGQ7XG5cdCAgICB2YXIgcHJvdG87XG5cdCAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjbG9uZS5fX2lzQXJyYXkocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IFtdO1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgUmVnRXhwKHBhcmVudC5zb3VyY2UsIF9fZ2V0UmVnRXhwRmxhZ3MocGFyZW50KSk7XG5cdCAgICAgIGlmIChwYXJlbnQubGFzdEluZGV4KSBjaGlsZC5sYXN0SW5kZXggPSBwYXJlbnQubGFzdEluZGV4O1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IERhdGUocGFyZW50LmdldFRpbWUoKSk7XG5cdCAgICB9IGVsc2UgaWYgKHVzZUJ1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG5cdCAgICAgIHBhcmVudC5jb3B5KGNoaWxkKTtcblx0ICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwcm90b3R5cGUgPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuXHQgICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSB7XG5cdCAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG5cdCAgICAgICAgcHJvdG8gPSBwcm90b3R5cGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2lyY3VsYXIpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cdFxuXHQgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcblx0ICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuXHQgICAgICB9XG5cdCAgICAgIGFsbFBhcmVudHMucHVzaChwYXJlbnQpO1xuXHQgICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuXHQgICAgICB2YXIgYXR0cnM7XG5cdCAgICAgIGlmIChwcm90bykge1xuXHQgICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuXHQgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2hpbGQ7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU2ltcGxlIGZsYXQgY2xvbmUgdXNpbmcgcHJvdG90eXBlLCBhY2NlcHRzIG9ubHkgb2JqZWN0cywgdXNlZnVsbCBmb3IgcHJvcGVydHlcblx0ICogb3ZlcnJpZGUgb24gRkxBVCBjb25maWd1cmF0aW9uIG9iamVjdCAobm8gbmVzdGVkIHByb3BzKS5cblx0ICpcblx0ICogVVNFIFdJVEggQ0FVVElPTiEgVGhpcyBtYXkgbm90IGJlaGF2ZSBhcyB5b3Ugd2lzaCBpZiB5b3UgZG8gbm90IGtub3cgaG93IHRoaXNcblx0ICogd29ya3MuXG5cdCAqL1xuXHRjbG9uZS5jbG9uZVByb3RvdHlwZSA9IGZ1bmN0aW9uIGNsb25lUHJvdG90eXBlKHBhcmVudCkge1xuXHQgIGlmIChwYXJlbnQgPT09IG51bGwpXG5cdCAgICByZXR1cm4gbnVsbDtcblx0XG5cdCAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7fTtcblx0ICBjLnByb3RvdHlwZSA9IHBhcmVudDtcblx0ICByZXR1cm4gbmV3IGMoKTtcblx0fTtcblx0XG5cdC8vIHByaXZhdGUgdXRpbGl0eSBmdW5jdGlvbnNcblx0XG5cdGZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG5cdH07XG5cdGNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXHRcblx0ZnVuY3Rpb24gX19pc0RhdGUobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9O1xuXHRjbG9uZS5fX2lzRGF0ZSA9IF9faXNEYXRlO1xuXHRcblx0ZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cdGNsb25lLl9faXNBcnJheSA9IF9faXNBcnJheTtcblx0XG5cdGZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5cdH07XG5cdGNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXHRcblx0ZnVuY3Rpb24gX19nZXRSZWdFeHBGbGFncyhyZSkge1xuXHQgIHZhciBmbGFncyA9ICcnO1xuXHQgIGlmIChyZS5nbG9iYWwpIGZsYWdzICs9ICdnJztcblx0ICBpZiAocmUuaWdub3JlQ2FzZSkgZmxhZ3MgKz0gJ2knO1xuXHQgIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcblx0ICByZXR1cm4gZmxhZ3M7XG5cdH07XG5cdGNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXHRcblx0cmV0dXJuIGNsb25lO1xuXHR9KSgpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzkpLkJ1ZmZlcikpXG5cbi8qKiovIH0sXG4vKiA2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2Milcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NClcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LWVlZTRjYWJlXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInNwYW5bZGF0YS12LWVlZTRjYWJlXXtwb3NpdGlvbjpyZWxhdGl2ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL3RtZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWVudXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubWVudSB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9Lm1lbnUgdWwgbGl7d2hpdGUtc3BhY2U6bm93cmFwO2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjI1cHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMmE3MmJiO2N1cnNvcjpwb2ludGVyfS5tZW51IHVsIGxpOmhvdmVye2NvbG9yOiMyYTcyYmI7YmFja2dyb3VuZC1jb2xvcjojZThlMWUxfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXHRcblx0dmFyIF90b29sdGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rvb2x0aXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgZGlyOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBUb29sdGlwOiBfdG9vbHRpcDIuZGVmYXVsdFxuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudG9vbHRpcCAud3JhcHtwYWRkaW5nOjhweDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Y29sb3I6IzJhNzJiYjtib3JkZXItcmFkaXVzOjhweDtib3gtc2hhZG93Oi41cHggLjVweCAzcHggLjVweCAjY2NjfS50b29sdGlwIC53cmFwIC5hcnJvd3twb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDowO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG99LnRvb2x0aXAgLndyYXAgLmFycm93LmxlZnR7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cucmlnaHR7dG9wOjA7Ym90dG9tOjA7bGVmdDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cudG9we2xlZnQ6MDtyaWdodDowO2JvdHRvbTotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LmJvdHRvbXtsZWZ0OjA7cmlnaHQ6MDt0b3A6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjhweCBzb2xpZCAjZmZmfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2V4dGVuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgdG9wOiAwLFxuXHQgICAgICAgIGxlZnQ6IDAsXG5cdCAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcblx0ICAgICAgfSxcblx0ICAgICAgc2hvdzogZmFsc2UsXG5cdCAgICAgIGRpcjogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIGVudGVyRGVsYXk6IHtcblx0ICAgICAgdHlwZTogTnVtYmVyLFxuXHQgICAgICBkZWZhdWx0OiAwLjFcblx0ICAgIH0sXG5cdCAgICBsZWF2ZURlbGF5OiB7XG5cdCAgICAgIHR5cGU6IE51bWJlcixcblx0ICAgICAgZGVmYXVsdDogMC41XG5cdCAgICB9LFxuXHQgICAgdGFyZ2V0OiB7XG5cdCAgICAgIHR5cGU6IEVsZW1lbnQsXG5cdCAgICAgIGRlZmF1bHQ6IG51bGxcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwYXJlbnQgPSB0aGlzLnRhcmdldCAhPT0gbnVsbCA/IHRoaXMudGFyZ2V0IDogdGhpcy4kZWw7XG5cdCAgICB2YXIgdGxwUG9zID0gbmV3IF91dGlscy5Ub29sdGlwUG9zaXRpb24ocGFyZW50LCB0aGlzLiRyZWZzLndyYXApO1xuXHQgICAgdmFyIGFycm93U3BhY2UgPSAxMDtcblx0XG5cdCAgICB2YXIgZGhvdmVyID0gbmV3IF91dGlscy5EZWxheUhvdmVyKHBhcmVudCwge1xuXHQgICAgICBlbnRlckRlbGF5OiB0aGlzLmVudGVyRGVsYXksXG5cdCAgICAgIGxlYXZlRGVsYXk6IHRoaXMubGVhdmVEZWxheVxuXHQgICAgfSk7XG5cdCAgICBkaG92ZXIuaG92ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcG9zID0gdGxwUG9zLnBvc2l0aW9uKCk7XG5cdCAgICAgIF90aGlzLmRpciA9IHBvcy5kaXI7XG5cdCAgICAgIHN3aXRjaCAoX3RoaXMuZGlyKSB7XG5cdCAgICAgICAgY2FzZSAnbGVmdCc6XG5cdCAgICAgICAgICAoMCwgX2V4dGVuZDIuZGVmYXVsdCkoX3RoaXMuc3R5bGUsIHtcblx0ICAgICAgICAgICAgdG9wOiBwb3MucmVjdC50b3AgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0IC0gYXJyb3dTcGFjZSArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAncmlnaHQnOlxuXHQgICAgICAgICAgKDAsIF9leHRlbmQyLmRlZmF1bHQpKF90aGlzLnN0eWxlLCB7XG5cdCAgICAgICAgICAgIHRvcDogcG9zLnJlY3QudG9wICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbGVmdDogcG9zLnJlY3QubGVmdCArIGFycm93U3BhY2UgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ3RvcCc6XG5cdCAgICAgICAgICAoMCwgX2V4dGVuZDIuZGVmYXVsdCkoX3RoaXMuc3R5bGUsIHtcblx0ICAgICAgICAgICAgdG9wOiBwb3MucmVjdC50b3AgLSBhcnJvd1NwYWNlICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbGVmdDogcG9zLnJlY3QubGVmdCArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnYm90dG9tJzpcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kMi5kZWZhdWx0KShfdGhpcy5zdHlsZSwge1xuXHQgICAgICAgICAgICB0b3A6IHBvcy5yZWN0LnRvcCArIGFycm93U3BhY2UgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0ICsgJ3B4J1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIGZhbHNlOlxuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnNob3cgPSB0cnVlO1xuXHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICB3YXRjaDoge1xuXHQgICAgc2hvdzoge1xuXHQgICAgICBpbW1lZGlhdGU6IHRydWUsXG5cdCAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG5cdCAgICAgICAgdGhpcy5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5zaG93ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnc3BhbicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInRvb2x0aXBcIlxuXHQgIH0sIFtfdm0uX3QoXCJ0YXJnZXRcIiksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJ3cmFwXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG5cdCAgICBzdHlsZTogKF92bS5zdHlsZSlcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBjbGFzczogJ2Fycm93ICcgKyBfdm0uZGlyXG5cdCAgfSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuXHQgIH0sIFtfdm0uX3QoXCJjb250ZW50XCIpXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICByZWY6IFwibWVudVwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudVwiXG5cdCAgfSwgW192bS5faCgndG9vbHRpcCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZGlyXCI6IF92bS5kaXIsXG5cdCAgICAgIFwidGFyZ2V0XCI6IF92bS4kcmVmcy5tZW51LFxuXHQgICAgICBcImVudGVyLWRlbGF5XCI6IDBcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgfSwgW192bS5fdChcInRhcmdldFwiKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzbG90OiBcImNvbnRlbnRcIlxuXHQgIH0sIFtfdm0uX3QoXCJsaXN0XCIpXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gKF92bS5lZGl0aW5nKSA/IF92bS5faCgndWwnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJlZGl0aW5nIGx5cmljc1wiXG5cdCAgfSwgW192bS5fbCgoX3ZtLnJ1bm5lci5scmMubHlyaWNzKSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcblx0ICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuXHQgICAgICBjbGFzczoge1xuXHQgICAgICAgIGN1cjogaSA9PSBfdm0uaW5kZXhcblx0ICAgICAgfSxcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInRpdGxlXCI6IGx5cmljLnRpbWVzdGFtcFxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiZGJsY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uZWRpdChpKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbKF92bS5lZGl0aW5nSW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChseXJpYy50aW1lc3RhbXApLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwibHlyaWMudGltZXN0YW1wXCJcblx0ICAgICAgfV0sXG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcInRpbWVzdGFtcFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuXHQgICAgICB9LFxuXHQgICAgICBkb21Qcm9wczoge1xuXHQgICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKGx5cmljLnRpbWVzdGFtcClcblx0ICAgICAgfSxcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgIT09IDEzKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgX3ZtLmV4aXRFZGl0KCRldmVudClcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBseXJpYy50aW1lc3RhbXAgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICAgIHZhbHVlOiAobHlyaWMuY29udGVudCksXG5cdCAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy5jb250ZW50XCJcblx0ICAgICAgfV0sXG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIixcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcblx0ICAgICAgfSxcblx0ICAgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhseXJpYy5jb250ZW50KVxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwia2V5ZG93blwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSAhPT0gMTMpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIGx5cmljLmNvbnRlbnQgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcInRpbWVzdGFtcFwiXG5cdCAgICB9LCBbX3ZtLl9zKF92bS5fZihcInRpbWVcIikobHlyaWMudGltZXN0YW1wKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCJcblx0ICAgIH0sIFtfdm0uX3MobHlyaWMuY29udGVudCldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcblx0ICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuXHQgICAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuXHQgICAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG5cdCAgICAgIHNsb3Q6IFwibGlzdFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLnJlbW92ZVRpbWVzdGFtcChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uZWRpdChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5lZGl0JykpICsgXCJcXG4gICAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLmluc2VydChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0ucmVtb3ZlKGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSldKV0pXSldLCBcIiBcIl0pXG5cdCAgfSksIFwiIFwiLCAoX3ZtLmx5cmljQXJyYXkubGVuZ3RoKSA/IF92bS5faCgnbGknLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJkaXZpc2lvblwiXG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5mb2xsb3dpbmdfdW5zb3J0ZWQnKSldKSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9sKChfdm0ubHlyaWNBcnJheSksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG5cdCAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwidW5zb3J0ZWRcIixcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInRyYWNrLWJ5XCI6IFwiaVwiXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5lZGl0VGV4dChpKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbKF92bS5lZGl0aW5nVGV4dEluZGV4ID09IGkpID8gW192bS5faCgnaW5wdXQnLCB7XG5cdCAgICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICAgIHZhbHVlOiAoX3ZtLmx5cmljQXJyYXlbaV0pLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwibHlyaWNBcnJheVtpXVwiXG5cdCAgICAgIH1dLFxuXHQgICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljQXJyYXlbaV0pXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJrZXlkb3duXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIF92bS5leGl0RWRpdCgkZXZlbnQpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgdmFyICQkZXhwID0gX3ZtLmx5cmljQXJyYXksXG5cdCAgICAgICAgICAgICQkaWR4ID0gaTtcblx0ICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgkJGV4cCkpIHtcblx0ICAgICAgICAgICAgX3ZtLmx5cmljQXJyYXlbaV0gPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAkJGV4cC5zcGxpY2UoJCRpZHgsIDEsICRldmVudC50YXJnZXQudmFsdWUpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuXHQgICAgfSwgW192bS5fcyhseXJpYyldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcblx0ICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuXHQgICAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuXHQgICAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG5cdCAgICAgIHNsb3Q6IFwibGlzdFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVkaXRcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uaW5zZXJ0VGV4dChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0ucmVtb3ZlVGV4dChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG5cdCAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pXSldKV0pXSwgXCIgXCJdKVxuXHQgIH0pXSkgOiBfdm0uX2goJ3VsJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibHlyaWNzXCJcblx0ICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuXHQgICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG5cdCAgICAgIGNsYXNzOiB7XG5cdCAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuXHQgICAgICB9LFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5wbGF5dG8obHlyaWMudGltZXN0YW1wKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW1wiXFxuICAgIFwiICsgX3ZtLl9zKGx5cmljLmNvbnRlbnQpICsgXCJcXG4gIFwiXSlcblx0ICB9KSwgXCIgXCIsIChfdm0ubHlyaWNBcnJheS5sZW5ndGgpID8gX3ZtLl9oKCdsaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpKV0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2woKF92bS5seXJpY0FycmF5KSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcblx0ICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHJhY2stYnlcIjogXCJpXCJcblx0ICAgICAgfVxuXHQgICAgfSwgW1wiXFxuICAgIFwiICsgX3ZtLl9zKGx5cmljKSArIFwiXFxuICBcIl0pXG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NSlcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3Nylcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LWExNGM5NmVhXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXBbZGF0YS12LWExNGM5NmVhXTphZnRlciwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFdOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uY292ZXJbZGF0YS12LWExNGM5NmVhXXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC43KTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTAwMDtvdmVyZmxvdzphdXRvfS5tb2RhbFtkYXRhLXYtYTE0Yzk2ZWFde3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjozMHB4IGF1dG87YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6OHB4O292ZXJmbG93OmhpZGRlbn0ubW9kYWwubGdbZGF0YS12LWExNGM5NmVhXXt3aWR0aDo1MCV9Lm1vZGFsLm1kW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6NzAlfS5tb2RhbC5zbVtkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjkwJX0ubW9kYWwgLmJvZHlbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy1sZWZ0OjE0cHg7cGFkZGluZy1yaWdodDoxNHB4fS5tb2RhbCAuYm9keVtkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fS5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtjb2xvcjojMmE3MmJifS5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U1ZTVlNTtmb250LXdlaWdodDpib2xkZXJ9Lm1vZGFsIC5oZWFkZXIgLmljb24tY2FuY2VsW2RhdGEtdi1hMTRjOTZlYV17ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXJ9Lm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXXtib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1fS5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXAgLmJ0bltkYXRhLXYtYTE0Yzk2ZWFde2Zsb2F0OnJpZ2h0O2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMyYTcyYmI7cGFkZGluZzo4cHggMTBweH0ubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwIC5idG5bZGF0YS12LWExNGM5NmVhXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9pbmRleC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCBoM3ttYXJnaW46MTBweCAwfS5tb2RhbCB0ZXh0YXJlYXt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtib3JkZXItcmFkaXVzOjVweDttaW4taGVpZ2h0OjMwMHB4O21hcmdpbjoxMHB4IDB9Lm1vZGFsIHB7bWFyZ2luOjB9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdHZhciBfdnVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfdnVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Z1ZSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX2hlbHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcblx0XG5cdHZhciBfaGVscDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwKTtcblx0XG5cdHZhciBfbHJjRm9ybWF0VXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHR2YXIgX2xyY0Zvcm1hdFVwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmNGb3JtYXRVcGxvYWQpO1xuXHRcblx0dmFyIF9seXJpY1VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXHRcblx0dmFyIF9seXJpY1VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9seXJpY1VwbG9hZCk7XG5cdFxuXHR2YXIgX2xyY1NhdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0XG5cdHZhciBfbHJjU2F2ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmNTYXZlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ09NUE9ORU5UUyA9IHtcblx0ICAnaGVscCc6IF9oZWxwMi5kZWZhdWx0LFxuXHQgICdscmMtZm9ybWF0LXVwbG9hZCc6IF9scmNGb3JtYXRVcGxvYWQyLmRlZmF1bHQsXG5cdCAgJ2x5cmljLXVwbG9hZCc6IF9seXJpY1VwbG9hZDIuZGVmYXVsdCxcblx0ICAnbHJjLXNhdmUnOiBfbHJjU2F2ZTIuZGVmYXVsdFxuXHR9O1xuXHRcblx0d2luZG93Lk1DID0gW107XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHRpdGxlOiAnTW9kYWwnLFxuXHQgICAgICBzaXplOiAnbWQnLFxuXHQgICAgICBjb25maXJtOiBmYWxzZSxcblx0ICAgICAgbW9kYWxOYW1lOiAnJyxcblx0ICAgICAgbW9kYWxDb21wb25lbnQ6IG51bGwsXG5cdCAgICAgIGlzU2hvdzogZmFsc2UsXG5cdCAgICAgIGNvdmVyU2hvdzogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhtb2RhbE5hbWUpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5jb3ZlclNob3cgPSB0cnVlO1xuXHQgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMubW9kYWxOYW1lID0gbW9kYWxOYW1lO1xuXHQgICAgICAgIF90aGlzLm1vZGFsQ29tcG9uZW50ID0gbmV3IF92dWUyLmRlZmF1bHQoX2V4dGVuZHMoe30sIENPTVBPTkVOVFNbX3RoaXMubW9kYWxOYW1lXSkpO1xuXHQgICAgICAgIF90aGlzLm1vZGFsQ29tcG9uZW50LiRtb3VudChfdGhpcy4kcmVmcy5tb2RhbFdyYXBwZXIpO1xuXHRcblx0ICAgICAgICBpZiAoX3RoaXMubW9kYWxDb21wb25lbnQudGl0bGUpIHtcblx0ICAgICAgICAgIF90aGlzLnRpdGxlID0gX3RoaXMubW9kYWxDb21wb25lbnQudGl0bGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChfdGhpcy5tb2RhbENvbXBvbmVudC5zaXplKSB7XG5cdCAgICAgICAgICBfdGhpcy50aXRsZSA9IF90aGlzLm1vZGFsQ29tcG9uZW50LnNpemU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChfdGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtKSB7XG5cdCAgICAgICAgICBfdGhpcy5jb25maXJtID0gX3RoaXMubW9kYWxDb21wb25lbnQuY29uZmlybTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHQgICAgb2s6IGZ1bmN0aW9uIG9rKCkge1xuXHQgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdvaycpO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KCk7XG5cdCAgICB9LFxuXHQgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7XG5cdCAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGVtaXQoJ2NhbmNlbCcpO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgX3V0aWxzLmdsb2JhbEtleWRvd24ub24oJ2VzY2FwZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKF90aGlzMi5pc1Nob3cpIHtcblx0ICAgICAgICBfdGhpczIuY2FuY2VsKCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIEhlbHA6IF9oZWxwMi5kZWZhdWx0LFxuXHQgICAgTHJjRm9ybWF0VXBsb2FkOiBfbHJjRm9ybWF0VXBsb2FkMi5kZWZhdWx0LFxuXHQgICAgTHlyaWNVcGxvYWQ6IF9seXJpY1VwbG9hZDIuZGVmYXVsdCxcblx0ICAgIExyY1NhdmU6IF9scmNTYXZlMi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oODEpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mylcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NClcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0zZjU3YzFkMFwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTNmNTdjMWQwJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9oZWxwLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmhlbHBbZGF0YS12LTNmNTdjMWQwXXtjb2xvcjojMzMzfS5oZWxwIGFbZGF0YS12LTNmNTdjMWQwXSwuaGVscCBoM1tkYXRhLXYtM2Y1N2MxZDBdLC5oZWxwIGg0W2RhdGEtdi0zZjU3YzFkMF17Y29sb3I6IzJhNzJiYn0uaGVscCBoM1tkYXRhLXYtM2Y1N2MxZDBde21hcmdpbjo1cHggMH0uaGVscCBoNFtkYXRhLXYtM2Y1N2MxZDBde21hcmdpbjowfS5oZWxwIGFbZGF0YS12LTNmNTdjMWQwXXtmb250LXdlaWdodDpib2xkZXJ9LmhlbHAgdWxbZGF0YS12LTNmNTdjMWQwXXtsaXN0LXN0eWxlLXR5cGU6bm9uZTtwYWRkaW5nOjAgMCAwIDIwcHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wYWNrYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX3BhY2thZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFja2FnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBQS0c6IF9wYWNrYWdlMi5kZWZhdWx0LFxuXHQgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwuaGVscC50aXRsZScpXG5cdCAgICB9O1xuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJoZWxwXCJcblx0ICB9LCBbX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnNob3J0Y3V0X2tleScpKV0pLCBcIiBcIiwgX3ZtLl9oKCdoNCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC50aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIFtfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmxlZnRfa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5iYWNrd2FyZCcpKV0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5yaWdodF9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmZvcndhcmQnKSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdoNCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnRpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3VsJywgW192bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy51cF9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMucHJldl9seXJpYycpKV0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLmRvd25fa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLm5leHRfbHlyaWMnKSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJsaW5rXCJcblx0ICB9LCBbX3ZtLl9oKCdhJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJocmVmXCI6IF92bS5QS0cuaG9tZXBhZ2UsXG5cdCAgICAgIFwidGFyZ2V0XCI6IFwiX2JsYW5rXCJcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5zb3VyY2VfY29kZScpKSArIFwiOiBnaXRodWJcIl0pXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nilcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nylcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91cGxvYWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfdXBsb2FkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VwbG9hZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQudGl0bGUnKSxcblx0ICAgICAgbHlyaWM6ICcnLFxuXHQgICAgICBjb25maXJtOiB0cnVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5seXJpYyA9IHRoaXMuJEFwcC5scmNGb3JtYXQ7XG5cdCAgICB0aGlzLiRvbignb2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLiRBcHAubHJjRm9ybWF0ID0gX3RoaXMubHlyaWM7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZChseXJpYykge1xuXHQgICAgICB0aGlzLmx5cmljID0gbHlyaWM7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBVcGxvYWQ6IF91cGxvYWQyLmRlZmF1bHRcblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgncCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC5kZXNjcmlwdGlvbicpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLmx5cmljKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJseXJpY1wiXG5cdCAgICB9XSxcblx0ICAgIGRvbVByb3BzOiB7XG5cdCAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5seXJpYylcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICBfdm0ubHlyaWMgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KSwgXCIgXCIsIF92bS5faCgndXBsb2FkJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcInVwbG9hZFwiOiBfdm0udXBsb2FkXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTApXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX3VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGxvYWQpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmx5cmljX3VwbG9hZC50aXRsZScpLFxuXHQgICAgICBseXJpYzogX2NhY2hlMi5kZWZhdWx0Lmx5cmljLFxuXHQgICAgICBjb25maXJtOiB0cnVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy4kb24oJ29rJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy4kQXBwLmx5cmljQXJyYXkgPSBfdGhpcy5seXJpYy5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQobHlyaWMpIHtcblx0ICAgICAgdGhpcy5seXJpYyA9IGx5cmljO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgd2F0Y2g6IHtcblx0ICAgIGx5cmljOiBmdW5jdGlvbiBseXJpYyh2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0Lmx5cmljID0gdmFsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgVXBsb2FkOiBfdXBsb2FkMi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ3AnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHlyaWNfdXBsb2FkLmRlc2NyaXB0aW9uJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgdmFsdWU6IChfdm0ubHlyaWMpLFxuXHQgICAgICBleHByZXNzaW9uOiBcImx5cmljXCJcblx0ICAgIH1dLFxuXHQgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgIF92bS5seXJpYyA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pLCBcIiBcIiwgX3ZtLl9oKCd1cGxvYWQnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwidXBsb2FkXCI6IF92bS51cGxvYWRcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHlyaWNfdXBsb2FkLnVwbG9hZCcpKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0dmFyIF9wYWNrYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX3BhY2thZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFja2FnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnRpdGxlJyksXG5cdCAgICAgIGx5cmljOiAnJyxcblx0ICAgICAgdXNlck5hbWU6IF9jYWNoZTIuZGVmYXVsdC51c2VyTmFtZSxcblx0ICAgICAgc2F2ZU9wdGlvbnM6IHtcblx0ICAgICAgICBjb21iaW5lOiB0cnVlLFxuXHQgICAgICAgIGxpbmVGb3JtYXQ6ICdcXHJcXG4nLFxuXHQgICAgICAgIHNvcnQ6IHRydWVcblx0ICAgICAgfSxcblx0ICAgICAgaW5mb0ZpZWxkczogW3tcblx0ICAgICAgICBrZXk6ICd0aScsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuc29uZ190aXRsZScpXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhcicsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuYXJ0aXN0Jylcblx0ICAgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FsJyxcblx0ICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5hbGJ1bScpXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhdScsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuc29uZ3RleHRfY3JlYXRvcicpXG5cdCAgICAgIH1dLFxuXHQgICAgICBpbmZvOiB7fVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMucnVubmVyID0gdGhpcy4kQXBwLnJ1bm5lcjtcblx0ICAgIHZhciBwbGF5ZXIgPSB0aGlzLiRBcHAuJHJlZnMucGxheWVyO1xuXHQgICAgdmFyIGluZm8gPSB7fTtcblx0XG5cdCAgICB0aGlzLmluZm9GaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0ICAgICAgaWYgKGZpZWxkLmtleSBpbiBfdGhpcy5ydW5uZXIubHJjLmluZm8pIHtcblx0ICAgICAgICBpbmZvW2ZpZWxkLmtleV0gPSBfdGhpcy5ydW5uZXIubHJjLmluZm9bZmllbGQua2V5XTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbmZvW2ZpZWxkLmtleV0gPSAnJztcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBpZiAocGxheWVyLmR1cmF0aW9uKSB7XG5cdCAgICAgIGluZm8ubGVuZ3RoID0gKDAsIF91dGlscy50aW1lc3RhbXAydGltZXN0cikocGxheWVyLmR1cmF0aW9uKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnVzZXJOYW1lKSB7XG5cdCAgICAgIGluZm8uYnkgPSB0aGlzLnVzZXJOYW1lO1xuXHQgICAgfVxuXHQgICAgaW5mby5yZSA9IF9wYWNrYWdlMi5kZWZhdWx0Lm5hbWUgKyAnICgnICsgX3BhY2thZ2UyLmRlZmF1bHQub25saW5lUGFnZSArICcpJztcblx0ICAgIGluZm8udmUgPSBfcGFja2FnZTIuZGVmYXVsdC52ZXJzaW9uO1xuXHRcblx0ICAgIHRoaXMuaW5mbyA9IGluZm87XG5cdFxuXHQgICAgdGhpcy5seXJpY1VwZGF0ZSgpO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG5cdCAgICAgICgwLCBfdXRpbHMuc2F2ZUxyYykodGhpcy5ydW5uZXIubHJjLnRvU3RyaW5nKHRoaXMuc2F2ZU9wdGlvbnMpLCB0aGlzLnJ1bm5lci5scmMuaW5mby50aSB8fCAnbHlyaWMnKTtcblx0ICAgIH0sXG5cdCAgICBpbmZvVXBkYXRlOiBmdW5jdGlvbiBpbmZvVXBkYXRlKCkge1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuaW5mb1trZXldLmxlbmd0aCAhPT0gMCkge1xuXHQgICAgICAgICAgdGhpcy5ydW5uZXIubHJjLmluZm9ba2V5XSA9IHRoaXMuaW5mb1trZXldO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZWxldGUgdGhpcy5ydW5uZXIubHJjLmluZm9ba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5seXJpY1VwZGF0ZSgpO1xuXHQgICAgfSxcblx0ICAgIGx5cmljVXBkYXRlOiBmdW5jdGlvbiBseXJpY1VwZGF0ZSgpIHtcblx0ICAgICAgdGhpcy5seXJpYyA9IHRoaXMucnVubmVyLmxyYy50b1N0cmluZyh0aGlzLnNhdmVPcHRpb25zKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICB1c2VyTmFtZTogZnVuY3Rpb24gdXNlck5hbWUobmFtZSkge1xuXHQgICAgICB0aGlzLiRzZXQodGhpcy5pbmZvLCAnYnknLCBuYW1lKTtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LnVzZXJOYW1lID0gbmFtZTtcblx0ICAgIH0sXG5cdCAgICBseXJpYzogZnVuY3Rpb24gbHlyaWMoKSB7XG5cdCAgICAgIHRoaXMuJEFwcC5scmNGb3JtYXQgPSB0aGlzLmx5cmljO1xuXHQgICAgfSxcblx0XG5cdCAgICBzYXZlT3B0aW9uczoge1xuXHQgICAgICBkZWVwOiB0cnVlLFxuXHQgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuXHQgICAgICAgIHRoaXMubHlyaWNVcGRhdGUoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGluZm86IHtcblx0ICAgICAgZGVlcDogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICB0aGlzLmluZm9VcGRhdGUoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDkzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuaW5mb190aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9sKChfdm0uaW5mb0ZpZWxkcyksIGZ1bmN0aW9uKGZpZWxkKSB7XG5cdCAgICByZXR1cm4gKGZpZWxkLmxhYmVsKSA/IF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLWdyb3VwXCJcblx0ICAgIH0sIFtfdm0uX2goJ2xhYmVsJywge1xuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwiZm9yXCI6ICdpbmZvLScgKyBmaWVsZC5rZXlcblx0ICAgICAgfSxcblx0ICAgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgICBcInRleHRDb250ZW50XCI6IF92bS5fcyhmaWVsZC5sYWJlbClcblx0ICAgICAgfVxuXHQgICAgfSksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuXHQgICAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgICB2YWx1ZTogKF92bS5pbmZvW2ZpZWxkLmtleV0pLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwiaW5mb1tmaWVsZC5rZXldXCJcblx0ICAgICAgfV0sXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJpZFwiOiAnaW5mby0nICsgZmllbGQua2V5LFxuXHQgICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuXHQgICAgICB9LFxuXHQgICAgICBkb21Qcm9wczoge1xuXHQgICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5pbmZvW2ZpZWxkLmtleV0pXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIHZhciAkJGV4cCA9IF92bS5pbmZvLFxuXHQgICAgICAgICAgICAkJGlkeCA9IGZpZWxkLmtleTtcblx0ICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgkJGV4cCkpIHtcblx0ICAgICAgICAgICAgX3ZtLmluZm9bZmllbGQua2V5XSA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICQkZXhwLnNwbGljZSgkJGlkeCwgMSwgJGV2ZW50LnRhcmdldC52YWx1ZSlcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXSkgOiBfdm0uX2UoKVxuXHQgIH0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJmb3JtLWdyb3VwXCJcblx0ICB9LCBbX3ZtLl9oKCdsYWJlbCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZm9yXCI6IFwiaW5mby1ieVwiXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMubHJjX2NyZWF0b3InKSldKSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICB2YWx1ZTogKF92bS51c2VyTmFtZSksXG5cdCAgICAgIGV4cHJlc3Npb246IFwidXNlck5hbWVcIlxuXHQgICAgfV0sXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImlkXCI6IFwiaW5mby1ieVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcblx0ICAgIH0sXG5cdCAgICBkb21Qcm9wczoge1xuXHQgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0udXNlck5hbWUpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgX3ZtLnVzZXJOYW1lID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnNhdmVfdGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndGV4dGFyZWEnLCBbX3ZtLl9zKF92bS5seXJpYyldKSwgXCIgXCIsIF92bS5faCgnbGFiZWwnLCBbXCJcXG4gICAgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuY29tYmluZScpKSArIFwiXFxuICAgIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgdmFsdWU6IChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSksXG5cdCAgICAgIGV4cHJlc3Npb246IFwic2F2ZU9wdGlvbnMuY29tYmluZVwiXG5cdCAgICB9XSxcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidHlwZVwiOiBcImNoZWNrYm94XCJcblx0ICAgIH0sXG5cdCAgICBkb21Qcm9wczoge1xuXHQgICAgICBcImNoZWNrZWRcIjogQXJyYXkuaXNBcnJheShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSkgPyBfdm0uX2koX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsIG51bGwpID4gLTEgOiBfdm0uX3EoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsIHRydWUpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjaGFuZ2VcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgdmFyICQkYSA9IF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLFxuXHQgICAgICAgICAgJCRlbCA9ICRldmVudC50YXJnZXQsXG5cdCAgICAgICAgICAkJGMgPSAkJGVsLmNoZWNrZWQgPyAodHJ1ZSkgOiAoZmFsc2UpO1xuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KCQkYSkpIHtcblx0ICAgICAgICAgIHZhciAkJHYgPSBudWxsLFxuXHQgICAgICAgICAgICAkJGkgPSBfdm0uX2koJCRhLCAkJHYpO1xuXHQgICAgICAgICAgaWYgKCQkYykge1xuXHQgICAgICAgICAgICAkJGkgPCAwICYmIChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkYS5jb25jYXQoJCR2KSlcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICQkaSA+IC0xICYmIChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkYS5zbGljZSgwLCAkJGkpLmNvbmNhdCgkJGEuc2xpY2UoJCRpICsgMSkpKVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkY1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0uc2F2ZVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWRvd25sb2FkXCJcblx0ICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZG93bmxvYWQnKSkgKyBcIlxcbiAgXCJdKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDk0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBjbGFzczoge1xuXHQgICAgICBjb3ZlcjogX3ZtLmNvdmVyU2hvd1xuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ3RyYW5zaXRpb24nLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcIm5hbWVcIjogXCJtb2RhbFwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJhZnRlci1sZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uY292ZXJTaG93ID0gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFsoX3ZtLmlzU2hvdykgPyBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1vZGFsXCIsXG5cdCAgICBjbGFzczogW192bS5zaXplXSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaGVhZGVyXCJcblx0ICB9LCBbXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKF92bS50aXRsZSkgKyBcIlxcbiAgICAgICAgXCIsIF92bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcblx0ICAgIH1cblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJib2R5XCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICByZWY6IFwibW9kYWxXcmFwcGVyXCJcblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJmb290ZXJcIlxuXHQgIH0sIFsoX3ZtLmNvbmZpcm0pID8gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG4tZ3JvdXBcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0ub2tcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuYnV0dG9uLm9rJykpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmJ1dHRvbi5jYW5jZWwnKSldKV0pIDogX3ZtLl9lKCldKV0pIDogX3ZtLl9lKCldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KVxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSlcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi01MWVhYzA2YlwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogOTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudGFyZ2V0W2RhdGEtdi01MWVhYzA2Yl17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46LThweDtwYWRkaW5nOjhweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogOTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubmF2LW1lbnUgLndyYXB7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzo0cHggNHB4IDNweCAtMnB4ICNjY2N9Lm5hdi1tZW51IC53cmFwIHVse2xpc3Qtc3R5bGUtdHlwZTpub25lO3BhZGRpbmc6MDttYXJnaW46MDtiYWNrZ3JvdW5kLWNvbG9yOiMyMTU5OTF9Lm5hdi1tZW51IC53cmFwIHVsIGxpe3BhZGRpbmc6MCA1cHg7Y3Vyc29yOnBvaW50ZXI7bGluZS1oZWlnaHQ6MzBweDtmb250LXNpemU6MTJweH0ubmF2LW1lbnUgLndyYXAgdWwgbGk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTczZjY4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGRpcjogZmFsc2UsXG5cdCAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgdG9wOiAwLFxuXHQgICAgICAgIGxlZnQ6IDBcblx0ICAgICAgfSxcblx0ICAgICAgc2hvdzogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIGVudGVyRGVsYXk6IHtcblx0ICAgICAgdHlwZTogTnVtYmVyLFxuXHQgICAgICBkZWZhdWx0OiAwLjFcblx0ICAgIH0sXG5cdCAgICBsZWF2ZURlbGF5OiB7XG5cdCAgICAgIHR5cGU6IE51bWJlcixcblx0ICAgICAgZGVmYXVsdDogMC41XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgbWVudSA9IHRoaXMuJHJlZnMubWVudTtcblx0ICAgIHZhciBkaG92ZXIgPSBuZXcgX3V0aWxzLkRlbGF5SG92ZXIobWVudSwge1xuXHQgICAgICBlbnRlckRlbGF5OiB0aGlzLmVudGVyRGVsYXksXG5cdCAgICAgIGxlYXZlRGVsYXk6IHRoaXMubGVhdmVEZWxheVxuXHQgICAgfSk7XG5cdCAgICBkaG92ZXIuaG92ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zaG93ID0gdHJ1ZTtcblx0ICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc2hvdyA9IGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHBhcmVudCA9IHRoaXMuJGVsO1xuXHQgICAgdGhpcy5zdHlsZS50b3AgPSBwYXJlbnQuc3R5bGUuY2xpZW50SGVpZ2h0O1xuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDEwMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcIm1lbnVcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm5hdi1tZW51XCJcblx0ICB9LCBbX3ZtLl9oKCdzcGFuJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwidGFyZ2V0XCJcblx0ICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwic2hvd1wiLFxuXHQgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuXHQgICAgICB2YWx1ZTogKF92bS5zaG93KSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJzaG93XCJcblx0ICAgIH1dLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwid3JhcFwiLFxuXHQgICAgc3R5bGU6IChfdm0uc3R5bGUpXG5cdCAgfSwgW192bS5fdChcImxpc3RcIildKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDEwMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYXBwXCJcblx0ICB9LCBbX3ZtLl9oKCdoZWFkZXInLCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJsZWZ0XCJcblx0ICB9LCBbX3ZtLl9oKCduYXYtbWVudScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi51cGxvYWQnKVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHNsb3Q6IFwidGFyZ2V0XCJcblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuXHQgICAgc2xvdDogXCJsaXN0XCJcblx0ICB9LCBbX3ZtLl9oKCdsaScsIHtcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdscmMtZm9ybWF0LXVwbG9hZCcpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuXHQgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLmxyYycpKSArIFwiXFxuICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2x5cmljLXVwbG9hZCcpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuXHQgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLmx5cmljJykpICsgXCJcXG4gICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCd1cGxvYWQnLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImFjY2VwdFwiOiBcImF1ZGlvLypcIixcblx0ICAgICAgXCJyZWFkLWZvcm1hdFwiOiBcInVybFwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJ1cGxvYWRcIjogX3ZtLnVwbG9hZE11c2ljXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLm11c2ljJykpXSldKV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi5zYXZlJylcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHJjLXNhdmUnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tc2F2ZVwiXG5cdCAgfSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJyaWdodFwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IF92bS5lZGl0aW5nID8gX3ZtLiR0KCdidXR0b24uY2xvc2VfZWRpdCcpIDogX3ZtLiR0KCdidXR0b24ub3Blbl9lZGl0Jylcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5lZGl0aW5nID0gIV92bS5lZGl0aW5nXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbKF92bS5lZGl0aW5nKSA/IFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiXG5cdCAgfSldIDogW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWRpdFwiXG5cdCAgfSldLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24uaGVscCcpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2hlbHAnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24taGVscC1jaXJjbGVkXCJcblx0ICB9KV0pXSldKSwgXCIgXCIsIF92bS5faCgncGxheWVyJywge1xuXHQgICAgcmVmOiBcInBsYXllclwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJzcmNcIjogX3ZtLm11c2ljVXJsXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJ0aW1ldXBkYXRlXCI6IF92bS50aW1ldXBkYXRlXG5cdCAgICB9XG5cdCAgfSksIFwiIFwiLCBfdm0uX2goJ2x5cmljLWVkaXRvcicsIHtcblx0ICAgIHJlZjogXCJseXJpY1wiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwibHlyaWMtZWRpdG9yXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImVkaXRpbmdcIjogX3ZtLmVkaXRpbmcsXG5cdCAgICAgIFwicnVubmVyXCI6IF92bS5ydW5uZXIsXG5cdCAgICAgIFwibHlyaWMtYXJyYXlcIjogX3ZtLmx5cmljQXJyYXksXG5cdCAgICAgIFwicGxheXRvXCI6IF92bS5wbGF5dG9cblx0ICAgIH1cblx0ICB9LCBbXCJcXG4gICAgbHlyaWMgZWRpdG9yXFxuICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdmb290ZXInLCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJsZWZ0XCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLnJlbW92ZUx5cmljXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdHJhc2hcIlxuXHQgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2J1dHRvbi5yZW1vdmVfbHlyaWMnKSkgKyBcIlxcbiAgICAgIFwiXSldKSwgXCIgXCIsIChfdm0uZWRpdGluZykgPyBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInJpZ2h0XCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogXCJbVVBdXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5seXJpYy4kZW1pdCgncHJldmx5cmljJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdidXR0b24ucHJldl9seXJpYycpKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogXCJbRE9XTl1cIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLmx5cmljLiRlbWl0KCduZXh0bHlyaWMnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ2J1dHRvbi5uZXh0X2x5cmljJykpXSldKSA6IF92bS5fZSgpXSksIFwiIFwiLCBfdm0uX2goJ21vZGFscycsIHtcblx0ICAgIHJlZjogXCJtb2RhbHNcIlxuXHQgIH0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogMTAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3Z1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3Z1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92dWUpO1xuXHRcblx0dmFyIF92dWVJMThuID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDQpO1xuXHRcblx0dmFyIF92dWVJMThuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Z1ZUkxOG4pO1xuXHRcblx0dmFyIF9sb2NhbGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXHRcblx0dmFyIF9sb2NhbGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2FsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBsYW5nID0gKG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8ICdlbicpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdFxuXHRpZiAoIShsYW5nIGluIF9sb2NhbGVzMi5kZWZhdWx0KSkge1xuXHQgIGlmIChsYW5nLmluZGV4T2YoJy0nKSA+PSAwKSB7XG5cdCAgICBsYW5nID0gbGFuZy5zcGxpdCgnLScpWzBdO1xuXHQgIH1cblx0fVxuXHRcblx0X3Z1ZTIuZGVmYXVsdC51c2UoX3Z1ZUkxOG4yLmRlZmF1bHQpO1xuXHRcblx0X3Z1ZTIuZGVmYXVsdC5jb25maWcubGFuZyA9IGxhbmc7XG5cdF92dWUyLmRlZmF1bHQubG9jYWxlKGxhbmcsIF9sb2NhbGVzMi5kZWZhdWx0W2xhbmddKTtcblxuLyoqKi8gfSxcbi8qIDEwNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKiFcblx0ICogdnVlLWkxOG4gdjQuNy4zXG5cdCAqIChjKSAyMDE2IGthenV5YSBrYXdhZ3VjaGlcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGJhYmVsSGVscGVycyA9IHt9O1xuXHRiYWJlbEhlbHBlcnMudHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmo7XG5cdH0gOiBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcblx0fTtcblx0YmFiZWxIZWxwZXJzO1xuXHRcblx0LyoqXG5cdCAqIHdhcm5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IG1zZ1xuXHQgKiBAcGFyYW0ge0Vycm9yfSBbZXJyXVxuXHQgKlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHdhcm4obXNnLCBlcnIpIHtcblx0ICBpZiAod2luZG93LmNvbnNvbGUpIHtcblx0ICAgIGNvbnNvbGUud2FybignW3Z1ZS1pMThuXSAnICsgbXNnKTtcblx0ICAgIGlmIChlcnIpIHtcblx0ICAgICAgY29uc29sZS53YXJuKGVyci5zdGFjayk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBBc3NldCAoVnVlLCBsYW5nVk0pIHtcblx0ICAvKipcblx0ICAgKiBSZWdpc3RlciBvciByZXRyaWV2ZSBhIGdsb2JhbCBsb2NhbGUgZGVmaW5pdGlvbi5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBpZFxuXHQgICAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBQcm9taXNlfSBkZWZpbml0aW9uXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2Jcblx0ICAgKi9cblx0XG5cdCAgVnVlLmxvY2FsZSA9IGZ1bmN0aW9uIChpZCwgZGVmaW5pdGlvbiwgY2IpIHtcblx0ICAgIGlmIChkZWZpbml0aW9uID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgLy8gZ2V0dHRlclxuXHQgICAgICByZXR1cm4gbGFuZ1ZNLmxvY2FsZXNbaWRdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gc2V0dGVyXG5cdCAgICAgIGlmIChkZWZpbml0aW9uID09PSBudWxsKSB7XG5cdCAgICAgICAgbGFuZ1ZNLmxvY2FsZXNbaWRdID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGRlbGV0ZSBsYW5nVk0ubG9jYWxlc1tpZF07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc2V0TG9jYWxlKGlkLCBkZWZpbml0aW9uLCBmdW5jdGlvbiAobG9jYWxlKSB7XG5cdCAgICAgICAgICBpZiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IGxvY2FsZTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHdhcm4oJ2ZhaWxlZCBzZXQgYCcgKyBpZCArICdgIGxvY2FsZScpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgY2IgJiYgY2IoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldExvY2FsZShpZCwgZGVmaW5pdGlvbiwgY2IpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICBpZiAoKHR5cGVvZiBkZWZpbml0aW9uID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogYmFiZWxIZWxwZXJzLnR5cGVvZihkZWZpbml0aW9uKSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAvLyBzeW5jXG5cdCAgICBjYihkZWZpbml0aW9uKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGZ1dHVyZSA9IGRlZmluaXRpb24uY2FsbChfdGhpcyk7XG5cdCAgICAgIGlmICh0eXBlb2YgZnV0dXJlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKGZ1dHVyZS5yZXNvbHZlZCkge1xuXHQgICAgICAgICAgLy8gY2FjaGVkXG5cdCAgICAgICAgICBjYihmdXR1cmUucmVzb2x2ZWQpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZnV0dXJlLnJlcXVlc3RlZCkge1xuXHQgICAgICAgICAgLy8gcG9vbCBjYWxsYmFja3Ncblx0ICAgICAgICAgIGZ1dHVyZS5wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2IpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBmdXR1cmUucmVxdWVzdGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIGNicyA9IGZ1dHVyZS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcblx0ICAgICAgICAgICAgZnV0dXJlKGZ1bmN0aW9uIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgICAvLyByZXNvbHZlXG5cdCAgICAgICAgICAgICAgZnV0dXJlLnJlc29sdmVkID0gbG9jYWxlO1xuXHQgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgY2JzW2ldKGxvY2FsZSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgLy8gcmVqZWN0XG5cdCAgICAgICAgICAgICAgY2IoKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9KSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UoZnV0dXJlKSkge1xuXHQgICAgICAgIC8vIHByb21pc2Vcblx0ICAgICAgICBmdXR1cmUudGhlbihmdW5jdGlvbiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAvLyByZXNvbHZlXG5cdCAgICAgICAgICBjYihsb2NhbGUpO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIC8vIHJlamVjdFxuXHQgICAgICAgICAgY2IoKTtcblx0ICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAgICAgICAgICBjYigpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KSgpO1xuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEZvcmdpdmluZyBjaGVjayBmb3IgYSBwcm9taXNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gaXNQcm9taXNlKHApIHtcblx0ICByZXR1cm4gcCAmJiB0eXBlb2YgcC50aGVuID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBPdmVycmlkZSAoVnVlLCBsYW5nVk0sIHZlcnNpb24pIHtcblx0ICBmdW5jdGlvbiB1cGRhdGUodm0pIHtcblx0ICAgIGlmICh2ZXJzaW9uID4gMSkge1xuXHQgICAgICB2bS4kZm9yY2VVcGRhdGUoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDtcblx0ICAgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICAgIHZtLl93YXRjaGVyc1tpXS51cGRhdGUodHJ1ZSk7IC8vIHNoYWxsb3cgdXBkYXRlc1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBvdmVycmlkZSBfaW5pdFxuXHQgIHZhciBpbml0ID0gVnVlLnByb3RvdHlwZS5faW5pdDtcblx0ICBWdWUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgaW5pdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHRcblx0ICAgIGlmICghdGhpcy4kcGFyZW50KSB7XG5cdCAgICAgIC8vIHJvb3Rcblx0ICAgICAgdGhpcy4kbGFuZyA9IGxhbmdWTTtcblx0ICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSB0aGlzLiRsYW5nLiR3YXRjaCgnJGRhdGEnLCBmdW5jdGlvbiAodmFsLCBvbGQpIHtcblx0ICAgICAgICB1cGRhdGUoX3RoaXMpO1xuXHQgICAgICB9LCB7IGRlZXA6IHRydWUgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8gb3ZlcnJpZGUgX2Rlc3Ryb3lcblx0ICB2YXIgZGVzdHJveSA9IFZ1ZS5wcm90b3R5cGUuX2Rlc3Ryb3k7XG5cdCAgVnVlLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy4kcGFyZW50ICYmIHRoaXMuX2xhbmdVbndhdGNoKSB7XG5cdCAgICAgIHRoaXMuX2xhbmdVbndhdGNoKCk7XG5cdCAgICAgIHRoaXMuX2xhbmdVbndhdGNoID0gbnVsbDtcblx0ICAgICAgdGhpcy4kbGFuZyA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZGVzdHJveS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBPYnNlcnZlclxuXHQgKi9cblx0XG5cdHZhciBXYXRjaGVyID0gdm9pZCAwO1xuXHQvKipcblx0ICogZ2V0V2F0Y2hlclxuXHQgKlxuXHQgKiBAcGFyYW0ge1Z1ZX0gdm1cblx0ICogQHJldHVybiB7V2F0Y2hlcn1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBnZXRXYXRjaGVyKHZtKSB7XG5cdCAgaWYgKCFXYXRjaGVyKSB7XG5cdCAgICB2YXIgdW53YXRjaCA9IHZtLiR3YXRjaCgnX193YXRjaGVyX18nLCBmdW5jdGlvbiAoYSkge30pO1xuXHQgICAgV2F0Y2hlciA9IHZtLl93YXRjaGVyc1swXS5jb25zdHJ1Y3Rvcjtcblx0ICAgIHVud2F0Y2goKTtcblx0ICB9XG5cdCAgcmV0dXJuIFdhdGNoZXI7XG5cdH1cblx0XG5cdHZhciBEZXAgPSB2b2lkIDA7XG5cdC8qKlxuXHQgKiBnZXREZXBcblx0ICpcblx0ICogQHBhcmFtIHtWdWV9IHZtXG5cdCAqIEByZXR1cm4ge0RlcH1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBnZXREZXAodm0pIHtcblx0ICBpZiAoIURlcCAmJiB2bSAmJiB2bS5fZGF0YSAmJiB2bS5fZGF0YS5fX29iX18gJiYgdm0uX2RhdGEuX19vYl9fLmRlcCkge1xuXHQgICAgRGVwID0gdm0uX2RhdGEuX19vYl9fLmRlcC5jb25zdHJ1Y3Rvcjtcblx0ICB9XG5cdCAgcmV0dXJuIERlcDtcblx0fVxuXHRcblx0dmFyIGZhbGxiYWNrID0gdm9pZCAwOyAvLyBmYWxsYmFjayBsYW5nXG5cdHZhciBtaXNzaW5nSGFuZGxlciA9IG51bGw7IC8vIG1pc3NpbmcgaGFuZGxlclxuXHR2YXIgaTE4bkZvcm1hdHRlciA9IG51bGw7IC8vIGN1c3RvbSBmb3JtYXR0ZXJcblx0XG5cdGZ1bmN0aW9uIENvbmZpZyAoVnVlLCBsYW5nVk0sIGxhbmcpIHtcblx0ICB2YXIgYmluZCA9IFZ1ZS51dGlsLmJpbmQ7XG5cdFxuXHQgIHZhciBXYXRjaGVyID0gZ2V0V2F0Y2hlcihsYW5nVk0pO1xuXHQgIHZhciBEZXAgPSBnZXREZXAobGFuZ1ZNKTtcblx0XG5cdCAgZnVuY3Rpb24gbWFrZUNvbXB1dGVkR2V0dGVyKGdldHRlciwgb3duZXIpIHtcblx0ICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIob3duZXIsIGdldHRlciwgbnVsbCwge1xuXHQgICAgICBsYXp5OiB0cnVlXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIoKSB7XG5cdCAgICAgIHdhdGNoZXIuZGlydHkgJiYgd2F0Y2hlci5ldmFsdWF0ZSgpO1xuXHQgICAgICBEZXAgJiYgRGVwLnRhcmdldCAmJiB3YXRjaGVyLmRlcGVuZCgpO1xuXHQgICAgICByZXR1cm4gd2F0Y2hlci52YWx1ZTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5sYW5nIGNvbmZpZ3JhdGlvblxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbGFuZycsIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IG1ha2VDb21wdXRlZEdldHRlcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBsYW5nVk0ubGFuZztcblx0ICAgIH0sIGxhbmdWTSksXG5cdCAgICBzZXQ6IGJpbmQoZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICBsYW5nVk0ubGFuZyA9IHZhbDtcblx0ICAgIH0sIGxhbmdWTSlcblx0ICB9KTtcblx0XG5cdCAgLy8gZGVmaW5lIFZ1ZS5jb25maWcuZmFsbGJhY2tMYW5nIGNvbmZpZ3JhdGlvblxuXHQgIGZhbGxiYWNrID0gbGFuZztcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2ZhbGxiYWNrTGFuZycsIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuXHQgICAgICBmYWxsYmFjayA9IHZhbDtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgLy8gZGVmaW5lIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIgY29uZmlncmF0aW9uXG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdtaXNzaW5nSGFuZGxlcicsIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIG1pc3NpbmdIYW5kbGVyO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuXHQgICAgICBtaXNzaW5nSGFuZGxlciA9IHZhbDtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgLy8gZGVmaW5lIFZ1ZS5jb25maWcuaTE4Rm9ybWF0dGVyIGNvbmZpZ3JhdGlvblxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnaTE4bkZvcm1hdHRlcicsIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIGkxOG5Gb3JtYXR0ZXI7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgIGkxOG5Gb3JtYXR0ZXIgPSB2YWw7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB1dGlsaXRlc1xuXHQgKi9cblx0XG5cdC8qKlxuXHQgKiBpc05pbFxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IHZhbFxuXHQgKiBAcmV0dXJuIEJvb2xlYW5cblx0ICovXG5cdGZ1bmN0aW9uIGlzTmlsKHZhbCkge1xuXHQgIHJldHVybiB2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiAgU3RyaW5nIGZvcm1hdCB0ZW1wbGF0ZVxuXHQgKiAgLSBJbnNwaXJlZDpcblx0ICogICAgaHR0cHM6Ly9naXRodWIuY29tL01hdHQtRXNjaC9zdHJpbmctdGVtcGxhdGUvaW5kZXguanNcblx0ICovXG5cdFxuXHR2YXIgUkVfTkFSR1MgPSAvKCV8KVxceyhbMC05YS16QS1aX10rKVxcfS9nO1xuXHRcblx0ZnVuY3Rpb24gRm9ybWF0IChWdWUpIHtcblx0ICB2YXIgaGFzT3duID0gVnVlLnV0aWwuaGFzT3duO1xuXHRcblx0ICAvKipcblx0ICAgKiB0ZW1wbGF0ZVxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuXHQgICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3Ncblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdFxuXHQgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZykge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBiYWJlbEhlbHBlcnMudHlwZW9mKGFyZ3NbMF0pID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBhcmdzID0gYXJnc1swXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGFyZ3MgPSB7fTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcblx0ICAgICAgYXJncyA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShSRV9OQVJHUywgZnVuY3Rpb24gKG1hdGNoLCBwcmVmaXgsIGksIGluZGV4KSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cdFxuXHQgICAgICBpZiAoc3RyaW5nW2luZGV4IC0gMV0gPT09ICd7JyAmJiBzdHJpbmdbaW5kZXggKyBtYXRjaC5sZW5ndGhdID09PSAnfScpIHtcblx0ICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXN1bHQgPSBoYXNPd24oYXJncywgaSkgPyBhcmdzW2ldIDogbWF0Y2g7XG5cdCAgICAgICAgaWYgKGlzTmlsKHJlc3VsdCkpIHtcblx0ICAgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRlbXBsYXRlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogIFBhdGggcGFlcnNlclxuXHQgKiAgLSBJbnNwaXJlZDogIFxuXHQgKiAgICBWdWUuanMgUGF0aCBwYXJzZXJcblx0ICovXG5cdFxuXHQvLyBjYWNoZVxuXHR2YXIgcGF0aENhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XG5cdC8vIGFjdGlvbnNcblx0dmFyIEFQUEVORCA9IDA7XG5cdHZhciBQVVNIID0gMTtcblx0dmFyIElOQ19TVUJfUEFUSF9ERVBUSCA9IDI7XG5cdHZhciBQVVNIX1NVQl9QQVRIID0gMztcblx0XG5cdC8vIHN0YXRlc1xuXHR2YXIgQkVGT1JFX1BBVEggPSAwO1xuXHR2YXIgSU5fUEFUSCA9IDE7XG5cdHZhciBCRUZPUkVfSURFTlQgPSAyO1xuXHR2YXIgSU5fSURFTlQgPSAzO1xuXHR2YXIgSU5fU1VCX1BBVEggPSA0O1xuXHR2YXIgSU5fU0lOR0xFX1FVT1RFID0gNTtcblx0dmFyIElOX0RPVUJMRV9RVU9URSA9IDY7XG5cdHZhciBBRlRFUl9QQVRIID0gNztcblx0dmFyIEVSUk9SID0gODtcblx0XG5cdHZhciBwYXRoU3RhdGVNYWNoaW5lID0gW107XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9QQVRIXSA9IHtcblx0ICAnd3MnOiBbQkVGT1JFX1BBVEhdLFxuXHQgICdpZGVudCc6IFtJTl9JREVOVCwgQVBQRU5EXSxcblx0ICAnWyc6IFtJTl9TVUJfUEFUSF0sXG5cdCAgJ2VvZic6IFtBRlRFUl9QQVRIXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtJTl9QQVRIXSA9IHtcblx0ICAnd3MnOiBbSU5fUEFUSF0sXG5cdCAgJy4nOiBbQkVGT1JFX0lERU5UXSxcblx0ICAnWyc6IFtJTl9TVUJfUEFUSF0sXG5cdCAgJ2VvZic6IFtBRlRFUl9QQVRIXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtCRUZPUkVfSURFTlRdID0ge1xuXHQgICd3cyc6IFtCRUZPUkVfSURFTlRdLFxuXHQgICdpZGVudCc6IFtJTl9JREVOVCwgQVBQRU5EXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtJTl9JREVOVF0gPSB7XG5cdCAgJ2lkZW50JzogW0lOX0lERU5ULCBBUFBFTkRdLFxuXHQgICcwJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuXHQgICdudW1iZXInOiBbSU5fSURFTlQsIEFQUEVORF0sXG5cdCAgJ3dzJzogW0lOX1BBVEgsIFBVU0hdLFxuXHQgICcuJzogW0JFRk9SRV9JREVOVCwgUFVTSF0sXG5cdCAgJ1snOiBbSU5fU1VCX1BBVEgsIFBVU0hdLFxuXHQgICdlb2YnOiBbQUZURVJfUEFUSCwgUFVTSF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbSU5fU1VCX1BBVEhdID0ge1xuXHQgIFwiJ1wiOiBbSU5fU0lOR0xFX1FVT1RFLCBBUFBFTkRdLFxuXHQgICdcIic6IFtJTl9ET1VCTEVfUVVPVEUsIEFQUEVORF0sXG5cdCAgJ1snOiBbSU5fU1VCX1BBVEgsIElOQ19TVUJfUEFUSF9ERVBUSF0sXG5cdCAgJ10nOiBbSU5fUEFUSCwgUFVTSF9TVUJfUEFUSF0sXG5cdCAgJ2VvZic6IEVSUk9SLFxuXHQgICdlbHNlJzogW0lOX1NVQl9QQVRILCBBUFBFTkRdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0lOX1NJTkdMRV9RVU9URV0gPSB7XG5cdCAgXCInXCI6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXSxcblx0ICAnZW9mJzogRVJST1IsXG5cdCAgJ2Vsc2UnOiBbSU5fU0lOR0xFX1FVT1RFLCBBUFBFTkRdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0lOX0RPVUJMRV9RVU9URV0gPSB7XG5cdCAgJ1wiJzogW0lOX1NVQl9QQVRILCBBUFBFTkRdLFxuXHQgICdlb2YnOiBFUlJPUixcblx0ICAnZWxzZSc6IFtJTl9ET1VCTEVfUVVPVEUsIEFQUEVORF1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiBhbiBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCB2YWx1ZS5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV4cFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0XG5cdHZhciBsaXRlcmFsVmFsdWVSRSA9IC9eXFxzPyh0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xuXHRmdW5jdGlvbiBpc0xpdGVyYWwoZXhwKSB7XG5cdCAgcmV0dXJuIGxpdGVyYWxWYWx1ZVJFLnRlc3QoZXhwKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHJldHVybiB7U3RyaW5nIHwgZmFsc2V9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gc3RyaXBRdW90ZXMoc3RyKSB7XG5cdCAgdmFyIGEgPSBzdHIuY2hhckNvZGVBdCgwKTtcblx0ICB2YXIgYiA9IHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSAxKTtcblx0ICByZXR1cm4gYSA9PT0gYiAmJiAoYSA9PT0gMHgyMiB8fCBhID09PSAweDI3KSA/IHN0ci5zbGljZSgxLCAtMSkgOiBzdHI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgdGhlIHR5cGUgb2YgYSBjaGFyYWN0ZXIgaW4gYSBrZXlwYXRoLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0NoYXJ9IGNoXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gdHlwZVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGdldFBhdGhDaGFyVHlwZShjaCkge1xuXHQgIGlmIChjaCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ2VvZic7XG5cdCAgfVxuXHRcblx0ICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG5cdFxuXHQgIHN3aXRjaCAoY29kZSkge1xuXHQgICAgY2FzZSAweDVCOiAvLyBbXG5cdCAgICBjYXNlIDB4NUQ6IC8vIF1cblx0ICAgIGNhc2UgMHgyRTogLy8gLlxuXHQgICAgY2FzZSAweDIyOiAvLyBcIlxuXHQgICAgY2FzZSAweDI3OiAvLyAnXG5cdCAgICBjYXNlIDB4MzA6XG5cdCAgICAgIC8vIDBcblx0ICAgICAgcmV0dXJuIGNoO1xuXHRcblx0ICAgIGNhc2UgMHg1RjogLy8gX1xuXHQgICAgY2FzZSAweDI0OiAvLyAkXG5cdCAgICBjYXNlIDB4MkQ6XG5cdCAgICAgIC8vIC1cblx0ICAgICAgcmV0dXJuICdpZGVudCc7XG5cdFxuXHQgICAgY2FzZSAweDIwOiAvLyBTcGFjZVxuXHQgICAgY2FzZSAweDA5OiAvLyBUYWJcblx0ICAgIGNhc2UgMHgwQTogLy8gTmV3bGluZVxuXHQgICAgY2FzZSAweDBEOiAvLyBSZXR1cm5cblx0ICAgIGNhc2UgMHhBMDogLy8gTm8tYnJlYWsgc3BhY2Vcblx0ICAgIGNhc2UgMHhGRUZGOiAvLyBCeXRlIE9yZGVyIE1hcmtcblx0ICAgIGNhc2UgMHgyMDI4OiAvLyBMaW5lIFNlcGFyYXRvclxuXHQgICAgY2FzZSAweDIwMjk6XG5cdCAgICAgIC8vIFBhcmFncmFwaCBTZXBhcmF0b3Jcblx0ICAgICAgcmV0dXJuICd3cyc7XG5cdCAgfVxuXHRcblx0ICAvLyBhLXosIEEtWlxuXHQgIGlmIChjb2RlID49IDB4NjEgJiYgY29kZSA8PSAweDdBIHx8IGNvZGUgPj0gMHg0MSAmJiBjb2RlIDw9IDB4NUEpIHtcblx0ICAgIHJldHVybiAnaWRlbnQnO1xuXHQgIH1cblx0XG5cdCAgLy8gMS05XG5cdCAgaWYgKGNvZGUgPj0gMHgzMSAmJiBjb2RlIDw9IDB4MzkpIHtcblx0ICAgIHJldHVybiAnbnVtYmVyJztcblx0ICB9XG5cdFxuXHQgIHJldHVybiAnZWxzZSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBGb3JtYXQgYSBzdWJQYXRoLCByZXR1cm4gaXRzIHBsYWluIGZvcm0gaWYgaXQgaXNcblx0ICogYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuIE90aGVyd2lzZSBwcmVwZW5kIHRoZVxuXHQgKiBkeW5hbWljIGluZGljYXRvciAoKikuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAqIEByZXR1cm4ge1N0cmluZ31cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBmb3JtYXRTdWJQYXRoKHBhdGgpIHtcblx0ICB2YXIgdHJpbW1lZCA9IHBhdGgudHJpbSgpO1xuXHQgIC8vIGludmFsaWQgbGVhZGluZyAwXG5cdCAgaWYgKHBhdGguY2hhckF0KDApID09PSAnMCcgJiYgaXNOYU4ocGF0aCkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBpc0xpdGVyYWwodHJpbW1lZCkgPyBzdHJpcFF1b3Rlcyh0cmltbWVkKSA6ICcqJyArIHRyaW1tZWQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQYXJzZSBhIHN0cmluZyBwYXRoIGludG8gYW4gYXJyYXkgb2Ygc2VnbWVudHNcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcblx0ICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcblx0ICB2YXIga2V5cyA9IFtdO1xuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIHZhciBtb2RlID0gQkVGT1JFX1BBVEg7XG5cdCAgdmFyIHN1YlBhdGhEZXB0aCA9IDA7XG5cdCAgdmFyIGMgPSB2b2lkIDAsXG5cdCAgICAgIG5ld0NoYXIgPSB2b2lkIDAsXG5cdCAgICAgIGtleSA9IHZvaWQgMCxcblx0ICAgICAgdHlwZSA9IHZvaWQgMCxcblx0ICAgICAgdHJhbnNpdGlvbiA9IHZvaWQgMCxcblx0ICAgICAgYWN0aW9uID0gdm9pZCAwLFxuXHQgICAgICB0eXBlTWFwID0gdm9pZCAwO1xuXHRcblx0ICB2YXIgYWN0aW9ucyA9IFtdO1xuXHRcblx0ICBhY3Rpb25zW1BVU0hdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGtleXMucHVzaChrZXkpO1xuXHQgICAgICBrZXkgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYWN0aW9uc1tBUFBFTkRdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGtleSA9IG5ld0NoYXI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBrZXkgKz0gbmV3Q2hhcjtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhY3Rpb25zW0lOQ19TVUJfUEFUSF9ERVBUSF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBhY3Rpb25zW0FQUEVORF0oKTtcblx0ICAgIHN1YlBhdGhEZXB0aCsrO1xuXHQgIH07XG5cdFxuXHQgIGFjdGlvbnNbUFVTSF9TVUJfUEFUSF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoc3ViUGF0aERlcHRoID4gMCkge1xuXHQgICAgICBzdWJQYXRoRGVwdGgtLTtcblx0ICAgICAgbW9kZSA9IElOX1NVQl9QQVRIO1xuXHQgICAgICBhY3Rpb25zW0FQUEVORF0oKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHN1YlBhdGhEZXB0aCA9IDA7XG5cdCAgICAgIGtleSA9IGZvcm1hdFN1YlBhdGgoa2V5KTtcblx0ICAgICAgaWYgKGtleSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYWN0aW9uc1tQVVNIXSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgZnVuY3Rpb24gbWF5YmVVbmVzY2FwZVF1b3RlKCkge1xuXHQgICAgdmFyIG5leHRDaGFyID0gcGF0aFtpbmRleCArIDFdO1xuXHQgICAgaWYgKG1vZGUgPT09IElOX1NJTkdMRV9RVU9URSAmJiBuZXh0Q2hhciA9PT0gXCInXCIgfHwgbW9kZSA9PT0gSU5fRE9VQkxFX1FVT1RFICYmIG5leHRDaGFyID09PSAnXCInKSB7XG5cdCAgICAgIGluZGV4Kys7XG5cdCAgICAgIG5ld0NoYXIgPSAnXFxcXCcgKyBuZXh0Q2hhcjtcblx0ICAgICAgYWN0aW9uc1tBUFBFTkRdKCk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgd2hpbGUgKG1vZGUgIT0gbnVsbCkge1xuXHQgICAgaW5kZXgrKztcblx0ICAgIGMgPSBwYXRoW2luZGV4XTtcblx0XG5cdCAgICBpZiAoYyA9PT0gJ1xcXFwnICYmIG1heWJlVW5lc2NhcGVRdW90ZSgpKSB7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHR5cGUgPSBnZXRQYXRoQ2hhclR5cGUoYyk7XG5cdCAgICB0eXBlTWFwID0gcGF0aFN0YXRlTWFjaGluZVttb2RlXTtcblx0ICAgIHRyYW5zaXRpb24gPSB0eXBlTWFwW3R5cGVdIHx8IHR5cGVNYXBbJ2Vsc2UnXSB8fCBFUlJPUjtcblx0XG5cdCAgICBpZiAodHJhbnNpdGlvbiA9PT0gRVJST1IpIHtcblx0ICAgICAgcmV0dXJuOyAvLyBwYXJzZSBlcnJvclxuXHQgICAgfVxuXHRcblx0ICAgIG1vZGUgPSB0cmFuc2l0aW9uWzBdO1xuXHQgICAgYWN0aW9uID0gYWN0aW9uc1t0cmFuc2l0aW9uWzFdXTtcblx0ICAgIGlmIChhY3Rpb24pIHtcblx0ICAgICAgbmV3Q2hhciA9IHRyYW5zaXRpb25bMl07XG5cdCAgICAgIG5ld0NoYXIgPSBuZXdDaGFyID09PSB1bmRlZmluZWQgPyBjIDogbmV3Q2hhcjtcblx0ICAgICAgaWYgKGFjdGlvbigpID09PSBmYWxzZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChtb2RlID09PSBBRlRFUl9QQVRIKSB7XG5cdCAgICAgIGtleXMucmF3ID0gcGF0aDtcblx0ICAgICAgcmV0dXJuIGtleXM7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogRXh0ZXJuYWwgcGFyc2UgdGhhdCBjaGVjayBmb3IgYSBjYWNoZSBoaXQgZmlyc3Rcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcblx0ICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG5cdCAgdmFyIGhpdCA9IHBhdGhDYWNoZVtwYXRoXTtcblx0ICBpZiAoIWhpdCkge1xuXHQgICAgaGl0ID0gcGFyc2UocGF0aCk7XG5cdCAgICBpZiAoaGl0KSB7XG5cdCAgICAgIHBhdGhDYWNoZVtwYXRoXSA9IGhpdDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGhpdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gUGF0aCAoVnVlKSB7XG5cdCAgdmFyIF9WdWUkdXRpbCA9IFZ1ZS51dGlsO1xuXHQgIHZhciBpc09iamVjdCA9IF9WdWUkdXRpbC5pc09iamVjdDtcblx0ICB2YXIgaXNQbGFpbk9iamVjdCA9IF9WdWUkdXRpbC5pc1BsYWluT2JqZWN0O1xuXHQgIHZhciBoYXNPd24gPSBfVnVlJHV0aWwuaGFzT3duO1xuXHRcblx0XG5cdCAgZnVuY3Rpb24gZW1wdHkodGFyZ2V0KSB7XG5cdCAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcblx0ICAgICAgaWYgKHRhcmdldC5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0YXJnZXQubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXQpKSB7XG5cdCAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG5cdCAgICAgICAgaWYgKGhhc093bih0YXJnZXQsIGtleSkpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItY29uc3QgKi9cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldCB2YWx1ZSBmcm9tIHBhdGggc3RyaW5nXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcblx0ICAgKiBAcmV0dXJuIHZhbHVlXG5cdCAgICovXG5cdFxuXHQgIGZ1bmN0aW9uIGdldFZhbHVlKG9iaiwgcGF0aCkge1xuXHQgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwYXRocyA9IHBhcnNlUGF0aChwYXRoKTtcblx0ICAgIGlmIChlbXB0eShwYXRocykpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcblx0ICAgIHZhciByZXQgPSBudWxsO1xuXHQgICAgdmFyIGxhc3QgPSBvYmo7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBsYXN0W3BhdGhzW2ldXTtcblx0ICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBsYXN0ID0gbnVsbDtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgICBsYXN0ID0gdmFsdWU7XG5cdCAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICByZXQgPSBsYXN0O1xuXHQgICAgcmV0dXJuIHJldDtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBnZXRWYWx1ZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZFxuXHQgKlxuXHQgKiBAcGFyYW0ge1Z1ZX0gVnVlXG5cdCAqIEByZXR1cm4ge1Z1ZX1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBFeHRlbmQgKFZ1ZSkge1xuXHQgIHZhciBfVnVlJHV0aWwgPSBWdWUudXRpbDtcblx0ICB2YXIgaXNPYmplY3QgPSBfVnVlJHV0aWwuaXNPYmplY3Q7XG5cdCAgdmFyIGJpbmQgPSBfVnVlJHV0aWwuYmluZDtcblx0XG5cdCAgdmFyIGZvcm1hdCA9IEZvcm1hdChWdWUpO1xuXHQgIHZhciBnZXRWYWx1ZSA9IFBhdGgoVnVlKTtcblx0XG5cdCAgZnVuY3Rpb24gcGFyc2VBcmdzKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGFuZyA9IFZ1ZS5jb25maWcubGFuZztcblx0ICAgIHZhciBmYWxsYmFjayA9IFZ1ZS5jb25maWcuZmFsbGJhY2tMYW5nO1xuXHRcblx0ICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICBpZiAoaXNPYmplY3QoYXJnc1swXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuXHQgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuXHQgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGxhbmcgPSBhcmdzWzBdO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBsYW5nID0gYXJnc1swXTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNPYmplY3QoYXJnc1sxXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzFdKSkge1xuXHQgICAgICAgIGFyZ3MgPSBhcmdzWzFdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHsgbGFuZzogbGFuZywgZmFsbGJhY2s6IGZhbGxiYWNrLCBwYXJhbXM6IGFyZ3MgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGludGVycG9sYXRlKGxvY2FsZSwga2V5LCBhcmdzKSB7XG5cdCAgICBpZiAoIWxvY2FsZSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdmFsID0gZ2V0VmFsdWUobG9jYWxlLCBrZXkpO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHQgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzTmlsKHZhbCkpIHtcblx0ICAgICAgdmFsID0gbG9jYWxlW2tleV07XG5cdCAgICB9XG5cdCAgICBpZiAoaXNOaWwodmFsKSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDaGVjayBmb3IgdGhlIGV4aXN0YW5jZSBvZiBsaW5rcyB3aXRoaW4gdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG5cdCAgICBpZiAodmFsLmluZGV4T2YoJ0A6JykgPj0gMCkge1xuXHQgICAgICAvLyBNYXRjaCBhbGwgdGhlIGxpbmtzIHdpdGhpbiB0aGUgbG9jYWxcblx0ICAgICAgLy8gV2UgYXJlIGdvaW5nIHRvIHJlcGxhY2UgZWFjaCBvZlxuXHQgICAgICAvLyB0aGVtIHdpdGggaXRzIHRyYW5zbGF0aW9uXG5cdCAgICAgIHZhciBtYXRjaGVzID0gdmFsLm1hdGNoKC8oQDpbXFx3fC5dKykvZyk7XG5cdCAgICAgIGZvciAodmFyIGlkeCBpbiBtYXRjaGVzKSB7XG5cdCAgICAgICAgdmFyIGxpbmsgPSBtYXRjaGVzW2lkeF07XG5cdCAgICAgICAgLy8gUmVtb3ZlIHRoZSBsZWFkaW5nIEA6XG5cdCAgICAgICAgdmFyIGxpbmtQbGFjZWhvbGRlciA9IGxpbmsuc3Vic3RyKDIpO1xuXHQgICAgICAgIC8vIFRyYW5zbGF0ZSB0aGUgbGlua1xuXHQgICAgICAgIHZhciB0cmFuc2xhdGVkc3RyaW5nID0gaW50ZXJwb2xhdGUobG9jYWxlLCBsaW5rUGxhY2Vob2xkZXIsIGFyZ3MpO1xuXHQgICAgICAgIC8vIFJlcGxhY2UgdGhlIGxpbmsgd2l0aCB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcblx0ICAgICAgICB2YWwgPSB2YWwucmVwbGFjZShsaW5rLCB0cmFuc2xhdGVkc3RyaW5nKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAhYXJncyA/IHZhbCA6IFZ1ZS5jb25maWcuaTE4bkZvcm1hdHRlciA/IFZ1ZS5jb25maWcuaTE4bkZvcm1hdHRlci5hcHBseShudWxsLCBbdmFsXS5jb25jYXQoYXJncykpIDogZm9ybWF0KHZhbCwgYXJncyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB0cmFuc2xhdGUoZ2V0dGVyLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpIHtcblx0ICAgIHZhciByZXMgPSBudWxsO1xuXHQgICAgcmVzID0gaW50ZXJwb2xhdGUoZ2V0dGVyKGxhbmcpLCBrZXksIHBhcmFtcyk7XG5cdCAgICBpZiAoIWlzTmlsKHJlcykpIHtcblx0ICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH1cblx0XG5cdCAgICByZXMgPSBpbnRlcnBvbGF0ZShnZXR0ZXIoZmFsbGJhY2spLCBrZXksIHBhcmFtcyk7XG5cdCAgICBpZiAoIWlzTmlsKHJlcykpIHtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICB3YXJuKCdGYWxsIGJhY2sgdG8gdHJhbnNsYXRlIHRoZSBrZXlwYXRoIFwiJyArIGtleSArICdcIiB3aXRoIFwiJyArIGZhbGxiYWNrICsgJ1wiIGxhbmd1YWdlLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHdhcm5EZWZhdWx0KGxhbmcsIGtleSwgdm0sIHJlc3VsdCkge1xuXHQgICAgaWYgKCFpc05pbChyZXN1bHQpKSB7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB3YXJuKCdDYW5ub3QgdHJhbnNsYXRlIHRoZSB2YWx1ZSBvZiBrZXlwYXRoIFwiJyArIGtleSArICdcIi4gJyArICdVc2UgdGhlIHZhbHVlIG9mIGtleXBhdGggYXMgZGVmYXVsdCcpO1xuXHQgICAgfVxuXHQgICAgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlciAmJiBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyLmFwcGx5KG51bGwsIFtsYW5nLCBrZXksIHZtXSk7XG5cdCAgICByZXR1cm4ga2V5O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0QXNzZXRMb2NhbGUobGFuZykge1xuXHQgICAgcmV0dXJuIFZ1ZS5sb2NhbGUobGFuZyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXRDb21wb25lbnRMb2NhbGUobGFuZykge1xuXHQgICAgcmV0dXJuIHRoaXMuJG9wdGlvbnMubG9jYWxlc1tsYW5nXTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldE9sZENob2ljZUluZGV4Rml4ZWQoY2hvaWNlKSB7XG5cdCAgICByZXR1cm4gY2hvaWNlID8gY2hvaWNlID4gMSA/IDEgOiAwIDogMTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldENob2ljZUluZGV4KGNob2ljZSwgY2hvaWNlc0xlbmd0aCkge1xuXHQgICAgY2hvaWNlID0gTWF0aC5hYnMoY2hvaWNlKTtcblx0XG5cdCAgICBpZiAoY2hvaWNlc0xlbmd0aCA9PT0gMikge1xuXHQgICAgICByZXR1cm4gZ2V0T2xkQ2hvaWNlSW5kZXhGaXhlZChjaG9pY2UpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjaG9pY2UgPyBNYXRoLm1pbihjaG9pY2UsIDIpIDogMDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZldGNoQ2hvaWNlKGxvY2FsZSwgY2hvaWNlKSB7XG5cdCAgICBpZiAoIWxvY2FsZSAmJiB0eXBlb2YgbG9jYWxlICE9PSAnc3RyaW5nJykge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBjaG9pY2VzID0gbG9jYWxlLnNwbGl0KCd8Jyk7XG5cdFxuXHQgICAgY2hvaWNlID0gZ2V0Q2hvaWNlSW5kZXgoY2hvaWNlLCBjaG9pY2VzLmxlbmd0aCk7XG5cdCAgICBpZiAoIWNob2ljZXNbY2hvaWNlXSkge1xuXHQgICAgICByZXR1cm4gbG9jYWxlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNob2ljZXNbY2hvaWNlXS50cmltKCk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBWdWUudFxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3Ncblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdFxuXHQgIFZ1ZS50ID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHQgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgha2V5KSB7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgX3BhcnNlQXJncyA9IHBhcnNlQXJncy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuXHRcblx0ICAgIHZhciBsYW5nID0gX3BhcnNlQXJncy5sYW5nO1xuXHQgICAgdmFyIGZhbGxiYWNrID0gX3BhcnNlQXJncy5mYWxsYmFjaztcblx0ICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzLnBhcmFtcztcblx0XG5cdCAgICByZXR1cm4gd2FybkRlZmF1bHQobGFuZywga2V5LCBudWxsLCB0cmFuc2xhdGUoZ2V0QXNzZXRMb2NhbGUsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykpO1xuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIFZ1ZS50Y1xuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuXHQgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gY2hvaWNlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ31cblx0ICAgKi9cblx0XG5cdCAgVnVlLnRjID0gZnVuY3Rpb24gKGtleSwgY2hvaWNlKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdCAgICAgIGFyZ3NbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZldGNoQ2hvaWNlKFZ1ZS50LmFwcGx5KFZ1ZSwgW2tleV0uY29uY2F0KGFyZ3MpKSwgY2hvaWNlKTtcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiAkdFxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3Ncblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJHQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoIWtleSkge1xuXHQgICAgICByZXR1cm4gJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuXHQgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBfcGFyc2VBcmdzMiA9IHBhcnNlQXJncy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuXHRcblx0ICAgIHZhciBsYW5nID0gX3BhcnNlQXJnczIubGFuZztcblx0ICAgIHZhciBmYWxsYmFjayA9IF9wYXJzZUFyZ3MyLmZhbGxiYWNrO1xuXHQgICAgdmFyIHBhcmFtcyA9IF9wYXJzZUFyZ3MyLnBhcmFtcztcblx0XG5cdCAgICB2YXIgcmVzID0gbnVsbDtcblx0ICAgIGlmICh0aGlzLiRvcHRpb25zLmxvY2FsZXMpIHtcblx0ICAgICAgcmVzID0gdHJhbnNsYXRlKGJpbmQoZ2V0Q29tcG9uZW50TG9jYWxlLCB0aGlzKSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKTtcblx0ICAgICAgaWYgKHJlcykge1xuXHQgICAgICAgIHJldHVybiByZXM7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIHRoaXMsIHRyYW5zbGF0ZShnZXRBc3NldExvY2FsZSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSk7XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogJHRjXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG5cdCAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBjaG9pY2Vcblx0ICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiR0YyA9IGZ1bmN0aW9uIChrZXksIGNob2ljZSkge1xuXHQgICAgaWYgKHR5cGVvZiBjaG9pY2UgIT09ICdudW1iZXInICYmIHR5cGVvZiBjaG9pY2UgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHJldHVybiBrZXk7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjUgPiAyID8gX2xlbjUgLSAyIDogMCksIF9rZXk1ID0gMjsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuXHQgICAgICBhcmdzW19rZXk1IC0gMl0gPSBhcmd1bWVudHNbX2tleTVdO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmZXRjaENob2ljZSh0aGlzLiR0LmFwcGx5KHRoaXMsIFtrZXldLmNvbmNhdChhcmdzKSksIGNob2ljZSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFZ1ZTtcblx0fVxuXHRcblx0dmFyIGxhbmdWTSA9IHZvaWQgMDsgLy8gc2luZ2xldG9uXG5cdFxuXHQvKipcblx0ICogcGx1Z2luXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBWdWVcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdHNcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBwbHVnaW4oVnVlKSB7XG5cdCAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgdmFyIHZlcnNpb24gPSBWdWUudmVyc2lvbiAmJiBOdW1iZXIoVnVlLnZlcnNpb24uc3BsaXQoJy4nKVswXSkgfHwgLTE7XG5cdFxuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHBsdWdpbi5pbnN0YWxsZWQpIHtcblx0ICAgIHdhcm4oJ2FscmVhZHkgaW5zdGFsbGVkLicpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdmVyc2lvbiA8IDEpIHtcblx0ICAgIHdhcm4oJ3Z1ZS1pMThuICgnICsgcGx1Z2luLnZlcnNpb24gKyAnKSBuZWVkIHRvIHVzZSB2dWUgdmVyc2lvbiAxLjAgb3IgbGF0ZXIgKHZ1ZSB2ZXJzaW9uOiAnICsgVnVlLnZlcnNpb24gKyAnKS4nKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIHZhciBsYW5nID0gJ2VuJztcblx0ICBzZXR1cExhbmdWTShWdWUsIGxhbmcpO1xuXHRcblx0ICBBc3NldChWdWUsIGxhbmdWTSk7XG5cdCAgT3ZlcnJpZGUoVnVlLCBsYW5nVk0sIHZlcnNpb24pO1xuXHQgIENvbmZpZyhWdWUsIGxhbmdWTSwgbGFuZyk7XG5cdCAgRXh0ZW5kKFZ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldHVwTGFuZ1ZNKFZ1ZSwgbGFuZykge1xuXHQgIHZhciBzaWxlbnQgPSBWdWUuY29uZmlnLnNpbGVudDtcblx0ICBWdWUuY29uZmlnLnNpbGVudCA9IHRydWU7XG5cdCAgaWYgKCFsYW5nVk0pIHtcblx0ICAgIGxhbmdWTSA9IG5ldyBWdWUoeyBkYXRhOiB7IGxhbmc6IGxhbmcsIGxvY2FsZXM6IHt9IH0gfSk7XG5cdCAgfVxuXHQgIFZ1ZS5jb25maWcuc2lsZW50ID0gc2lsZW50O1xuXHR9XG5cdFxuXHRwbHVnaW4udmVyc2lvbiA9ICc0LjcuMyc7XG5cdFxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZ1ZSkge1xuXHQgIHdpbmRvdy5WdWUudXNlKHBsdWdpbik7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgbG9jYWxlcyA9IHt9O1snZW4nLCAnemgnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICBsb2NhbGVzW2tleV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNikoXCIuL1wiICsga2V5KTtcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBsb2NhbGVzO1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9lblwiOiAxMDcsXG5cdFx0XCIuL2VuLnltbFwiOiAxMDcsXG5cdFx0XCIuL2luZGV4XCI6IDEwNSxcblx0XHRcIi4vaW5kZXguanNcIjogMTA1LFxuXHRcdFwiLi96aFwiOiAxMDgsXG5cdFx0XCIuL3poLnltbFwiOiAxMDhcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSAxMDY7XG5cblxuLyoqKi8gfSxcbi8qIDEwNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XCJ1cGxvYWRcIjogXCJ1cGxvYWRcIixcblx0XHRcdFwic2F2ZVwiOiBcInNhdmVcIixcblx0XHRcdFwiY2xvc2VfZWRpdFwiOiBcImNsb3NlIGVkaXRcIixcblx0XHRcdFwib3Blbl9lZGl0XCI6IFwib3BlbiBlZGl0XCIsXG5cdFx0XHRcImhlbHBcIjogXCJoZWxwXCIsXG5cdFx0XHRcImxyY19pbmZvXCI6IFwiaW5mb1wiLFxuXHRcdFx0XCJyZW1vdmVfbHlyaWNcIjogXCJyZW1vdmUgbHlyaWNcIixcblx0XHRcdFwicHJldl9seXJpY1wiOiBcInByZXYgbHlyaWNcIixcblx0XHRcdFwibmV4dF9seXJpY1wiOiBcIm5leHQgbHlyaWNcIlxuXHRcdH0sXG5cdFx0XCJtZW51XCI6IHtcblx0XHRcdFwidXBsb2FkXCI6IHtcblx0XHRcdFx0XCJscmNcIjogXCJMUkMgZm9ybWF0IGx5cmljXCIsXG5cdFx0XHRcdFwibHlyaWNcIjogXCJseXJpYyB0ZXh0XCIsXG5cdFx0XHRcdFwibXVzaWNcIjogXCJtdXNpY1wiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcIm1vZGFsXCI6IHtcblx0XHRcdFwibHJjX2Zvcm1hdF9zYXZlXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIkx5cmljcyBTYXZlXCIsXG5cdFx0XHRcdFwiaW5mb190aXRsZVwiOiBcIkx5cmljcyBJbmZvXCIsXG5cdFx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XHRcInNvbmdfdGl0bGVcIjogXCJTb25lIFRpdGxlXCIsXG5cdFx0XHRcdFx0XCJhcnRpc3RcIjogXCJBcnRpc3RcIixcblx0XHRcdFx0XHRcImFsYnVtXCI6IFwiQWxidW1cIixcblx0XHRcdFx0XHRcInNvbmd0ZXh0X2NyZWF0b3JcIjogXCJTb25ndGV4dCBDcmVhdG9yXCIsXG5cdFx0XHRcdFx0XCJscmNfY3JlYXRvclwiOiBcIkxSQyBDcmVhdG9yXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJzYXZlX3RpdGxlXCI6IFwiTHlyaWNzXCIsXG5cdFx0XHRcdFwiY29tYmluZVwiOiBcImNvbWJpbmUgbHlyaWNzXCIsXG5cdFx0XHRcdFwiZG93bmxvYWRcIjogXCJseXJpY3MgZmlsZSBkb3dubG9hZFwiXG5cdFx0XHR9LFxuXHRcdFx0XCJscmNfZm9ybWF0X3VwbG9hZFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJVcGxvYWQgTFJDIEZvcm1hdFwiLFxuXHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVXBsb2FkIHRpbWVzdGFtcGVkIGx5cmljc1wiLFxuXHRcdFx0XHRcInVwbG9hZFwiOiBcIlJlYWQgZnJvbSBmaWxlXCJcblx0XHRcdH0sXG5cdFx0XHRcImx5cmljX3VwbG9hZFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJVcGxvYWQgVGV4dCBMeXJpY3NcIixcblx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlBsYWluIFRleHQgbHlyaWNzLCBseXJpY3MgZGl2aWRlZCBieSBhIG5ld2xpbmVcIixcblx0XHRcdFx0XCJ1cGxvYWRcIjogXCJSZWFkIGZyb20gZmlsZVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJoZWxwXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIkhlbHBcIixcblx0XHRcdFx0XCJzaG9ydGN1dF9rZXlcIjogXCJzaG9ydGN1dCBrZXlcIixcblx0XHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcdFwidGl0bGVcIjogXCJwbGF5IGNvbnRyb2xcIixcblx0XHRcdFx0XHRcImxlZnRfa2V5XCI6IFwiPExlZnQ+XCIsXG5cdFx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFx0XCJiYWNrd2FyZFwiOiBcImJhY2t3YXJkXCIsXG5cdFx0XHRcdFx0XCJmb3J3YXJkXCI6IFwiZm9yd2FyZFwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwibWFrZV9scmNcIjoge1xuXHRcdFx0XHRcdFwidGl0bGVcIjogXCJtYWtlIGxyY1wiLFxuXHRcdFx0XHRcdFwidXBfa2V5XCI6IFwiPFVwPlwiLFxuXHRcdFx0XHRcdFwiZG93bl9rZXlcIjogXCI8RG93bj5cIixcblx0XHRcdFx0XHRcInByZXZfbHlyaWNcIjogXCJwcmV2IGx5cmljXCIsXG5cdFx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwic291cmNlX2NvZGVcIjogXCJzb3VyY2UgY29kZVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XHRcIm9rXCI6IFwib2tcIixcblx0XHRcdFx0XCJjYW5jZWxcIjogXCJjYW5jZWxcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XCJseXJpY19lZGl0b3JcIjoge1xuXHRcdFx0XCJlZGl0XCI6IFwiZWRpdFwiLFxuXHRcdFx0XCJhZGRcIjogXCJhZGRcIixcblx0XHRcdFwicmVtb3ZlXCI6IFwicmVtb3ZlXCIsXG5cdFx0XHRcInJlbW92ZV90aW1lc3RhbXBcIjogXCJyZW1vdmUgdGltZXN0YW1wXCIsXG5cdFx0XHRcInBsYXlfdG9fdGhpc19seXJpY1wiOiBcInBsYXkgdG8gdGhpcyBseXJpY1wiLFxuXHRcdFx0XCJmb2xsb3dpbmdfdW5zb3J0ZWRcIjogXCJUaGUgZm9sbG93aW5nIHVuc29ydGVkXCJcblx0XHR9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwidXBsb2FkXCI6IFwi5LiK5LygXCIsXG5cdFx0XHRcInNhdmVcIjogXCLkv53lrZhcIixcblx0XHRcdFwiY2xvc2VfZWRpdFwiOiBcIuWFs+mXree8lui+kVwiLFxuXHRcdFx0XCJvcGVuX2VkaXRcIjogXCLmiZPlvIDnvJbovpFcIixcblx0XHRcdFwiaGVscFwiOiBcIuW4ruWKqVwiLFxuXHRcdFx0XCJscmNfaW5mb1wiOiBcIuS/oeaBr1wiLFxuXHRcdFx0XCJyZW1vdmVfbHlyaWNcIjogXCLmuIXpmaTmrYzor41cIixcblx0XHRcdFwicHJldl9seXJpY1wiOiBcIuS4iuS4gOadoeatjOivjVwiLFxuXHRcdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0XHR9LFxuXHRcdFwibWVudVwiOiB7XG5cdFx0XHRcInVwbG9hZFwiOiB7XG5cdFx0XHRcdFwibHJjXCI6IFwiTFJD5qC85byP5q2M6K+NXCIsXG5cdFx0XHRcdFwibHlyaWNcIjogXCLmrYzor43mlofmnKxcIixcblx0XHRcdFx0XCJtdXNpY1wiOiBcIumfs+S5kFwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcIm1vZGFsXCI6IHtcblx0XHRcdFwibHJjX2Zvcm1hdF9zYXZlXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuS/neWtmOatjOivjVwiLFxuXHRcdFx0XHRcImluZm9fdGl0bGVcIjogXCLmrYzor43kv6Hmga9cIixcblx0XHRcdFx0XCJmaWVsZHNcIjoge1xuXHRcdFx0XHRcdFwic29uZ190aXRsZVwiOiBcIuatjOWQjVwiLFxuXHRcdFx0XHRcdFwiYXJ0aXN0XCI6IFwi6Im65pyv5a62XCIsXG5cdFx0XHRcdFx0XCJhbGJ1bVwiOiBcIuS4k+i+kVwiLFxuXHRcdFx0XHRcdFwic29uZ3RleHRfY3JlYXRvclwiOiBcIuatjOivjeS9nOiAhVwiLFxuXHRcdFx0XHRcdFwibHJjX2NyZWF0b3JcIjogXCJMUkMg5Yib5bu66ICFXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJzYXZlX3RpdGxlXCI6IFwi5q2M6K+NXCIsXG5cdFx0XHRcdFwiY29tYmluZVwiOiBcIuWQiOW5tuatjOivjVwiLFxuXHRcdFx0XHRcImRvd25sb2FkXCI6IFwi5LiL6L295q2M6K+N5paH5Lu2XCJcblx0XHRcdH0sXG5cdFx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuS4iuS8oExSQ+agvOW8j+aWh+acrFwiLFxuXHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwi5LiK5Lyg5bey57uP5YyF5ZCr5pe26Ze05oiz55qE5q2M6K+NXCIsXG5cdFx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHRcdH0sXG5cdFx0XHRcImx5cmljX3VwbG9hZFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKDmrYzor43mlofmnKxcIixcblx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIue6r+aWh+acrOatjOivje+8jOeUqOaNouihjOWvueatjOivjeWIkuWIhlwiLFxuXHRcdFx0XHRcInVwbG9hZFwiOiBcIuS7juaWh+S7tuivu+WPllwiXG5cdFx0XHR9LFxuXHRcdFx0XCJoZWxwXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuW4ruWKqVwiLFxuXHRcdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcIuW/q+aNt+mUrlwiLFxuXHRcdFx0XHRcInBsYXlfY29udHJvbFwiOiB7XG5cdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIuaSreaUvuaOp+WItlwiLFxuXHRcdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XHRcInJpZ2h0X2tleVwiOiBcIjxSaWdodD5cIixcblx0XHRcdFx0XHRcImJhY2t3YXJkXCI6IFwi5ZCO6YCAXCIsXG5cdFx0XHRcdFx0XCJmb3J3YXJkXCI6IFwi5YmN6L+bXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJtYWtlX2xyY1wiOiB7XG5cdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIuWItuS9nOatjOivjVwiLFxuXHRcdFx0XHRcdFwidXBfa2V5XCI6IFwiPFVwPlwiLFxuXHRcdFx0XHRcdFwiZG93bl9rZXlcIjogXCI8RG93bj5cIixcblx0XHRcdFx0XHRcInByZXZfbHlyaWNcIjogXCLkuIrkuIDmnaHmrYzor41cIixcblx0XHRcdFx0XHRcIm5leHRfbHlyaWNcIjogXCLkuIvkuIDmnaHmrYzor41cIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInNvdXJjZV9jb2RlXCI6IFwi5rqQ56CBXCJcblx0XHRcdH0sXG5cdFx0XHRcImJ1dHRvblwiOiB7XG5cdFx0XHRcdFwib2tcIjogXCLnoa7orqRcIixcblx0XHRcdFx0XCJjYW5jZWxcIjogXCLlj5bmtohcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XCJseXJpY19lZGl0b3JcIjoge1xuXHRcdFx0XCJlZGl0XCI6IFwi57yW6L6RXCIsXG5cdFx0XHRcImFkZFwiOiBcIua3u+WKoFwiLFxuXHRcdFx0XCJyZW1vdmVcIjogXCLliKDpmaRcIixcblx0XHRcdFwicmVtb3ZlX3RpbWVzdGFtcFwiOiBcIuWIoOmZpOaXtumXtOi9tFwiLFxuXHRcdFx0XCJwbGF5X3RvX3RoaXNfbHlyaWNcIjogXCLmkq3mlL7liLDov5nmnaHmrYzor41cIixcblx0XHRcdFwiZm9sbG93aW5nX3Vuc29ydGVkXCI6IFwi5Lul5LiL5pyq5o6S5bqPXCJcblx0XHR9XG5cdH07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBtYWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9hc3NldHMvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZTA4NmE2NTY0MmU4ZGI1MzNiOTIiLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBBcHAgZnJvbSAnLi9hcHAnXG5pbXBvcnQgJy4vaTE4bidcblxubGV0IHJvb3QgPSBuZXcgVnVlKHtcbiAgZWw6ICcjYXBwJyxcbiAgcmVuZGVyIChoKSB7XG4gICAgcmV0dXJuIGgoQXBwLCB7cmVmOiAnYXBwJ30pXG4gIH0sXG59KVxuXG5WdWUucHJvdG90eXBlLiRBcHAgPSByb290LiRyZWZzLmFwcFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWFpbi5qcyIsIi8qIVxuICogVnVlLmpzIHYyLjEuM1xuICogKGMpIDIwMTQtMjAxNiBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qICAqL1xuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICovXG5mdW5jdGlvbiBfdG9TdHJpbmcgKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGxcbiAgICA/ICcnXG4gICAgOiB0eXBlb2YgdmFsID09PSAnb2JqZWN0J1xuICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG4gICAgICA6IFN0cmluZyh2YWwpXG59XG5cbi8qKlxuICogQ29udmVydCBhIGlucHV0IHZhbHVlIHRvIGEgbnVtYmVyIGZvciBwZXJzaXN0ZW5jZS5cbiAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB0b051bWJlciAodmFsKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgcmV0dXJuIChuIHx8IG4gPT09IDApID8gbiA6IHZhbFxufVxuXG4vKipcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuICogaXMgaW4gdGhhdCBtYXAuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAgKFxuICBzdHIsXG4gIGV4cGVjdHNMb3dlckNhc2Vcbikge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZVxuICAgID8gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXTsgfVxuICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRhZyBpcyBhIGJ1aWx0LWluIHRhZy5cbiAqL1xudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XG5cbi8qKlxuICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheVxuICovXG5mdW5jdGlvbiByZW1vdmUkMSAoYXJyLCBpdGVtKSB7XG4gIGlmIChhcnIubGVuZ3RoKSB7XG4gICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBoYXMgdGhlIHByb3BlcnR5LlxuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaGFzT3duIChvYmosIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSlcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBwcmltaXRpdmVcbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjYWNoZWQgdmVyc2lvbiBvZiBhIHB1cmUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNhY2hlZCAoZm4pIHtcbiAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHtcbiAgICB2YXIgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSlcbiAgfVxufVxuXG4vKipcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbG1pdGVkIHN0cmluZy5cbiAqL1xudmFyIGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG52YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgZnVuY3Rpb24gKF8sIGMpIHsgcmV0dXJuIGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJzsgfSlcbn0pO1xuXG4vKipcbiAqIENhcGl0YWxpemUgYSBzdHJpbmcuXG4gKi9cbnZhciBjYXBpdGFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxufSk7XG5cbi8qKlxuICogSHlwaGVuYXRlIGEgY2FtZWxDYXNlIHN0cmluZy5cbiAqL1xudmFyIGh5cGhlbmF0ZVJFID0gLyhbXi1dKShbQS1aXSkvZztcbnZhciBoeXBoZW5hdGUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyXG4gICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG4gICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG4gICAgLnRvTG93ZXJDYXNlKClcbn0pO1xuXG4vKipcbiAqIFNpbXBsZSBiaW5kLCBmYXN0ZXIgdGhhbiBuYXRpdmVcbiAqL1xuZnVuY3Rpb24gYmluZCQxIChmbiwgY3R4KSB7XG4gIGZ1bmN0aW9uIGJvdW5kRm4gKGEpIHtcbiAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgcmV0dXJuIGxcbiAgICAgID8gbCA+IDFcbiAgICAgICAgPyBmbi5hcHBseShjdHgsIGFyZ3VtZW50cylcbiAgICAgICAgOiBmbi5jYWxsKGN0eCwgYSlcbiAgICAgIDogZm4uY2FsbChjdHgpXG4gIH1cbiAgLy8gcmVjb3JkIG9yaWdpbmFsIGZuIGxlbmd0aFxuICBib3VuZEZuLl9sZW5ndGggPSBmbi5sZW5ndGg7XG4gIHJldHVybiBib3VuZEZuXG59XG5cbi8qKlxuICogQ29udmVydCBhbiBBcnJheS1saWtlIG9iamVjdCB0byBhIHJlYWwgQXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgdmFyIGkgPSBsaXN0Lmxlbmd0aCAtIHN0YXJ0O1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgcmV0W2ldID0gbGlzdFtpICsgc3RhcnRdO1xuICB9XG4gIHJldHVybiByZXRcbn1cblxuLyoqXG4gKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZCAodG8sIF9mcm9tKSB7XG4gIGZvciAodmFyIGtleSBpbiBfZnJvbSkge1xuICAgIHRvW2tleV0gPSBfZnJvbVtrZXldO1xuICB9XG4gIHJldHVybiB0b1xufVxuXG4vKipcbiAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxuICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZVxuICogaXMgYSBKU09OLWNvbXBsaWFudCB0eXBlLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcbn1cblxuLyoqXG4gKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlXG4gKiBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzLlxuICovXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIE9CSkVDVF9TVFJJTkcgPSAnW29iamVjdCBPYmplY3RdJztcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBPQkpFQ1RfU1RSSU5HXG59XG5cbi8qKlxuICogTWVyZ2UgYW4gQXJyYXkgb2YgT2JqZWN0cyBpbnRvIGEgc2luZ2xlIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdG9PYmplY3QgKGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycltpXSkge1xuICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKipcbiAqIFBlcmZvcm0gbm8gb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBub29wICgpIHt9XG5cbi8qKlxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cbiAqL1xudmFyIG5vID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBzdGF0aWMga2V5cyBzdHJpbmcgZnJvbSBjb21waWxlciBtb2R1bGVzLlxuICovXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzIChtb2R1bGVzKSB7XG4gIHJldHVybiBtb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAoa2V5cywgbSkge1xuICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pXG4gIH0sIFtdKS5qb2luKCcsJylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcbiAqIGlmIHRoZXkgYXJlIHBsYWluIG9iamVjdHMsIGRvIHRoZXkgaGF2ZSB0aGUgc2FtZSBzaGFwZT9cbiAqL1xuZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgcmV0dXJuIGEgPT0gYiB8fCAoXG4gICAgaXNPYmplY3QoYSkgJiYgaXNPYmplY3QoYilcbiAgICAgID8gSlNPTi5zdHJpbmdpZnkoYSkgPT09IEpTT04uc3RyaW5naWZ5KGIpXG4gICAgICA6IGZhbHNlXG4gIClcbiAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cbn1cblxuZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChsb29zZUVxdWFsKGFycltpXSwgdmFsKSkgeyByZXR1cm4gaSB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuICovXG5mdW5jdGlvbiBpc1Jlc2VydmVkIChzdHIpIHtcbiAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZGVmIChvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIHZhbHVlOiB2YWwsXG4gICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBQYXJzZSBzaW1wbGUgcGF0aC5cbiAqL1xudmFyIGJhaWxSRSA9IC9bXlxcdy4kXS87XG5mdW5jdGlvbiBwYXJzZVBhdGggKHBhdGgpIHtcbiAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XG4gICAgcmV0dXJuXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghb2JqKSB7IHJldHVybiB9XG4gICAgICAgIG9iaiA9IG9ialtzZWdtZW50c1tpXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuLyogZ2xvYmFscyBNdXRhdGlvbk9ic2VydmVyICovXG5cbi8vIGNhbiB3ZSB1c2UgX19wcm90b19fP1xudmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XG5cbi8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcbnZhciBpbkJyb3dzZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KSAhPT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbnZhciBVQSA9IGluQnJvd3NlciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xudmFyIGlzSUUgPSBVQSAmJiAvbXNpZXx0cmlkZW50Ly50ZXN0KFVBKTtcbnZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwO1xudmFyIGlzRWRnZSA9IFVBICYmIFVBLmluZGV4T2YoJ2VkZ2UvJykgPiAwO1xudmFyIGlzQW5kcm9pZCA9IFVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDA7XG52YXIgaXNJT1MgPSBVQSAmJiAvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoVUEpO1xuXG4vLyB0aGlzIG5lZWRzIHRvIGJlIGxhenktZXZhbGVkIGJlY2F1c2UgdnVlIG1heSBiZSByZXF1aXJlZCBiZWZvcmVcbi8vIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgY2FuIHNldCBWVUVfRU5WXG52YXIgX2lzU2VydmVyO1xudmFyIGlzU2VydmVyUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICBpZiAoX2lzU2VydmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWluQnJvd3NlciAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXG4gICAgICAvLyBXZWJwYWNrIHNoaW1taW5nIHRoZSBwcm9jZXNzXG4gICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2lzU2VydmVyXG59O1xuXG4vLyBkZXRlY3QgZGV2dG9vbHNcbnZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGlzTmF0aXZlIChDdG9yKSB7XG4gIHJldHVybiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKVxufVxuXG4vKipcbiAqIERlZmVyIGEgdGFzayB0byBleGVjdXRlIGl0IGFzeW5jaHJvbm91c2x5LlxuICovXG52YXIgbmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgY2FsbGJhY2tzID0gW107XG4gIHZhciBwZW5kaW5nID0gZmFsc2U7XG4gIHZhciB0aW1lckZ1bmM7XG5cbiAgZnVuY3Rpb24gbmV4dFRpY2tIYW5kbGVyICgpIHtcbiAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29waWVzW2ldKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gdGhlIG5leHRUaWNrIGJlaGF2aW9yIGxldmVyYWdlcyB0aGUgbWljcm90YXNrIHF1ZXVlLCB3aGljaCBjYW4gYmUgYWNjZXNzZWRcbiAgLy8gdmlhIGVpdGhlciBuYXRpdmUgUHJvbWlzZS50aGVuIG9yIE11dGF0aW9uT2JzZXJ2ZXIuXG4gIC8vIE11dGF0aW9uT2JzZXJ2ZXIgaGFzIHdpZGVyIHN1cHBvcnQsIGhvd2V2ZXIgaXQgaXMgc2VyaW91c2x5IGJ1Z2dlZCBpblxuICAvLyBVSVdlYlZpZXcgaW4gaU9TID49IDkuMy4zIHdoZW4gdHJpZ2dlcmVkIGluIHRvdWNoIGV2ZW50IGhhbmRsZXJzLiBJdFxuICAvLyBjb21wbGV0ZWx5IHN0b3BzIHdvcmtpbmcgYWZ0ZXIgdHJpZ2dlcmluZyBhIGZldyB0aW1lcy4uLiBzbywgaWYgbmF0aXZlXG4gIC8vIFByb21pc2UgaXMgYXZhaWxhYmxlLCB3ZSB3aWxsIHVzZSBpdDpcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHtcbiAgICB2YXIgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHAudGhlbihuZXh0VGlja0hhbmRsZXIpO1xuICAgICAgLy8gaW4gcHJvYmxlbWF0aWMgVUlXZWJWaWV3cywgUHJvbWlzZS50aGVuIGRvZXNuJ3QgY29tcGxldGVseSBicmVhaywgYnV0XG4gICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGVcbiAgICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBidXQgdGhlIHF1ZXVlIGlzbid0IGJlaW5nIGZsdXNoZWQsIHVudGlsIHRoZSBicm93c2VyXG4gICAgICAvLyBuZWVkcyB0byBkbyBzb21lIG90aGVyIHdvcmssIGUuZy4gaGFuZGxlIGEgdGltZXIuIFRoZXJlZm9yZSB3ZSBjYW5cbiAgICAgIC8vIFwiZm9yY2VcIiB0aGUgbWljcm90YXNrIHF1ZXVlIHRvIGJlIGZsdXNoZWQgYnkgYWRkaW5nIGFuIGVtcHR5IHRpbWVyLlxuICAgICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gICAgaXNOYXRpdmUoTXV0YXRpb25PYnNlcnZlcikgfHxcbiAgICAvLyBQaGFudG9tSlMgYW5kIGlPUyA3LnhcbiAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXG4gICkpIHtcbiAgICAvLyB1c2UgTXV0YXRpb25PYnNlcnZlciB3aGVyZSBuYXRpdmUgUHJvbWlzZSBpcyBub3QgYXZhaWxhYmxlLFxuICAgIC8vIGUuZy4gUGhhbnRvbUpTIElFMTEsIGlPUzcsIEFuZHJvaWQgNC40XG4gICAgdmFyIGNvdW50ZXIgPSAxO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG5leHRUaWNrSGFuZGxlcik7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvdW50ZXIpKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlLCB7XG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfSk7XG4gICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSAyO1xuICAgICAgdGV4dE5vZGUuZGF0YSA9IFN0cmluZyhjb3VudGVyKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIGZhbGxiYWNrIHRvIHNldFRpbWVvdXRcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQobmV4dFRpY2tIYW5kbGVyLCAwKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHF1ZXVlTmV4dFRpY2sgKGNiLCBjdHgpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGNiKSB7IGNiLmNhbGwoY3R4KTsgfVxuICAgICAgaWYgKF9yZXNvbHZlKSB7IF9yZXNvbHZlKGN0eCk7IH1cbiAgICB9KTtcbiAgICBpZiAoIXBlbmRpbmcpIHtcbiAgICAgIHBlbmRpbmcgPSB0cnVlO1xuICAgICAgdGltZXJGdW5jKCk7XG4gICAgfVxuICAgIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7XG5cbnZhciBfU2V0O1xuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xuICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS5cbiAgX1NldCA9IFNldDtcbn0gZWxzZSB7XG4gIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cbiAgX1NldCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2V0ICgpIHtcbiAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0W2tleV0gIT09IHVuZGVmaW5lZFxuICAgIH07XG4gICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGtleSkge1xuICAgICAgdGhpcy5zZXRba2V5XSA9IDE7XG4gICAgfTtcbiAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2V0O1xuICB9KCkpO1xufVxuXG4vKiAgKi9cblxudmFyIGNvbmZpZyA9IHtcbiAgLyoqXG4gICAqIE9wdGlvbiBtZXJnZSBzdHJhdGVnaWVzICh1c2VkIGluIGNvcmUvdXRpbC9vcHRpb25zKVxuICAgKi9cbiAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxuICAgKi9cbiAgc2lsZW50OiBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHNcbiAgICovXG4gIGRldnRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuXG4gIC8qKlxuICAgKiBFcnJvciBoYW5kbGVyIGZvciB3YXRjaGVyIGVycm9yc1xuICAgKi9cbiAgZXJyb3JIYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcbiAgICovXG4gIGlnbm9yZWRFbGVtZW50czogbnVsbCxcblxuICAvKipcbiAgICogQ3VzdG9tIHVzZXIga2V5IGFsaWFzZXMgZm9yIHYtb25cbiAgICovXG4gIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHRhZyBpcyByZXNlcnZlZCBzbyB0aGF0IGl0IGNhbm5vdCBiZSByZWdpc3RlcmVkIGFzIGFcbiAgICogY29tcG9uZW50LiBUaGlzIGlzIHBsYXRmb3JtLWRlcGVuZGVudCBhbmQgbWF5IGJlIG92ZXJ3cml0dGVuLlxuICAgKi9cbiAgaXNSZXNlcnZlZFRhZzogbm8sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC5cbiAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuICAgKi9cbiAgaXNVbmtub3duRWxlbWVudDogbm8sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmFtZXNwYWNlIG9mIGFuIGVsZW1lbnRcbiAgICovXG4gIGdldFRhZ05hbWVzcGFjZTogbm9vcCxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIG11c3QgYmUgYm91bmQgdXNpbmcgcHJvcGVydHksIGUuZy4gdmFsdWVcbiAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuICAgKi9cbiAgbXVzdFVzZVByb3A6IG5vLFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGFzc2V0IHR5cGVzIHRoYXQgYSBjb21wb25lbnQgY2FuIG93bi5cbiAgICovXG4gIF9hc3NldFR5cGVzOiBbXG4gICAgJ2NvbXBvbmVudCcsXG4gICAgJ2RpcmVjdGl2ZScsXG4gICAgJ2ZpbHRlcidcbiAgXSxcblxuICAvKipcbiAgICogTGlzdCBvZiBsaWZlY3ljbGUgaG9va3MuXG4gICAqL1xuICBfbGlmZWN5Y2xlSG9va3M6IFtcbiAgICAnYmVmb3JlQ3JlYXRlJyxcbiAgICAnY3JlYXRlZCcsXG4gICAgJ2JlZm9yZU1vdW50JyxcbiAgICAnbW91bnRlZCcsXG4gICAgJ2JlZm9yZVVwZGF0ZScsXG4gICAgJ3VwZGF0ZWQnLFxuICAgICdiZWZvcmVEZXN0cm95JyxcbiAgICAnZGVzdHJveWVkJyxcbiAgICAnYWN0aXZhdGVkJyxcbiAgICAnZGVhY3RpdmF0ZWQnXG4gIF0sXG5cbiAgLyoqXG4gICAqIE1heCBjaXJjdWxhciB1cGRhdGVzIGFsbG93ZWQgaW4gYSBzY2hlZHVsZXIgZmx1c2ggY3ljbGUuXG4gICAqL1xuICBfbWF4VXBkYXRlQ291bnQ6IDEwMFxufTtcblxudmFyIHdhcm4gPSBub29wO1xudmFyIGZvcm1hdENvbXBvbmVudE5hbWU7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBoYXNDb25zb2xlID0gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnO1xuXG4gIHdhcm4gPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuICAgIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVnVlIHdhcm5dOiBcIiArIG1zZyArIFwiIFwiICsgKFxuICAgICAgICB2bSA/IGZvcm1hdExvY2F0aW9uKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSA6ICcnXG4gICAgICApKTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSkge1xuICAgIGlmICh2bS4kcm9vdCA9PT0gdm0pIHtcbiAgICAgIHJldHVybiAncm9vdCBpbnN0YW5jZSdcbiAgICB9XG4gICAgdmFyIG5hbWUgPSB2bS5faXNWdWVcbiAgICAgID8gdm0uJG9wdGlvbnMubmFtZSB8fCB2bS4kb3B0aW9ucy5fY29tcG9uZW50VGFnXG4gICAgICA6IHZtLm5hbWU7XG4gICAgcmV0dXJuIChcbiAgICAgIChuYW1lID8gKFwiY29tcG9uZW50IDxcIiArIG5hbWUgKyBcIj5cIikgOiBcImFub255bW91cyBjb21wb25lbnRcIikgK1xuICAgICAgKHZtLl9pc1Z1ZSAmJiB2bS4kb3B0aW9ucy5fX2ZpbGUgPyAoXCIgYXQgXCIgKyAodm0uJG9wdGlvbnMuX19maWxlKSkgOiAnJylcbiAgICApXG4gIH07XG5cbiAgdmFyIGZvcm1hdExvY2F0aW9uID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmIChzdHIgPT09ICdhbm9ueW1vdXMgY29tcG9uZW50Jykge1xuICAgICAgc3RyICs9IFwiIC0gdXNlIHRoZSBcXFwibmFtZVxcXCIgb3B0aW9uIGZvciBiZXR0ZXIgZGVidWdnaW5nIG1lc3NhZ2VzLlwiO1xuICAgIH1cbiAgICByZXR1cm4gKFwiXFxuKGZvdW5kIGluIFwiICsgc3RyICsgXCIpXCIpXG4gIH07XG59XG5cbi8qICAqL1xuXG5cbnZhciB1aWQkMSA9IDA7XG5cbi8qKlxuICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXG4gKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxuICovXG52YXIgRGVwID0gZnVuY3Rpb24gRGVwICgpIHtcbiAgdGhpcy5pZCA9IHVpZCQxKys7XG4gIHRoaXMuc3VicyA9IFtdO1xufTtcblxuRGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1Yikge1xuICB0aGlzLnN1YnMucHVzaChzdWIpO1xufTtcblxuRGVwLnByb3RvdHlwZS5yZW1vdmVTdWIgPSBmdW5jdGlvbiByZW1vdmVTdWIgKHN1Yikge1xuICByZW1vdmUkMSh0aGlzLnN1YnMsIHN1Yik7XG59O1xuXG5EZXAucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG4gIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgRGVwLnRhcmdldC5hZGREZXAodGhpcyk7XG4gIH1cbn07XG5cbkRlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5ICgpIHtcbiAgLy8gc3RhYmxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxuICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHN1YnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgc3Vic1tpXS51cGRhdGUoKTtcbiAgfVxufTtcblxuLy8gdGhlIGN1cnJlbnQgdGFyZ2V0IHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkLlxuLy8gdGhpcyBpcyBnbG9iYWxseSB1bmlxdWUgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvbmx5IG9uZVxuLy8gd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQgYXQgYW55IHRpbWUuXG5EZXAudGFyZ2V0ID0gbnVsbDtcbnZhciB0YXJnZXRTdGFjayA9IFtdO1xuXG5mdW5jdGlvbiBwdXNoVGFyZ2V0IChfdGFyZ2V0KSB7XG4gIGlmIChEZXAudGFyZ2V0KSB7IHRhcmdldFN0YWNrLnB1c2goRGVwLnRhcmdldCk7IH1cbiAgRGVwLnRhcmdldCA9IF90YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIHBvcFRhcmdldCAoKSB7XG4gIERlcC50YXJnZXQgPSB0YXJnZXRTdGFjay5wb3AoKTtcbn1cblxuLypcbiAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aFxuICogZHluYW1pY2FsbHkgYWNjZXNzaW5nIG1ldGhvZHMgb24gQXJyYXkgcHJvdG90eXBlXG4gKi9cblxudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG52YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTtbXG4gICdwdXNoJyxcbiAgJ3BvcCcsXG4gICdzaGlmdCcsXG4gICd1bnNoaWZ0JyxcbiAgJ3NwbGljZScsXG4gICdzb3J0JyxcbiAgJ3JldmVyc2UnXG5dXG4uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZFxuICB2YXIgb3JpZ2luYWwgPSBhcnJheVByb3RvW21ldGhvZF07XG4gIGRlZihhcnJheU1ldGhvZHMsIG1ldGhvZCwgZnVuY3Rpb24gbXV0YXRvciAoKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgLy8gYXZvaWQgbGVha2luZyBhcmd1bWVudHM6XG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvc3VyZS13aXRoLWFyZ3VtZW50c1xuICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShpKTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzJDFbaV07XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB2YXIgb2IgPSB0aGlzLl9fb2JfXztcbiAgICB2YXIgaW5zZXJ0ZWQ7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ3B1c2gnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd1bnNoaWZ0JzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzO1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3BsaWNlJzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzLnNsaWNlKDIpO1xuICAgICAgICBicmVha1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWQpIHsgb2Iub2JzZXJ2ZUFycmF5KGluc2VydGVkKTsgfVxuICAgIC8vIG5vdGlmeSBjaGFuZ2VcbiAgICBvYi5kZXAubm90aWZ5KCk7XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9KTtcbn0pO1xuXG4vKiAgKi9cblxudmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgd2hlbiBhIHJlYWN0aXZlIHByb3BlcnR5IGlzIHNldCwgdGhlIG5ldyB2YWx1ZSBpc1xuICogYWxzbyBjb252ZXJ0ZWQgdG8gYmVjb21lIHJlYWN0aXZlLiBIb3dldmVyIHdoZW4gcGFzc2luZyBkb3duIHByb3BzLFxuICogd2UgZG9uJ3Qgd2FudCB0byBmb3JjZSBjb252ZXJzaW9uIGJlY2F1c2UgdGhlIHZhbHVlIG1heSBiZSBhIG5lc3RlZCB2YWx1ZVxuICogdW5kZXIgYSBmcm96ZW4gZGF0YSBzdHJ1Y3R1cmUuIENvbnZlcnRpbmcgaXQgd291bGQgZGVmZWF0IHRoZSBvcHRpbWl6YXRpb24uXG4gKi9cbnZhciBvYnNlcnZlclN0YXRlID0ge1xuICBzaG91bGRDb252ZXJ0OiB0cnVlLFxuICBpc1NldHRpbmdQcm9wczogZmFsc2Vcbn07XG5cbi8qKlxuICogT2JzZXJ2ZXIgY2xhc3MgdGhhdCBhcmUgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZFxuICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGFyZ2V0XG4gKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdFxuICogY29sbGVjdCBkZXBlbmRlbmNpZXMgYW5kIGRpc3BhdGNoZXMgdXBkYXRlcy5cbiAqL1xudmFyIE9ic2VydmVyID0gZnVuY3Rpb24gT2JzZXJ2ZXIgKHZhbHVlKSB7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gIHRoaXMudm1Db3VudCA9IDA7XG4gIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICB2YXIgYXVnbWVudCA9IGhhc1Byb3RvXG4gICAgICA/IHByb3RvQXVnbWVudFxuICAgICAgOiBjb3B5QXVnbWVudDtcbiAgICBhdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cyk7XG4gICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMud2Fsayh2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV2FsayB0aHJvdWdoIGVhY2ggcHJvcGVydHkgYW5kIGNvbnZlcnQgdGhlbSBpbnRvXG4gKiBnZXR0ZXIvc2V0dGVycy4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW5cbiAqIHZhbHVlIHR5cGUgaXMgT2JqZWN0LlxuICovXG5PYnNlcnZlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIHdhbGsgKG9iaikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKG9iaiwga2V5c1tpXSwgb2JqW2tleXNbaV1dKTtcbiAgfVxufTtcblxuLyoqXG4gKiBPYnNlcnZlIGEgbGlzdCBvZiBBcnJheSBpdGVtcy5cbiAqL1xuT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmVBcnJheSA9IGZ1bmN0aW9uIG9ic2VydmVBcnJheSAoaXRlbXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvYnNlcnZlKGl0ZW1zW2ldKTtcbiAgfVxufTtcblxuLy8gaGVscGVyc1xuXG4vKipcbiAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBpbnRlcmNlcHRpbmdcbiAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fXG4gKi9cbmZ1bmN0aW9uIHByb3RvQXVnbWVudCAodGFyZ2V0LCBzcmMpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbiAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHNyYztcbiAgLyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xufVxuXG4vKipcbiAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZ1xuICogaGlkZGVuIHByb3BlcnRpZXMuXG4gKlxuICogaXN0YW5idWwgaWdub3JlIG5leHRcbiAqL1xuZnVuY3Rpb24gY29weUF1Z21lbnQgKHRhcmdldCwgc3JjLCBrZXlzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgfVxufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLFxuICogcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGlmIHN1Y2Nlc3NmdWxseSBvYnNlcnZlZCxcbiAqIG9yIHRoZSBleGlzdGluZyBvYnNlcnZlciBpZiB0aGUgdmFsdWUgYWxyZWFkeSBoYXMgb25lLlxuICovXG5mdW5jdGlvbiBvYnNlcnZlICh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYjtcbiAgaWYgKGhhc093bih2YWx1ZSwgJ19fb2JfXycpICYmIHZhbHVlLl9fb2JfXyBpbnN0YW5jZW9mIE9ic2VydmVyKSB7XG4gICAgb2IgPSB2YWx1ZS5fX29iX187XG4gIH0gZWxzZSBpZiAoXG4gICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ICYmXG4gICAgIWlzU2VydmVyUmVuZGVyaW5nKCkgJiZcbiAgICAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZSkpICYmXG4gICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiZcbiAgICAhdmFsdWUuX2lzVnVlXG4gICkge1xuICAgIG9iID0gbmV3IE9ic2VydmVyKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2Jcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiBhbiBPYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlJCQxIChcbiAgb2JqLFxuICBrZXksXG4gIHZhbCxcbiAgY3VzdG9tU2V0dGVyXG4pIHtcbiAgdmFyIGRlcCA9IG5ldyBEZXAoKTtcblxuICB2YXIgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcbiAgaWYgKHByb3BlcnR5ICYmIHByb3BlcnR5LmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGNhdGVyIGZvciBwcmUtZGVmaW5lZCBnZXR0ZXIvc2V0dGVyc1xuICB2YXIgZ2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuZ2V0O1xuICB2YXIgc2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuc2V0O1xuXG4gIHZhciBjaGlsZE9iID0gb2JzZXJ2ZSh2YWwpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICBkZXAuZGVwZW5kKCk7XG4gICAgICAgIGlmIChjaGlsZE9iKSB7XG4gICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZGVwZW5kQXJyYXkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY3VzdG9tU2V0dGVyKSB7XG4gICAgICAgIGN1c3RvbVNldHRlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHNldHRlcikge1xuICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBuZXdWYWw7XG4gICAgICB9XG4gICAgICBjaGlsZE9iID0gb2JzZXJ2ZShuZXdWYWwpO1xuICAgICAgZGVwLm5vdGlmeSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kXG4gKiB0cmlnZ2VycyBjaGFuZ2Ugbm90aWZpY2F0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0LlxuICovXG5mdW5jdGlvbiBzZXQgKG9iaiwga2V5LCB2YWwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIG9iai5sZW5ndGggPSBNYXRoLm1heChvYmoubGVuZ3RoLCBrZXkpO1xuICAgIG9iai5zcGxpY2Uoa2V5LCAxLCB2YWwpO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBpZiAoaGFzT3duKG9iaiwga2V5KSkge1xuICAgIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYiA9IG9iai5fX29iX187XG4gIGlmIChvYmouX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBhZGRpbmcgcmVhY3RpdmUgcHJvcGVydGllcyB0byBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICdhdCBydW50aW1lIC0gZGVjbGFyZSBpdCB1cGZyb250IGluIHRoZSBkYXRhIG9wdGlvbi4nXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIW9iKSB7XG4gICAgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGVmaW5lUmVhY3RpdmUkJDEob2IudmFsdWUsIGtleSwgdmFsKTtcbiAgb2IuZGVwLm5vdGlmeSgpO1xuICByZXR1cm4gdmFsXG59XG5cbi8qKlxuICogRGVsZXRlIGEgcHJvcGVydHkgYW5kIHRyaWdnZXIgY2hhbmdlIGlmIG5lY2Vzc2FyeS5cbiAqL1xuZnVuY3Rpb24gZGVsIChvYmosIGtleSkge1xuICB2YXIgb2IgPSBvYmouX19vYl9fO1xuICBpZiAob2JqLl9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAnQXZvaWQgZGVsZXRpbmcgcHJvcGVydGllcyBvbiBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJ1xuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIG9ialtrZXldO1xuICBpZiAoIW9iKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgb2IuZGVwLm5vdGlmeSgpO1xufVxuXG4vKipcbiAqIENvbGxlY3QgZGVwZW5kZW5jaWVzIG9uIGFycmF5IGVsZW1lbnRzIHdoZW4gdGhlIGFycmF5IGlzIHRvdWNoZWQsIHNpbmNlXG4gKiB3ZSBjYW5ub3QgaW50ZXJjZXB0IGFycmF5IGVsZW1lbnQgYWNjZXNzIGxpa2UgcHJvcGVydHkgZ2V0dGVycy5cbiAqL1xuZnVuY3Rpb24gZGVwZW5kQXJyYXkgKHZhbHVlKSB7XG4gIGZvciAodmFyIGUgPSAodm9pZCAwKSwgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBlID0gdmFsdWVbaV07XG4gICAgZSAmJiBlLl9fb2JfXyAmJiBlLl9fb2JfXy5kZXAuZGVwZW5kKCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICAgIGRlcGVuZEFycmF5KGUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBPcHRpb24gb3ZlcndyaXRpbmcgc3RyYXRlZ2llcyBhcmUgZnVuY3Rpb25zIHRoYXQgaGFuZGxlXG4gKiBob3cgdG8gbWVyZ2UgYSBwYXJlbnQgb3B0aW9uIHZhbHVlIGFuZCBhIGNoaWxkIG9wdGlvblxuICogdmFsdWUgaW50byB0aGUgZmluYWwgdmFsdWUuXG4gKi9cbnZhciBzdHJhdHMgPSBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO1xuXG4vKipcbiAqIE9wdGlvbnMgd2l0aCByZXN0cmljdGlvbnNcbiAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgc3RyYXRzLmVsID0gc3RyYXRzLnByb3BzRGF0YSA9IGZ1bmN0aW9uIChwYXJlbnQsIGNoaWxkLCB2bSwga2V5KSB7XG4gICAgaWYgKCF2bSkge1xuICAgICAgd2FybihcbiAgICAgICAgXCJvcHRpb24gXFxcIlwiICsga2V5ICsgXCJcXFwiIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGluc3RhbmNlIFwiICtcbiAgICAgICAgJ2NyZWF0aW9uIHdpdGggdGhlIGBuZXdgIGtleXdvcmQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRTdHJhdChwYXJlbnQsIGNoaWxkKVxuICB9O1xufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IHJlY3Vyc2l2ZWx5IG1lcmdlcyB0d28gZGF0YSBvYmplY3RzIHRvZ2V0aGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZURhdGEgKHRvLCBmcm9tKSB7XG4gIGlmICghZnJvbSkgeyByZXR1cm4gdG8gfVxuICB2YXIga2V5LCB0b1ZhbCwgZnJvbVZhbDtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcm9tKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICB0b1ZhbCA9IHRvW2tleV07XG4gICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcbiAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xuICAgICAgc2V0KHRvLCBrZXksIGZyb21WYWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh0b1ZhbCkgJiYgaXNQbGFpbk9iamVjdChmcm9tVmFsKSkge1xuICAgICAgbWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvXG59XG5cbi8qKlxuICogRGF0YVxuICovXG5zdHJhdHMuZGF0YSA9IGZ1bmN0aW9uIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm1cbikge1xuICBpZiAoIXZtKSB7XG4gICAgLy8gaW4gYSBWdWUuZXh0ZW5kIG1lcmdlLCBib3RoIHNob3VsZCBiZSBmdW5jdGlvbnNcbiAgICBpZiAoIWNoaWxkVmFsKSB7XG4gICAgICByZXR1cm4gcGFyZW50VmFsXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hpbGRWYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXG4gICAgICAgICd0aGF0IHJldHVybnMgYSBwZXItaW5zdGFuY2UgdmFsdWUgaW4gY29tcG9uZW50ICcgK1xuICAgICAgICAnZGVmaW5pdGlvbnMuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgICByZXR1cm4gcGFyZW50VmFsXG4gICAgfVxuICAgIGlmICghcGFyZW50VmFsKSB7XG4gICAgICByZXR1cm4gY2hpbGRWYWxcbiAgICB9XG4gICAgLy8gd2hlbiBwYXJlbnRWYWwgJiBjaGlsZFZhbCBhcmUgYm90aCBwcmVzZW50LFxuICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAgIC8vIG1lcmdlZCByZXN1bHQgb2YgYm90aCBmdW5jdGlvbnMuLi4gbm8gbmVlZCB0b1xuICAgIC8vIGNoZWNrIGlmIHBhcmVudFZhbCBpcyBhIGZ1bmN0aW9uIGhlcmUgYmVjYXVzZVxuICAgIC8vIGl0IGhhcyB0byBiZSBhIGZ1bmN0aW9uIHRvIHBhc3MgcHJldmlvdXMgbWVyZ2VzLlxuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4gKCkge1xuICAgICAgcmV0dXJuIG1lcmdlRGF0YShcbiAgICAgICAgY2hpbGRWYWwuY2FsbCh0aGlzKSxcbiAgICAgICAgcGFyZW50VmFsLmNhbGwodGhpcylcbiAgICAgIClcbiAgICB9XG4gIH0gZWxzZSBpZiAocGFyZW50VmFsIHx8IGNoaWxkVmFsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZEluc3RhbmNlRGF0YUZuICgpIHtcbiAgICAgIC8vIGluc3RhbmNlIG1lcmdlXG4gICAgICB2YXIgaW5zdGFuY2VEYXRhID0gdHlwZW9mIGNoaWxkVmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gY2hpbGRWYWwuY2FsbCh2bSlcbiAgICAgICAgOiBjaGlsZFZhbDtcbiAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoaW5zdGFuY2VEYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF0YVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIb29rcyBhbmQgcGFyYW0gYXR0cmlidXRlcyBhcmUgbWVyZ2VkIGFzIGFycmF5cy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb29rIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbFxuKSB7XG4gIHJldHVybiBjaGlsZFZhbFxuICAgID8gcGFyZW50VmFsXG4gICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpXG4gICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRWYWwpXG4gICAgICAgID8gY2hpbGRWYWxcbiAgICAgICAgOiBbY2hpbGRWYWxdXG4gICAgOiBwYXJlbnRWYWxcbn1cblxuY29uZmlnLl9saWZlY3ljbGVIb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG4gIHN0cmF0c1tob29rXSA9IG1lcmdlSG9vaztcbn0pO1xuXG4vKipcbiAqIEFzc2V0c1xuICpcbiAqIFdoZW4gYSB2bSBpcyBwcmVzZW50IChpbnN0YW5jZSBjcmVhdGlvbiksIHdlIG5lZWQgdG8gZG9cbiAqIGEgdGhyZWUtd2F5IG1lcmdlIGJldHdlZW4gY29uc3RydWN0b3Igb3B0aW9ucywgaW5zdGFuY2VcbiAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBtZXJnZUFzc2V0cyAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCk7XG4gIHJldHVybiBjaGlsZFZhbFxuICAgID8gZXh0ZW5kKHJlcywgY2hpbGRWYWwpXG4gICAgOiByZXNcbn1cblxuY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7XG59KTtcblxuLyoqXG4gKiBXYXRjaGVycy5cbiAqXG4gKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXG4gKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cbiAqL1xuc3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIHBhcmVudFZhbCB9XG4gIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG4gIHZhciByZXQgPSB7fTtcbiAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcbiAgZm9yICh2YXIga2V5IGluIGNoaWxkVmFsKSB7XG4gICAgdmFyIHBhcmVudCA9IHJldFtrZXldO1xuICAgIHZhciBjaGlsZCA9IGNoaWxkVmFsW2tleV07XG4gICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7XG4gICAgICBwYXJlbnQgPSBbcGFyZW50XTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBwYXJlbnRcbiAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZClcbiAgICAgIDogW2NoaWxkXTtcbiAgfVxuICByZXR1cm4gcmV0XG59O1xuXG4vKipcbiAqIE90aGVyIG9iamVjdCBoYXNoZXMuXG4gKi9cbnN0cmF0cy5wcm9wcyA9XG5zdHJhdHMubWV0aG9kcyA9XG5zdHJhdHMuY29tcHV0ZWQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICBpZiAoIWNoaWxkVmFsKSB7IHJldHVybiBwYXJlbnRWYWwgfVxuICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuICB2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcbiAgZXh0ZW5kKHJldCwgY2hpbGRWYWwpO1xuICByZXR1cm4gcmV0XG59O1xuXG4vKipcbiAqIERlZmF1bHQgc3RyYXRlZ3kuXG4gKi9cbnZhciBkZWZhdWx0U3RyYXQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICByZXR1cm4gY2hpbGRWYWwgPT09IHVuZGVmaW5lZFxuICAgID8gcGFyZW50VmFsXG4gICAgOiBjaGlsZFZhbFxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBjb21wb25lbnQgbmFtZXNcbiAqL1xuZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzIChvcHRpb25zKSB7XG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmNvbXBvbmVudHMpIHtcbiAgICB2YXIgbG93ZXIgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaXNCdWlsdEluVGFnKGxvd2VyKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhsb3dlcikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50ICcgK1xuICAgICAgICAnaWQ6ICcgKyBrZXlcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucykge1xuICB2YXIgcHJvcHMgPSBvcHRpb25zLnByb3BzO1xuICBpZiAoIXByb3BzKSB7IHJldHVybiB9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGksIHZhbCwgbmFtZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB2YWwgPSBwcm9wc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYW1lID0gY2FtZWxpemUodmFsKTtcbiAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FybigncHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LicpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgdmFsID0gcHJvcHNba2V5XTtcbiAgICAgIG5hbWUgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgcmVzW25hbWVdID0gaXNQbGFpbk9iamVjdCh2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogeyB0eXBlOiB2YWwgfTtcbiAgICB9XG4gIH1cbiAgb3B0aW9ucy5wcm9wcyA9IHJlcztcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzIChvcHRpb25zKSB7XG4gIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzO1xuICBpZiAoZGlycykge1xuICAgIGZvciAodmFyIGtleSBpbiBkaXJzKSB7XG4gICAgICB2YXIgZGVmID0gZGlyc1trZXldO1xuICAgICAgaWYgKHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYsIHVwZGF0ZTogZGVmIH07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxuICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VPcHRpb25zIChcbiAgcGFyZW50LFxuICBjaGlsZCxcbiAgdm1cbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XG4gIH1cbiAgbm9ybWFsaXplUHJvcHMoY2hpbGQpO1xuICBub3JtYWxpemVEaXJlY3RpdmVzKGNoaWxkKTtcbiAgdmFyIGV4dGVuZHNGcm9tID0gY2hpbGQuZXh0ZW5kcztcbiAgaWYgKGV4dGVuZHNGcm9tKSB7XG4gICAgcGFyZW50ID0gdHlwZW9mIGV4dGVuZHNGcm9tID09PSAnZnVuY3Rpb24nXG4gICAgICA/IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGV4dGVuZHNGcm9tLm9wdGlvbnMsIHZtKVxuICAgICAgOiBtZXJnZU9wdGlvbnMocGFyZW50LCBleHRlbmRzRnJvbSwgdm0pO1xuICB9XG4gIGlmIChjaGlsZC5taXhpbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkLm1peGlucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBtaXhpbiA9IGNoaWxkLm1peGluc1tpXTtcbiAgICAgIGlmIChtaXhpbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBWdWUkMikge1xuICAgICAgICBtaXhpbiA9IG1peGluLm9wdGlvbnM7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBtaXhpbiwgdm0pO1xuICAgIH1cbiAgfVxuICB2YXIgb3B0aW9ucyA9IHt9O1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBwYXJlbnQpIHtcbiAgICBtZXJnZUZpZWxkKGtleSk7XG4gIH1cbiAgZm9yIChrZXkgaW4gY2hpbGQpIHtcbiAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcbiAgICAgIG1lcmdlRmllbGQoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VGaWVsZCAoa2V5KSB7XG4gICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xuICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG4vKipcbiAqIFJlc29sdmUgYW4gYXNzZXQuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3NcbiAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0IChcbiAgb3B0aW9ucyxcbiAgdHlwZSxcbiAgaWQsXG4gIHdhcm5NaXNzaW5nXG4pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGFzc2V0cyA9IG9wdGlvbnNbdHlwZV07XG4gIHZhciByZXMgPSBhc3NldHNbaWRdIHx8XG4gICAgLy8gY2FtZWxDYXNlIElEXG4gICAgYXNzZXRzW2NhbWVsaXplKGlkKV0gfHxcbiAgICAvLyBQYXNjYWwgQ2FzZSBJRFxuICAgIGFzc2V0c1tjYXBpdGFsaXplKGNhbWVsaXplKGlkKSldO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgd2FybihcbiAgICAgICdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AgKFxuICBrZXksXG4gIHByb3BPcHRpb25zLFxuICBwcm9wc0RhdGEsXG4gIHZtXG4pIHtcbiAgdmFyIHByb3AgPSBwcm9wT3B0aW9uc1trZXldO1xuICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7XG4gIHZhciB2YWx1ZSA9IHByb3BzRGF0YVtrZXldO1xuICAvLyBoYW5kbGUgYm9vbGVhbiBwcm9wc1xuICBpZiAoaXNCb29sZWFuVHlwZShwcm9wLnR5cGUpKSB7XG4gICAgaWYgKGFic2VudCAmJiAhaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XG4gICAgICB2YWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIGNoZWNrIGRlZmF1bHQgdmFsdWVcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7XG4gICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBmcmVzaCBjb3B5LFxuICAgIC8vIG1ha2Ugc3VyZSB0byBvYnNlcnZlIGl0LlxuICAgIHZhciBwcmV2U2hvdWxkQ29udmVydCA9IG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydDtcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICAgIG9ic2VydmUodmFsdWUpO1xuICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHByZXZTaG91bGRDb252ZXJ0O1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0UHJvcChwcm9wLCBrZXksIHZhbHVlLCB2bSwgYWJzZW50KTtcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBwcm9wLlxuICovXG5mdW5jdGlvbiBnZXRQcm9wRGVmYXVsdFZhbHVlICh2bSwgcHJvcCwga2V5KSB7XG4gIC8vIG5vIGRlZmF1bHQsIHJldHVybiB1bmRlZmluZWRcbiAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0O1xuICAvLyB3YXJuIGFnYWluc3Qgbm9uLWZhY3RvcnkgZGVmYXVsdHMgZm9yIE9iamVjdCAmIEFycmF5XG4gIGlmIChpc09iamVjdChkZWYpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ0ludmFsaWQgZGVmYXVsdCB2YWx1ZSBmb3IgcHJvcCBcIicgKyBrZXkgKyAnXCI6ICcgK1xuICAgICAgJ1Byb3BzIHdpdGggdHlwZSBPYmplY3QvQXJyYXkgbXVzdCB1c2UgYSBmYWN0b3J5IGZ1bmN0aW9uICcgK1xuICAgICAgJ3RvIHJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZS4nLFxuICAgICAgdm1cbiAgICApO1xuICB9XG4gIC8vIHRoZSByYXcgcHJvcCB2YWx1ZSB3YXMgYWxzbyB1bmRlZmluZWQgZnJvbSBwcmV2aW91cyByZW5kZXIsXG4gIC8vIHJldHVybiBwcmV2aW91cyBkZWZhdWx0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhdGNoZXIgdHJpZ2dlclxuICBpZiAodm0gJiYgdm0uJG9wdGlvbnMucHJvcHNEYXRhICYmXG4gICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxuICAgIHZtW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2bVtrZXldXG4gIH1cbiAgLy8gY2FsbCBmYWN0b3J5IGZ1bmN0aW9uIGZvciBub24tRnVuY3Rpb24gdHlwZXNcbiAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgcHJvcC50eXBlICE9PSBGdW5jdGlvblxuICAgID8gZGVmLmNhbGwodm0pXG4gICAgOiBkZWZcbn1cblxuLyoqXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFByb3AgKFxuICBwcm9wLFxuICBuYW1lLFxuICB2YWx1ZSxcbiAgdm0sXG4gIGFic2VudFxuKSB7XG4gIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkge1xuICAgIHdhcm4oXG4gICAgICAnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciB0eXBlID0gcHJvcC50eXBlO1xuICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlO1xuICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICBpZiAodHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZSA9IFt0eXBlXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xuICAgICAgdmFyIGFzc2VydGVkVHlwZSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGFzc2VydGVkVHlwZS5leHBlY3RlZFR5cGUpO1xuICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XG4gICAgfVxuICB9XG4gIGlmICghdmFsaWQpIHtcbiAgICB3YXJuKFxuICAgICAgJ0ludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nICtcbiAgICAgICcgRXhwZWN0ZWQgJyArIGV4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJykgK1xuICAgICAgJywgZ290ICcgKyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSArICcuJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgdmFsaWRhdG9yID0gcHJvcC52YWxpZGF0b3I7XG4gIGlmICh2YWxpZGF0b3IpIHtcbiAgICBpZiAoIXZhbGlkYXRvcih2YWx1ZSkpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoZSB0eXBlIG9mIGEgdmFsdWVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSAodmFsdWUsIHR5cGUpIHtcbiAgdmFyIHZhbGlkO1xuICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ1N0cmluZycpIHtcbiAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdzdHJpbmcnKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnbnVtYmVyJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQm9vbGVhbicpIHtcbiAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdib29sZWFuJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnRnVuY3Rpb24nKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnZnVuY3Rpb24nKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XG4gICAgdmFsaWQgPSBpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcbiAgICB2YWxpZCA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQ6IHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZTogZXhwZWN0ZWRUeXBlXG4gIH1cbn1cblxuLyoqXG4gKiBVc2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgYnVpbHQtaW4gdHlwZXMsXG4gKiBiZWNhdXNlIGEgc2ltcGxlIGVxdWFsaXR5IGNoZWNrIHdpbGwgZmFpbCB3aGVuIHJ1bm5pbmdcbiAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZSAoZm4pIHtcbiAgdmFyIG1hdGNoID0gZm4gJiYgZm4udG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdXG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhblR5cGUgKGZuKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpIHtcbiAgICByZXR1cm4gZ2V0VHlwZShmbikgPT09ICdCb29sZWFuJ1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChnZXRUeXBlKGZuW2ldKSA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2Vcbn1cblxuXG5cbnZhciB1dGlsID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMSxcblx0X3RvU3RyaW5nOiBfdG9TdHJpbmcsXG5cdHRvTnVtYmVyOiB0b051bWJlcixcblx0bWFrZU1hcDogbWFrZU1hcCxcblx0aXNCdWlsdEluVGFnOiBpc0J1aWx0SW5UYWcsXG5cdHJlbW92ZTogcmVtb3ZlJDEsXG5cdGhhc093bjogaGFzT3duLFxuXHRpc1ByaW1pdGl2ZTogaXNQcmltaXRpdmUsXG5cdGNhY2hlZDogY2FjaGVkLFxuXHRjYW1lbGl6ZTogY2FtZWxpemUsXG5cdGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG5cdGh5cGhlbmF0ZTogaHlwaGVuYXRlLFxuXHRiaW5kOiBiaW5kJDEsXG5cdHRvQXJyYXk6IHRvQXJyYXksXG5cdGV4dGVuZDogZXh0ZW5kLFxuXHRpc09iamVjdDogaXNPYmplY3QsXG5cdGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG5cdHRvT2JqZWN0OiB0b09iamVjdCxcblx0bm9vcDogbm9vcCxcblx0bm86IG5vLFxuXHRnZW5TdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzLFxuXHRsb29zZUVxdWFsOiBsb29zZUVxdWFsLFxuXHRsb29zZUluZGV4T2Y6IGxvb3NlSW5kZXhPZixcblx0aXNSZXNlcnZlZDogaXNSZXNlcnZlZCxcblx0ZGVmOiBkZWYsXG5cdHBhcnNlUGF0aDogcGFyc2VQYXRoLFxuXHRoYXNQcm90bzogaGFzUHJvdG8sXG5cdGluQnJvd3NlcjogaW5Ccm93c2VyLFxuXHRVQTogVUEsXG5cdGlzSUU6IGlzSUUsXG5cdGlzSUU5OiBpc0lFOSxcblx0aXNFZGdlOiBpc0VkZ2UsXG5cdGlzQW5kcm9pZDogaXNBbmRyb2lkLFxuXHRpc0lPUzogaXNJT1MsXG5cdGlzU2VydmVyUmVuZGVyaW5nOiBpc1NlcnZlclJlbmRlcmluZyxcblx0ZGV2dG9vbHM6IGRldnRvb2xzLFxuXHRuZXh0VGljazogbmV4dFRpY2ssXG5cdGdldCBfU2V0ICgpIHsgcmV0dXJuIF9TZXQ7IH0sXG5cdG1lcmdlT3B0aW9uczogbWVyZ2VPcHRpb25zLFxuXHRyZXNvbHZlQXNzZXQ6IHJlc29sdmVBc3NldCxcblx0Z2V0IHdhcm4gKCkgeyByZXR1cm4gd2FybjsgfSxcblx0Z2V0IGZvcm1hdENvbXBvbmVudE5hbWUgKCkgeyByZXR1cm4gZm9ybWF0Q29tcG9uZW50TmFtZTsgfSxcblx0dmFsaWRhdGVQcm9wOiB2YWxpZGF0ZVByb3Bcbn0pO1xuXG4vKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblxudmFyIGluaXRQcm94eTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcbiAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcbiAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG4gICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcbiAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuICApO1xuXG4gIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG4gICAgICBcInJlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRvIGRlY2xhcmUgcmVhY3RpdmUgZGF0YSBcIiArXG4gICAgICBcInByb3BlcnRpZXMgaW4gdGhlIGRhdGEgb3B0aW9uLlwiLFxuICAgICAgdGFyZ2V0XG4gICAgKTtcbiAgfTtcblxuICB2YXIgaGFzUHJveHkgPVxuICAgIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBQcm94eS50b1N0cmluZygpLm1hdGNoKC9uYXRpdmUgY29kZS8pO1xuXG4gIHZhciBoYXNIYW5kbGVyID0ge1xuICAgIGhhczogZnVuY3Rpb24gaGFzICh0YXJnZXQsIGtleSkge1xuICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gYWxsb3dlZEdsb2JhbHMoa2V5KSB8fCBrZXkuY2hhckF0KDApID09PSAnXyc7XG4gICAgICBpZiAoIWhhcyAmJiAhaXNBbGxvd2VkKSB7XG4gICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXMgfHwgIWlzQWxsb3dlZFxuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0SGFuZGxlciA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG4gICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXRba2V5XVxuICAgIH1cbiAgfTtcblxuICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkgKHZtKSB7XG4gICAgaWYgKGhhc1Byb3h5KSB7XG4gICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2VcbiAgICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBvcHRpb25zLnJlbmRlciAmJiBvcHRpb25zLnJlbmRlci5fd2l0aFN0cmlwcGVkXG4gICAgICAgID8gZ2V0SGFuZGxlclxuICAgICAgICA6IGhhc0hhbmRsZXI7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSBuZXcgUHJveHkodm0sIGhhbmRsZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG4gICAgfVxuICB9O1xufVxuXG4vKiAgKi9cblxuXG52YXIgcXVldWUgPSBbXTtcbnZhciBoYXMkMSA9IHt9O1xudmFyIGNpcmN1bGFyID0ge307XG52YXIgd2FpdGluZyA9IGZhbHNlO1xudmFyIGZsdXNoaW5nID0gZmFsc2U7XG52YXIgaW5kZXggPSAwO1xuXG4vKipcbiAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gcmVzZXRTY2hlZHVsZXJTdGF0ZSAoKSB7XG4gIHF1ZXVlLmxlbmd0aCA9IDA7XG4gIGhhcyQxID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2lyY3VsYXIgPSB7fTtcbiAgfVxuICB3YWl0aW5nID0gZmx1c2hpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBGbHVzaCBib3RoIHF1ZXVlcyBhbmQgcnVuIHRoZSB3YXRjaGVycy5cbiAqL1xuZnVuY3Rpb24gZmx1c2hTY2hlZHVsZXJRdWV1ZSAoKSB7XG4gIGZsdXNoaW5nID0gdHJ1ZTtcblxuICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cbiAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcbiAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxuICAvLyAyLiBBIGNvbXBvbmVudCdzIHVzZXIgd2F0Y2hlcnMgYXJlIHJ1biBiZWZvcmUgaXRzIHJlbmRlciB3YXRjaGVyIChiZWNhdXNlXG4gIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcilcbiAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcbiAgLy8gICAgaXRzIHdhdGNoZXJzIGNhbiBiZSBza2lwcGVkLlxuICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XG5cbiAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkXG4gIC8vIGFzIHdlIHJ1biBleGlzdGluZyB3YXRjaGVyc1xuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBxdWV1ZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgd2F0Y2hlciA9IHF1ZXVlW2luZGV4XTtcbiAgICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuICAgIGhhcyQxW2lkXSA9IG51bGw7XG4gICAgd2F0Y2hlci5ydW4oKTtcbiAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzJDFbaWRdICE9IG51bGwpIHtcbiAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxO1xuICAgICAgaWYgKGNpcmN1bGFyW2lkXSA+IGNvbmZpZy5fbWF4VXBkYXRlQ291bnQpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgKyAoXG4gICAgICAgICAgICB3YXRjaGVyLnVzZXJcbiAgICAgICAgICAgICAgPyAoXCJpbiB3YXRjaGVyIHdpdGggZXhwcmVzc2lvbiBcXFwiXCIgKyAod2F0Y2hlci5leHByZXNzaW9uKSArIFwiXFxcIlwiKVxuICAgICAgICAgICAgICA6IFwiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3YXRjaGVyLnZtXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gZGV2dG9vbCBob29rXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XG4gICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcbiAgfVxuXG4gIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTtcbn1cblxuLyoqXG4gKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLlxuICogSm9icyB3aXRoIGR1cGxpY2F0ZSBJRHMgd2lsbCBiZSBza2lwcGVkIHVubGVzcyBpdCdzXG4gKiBwdXNoZWQgd2hlbiB0aGUgcXVldWUgaXMgYmVpbmcgZmx1c2hlZC5cbiAqL1xuZnVuY3Rpb24gcXVldWVXYXRjaGVyICh3YXRjaGVyKSB7XG4gIHZhciBpZCA9IHdhdGNoZXIuaWQ7XG4gIGlmIChoYXMkMVtpZF0gPT0gbnVsbCkge1xuICAgIGhhcyQxW2lkXSA9IHRydWU7XG4gICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgcXVldWUucHVzaCh3YXRjaGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxuICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cbiAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpID49IDAgJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShNYXRoLm1heChpLCBpbmRleCkgKyAxLCAwLCB3YXRjaGVyKTtcbiAgICB9XG4gICAgLy8gcXVldWUgdGhlIGZsdXNoXG4gICAgaWYgKCF3YWl0aW5nKSB7XG4gICAgICB3YWl0aW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIHVpZCQyID0gMDtcblxuLyoqXG4gKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcbiAqIGFuZCBmaXJlcyBjYWxsYmFjayB3aGVuIHRoZSBleHByZXNzaW9uIHZhbHVlIGNoYW5nZXMuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy5cbiAqL1xudmFyIFdhdGNoZXIgPSBmdW5jdGlvbiBXYXRjaGVyIChcbiAgdm0sXG4gIGV4cE9yRm4sXG4gIGNiLFxuICBvcHRpb25zXG4pIHtcbiAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdGhpcy52bSA9IHZtO1xuICB2bS5fd2F0Y2hlcnMucHVzaCh0aGlzKTtcbiAgLy8gb3B0aW9uc1xuICB0aGlzLmRlZXAgPSAhIW9wdGlvbnMuZGVlcDtcbiAgdGhpcy51c2VyID0gISFvcHRpb25zLnVzZXI7XG4gIHRoaXMubGF6eSA9ICEhb3B0aW9ucy5sYXp5O1xuICB0aGlzLnN5bmMgPSAhIW9wdGlvbnMuc3luYztcbiAgdGhpcy5leHByZXNzaW9uID0gZXhwT3JGbi50b1N0cmluZygpO1xuICB0aGlzLmNiID0gY2I7XG4gIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nXG4gIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5kaXJ0eSA9IHRoaXMubGF6eTsgLy8gZm9yIGxhenkgd2F0Y2hlcnNcbiAgdGhpcy5kZXBzID0gW107XG4gIHRoaXMubmV3RGVwcyA9IFtdO1xuICB0aGlzLmRlcElkcyA9IG5ldyBfU2V0KCk7XG4gIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcbiAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG4gIGlmICh0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmdldHRlciA9IHBhcnNlUGF0aChleHBPckZuKTtcbiAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG4gICAgICB0aGlzLmdldHRlciA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkZhaWxlZCB3YXRjaGluZyBwYXRoOiBcXFwiXCIgKyBleHBPckZuICsgXCJcXFwiIFwiICtcbiAgICAgICAgJ1dhdGNoZXIgb25seSBhY2NlcHRzIHNpbXBsZSBkb3QtZGVsaW1pdGVkIHBhdGhzLiAnICtcbiAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHRoaXMudmFsdWUgPSB0aGlzLmxhenlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogdGhpcy5nZXQoKTtcbn07XG5cbi8qKlxuICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKCkge1xuICBwdXNoVGFyZ2V0KHRoaXMpO1xuICB2YXIgdmFsdWUgPSB0aGlzLmdldHRlci5jYWxsKHRoaXMudm0sIHRoaXMudm0pO1xuICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcbiAgLy8gZGVwZW5kZW5jaWVzIGZvciBkZWVwIHdhdGNoaW5nXG4gIGlmICh0aGlzLmRlZXApIHtcbiAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gIH1cbiAgcG9wVGFyZ2V0KCk7XG4gIHRoaXMuY2xlYW51cERlcHMoKTtcbiAgcmV0dXJuIHZhbHVlXG59O1xuXG4vKipcbiAqIEFkZCBhIGRlcGVuZGVuY3kgdG8gdGhpcyBkaXJlY3RpdmUuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmFkZERlcCA9IGZ1bmN0aW9uIGFkZERlcCAoZGVwKSB7XG4gIHZhciBpZCA9IGRlcC5pZDtcbiAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoaWQpKSB7XG4gICAgdGhpcy5uZXdEZXBJZHMuYWRkKGlkKTtcbiAgICB0aGlzLm5ld0RlcHMucHVzaChkZXApO1xuICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkge1xuICAgICAgZGVwLmFkZFN1Yih0aGlzKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgZm9yIGRlcGVuZGVuY3kgY29sbGVjdGlvbi5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuY2xlYW51cERlcHMgPSBmdW5jdGlvbiBjbGVhbnVwRGVwcyAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGRlcCA9IHRoaXMkMS5kZXBzW2ldO1xuICAgIGlmICghdGhpcyQxLm5ld0RlcElkcy5oYXMoZGVwLmlkKSkge1xuICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzJDEpO1xuICAgIH1cbiAgfVxuICB2YXIgdG1wID0gdGhpcy5kZXBJZHM7XG4gIHRoaXMuZGVwSWRzID0gdGhpcy5uZXdEZXBJZHM7XG4gIHRoaXMubmV3RGVwSWRzID0gdG1wO1xuICB0aGlzLm5ld0RlcElkcy5jbGVhcigpO1xuICB0bXAgPSB0aGlzLmRlcHM7XG4gIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwcztcbiAgdGhpcy5uZXdEZXBzID0gdG1wO1xuICB0aGlzLm5ld0RlcHMubGVuZ3RoID0gMDtcbn07XG5cbi8qKlxuICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodGhpcy5sYXp5KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH0gZWxzZSBpZiAodGhpcy5zeW5jKSB7XG4gICAgdGhpcy5ydW4oKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVdhdGNoZXIodGhpcyk7XG4gIH1cbn07XG5cbi8qKlxuICogU2NoZWR1bGVyIGpvYiBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKCkge1xuICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZSAhPT0gdGhpcy52YWx1ZSB8fFxuICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuXG4gICAgICAvLyB3aGVuIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSwgYmVjYXVzZSB0aGUgdmFsdWUgbWF5XG4gICAgICAvLyBoYXZlIG11dGF0ZWQuXG4gICAgICBpc09iamVjdCh2YWx1ZSkgfHxcbiAgICAgIHRoaXMuZGVlcFxuICAgICkge1xuICAgICAgLy8gc2V0IG5ldyB2YWx1ZVxuICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGlmICh0aGlzLnVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgICAgIChcIkVycm9yIGluIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIiksXG4gICAgICAgICAgICB0aGlzLnZtXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdGhpcy52bSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXG4gKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkge1xuICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcbiAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICB0aGlzJDEuZGVwc1tpXS5kZXBlbmQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmUgc2VsZiBmcm9tIGFsbCBkZXBlbmRlbmNpZXMnIHN1YnNjcmliZXIgbGlzdC5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiB0ZWFyZG93biAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcbiAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkIG9yIGlzIHBlcmZvcm1pbmcgYSB2LWZvclxuICAgIC8vIHJlLXJlbmRlciAodGhlIHdhdGNoZXIgbGlzdCBpcyB0aGVuIGZpbHRlcmVkIGJ5IHYtZm9yKS5cbiAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXRoaXMudm0uX3ZGb3JSZW1vdmluZykge1xuICAgICAgcmVtb3ZlJDEodGhpcy52bS5fd2F0Y2hlcnMsIHRoaXMpO1xuICAgIH1cbiAgICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdGhpcyQxLmRlcHNbaV0ucmVtb3ZlU3ViKHRoaXMkMSk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgYW4gb2JqZWN0IHRvIGV2b2tlIGFsbCBjb252ZXJ0ZWRcbiAqIGdldHRlcnMsIHNvIHRoYXQgZXZlcnkgbmVzdGVkIHByb3BlcnR5IGluc2lkZSB0aGUgb2JqZWN0XG4gKiBpcyBjb2xsZWN0ZWQgYXMgYSBcImRlZXBcIiBkZXBlbmRlbmN5LlxuICovXG52YXIgc2Vlbk9iamVjdHMgPSBuZXcgX1NldCgpO1xuZnVuY3Rpb24gdHJhdmVyc2UgKHZhbCkge1xuICBzZWVuT2JqZWN0cy5jbGVhcigpO1xuICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7XG59XG5cbmZ1bmN0aW9uIF90cmF2ZXJzZSAodmFsLCBzZWVuKSB7XG4gIHZhciBpLCBrZXlzO1xuICB2YXIgaXNBID0gQXJyYXkuaXNBcnJheSh2YWwpO1xuICBpZiAoKCFpc0EgJiYgIWlzT2JqZWN0KHZhbCkpIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbCkpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsLl9fb2JfXykge1xuICAgIHZhciBkZXBJZCA9IHZhbC5fX29iX18uZGVwLmlkO1xuICAgIGlmIChzZWVuLmhhcyhkZXBJZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZWVuLmFkZChkZXBJZCk7XG4gIH1cbiAgaWYgKGlzQSkge1xuICAgIGkgPSB2YWwubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtpXSwgc2Vlbik7IH1cbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICBpID0ga2V5cy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkgeyBfdHJhdmVyc2UodmFsW2tleXNbaV1dLCBzZWVuKTsgfVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0U3RhdGUgKHZtKSB7XG4gIHZtLl93YXRjaGVycyA9IFtdO1xuICBpbml0UHJvcHModm0pO1xuICBpbml0RGF0YSh2bSk7XG4gIGluaXRDb21wdXRlZCh2bSk7XG4gIGluaXRNZXRob2RzKHZtKTtcbiAgaW5pdFdhdGNoKHZtKTtcbn1cblxudmFyIGlzUmVzZXJ2ZWRQcm9wID0gbWFrZU1hcCgna2V5LHJlZixzbG90Jyk7XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyAodm0pIHtcbiAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG4gIGlmIChwcm9wcykge1xuICAgIHZhciBwcm9wc0RhdGEgPSB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgfHwge307XG4gICAgdmFyIGtleXMgPSB2bS4kb3B0aW9ucy5fcHJvcEtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gICAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50O1xuICAgIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IGlzUm9vdDtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgIChcIlxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhIHJlc2VydmVkIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IHByb3AuXCIpLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHZhbGlkYXRlUHJvcChrZXksIHByb3BzLCBwcm9wc0RhdGEsIHZtKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh2bS4kcGFyZW50ICYmICFvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzKSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXG4gICAgICAgICAgICAgIFwib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gXCIgK1xuICAgICAgICAgICAgICBcIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyBcIiArXG4gICAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiICsga2V5ICsgXCJcXFwiXCIsXG4gICAgICAgICAgICAgIHZtXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wcywgcHJvcHNEYXRhLCB2bSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhICh2bSkge1xuICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7XG4gIGRhdGEgPSB2bS5fZGF0YSA9IHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nXG4gICAgPyBkYXRhLmNhbGwodm0pXG4gICAgOiBkYXRhIHx8IHt9O1xuICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICBkYXRhID0ge307XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIGlmIChwcm9wcyAmJiBoYXNPd24ocHJvcHMsIGtleXNbaV0pKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiVGhlIGRhdGEgcHJvcGVydHkgXFxcIlwiICsgKGtleXNbaV0pICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIiArXG4gICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJveHkodm0sIGtleXNbaV0pO1xuICAgIH1cbiAgfVxuICAvLyBvYnNlcnZlIGRhdGFcbiAgb2JzZXJ2ZShkYXRhKTtcbiAgZGF0YS5fX29iX18gJiYgZGF0YS5fX29iX18udm1Db3VudCsrO1xufVxuXG52YXIgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uID0ge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogbm9vcCxcbiAgc2V0OiBub29wXG59O1xuXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQgKHZtKSB7XG4gIHZhciBjb21wdXRlZCA9IHZtLiRvcHRpb25zLmNvbXB1dGVkO1xuICBpZiAoY29tcHV0ZWQpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29tcHV0ZWQpIHtcbiAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gbWFrZUNvbXB1dGVkR2V0dGVyKHVzZXJEZWYsIHZtKTtcbiAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLnNldCA9IG5vb3A7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gdXNlckRlZi5nZXRcbiAgICAgICAgICA/IHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG4gICAgICAgICAgICA/IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLmdldCwgdm0pXG4gICAgICAgICAgICA6IGJpbmQkMSh1c2VyRGVmLmdldCwgdm0pXG4gICAgICAgICAgOiBub29wO1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uc2V0ID0gdXNlckRlZi5zZXRcbiAgICAgICAgICA/IGJpbmQkMSh1c2VyRGVmLnNldCwgdm0pXG4gICAgICAgICAgOiBub29wO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VDb21wdXRlZEdldHRlciAoZ2V0dGVyLCBvd25lcikge1xuICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKG93bmVyLCBnZXR0ZXIsIG5vb3AsIHtcbiAgICBsYXp5OiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7XG4gICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgfVxuICAgIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgICB3YXRjaGVyLmRlcGVuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gd2F0Y2hlci52YWx1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRNZXRob2RzICh2bSkge1xuICB2YXIgbWV0aG9kcyA9IHZtLiRvcHRpb25zLm1ldGhvZHM7XG4gIGlmIChtZXRob2RzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIHZtW2tleV0gPSBtZXRob2RzW2tleV0gPT0gbnVsbCA/IG5vb3AgOiBiaW5kJDEobWV0aG9kc1trZXldLCB2bSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBtZXRob2RzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwibWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9cIixcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0V2F0Y2ggKHZtKSB7XG4gIHZhciB3YXRjaCA9IHZtLiRvcHRpb25zLndhdGNoO1xuICBpZiAod2F0Y2gpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gd2F0Y2gpIHtcbiAgICAgIHZhciBoYW5kbGVyID0gd2F0Y2hba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcltpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIgKHZtLCBrZXksIGhhbmRsZXIpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIGlmIChpc1BsYWluT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgb3B0aW9ucyA9IGhhbmRsZXI7XG4gICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjtcbiAgfVxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdO1xuICB9XG4gIHZtLiR3YXRjaChrZXksIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBzdGF0ZU1peGluIChWdWUpIHtcbiAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XG4gIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxuICAvLyB0aGUgb2JqZWN0IGhlcmUuXG4gIHZhciBkYXRhRGVmID0ge307XG4gIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhXG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZGF0YURlZi5zZXQgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0F2b2lkIHJlcGxhY2luZyBpbnN0YW5jZSByb290ICRkYXRhLiAnICtcbiAgICAgICAgJ1VzZSBuZXN0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluc3RlYWQuJyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcblxuICBWdWUucHJvdG90eXBlLiRzZXQgPSBzZXQ7XG4gIFZ1ZS5wcm90b3R5cGUuJGRlbGV0ZSA9IGRlbDtcblxuICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uIChcbiAgICBleHBPckZuLFxuICAgIGNiLFxuICAgIG9wdGlvbnNcbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnVzZXIgPSB0cnVlO1xuICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHtcbiAgICAgIHdhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3h5ICh2bSwga2V5KSB7XG4gIGlmICghaXNSZXNlcnZlZChrZXkpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHtcbiAgICAgICAgcmV0dXJuIHZtLl9kYXRhW2tleV1cbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHtcbiAgICAgICAgdm0uX2RhdGFba2V5XSA9IHZhbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUgKFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuLFxuICB0ZXh0LFxuICBlbG0sXG4gIG5zLFxuICBjb250ZXh0LFxuICBjb21wb25lbnRPcHRpb25zXG4pIHtcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgdGhpcy5lbG0gPSBlbG07XG4gIHRoaXMubnMgPSBucztcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5mdW5jdGlvbmFsQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5rZXkgPSBkYXRhICYmIGRhdGEua2V5O1xuICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xuICB0aGlzLmNoaWxkID0gdW5kZWZpbmVkO1xuICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5yYXcgPSBmYWxzZTtcbiAgdGhpcy5pc1N0YXRpYyA9IGZhbHNlO1xuICB0aGlzLmlzUm9vdEluc2VydCA9IHRydWU7XG4gIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XG4gIHRoaXMuaXNDbG9uZWQgPSBmYWxzZTtcbiAgdGhpcy5pc09uY2UgPSBmYWxzZTtcbn07XG5cbnZhciBlbXB0eVZOb2RlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xuICBub2RlLnRleHQgPSAnJztcbiAgbm9kZS5pc0NvbW1lbnQgPSB0cnVlO1xuICByZXR1cm4gbm9kZVxufTtcblxuLy8gb3B0aW1pemVkIHNoYWxsb3cgY2xvbmVcbi8vIHVzZWQgZm9yIHN0YXRpYyBub2RlcyBhbmQgc2xvdCBub2RlcyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJldXNlZCBhY3Jvc3Ncbi8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseVxuLy8gb24gdGhlaXIgZWxtIHJlZmVyZW5jZS5cbmZ1bmN0aW9uIGNsb25lVk5vZGUgKHZub2RlKSB7XG4gIHZhciBjbG9uZWQgPSBuZXcgVk5vZGUoXG4gICAgdm5vZGUudGFnLFxuICAgIHZub2RlLmRhdGEsXG4gICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgdm5vZGUudGV4dCxcbiAgICB2bm9kZS5lbG0sXG4gICAgdm5vZGUubnMsXG4gICAgdm5vZGUuY29udGV4dCxcbiAgICB2bm9kZS5jb21wb25lbnRPcHRpb25zXG4gICk7XG4gIGNsb25lZC5pc1N0YXRpYyA9IHZub2RlLmlzU3RhdGljO1xuICBjbG9uZWQua2V5ID0gdm5vZGUua2V5O1xuICBjbG9uZWQuaXNDbG9uZWQgPSB0cnVlO1xuICByZXR1cm4gY2xvbmVkXG59XG5cbmZ1bmN0aW9uIGNsb25lVk5vZGVzICh2bm9kZXMpIHtcbiAgdmFyIHJlcyA9IG5ldyBBcnJheSh2bm9kZXMubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXNbaV0gPSBjbG9uZVZOb2RlKHZub2Rlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2sgKGRlZiwgaG9va0tleSwgaG9vaywga2V5KSB7XG4gIGtleSA9IGtleSArIGhvb2tLZXk7XG4gIHZhciBpbmplY3RlZEhhc2ggPSBkZWYuX19pbmplY3RlZCB8fCAoZGVmLl9faW5qZWN0ZWQgPSB7fSk7XG4gIGlmICghaW5qZWN0ZWRIYXNoW2tleV0pIHtcbiAgICBpbmplY3RlZEhhc2hba2V5XSA9IHRydWU7XG4gICAgdmFyIG9sZEhvb2sgPSBkZWZbaG9va0tleV07XG4gICAgaWYgKG9sZEhvb2spIHtcbiAgICAgIGRlZltob29rS2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2xkSG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBob29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZbaG9va0tleV0gPSBob29rO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzIChcbiAgb24sXG4gIG9sZE9uLFxuICBhZGQsXG4gIHJlbW92ZSQkMSxcbiAgdm1cbikge1xuICB2YXIgbmFtZSwgY3VyLCBvbGQsIGZuLCBldmVudCwgY2FwdHVyZTtcbiAgZm9yIChuYW1lIGluIG9uKSB7XG4gICAgY3VyID0gb25bbmFtZV07XG4gICAgb2xkID0gb2xkT25bbmFtZV07XG4gICAgaWYgKCFjdXIpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJJbnZhbGlkIGhhbmRsZXIgZm9yIGV2ZW50IFxcXCJcIiArIG5hbWUgKyBcIlxcXCI6IGdvdCBcIiArIFN0cmluZyhjdXIpLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFvbGQpIHtcbiAgICAgIGNhcHR1cmUgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJyEnO1xuICAgICAgZXZlbnQgPSBjYXB0dXJlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXIpKSB7XG4gICAgICAgIGFkZChldmVudCwgKGN1ci5pbnZva2VyID0gYXJySW52b2tlcihjdXIpKSwgY2FwdHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWN1ci5pbnZva2VyKSB7XG4gICAgICAgICAgZm4gPSBjdXI7XG4gICAgICAgICAgY3VyID0gb25bbmFtZV0gPSB7fTtcbiAgICAgICAgICBjdXIuZm4gPSBmbjtcbiAgICAgICAgICBjdXIuaW52b2tlciA9IGZuSW52b2tlcihjdXIpO1xuICAgICAgICB9XG4gICAgICAgIGFkZChldmVudCwgY3VyLmludm9rZXIsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9sZCkpIHtcbiAgICAgICAgb2xkLmxlbmd0aCA9IGN1ci5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7IG9sZFtpXSA9IGN1cltpXTsgfVxuICAgICAgICBvbltuYW1lXSA9IG9sZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9sZC5mbiA9IGN1cjtcbiAgICAgICAgb25bbmFtZV0gPSBvbGQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobmFtZSBpbiBvbGRPbikge1xuICAgIGlmICghb25bbmFtZV0pIHtcbiAgICAgIGV2ZW50ID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJyA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuICAgICAgcmVtb3ZlJCQxKGV2ZW50LCBvbGRPbltuYW1lXS5pbnZva2VyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJySW52b2tlciAoYXJyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgc2luZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgc2luZ2xlID8gYXJyW2ldKGV2KSA6IGFycltpXS5hcHBseShudWxsLCBhcmd1bWVudHMkMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZuSW52b2tlciAobykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIHNpbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG4gICAgc2luZ2xlID8gby5mbihldikgOiBvLmZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuIChcbiAgY2hpbGRyZW4sXG4gIG5zLFxuICBuZXN0ZWRJbmRleFxuKSB7XG4gIGlmIChpc1ByaW1pdGl2ZShjaGlsZHJlbikpIHtcbiAgICByZXR1cm4gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildXG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xuICAgICAgdmFyIGxhc3QgPSByZXNbcmVzLmxlbmd0aCAtIDFdO1xuICAgICAgLy8gIG5lc3RlZFxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIHtcbiAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBub3JtYWxpemVDaGlsZHJlbihjLCBucywgKChuZXN0ZWRJbmRleCB8fCAnJykgKyBcIl9cIiArIGkpKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKGMpKSB7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QudGV4dCkge1xuICAgICAgICAgIGxhc3QudGV4dCArPSBTdHJpbmcoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyAhPT0gJycpIHtcbiAgICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZVxuICAgICAgICAgIHJlcy5wdXNoKGNyZWF0ZVRleHRWTm9kZShjKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgICAgIGlmIChjLnRleHQgJiYgbGFzdCAmJiBsYXN0LnRleHQpIHtcbiAgICAgICAgICBpZiAoIWxhc3QuaXNDbG9uZWQpIHtcbiAgICAgICAgICAgIGxhc3QudGV4dCArPSBjLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGluaGVyaXQgcGFyZW50IG5hbWVzcGFjZVxuICAgICAgICAgIGlmIChucykge1xuICAgICAgICAgICAgYXBwbHlOUyhjLCBucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGRlZmF1bHQga2V5IGZvciBuZXN0ZWQgYXJyYXkgY2hpbGRyZW4gKGxpa2VseSBnZW5lcmF0ZWQgYnkgdi1mb3IpXG4gICAgICAgICAgaWYgKGMudGFnICYmIGMua2V5ID09IG51bGwgJiYgbmVzdGVkSW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgYy5rZXkgPSBcIl9fdmxpc3RcIiArIG5lc3RlZEluZGV4ICsgXCJfXCIgKyBpICsgXCJfX1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXMucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlICh2YWwpIHtcbiAgcmV0dXJuIG5ldyBWTm9kZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTdHJpbmcodmFsKSlcbn1cblxuZnVuY3Rpb24gYXBwbHlOUyAodm5vZGUsIG5zKSB7XG4gIGlmICh2bm9kZS50YWcgJiYgIXZub2RlLm5zKSB7XG4gICAgdm5vZGUubnMgPSBucztcbiAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGFwcGx5TlModm5vZGUuY2hpbGRyZW5baV0sIG5zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGdldEZpcnN0Q29tcG9uZW50Q2hpbGQgKGNoaWxkcmVuKSB7XG4gIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgJiYgYy5jb21wb25lbnRPcHRpb25zOyB9KVswXVxufVxuXG4vKiAgKi9cblxudmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcblxuZnVuY3Rpb24gaW5pdExpZmVjeWNsZSAodm0pIHtcbiAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcblxuICAvLyBsb2NhdGUgZmlyc3Qgbm9uLWFic3RyYWN0IHBhcmVudFxuICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG4gIGlmIChwYXJlbnQgJiYgIW9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICB3aGlsZSAocGFyZW50LiRvcHRpb25zLmFic3RyYWN0ICYmIHBhcmVudC4kcGFyZW50KSB7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDtcbiAgICB9XG4gICAgcGFyZW50LiRjaGlsZHJlbi5wdXNoKHZtKTtcbiAgfVxuXG4gIHZtLiRwYXJlbnQgPSBwYXJlbnQ7XG4gIHZtLiRyb290ID0gcGFyZW50ID8gcGFyZW50LiRyb290IDogdm07XG5cbiAgdm0uJGNoaWxkcmVuID0gW107XG4gIHZtLiRyZWZzID0ge307XG5cbiAgdm0uX3dhdGNoZXIgPSBudWxsO1xuICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcbiAgdm0uX2lzTW91bnRlZCA9IGZhbHNlO1xuICB2bS5faXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbGlmZWN5Y2xlTWl4aW4gKFZ1ZSkge1xuICBWdWUucHJvdG90eXBlLl9tb3VudCA9IGZ1bmN0aW9uIChcbiAgICBlbCxcbiAgICBoeWRyYXRpbmdcbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS4kZWwgPSBlbDtcbiAgICBpZiAoIXZtLiRvcHRpb25zLnJlbmRlcikge1xuICAgICAgdm0uJG9wdGlvbnMucmVuZGVyID0gZW1wdHlWTm9kZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodm0uJG9wdGlvbnMudGVtcGxhdGUgJiYgdm0uJG9wdGlvbnMudGVtcGxhdGUuY2hhckF0KDApICE9PSAnIycpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1lvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCBvZiBWdWUgd2hlcmUgdGhlIHRlbXBsYXRlICcgK1xuICAgICAgICAgICAgJ29wdGlvbiBpcyBub3QgYXZhaWxhYmxlLiBFaXRoZXIgcHJlLWNvbXBpbGUgdGhlIHRlbXBsYXRlcyBpbnRvICcgK1xuICAgICAgICAgICAgJ3JlbmRlciBmdW5jdGlvbnMsIG9yIHVzZSB0aGUgY29tcGlsZXItaW5jbHVkZWQgYnVpbGQuJyxcbiAgICAgICAgICAgIHZtXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ0ZhaWxlZCB0byBtb3VudCBjb21wb25lbnQ6IHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbiBub3QgZGVmaW5lZC4nLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlTW91bnQnKTtcbiAgICB2bS5fd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2bS5fdXBkYXRlKHZtLl9yZW5kZXIoKSwgaHlkcmF0aW5nKTtcbiAgICB9LCBub29wKTtcbiAgICBoeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxuICAgIC8vIG1vdW50ZWQgaXMgY2FsbGVkIGZvciByZW5kZXItY3JlYXRlZCBjaGlsZCBjb21wb25lbnRzIGluIGl0cyBpbnNlcnRlZCBob29rXG4gICAgaWYgKHZtLiR2bm9kZSA9PSBudWxsKSB7XG4gICAgICB2bS5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgIGNhbGxIb29rKHZtLCAnbW91bnRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdm1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlVXBkYXRlJyk7XG4gICAgfVxuICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XG4gICAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xuICAgIGFjdGl2ZUluc3RhbmNlID0gdm07XG4gICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcbiAgICB2bS5fdm5vZGUgPSB2bm9kZTtcbiAgICBpZiAoIXByZXZWbm9kZSkge1xuICAgICAgLy8gVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gaXMgaW5qZWN0ZWQgaW4gZW50cnkgcG9pbnRzXG4gICAgICAvLyBiYXNlZCBvbiB0aGUgcmVuZGVyaW5nIGJhY2tlbmQgdXNlZC5cbiAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyh2bS4kZWwsIHZub2RlLCBoeWRyYXRpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18ocHJldlZub2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xuICAgIC8vIHVwZGF0ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIHByZXZFbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZtLiRlbCkge1xuICAgICAgdm0uJGVsLl9fdnVlX18gPSB2bTtcbiAgICB9XG4gICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbFxuICAgIGlmICh2bS4kdm5vZGUgJiYgdm0uJHBhcmVudCAmJiB2bS4kdm5vZGUgPT09IHZtLiRwYXJlbnQuX3Zub2RlKSB7XG4gICAgICB2bS4kcGFyZW50LiRlbCA9IHZtLiRlbDtcbiAgICB9XG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIGNhbGxIb29rKHZtLCAndXBkYXRlZCcpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl91cGRhdGVGcm9tUGFyZW50ID0gZnVuY3Rpb24gKFxuICAgIHByb3BzRGF0YSxcbiAgICBsaXN0ZW5lcnMsXG4gICAgcGFyZW50Vm5vZGUsXG4gICAgcmVuZGVyQ2hpbGRyZW5cbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgaGFzQ2hpbGRyZW4gPSAhISh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gfHwgcmVuZGVyQ2hpbGRyZW4pO1xuICAgIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xuICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyXG4gICAgaWYgKHZtLl92bm9kZSkgeyAvLyB1cGRhdGUgY2hpbGQgdHJlZSdzIHBhcmVudFxuICAgICAgdm0uX3Zub2RlLnBhcmVudCA9IHBhcmVudFZub2RlO1xuICAgIH1cbiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjtcbiAgICAvLyB1cGRhdGUgcHJvcHNcbiAgICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBmYWxzZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIG9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gcHJvcEtleXNbaV07XG4gICAgICAgIHZtW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCB2bS4kb3B0aW9ucy5wcm9wcywgcHJvcHNEYXRhLCB2bSk7XG4gICAgICB9XG4gICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgbGlzdGVuZXJzXG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgdmFyIG9sZExpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gICAgICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICAgICAgdm0uX3VwZGF0ZUxpc3RlbmVycyhsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyk7XG4gICAgfVxuICAgIC8vIHJlc29sdmUgc2xvdHMgKyBmb3JjZSB1cGRhdGUgaWYgaGFzIGNoaWxkcmVuXG4gICAgaWYgKGhhc0NoaWxkcmVuKSB7XG4gICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcbiAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcbiAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcbiAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcbiAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgICByZW1vdmUkMShwYXJlbnQuJGNoaWxkcmVuLCB2bSk7XG4gICAgfVxuICAgIC8vIHRlYXJkb3duIHdhdGNoZXJzXG4gICAgaWYgKHZtLl93YXRjaGVyKSB7XG4gICAgICB2bS5fd2F0Y2hlci50ZWFyZG93bigpO1xuICAgIH1cbiAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdm0uX3dhdGNoZXJzW2ldLnRlYXJkb3duKCk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSBkYXRhIG9iXG4gICAgLy8gZnJvemVuIG9iamVjdCBtYXkgbm90IGhhdmUgb2JzZXJ2ZXIuXG4gICAgaWYgKHZtLl9kYXRhLl9fb2JfXykge1xuICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTtcbiAgICB9XG4gICAgLy8gY2FsbCB0aGUgbGFzdCBob29rLi4uXG4gICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICBjYWxsSG9vayh2bSwgJ2Rlc3Ryb3llZCcpO1xuICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuXG4gICAgdm0uJG9mZigpO1xuICAgIC8vIHJlbW92ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmICh2bS4kZWwpIHtcbiAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXG4gICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGxIb29rICh2bSwgaG9vaykge1xuICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcbiAgaWYgKGhhbmRsZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGhhbmRsZXJzW2ldLmNhbGwodm0pO1xuICAgIH1cbiAgfVxuICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XG59XG5cbi8qICAqL1xuXG52YXIgaG9va3MgPSB7IGluaXQ6IGluaXQsIHByZXBhdGNoOiBwcmVwYXRjaCwgaW5zZXJ0OiBpbnNlcnQsIGRlc3Ryb3k6IGRlc3Ryb3kkMSB9O1xudmFyIGhvb2tzVG9NZXJnZSA9IE9iamVjdC5rZXlzKGhvb2tzKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgZGF0YSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW4sXG4gIHRhZ1xuKSB7XG4gIGlmICghQ3Rvcikge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTtcbiAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7XG4gICAgQ3RvciA9IGJhc2VDdG9yLmV4dGVuZChDdG9yKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuKChcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiICsgKFN0cmluZyhDdG9yKSkpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBhc3luYyBjb21wb25lbnRcbiAgaWYgKCFDdG9yLmNpZCkge1xuICAgIGlmIChDdG9yLnJlc29sdmVkKSB7XG4gICAgICBDdG9yID0gQ3Rvci5yZXNvbHZlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgQ3RvciA9IHJlc29sdmVBc3luY0NvbXBvbmVudChDdG9yLCBiYXNlQ3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpdCdzIG9rIHRvIHF1ZXVlIHRoaXMgb24gZXZlcnkgcmVuZGVyIGJlY2F1c2VcbiAgICAgICAgLy8gJGZvcmNlVXBkYXRlIGlzIGJ1ZmZlcmVkIGJ5IHRoZSBzY2hlZHVsZXIuXG4gICAgICAgIGNvbnRleHQuJGZvcmNlVXBkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghQ3Rvcikge1xuICAgICAgICAvLyByZXR1cm4gbm90aGluZyBpZiB0aGlzIGlzIGluZGVlZCBhbiBhc3luYyBjb21wb25lbnRcbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgcGFyZW50IHVwZGF0ZS5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gcmVzb2x2ZSBjb25zdHJ1Y3RvciBvcHRpb25zIGluIGNhc2UgZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBhZnRlclxuICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb25cbiAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yKTtcblxuICBkYXRhID0gZGF0YSB8fCB7fTtcblxuICAvLyBleHRyYWN0IHByb3BzXG4gIHZhciBwcm9wc0RhdGEgPSBleHRyYWN0UHJvcHMoZGF0YSwgQ3Rvcik7XG5cbiAgLy8gZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgaWYgKEN0b3Iub3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXG4gIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzXG4gIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xuICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxuICBkYXRhLm9uID0gZGF0YS5uYXRpdmVPbjtcblxuICBpZiAoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XG4gICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZ1xuICAgIC8vIG90aGVyIHRoYW4gcHJvcHMgJiBsaXN0ZW5lcnNcbiAgICBkYXRhID0ge307XG4gIH1cblxuICAvLyBtZXJnZSBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlXG4gIG1lcmdlSG9va3MoZGF0YSk7XG5cbiAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGVcbiAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7XG4gIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcbiAgICAoXCJ2dWUtY29tcG9uZW50LVwiICsgKEN0b3IuY2lkKSArIChuYW1lID8gKFwiLVwiICsgbmFtZSkgOiAnJykpLFxuICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dCxcbiAgICB7IEN0b3I6IEN0b3IsIHByb3BzRGF0YTogcHJvcHNEYXRhLCBsaXN0ZW5lcnM6IGxpc3RlbmVycywgdGFnOiB0YWcsIGNoaWxkcmVuOiBjaGlsZHJlbiB9XG4gICk7XG4gIHJldHVybiB2bm9kZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgcHJvcHNEYXRhLFxuICBkYXRhLFxuICBjb250ZXh0LFxuICBjaGlsZHJlblxuKSB7XG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XG4gIGlmIChwcm9wT3B0aW9ucykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEpO1xuICAgIH1cbiAgfVxuICB2YXIgdm5vZGUgPSBDdG9yLm9wdGlvbnMucmVuZGVyLmNhbGwoXG4gICAgbnVsbCxcbiAgICAvLyBlbnN1cmUgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gaW4gZnVuY3Rpb25hbCBjb21wb25lbnRzXG4gICAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xuICAgIGJpbmQkMShjcmVhdGVFbGVtZW50LCB7IF9zZWxmOiBPYmplY3QuY3JlYXRlKGNvbnRleHQpIH0pLFxuICAgIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBwYXJlbnQ6IGNvbnRleHQsXG4gICAgICBjaGlsZHJlbjogbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pLFxuICAgICAgc2xvdHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVTbG90cyhjaGlsZHJlbiwgY29udGV4dCk7IH1cbiAgICB9XG4gICk7XG4gIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgdm5vZGUuZnVuY3Rpb25hbENvbnRleHQgPSBjb250ZXh0O1xuICAgIGlmIChkYXRhLnNsb3QpIHtcbiAgICAgICh2bm9kZS5kYXRhIHx8ICh2bm9kZS5kYXRhID0ge30pKS5zbG90ID0gZGF0YS5zbG90O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSAoXG4gIHZub2RlLCAvLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3RcbiAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZVxuKSB7XG4gIHZhciB2bm9kZUNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBfaXNDb21wb25lbnQ6IHRydWUsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcHJvcHNEYXRhOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhLFxuICAgIF9jb21wb25lbnRUYWc6IHZub2RlQ29tcG9uZW50T3B0aW9ucy50YWcsXG4gICAgX3BhcmVudFZub2RlOiB2bm9kZSxcbiAgICBfcGFyZW50TGlzdGVuZXJzOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzLFxuICAgIF9yZW5kZXJDaGlsZHJlbjogdm5vZGVDb21wb25lbnRPcHRpb25zLmNoaWxkcmVuXG4gIH07XG4gIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXG4gIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7XG4gIGlmIChpbmxpbmVUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMucmVuZGVyID0gaW5saW5lVGVtcGxhdGUucmVuZGVyO1xuICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zO1xuICB9XG4gIHJldHVybiBuZXcgdm5vZGVDb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykge1xuICBpZiAoIXZub2RlLmNoaWxkIHx8IHZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuICAgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSh2bm9kZSwgYWN0aXZlSW5zdGFuY2UpO1xuICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcbiAgICAvLyBrZXB0LWFsaXZlIGNvbXBvbmVudHMsIHRyZWF0IGFzIGEgcGF0Y2hcbiAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xuICAgIHByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGF0Y2ggKFxuICBvbGRWbm9kZSxcbiAgdm5vZGVcbikge1xuICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG4gIGNoaWxkLl91cGRhdGVGcm9tUGFyZW50KFxuICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXG4gICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzXG4gICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGVcbiAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxuICApO1xufVxuXG5mdW5jdGlvbiBpbnNlcnQgKHZub2RlKSB7XG4gIGlmICghdm5vZGUuY2hpbGQuX2lzTW91bnRlZCkge1xuICAgIHZub2RlLmNoaWxkLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnbW91bnRlZCcpO1xuICB9XG4gIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnYWN0aXZhdGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzdHJveSQxICh2bm9kZSkge1xuICBpZiAoIXZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuICAgIGlmICghdm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcbiAgICAgIHZub2RlLmNoaWxkLiRkZXN0cm95KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IHRydWU7XG4gICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBc3luY0NvbXBvbmVudCAoXG4gIGZhY3RvcnksXG4gIGJhc2VDdG9yLFxuICBjYlxuKSB7XG4gIGlmIChmYWN0b3J5LnJlcXVlc3RlZCkge1xuICAgIC8vIHBvb2wgY2FsbGJhY2tzXG4gICAgZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2IpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkucmVxdWVzdGVkID0gdHJ1ZTtcbiAgICB2YXIgY2JzID0gZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcbiAgICB2YXIgc3luYyA9IHRydWU7XG5cbiAgICB2YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICAgIHJlcyA9IGJhc2VDdG9yLmV4dGVuZChyZXMpO1xuICAgICAgfVxuICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcbiAgICAgIGZhY3RvcnkucmVzb2x2ZWQgPSByZXM7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tzIG9ubHkgaWYgdGhpcyBpcyBub3QgYSBzeW5jaHJvbm91cyByZXNvbHZlXG4gICAgICAvLyAoYXN5bmMgcmVzb2x2ZXMgYXJlIHNoaW1tZWQgYXMgc3luY2hyb25vdXMgZHVyaW5nIFNTUilcbiAgICAgIGlmICghc3luYykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjYnNbaV0ocmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkZhaWxlZCB0byByZXNvbHZlIGFzeW5jIGNvbXBvbmVudDogXCIgKyAoU3RyaW5nKGZhY3RvcnkpKSArXG4gICAgICAgIChyZWFzb24gPyAoXCJcXG5SZWFzb246IFwiICsgcmVhc29uKSA6ICcnKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHJlcyA9IGZhY3RvcnkocmVzb2x2ZSwgcmVqZWN0KTtcblxuICAgIC8vIGhhbmRsZSBwcm9taXNlXG4gICAgaWYgKHJlcyAmJiB0eXBlb2YgcmVzLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgIWZhY3RvcnkucmVzb2x2ZWQpIHtcbiAgICAgIHJlcy50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcbiAgICByZXR1cm4gZmFjdG9yeS5yZXNvbHZlZFxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RQcm9wcyAoZGF0YSwgQ3Rvcikge1xuICAvLyB3ZSBhcmUgb25seSBleHRyYWN0aW5nIHJhdyB2YWx1ZXMgaGVyZS5cbiAgLy8gdmFsaWRhdGlvbiBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIGNoaWxkXG4gIC8vIGNvbXBvbmVudCBpdHNlbGYuXG4gIHZhciBwcm9wT3B0aW9ucyA9IEN0b3Iub3B0aW9ucy5wcm9wcztcbiAgaWYgKCFwcm9wT3B0aW9ucykge1xuICAgIHJldHVyblxuICB9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGF0dHJzID0gZGF0YS5hdHRycztcbiAgdmFyIHByb3BzID0gZGF0YS5wcm9wcztcbiAgdmFyIGRvbVByb3BzID0gZGF0YS5kb21Qcm9wcztcbiAgaWYgKGF0dHJzIHx8IHByb3BzIHx8IGRvbVByb3BzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBhdHRycywga2V5LCBhbHRLZXkpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBkb21Qcm9wcywga2V5LCBhbHRLZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJvcCAoXG4gIHJlcyxcbiAgaGFzaCxcbiAga2V5LFxuICBhbHRLZXksXG4gIHByZXNlcnZlXG4pIHtcbiAgaWYgKGhhc2gpIHtcbiAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHtcbiAgICAgIHJlc1trZXldID0gaGFzaFtrZXldO1xuICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgICAgICBkZWxldGUgaGFzaFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGhhc2hbYWx0S2V5XTtcbiAgICAgIGlmICghcHJlc2VydmUpIHtcbiAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2tzIChkYXRhKSB7XG4gIGlmICghZGF0YS5ob29rKSB7XG4gICAgZGF0YS5ob29rID0ge307XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rc1RvTWVyZ2UubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldO1xuICAgIHZhciBmcm9tUGFyZW50ID0gZGF0YS5ob29rW2tleV07XG4gICAgdmFyIG91cnMgPSBob29rc1trZXldO1xuICAgIGRhdGEuaG9va1trZXldID0gZnJvbVBhcmVudCA/IG1lcmdlSG9vayQxKG91cnMsIGZyb21QYXJlbnQpIDogb3VycztcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2skMSAoYSwgYikge1xuICAvLyBzaW5jZSBhbGwgaG9va3MgaGF2ZSBhdCBtb3N0IHR3byBhcmdzLCB1c2UgZml4ZWQgYXJnc1xuICAvLyB0byBhdm9pZCBoYXZpbmcgdG8gdXNlIGZuLmFwcGx5KCkuXG4gIHJldHVybiBmdW5jdGlvbiAoXywgX18pIHtcbiAgICBhKF8sIF9fKTtcbiAgICBiKF8sIF9fKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gd3JhcHBlciBmdW5jdGlvbiBmb3IgcHJvdmlkaW5nIGEgbW9yZSBmbGV4aWJsZSBpbnRlcmZhY2Vcbi8vIHdpdGhvdXQgZ2V0dGluZyB5ZWxsZWQgYXQgYnkgZmxvd1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAoXG4gIHRhZyxcbiAgZGF0YSxcbiAgY2hpbGRyZW5cbikge1xuICBpZiAoZGF0YSAmJiAoQXJyYXkuaXNBcnJheShkYXRhKSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpKSB7XG4gICAgY2hpbGRyZW4gPSBkYXRhO1xuICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gbWFrZSBzdXJlIHRvIHVzZSByZWFsIGluc3RhbmNlIGluc3RlYWQgb2YgcHJveHkgYXMgY29udGV4dFxuICByZXR1cm4gX2NyZWF0ZUVsZW1lbnQodGhpcy5fc2VsZiwgdGFnLCBkYXRhLCBjaGlsZHJlbilcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnQgKFxuICBjb250ZXh0LFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuXG4pIHtcbiAgaWYgKGRhdGEgJiYgZGF0YS5fX29iX18pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXCIgK1xuICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIXRhZykge1xuICAgIC8vIGluIGNhc2Ugb2YgY29tcG9uZW50IDppcyBzZXQgdG8gZmFsc3kgdmFsdWVcbiAgICByZXR1cm4gZW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiZcbiAgICAgIHR5cGVvZiBjaGlsZHJlblswXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07XG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgfVxuICBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgQ3RvcjtcbiAgICB2YXIgbnMgPSBjb25maWcuZ2V0VGFnTmFtZXNwYWNlKHRhZyk7XG4gICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHtcbiAgICAgIC8vIHBsYXRmb3JtIGJ1aWx0LWluIGVsZW1lbnRzXG4gICAgICByZXR1cm4gbmV3IFZOb2RlKFxuICAgICAgICB0YWcsIGRhdGEsIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuLCBucyksXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkge1xuICAgICAgLy8gY29tcG9uZW50XG4gICAgICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50c1xuICAgICAgLy8gY2hlY2sgYXQgcnVudGltZSBiZWNhdXNlIGl0IG1heSBnZXQgYXNzaWduZWQgYSBuYW1lc3BhY2Ugd2hlbiBpdHNcbiAgICAgIC8vIHBhcmVudCBub3JtYWxpemVzIGNoaWxkcmVuXG4gICAgICB2YXIgY2hpbGROcyA9IHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gJ3hodG1sJyA6IG5zO1xuICAgICAgcmV0dXJuIG5ldyBWTm9kZShcbiAgICAgICAgdGFnLCBkYXRhLCBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiwgY2hpbGROcyksXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuICAgICAgKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuICAgIHJldHVybiBjcmVhdGVDb21wb25lbnQodGFnLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdFJlbmRlciAodm0pIHtcbiAgdm0uJHZub2RlID0gbnVsbDsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWVcbiAgdm0uX3Zub2RlID0gbnVsbDsgLy8gdGhlIHJvb3Qgb2YgdGhlIGNoaWxkIHRyZWVcbiAgdm0uX3N0YXRpY1RyZWVzID0gbnVsbDtcbiAgdm0uX3JlbmRlckNvbnRleHQgPSB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgJiYgdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlLmNvbnRleHQ7XG4gIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcbiAgdm0uJHNjb3BlZFNsb3RzID0ge307XG4gIC8vIGJpbmQgdGhlIHB1YmxpYyBjcmVhdGVFbGVtZW50IGZuIHRvIHRoaXMgaW5zdGFuY2VcbiAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC5cbiAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBiaW5kJDEoY3JlYXRlRWxlbWVudCwgdm0pO1xuICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcbiAgICB2bS4kbW91bnQodm0uJG9wdGlvbnMuZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS4kbmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zO1xuICAgIHZhciByZW5kZXIgPSByZWYucmVuZGVyO1xuICAgIHZhciBzdGF0aWNSZW5kZXJGbnMgPSByZWYuc3RhdGljUmVuZGVyRm5zO1xuICAgIHZhciBfcGFyZW50Vm5vZGUgPSByZWYuX3BhcmVudFZub2RlO1xuXG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIC8vIGNsb25lIHNsb3Qgbm9kZXMgb24gcmUtcmVuZGVyc1xuICAgICAgZm9yICh2YXIga2V5IGluIHZtLiRzbG90cykge1xuICAgICAgICB2bS4kc2xvdHNba2V5XSA9IGNsb25lVk5vZGVzKHZtLiRzbG90c1trZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoX3BhcmVudFZub2RlICYmIF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzKSB7XG4gICAgICB2bS4kc2NvcGVkU2xvdHMgPSBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGljUmVuZGVyRm5zICYmICF2bS5fc3RhdGljVHJlZXMpIHtcbiAgICAgIHZtLl9zdGF0aWNUcmVlcyA9IFtdO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50IHZub2RlLiB0aGlzIGFsbG93cyByZW5kZXIgZnVuY3Rpb25zIHRvIGhhdmUgYWNjZXNzXG4gICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuXG4gICAgdm0uJHZub2RlID0gX3BhcmVudFZub2RlO1xuICAgIC8vIHJlbmRlciBzZWxmXG4gICAgdmFyIHZub2RlO1xuICAgIHRyeSB7XG4gICAgICB2bm9kZSA9IHJlbmRlci5jYWxsKHZtLl9yZW5kZXJQcm94eSwgdm0uJGNyZWF0ZUVsZW1lbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oKFwiRXJyb3Igd2hlbiByZW5kZXJpbmcgXCIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCI6XCIpKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2VydmVyUmVuZGVyaW5nKCkpIHtcbiAgICAgICAgICB0aHJvdyBlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XG4gICAgICB2bm9kZSA9IHZtLl92bm9kZTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dFxuICAgIGlmICghKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdNdWx0aXBsZSByb290IG5vZGVzIHJldHVybmVkIGZyb20gcmVuZGVyIGZ1bmN0aW9uLiBSZW5kZXIgZnVuY3Rpb24gJyArXG4gICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gZW1wdHlWTm9kZSgpO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50XG4gICAgdm5vZGUucGFyZW50ID0gX3BhcmVudFZub2RlO1xuICAgIHJldHVybiB2bm9kZVxuICB9O1xuXG4gIC8vIHNob3J0aGFuZHMgdXNlZCBpbiByZW5kZXIgZnVuY3Rpb25zXG4gIFZ1ZS5wcm90b3R5cGUuX2ggPSBjcmVhdGVFbGVtZW50O1xuICAvLyB0b1N0cmluZyBmb3IgbXVzdGFjaGVzXG4gIFZ1ZS5wcm90b3R5cGUuX3MgPSBfdG9TdHJpbmc7XG4gIC8vIG51bWJlciBjb252ZXJzaW9uXG4gIFZ1ZS5wcm90b3R5cGUuX24gPSB0b051bWJlcjtcbiAgLy8gZW1wdHkgdm5vZGVcbiAgVnVlLnByb3RvdHlwZS5fZSA9IGVtcHR5Vk5vZGU7XG4gIC8vIGxvb3NlIGVxdWFsXG4gIFZ1ZS5wcm90b3R5cGUuX3EgPSBsb29zZUVxdWFsO1xuICAvLyBsb29zZSBpbmRleE9mXG4gIFZ1ZS5wcm90b3R5cGUuX2kgPSBsb29zZUluZGV4T2Y7XG5cbiAgLy8gcmVuZGVyIHN0YXRpYyB0cmVlIGJ5IGluZGV4XG4gIFZ1ZS5wcm90b3R5cGUuX20gPSBmdW5jdGlvbiByZW5kZXJTdGF0aWMgKFxuICAgIGluZGV4LFxuICAgIGlzSW5Gb3JcbiAgKSB7XG4gICAgdmFyIHRyZWUgPSB0aGlzLl9zdGF0aWNUcmVlc1tpbmRleF07XG4gICAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXG4gICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUgYnkgZG9pbmcgYSBzaGFsbG93IGNsb25lLlxuICAgIGlmICh0cmVlICYmICFpc0luRm9yKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0cmVlKVxuICAgICAgICA/IGNsb25lVk5vZGVzKHRyZWUpXG4gICAgICAgIDogY2xvbmVWTm9kZSh0cmVlKVxuICAgIH1cbiAgICAvLyBvdGhlcndpc2UsIHJlbmRlciBhIGZyZXNoIHRyZWUuXG4gICAgdHJlZSA9IHRoaXMuX3N0YXRpY1RyZWVzW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKHRoaXMuX3JlbmRlclByb3h5KTtcbiAgICBtYXJrU3RhdGljKHRyZWUsIChcIl9fc3RhdGljX19cIiArIGluZGV4KSwgZmFsc2UpO1xuICAgIHJldHVybiB0cmVlXG4gIH07XG5cbiAgLy8gbWFyayBub2RlIGFzIHN0YXRpYyAodi1vbmNlKVxuICBWdWUucHJvdG90eXBlLl9vID0gZnVuY3Rpb24gbWFya09uY2UgKFxuICAgIHRyZWUsXG4gICAgaW5kZXgsXG4gICAga2V5XG4gICkge1xuICAgIG1hcmtTdGF0aWModHJlZSwgKFwiX19vbmNlX19cIiArIGluZGV4ICsgKGtleSA/IChcIl9cIiArIGtleSkgOiBcIlwiKSksIHRydWUpO1xuICAgIHJldHVybiB0cmVlXG4gIH07XG5cbiAgZnVuY3Rpb24gbWFya1N0YXRpYyAodHJlZSwga2V5LCBpc09uY2UpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0cmVlW2ldICYmIHR5cGVvZiB0cmVlW2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyBcIl9cIiArIGkpLCBpc09uY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrU3RhdGljTm9kZSAobm9kZSwga2V5LCBpc09uY2UpIHtcbiAgICBub2RlLmlzU3RhdGljID0gdHJ1ZTtcbiAgICBub2RlLmtleSA9IGtleTtcbiAgICBub2RlLmlzT25jZSA9IGlzT25jZTtcbiAgfVxuXG4gIC8vIGZpbHRlciByZXNvbHV0aW9uIGhlbHBlclxuICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTtcbiAgVnVlLnByb3RvdHlwZS5fZiA9IGZ1bmN0aW9uIHJlc29sdmVGaWx0ZXIgKGlkKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eVxuICB9O1xuXG4gIC8vIHJlbmRlciB2LWZvclxuICBWdWUucHJvdG90eXBlLl9sID0gZnVuY3Rpb24gcmVuZGVyTGlzdCAoXG4gICAgdmFsLFxuICAgIHJlbmRlclxuICApIHtcbiAgICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbC5sZW5ndGgpO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtpXSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xuICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2tleV0sIGtleSwgaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXRcbiAgfTtcblxuICAvLyByZW5kZXJTbG90XG4gIFZ1ZS5wcm90b3R5cGUuX3QgPSBmdW5jdGlvbiAoXG4gICAgbmFtZSxcbiAgICBmYWxsYmFjayxcbiAgICBwcm9wc1xuICApIHtcbiAgICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07XG4gICAgaWYgKHNjb3BlZFNsb3RGbikgeyAvLyBzY29wZWQgc2xvdFxuICAgICAgcmV0dXJuIHNjb3BlZFNsb3RGbihwcm9wcyB8fCB7fSkgfHwgZmFsbGJhY2tcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNsb3ROb2RlcyA9IHRoaXMuJHNsb3RzW25hbWVdO1xuICAgICAgLy8gd2FybiBkdXBsaWNhdGUgc2xvdCB1c2FnZVxuICAgICAgaWYgKHNsb3ROb2RlcyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHNsb3ROb2Rlcy5fcmVuZGVyZWQgJiYgd2FybihcbiAgICAgICAgICBcIkR1cGxpY2F0ZSBwcmVzZW5jZSBvZiBzbG90IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgZm91bmQgaW4gdGhlIHNhbWUgcmVuZGVyIHRyZWUgXCIgK1xuICAgICAgICAgIFwiLSB0aGlzIHdpbGwgbGlrZWx5IGNhdXNlIHJlbmRlciBlcnJvcnMuXCIsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICBzbG90Tm9kZXMuX3JlbmRlcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbG90Tm9kZXMgfHwgZmFsbGJhY2tcbiAgICB9XG4gIH07XG5cbiAgLy8gYXBwbHkgdi1iaW5kIG9iamVjdFxuICBWdWUucHJvdG90eXBlLl9iID0gZnVuY3Rpb24gYmluZFByb3BzIChcbiAgICBkYXRhLFxuICAgIHRhZyxcbiAgICB2YWx1ZSxcbiAgICBhc1Byb3BcbiAgKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICAgJ3YtYmluZCB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0IG9yIEFycmF5IHZhbHVlJyxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywga2V5KVxuICAgICAgICAgICAgICA/IGRhdGEuZG9tUHJvcHMgfHwgKGRhdGEuZG9tUHJvcHMgPSB7fSlcbiAgICAgICAgICAgICAgOiBkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pO1xuICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfTtcblxuICAvLyBleHBvc2Ugdi1vbiBrZXlDb2Rlc1xuICBWdWUucHJvdG90eXBlLl9rID0gZnVuY3Rpb24gZ2V0S2V5Q29kZXMgKGtleSkge1xuICAgIHJldHVybiBjb25maWcua2V5Q29kZXNba2V5XVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlU2xvdHMgKFxuICByZW5kZXJDaGlsZHJlbixcbiAgY29udGV4dFxuKSB7XG4gIHZhciBzbG90cyA9IHt9O1xuICBpZiAoIXJlbmRlckNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHNsb3RzXG4gIH1cbiAgdmFyIGNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocmVuZGVyQ2hpbGRyZW4pIHx8IFtdO1xuICB2YXIgZGVmYXVsdFNsb3QgPSBbXTtcbiAgdmFyIG5hbWUsIGNoaWxkO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgLy8gbmFtZWQgc2xvdHMgc2hvdWxkIG9ubHkgYmUgcmVzcGVjdGVkIGlmIHRoZSB2bm9kZSB3YXMgcmVuZGVyZWQgaW4gdGhlXG4gICAgLy8gc2FtZSBjb250ZXh0LlxuICAgIGlmICgoY2hpbGQuY29udGV4dCA9PT0gY29udGV4dCB8fCBjaGlsZC5mdW5jdGlvbmFsQ29udGV4dCA9PT0gY29udGV4dCkgJiZcbiAgICAgICAgY2hpbGQuZGF0YSAmJiAobmFtZSA9IGNoaWxkLmRhdGEuc2xvdCkpIHtcbiAgICAgIHZhciBzbG90ID0gKHNsb3RzW25hbWVdIHx8IChzbG90c1tuYW1lXSA9IFtdKSk7XG4gICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgIHNsb3QucHVzaC5hcHBseShzbG90LCBjaGlsZC5jaGlsZHJlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0U2xvdC5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgLy8gaWdub3JlIHNpbmdsZSB3aGl0ZXNwYWNlXG4gIGlmIChkZWZhdWx0U2xvdC5sZW5ndGggJiYgIShcbiAgICBkZWZhdWx0U2xvdC5sZW5ndGggPT09IDEgJiZcbiAgICAoZGVmYXVsdFNsb3RbMF0udGV4dCA9PT0gJyAnIHx8IGRlZmF1bHRTbG90WzBdLmlzQ29tbWVudClcbiAgKSkge1xuICAgIHNsb3RzLmRlZmF1bHQgPSBkZWZhdWx0U2xvdDtcbiAgfVxuICByZXR1cm4gc2xvdHNcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRFdmVudHMgKHZtKSB7XG4gIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcbiAgdmFyIGxpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIHZhciBvbiA9IGJpbmQkMSh2bS4kb24sIHZtKTtcbiAgdmFyIG9mZiA9IGJpbmQkMSh2bS4kb2ZmLCB2bSk7XG4gIHZtLl91cGRhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpIHtcbiAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIG9uLCBvZmYsIHZtKTtcbiAgfTtcbiAgaWYgKGxpc3RlbmVycykge1xuICAgIHZtLl91cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudHNNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuJG9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7KHZtLl9ldmVudHNbZXZlbnRdIHx8ICh2bS5fZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGZ1bmN0aW9uIG9uICgpIHtcbiAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTtcbiAgICAgIGZuLmFwcGx5KHZtLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBvbi5mbiA9IGZuO1xuICAgIHZtLiRvbihldmVudCwgb24pO1xuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIC8vIGFsbFxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XG4gICAgaWYgKCFjYnMpIHtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcbiAgICB2YXIgY2I7XG4gICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNiID0gY2JzW2ldO1xuICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmIChjYnMpIHtcbiAgICAgIGNicyA9IGNicy5sZW5ndGggPiAxID8gdG9BcnJheShjYnMpIDogY2JzO1xuICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY2JzW2ldLmFwcGx5KHZtLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgdWlkID0gMDtcblxuZnVuY3Rpb24gaW5pdE1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICAvLyBhIHVpZFxuICAgIHZtLl91aWQgPSB1aWQrKztcbiAgICAvLyBhIGZsYWcgdG8gYXZvaWQgdGhpcyBiZWluZyBvYnNlcnZlZFxuICAgIHZtLl9pc1Z1ZSA9IHRydWU7XG4gICAgLy8gbWVyZ2Ugb3B0aW9uc1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuX2lzQ29tcG9uZW50KSB7XG4gICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvblxuICAgICAgLy8gc2luY2UgZHluYW1pYyBvcHRpb25zIG1lcmdpbmcgaXMgcHJldHR5IHNsb3csIGFuZCBub25lIG9mIHRoZVxuICAgICAgLy8gaW50ZXJuYWwgY29tcG9uZW50IG9wdGlvbnMgbmVlZHMgc3BlY2lhbCB0cmVhdG1lbnQuXG4gICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS4kb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksXG4gICAgICAgIG9wdGlvbnMgfHwge30sXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpbml0UHJveHkodm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcbiAgICB9XG4gICAgLy8gZXhwb3NlIHJlYWwgc2VsZlxuICAgIHZtLl9zZWxmID0gdm07XG4gICAgaW5pdExpZmVjeWNsZSh2bSk7XG4gICAgaW5pdEV2ZW50cyh2bSk7XG4gICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTtcbiAgICBpbml0U3RhdGUodm0pO1xuICAgIGNhbGxIb29rKHZtLCAnY3JlYXRlZCcpO1xuICAgIGluaXRSZW5kZXIodm0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbml0SW50ZXJuYWxDb21wb25lbnQgKHZtLCBvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpO1xuICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkeW5hbWljIGVudW1lcmF0aW9uLlxuICBvcHRzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICBvcHRzLnByb3BzRGF0YSA9IG9wdGlvbnMucHJvcHNEYXRhO1xuICBvcHRzLl9wYXJlbnRWbm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlO1xuICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIG9wdHMuX3JlbmRlckNoaWxkcmVuID0gb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW47XG4gIG9wdHMuX2NvbXBvbmVudFRhZyA9IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcbiAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG4gICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMgKEN0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIGlmIChDdG9yLnN1cGVyKSB7XG4gICAgdmFyIHN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXIub3B0aW9ucztcbiAgICB2YXIgY2FjaGVkU3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlck9wdGlvbnM7XG4gICAgdmFyIGV4dGVuZE9wdGlvbnMgPSBDdG9yLmV4dGVuZE9wdGlvbnM7XG4gICAgaWYgKHN1cGVyT3B0aW9ucyAhPT0gY2FjaGVkU3VwZXJPcHRpb25zKSB7XG4gICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZFxuICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7XG4gICAgICBleHRlbmRPcHRpb25zLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgICAgZXh0ZW5kT3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBvcHRpb25zLnN0YXRpY1JlbmRlckZucztcbiAgICAgIGV4dGVuZE9wdGlvbnMuX3Njb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xuICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIGV4dGVuZE9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuICAgICAgICBvcHRpb25zLmNvbXBvbmVudHNbb3B0aW9ucy5uYW1lXSA9IEN0b3I7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvcHRpb25zXG59XG5cbmZ1bmN0aW9uIFZ1ZSQyIChvcHRpb25zKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgISh0aGlzIGluc3RhbmNlb2YgVnVlJDIpKSB7XG4gICAgd2FybignVnVlIGlzIGEgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgYG5ld2Aga2V5d29yZCcpO1xuICB9XG4gIHRoaXMuX2luaXQob3B0aW9ucyk7XG59XG5cbmluaXRNaXhpbihWdWUkMik7XG5zdGF0ZU1peGluKFZ1ZSQyKTtcbmV2ZW50c01peGluKFZ1ZSQyKTtcbmxpZmVjeWNsZU1peGluKFZ1ZSQyKTtcbnJlbmRlck1peGluKFZ1ZSQyKTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRVc2UgKFZ1ZSkge1xuICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwbHVnaW4uaW5zdGFsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIGlmICh0eXBlb2YgcGx1Z2luLmluc3RhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsdWdpbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9XG4gICAgcGx1Z2luLmluc3RhbGxlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXNcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRNaXhpbiQxIChWdWUpIHtcbiAgVnVlLm1peGluID0gZnVuY3Rpb24gKG1peGluKSB7XG4gICAgdGhpcy5vcHRpb25zID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgbWl4aW4pO1xuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7XG4gIC8qKlxuICAgKiBFYWNoIGluc3RhbmNlIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgVnVlLCBoYXMgYSB1bmlxdWVcbiAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxuICAgKiBjb25zdHJ1Y3RvcnNcIiBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZSBhbmQgY2FjaGUgdGhlbS5cbiAgICovXG4gIFZ1ZS5jaWQgPSAwO1xuICB2YXIgY2lkID0gMTtcblxuICAvKipcbiAgICogQ2xhc3MgaW5oZXJpdGFuY2VcbiAgICovXG4gIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xuICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XG4gICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcbiAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRDdG9yc1tTdXBlcklkXVxuICAgIH1cbiAgICB2YXIgbmFtZSA9IGV4dGVuZE9wdGlvbnMubmFtZSB8fCBTdXBlci5vcHRpb25zLm5hbWU7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghL15bYS16QS1aXVtcXHctXSokLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6IFwiJyArIG5hbWUgKyAnXCIuIENvbXBvbmVudCBuYW1lcyAnICtcbiAgICAgICAgICAnY2FuIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjYXRlcnMgYW5kIHRoZSBoeXBoZW4uJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgU3ViID0gZnVuY3Rpb24gVnVlQ29tcG9uZW50IChvcHRpb25zKSB7XG4gICAgICB0aGlzLl9pbml0KG9wdGlvbnMpO1xuICAgIH07XG4gICAgU3ViLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3VwZXIucHJvdG90eXBlKTtcbiAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViO1xuICAgIFN1Yi5jaWQgPSBjaWQrKztcbiAgICBTdWIub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgIFN1cGVyLm9wdGlvbnMsXG4gICAgICBleHRlbmRPcHRpb25zXG4gICAgKTtcbiAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjtcbiAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2VcbiAgICBTdWIuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICAgIFN1Yi5taXhpbiA9IFN1cGVyLm1peGluO1xuICAgIFN1Yi51c2UgPSBTdXBlci51c2U7XG4gICAgLy8gY3JlYXRlIGFzc2V0IHJlZ2lzdGVycywgc28gZXh0ZW5kZWQgY2xhc3Nlc1xuICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby5cbiAgICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XG4gICAgfSk7XG4gICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxuICAgIGlmIChuYW1lKSB7XG4gICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xuICAgIH1cbiAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzdXBlciBvcHRpb25zIGF0IGV4dGVuc2lvbiB0aW1lLlxuICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlXG4gICAgLy8gYmVlbiB1cGRhdGVkLlxuICAgIFN1Yi5zdXBlck9wdGlvbnMgPSBTdXBlci5vcHRpb25zO1xuICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucztcbiAgICAvLyBjYWNoZSBjb25zdHJ1Y3RvclxuICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViO1xuICAgIHJldHVybiBTdWJcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyAoVnVlKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYXNzZXQgcmVnaXN0cmF0aW9uIG1ldGhvZHMuXG4gICAqL1xuICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChcbiAgICAgIGlkLFxuICAgICAgZGVmaW5pdGlvblxuICAgICkge1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgY29uZmlnLmlzUmVzZXJ2ZWRUYWcoaWQpKSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcbiAgICAgICAgICAgICAgJ2lkOiAnICsgaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gZGVmaW5pdGlvbi5uYW1lIHx8IGlkO1xuICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG4vKiAgKi9cblxudmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cF07XG5cbmZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKVxuICB9XG59XG5cbnZhciBLZWVwQWxpdmUgPSB7XG4gIG5hbWU6ICdrZWVwLWFsaXZlJyxcbiAgYWJzdHJhY3Q6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLFxuICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlc1xuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKCkge1xuICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQodGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgaWYgKHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgICAgIC8vIGNoZWNrIHBhdHRlcm5cbiAgICAgIHZhciBuYW1lID0gb3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZztcbiAgICAgIGlmIChuYW1lICYmIChcbiAgICAgICAgKHRoaXMuaW5jbHVkZSAmJiAhbWF0Y2hlcyh0aGlzLmluY2x1ZGUsIG5hbWUpKSB8fFxuICAgICAgICAodGhpcy5leGNsdWRlICYmIG1hdGNoZXModGhpcy5leGNsdWRlLCBuYW1lKSlcbiAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIHZub2RlXG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGxcbiAgICAgICAgLy8gc2FtZSBjb25zdHJ1Y3RvciBtYXkgZ2V0IHJlZ2lzdGVyZWQgYXMgZGlmZmVyZW50IGxvY2FsIGNvbXBvbmVudHNcbiAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxuICAgICAgICA/IG9wdHMuQ3Rvci5jaWQgKyAob3B0cy50YWcgPyAoXCI6OlwiICsgKG9wdHMudGFnKSkgOiAnJylcbiAgICAgICAgOiB2bm9kZS5rZXk7XG4gICAgICBpZiAodGhpcy5jYWNoZVtrZXldKSB7XG4gICAgICAgIHZub2RlLmNoaWxkID0gdGhpcy5jYWNoZVtrZXldLmNoaWxkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICB9XG4gICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZVxuICB9LFxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jYWNoZSkge1xuICAgICAgdmFyIHZub2RlID0gdGhpcyQxLmNhY2hlW2tleV07XG4gICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG4gICAgICB2bm9kZS5jaGlsZC4kZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGJ1aWx0SW5Db21wb25lbnRzID0ge1xuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRHbG9iYWxBUEkgKFZ1ZSkge1xuICAvLyBjb25maWdcbiAgdmFyIGNvbmZpZ0RlZiA9IHt9O1xuICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbmZpZ0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnRG8gbm90IHJlcGxhY2UgdGhlIFZ1ZS5jb25maWcgb2JqZWN0LCBzZXQgaW5kaXZpZHVhbCBmaWVsZHMgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ2NvbmZpZycsIGNvbmZpZ0RlZik7XG4gIFZ1ZS51dGlsID0gdXRpbDtcbiAgVnVlLnNldCA9IHNldDtcbiAgVnVlLmRlbGV0ZSA9IGRlbDtcbiAgVnVlLm5leHRUaWNrID0gbmV4dFRpY2s7XG5cbiAgVnVlLm9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSk7XG5cbiAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxuICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cbiAgVnVlLm9wdGlvbnMuX2Jhc2UgPSBWdWU7XG5cbiAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcblxuICBpbml0VXNlKFZ1ZSk7XG4gIGluaXRNaXhpbiQxKFZ1ZSk7XG4gIGluaXRFeHRlbmQoVnVlKTtcbiAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XG59XG5cbmluaXRHbG9iYWxBUEkoVnVlJDIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlJDIucHJvdG90eXBlLCAnJGlzU2VydmVyJywge1xuICBnZXQ6IGlzU2VydmVyUmVuZGVyaW5nXG59KTtcblxuVnVlJDIudmVyc2lvbiA9ICcyLjEuMyc7XG5cbi8qICAqL1xuXG4vLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nXG52YXIgbXVzdFVzZVByb3AgPSBmdW5jdGlvbiAodGFnLCBhdHRyKSB7XG4gIHJldHVybiAoXG4gICAgKGF0dHIgPT09ICd2YWx1ZScgJiYgKHRhZyA9PT0gJ2lucHV0JyB8fCB0YWcgPT09ICd0ZXh0YXJlYScgfHwgdGFnID09PSAnb3B0aW9uJykpIHx8XG4gICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcbiAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcbiAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpXG4gIClcbn07XG5cbnZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XG5cbnZhciBpc0Jvb2xlYW5BdHRyID0gbWFrZU1hcChcbiAgJ2FsbG93ZnVsbHNjcmVlbixhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY2hlY2tlZCxjb21wYWN0LGNvbnRyb2xzLGRlY2xhcmUsJyArXG4gICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArXG4gICdlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLCcgK1xuICAnbXV0ZWQsbm9ocmVmLG5vcmVzaXplLG5vc2hhZGUsbm92YWxpZGF0ZSxub3dyYXAsb3BlbixwYXVzZW9uZXhpdCxyZWFkb25seSwnICtcbiAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsJyArXG4gICd0cnVlc3BlZWQsdHlwZW11c3RtYXRjaCx2aXNpYmxlJ1xuKTtcblxudmFyIGlzQXR0ciA9IG1ha2VNYXAoXG4gICdhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbHQsYXN5bmMsYXV0b2NvbXBsZXRlLCcgK1xuICAnYXV0b2ZvY3VzLGF1dG9wbGF5LGF1dG9zYXZlLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNoYWxsZW5nZSxjaGFyc2V0LCcgK1xuICAnY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsaHR0cC1lcXVpdiwnICtcbiAgJ25hbWUsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3JkcyxkYXRhLGRhdGV0aW1lLGRlZmF1bHQsJyArXG4gICdkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxtZXRob2QsZm9yLCcgK1xuICAnZm9ybSxmb3JtYWN0aW9uLGhlYWRlcnMsPHRoPixoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LCcgK1xuICAnaWNvbixpZCxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsaXN0LGxvb3AsbG93LCcgK1xuICAnbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtZWRpYSxtZXRob2QsR0VULFBPU1QsbWluLG11bHRpcGxlLGVtYWlsLGZpbGUsJyArXG4gICdtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIsJyArXG4gICdwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LCcgK1xuICAnc2NvcGUsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNoYXBlLHNpemUsdHlwZSx0ZXh0LHBhc3N3b3JkLHNpemVzLHNwYW4sJyArXG4gICdzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LCcgK1xuICAndGFyZ2V0LHRpdGxlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXAnXG4pO1xuXG5cblxudmFyIHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5cbnZhciBpc1hsaW5rID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuY2hhckF0KDUpID09PSAnOicgJiYgbmFtZS5zbGljZSgwLCA1KSA9PT0gJ3hsaW5rJ1xufTtcblxudmFyIGdldFhsaW5rUHJvcCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBpc1hsaW5rKG5hbWUpID8gbmFtZS5zbGljZSg2LCBuYW1lLmxlbmd0aCkgOiAnJ1xufTtcblxudmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IGZhbHNlXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gZ2VuQ2xhc3NGb3JWbm9kZSAodm5vZGUpIHtcbiAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xuICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XG4gIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcbiAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY2hpbGQuX3Zub2RlO1xuICAgIGlmIChjaGlsZE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGRhdGEsIHBhcmVudE5vZGUuZGF0YSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBnZW5DbGFzc0Zyb21EYXRhKGRhdGEpXG59XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NEYXRhIChjaGlsZCwgcGFyZW50KSB7XG4gIHJldHVybiB7XG4gICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSxcbiAgICBjbGFzczogY2hpbGQuY2xhc3NcbiAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdXG4gICAgICA6IHBhcmVudC5jbGFzc1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkNsYXNzRnJvbURhdGEgKGRhdGEpIHtcbiAgdmFyIGR5bmFtaWNDbGFzcyA9IGRhdGEuY2xhc3M7XG4gIHZhciBzdGF0aWNDbGFzcyA9IGRhdGEuc3RhdGljQ2xhc3M7XG4gIGlmIChzdGF0aWNDbGFzcyB8fCBkeW5hbWljQ2xhc3MpIHtcbiAgICByZXR1cm4gY29uY2F0KHN0YXRpY0NsYXNzLCBzdHJpbmdpZnlDbGFzcyhkeW5hbWljQ2xhc3MpKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiAnJ1xufVxuXG5mdW5jdGlvbiBjb25jYXQgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJylcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3MgKHZhbHVlKSB7XG4gIHZhciByZXMgPSAnJztcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiByZXNcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHZhciBzdHJpbmdpZmllZDtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHZhbHVlW2ldKSB7XG4gICAgICAgIGlmICgoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpKSB7XG4gICAgICAgICAgcmVzICs9IHN0cmluZ2lmaWVkICsgJyAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMuc2xpY2UoMCwgLTEpXG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlW2tleV0pIHsgcmVzICs9IGtleSArICcgJzsgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbnZhciBuYW1lc3BhY2VNYXAgPSB7XG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcbiAgbWF0aDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnLFxuICB4aHRtbDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnXG59O1xuXG52YXIgaXNIVE1MVGFnID0gbWFrZU1hcChcbiAgJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xuICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLCcgK1xuICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgK1xuICAncyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sJyArXG4gICdlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucywnICtcbiAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgK1xuICAnYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbiwnICtcbiAgJ291dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArXG4gICdjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlJ1xuKTtcblxudmFyIGlzVW5hcnlUYWcgPSBtYWtlTWFwKFxuICAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArXG4gICdsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdicicsXG4gIHRydWVcbik7XG5cbi8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlblxuLy8gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxudmFyIGNhbkJlTGVmdE9wZW5UYWcgPSBtYWtlTWFwKFxuICAnY29sZ3JvdXAsZGQsZHQsbGksb3B0aW9ucyxwLHRkLHRmb290LHRoLHRoZWFkLHRyLHNvdXJjZScsXG4gIHRydWVcbik7XG5cbi8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTNcbi8vIFBocmFzaW5nIENvbnRlbnQgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZG9tLmh0bWwjcGhyYXNpbmctY29udGVudFxudmFyIGlzTm9uUGhyYXNpbmdUYWcgPSBtYWtlTWFwKFxuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgK1xuICAnZGV0YWlscyxkaWFsb2csZGl2LGRsLGR0LGZpZWxkc2V0LGZpZ2NhcHRpb24sZmlndXJlLGZvb3Rlcixmb3JtLCcgK1xuICAnaDEsaDIsaDMsaDQsaDUsaDYsaGVhZCxoZWFkZXIsaGdyb3VwLGhyLGh0bWwsbGVnZW5kLGxpLG1lbnVpdGVtLG1ldGEsJyArXG4gICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArXG4gICd0aXRsZSx0cix0cmFjaycsXG4gIHRydWVcbik7XG5cbi8vIHRoaXMgbWFwIGlzIGludGVudGlvbmFsbHkgc2VsZWN0aXZlLCBvbmx5IGNvdmVyaW5nIFNWRyBlbGVtZW50cyB0aGF0IG1heVxuLy8gY29udGFpbiBjaGlsZCBlbGVtZW50cy5cbnZhciBpc1NWRyA9IG1ha2VNYXAoXG4gICdzdmcsYW5pbWF0ZSxjaXJjbGUsY2xpcHBhdGgsY3Vyc29yLGRlZnMsZGVzYyxlbGxpcHNlLGZpbHRlcixmb250LCcgK1xuICAnZm9udC1mYWNlLGcsZ2x5cGgsaW1hZ2UsbGluZSxtYXJrZXIsbWFzayxtaXNzaW5nLWdseXBoLHBhdGgscGF0dGVybiwnICtcbiAgJ3BvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXcnLFxuICB0cnVlXG4pO1xuXG5cblxudmFyIGlzUmVzZXJ2ZWRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpXG59O1xuXG5mdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykge1xuICBpZiAoaXNTVkcodGFnKSkge1xuICAgIHJldHVybiAnc3ZnJ1xuICB9XG4gIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxuICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXG4gIGlmICh0YWcgPT09ICdtYXRoJykge1xuICAgIHJldHVybiAnbWF0aCdcbiAgfVxufVxuXG52YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBpc1Vua25vd25FbGVtZW50ICh0YWcpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghaW5Ccm93c2VyKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddICE9IG51bGwpIHtcbiAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddXG4gIH1cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gKFxuICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnRcbiAgICApKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gL0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlbC50b1N0cmluZygpKSlcbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBRdWVyeSBhbiBlbGVtZW50IHNlbGVjdG9yIGlmIGl0J3Mgbm90IGFuIGVsZW1lbnQgYWxyZWFkeS5cbiAqL1xuZnVuY3Rpb24gcXVlcnkgKGVsKSB7XG4gIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gZWw7XG4gICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICBpZiAoIWVsKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICdDYW5ub3QgZmluZCBlbGVtZW50OiAnICsgc2VsZWN0b3JcbiAgICAgICk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEgKHRhZ05hbWUsIHZub2RlKSB7XG4gIHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBpZiAodGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcbiAgICByZXR1cm4gZWxtXG4gIH1cbiAgaWYgKHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS5hdHRycyAmJiAnbXVsdGlwbGUnIGluIHZub2RlLmRhdGEuYXR0cnMpIHtcbiAgICBlbG0uc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xuICB9XG4gIHJldHVybiBlbG1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TIChuYW1lc3BhY2UsIHRhZ05hbWUpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VNYXBbbmFtZXNwYWNlXSwgdGFnTmFtZSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUgKHRleHQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQgKHRleHQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dClcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlIChwYXJlbnROb2RlLCBuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDaGlsZCAobm9kZSwgY2hpbGQpIHtcbiAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkIChub2RlLCBjaGlsZCkge1xuICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50Tm9kZSAobm9kZSkge1xuICByZXR1cm4gbm9kZS5wYXJlbnROb2RlXG59XG5cbmZ1bmN0aW9uIG5leHRTaWJsaW5nIChub2RlKSB7XG4gIHJldHVybiBub2RlLm5leHRTaWJsaW5nXG59XG5cbmZ1bmN0aW9uIHRhZ05hbWUgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUudGFnTmFtZVxufVxuXG5mdW5jdGlvbiBzZXRUZXh0Q29udGVudCAobm9kZSwgdGV4dCkge1xuICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbn1cblxuZnVuY3Rpb24gY2hpbGROb2RlcyAobm9kZSkge1xuICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzXG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZSAobm9kZSwga2V5LCB2YWwpIHtcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWwpO1xufVxuXG5cbnZhciBub2RlT3BzID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcblx0Y3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG5cdGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcblx0Y3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcblx0aW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG5cdHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcblx0YXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuXHRwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuXHRuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG5cdHRhZ05hbWU6IHRhZ05hbWUsXG5cdHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcblx0Y2hpbGROb2RlczogY2hpbGROb2Rlcyxcblx0c2V0QXR0cmlidXRlOiBzZXRBdHRyaWJ1dGVcbn0pO1xuXG4vKiAgKi9cblxudmFyIHJlZiA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG4gICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgaWYgKG9sZFZub2RlLmRhdGEucmVmICE9PSB2bm9kZS5kYXRhLnJlZikge1xuICAgICAgcmVnaXN0ZXJSZWYob2xkVm5vZGUsIHRydWUpO1xuICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSAodm5vZGUpIHtcbiAgICByZWdpc3RlclJlZih2bm9kZSwgdHJ1ZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUmVmICh2bm9kZSwgaXNSZW1vdmFsKSB7XG4gIHZhciBrZXkgPSB2bm9kZS5kYXRhLnJlZjtcbiAgaWYgKCFrZXkpIHsgcmV0dXJuIH1cblxuICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xuICB2YXIgcmVmID0gdm5vZGUuY2hpbGQgfHwgdm5vZGUuZWxtO1xuICB2YXIgcmVmcyA9IHZtLiRyZWZzO1xuICBpZiAoaXNSZW1vdmFsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVmc1trZXldKSkge1xuICAgICAgcmVtb3ZlJDEocmVmc1trZXldLCByZWYpO1xuICAgIH0gZWxzZSBpZiAocmVmc1trZXldID09PSByZWYpIHtcbiAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZnNba2V5XSkgJiYgcmVmc1trZXldLmluZGV4T2YocmVmKSA8IDApIHtcbiAgICAgICAgcmVmc1trZXldLnB1c2gocmVmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZnNba2V5XSA9IFtyZWZdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWZzW2tleV0gPSByZWY7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVmlydHVhbCBET00gcGF0Y2hpbmcgYWxnb3JpdGhtIGJhc2VkIG9uIFNuYWJiZG9tIGJ5XG4gKiBTaW1vbiBGcmlpcyBWaW5kdW0gKEBwYWxkZXBpbmQpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYWxkZXBpbmQvc25hYmJkb20vYmxvYi9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKVxuICpcblxuLypcbiAqIE5vdCB0eXBlLWNoZWNraW5nIHRoaXMgYmVjYXVzZSB0aGlzIGZpbGUgaXMgcGVyZi1jcml0aWNhbCBhbmQgdGhlIGNvc3RcbiAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LlxuICovXG5cbnZhciBlbXB0eU5vZGUgPSBuZXcgVk5vZGUoJycsIHt9LCBbXSk7XG5cbnZhciBob29rcyQxID0gWydjcmVhdGUnLCAndXBkYXRlJywgJ3JlbW92ZScsICdkZXN0cm95J107XG5cbmZ1bmN0aW9uIGlzVW5kZWYgKHMpIHtcbiAgcmV0dXJuIHMgPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc0RlZiAocykge1xuICByZXR1cm4gcyAhPSBudWxsXG59XG5cbmZ1bmN0aW9uIHNhbWVWbm9kZSAodm5vZGUxLCB2bm9kZTIpIHtcbiAgcmV0dXJuIChcbiAgICB2bm9kZTEua2V5ID09PSB2bm9kZTIua2V5ICYmXG4gICAgdm5vZGUxLnRhZyA9PT0gdm5vZGUyLnRhZyAmJlxuICAgIHZub2RlMS5pc0NvbW1lbnQgPT09IHZub2RlMi5pc0NvbW1lbnQgJiZcbiAgICAhdm5vZGUxLmRhdGEgPT09ICF2bm9kZTIuZGF0YVxuICApXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVRvT2xkSWR4IChjaGlsZHJlbiwgYmVnaW5JZHgsIGVuZElkeCkge1xuICB2YXIgaSwga2V5O1xuICB2YXIgbWFwID0ge307XG4gIGZvciAoaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAga2V5ID0gY2hpbGRyZW5baV0ua2V5O1xuICAgIGlmIChpc0RlZihrZXkpKSB7IG1hcFtrZXldID0gaTsgfVxuICB9XG4gIHJldHVybiBtYXBcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGF0Y2hGdW5jdGlvbiAoYmFja2VuZCkge1xuICB2YXIgaSwgajtcbiAgdmFyIGNicyA9IHt9O1xuXG4gIHZhciBtb2R1bGVzID0gYmFja2VuZC5tb2R1bGVzO1xuICB2YXIgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wcztcblxuICBmb3IgKGkgPSAwOyBpIDwgaG9va3MkMS5sZW5ndGg7ICsraSkge1xuICAgIGNic1tob29rcyQxW2ldXSA9IFtdO1xuICAgIGZvciAoaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAobW9kdWxlc1tqXVtob29rcyQxW2ldXSAhPT0gdW5kZWZpbmVkKSB7IGNic1tob29rcyQxW2ldXS5wdXNoKG1vZHVsZXNbal1baG9va3MkMVtpXV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkge1xuICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IgKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcbiAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkge1xuICAgICAgaWYgKC0tcmVtb3ZlJCQxLmxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICByZW1vdmVFbGVtZW50KGNoaWxkRWxtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlJCQxLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICByZXR1cm4gcmVtb3ZlJCQxXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50IChlbCkge1xuICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xuICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbFxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxtICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXN0ZWQpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDtcbiAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlKTsgfVxuICAgICAgLy8gYWZ0ZXIgY2FsbGluZyB0aGUgaW5pdCBob29rLCBpZiB0aGUgdm5vZGUgaXMgYSBjaGlsZCBjb21wb25lbnRcbiAgICAgIC8vIGl0IHNob3VsZCd2ZSBjcmVhdGVkIGEgY2hpbGQgaW5zdGFuY2UgYW5kIG1vdW50ZWQgaXQuIHRoZSBjaGlsZFxuICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uXG4gICAgICAvLyBpbiB0aGF0IGNhc2Ugd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBlbGVtZW50IGFuZCBiZSBkb25lLlxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgcmV0dXJuIHZub2RlLmVsbVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICB2YXIgdGFnID0gdm5vZGUudGFnO1xuICAgIGlmIChpc0RlZih0YWcpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXZub2RlLm5zICYmXG4gICAgICAgICAgIShjb25maWcuaWdub3JlZEVsZW1lbnRzICYmIGNvbmZpZy5pZ25vcmVkRWxlbWVudHMuaW5kZXhPZih0YWcpID4gLTEpICYmXG4gICAgICAgICAgY29uZmlnLmlzVW5rbm93bkVsZW1lbnQodGFnKVxuICAgICAgICApIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1Vua25vd24gY3VzdG9tIGVsZW1lbnQ6IDwnICsgdGFnICsgJz4gLSBkaWQgeW91ICcgK1xuICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xuICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bm9kZS5lbG0gPSB2bm9kZS5uc1xuICAgICAgICA/IG5vZGVPcHMuY3JlYXRlRWxlbWVudE5TKHZub2RlLm5zLCB0YWcpXG4gICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpO1xuICAgICAgc2V0U2NvcGUodm5vZGUpO1xuICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUuaXNDb21tZW50KSB7XG4gICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5lbG1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuICh2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHRydWUpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG4gICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7XG4gICAgd2hpbGUgKHZub2RlLmNoaWxkKSB7XG4gICAgICB2bm9kZSA9IHZub2RlLmNoaWxkLl92bm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUNyZWF0ZUhvb2tzICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG4gICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXG4gICAgaWYgKGlzRGVmKGkpKSB7XG4gICAgICBpZiAoaS5jcmVhdGUpIHsgaS5jcmVhdGUoZW1wdHlOb2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpLmluc2VydCkgeyBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkge1xuICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2guYXBwbHkoaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpO1xuICAgIH1cbiAgICB2bm9kZS5lbG0gPSB2bm9kZS5jaGlsZC4kZWw7XG4gICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICBzZXRTY29wZSh2bm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVtcHR5IGNvbXBvbmVudCByb290LlxuICAgICAgLy8gc2tpcCBhbGwgZWxlbWVudC1yZWxhdGVkIG1vZHVsZXMgZXhjZXB0IGZvciByZWYgKCMzNDU1KVxuICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICAgICAgLy8gbWFrZSBzdXJlIHRvIGludm9rZSB0aGUgaW5zZXJ0IGhvb2tcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgc2NvcGUgaWQgYXR0cmlidXRlIGZvciBzY29wZWQgQ1NTLlxuICAvLyB0aGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIHRvIGF2b2lkIHRoZSBvdmVyaGVhZFxuICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuXG4gIGZ1bmN0aW9uIHNldFNjb3BlICh2bm9kZSkge1xuICAgIHZhciBpO1xuICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29udGV4dCkgJiYgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG4gICAgICBub2RlT3BzLnNldEF0dHJpYnV0ZSh2bm9kZS5lbG0sIGksICcnKTtcbiAgICB9XG4gICAgaWYgKGlzRGVmKGkgPSBhY3RpdmVJbnN0YW5jZSkgJiZcbiAgICAgICAgaSAhPT0gdm5vZGUuY29udGV4dCAmJlxuICAgICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcbiAgICAgIG5vZGVPcHMuc2V0QXR0cmlidXRlKHZub2RlLmVsbSwgaSwgJycpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFZub2RlcyAocGFyZW50RWxtLCBiZWZvcmUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0odm5vZGVzW3N0YXJ0SWR4XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgYmVmb3JlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VEZXN0cm95SG9vayAodm5vZGUpIHtcbiAgICB2YXIgaSwgajtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuZGVzdHJveS5sZW5ndGg7ICsraSkgeyBjYnMuZGVzdHJveVtpXSh2bm9kZSk7IH1cbiAgICB9XG4gICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xuICAgICAgICBpbnZva2VEZXN0cm95SG9vayh2bm9kZS5jaGlsZHJlbltqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVm5vZGVzIChwYXJlbnRFbG0sIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG4gICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcbiAgICAgICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudEVsbSwgY2guZWxtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sgKHZub2RlLCBybSkge1xuICAgIGlmIChybSB8fCBpc0RlZih2bm9kZS5kYXRhKSkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTtcbiAgICAgIGlmICghcm0pIHtcbiAgICAgICAgLy8gZGlyZWN0bHkgcmVtb3ZpbmdcbiAgICAgICAgcm0gPSBjcmVhdGVSbUNiKHZub2RlLmVsbSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG4gICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG4gICAgICB9XG4gICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkgJiYgaXNEZWYoaSA9IGkuX3Zub2RlKSAmJiBpc0RlZihpLmRhdGEpKSB7XG4gICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soaSwgcm0pO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5yZW1vdmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY2JzLnJlbW92ZVtpXSh2bm9kZSwgcm0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5kYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnJlbW92ZSkpIHtcbiAgICAgICAgaSh2bm9kZSwgcm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm0oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlRWxlbWVudCh2bm9kZS5lbG0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuIChwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7XG4gICAgdmFyIG9sZFN0YXJ0SWR4ID0gMDtcbiAgICB2YXIgbmV3U3RhcnRJZHggPSAwO1xuICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgIHZhciBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgdmFyIG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgIHZhciBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgZWxtVG9Nb3ZlLCBiZWZvcmU7XG5cbiAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cbiAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcbiAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVuZFZub2RlLmVsbSkpO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7IC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzVW5kZWYob2xkS2V5VG9JZHgpKSB7IG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOyB9XG4gICAgICAgIGlkeEluT2xkID0gaXNEZWYobmV3U3RhcnRWbm9kZS5rZXkpID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldIDogbnVsbDtcbiAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7IC8vIE5ldyBlbGVtZW50XG4gICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWVsbVRvTW92ZSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgJ0l0IHNlZW1zIHRoZXJlIGFyZSBkdXBsaWNhdGUga2V5cyB0aGF0IGlzIGNhdXNpbmcgYW4gdXBkYXRlIGVycm9yLiAnICtcbiAgICAgICAgICAgICAgJ01ha2Ugc3VyZSBlYWNoIHYtZm9yIGl0ZW0gaGFzIGEgdW5pcXVlIGtleS4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWxtVG9Nb3ZlLnRhZyAhPT0gbmV3U3RhcnRWbm9kZS50YWcpIHtcbiAgICAgICAgICAgIC8vIHNhbWUga2V5IGJ1dCBkaWZmZXJlbnQgZWxlbWVudC4gdHJlYXQgYXMgbmV3IGVsZW1lbnRcbiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgbmV3U3RhcnRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG4gICAgICBiZWZvcmUgPSBpc1VuZGVmKG5ld0NoW25ld0VuZElkeCArIDFdKSA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG4gICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCBiZWZvcmUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgIH0gZWxzZSBpZiAobmV3U3RhcnRJZHggPiBuZXdFbmRJZHgpIHtcbiAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnRFbG0sIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaFZub2RlIChvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyByZXVzZSBlbGVtZW50IGZvciBzdGF0aWMgdHJlZXMuXG4gICAgLy8gbm90ZSB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIHZub2RlIGlzIGNsb25lZCAtXG4gICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuXG4gICAgLy8gcmVzZXQgYnkgdGhlIGhvdC1yZWxvYWQtYXBpIGFuZCB3ZSBuZWVkIHRvIGRvIGEgcHJvcGVyIHJlLXJlbmRlci5cbiAgICBpZiAodm5vZGUuaXNTdGF0aWMgJiZcbiAgICAgICAgb2xkVm5vZGUuaXNTdGF0aWMgJiZcbiAgICAgICAgdm5vZGUua2V5ID09PSBvbGRWbm9kZS5rZXkgJiZcbiAgICAgICAgKHZub2RlLmlzQ2xvbmVkIHx8IHZub2RlLmlzT25jZSkpIHtcbiAgICAgIHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcbiAgICAgIHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdmFyIGk7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZhciBoYXNEYXRhID0gaXNEZWYoZGF0YSk7XG4gICAgaWYgKGhhc0RhdGEgJiYgaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucHJlcGF0Y2gpKSB7XG4gICAgICBpKG9sZFZub2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07XG4gICAgdmFyIG9sZENoID0gb2xkVm5vZGUuY2hpbGRyZW47XG4gICAgdmFyIGNoID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaWYgKGhhc0RhdGEgJiYgaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSkgeyBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgeyB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoLCBjaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTsgfVxuICAgICAgfSBlbHNlIGlmIChpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH1cbiAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xuICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7XG4gICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgdm5vZGUudGV4dCk7XG4gICAgfVxuICAgIGlmIChoYXNEYXRhKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rICh2bm9kZSwgcXVldWUsIGluaXRpYWwpIHtcbiAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGVcbiAgICAvLyBlbGVtZW50IGlzIHJlYWxseSBpbnNlcnRlZFxuICAgIGlmIChpbml0aWFsICYmIHZub2RlLnBhcmVudCkge1xuICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBiYWlsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gaHlkcmF0ZSAoZWxtLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICB2bm9kZS5lbG0gPSBlbG07XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsgaSh2bm9kZSwgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pOyB9XG4gICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkKSkge1xuICAgICAgICAvLyBjaGlsZCBjb21wb25lbnQuIGl0IHNob3VsZCBoYXZlIGh5ZHJhdGVkIGl0cyBvd24gdHJlZS5cbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRGVmKHRhZykpIHtcbiAgICAgIGlmIChpc0RlZihjaGlsZHJlbikpIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBub2RlT3BzLmNoaWxkTm9kZXMoZWxtKTtcbiAgICAgICAgLy8gZW1wdHkgZWxlbWVudCwgYWxsb3cgY2xpZW50IHRvIHBpY2sgdXAgYW5kIHBvcHVsYXRlIGNoaWxkcmVuXG4gICAgICAgIGlmICghY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNoaWxkcmVuTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCAhPT0gY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgaWYgKCFoeWRyYXRlKGNoaWxkTm9kZXNbaSQxXSwgY2hpbGRyZW5baSQxXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY2hpbGRyZW5NYXRjaCkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICAhYmFpbGVkKSB7XG4gICAgICAgICAgICAgIGJhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc21hdGNoaW5nIGNoaWxkTm9kZXMgdnMuIFZOb2RlczogJywgY2hpbGROb2RlcywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnROb2RlTWF0Y2ggKG5vZGUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fFxuICAgICAgICB2bm9kZS50YWcudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU9wcy50YWdOYW1lKG5vZGUpLnRvTG93ZXJDYXNlKClcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIF90b1N0cmluZyh2bm9kZS50ZXh0KSA9PT0gbm9kZS5kYXRhXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoIChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xuICAgIGlmICghdm5vZGUpIHtcbiAgICAgIGlmIChvbGRWbm9kZSkgeyBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7IH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBlbG0sIHBhcmVudDtcbiAgICB2YXIgaXNJbml0aWFsUGF0Y2ggPSBmYWxzZTtcbiAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107XG5cbiAgICBpZiAoIW9sZFZub2RlKSB7XG4gICAgICAvLyBlbXB0eSBtb3VudCwgY3JlYXRlIG5ldyByb290IGVsZW1lbnRcbiAgICAgIGlzSW5pdGlhbFBhdGNoID0gdHJ1ZTtcbiAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlzUmVhbEVsZW1lbnQgPSBpc0RlZihvbGRWbm9kZS5ub2RlVHlwZSk7XG4gICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cbiAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxuICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpKSB7XG4gICAgICAgICAgICBvbGRWbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpO1xuICAgICAgICAgICAgaHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGh5ZHJhdGluZykge1xuICAgICAgICAgICAgaWYgKGh5ZHJhdGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKSB7XG4gICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgJ1RoZSBjbGllbnQtc2lkZSByZW5kZXJlZCB2aXJ0dWFsIERPTSB0cmVlIGlzIG5vdCBtYXRjaGluZyAnICtcbiAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArXG4gICAgICAgICAgICAgICAgJ0hUTUwgbWFya3VwLCBmb3IgZXhhbXBsZSBuZXN0aW5nIGJsb2NrLWxldmVsIGVsZW1lbnRzIGluc2lkZSAnICtcbiAgICAgICAgICAgICAgICAnPHA+LCBvciBtaXNzaW5nIDx0Ym9keT4uIEJhaWxpbmcgaHlkcmF0aW9uIGFuZCBwZXJmb3JtaW5nICcgK1xuICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVpdGhlciBub3Qgc2VydmVyLXJlbmRlcmVkLCBvciBoeWRyYXRpb24gZmFpbGVkLlxuICAgICAgICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBub2RlIGFuZCByZXBsYWNlIGl0XG4gICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxtID0gb2xkVm5vZGUuZWxtO1xuICAgICAgICBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWxtKTtcblxuICAgICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cbiAgICAgICAgLy8gY29tcG9uZW50IHJvb3QgZWxlbWVudCByZXBsYWNlZC5cbiAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmICh2bm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XG4gICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XG4gICAgICAgICAgICBhbmNlc3Rvci5lbG0gPSB2bm9kZS5lbG07XG4gICAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZS5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIHZub2RlLmVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhlbG0pKTtcbiAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50LCBbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG4gICAgcmV0dXJuIHZub2RlLmVsbVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgZGlyZWN0aXZlcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG4gICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAoXG4gIG9sZFZub2RlLFxuICB2bm9kZVxuKSB7XG4gIGlmICghb2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzICYmICF2bm9kZS5kYXRhLmRpcmVjdGl2ZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuICB2YXIgb2xkRGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMsIG9sZFZub2RlLmNvbnRleHQpO1xuICB2YXIgbmV3RGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpO1xuXG4gIHZhciBkaXJzV2l0aEluc2VydCA9IFtdO1xuICB2YXIgZGlyc1dpdGhQb3N0cGF0Y2ggPSBbXTtcblxuICB2YXIga2V5LCBvbGREaXIsIGRpcjtcbiAgZm9yIChrZXkgaW4gbmV3RGlycykge1xuICAgIG9sZERpciA9IG9sZERpcnNba2V5XTtcbiAgICBkaXIgPSBuZXdEaXJzW2tleV07XG4gICAgaWYgKCFvbGREaXIpIHtcbiAgICAgIC8vIG5ldyBkaXJlY3RpdmUsIGJpbmRcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAnYmluZCcsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmluc2VydGVkKSB7XG4gICAgICAgIGRpcnNXaXRoSW5zZXJ0LnB1c2goZGlyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXhpc3RpbmcgZGlyZWN0aXZlLCB1cGRhdGVcbiAgICAgIGRpci5vbGRWYWx1ZSA9IG9sZERpci52YWx1ZTtcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZGlyc1dpdGhJbnNlcnQuZm9yRWFjaChmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgIGNhbGxIb29rJDEoZGlyLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoaXNDcmVhdGUpIHtcbiAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAnaW5zZXJ0JywgY2FsbEluc2VydCwgJ2Rpci1pbnNlcnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbEluc2VydCgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGgpIHtcbiAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpcnNXaXRoUG9zdHBhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRpcikge1xuICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2NvbXBvbmVudFVwZGF0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfSk7XG4gICAgfSwgJ2Rpci1wb3N0cGF0Y2gnKTtcbiAgfVxuXG4gIGlmICghaXNDcmVhdGUpIHtcbiAgICBmb3IgKGtleSBpbiBvbGREaXJzKSB7XG4gICAgICBpZiAoIW5ld0RpcnNba2V5XSkge1xuICAgICAgICAvLyBubyBsb25nZXIgcHJlc2VudCwgdW5iaW5kXG4gICAgICAgIGNhbGxIb29rJDEob2xkRGlyc1trZXldLCAndW5iaW5kJywgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzJDEgKFxuICBkaXJzLFxuICB2bVxuKSB7XG4gIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoIWRpcnMpIHtcbiAgICByZXR1cm4gcmVzXG4gIH1cbiAgdmFyIGksIGRpcjtcbiAgZm9yIChpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcbiAgICBkaXIgPSBkaXJzW2ldO1xuICAgIGlmICghZGlyLm1vZGlmaWVycykge1xuICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuICAgIH1cbiAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcbiAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGdldFJhd0Rpck5hbWUgKGRpcikge1xuICByZXR1cm4gZGlyLnJhd05hbWUgfHwgKChkaXIubmFtZSkgKyBcIi5cIiArIChPYmplY3Qua2V5cyhkaXIubW9kaWZpZXJzIHx8IHt9KS5qb2luKCcuJykpKVxufVxuXG5mdW5jdGlvbiBjYWxsSG9vayQxIChkaXIsIGhvb2ssIHZub2RlLCBvbGRWbm9kZSkge1xuICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG4gIGlmIChmbikge1xuICAgIGZuKHZub2RlLmVsbSwgZGlyLCB2bm9kZSwgb2xkVm5vZGUpO1xuICB9XG59XG5cbnZhciBiYXNlTW9kdWxlcyA9IFtcbiAgcmVmLFxuICBkaXJlY3RpdmVzXG5dO1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoIW9sZFZub2RlLmRhdGEuYXR0cnMgJiYgIXZub2RlLmRhdGEuYXR0cnMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIga2V5LCBjdXIsIG9sZDtcbiAgdmFyIGVsbSA9IHZub2RlLmVsbTtcbiAgdmFyIG9sZEF0dHJzID0gb2xkVm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcbiAgdmFyIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcbiAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG4gIGlmIChhdHRycy5fX29iX18pIHtcbiAgICBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgPSBleHRlbmQoe30sIGF0dHJzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIGF0dHJzKSB7XG4gICAgY3VyID0gYXR0cnNba2V5XTtcbiAgICBvbGQgPSBvbGRBdHRyc1trZXldO1xuICAgIGlmIChvbGQgIT09IGN1cikge1xuICAgICAgc2V0QXR0cihlbG0sIGtleSwgY3VyKTtcbiAgICB9XG4gIH1cbiAgZm9yIChrZXkgaW4gb2xkQXR0cnMpIHtcbiAgICBpZiAoYXR0cnNba2V5XSA9PSBudWxsKSB7XG4gICAgICBpZiAoaXNYbGluayhrZXkpKSB7XG4gICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcbiAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG4gICAgLy8gc2V0IGF0dHJpYnV0ZSBmb3IgYmxhbmsgdmFsdWVcbiAgICAvLyBlLmcuIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IG9uZTwvb3B0aW9uPlxuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGtleSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnID8gJ2ZhbHNlJyA6ICd0cnVlJyk7XG4gIH0gZWxzZSBpZiAoaXNYbGluayhrZXkpKSB7XG4gICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBhdHRycyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVBdHRycyxcbiAgdXBkYXRlOiB1cGRhdGVBdHRyc1xufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTtcbiAgaWYgKCFkYXRhLnN0YXRpY0NsYXNzICYmICFkYXRhLmNsYXNzICYmXG4gICAgICAoIW9sZERhdGEgfHwgKCFvbGREYXRhLnN0YXRpY0NsYXNzICYmICFvbGREYXRhLmNsYXNzKSkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjbHMgPSBnZW5DbGFzc0ZvclZub2RlKHZub2RlKTtcblxuICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBjbGFzc2VzXG4gIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBlbC5fdHJhbnNpdGlvbkNsYXNzZXM7XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3MpIHtcbiAgICBjbHMgPSBjb25jYXQoY2xzLCBzdHJpbmdpZnlDbGFzcyh0cmFuc2l0aW9uQ2xhc3MpKTtcbiAgfVxuXG4gIC8vIHNldCB0aGUgY2xhc3NcbiAgaWYgKGNscyAhPT0gZWwuX3ByZXZDbGFzcykge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbHMpO1xuICAgIGVsLl9wcmV2Q2xhc3MgPSBjbHM7XG4gIH1cbn1cblxudmFyIGtsYXNzID0ge1xuICBjcmVhdGU6IHVwZGF0ZUNsYXNzLFxuICB1cGRhdGU6IHVwZGF0ZUNsYXNzXG59O1xuXG4vLyBza2lwIHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2Ugd2UgbmVlZCB0byBhdHRhY2ggcHJpdmF0ZSBwcm9wZXJ0aWVzXG4vLyB0byBlbGVtZW50c1xuXG5mdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoIW9sZFZub2RlLmRhdGEub24gJiYgIXZub2RlLmRhdGEub24pIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb24gPSB2bm9kZS5kYXRhLm9uIHx8IHt9O1xuICB2YXIgb2xkT24gPSBvbGRWbm9kZS5kYXRhLm9uIHx8IHt9O1xuICB2YXIgYWRkID0gdm5vZGUuZWxtLl92X2FkZCB8fCAodm5vZGUuZWxtLl92X2FkZCA9IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgIHZub2RlLmVsbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBjYXB0dXJlKTtcbiAgfSk7XG4gIHZhciByZW1vdmUgPSB2bm9kZS5lbG0uX3ZfcmVtb3ZlIHx8ICh2bm9kZS5lbG0uX3ZfcmVtb3ZlID0gZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgdm5vZGUuZWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuICB9KTtcbiAgdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkLCByZW1vdmUsIHZub2RlLmNvbnRleHQpO1xufVxuXG52YXIgZXZlbnRzID0ge1xuICBjcmVhdGU6IHVwZGF0ZURPTUxpc3RlbmVycyxcbiAgdXBkYXRlOiB1cGRhdGVET01MaXN0ZW5lcnNcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVET01Qcm9wcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIGlmICghb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyAmJiAhdm5vZGUuZGF0YS5kb21Qcm9wcykge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBrZXksIGN1cjtcbiAgdmFyIGVsbSA9IHZub2RlLmVsbTtcbiAgdmFyIG9sZFByb3BzID0gb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcbiAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcbiAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG4gIGlmIChwcm9wcy5fX29iX18pIHtcbiAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG4gICAgaWYgKHByb3BzW2tleV0gPT0gbnVsbCkge1xuICAgICAgZWxtW2tleV0gPSAnJztcbiAgICB9XG4gIH1cbiAgZm9yIChrZXkgaW4gcHJvcHMpIHtcbiAgICBjdXIgPSBwcm9wc1trZXldO1xuICAgIC8vIGlnbm9yZSBjaGlsZHJlbiBpZiB0aGUgbm9kZSBoYXMgdGV4dENvbnRlbnQgb3IgaW5uZXJIVE1MLFxuICAgIC8vIGFzIHRoZXNlIHdpbGwgdGhyb3cgYXdheSBleGlzdGluZyBET00gbm9kZXMgYW5kIGNhdXNlIHJlbW92YWwgZXJyb3JzXG4gICAgLy8gb24gc3Vic2VxdWVudCBwYXRjaGVzICgjMzM2MClcbiAgICBpZiAoa2V5ID09PSAndGV4dENvbnRlbnQnIHx8IGtleSA9PT0gJ2lubmVySFRNTCcpIHtcbiAgICAgIGlmICh2bm9kZS5jaGlsZHJlbikgeyB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwOyB9XG4gICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKSB7IGNvbnRpbnVlIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xuICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcbiAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWRcbiAgICAgIGVsbS5fdmFsdWUgPSBjdXI7XG4gICAgICAvLyBhdm9pZCByZXNldHRpbmcgY3Vyc29yIHBvc2l0aW9uIHdoZW4gdmFsdWUgaXMgdGhlIHNhbWVcbiAgICAgIHZhciBzdHJDdXIgPSBjdXIgPT0gbnVsbCA/ICcnIDogU3RyaW5nKGN1cik7XG4gICAgICBpZiAoZWxtLnZhbHVlICE9PSBzdHJDdXIgJiYgIWVsbS5jb21wb3NpbmcpIHtcbiAgICAgICAgZWxtLnZhbHVlID0gc3RyQ3VyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbG1ba2V5XSA9IGN1cjtcbiAgICB9XG4gIH1cbn1cblxudmFyIGRvbVByb3BzID0ge1xuICBjcmVhdGU6IHVwZGF0ZURPTVByb3BzLFxuICB1cGRhdGU6IHVwZGF0ZURPTVByb3BzXG59O1xuXG4vKiAgKi9cblxudmFyIHBhcnNlU3R5bGVUZXh0ID0gY2FjaGVkKGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGhhc0JhY2tncm91bmQgPSBjc3NUZXh0LmluZGV4T2YoJ2JhY2tncm91bmQnKSA+PSAwO1xuICAvLyBtYXliZSB3aXRoIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwOi8veHh4KSBvciBiYXNlNjQgaW1nXG4gIHZhciBsaXN0RGVsaW1pdGVyID0gaGFzQmFja2dyb3VuZCA/IC87KD8hW14oXSpcXCkpL2cgOiAnOyc7XG4gIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IGhhc0JhY2tncm91bmQgPyAvOiguKykvIDogJzonO1xuICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgdmFyIHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXIpO1xuICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJlc1t0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vLyBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgc3R5bGUgZGF0YSBvbiB0aGUgc2FtZSB2bm9kZVxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVEYXRhIChkYXRhKSB7XG4gIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyhkYXRhLnN0eWxlKTtcbiAgLy8gc3RhdGljIHN0eWxlIGlzIHByZS1wcm9jZXNzZWQgaW50byBhbiBvYmplY3QgZHVyaW5nIGNvbXBpbGF0aW9uXG4gIC8vIGFuZCBpcyBhbHdheXMgYSBmcmVzaCBvYmplY3QsIHNvIGl0J3Mgc2FmZSB0byBtZXJnZSBpbnRvIGl0XG4gIHJldHVybiBkYXRhLnN0YXRpY1N0eWxlXG4gICAgPyBleHRlbmQoZGF0YS5zdGF0aWNTdHlsZSwgc3R5bGUpXG4gICAgOiBzdHlsZVxufVxuXG4vLyBub3JtYWxpemUgcG9zc2libGUgYXJyYXkgLyBzdHJpbmcgdmFsdWVzIGludG8gT2JqZWN0XG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZUJpbmRpbmcgKGJpbmRpbmdTdHlsZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShiaW5kaW5nU3R5bGUpKSB7XG4gICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICBpZiAodHlwZW9mIGJpbmRpbmdTdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKVxuICB9XG4gIHJldHVybiBiaW5kaW5nU3R5bGVcbn1cblxuLyoqXG4gKiBwYXJlbnQgY29tcG9uZW50IHN0eWxlIHNob3VsZCBiZSBhZnRlciBjaGlsZCdzXG4gKiBzbyB0aGF0IHBhcmVudCBjb21wb25lbnQncyBzdHlsZSBjb3VsZCBvdmVycmlkZSBpdFxuICovXG5mdW5jdGlvbiBnZXRTdHlsZSAodm5vZGUsIGNoZWNrQ2hpbGQpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgc3R5bGVEYXRhO1xuXG4gIGlmIChjaGVja0NoaWxkKSB7XG4gICAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuICAgIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcbiAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jaGlsZC5fdm5vZGU7XG4gICAgICBpZiAoY2hpbGROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpKSB7XG4gICAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7XG4gICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgfVxuXG4gIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XG4gIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkge1xuICAgIGlmIChwYXJlbnROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShwYXJlbnROb2RlLmRhdGEpKSkge1xuICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxudmFyIGNzc1ZhclJFID0gL14tLS87XG52YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoY3NzVmFyUkUudGVzdChuYW1lKSkge1xuICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgZWwuc3R5bGVbbm9ybWFsaXplKG5hbWUpXSA9IHZhbDtcbiAgfVxufTtcblxudmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XG5cbnZhciB0ZXN0RWw7XG52YXIgbm9ybWFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHRlc3RFbCA9IHRlc3RFbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvcCA9IGNhbWVsaXplKHByb3ApO1xuICBpZiAocHJvcCAhPT0gJ2ZpbHRlcicgJiYgKHByb3AgaW4gdGVzdEVsLnN0eWxlKSkge1xuICAgIHJldHVybiBwcm9wXG4gIH1cbiAgdmFyIHVwcGVyID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIHVwcGVyO1xuICAgIGlmIChwcmVmaXhlZCBpbiB0ZXN0RWwuc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZFxuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XG5cbiAgaWYgKCFkYXRhLnN0YXRpY1N0eWxlICYmICFkYXRhLnN0eWxlICYmXG4gICAgICAhb2xkRGF0YS5zdGF0aWNTdHlsZSAmJiAhb2xkRGF0YS5zdHlsZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGN1ciwgbmFtZTtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGRWbm9kZS5kYXRhLnN0YXRpY1N0eWxlO1xuICB2YXIgb2xkU3R5bGVCaW5kaW5nID0gb2xkVm5vZGUuZGF0YS5zdHlsZSB8fCB7fTtcblxuICAvLyBpZiBzdGF0aWMgc3R5bGUgZXhpc3RzLCBzdHlsZWJpbmRpbmcgYWxyZWFkeSBtZXJnZWQgaW50byBpdCB3aGVuIGRvaW5nIG5vcm1hbGl6ZVN0eWxlRGF0YVxuICB2YXIgb2xkU3R5bGUgPSBvbGRTdGF0aWNTdHlsZSB8fCBvbGRTdHlsZUJpbmRpbmc7XG5cbiAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKHZub2RlLmRhdGEuc3R5bGUpIHx8IHt9O1xuXG4gIHZub2RlLmRhdGEuc3R5bGUgPSBzdHlsZS5fX29iX18gPyBleHRlbmQoe30sIHN0eWxlKSA6IHN0eWxlO1xuXG4gIHZhciBuZXdTdHlsZSA9IGdldFN0eWxlKHZub2RlLCB0cnVlKTtcblxuICBmb3IgKG5hbWUgaW4gb2xkU3R5bGUpIHtcbiAgICBpZiAobmV3U3R5bGVbbmFtZV0gPT0gbnVsbCkge1xuICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcbiAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcbiAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc3R5bGUgPSB7XG4gIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG4gIHVwZGF0ZTogdXBkYXRlU3R5bGVcbn07XG5cbi8qICAqL1xuXG4vKipcbiAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhY2xzLnRyaW0oKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcbiAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGVsLmNsYXNzTGlzdC5hZGQoYyk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBjdXIgPSAnICcgKyBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnICc7XG4gICAgaWYgKGN1ci5pbmRleE9mKCcgJyArIGNscyArICcgJykgPCAwKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGN1ciArIGNscykudHJpbSgpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cbiAqIFNWRyBlbGVtZW50cyBpbiBJRVxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyAoZWwsIGNscykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFjbHMgfHwgIWNscy50cmltKCkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VyID0gJyAnICsgZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnO1xuICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7XG4gICAgd2hpbGUgKGN1ci5pbmRleE9mKHRhcikgPj0gMCkge1xuICAgICAgY3VyID0gY3VyLnJlcGxhY2UodGFyLCAnICcpO1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY3VyLnRyaW0oKSk7XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBoYXNUcmFuc2l0aW9uID0gaW5Ccm93c2VyICYmICFpc0lFOTtcbnZhciBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xudmFyIEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xuXG4vLyBUcmFuc2l0aW9uIHByb3BlcnR5L2V2ZW50IHNuaWZmaW5nXG52YXIgdHJhbnNpdGlvblByb3AgPSAndHJhbnNpdGlvbic7XG52YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3RyYW5zaXRpb25lbmQnO1xudmFyIGFuaW1hdGlvblByb3AgPSAnYW5pbWF0aW9uJztcbnZhciBhbmltYXRpb25FbmRFdmVudCA9ICdhbmltYXRpb25lbmQnO1xuaWYgKGhhc1RyYW5zaXRpb24pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh3aW5kb3cub250cmFuc2l0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICB0cmFuc2l0aW9uUHJvcCA9ICdXZWJraXRUcmFuc2l0aW9uJztcbiAgICB0cmFuc2l0aW9uRW5kRXZlbnQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCc7XG4gIH1cbiAgaWYgKHdpbmRvdy5vbmFuaW1hdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcbiAgfVxufVxuXG52YXIgcmFmID0gKGluQnJvd3NlciAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCBzZXRUaW1lb3V0O1xuZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyB8fCAoZWwuX3RyYW5zaXRpb25DbGFzc2VzID0gW10pKS5wdXNoKGNscyk7XG4gIGFkZENsYXNzKGVsLCBjbHMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHJlbW92ZSQxKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcbiAgfVxuICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcbiAgZWwsXG4gIGV4cGVjdGVkVHlwZSxcbiAgY2Jcbikge1xuICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG4gIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG4gIHZhciBlbmRlZCA9IDA7XG4gIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuICAgIGNiKCk7XG4gIH07XG4gIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xufVxuXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICB2YXIgdHJhbnNpdGlvbmVEZWxheXMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRGVsYXknXS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uZURlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XG4gIHZhciBhbmltYXRpb25EZWxheXMgPSBzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEZWxheSddLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcbiAgdmFyIGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcblxuICB2YXIgdHlwZTtcbiAgdmFyIHRpbWVvdXQgPSAwO1xuICB2YXIgcHJvcENvdW50ID0gMDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDBcbiAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XG4gICAgICAgID8gVFJBTlNJVElPTlxuICAgICAgICA6IEFOSU1BVElPTlxuICAgICAgOiBudWxsO1xuICAgIHByb3BDb3VudCA9IHR5cGVcbiAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxuICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgOiAwO1xuICB9XG4gIHZhciBoYXNUcmFuc2Zvcm0gPVxuICAgIHR5cGUgPT09IFRSQU5TSVRJT04gJiZcbiAgICB0cmFuc2Zvcm1SRS50ZXN0KHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdQcm9wZXJ0eSddKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgcHJvcENvdW50OiBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtOiBoYXNUcmFuc2Zvcm1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUaW1lb3V0IChkZWxheXMsIGR1cmF0aW9ucykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcbiAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XG4gIH1cblxuICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgZHVyYXRpb25zLm1hcChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHJldHVybiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pXG4gIH0pKVxufVxuXG5mdW5jdGlvbiB0b01zIChzKSB7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkpICogMTAwMFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW50ZXIgKHZub2RlKSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuICBpZiAoZWwuX2xlYXZlQ2IpIHtcbiAgICBlbC5fbGVhdmVDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9sZWF2ZUNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmICghZGF0YSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChlbC5fZW50ZXJDYiB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGNzcyA9IGRhdGEuY3NzO1xuICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgdmFyIGVudGVyQ2xhc3MgPSBkYXRhLmVudGVyQ2xhc3M7XG4gIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuICB2YXIgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzO1xuICB2YXIgYmVmb3JlRW50ZXIgPSBkYXRhLmJlZm9yZUVudGVyO1xuICB2YXIgZW50ZXIgPSBkYXRhLmVudGVyO1xuICB2YXIgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkID0gZGF0YS5lbnRlckNhbmNlbGxlZDtcbiAgdmFyIGJlZm9yZUFwcGVhciA9IGRhdGEuYmVmb3JlQXBwZWFyO1xuICB2YXIgYXBwZWFyID0gZGF0YS5hcHBlYXI7XG4gIHZhciBhZnRlckFwcGVhciA9IGRhdGEuYWZ0ZXJBcHBlYXI7XG4gIHZhciBhcHBlYXJDYW5jZWxsZWQgPSBkYXRhLmFwcGVhckNhbmNlbGxlZDtcblxuICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzXG4gIC8vIHRyYW5zaXRpb24uIE9uZSBlZGdlIGNhc2UgdG8gY2hlY2sgaXMgd2hlbiB0aGUgPHRyYW5zaXRpb24+IGlzIHBsYWNlZFxuICAvLyBhcyB0aGUgcm9vdCBub2RlIG9mIGEgY2hpbGQgY29tcG9uZW50LiBJbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byBjaGVja1xuICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay5cbiAgdmFyIHRyYW5zaXRpb25Ob2RlID0gYWN0aXZlSW5zdGFuY2UuJHZub2RlO1xuICB2YXIgY29udGV4dCA9IHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudFxuICAgID8gdHJhbnNpdGlvbk5vZGUucGFyZW50LmNvbnRleHRcbiAgICA6IGFjdGl2ZUluc3RhbmNlO1xuXG4gIHZhciBpc0FwcGVhciA9ICFjb250ZXh0Ll9pc01vdW50ZWQgfHwgIXZub2RlLmlzUm9vdEluc2VydDtcblxuICBpZiAoaXNBcHBlYXIgJiYgIWFwcGVhciAmJiBhcHBlYXIgIT09ICcnKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyID8gYXBwZWFyQ2xhc3MgOiBlbnRlckNsYXNzO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVySG9vayA9IGlzQXBwZWFyID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcikgOiBiZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVySG9vayA9IGlzQXBwZWFyID8gKHR5cGVvZiBhcHBlYXIgPT09ICdmdW5jdGlvbicgPyBhcHBlYXIgOiBlbnRlcikgOiBlbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIgPyAoYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlcikgOiBhZnRlckVudGVyO1xuICB2YXIgZW50ZXJDYW5jZWxsZWRIb29rID0gaXNBcHBlYXIgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKSA6IGVudGVyQ2FuY2VsbGVkO1xuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID1cbiAgICBlbnRlckhvb2sgJiZcbiAgICAvLyBlbnRlckhvb2sgbWF5IGJlIGEgYm91bmQgbWV0aG9kIHdoaWNoIGV4cG9zZXNcbiAgICAvLyB0aGUgbGVuZ3RoIG9mIG9yaWdpbmFsIGZuIGFzIF9sZW5ndGhcbiAgICAoZW50ZXJIb29rLl9sZW5ndGggfHwgZW50ZXJIb29rLmxlbmd0aCkgPiAxO1xuXG4gIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgfVxuICAgICAgZW50ZXJDYW5jZWxsZWRIb29rICYmIGVudGVyQ2FuY2VsbGVkSG9vayhlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyRW50ZXJIb29rICYmIGFmdGVyRW50ZXJIb29rKGVsKTtcbiAgICB9XG4gICAgZWwuX2VudGVyQ2IgPSBudWxsO1xuICB9KTtcblxuICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuICAgIC8vIHJlbW92ZSBwZW5kaW5nIGxlYXZlIGVsZW1lbnQgb24gZW50ZXIgYnkgaW5qZWN0aW5nIGFuIGluc2VydCBob29rXG4gICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdpbnNlcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIHZhciBwZW5kaW5nTm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmcgJiYgcGFyZW50Ll9wZW5kaW5nW3Zub2RlLmtleV07XG4gICAgICBpZiAocGVuZGluZ05vZGUgJiYgcGVuZGluZ05vZGUudGFnID09PSB2bm9kZS50YWcgJiYgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKSB7XG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuICAgICAgfVxuICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICAgIH0sICd0cmFuc2l0aW9uLWluc2VydCcpO1xuICB9XG5cbiAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcbiAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAodm5vZGUuZGF0YS5zaG93KSB7XG4gICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICB9XG5cbiAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgY2IoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBsZWF2ZSAodm5vZGUsIHJtKSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGVudGVyIGNhbGxiYWNrIG5vd1xuICBpZiAoZWwuX2VudGVyQ2IpIHtcbiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9lbnRlckNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmICghZGF0YSkge1xuICAgIHJldHVybiBybSgpXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGVsLl9sZWF2ZUNiIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3NzID0gZGF0YS5jc3M7XG4gIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcbiAgdmFyIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3M7XG4gIHZhciBiZWZvcmVMZWF2ZSA9IGRhdGEuYmVmb3JlTGVhdmU7XG4gIHZhciBsZWF2ZSA9IGRhdGEubGVhdmU7XG4gIHZhciBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlO1xuICB2YXIgbGVhdmVDYW5jZWxsZWQgPSBkYXRhLmxlYXZlQ2FuY2VsbGVkO1xuICB2YXIgZGVsYXlMZWF2ZSA9IGRhdGEuZGVsYXlMZWF2ZTtcblxuICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xuICB2YXIgdXNlcldhbnRzQ29udHJvbCA9XG4gICAgbGVhdmUgJiZcbiAgICAvLyBsZWF2ZSBob29rIG1heSBiZSBhIGJvdW5kIG1ldGhvZCB3aGljaCBleHBvc2VzXG4gICAgLy8gdGhlIGxlbmd0aCBvZiBvcmlnaW5hbCBmbiBhcyBfbGVuZ3RoXG4gICAgKGxlYXZlLl9sZW5ndGggfHwgbGVhdmUubGVuZ3RoKSA+IDE7XG5cbiAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG4gICAgfVxuICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybUxlYXZlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG4gICAgICAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyB8fCAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyA9IHt9KSlbdm5vZGUua2V5XSA9IHZub2RlO1xuICAgIH1cbiAgICBiZWZvcmVMZWF2ZSAmJiBiZWZvcmVMZWF2ZShlbCk7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGxlYXZlICYmIGxlYXZlKGVsLCBjYik7XG4gICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbiAoZGVmJCQxKSB7XG4gIGlmICghZGVmJCQxKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIGlmIChkZWYkJDEuY3NzICE9PSBmYWxzZSkge1xuICAgICAgZXh0ZW5kKHJlcywgYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxLm5hbWUgfHwgJ3YnKSk7XG4gICAgfVxuICAgIGV4dGVuZChyZXMsIGRlZiQkMSk7XG4gICAgcmV0dXJuIHJlc1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMSlcbiAgfVxufVxuXG52YXIgYXV0b0Nzc1RyYW5zaXRpb24gPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnRlckNsYXNzOiAobmFtZSArIFwiLWVudGVyXCIpLFxuICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG4gICAgYXBwZWFyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG4gICAgZW50ZXJBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1lbnRlci1hY3RpdmVcIiksXG4gICAgbGVhdmVBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1sZWF2ZS1hY3RpdmVcIiksXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpXG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBvbmNlIChmbikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmbigpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdHJhbnNpdGlvbiA9IGluQnJvd3NlciA/IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG4gICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAgIGVudGVyKHZub2RlKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlICh2bm9kZSwgcm0pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG4gICAgICBsZWF2ZSh2bm9kZSwgcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBybSgpO1xuICAgIH1cbiAgfVxufSA6IHt9O1xuXG52YXIgcGxhdGZvcm1Nb2R1bGVzID0gW1xuICBhdHRycyxcbiAga2xhc3MsXG4gIGV2ZW50cyxcbiAgZG9tUHJvcHMsXG4gIHN0eWxlLFxuICB0cmFuc2l0aW9uXG5dO1xuXG4vKiAgKi9cblxuLy8gdGhlIGRpcmVjdGl2ZSBtb2R1bGUgc2hvdWxkIGJlIGFwcGxpZWQgbGFzdCwgYWZ0ZXIgYWxsXG4vLyBidWlsdC1pbiBtb2R1bGVzIGhhdmUgYmVlbiBhcHBsaWVkLlxudmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTtcblxudmFyIHBhdGNoJDEgPSBjcmVhdGVQYXRjaEZ1bmN0aW9uKHsgbm9kZU9wczogbm9kZU9wcywgbW9kdWxlczogbW9kdWxlcyB9KTtcblxuLyoqXG4gKiBOb3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgbGlrZSBhdHRhY2hpbmdcbiAqIHByb3BlcnRpZXMgdG8gRWxlbWVudHMuXG4gKi9cblxudmFyIG1vZGVsYWJsZVRhZ1JFID0gL15pbnB1dHxzZWxlY3R8dGV4dGFyZWF8dnVlLWNvbXBvbmVudC1bMC05XSsoLVswLTlhLXpBLVpfLV0qKT8kLztcblxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAoaXNJRTkpIHtcbiAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHtcbiAgICAgIHRyaWdnZXIoZWwsICdpbnB1dCcpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBtb2RlbCA9IHtcbiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCFtb2RlbGFibGVUYWdSRS50ZXN0KHZub2RlLnRhZykpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcInYtbW9kZWwgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50IHR5cGU6IDxcIiArICh2bm9kZS50YWcpICsgXCI+LiBcIiArXG4gICAgICAgICAgJ0lmIHlvdSBhcmUgd29ya2luZyB3aXRoIGNvbnRlbnRlZGl0YWJsZSwgaXRcXCdzIHJlY29tbWVuZGVkIHRvICcgK1xuICAgICAgICAgICd3cmFwIGEgbGlicmFyeSBkZWRpY2F0ZWQgZm9yIHRoYXQgcHVycG9zZSBpbnNpZGUgYSBjdXN0b20gY29tcG9uZW50LicsXG4gICAgICAgICAgdm5vZGUuY29udGV4dFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7XG4gICAgICB9O1xuICAgICAgY2IoKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGVsLnR5cGUgPT09ICd0ZXh0JykgJiZcbiAgICAgICFiaW5kaW5nLm1vZGlmaWVycy5sYXp5XG4gICAgKSB7XG4gICAgICBpZiAoIWlzQW5kcm9pZCkge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGlzSUU5KSB7XG4gICAgICAgIGVsLnZtb2RlbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcbiAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlXG4gICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGVsLm9wdGlvbnMpOyB9KVxuICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiYgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBlbC5vcHRpb25zKTtcbiAgICAgIGlmIChuZWVkUmVzZXQpIHtcbiAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gb3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb25zW2ldKSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUgKG9wdGlvbikge1xuICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uXG4gICAgPyBvcHRpb24uX3ZhbHVlXG4gICAgOiBvcHRpb24udmFsdWVcbn1cblxuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0IChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQgKGUpIHtcbiAgZS50YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG4gIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpO1xufVxuXG5mdW5jdGlvbiB0cmlnZ2VyIChlbCwgdHlwZSkge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xufVxuXG4vKiAgKi9cblxuLy8gcmVjdXJzaXZlbHkgc2VhcmNoIGZvciBwb3NzaWJsZSB0cmFuc2l0aW9uIGRlZmluZWQgaW5zaWRlIHRoZSBjb21wb25lbnQgcm9vdFxuZnVuY3Rpb24gbG9jYXRlTm9kZSAodm5vZGUpIHtcbiAgcmV0dXJuIHZub2RlLmNoaWxkICYmICghdm5vZGUuZGF0YSB8fCAhdm5vZGUuZGF0YS50cmFuc2l0aW9uKVxuICAgID8gbG9jYXRlTm9kZSh2bm9kZS5jaGlsZC5fdm5vZGUpXG4gICAgOiB2bm9kZVxufVxuXG52YXIgc2hvdyA9IHtcbiAgYmluZDogZnVuY3Rpb24gYmluZCAoZWwsIHJlZiwgdm5vZGUpIHtcbiAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7XG5cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHZhbHVlICYmIHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG4gICAgICBlbnRlcih2bm9kZSk7XG4gICAgfVxuICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gb3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuICAgIGVsLl9fdk9yaWdpbmFsRGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuICAgIHZhciBvbGRWYWx1ZSA9IHJlZi5vbGRWYWx1ZTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHsgcmV0dXJuIH1cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZW50ZXIodm5vZGUpO1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhdmUodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcbiAgbW9kZWw6IG1vZGVsLFxuICBzaG93OiBzaG93XG59O1xuXG4vKiAgKi9cblxuLy8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBhIHNpbmdsZSBlbGVtZW50L2NvbXBvbmVudC5cbi8vIHN1cHBvcnRzIHRyYW5zaXRpb24gbW9kZSAob3V0LWluIC8gaW4tb3V0KVxuXG52YXIgdHJhbnNpdGlvblByb3BzID0ge1xuICBuYW1lOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgY3NzOiBCb29sZWFuLFxuICBtb2RlOiBTdHJpbmcsXG4gIHR5cGU6IFN0cmluZyxcbiAgZW50ZXJDbGFzczogU3RyaW5nLFxuICBsZWF2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICBhcHBlYXJDbGFzczogU3RyaW5nLFxuICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nXG59O1xuXG4vLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG4gIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2bm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuICB2YXIgZGF0YSA9IHt9O1xuICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG4gIC8vIHByb3BzXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcbiAgfVxuICAvLyBldmVudHMuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdLmZuO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuICByZXR1cm4gL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpXG4gICAgPyBoKCdrZWVwLWFsaXZlJylcbiAgICA6IG51bGxcbn1cblxuZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbiAodm5vZGUpIHtcbiAgd2hpbGUgKCh2bm9kZSA9IHZub2RlLnBhcmVudCkpIHtcbiAgICBpZiAodm5vZGUuZGF0YS50cmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG52YXIgVHJhbnNpdGlvbiA9IHtcbiAgbmFtZTogJ3RyYW5zaXRpb24nLFxuICBwcm9wczogdHJhbnNpdGlvblByb3BzLFxuICBhYnN0cmFjdDogdHJ1ZSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWc7IH0pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyB3YXJuIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgd2FybihcbiAgICAgICAgJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQuIFVzZSAnICtcbiAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyxcbiAgICAgICAgdGhpcy4kcGFyZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuXG4gICAgLy8gd2FybiBpbnZhbGlkIG1vZGVcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICBtb2RlICYmIG1vZGUgIT09ICdpbi1vdXQnICYmIG1vZGUgIT09ICdvdXQtaW4nKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgcmF3Q2hpbGQgPSBjaGlsZHJlblswXTtcblxuICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3NcbiAgICAvLyBwYXJlbnQgY29udGFpbmVyIG5vZGUgYWxzbyBoYXMgdHJhbnNpdGlvbiwgc2tpcC5cbiAgICBpZiAoaGFzUGFyZW50VHJhbnNpdGlvbih0aGlzLiR2bm9kZSkpIHtcbiAgICAgIHJldHVybiByYXdDaGlsZFxuICAgIH1cblxuICAgIC8vIGFwcGx5IHRyYW5zaXRpb24gZGF0YSB0byBjaGlsZFxuICAgIC8vIHVzZSBnZXRSZWFsQ2hpbGQoKSB0byBpZ25vcmUgYWJzdHJhY3QgY29tcG9uZW50cyBlLmcuIGtlZXAtYWxpdmVcbiAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY2hpbGQpIHtcbiAgICAgIHJldHVybiByYXdDaGlsZFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9sZWF2aW5nKSB7XG4gICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG4gICAgfVxuXG4gICAgdmFyIGtleSA9IGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsIHx8IGNoaWxkLmlzU3RhdGljXG4gICAgICA/IChcIl9fdlwiICsgKGNoaWxkLnRhZyArIHRoaXMuX3VpZCkgKyBcIl9fXCIpXG4gICAgICA6IGNoaWxkLmtleTtcbiAgICB2YXIgZGF0YSA9IChjaGlsZC5kYXRhIHx8IChjaGlsZC5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpO1xuICAgIHZhciBvbGRSYXdDaGlsZCA9IHRoaXMuX3Zub2RlO1xuICAgIHZhciBvbGRDaGlsZCA9IGdldFJlYWxDaGlsZChvbGRSYXdDaGlsZCk7XG5cbiAgICAvLyBtYXJrIHYtc2hvd1xuICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZVxuICAgIGlmIChjaGlsZC5kYXRhLmRpcmVjdGl2ZXMgJiYgY2hpbGQuZGF0YS5kaXJlY3RpdmVzLnNvbWUoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZSA9PT0gJ3Nob3cnOyB9KSkge1xuICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob2xkQ2hpbGQgJiYgb2xkQ2hpbGQuZGF0YSAmJiBvbGRDaGlsZC5rZXkgIT09IGtleSkge1xuICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG4gICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG4gICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG5cbiAgICAgIC8vIGhhbmRsZSB0cmFuc2l0aW9uIG1vZGVcbiAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xuICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcbiAgICAgICAgdGhpcy5fbGVhdmluZyA9IHRydWU7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdhZnRlckxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMkMS5fbGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMkMS4kZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfSwga2V5KTtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKVxuICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0Jykge1xuICAgICAgICB2YXIgZGVsYXllZExlYXZlO1xuICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkgeyBkZWxheWVkTGVhdmUoKTsgfTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2FmdGVyRW50ZXInLCBwZXJmb3JtTGVhdmUsIGtleSk7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSwga2V5KTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHtcbiAgICAgICAgICBkZWxheWVkTGVhdmUgPSBsZWF2ZTtcbiAgICAgICAgfSwga2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmF3Q2hpbGRcbiAgfVxufTtcblxuLyogICovXG5cbi8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgbGlzdCBpdGVtcy5cbi8vIHN1cHBvcnRzIG1vdmUgdHJhbnNpdGlvbnMgdXNpbmcgdGhlIEZMSVAgdGVjaG5pcXVlLlxuXG4vLyBCZWNhdXNlIHRoZSB2ZG9tJ3MgY2hpbGRyZW4gdXBkYXRlIGFsZ29yaXRobSBpcyBcInVuc3RhYmxlXCIgLSBpLmUuXG4vLyBpdCBkb2Vzbid0IGd1YXJhbnRlZSB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcmVtb3ZlZCBlbGVtZW50cyxcbi8vIHdlIGZvcmNlIHRyYW5zaXRpb24tZ3JvdXAgdG8gdXBkYXRlIGl0cyBjaGlsZHJlbiBpbnRvIHR3byBwYXNzZXM6XG4vLyBpbiB0aGUgZmlyc3QgcGFzcywgd2UgcmVtb3ZlIGFsbCBub2RlcyB0aGF0IG5lZWQgdG8gYmUgcmVtb3ZlZCxcbi8vIHRyaWdnZXJpbmcgdGhlaXIgbGVhdmluZyB0cmFuc2l0aW9uOyBpbiB0aGUgc2Vjb25kIHBhc3MsIHdlIGluc2VydC9tb3ZlXG4vLyBpbnRvIHRoZSBmaW5hbCBkaXNpcmVkIHN0YXRlLiBUaGlzIHdheSBpbiB0aGUgc2Vjb25kIHBhc3MgcmVtb3ZlZFxuLy8gbm9kZXMgd2lsbCByZW1haW4gd2hlcmUgdGhleSBzaG91bGQgYmUuXG5cbnZhciBwcm9wcyA9IGV4dGVuZCh7XG4gIHRhZzogU3RyaW5nLFxuICBtb3ZlQ2xhc3M6IFN0cmluZ1xufSwgdHJhbnNpdGlvblByb3BzKTtcblxuZGVsZXRlIHByb3BzLm1vZGU7XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPSB7XG4gIHByb3BzOiBwcm9wcyxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkge1xuICAgIHZhciB0YWcgPSB0aGlzLnRhZyB8fCB0aGlzLiR2bm9kZS5kYXRhLnRhZyB8fCAnc3Bhbic7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICB2YXIgcmF3Q2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdO1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IHJhd0NoaWxkcmVuW2ldO1xuICAgICAgaWYgKGMudGFnKSB7XG4gICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChjKTtcbiAgICAgICAgICBtYXBbYy5rZXldID0gY1xuICAgICAgICAgIDsoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIG9wdHMgPSBjLmNvbXBvbmVudE9wdGlvbnM7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvcHRzXG4gICAgICAgICAgICA/IChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKVxuICAgICAgICAgICAgOiBjLnRhZztcbiAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcbiAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuICB9LFxuXG4gIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlICgpIHtcbiAgICAvLyBmb3JjZSByZW1vdmluZyBwYXNzXG4gICAgdGhpcy5fX3BhdGNoX18oXG4gICAgICB0aGlzLl92bm9kZSxcbiAgICAgIHRoaXMua2VwdCxcbiAgICAgIGZhbHNlLCAvLyBoeWRyYXRpbmdcbiAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuICAgICk7XG4gICAgdGhpcy5fdm5vZGUgPSB0aGlzLmtlcHQ7XG4gIH0sXG5cbiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCAoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47XG4gICAgdmFyIG1vdmVDbGFzcyA9IHRoaXMubW92ZUNsYXNzIHx8ICgodGhpcy5uYW1lIHx8ICd2JykgKyAnLW1vdmUnKTtcbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5oYXNNb3ZlKGNoaWxkcmVuWzBdLmVsbSwgbW92ZUNsYXNzKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXG4gICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXG4gICAgY2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChhcHBseVRyYW5zbGF0aW9uKTtcblxuICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxuICAgIHZhciBmID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjLmRhdGEubW92ZWQpIHtcbiAgICAgICAgdmFyIGVsID0gYy5lbG07XG4gICAgICAgIHZhciBzID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBlbC5fbW92ZUNiID0gZnVuY3Rpb24gY2IgKGUpIHtcbiAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgY2IpO1xuICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgaGFzTW92ZTogZnVuY3Rpb24gaGFzTW92ZSAoZWwsIG1vdmVDbGFzcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5faGFzTW92ZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNNb3ZlXG4gICAgICB9XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGVsKTtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChjLmVsbS5fbW92ZUNiKSB7XG4gICAgYy5lbG0uX21vdmVDYigpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcbiAgICBjLmVsbS5fZW50ZXJDYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG4gIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcbiAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG4gIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgfVxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxufTtcblxuLyogICovXG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblZ1ZSQyLmNvbmZpZy5pc1Vua25vd25FbGVtZW50ID0gaXNVbmtub3duRWxlbWVudDtcblZ1ZSQyLmNvbmZpZy5pc1Jlc2VydmVkVGFnID0gaXNSZXNlcnZlZFRhZztcblZ1ZSQyLmNvbmZpZy5nZXRUYWdOYW1lc3BhY2UgPSBnZXRUYWdOYW1lc3BhY2U7XG5WdWUkMi5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBydW50aW1lIGRpcmVjdGl2ZXMgJiBjb21wb25lbnRzXG5leHRlbmQoVnVlJDIub3B0aW9ucy5kaXJlY3RpdmVzLCBwbGF0Zm9ybURpcmVjdGl2ZXMpO1xuZXh0ZW5kKFZ1ZSQyLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuVnVlJDIucHJvdG90eXBlLl9fcGF0Y2hfXyA9IGluQnJvd3NlciA/IHBhdGNoJDEgOiBub29wO1xuXG4vLyB3cmFwIG1vdW50XG5WdWUkMi5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiB0aGlzLl9tb3VudChlbCwgaHlkcmF0aW5nKVxufTtcblxuLy8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgaWYgKGNvbmZpZy5kZXZ0b29scykge1xuICAgIGlmIChkZXZ0b29scykge1xuICAgICAgZGV2dG9vbHMuZW1pdCgnaW5pdCcsIFZ1ZSQyKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgaW5Ccm93c2VyICYmIC9DaHJvbWVcXC9cXGQrLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICkge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOlxcbicgK1xuICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcbiAgICAgICk7XG4gICAgfVxuICB9XG59LCAwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWdWUkMjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlL2Rpc3QvdnVlLnJ1bnRpbWUuY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi00ZDY2NzAyMCFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTRkNjY3MDIwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zYXNzL2ZvbnRlbGxvL2Nzcy9mb250ZWxsby5jc3NcIiksIFwiXCIpO1xuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImZvb3RlcjphZnRlcixoZWFkZXI6YWZ0ZXJ7Y29udGVudDonICc7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5leHBhbmQteS1lbnRlci1hY3RpdmUsLmV4cGFuZC15LWxlYXZlLWFjdGl2ZSwubW9kYWwtZW50ZXItYWN0aXZlLC5tb2RhbC1sZWF2ZS1hY3RpdmUsLnBsYXllci1tb3JlLWVudGVyLWFjdGl2ZSwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5leHBhbmQteS1lbnRlciwuZXhwYW5kLXktbGVhdmUtYWN0aXZlLC5tb2RhbC1lbnRlciwubW9kYWwtbGVhdmUtYWN0aXZlLC5wbGF5ZXItbW9yZS1lbnRlciwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zZm9ybTpzY2FsZVkoMCl9LnBsYXllci1tb3JlLWVudGVyLC5wbGF5ZXItbW9yZS1lbnRlci1hY3RpdmUsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciB0b3B9I2JvZHksLmFwcCxib2R5LGh0bWx7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MH1ib2R5e2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xpbmUtaGVpZ2h0OjE4cHh9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9LmFwcHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1mb290ZXIsaGVhZGVye3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMmE3MmJifWZvb3RlciAubGVmdCxoZWFkZXIgLmxlZnR7ZmxvYXQ6bGVmdH1mb290ZXIgLnJpZ2h0LGhlYWRlciAucmlnaHR7ZmxvYXQ6cmlnaHR9Zm9vdGVyIC5jZW50ZXIsaGVhZGVyIC5jZW50ZXJ7bWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXJ9Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3tkaXNwbGF5OmlubGluZS1ibG9ja31AbWVkaWEgKG1heC13aWR0aDo1NDBweCl7Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3twYWRkaW5nLWJvdHRvbToxMHB4O2Rpc3BsYXk6YmxvY2t9Zm9vdGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGQsaGVhZGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH19Lmx5cmljLWVkaXRvcnstbXMtZmxleDoxO2ZsZXg6MTtvdmVyZmxvdzphdXRvfS5mb3JtLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NXB4IDA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uZm9ybS1ncm91cCBsYWJlbHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZy1yaWdodDoxMHB4fS5mb3JtLWdyb3VwIGlucHV0ey1tcy1mbGV4OjE7ZmxleDoxO2hlaWdodDozMHB4O2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtwYWRkaW5nOjAgM3B4O2JvcmRlci1yYWRpdXM6NXB4fS5tZW51LWl0ZW17ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6I2ZmZjtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3BhZGRpbmc6MCA4cHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMyMTU5OTF9LmJ0bntib3JkZXItcmFkaXVzOjVweDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjZweDtmb250LXdlaWdodDpib2xkZXI7Y3Vyc29yOnBvaW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQ6IzExNjFiMztjb2xvcjojZmZmfS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTI0Yjg2fS5idG4ud2hpdGUsZm9vdGVyIC5idG4saGVhZGVyIC5idG57YmFja2dyb3VuZDojZmZmO2NvbG9yOiMxMTYxYjN9LmJ0bi53aGl0ZTpob3Zlcixmb290ZXIgLmJ0bjpob3ZlcixoZWFkZXIgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGZvbnQtZmFjZXtmb250LWZhbWlseTpmb250ZWxsbztzcmM6dXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uZW90PzQwMzU4MjY3XCIpICsgXCIpO3NyYzp1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby5lb3Q/NDAzNTgyNjdcIikgKyBcIiNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLndvZmYyPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSx1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby53b2ZmPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZicpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLnR0Zj80MDM1ODI2N1wiKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uc3ZnPzQwMzU4MjY3XCIpICsgXCIjZm9udGVsbG8pIGZvcm1hdCgnc3ZnJyk7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3R5bGU6bm9ybWFsfVtjbGFzcyo9XFxcIiBpY29uLVxcXCJdOmJlZm9yZSxbY2xhc3NePWljb24tXTpiZWZvcmV7Zm9udC1mYW1pbHk6Zm9udGVsbG87Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO3NwZWFrOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2lkdGg6MWVtO21hcmdpbi1yaWdodDouMmVtO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtdmFyaWFudDpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtsaW5lLWhlaWdodDoxZW07bWFyZ2luLWxlZnQ6LjJlbTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX0uaWNvbi1lZGl0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwMCd9Lmljb24tc2F2ZTpiZWZvcmV7Y29udGVudDonXFxcXEU4MDEnfS5pY29uLXRyYXNoOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMid9Lmljb24tZG93bmxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAzJ30uaWNvbi11cGxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA0J30uaWNvbi1yaWdodDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDUnfS5pY29uLWxlZnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA2J30uaWNvbi11cDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDcnfS5pY29uLWRvd246YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA4J30uaWNvbi12b2x1bWUtb2ZmOmJlZm9yZXtjb250ZW50OidcXFxcRTgwOSd9Lmljb24tdm9sdW1lLXVwOmJlZm9yZXtjb250ZW50OidcXFxcRTgwQSd9Lmljb24tcGx1czpiZWZvcmV7Y29udGVudDonXFxcXEU4MEQnfS5pY29uLWNhbmNlbDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEUnfS5pY29uLWVsbGlwc2lzLXZlcnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBGJ30uaWNvbi1pbmZvOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMCd9Lmljb24taGVscC1jaXJjbGVkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMSd9Lmljb24tcGxheTpiZWZvcmV7Y29udGVudDonXFxcXEU4MTInfS5pY29uLXBhdXNlOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMyd9Lmljb24tZm9yd2FyZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTQnfS5pY29uLWJhY2t3YXJkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNSd9Lmljb24tc3RvcDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTYnfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuL2FwcC9zYXNzL2ZvbnRlbGxvL2Nzcy9mb250ZWxsby5jc3Ncbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmJiNGFlMDgwODRiN2E5MDBiZmUxYzcwM2M5ODhmMzQuZW90XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLmVvdD80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMzEzYTBmOTg3NjcyZGM3N2E4YzI0MzM4MGUyMDg5ZS53b2ZmMlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmMj80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0Y2M5MzAxNjNmNmQ1MDg4ZGZhNWZlZjYxOWQ4N2NiOS53b2ZmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLndvZmY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI0ODM1NDQzMDNmY2ZjN2UxZTM0MTU5YTQxMWZjZGNiLnR0ZlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby50dGY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY0MDM3ZjhkMTZmNDMzNzliMTgwMjA3MDZiZGM5NTY3LnN2Z1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby5zdmc/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW87XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gbWVtbztcblx0XHR9O1xuXHR9LFxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdH0pLFxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblx0fSksXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG5cdFx0aWYobmV3T2JqKSB7XG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlcztcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdGlmIChtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2phdmFzY3JpcHQtZGVidWdnaW5nXG5cdFx0Ly8gdGhpcyBtYWtlcyBzb3VyY2UgbWFwcyBpbnNpZGUgc3R5bGUgdGFncyB3b3JrIHByb3Blcmx5IGluIENocm9tZVxuXHRcdGNzcyArPSAnXFxuLyojIHNvdXJjZVVSTD0nICsgc291cmNlTWFwLnNvdXJjZXNbMF0gKyAnICovJztcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiYXBwXCI+XG4gICAgPGhlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxuYXYtbWVudSBjbGFzcz1cIm1lbnUtaXRlbVwiIDp0aXRsZT1cIiR0KCdidXR0b24udXBsb2FkJylcIj5cbiAgICAgICAgICA8ZGl2IHNsb3Q9XCJ0YXJnZXRcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi11cGxvYWRcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIHNsb3Q9XCJsaXN0XCI+XG4gICAgICAgICAgICA8bGkgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2xyYy1mb3JtYXQtdXBsb2FkJylcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXVwbG9hZFwiPjwvaT4ge3sgJHQoJ21lbnUudXBsb2FkLmxyYycpIH19XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIEBjbGljaz1cIiRyZWZzLm1vZGFscy5zaG93KCdseXJpYy11cGxvYWQnKVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPiB7eyAkdCgnbWVudS51cGxvYWQubHlyaWMnKSB9fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPHVwbG9hZCBhY2NlcHQ9XCJhdWRpby8qXCIgcmVhZC1mb3JtYXQ9XCJ1cmxcIiBAdXBsb2FkPVwidXBsb2FkTXVzaWNcIj57eyAkdCgnbWVudS51cGxvYWQubXVzaWMnKX19PC91cGxvYWQ+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbmF2LW1lbnU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCIkcmVmcy5tb2RhbHMuc2hvdygnbHJjLXNhdmUnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uc2F2ZScpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXNhdmVcIj48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIEBjbGljaz1cImVkaXRpbmc9IWVkaXRpbmdcIiA6dGl0bGU9XCJlZGl0aW5nID8gJHQoJ2J1dHRvbi5jbG9zZV9lZGl0JykgOiAkdCgnYnV0dG9uLm9wZW5fZWRpdCcpXCI+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1pdGVtXCIgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2hlbHAnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uaGVscCcpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWhlbHAtY2lyY2xlZFwiPjwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2hlYWRlcj5cblxuICAgIDxwbGF5ZXJcbiAgICAgIDpzcmM9XCJtdXNpY1VybFwiXG4gICAgICBAdGltZXVwZGF0ZT1cInRpbWV1cGRhdGVcIlxuICAgICAgcmVmPVwicGxheWVyXCI+XG4gICAgPC9wbGF5ZXI+XG5cbiAgICA8bHlyaWMtZWRpdG9yXG4gICAgICBjbGFzcz1cImx5cmljLWVkaXRvclwiXG4gICAgICA6ZWRpdGluZz1cImVkaXRpbmdcIlxuICAgICAgOnJ1bm5lcj1cInJ1bm5lclwiXG4gICAgICA6bHlyaWMtYXJyYXk9XCJseXJpY0FycmF5XCJcbiAgICAgIDpwbGF5dG89XCJwbGF5dG9cIlxuICAgICAgcmVmPVwibHlyaWNcIj5cbiAgICAgIGx5cmljIGVkaXRvclxuICAgIDwvbHlyaWMtZWRpdG9yPlxuXG4gICAgPGZvb3Rlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCJyZW1vdmVMeXJpY1wiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2J1dHRvbi5yZW1vdmVfbHlyaWMnKSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0XCIgdi1pZj1cImVkaXRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIHRpdGxlPVwiW1VQXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCdwcmV2bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ucHJldl9seXJpYycpIH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiB0aXRsZT1cIltET1dOXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCduZXh0bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ubmV4dF9seXJpYycpIH19PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvb3Rlcj5cblxuICAgIDxtb2RhbHMgcmVmPVwibW9kYWxzXCI+PC9tb2RhbHM+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2luZGV4JztcblxuaHRtbCwgYm9keSwgI2JvZHksIC5hcHAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDA7XG59XG5cbmJvZHkge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBsaW5lLWhlaWdodDogMThweDtcbn1cblxuKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5hcHAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG5oZWFkZXIsIGZvb3RlciB7XG4gIEBleHRlbmQgJXJvdztcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWNvbG9yO1xuICAubGVmdCB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gIH1cbiAgLmNlbnRlciB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAubW9iaWxlLXJvdyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIEBpbmNsdWRlIG1vYmlsZSB7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi5seXJpYy1lZGl0b3Ige1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiA1cHggMDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbGFiZWwge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgfVxuICBpbnB1dCB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI0Q2RDZENjtcbiAgICBwYWRkaW5nOiAwIDNweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIH1cbn1cblxuLm1lbnUtaXRlbSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgY29sb3I6IHdoaXRlO1xuICAkaGVpZ2h0OiA0MHB4O1xuICBoZWlnaHQ6ICRoZWlnaHQ7XG4gIGxpbmUtaGVpZ2h0OiAkaGVpZ2h0O1xuICBwYWRkaW5nOiAwIDhweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oJGJsdWUtY29sb3IsIDEwJSk7XG4gIH1cbn1cblxuLmJ0biB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICBiYWNrZ3JvdW5kOiAjMTE2MUIzO1xuICBjb2xvcjogd2hpdGU7XG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjRCODY7XG4gIH1cblxuICBoZWFkZXIgJixcbiAgZm9vdGVyICYsXG4gICYud2hpdGUsXG4gIHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBjb2xvcjogIzExNjFCMztcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFOEUxRTE7XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgVXBsb2FkIGZyb20gJy4vdXBsb2FkJ1xuICBpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJ1xuICBpbXBvcnQgTHlyaWNFZGl0b3IgZnJvbSAnLi9seXJpYy1lZGl0b3InXG4gIGltcG9ydCBNb2RhbHMgZnJvbSAnLi9tb2RhbHMnXG4gIC8vIGltcG9ydCBNZW51IGZyb20gJy4vbWVudSdcbiAgaW1wb3J0IE5hdk1lbnUgZnJvbSAnLi9uYXYtbWVudSdcbiAgaW1wb3J0IHtMcmMsIFJ1bm5lcn0gZnJvbSAnbHJjLWtpdCdcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4uL2NhY2hlJ1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhICgpIHtcbiAgICAgIHZhciBscmNGb3JtYXQgPSBjYWNoZS5scmNGb3JtYXRcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbXVzaWNVcmw6ICcnLFxuICAgICAgICBlZGl0aW5nOiBjYWNoZS5lZGl0aW5nLFxuXG4gICAgICAgIGxyY0Zvcm1hdDogbHJjRm9ybWF0LFxuICAgICAgICBydW5uZXI6IG5ldyBSdW5uZXIoTHJjLnBhcnNlKGxyY0Zvcm1hdCkpLFxuICAgICAgICBseXJpY0FycmF5OiBjYWNoZS5seXJpY0FycmF5XG4gICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB1cGxvYWRNdXNpYyAobXVzaWMpIHtcbiAgICAgICAgLy8gY2FjaGUubXVzaWMgPSBtdXNpY1xuICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmMgPSBtdXNpY1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUx5cmljICgpIHtcbiAgICAgICAgdGhpcy5scmNGb3JtYXQgPSAnJ1xuICAgICAgICB0aGlzLmx5cmljQXJyYXkgPSBbXVxuICAgICAgICB0aGlzLnJ1bm5lciA9IG5ldyBSdW5uZXIoKVxuICAgICAgfSxcbiAgICAgIHBsYXl0byAodGltZSkge1xuICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5wbGF5dG8odGltZSlcbiAgICAgIH0sXG4gICAgICB0aW1ldXBkYXRlICh0aW1lc3RhbXApIHtcbiAgICAgICAgdGhpcy4kcmVmcy5seXJpYy4kZW1pdCgndGltZXVwZGF0ZScsIHRpbWVzdGFtcClcbiAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgZWRpdGluZyAodmFsKSB7XG4gICAgICAgIGNhY2hlLmVkaXRpbmcgPSB2YWxcbiAgICAgIH0sXG4gICAgICBscmNGb3JtYXQgKHZhbCkge1xuICAgICAgICBjYWNoZS5scmNGb3JtYXQgPSB2YWxcbiAgICAgICAgdGhpcy5ydW5uZXIgPSBuZXcgUnVubmVyKExyYy5wYXJzZSh0aGlzLmxyY0Zvcm1hdCkpXG4gICAgICB9LFxuICAgICAgbHlyaWNBcnJheToge1xuICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICBoYW5kbGVyICgpIHtcbiAgICAgICAgICBjYWNoZS5seXJpY0FycmF5ID0gdGhpcy5seXJpY0FycmF5XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgVXBsb2FkLFxuICAgICAgUGxheWVyLFxuICAgICAgTHlyaWNFZGl0b3IsXG4gICAgICBNb2RhbHMsXG4gICAgICAvLyBNZW51LFxuICAgICAgTmF2TWVudSxcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC52dWU/MjZlZjM2ODUiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtMjcwMjQxMjMhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtMjcwMjQxMjNcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC91cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0W3R5cGU9ZmlsZV1bZGF0YS12LTI3MDI0MTIzXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3VwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBAY2xpY2s9XCJ1cGxvYWRcIj5cbiAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPlxuICAgIDxzbG90Pjwvc2xvdD5cbiAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiA6YWNjZXB0PVwiYWNjZXB0XCIgcmVmPVwidXBsb2FkXCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5pbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuZXhwb3J0IGRlZmF1bHQge1xuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVwbG9hZCA9IHRoaXMuJHJlZnMudXBsb2FkXG4gICAgdXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWQuZmlsZXMubGVuZ3RoID4gMCAmJiB0aGlzLnR5cGVfbWF0Y2goKSkge1xuICAgICAgICBpZiAodGhpcy5yZWFkRm9ybWF0ID09PSAndXJsJykge1xuICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwbG9hZCcsIFVSTC5jcmVhdGVPYmplY3RVUkwodXBsb2FkLmZpbGVzWzBdKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwbG9hZCcsIGV2ZW50LnRhcmdldC5yZXN1bHQpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlYWRlclsncmVhZEFzJyArIHRoaXMucmVhZEZvcm1hdF0odXBsb2FkLmZpbGVzWzBdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICByZWFkRm9ybWF0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnVGV4dCcsXG4gICAgfSxcbiAgICBhY2NlcHQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICB1cGxvYWQgKCkge1xuICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xpY2soKVxuICAgIH0sXG4gICAgdHlwZV9tYXRjaCAoKSB7XG4gICAgICBpZiAodGhpcy50eXBlKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IG5ldyBSZWdFeHAoYF4ke3RoaXMudHlwZX0vYClcbiAgICAgICAgcmV0dXJuIG1hdGNoLnRlc3QodGhpcy4kcmVmcy51cGxvYWQuZmlsZXNbMF0udHlwZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9LFxufVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdXBsb2FkLnZ1ZT80NjZmZmRhMiIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLnVwbG9hZFxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG4gIH0pLCBcIiBcIiwgX3ZtLl90KFwiZGVmYXVsdFwiKSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG4gICAgcmVmOiBcInVwbG9hZFwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInR5cGVcIjogXCJmaWxlXCIsXG4gICAgICBcImFjY2VwdFwiOiBfdm0uYWNjZXB0XG4gICAgfVxuICB9KV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtMjcwMjQxMjMhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtOWIyOTQzZmEmc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3BsYXllci52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3BsYXllci52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTliMjk0M2ZhIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL3BsYXllci52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcbl9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTliMjk0M2ZhXCJcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3BsYXllci52dWVcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtOWIyOTQzZmEmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3BsYXllci52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtOWIyOTQzZmEmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucm9vdFtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDozMHB4fS5yb290Lm1vYmlsZVtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDo2MHB4fS5tb3JlW2RhdGEtdi05YjI5NDNmYV0sLnBsYXllcltkYXRhLXYtOWIyOTQzZmFdLC5zb3VuZFtkYXRhLXYtOWIyOTQzZmFde2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpqdXN0aWZ5O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5tb3JlW2RhdGEtdi05YjI5NDNmYV0sLnBsYXllcltkYXRhLXYtOWIyOTQzZmFde2JhY2tncm91bmQ6I2QwZGFlNDtjb2xvcjojMmE3MmJiO2hlaWdodDozMHB4fS5jdHJsLWJ0bltkYXRhLXYtOWIyOTQzZmFde2ZvbnQtc2l6ZToyMHB4O3BhZGRpbmc6MCAxcHh9LnJhbmdlW2RhdGEtdi05YjI5NDNmYV17bWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1yaWdodDo0cHh9LnJhbmdlLm11c2ljW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXg6MTtmbGV4OjF9dGltZS1wYW5lbFtkYXRhLXYtOWIyOTQzZmFde3BhZGRpbmc6MCA1cHh9Lm1vcmVbZGF0YS12LTliMjk0M2ZhXXtoZWlnaHQ6MzBweDstbXMtZmxleC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxMH0ubW9iaWxlIC5tb3JlW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXgtcGFjazpqdXN0aWZ5O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5zb3VuZFtkYXRhLXYtOWIyOTQzZmFde3BhZGRpbmc6MCA1cHg7d2lkdGg6MzAlfS5zb3VuZCAucmFuZ2Uudm9sdW1lW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXg6MTtmbGV4OjF9LnNvdW5kIC5jdHJsLW11dGUtYnRuW2RhdGEtdi05YjI5NDNmYV17d2lkdGg6MjZweDtmb250LXNpemU6MThweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtOWIyOTQzZmEmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwicm9vdFwiIDpjbGFzcz1cInttb2JpbGU6IGlzTW9iaWxlfVwiIHYtc2hvdz1cInNyYy5sZW5ndGhcIiBAbW91c2VvdmVyPVwiaG92ZXI9dHJ1ZVwiIEBtb3VzZWxlYXZlPVwiaG92ZXI9ZmFsc2VcIj5cbiAgICA8ZGl2IGNsYXNzPVwicGxheWVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3RybC1idG5cIiB0aXRsZT1cIltTUEFDRV1cIiBAY2xpY2s9XCJwYXVzZWQgPSAhcGF1c2VkXCI+XG4gICAgICAgIDxpIHYtaWY9XCJwYXVzZWRcIiBjbGFzcz1cImljb24tcGxheVwiPjwvaT5cbiAgICAgICAgPGkgdi1lbHNlIGNsYXNzPVwiaWNvbi1wYXVzZVwiPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImN0cmwtYnRuXCIgdGl0bGU9XCJbTEVGVF1cIiBAY2xpY2s9XCIkZW1pdCgnYmFja3dhcmQnKVwiPlxuICAgICAgICA8aSBjbGFzcz1cImljb24tYmFja3dhcmRcIj48L2k+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjdHJsLWJ0blwiIHRpdGxlPVwiW1JJR0hUXVwiIEBjbGljaz1cIiRlbWl0KCdmb3J3YXJkJylcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJpY29uLWZvcndhcmRcIj48L2k+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxyYW5nZSBjbGFzcz1cInJhbmdlIG11c2ljXCIgOnZhbHVlPVwicHJvY2Vzc1wiIEBzZWVrPVwic2Vla1wiIHJlZj1cIm11c2ljUmFuZ2VcIj48L3JhbmdlPlxuICAgICAgPHRpbWUtcGFuZWwgdi1pZj1cIiFpc01vYmlsZVwiIDpkdXJhdGlvbj1cImR1cmF0aW9uXCIgOmN1cnJlbnQtdGltZT1cImN1cnJlbnRUaW1lXCI+PC90aW1lLXBhbmVsPlxuICAgIDwvZGl2PlxuICAgIDx0cmFuc2l0aW9uIG5hbWU9XCJwbGF5ZXItbW9yZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1vcmVcIiB2LXNob3c9XCJpc01vYmlsZSB8fCBob3ZlclwiPlxuICAgICAgICA8dGltZS1wYW5lbCB2LWlmPVwiaXNNb2JpbGVcIiA6ZHVyYXRpb249XCJkdXJhdGlvblwiIDpjdXJyZW50LXRpbWU9XCJjdXJyZW50VGltZVwiPjwvdGltZS1wYW5lbD5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNvdW5kXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN0cmwtYnRuXCIgQGNsaWNrPVwibXV0ZWQgPSAhbXV0ZWRcIj5cbiAgICAgICAgICAgIDxpIHYtaWY9XCJtdXRlZCB8fCB2b2x1bWUgPT0gMFwiIGNsYXNzPVwiaWNvbi12b2x1bWUtb2ZmXCI+PC9pPlxuICAgICAgICAgICAgPGkgdi1lbHNlIGNsYXNzPVwiaWNvbi12b2x1bWUtdXBcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHJhbmdlIGNsYXNzPVwicmFuZ2Ugdm9sdW1lXCIgOnZhbHVlPVwidm9sdW1lXCIgQHNlZWs9XCJ2b2x1bWVTZWVrXCIgQGRyYWctc2Vlaz1cInZvbHVtZVNlZWtcIiByZWY9XCJzb3VuZFJhbmdlXCI+PC9yYW5nZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L3RyYW5zaXRpb24+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxuQGltcG9ydCBcInNhc3MvYmFzZVwiO1xuXG4kbGluZS1oZWlnaHQ6IDMwcHg7XG5cbi5yb290IHtcbiAgaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XG4gICYubW9iaWxlIHtcbiAgICBoZWlnaHQ6ICRsaW5lLWhlaWdodCAqIDI7XG4gIH1cbn1cblxuJWZsZXgge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbiVsaW5lIHtcbiAgQGV4dGVuZCAlZmxleDtcbiAgYmFja2dyb3VuZDogI0QwREFFNDtcbiAgY29sb3I6ICRibHVlLWNvbG9yO1xuICBoZWlnaHQ6ICRsaW5lLWhlaWdodDtcbn1cblxuLnBsYXllciB7XG4gIEBleHRlbmQgJWxpbmU7XG59XG5cbi5jdHJsLWJ0biB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgcGFkZGluZzogMCAxcHg7XG59XG5cbi5yYW5nZSB7XG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG4gIG1hcmdpbi1yaWdodDogNHB4O1xufVxuXG4ucmFuZ2UubXVzaWMge1xuICBmbGV4OiAxO1xufVxuXG50aW1lLXBhbmVsIHtcbiAgcGFkZGluZzogMCA1cHg7XG59XG5cbi5tb3JlIHtcbiAgQGV4dGVuZCAlbGluZTtcbiAgaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIC5tb2JpbGUgJiB7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMTA7XG59XG5cbi5zb3VuZCB7XG4gIEBleHRlbmQgJWZsZXg7XG4gIHBhZGRpbmc6IDAgNXB4O1xuICB3aWR0aDogMzAlO1xuICAucmFuZ2Uudm9sdW1lIHtcbiAgICBmbGV4OiAxO1xuICB9XG4gIC5jdHJsLW11dGUtYnRuIHtcbiAgICB3aWR0aDogMjZweDtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gIH1cbn1cblxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCBSYW5nZSBmcm9tICcuL3JhbmdlJ1xuaW1wb3J0IFRpbWVQYW5lbCBmcm9tICcuL3RpbWUtcGFuZWwnXG5pbXBvcnQge2dsb2JhbEtleWRvd24sIGlzTW9iaWxlfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaG92ZXI6IGZhbHNlLFxuICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuXG4gICAgICBwcm9jZXNzOiAwLFxuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIHZvbHVtZTogMCxcbiAgICAgIHNyYzogJycsXG4gICAgICBhdWRpbzogbnVsbCxcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZWVrIChwZXJjZW50KSB7XG4gICAgICB0aGlzLnBsYXl0byhwYXJzZUZsb2F0KHBlcmNlbnQgKiB0aGlzLmF1ZGlvLmR1cmF0aW9uKSlcbiAgICB9LFxuICAgIHZvbHVtZVNlZWsgKHBlcmNlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW8udm9sdW1lID0gdGhpcy52b2x1bWUgPSBwZXJjZW50XG4gICAgfSxcbiAgICBwbGF5dG8gKHRpbWUpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgICAvLyBVc2luZyBgbmV4dFRpY2tgXG4gICAgICAvLyBBIGJ1ZyBvbiBjaHJvbWUsIGRhdGFVUkwgbXVzaWMgd2lsbCBvdmVybGFwIHBsYXkgd2hlbiBjaGFuZ2UgY3VycmVudFRpbWUgYmVmb3JlIGNhbGwgYGF1ZGlvLnBsYXkoKWBcbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSB0aW1lXG4gICAgICB9KVxuICAgIH0sXG4gIH0sXG4gIG1vdW50ZWQgKCkge1xuICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpXG4gICAgdGhpcy5hdWRpby5wcmVsb2FkID0gJ21ldGFkYXRhJ1xuICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZHVyYXRpb25jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5hdWRpby5kdXJhdGlvblxuICAgIH0pXG4gICAgLy8gVE9ETyBvbiBwcm9ncmVzc1xuICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lXG4gICAgICB0aGlzLnByb2Nlc3MgPSB0aGlzLmN1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvblxuICAgICAgdGhpcy4kZW1pdCgndGltZXVwZGF0ZScsIHRoaXMuY3VycmVudFRpbWUpXG4gICAgfSlcbiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgdGhpcy4kZW1pdCgndGltZXVwZGF0ZScsIHRoaXMuY3VycmVudFRpbWUpXG4gICAgICB0aGlzLnByb2Nlc3MgPSAwXG4gICAgICB0aGlzLnBhdXNlZCA9IHRydWVcbiAgICB9KVxuICAgIGdsb2JhbEtleWRvd25cbiAgICAub24oWydzcGFjZScsICcgJ10sICgpID0+IHtcbiAgICAgIHRoaXMucGF1c2VkID0gIXRoaXMucGF1c2VkXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9KVxuICAgIC5vbignYXJyb3dsZWZ0JywgKCkgPT4ge1xuICAgICAgdGhpcy4kZW1pdCgnYmFja3dhcmQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcbiAgICAub24oJ2Fycm93cmlnaHQnLCAoKSA9PiB7XG4gICAgICB0aGlzLiRlbWl0KCdmb3J3YXJkJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG5cbiAgICB0aGlzXG4gICAgICAuJG9uKCdiYWNrd2FyZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbGF5dG8odGhpcy5hdWRpby5jdXJyZW50VGltZSAtIDUpXG4gICAgICB9KVxuICAgICAgLiRvbignZm9yd2FyZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbGF5dG8odGhpcy5hdWRpby5jdXJyZW50VGltZSArIDUpXG4gICAgICB9KVxuICB9LFxuICB3YXRjaDoge1xuICAgIHNyYzoge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgICAgaGFuZGxlciAoc3JjKSB7XG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHNyY1xuICAgICAgICAgIHRoaXMucHJvY2VzcyA9IDBcbiAgICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuYXVkaW8udm9sdW1lXG4gICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWVcbiAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5hdWRpby5kdXJhdGlvblxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgcHJvY2VzcyAodmFsKSB7XG4gICAgICB0aGlzLiRyZWZzLm11c2ljUmFuZ2UuY2hhbmdlVmFsdWUodmFsKVxuICAgIH0sXG4gICAgdm9sdW1lICh2YWwpIHtcbiAgICAgIHRoaXMuJHJlZnMuc291bmRSYW5nZS5jaGFuZ2VWYWx1ZSh2YWwpXG4gICAgfSxcbiAgICBtdXRlZCAodmFsKSB7XG4gICAgICB0aGlzLmF1ZGlvLm11dGVkID0gdmFsXG4gICAgfSxcbiAgICBwYXVzZWQgKCkge1xuICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5KClcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgUmFuZ2UsXG4gICAgVGltZVBhbmVsLFxuICB9LFxufVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcGxheWVyLnZ1ZT80M2MxYmQ3NSIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9yYW5nZS52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtNTBiYjUzMGIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vcmFuZ2UudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi01MGJiNTMwYlwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9yYW5nZS52dWVcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9yYW5nZS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9yYW5nZS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTBiYjUzMGImc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvcmFuZ2UudnVlXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5iYXJbZGF0YS12LTUwYmI1MzBiXXtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTBweH0ud3JhcFtkYXRhLXYtNTBiYjUzMGJde3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTIzYjVkO2JvcmRlci1yYWRpdXM6NXB4O292ZXJmbG93OmhpZGRlbn0udmFsdWVbZGF0YS12LTUwYmI1MzBiXXtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMyYTcyYmJ9LnRodW1iW2RhdGEtdi01MGJiNTMwYl17Y3Vyc29yOm1vdmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0zcHg7d2lkdGg6MTBweDtoZWlnaHQ6MTZweDtiYWNrZ3JvdW5kOiNmZmY7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggNXB4IC0ycHggIzBiMjAzMTtib3JkZXItcmFkaXVzOjE2cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3JhbmdlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiYmFyXCIgQGNsaWNrPVwiY2xpY2tcIiByZWY9XCJiYXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwid3JhcFwiPlxuICAgICAgPGRpdiBjbGFzcz1cInZhbHVlXCIgOnN0eWxlPVwie3dpZHRoOiBzZWxmVmFsdWUqMTAwICsgJyUnfVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ0aHVtYlwiIDpzdHlsZT1cIntsZWZ0OiBzZWxmVmFsdWUqMTAwICsgJyUnfVwiIHJlZj1cInRodW1iXCI+PC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxuQGltcG9ydCBcInNhc3MvYmFzZVwiO1xuXG4kcm9vdC1oZWlnaHQ6IDEwcHg7XG5cbi5iYXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogJHJvb3QtaGVpZ2h0O1xufVxuXG4ud3JhcCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxMjNCNUQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnZhbHVlIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmx1ZS1jb2xvcjtcbn1cblxuLnRodW1iIHtcbiAgJHdpZHRoOiAxMHB4O1xuICAkaGVpZ2h0OiAxNnB4O1xuXG4gIGN1cnNvcjogbW92ZTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0oJGhlaWdodCAtICRyb290LWhlaWdodCkgLyAyO1xuICB3aWR0aDogJHdpZHRoO1xuICBoZWlnaHQ6ICRoZWlnaHQ7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3gtc2hhZG93OiBpbnNldCAtMXB4IC0xcHggNXB4IC0ycHggIzBCMjAzMTtcbiAgYm9yZGVyLXJhZGl1czogJGhlaWdodDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0kd2lkdGggLyAyKTtcbn1cbjwvc3R5bGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQge0RyYWdnZXJ9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxmVmFsdWU6IDAsXG4gICAgICBkcmFnaW5nOiBmYWxzZSxcbiAgICAgIGRyYWdWYWx1ZTogMCxcbiAgICB9XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICB2YWxpZGF0b3I6ICh2YWwpID0+IHtcbiAgICAgICAgcmV0dXJuIHZhbCA+PSAwICYmIHZhbCA8PSAxXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjbGljayAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuJHJlZnMudGh1bWIpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLnNlbGZWYWx1ZSA9IHRoaXMub2Zmc2V0MnZhbHVlKGV2ZW50Lm9mZnNldFgpXG4gICAgICB0aGlzLmVtaXRTZWVrKClcbiAgICB9LFxuICAgIGVtaXRTZWVrICgpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3NlZWsnLCB0aGlzLnNlbGZWYWx1ZSlcbiAgICB9LFxuICAgIGVtaXREcmFnU2VlayAoKSB7XG4gICAgICB0aGlzLiRlbWl0KCdkcmFnLXNlZWsnLCB0aGlzLnNlbGZWYWx1ZSlcbiAgICB9LFxuICAgIG9mZnNldDJ2YWx1ZSAob2Zmc2V0KSB7XG4gICAgICByZXR1cm4gb2Zmc2V0IC8gdGhpcy4kcmVmcy5iYXIuY2xpZW50V2lkdGhcbiAgICB9LFxuICAgIGNoYW5nZVZhbHVlICh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmRyYWdpbmcpIHtcbiAgICAgICAgdGhpcy5zZWxmVmFsdWUgPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYlxuICAgIHZhciBiYXIgPSB0aGlzLiRyZWZzLmJhclxuXG4gICAgdmFyIGRyYWdnZXIgPSBuZXcgRHJhZ2dlcih0aHVtYiwgYmFyKVxuICAgIGRyYWdnZXJcbiAgICAub24oJ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gdHJ1ZVxuICAgIH0pXG4gICAgLm9uKCdtb3ZlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShkcmFnZ2VyLm9mZnNldClcbiAgICAgIHRoaXMuZW1pdERyYWdTZWVrKClcbiAgICB9KVxuICAgIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuc2VsZlZhbHVlID0gdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpXG4gICAgICB0aGlzLmVtaXRTZWVrKClcbiAgICB9KVxuICAgIGRyYWdnZXIuY3JlYXRlKClcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJhbmdlLnZ1ZT83MDM3MGVhMyIsImltcG9ydCBFdmVudEVtaXR0ZXIyIGZyb20gJ2V2ZW50ZW1pdHRlcjInXG5pbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGVzYXZlci5qcydcbmltcG9ydCBVbmlkcmFnZ2VyIGZyb20gJ3VuaWRyYWdnZXInXG5pbXBvcnQgaXMgZnJvbSAnaXNfanMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2V4dGVuZCdcbmltcG9ydCBjbG9uZSBmcm9tICdjbG9uZSdcbmltcG9ydCBQS0cgZnJvbSAnLi4vcGFja2FnZS5qc29uJ1xuXG5leHBvcnQgdmFyIGlzTW9iaWxlID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdylcblxuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlciBleHRlbmRzIEV2ZW50RW1pdHRlcjIge1xuICBvbiAoZXZlbnRzLCAuLi5hcmdzKSB7XG4gICAgaWYgKGlzLmFycmF5KGV2ZW50cykpIHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgICBzdXBlci5vbihpdCwgLi4uYXJncylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLm9uKGV2ZW50cywgLi4uYXJncylcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2Nyb2xsZXIge1xuICB0aW1lciA9IFtdXG4gIHNjcm9sbGFibGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpXG5cbiAgY29uc3RydWN0b3IgKHZpZXdwb3J0LCBjb25maWcgPSB7fSkge1xuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuICAgIHRoaXMuY29uZmlnID0gZXh0ZW5kKHtkZWxheTogMywgdGltZTogMSwgc3RlcDogMTAwfSwgY29uZmlnKVxuXG4gICAgdGhpcy52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNDYW5TY3JvbGwoKSkge1xuICAgICAgICB0aGlzLmxldERlbGF5KClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgbGV0RGVsYXkgKCkge1xuICAgIHRoaXMuc2Nyb2xsYWJsZVN0YXJ0VGltZSA9IERhdGUubm93KCkgKyB0aGlzLmNvbmZpZy5kZWxheSAqIDEwMDBcbiAgfVxuXG4gIGNsZWFyVGltZXIgKCkge1xuICAgIHRoaXMudGltZXIuZm9yRWFjaCgoaXQpID0+IGNsZWFyVGltZW91dChpdCkpXG4gICAgdGhpcy50aW1lciA9IFtdXG4gIH1cblxuICBpc0NhblNjcm9sbCAoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgPiB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWVcbiAgfVxuXG4gIHNjcm9sbFRvICh0YXJnZXRUb3AsIGZvcmNlID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMuaXNDYW5TY3JvbGwoKSAmJiBmb3JjZSA9PT0gZmFsc2UpIHsgcmV0dXJuIH1cbiAgICB0aGlzLmNsZWFyVGltZXIoKVxuXG4gICAgdmFyIHN0YXJ0VG9wID0gdGhpcy52aWV3cG9ydC5zY3JvbGxUb3BcbiAgICB2YXIgZW5kVG9wID0gdGFyZ2V0VG9wXG4gICAgdmFyIGRpZmZUb3AgPSBlbmRUb3AgLSBzdGFydFRvcFxuICAgIGlmIChkaWZmVG9wID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgcGVyU3RlcCA9IGRpZmZUb3AgLyB0aGlzLmNvbmZpZy5zdGVwXG5cbiAgICB2YXIgY3VyVG9wID0gc3RhcnRUb3BcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuY29uZmlnLnN0ZXA7ICsraSkge1xuICAgICAgKChpKSA9PiB7XG4gICAgICAgIHRoaXMudGltZXIucHVzaChzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoY3VyVG9wICE9PSB0aGlzLnZpZXdwb3J0LnNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKClcbiAgICAgICAgICAgIHRoaXMubGV0RGVsYXkoKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LnNjcm9sbFRvcCA9IHN0YXJ0VG9wICsgcGVyU3RlcCAqIGlcbiAgICAgICAgICAgIGN1clRvcCA9IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wXG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmNvbmZpZy50aW1lICogMTAwMCAqIGkgLyB0aGlzLmNvbmZpZy5zdGVwKSlcbiAgICAgIH0pKGkpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxheUhvdmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgc3RhdGljIExhc3RIb3ZlciA9IG51bGxcbiAgZW50ZXJUaW1lciA9IG51bGxcbiAgbGVhdmVUaW1lciA9IG51bGxcbiAgc2hvdyA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IgKGVsZW1lbnQsIGNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmNmZyA9IGV4dGVuZCh7XG4gICAgICBlbnRlckRlbGF5OiAwLjUsXG4gICAgICBsZWF2ZURlbGF5OiAwLjMsXG4gICAgICB1bmlxdWU6IHRydWUsXG4gICAgfSwgY29uZmlnKVxuXG4gICAgdGhpcy5ob3ZlcigoKSA9PiB7XG4gICAgICB0aGlzLnNob3cgPSB0cnVlXG4gICAgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5zaG93ID0gZmFsc2VcbiAgICB9KVxuXG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnNob3cpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2xlYXZlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTGFzdEhvdmVyKClcbiAgICAgICAgICB0aGlzLmVtaXQoJ2VudGVyJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJMZWF2ZVRpbWVyKClcbiAgICAgICAgdGhpcy5lbnRlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZUxhc3RIb3ZlcigpXG4gICAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIgPSB0aGlzXG4gICAgICAgICAgdGhpcy5lbWl0KCdlbnRlcicpXG4gICAgICAgIH0sIDEwMDAgKiB0aGlzLmNmZy5lbnRlckRlbGF5KVxuICAgICAgfSlcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsZWFyRW50ZXJUaW1lcigpXG4gICAgICAgIHRoaXMubGVhdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZW1pdCgnbGVhdmUnKVxuICAgICAgICB9LCAxMDAwICogdGhpcy5jZmcubGVhdmVEZWxheSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY2xvc2VMYXN0SG92ZXIgKCkge1xuICAgIGlmICh0aGlzLmNmZy51bmlxdWUgJiZcbiAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIgJiZcbiAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIgIT09IHRoaXNcbiAgICAgICApIHtcbiAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyLmVtaXQoJ2xlYXZlJylcbiAgICB9XG4gIH1cblxuICBjbGVhckxlYXZlVGltZXIgKCkge1xuICAgIGlmICh0aGlzLmxlYXZlVGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZXIpXG4gICAgICB0aGlzLmxlYXZlVGltZXIgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgY2xlYXJFbnRlclRpbWVyICgpIHtcbiAgICBpZiAodGhpcy5lbnRlclRpbWVyICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVyKVxuICAgICAgdGhpcy5lbnRlclRpbWVyID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGhvdmVyIChlbnRlciwgbGVhdmUpIHtcbiAgICB0aGlzXG4gICAgLm9uKCdlbnRlcicsIGVudGVyKVxuICAgIC5vbignbGVhdmUnLCBsZWF2ZSlcbiAgfVxufVxuXG52YXIgaXNGaWxlU2F2ZXJTdXBwb3J0ZWRcbnRyeSB7XG4gIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gISFuZXcgQmxvYigpXG59IGNhdGNoIChlKSB7XG4gIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVMcmMgKHN0ciwgbmFtZSkge1xuICBpZiAoaXNGaWxlU2F2ZXJTdXBwb3J0ZWQpIHtcbiAgICBGaWxlU2F2ZXIuc2F2ZUFzKFxuICAgICAgbmV3IEJsb2IoW3N0cl0sIHt0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04J30pLFxuICAgICAgYCR7bmFtZX0ubHJjYFxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBhbGVydCgnUGxlYXNlIHVwZ3JhZGUgeW91ciBicm93c2VyJylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FjaGUge1xuICB2ZXJzaW9uID0gMlxuXG4gIGNvbnN0cnVjdG9yIChwcmVmaXggPSBQS0cubmFtZSkge1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4XG4gIH1cblxuICByZWFkICgpIHtcbiAgICB2YXIgZGF0YVxuICAgIGlmICh0aGlzLnByZWZpeCBpbiBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt0aGlzLnByZWZpeF0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLiR2ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt9XG4gIH1cblxuICB3cml0ZSAoZGF0YSkge1xuICAgIGRhdGEuJHZlcnNpb24gPSB0aGlzLnZlcnNpb25cbiAgICBsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgfVxuXG4gIGdldCAoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMucmVhZCgpXG4gICAgcmV0dXJuIChrZXkgaW4gZGF0YSkgPyBkYXRhW2tleV0gOiBkZWZhdWx0VmFsdWVcbiAgfVxuXG4gIHNldCAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKClcbiAgICBkYXRhW2tleV0gPSB2YWx1ZVxuICAgIHRyeSB7XG4gICAgICB0aGlzLndyaXRlKGRhdGEpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdmFyIGNhY2hlID0gbmV3IENhY2hlKClcblxuZXhwb3J0IHZhciBnbG9iYWxLZXlkb3duID0gbmV3IEV2ZW50RW1pdHRlcigpXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICBpZiAoLyhpbnB1dHxzZWxlY3R8b3B0aW9ufHRleHRhcmVhKS8udGVzdChcbiAgICBldmVudC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuICApIHJldHVyblxuXG4gIHZhciBjb2RlID0gZXZlbnQua2V5IHx8IGV2ZW50LmNvZGVcbiAgdmFyIGhhc0ZhbHNlID0gZ2xvYmFsS2V5ZG93bi5saXN0ZW5lcnMoY29kZS50b0xvd2VyQ2FzZSgpKVxuICAgIC5tYXAoKGZuKSA9PiBmbihldmVudCkpXG4gICAgLnNvbWUoKGZsYWcpID0+IGZsYWcgPT09IGZhbHNlKVxuICBpZiAoaGFzRmFsc2UpIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbn0pXG5cbmV4cG9ydCBjbGFzcyBEcmFnZ2VyIGV4dGVuZHMgVW5pZHJhZ2dlciB7XG4gIGNvbnN0cnVjdG9yIChlbGVtLCBjb250YWluZXIpIHtcbiAgICBzdXBlcihlbGVtKVxuICAgIHRoaXMuZWUgPSBuZXcgRXZlbnRFbWl0dGVyKClcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgfVxuXG4gIG9uICguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuZWUub24oLi4uYXJncylcbiAgfVxuXG4gIGVtaXQgKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lZS5lbWl0KC4uLmFyZ3MpXG4gIH1cblxuICBjcmVhdGUgKCkge1xuICAgIHRoaXMuaGFuZGxlcyA9IFsgdGhpcy5lbGVtZW50IF1cbiAgICB0aGlzLmJpbmRIYW5kbGVzKClcbiAgfVxuXG4gIGRyYWdTdGFydCAoZXZlbnQpIHtcbiAgICB0aGlzLmRyYWdTdGFydFBvaW50LmxlZnQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0TGVmdFxuICAgIHRoaXMuZW1pdCgnc3RhcnQnLCBldmVudClcbiAgfVxuXG4gIGRyYWdNb3ZlIChldmVudCwgcG9pbnRlciwgbW92ZVZlY3Rvcikge1xuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ICsgbW92ZVZlY3Rvci54XG4gICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkge1xuICAgICAgdGhpcy5vZmZzZXQgPSAwXG4gICAgfSBlbHNlIGlmICh0aGlzLm9mZnNldCA+IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoXG4gICAgfVxuICAgIHRoaXMuZW1pdCgnbW92ZScsIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKVxuICB9XG5cbiAgZHJhZ0VuZCAoZXZlbnQsIHBvaW50ZXIpIHtcbiAgICB0aGlzLmVtaXQoJ2VuZCcsIGV2ZW50LCBwb2ludGVyKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lc3RhbXAydGltZXN0ciAodGltZSwgb25seUludGVnZXIgPSBmYWxzZSkge1xuICBpZiAoIXRpbWUpIHtcbiAgICB0aW1lID0gMFxuICB9XG4gIHZhciBwYWRaZXJvID0gKG51bSwgc2l6ZSA9IDIpID0+IHtcbiAgICBudW0gPSBudW0udG9TdHJpbmcoKVxuICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSBudW0gPSAnMCcgKyBudW1cbiAgICByZXR1cm4gbnVtXG4gIH1cbiAgaWYgKG9ubHlJbnRlZ2VyKSB7XG4gICAgcmV0dXJuIGAke3BhZFplcm8ocGFyc2VJbnQodGltZSAvIDYwLCAxMCkpfToke3BhZFplcm8ocGFyc2VJbnQodGltZSAlIDYwLCAxMCkpfWBcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7cGFkWmVybyhwYXJzZUludCh0aW1lIC8gNjAsIDEwKSl9OiR7cGFkWmVybygodGltZSAlIDYwKS50b0ZpeGVkKDIpLCAyKX1gXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdHIydGltZXN0YW1wIChzdHIpIHtcbiAgdmFyIFttaW51dGUsIHNlY29uZF0gPSBzdHIuc3BsaXQoJzonKVxuICByZXR1cm4gcGFyc2VJbnQobWludXRlLCAxMCkgKiA2MCArIHBhcnNlRmxvYXQoc2Vjb25kKVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbHRpcFBvc2l0aW9uIHtcbiAgZGlycyA9IFtcbiAgICAnYm90dG9tJyxcbiAgICAncmlnaHQnLFxuICAgICd0b3AnLFxuICAgICdsZWZ0JyxcbiAgXVxuXG4gIGNvbnN0cnVjdG9yICh0YXJnZXQsIHRvb2x0aXAsIGRpciA9ICdib3R0b20nKSB7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLnRvb2x0aXAgPSB0b29sdGlwXG4gICAgdGhpcy52aWV3cG9ydCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIHRoaXMuZ2VuZXJhdGVEaXJzKGRpcilcbiAgfVxuXG4gIGdlbmVyYXRlRGlycyAoZGlyKSB7XG4gICAgdmFyIGlkeCA9IHRoaXMuZGlycy5pbmRleE9mKGRpcilcbiAgICB0aGlzLmRpcnMuc3BsaWNlKGlkeCwgMSlcbiAgICB0aGlzLmRpcnMudW5zaGlmdChkaXIpXG4gIH1cblxuICBjaGVja1JlY3RPdmVyZmxvdyAocmVjdCkge1xuICAgIHJldHVybiByZWN0LmxlZnQgPj0gMCAmJlxuICAgICAgcmVjdC50b3AgPj0gMCAmJlxuICAgICAgcmVjdC5yaWdodCA8PSB0aGlzLnZpZXdwb3J0LmNsaWVudFdpZHRoICYmXG4gICAgICByZWN0LmJvdHRvbSA8PSB0aGlzLnZpZXdwb3J0LmNsaWVudEhlaWdodFxuICB9XG5cbiAgcmVjdE92ZXJmbG93Q291bnQgKHJlY3QpIHtcbiAgICB2YXIgbmVnYXRpdmUgPSAodmFsKSA9PiB2YWwgPCAwID8gdmFsIDogMFxuICAgIHJldHVybiBuZWdhdGl2ZShyZWN0LmxlZnQpICtcbiAgICAgIG5lZ2F0aXZlKHJlY3QudG9wKSArXG4gICAgICBuZWdhdGl2ZSh0aGlzLnZpZXdwb3J0LmNsaWVudFdpZHRoIC0gcmVjdC5yaWdodCkgK1xuICAgICAgbmVnYXRpdmUodGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQgLSByZWN0LmJvdHRvbSlcbiAgfVxuXG4gIHBvc2l0aW9uICgpIHtcbiAgICB2YXIgcmVjdCA9IHRoaXMudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdmFyIHdpZHRoID0gdGhpcy50b29sdGlwLmNsaWVudFdpZHRoXG4gICAgdmFyIGhlaWdodCA9IHRoaXMudG9vbHRpcC5jbGllbnRIZWlnaHRcblxuICAgIHZhciB0b29sdGlwUmVjdCA9IHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIH1cblxuICAgIHZhciBvdmVyZmxvd1ZhbHVlcyA9IFtdXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGlycy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGRpciA9IHRoaXMuZGlyc1tpXVxuICAgICAgc3dpdGNoICh0aGlzLmRpcnNbaV0pIHtcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB3aWR0aCAvIDJcbiAgICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHRvb2x0aXBSZWN0LmxlZnQgKyB3aWR0aFxuICAgICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QuYm90dG9tXG4gICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gKyBoZWlnaHRcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIHdpZHRoIC8gMlxuICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoXG4gICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgLSBoZWlnaHRcbiAgICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSByZWN0LnRvcFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgLSB3aWR0aFxuICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0XG4gICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSBoZWlnaHQgLyAyXG4gICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gdG9vbHRpcFJlY3QudG9wICsgaGVpZ2h0XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LnJpZ2h0XG4gICAgICAgICAgdG9vbHRpcFJlY3QucmlnaHQgPSByZWN0LnJpZ2h0ICsgd2lkdGhcbiAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDJcbiAgICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSB0b29sdGlwUmVjdC50b3AgKyBoZWlnaHRcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBvdmVyZmxvd1ZhbHVlcy5wdXNoKFt0aGlzLnJlY3RPdmVyZmxvd0NvdW50KHRvb2x0aXBSZWN0KSwgZGlyLCBjbG9uZSh0b29sdGlwUmVjdCldKVxuICAgIH1cblxuICAgIG92ZXJmbG93VmFsdWVzLnNvcnQoKGEsIGIpID0+IGJbMF0gLSBhWzBdKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRpcjogb3ZlcmZsb3dWYWx1ZXNbMF1bMV0sXG4gICAgICByZWN0OiBvdmVyZmxvd1ZhbHVlc1swXVsyXSxcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3V0aWxzLmpzIiwiLyohXHJcbiAqIEV2ZW50RW1pdHRlcjJcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hpajFueC9FdmVudEVtaXR0ZXIyXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMyBoaWoxbnhcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuOyFmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5ID8gQXJyYXkuaXNBcnJheSA6IGZ1bmN0aW9uIF9pc0FycmF5KG9iaikge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XHJcbiAgfTtcclxuICB2YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xyXG5cclxuICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdGhpcy5fZXZlbnRzID0ge307XHJcbiAgICBpZiAodGhpcy5fY29uZikge1xyXG4gICAgICBjb25maWd1cmUuY2FsbCh0aGlzLCB0aGlzLl9jb25mKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShjb25mKSB7XHJcbiAgICBpZiAoY29uZikge1xyXG4gICAgICB0aGlzLl9jb25mID0gY29uZjtcclxuXHJcbiAgICAgIGNvbmYuZGVsaW1pdGVyICYmICh0aGlzLmRlbGltaXRlciA9IGNvbmYuZGVsaW1pdGVyKTtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGNvbmYubWF4TGlzdGVuZXJzICE9PSB1bmRlZmluZWQgPyBjb25mLm1heExpc3RlbmVycyA6IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcbiAgICAgIGNvbmYud2lsZGNhcmQgJiYgKHRoaXMud2lsZGNhcmQgPSBjb25mLndpbGRjYXJkKTtcclxuICAgICAgY29uZi5uZXdMaXN0ZW5lciAmJiAodGhpcy5uZXdMaXN0ZW5lciA9IGNvbmYubmV3TGlzdGVuZXIpO1xyXG4gICAgICBjb25mLnZlcmJvc2VNZW1vcnlMZWFrICYmICh0aGlzLnZlcmJvc2VNZW1vcnlMZWFrID0gY29uZi52ZXJib3NlTWVtb3J5TGVhayk7XHJcblxyXG4gICAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJUcmVlID0ge307XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBkZWZhdWx0TWF4TGlzdGVuZXJzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbG9nUG9zc2libGVNZW1vcnlMZWFrKGNvdW50LCBldmVudE5hbWUpIHtcclxuICAgIHZhciBlcnJvck1zZyA9ICcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcclxuICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcclxuICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJztcclxuXHJcbiAgICBpZih0aGlzLnZlcmJvc2VNZW1vcnlMZWFrKXtcclxuICAgICAgZXJyb3JNc2cgKz0gJyBFdmVudCBuYW1lOiAlcy4nO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnLCBjb3VudCwgZXZlbnROYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGNvdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29uc29sZS50cmFjZSl7XHJcbiAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihjb25mKSB7XHJcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgIHRoaXMubmV3TGlzdGVuZXIgPSBmYWxzZTtcclxuICAgIHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBmYWxzZTtcclxuICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIGNvbmYpO1xyXG4gIH1cclxuICBFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIGV4cG9ydGluZyBFdmVudEVtaXR0ZXIgcHJvcGVydHlcclxuXHJcbiAgLy9cclxuICAvLyBBdHRlbnRpb24sIGZ1bmN0aW9uIHJldHVybiB0eXBlIG5vdyBpcyBhcnJheSwgYWx3YXlzICFcclxuICAvLyBJdCBoYXMgemVybyBlbGVtZW50cyBpZiBubyBhbnkgbWF0Y2hlcyBmb3VuZCBhbmQgb25lIG9yIG1vcmVcclxuICAvLyBlbGVtZW50cyAobGVhZnMpIGlmIHRoZXJlIGFyZSBtYXRjaGVzXHJcbiAgLy9cclxuICBmdW5jdGlvbiBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIGkpIHtcclxuICAgIGlmICghdHJlZSkge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICB2YXIgbGlzdGVuZXJzPVtdLCBsZWFmLCBsZW4sIGJyYW5jaCwgeFRyZWUsIHh4VHJlZSwgaXNvbGF0ZWRCcmFuY2gsIGVuZFJlYWNoZWQsXHJcbiAgICAgICAgdHlwZUxlbmd0aCA9IHR5cGUubGVuZ3RoLCBjdXJyZW50VHlwZSA9IHR5cGVbaV0sIG5leHRUeXBlID0gdHlwZVtpKzFdO1xyXG4gICAgaWYgKGkgPT09IHR5cGVMZW5ndGggJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIElmIGF0IHRoZSBlbmQgb2YgdGhlIGV2ZW50KHMpIGxpc3QgYW5kIHRoZSB0cmVlIGhhcyBsaXN0ZW5lcnNcclxuICAgICAgLy8gaW52b2tlIHRob3NlIGxpc3RlbmVycy5cclxuICAgICAgLy9cclxuICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKHRyZWUuX2xpc3RlbmVycyk7XHJcbiAgICAgICAgcmV0dXJuIFt0cmVlXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGxlYWYgPSAwLCBsZW4gPSB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoOyBsZWFmIDwgbGVuOyBsZWFmKyspIHtcclxuICAgICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzW2xlYWZdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFt0cmVlXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgoY3VycmVudFR5cGUgPT09ICcqJyB8fCBjdXJyZW50VHlwZSA9PT0gJyoqJykgfHwgdHJlZVtjdXJyZW50VHlwZV0pIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gSWYgdGhlIGV2ZW50IGVtaXR0ZWQgaXMgJyonIGF0IHRoaXMgcGFydFxyXG4gICAgICAvLyBvciB0aGVyZSBpcyBhIGNvbmNyZXRlIG1hdGNoIGF0IHRoaXMgcGF0Y2hcclxuICAgICAgLy9cclxuICAgICAgaWYgKGN1cnJlbnRUeXBlID09PSAnKicpIHtcclxuICAgICAgICBmb3IgKGJyYW5jaCBpbiB0cmVlKSB7XHJcbiAgICAgICAgICBpZiAoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgdHJlZS5oYXNPd25Qcm9wZXJ0eShicmFuY2gpKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGkrMSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdGVuZXJzO1xyXG4gICAgICB9IGVsc2UgaWYoY3VycmVudFR5cGUgPT09ICcqKicpIHtcclxuICAgICAgICBlbmRSZWFjaGVkID0gKGkrMSA9PT0gdHlwZUxlbmd0aCB8fCAoaSsyID09PSB0eXBlTGVuZ3RoICYmIG5leHRUeXBlID09PSAnKicpKTtcclxuICAgICAgICBpZihlbmRSZWFjaGVkICYmIHRyZWUuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgLy8gVGhlIG5leHQgZWxlbWVudCBoYXMgYSBfbGlzdGVuZXJzLCBhZGQgaXQgdG8gdGhlIGhhbmRsZXJzLlxyXG4gICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIHR5cGVMZW5ndGgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB0cmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgaWYoYnJhbmNoID09PSAnKicgfHwgYnJhbmNoID09PSAnKionKSB7XHJcbiAgICAgICAgICAgICAgaWYodHJlZVticmFuY2hdLl9saXN0ZW5lcnMgJiYgIWVuZFJlYWNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIHR5cGVMZW5ndGgpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoYnJhbmNoID09PSBuZXh0VHlwZSkge1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGkrMikpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIE5vIG1hdGNoIG9uIHRoaXMgb25lLCBzaGlmdCBpbnRvIHRoZSB0cmVlIGJ1dCBub3QgaW4gdGhlIHR5cGUgYXJyYXkuXHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2N1cnJlbnRUeXBlXSwgaSsxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgeFRyZWUgPSB0cmVlWycqJ107XHJcbiAgICBpZiAoeFRyZWUpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHRyZWUgd2lsbCBhbGxvdyBhbnkgbWF0Y2ggZm9yIHRoaXMgcGFydCxcclxuICAgICAgLy8gdGhlbiByZWN1cnNpdmVseSBleHBsb3JlIGFsbCBicmFuY2hlcyBvZiB0aGUgdHJlZVxyXG4gICAgICAvL1xyXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHhUcmVlLCBpKzEpO1xyXG4gICAgfVxyXG5cclxuICAgIHh4VHJlZSA9IHRyZWVbJyoqJ107XHJcbiAgICBpZih4eFRyZWUpIHtcclxuICAgICAgaWYoaSA8IHR5cGVMZW5ndGgpIHtcclxuICAgICAgICBpZih4eFRyZWUuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGxpc3RlbmVyIG9uIGEgJyoqJywgaXQgd2lsbCBjYXRjaCBhbGwsIHNvIGFkZCBpdHMgaGFuZGxlci5cclxuICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIGFycmF5cyBvZiBtYXRjaGluZyBuZXh0IGJyYW5jaGVzIGFuZCBvdGhlcnMuXHJcbiAgICAgICAgZm9yKGJyYW5jaCBpbiB4eFRyZWUpIHtcclxuICAgICAgICAgIGlmKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHh4VHJlZS5oYXNPd25Qcm9wZXJ0eShicmFuY2gpKSB7XHJcbiAgICAgICAgICAgIGlmKGJyYW5jaCA9PT0gbmV4dFR5cGUpIHtcclxuICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBuZXh0IGVsZW1lbnQgd2lsbCBtYXRjaCwgc28ganVtcCB0d2ljZS5cclxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoYnJhbmNoID09PSBjdXJyZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgIC8vIEN1cnJlbnQgbm9kZSBtYXRjaGVzLCBtb3ZlIGludG8gdGhlIHRyZWUuXHJcbiAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWVbYnJhbmNoXSwgaSsxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaCA9IHt9O1xyXG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoW2JyYW5jaF0gPSB4eFRyZWVbYnJhbmNoXTtcclxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHsgJyoqJzogaXNvbGF0ZWRCcmFuY2ggfSwgaSsxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgLy8gV2UgaGF2ZSByZWFjaGVkIHRoZSBlbmQgYW5kIHN0aWxsIG9uIGEgJyoqJ1xyXG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoKTtcclxuICAgICAgfSBlbHNlIGlmKHh4VHJlZVsnKiddICYmIHh4VHJlZVsnKiddLl9saXN0ZW5lcnMpIHtcclxuICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVsnKiddLCB0eXBlTGVuZ3RoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBncm93TGlzdGVuZXJUcmVlKHR5cGUsIGxpc3RlbmVyKSB7XHJcblxyXG4gICAgdHlwZSA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyBMb29rcyBmb3IgdHdvIGNvbnNlY3V0aXZlICcqKicsIGlmIHNvLCBkb24ndCBhZGQgdGhlIGV2ZW50IGF0IGFsbC5cclxuICAgIC8vXHJcbiAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0eXBlLmxlbmd0aDsgaSsxIDwgbGVuOyBpKyspIHtcclxuICAgICAgaWYodHlwZVtpXSA9PT0gJyoqJyAmJiB0eXBlW2krMV0gPT09ICcqKicpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgdHJlZSA9IHRoaXMubGlzdGVuZXJUcmVlO1xyXG4gICAgdmFyIG5hbWUgPSB0eXBlLnNoaWZ0KCk7XHJcblxyXG4gICAgd2hpbGUgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgaWYgKCF0cmVlW25hbWVdKSB7XHJcbiAgICAgICAgdHJlZVtuYW1lXSA9IHt9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0cmVlID0gdHJlZVtuYW1lXTtcclxuXHJcbiAgICAgIGlmICh0eXBlLmxlbmd0aCA9PT0gMCkge1xyXG5cclxuICAgICAgICBpZiAoIXRyZWUuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gbGlzdGVuZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gW3RyZWUuX2xpc3RlbmVyc107XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgIXRyZWUuX2xpc3RlbmVycy53YXJuZWQgJiZcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA+IDAgJiZcclxuICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLmxlbmd0aCA+IHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnNcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMud2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdHJlZS5fbGlzdGVuZXJzLmxlbmd0aCwgbmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIG5hbWUgPSB0eXBlLnNoaWZ0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW5cclxuICAvLyAxMCBsaXN0ZW5lcnMgYXJlIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2hcclxuICAvLyBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cclxuICAvL1xyXG4gIC8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xyXG4gIC8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmRlbGltaXRlciA9ICcuJztcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XHJcbiAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcbiAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBuO1xyXG4gICAgICBpZiAoIXRoaXMuX2NvbmYpIHRoaXMuX2NvbmYgPSB7fTtcclxuICAgICAgdGhpcy5fY29uZi5tYXhMaXN0ZW5lcnMgPSBuO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnQgPSAnJztcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKSB7XHJcbiAgICB0aGlzLm1hbnkoZXZlbnQsIDEsIGZuKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubWFueSA9IGZ1bmN0aW9uKGV2ZW50LCB0dGwsIGZuKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xyXG4gICAgICBpZiAoLS10dGwgPT09IDApIHtcclxuICAgICAgICBzZWxmLm9mZihldmVudCwgbGlzdGVuZXIpO1xyXG4gICAgICB9XHJcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuZXIuX29yaWdpbiA9IGZuO1xyXG5cclxuICAgIHRoaXMub24oZXZlbnQsIGxpc3RlbmVyKTtcclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnbmV3TGlzdGVuZXInICYmICF0aGlzLm5ld0xpc3RlbmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgIHZhciBhcmdzLGwsaSxqO1xyXG4gICAgdmFyIGhhbmRsZXI7XHJcblxyXG4gICAgaWYgKHRoaXMuX2FsbCAmJiB0aGlzLl9hbGwubGVuZ3RoKSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9hbGwuc2xpY2UoKTtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwpO1xyXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgaGFuZGxlciA9IFtdO1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgIC8vIG5lZWQgdG8gbWFrZSBjb3B5IG9mIGhhbmRsZXJzIGJlY2F1c2UgbGlzdCBjYW4gY2hhbmdlIGluIHRoZSBtaWRkbGVcclxuICAgICAgICAvLyBvZiBlbWl0IGNhbGxcclxuICAgICAgICBoYW5kbGVyID0gaGFuZGxlci5zbGljZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGFyZ3VtZW50c1sxXTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAhIXRoaXMuX2FsbDtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXRBc3luYyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtmYWxzZV0pOyB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHByb21pc2VzPSBbXTtcclxuXHJcbiAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgdmFyIGFyZ3MsbCxpLGo7XHJcbiAgICB2YXIgaGFuZGxlcjtcclxuXHJcbiAgICBpZiAodGhpcy5fYWxsKSB7XHJcbiAgICAgIGlmIChhbCA+IDMpIHtcclxuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fYWxsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgIGhhbmRsZXIgPSBbXTtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXIsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcykpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XHJcbiAgICAgIGlmIChhbCA+IDMpIHtcclxuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcbiAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhcmd1bWVudHNbMV0pOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XHJcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5vbkFueSh0eXBlKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uIG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PSBcIm5ld0xpc3RlbmVyc1wiISBCZWZvcmVcclxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJzXCIuXHJcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xyXG5cclxuICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgIGdyb3dMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XHJcbiAgICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIC8vIENoYW5nZSB0byBhcnJheS5cclxuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgJiZcclxuICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgsIHR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbkFueSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb25Bbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5fYWxsKSB7XHJcbiAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCB0aGUgZnVuY3Rpb24gdG8gdGhlIGV2ZW50IGxpc3RlbmVyIGNvbGxlY3Rpb24uXHJcbiAgICB0aGlzLl9hbGwucHVzaChmbik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xyXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUxpc3RlbmVyIG9ubHkgdGFrZXMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGhhbmRsZXJzLGxlYWZzPVtdO1xyXG5cclxuICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyBkb2VzIG5vdCB1c2UgbGlzdGVuZXJzKCksIHNvIG5vIHNpZGUgZWZmZWN0IG9mIGNyZWF0aW5nIF9ldmVudHNbdHlwZV1cclxuICAgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHJldHVybiB0aGlzO1xyXG4gICAgICBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgbGVhZnMucHVzaCh7X2xpc3RlbmVyczpoYW5kbGVyc30pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG4gICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuICAgICAgaGFuZGxlcnMgPSBsZWFmLl9saXN0ZW5lcnM7XHJcbiAgICAgIGlmIChpc0FycmF5KGhhbmRsZXJzKSkge1xyXG5cclxuICAgICAgICB2YXIgcG9zaXRpb24gPSAtMTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGxpc3RlbmVyIHx8XHJcbiAgICAgICAgICAgIChoYW5kbGVyc1tpXS5saXN0ZW5lciAmJiBoYW5kbGVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcbiAgICAgICAgICAgIChoYW5kbGVyc1tpXS5fb3JpZ2luICYmIGhhbmRsZXJzW2ldLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgICAgICBsZWFmLl9saXN0ZW5lcnMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0uc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYW5kbGVycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChoYW5kbGVycyA9PT0gbGlzdGVuZXIgfHxcclxuICAgICAgICAoaGFuZGxlcnMubGlzdGVuZXIgJiYgaGFuZGxlcnMubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxyXG4gICAgICAgIChoYW5kbGVycy5fb3JpZ2luICYmIGhhbmRsZXJzLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG4gICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgIGRlbGV0ZSBsZWFmLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3Qocm9vdCkge1xyXG4gICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocm9vdCk7XHJcbiAgICAgIGZvciAodmFyIGkgaW4ga2V5cykge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgIHZhciBvYmogPSByb290W2tleV07XHJcbiAgICAgICAgaWYgKChvYmogaW5zdGFuY2VvZiBGdW5jdGlvbikgfHwgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHx8IChvYmogPT09IG51bGwpKVxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdChyb290W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGRlbGV0ZSByb290W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHRoaXMubGlzdGVuZXJUcmVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZkFueSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICB2YXIgaSA9IDAsIGwgPSAwLCBmbnM7XHJcbiAgICBpZiAoZm4gJiYgdGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcclxuICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmKGZuID09PSBmbnNbaV0pIHtcclxuICAgICAgICAgIGZucy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbik7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcclxuICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbnNbaV0pO1xyXG4gICAgICB0aGlzLl9hbGwgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZjtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAhdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHZhciBsZWFmcyA9IHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIG51bGwsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuICAgICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuICAgICAgICBsZWFmLl9saXN0ZW5lcnMgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHMpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIGhhbmRsZXJzID0gW107XHJcbiAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgICAgcmV0dXJuIGhhbmRsZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFtdO1xyXG4gICAgaWYgKCFpc0FycmF5KHRoaXMuX2V2ZW50c1t0eXBlXSkpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnNBbnkgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBpZih0aGlzLl9hbGwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2FsbDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XHJcbiAgICB9KTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIC8vIEJyb3dzZXIgZ2xvYmFsLlxyXG4gICAgd2luZG93LkV2ZW50RW1pdHRlcjIgPSBFdmVudEVtaXR0ZXI7XHJcbiAgfVxyXG59KCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vZXZlbnRlbWl0dGVyMi9saWIvZXZlbnRlbWl0dGVyMi5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogRmlsZVNhdmVyLmpzXG4gKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqIDEuMS4yMDE1MDcxNlxuICpcbiAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cbiAqIExpY2Vuc2U6IFgxMS9NSVRcbiAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4gKi9cblxuLypnbG9iYWwgc2VsZiAqL1xuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblxudmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24odmlldykge1xuXHRcInVzZSBzdHJpY3RcIjtcblx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyXG5cdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxuXHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0fVxuXHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcblx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcblx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHRcdCwgd2Via2l0X3JlcV9mcyA9IHZpZXcud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcblx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0LCBmc19taW5fc2l6ZSA9IDBcblx0XHQvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3NTI5NyNjNyBhbmRcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvY29tbWl0LzQ4NTkzMGEjY29tbWl0Y29tbWVudC04NzY4MDQ3XG5cdFx0Ly8gZm9yIHRoZSByZWFzb25pbmcgYmVoaW5kIHRoZSB0aW1lb3V0IGFuZCByZXZvY2F0aW9uIGZsb3dcblx0XHQsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDUwMCAvLyBpbiBtc1xuXHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxuXHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdH0gZWxzZSB7IC8vIGZpbGUgaXMgYSBGaWxlXG5cdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICh2aWV3LmNocm9tZSkge1xuXHRcdFx0XHRyZXZva2VyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdCwgZGlzcGF0Y2ggPSBmdW5jdGlvbihmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xuXHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0dmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHR9IGNhdGNoIChleCkge1xuXHRcdFx0XHRcdFx0dGhyb3dfb3V0c2lkZShleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdCwgYXV0b19ib20gPSBmdW5jdGlvbihibG9iKSB7XG5cdFx0XHQvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtcIlxcdWZlZmZcIiwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBibG9iO1xuXHRcdH1cblx0XHQsIEZpbGVTYXZlciA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHR2YXJcblx0XHRcdFx0ICBmaWxlc2F2ZXIgPSB0aGlzXG5cdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHQsIGJsb2JfY2hhbmdlZCA9IGZhbHNlXG5cdFx0XHRcdCwgb2JqZWN0X3VybFxuXHRcdFx0XHQsIHRhcmdldF92aWV3XG5cdFx0XHRcdCwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdFx0LCBmc19lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdFx0aWYgKGJsb2JfY2hhbmdlZCB8fCAhb2JqZWN0X3VybCkge1xuXHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0YXJnZXRfdmlldykge1xuXHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFiID0gdmlldy5vcGVuKG9iamVjdF91cmwsIFwiX2JsYW5rXCIpO1xuXHRcdFx0XHRcdFx0aWYgKG5ld190YWIgPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzYWZhcmkgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcblx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIGFib3J0YWJsZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmlsZXNhdmVyLnJlYWR5U3RhdGUgIT09IGZpbGVzYXZlci5ET05FKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7Y3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlfVxuXHRcdFx0XHQsIHNsaWNlXG5cdFx0XHQ7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0aWYgKCFuYW1lKSB7XG5cdFx0XHRcdG5hbWUgPSBcImRvd25sb2FkXCI7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2FuX3VzZV9zYXZlX2xpbmspIHtcblx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0c2F2ZV9saW5rLmRvd25sb2FkID0gbmFtZTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gT2JqZWN0IGFuZCB3ZWIgZmlsZXN5c3RlbSBVUkxzIGhhdmUgYSBwcm9ibGVtIHNhdmluZyBpbiBHb29nbGUgQ2hyb21lIHdoZW5cblx0XHRcdC8vIHZpZXdlZCBpbiBhIHRhYiwgc28gSSBmb3JjZSBzYXZlIHdpdGggYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXG5cdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxuXHRcdFx0Ly8gVXBkYXRlOiBHb29nbGUgZXJyYW50bHkgY2xvc2VkIDkxMTU4LCBJIHN1Ym1pdHRlZCBpdCBhZ2Fpbjpcblx0XHRcdC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zODk2NDJcblx0XHRcdGlmICh2aWV3LmNocm9tZSAmJiB0eXBlICYmIHR5cGUgIT09IGZvcmNlX3NhdmVhYmxlX3R5cGUpIHtcblx0XHRcdFx0c2xpY2UgPSBibG9iLnNsaWNlIHx8IGJsb2Iud2Via2l0U2xpY2U7XG5cdFx0XHRcdGJsb2IgPSBzbGljZS5jYWxsKGJsb2IsIDAsIGJsb2Iuc2l6ZSwgZm9yY2Vfc2F2ZWFibGVfdHlwZSk7XG5cdFx0XHRcdGJsb2JfY2hhbmdlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBTaW5jZSBJIGNhbid0IGJlIHN1cmUgdGhhdCB0aGUgZ3Vlc3NlZCBtZWRpYSB0eXBlIHdpbGwgdHJpZ2dlciBhIGRvd25sb2FkXG5cdFx0XHQvLyBpbiBXZWJLaXQsIEkgYXBwZW5kIC5kb3dubG9hZCB0byB0aGUgZmlsZW5hbWUuXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjU0NDBcblx0XHRcdGlmICh3ZWJraXRfcmVxX2ZzICYmIG5hbWUgIT09IFwiZG93bmxvYWRcIikge1xuXHRcdFx0XHRuYW1lICs9IFwiLmRvd25sb2FkXCI7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSB8fCB3ZWJraXRfcmVxX2ZzKSB7XG5cdFx0XHRcdHRhcmdldF92aWV3ID0gdmlldztcblx0XHRcdH1cblx0XHRcdGlmICghcmVxX2ZzKSB7XG5cdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGZzX21pbl9zaXplICs9IGJsb2Iuc2l6ZTtcblx0XHRcdHJlcV9mcyh2aWV3LlRFTVBPUkFSWSwgZnNfbWluX3NpemUsIGFib3J0YWJsZShmdW5jdGlvbihmcykge1xuXHRcdFx0XHRmcy5yb290LmdldERpcmVjdG9yeShcInNhdmVkXCIsIGNyZWF0ZV9pZl9ub3RfZm91bmQsIGFib3J0YWJsZShmdW5jdGlvbihkaXIpIHtcblx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGlyLmdldEZpbGUobmFtZSwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZpbGUpIHtcblx0XHRcdFx0XHRcdFx0ZmlsZS5jcmVhdGVXcml0ZXIoYWJvcnRhYmxlKGZ1bmN0aW9uKHdyaXRlcikge1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbndyaXRlZW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBmaWxlLnRvVVJMKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldm9rZShmaWxlKTtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSB3cml0ZXIuZXJyb3I7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyb3IuY29kZSAhPT0gZXJyb3IuQUJPUlRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyW1wib25cIiArIGV2ZW50XSA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF07XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuV1JJVElORztcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdFx0XHQvLyBkZWxldGUgZmlsZSBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHR9KSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGV4KSB7XG5cdFx0XHRcdFx0XHRpZiAoZXguY29kZSA9PT0gZXguTk9UX0ZPVU5EX0VSUikge1xuXHRcdFx0XHRcdFx0XHRzYXZlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0fVxuXHRcdCwgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlXG5cdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0cmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pO1xuXHRcdH1cblx0O1xuXHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lIHx8IFwiZG93bmxvYWRcIik7XG5cdFx0fTtcblx0fVxuXG5cdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XG5cdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwiYWJvcnRcIik7XG5cdH07XG5cdEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcblx0RlNfcHJvdG8uV1JJVElORyA9IDE7XG5cdEZTX3Byb3RvLkRPTkUgPSAyO1xuXG5cdEZTX3Byb3RvLmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cblx0RlNfcHJvdG8ub25wcm9ncmVzcyA9XG5cdEZTX3Byb3RvLm9ud3JpdGUgPVxuXHRGU19wcm90by5vbmFib3J0ID1cblx0RlNfcHJvdG8ub25lcnJvciA9XG5cdEZTX3Byb3RvLm9ud3JpdGVlbmQgPVxuXHRcdG51bGw7XG5cblx0cmV0dXJuIHNhdmVBcztcbn0oXG5cdCAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcblx0fHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcblx0fHwgdGhpcy5jb250ZW50XG4pKTtcbi8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcbi8vIHdpdGggYW4gYXR0cmlidXRlIGBjb250ZW50YCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB3aW5kb3dcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xufSBlbHNlIGlmICgodHlwZW9mIGRlZmluZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkZWZpbmUgIT09IG51bGwpICYmIChkZWZpbmUuYW1kICE9IG51bGwpKSB7XG4gIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNhdmVBcztcbiAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2ZpbGVzYXZlci5qcy9GaWxlU2F2ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vd2VicGFjay9idWlsZGluL2FtZC1kZWZpbmUuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3dlYnBhY2svYnVpbGRpbi9hbWQtb3B0aW9ucy5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohXG4gKiBVbmlkcmFnZ2VyIHYyLjEuMFxuICogRHJhZ2dhYmxlIGJhc2UgY2xhc3NcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW51c2VkOiB0cnVlLCB1bmRlZjogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICd1bmlwb2ludGVyL3VuaXBvaW50ZXInXG4gICAgXSwgZnVuY3Rpb24oIFVuaXBvaW50ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBVbmlwb2ludGVyICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCd1bmlwb2ludGVyJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LlVuaWRyYWdnZXIgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LlVuaXBvaW50ZXJcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBVbmlwb2ludGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVW5pZHJhZ2dlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBVbmlkcmFnZ2VyKCkge31cblxuLy8gaW5oZXJpdCBVbmlwb2ludGVyICYgRXZFbWl0dGVyXG52YXIgcHJvdG8gPSBVbmlkcmFnZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFVuaXBvaW50ZXIucHJvdG90eXBlICk7XG5cbi8vIC0tLS0tIGJpbmQgc3RhcnQgLS0tLS0gLy9cblxucHJvdG8uYmluZEhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fYmluZEhhbmRsZXMoIHRydWUgKTtcbn07XG5cbnByb3RvLnVuYmluZEhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fYmluZEhhbmRsZXMoIGZhbHNlICk7XG59O1xuXG52YXIgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcbi8qKlxuICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLmJpbmRIYW5kbGVzKCBmYWxzZSApIHRvIHVuYmluZFxuICogQHBhcmFtIHtCb29sZWFufSBpc0JpbmQgLSB3aWxsIHVuYmluZCBpZiBmYWxzZXlcbiAqL1xucHJvdG8uX2JpbmRIYW5kbGVzID0gZnVuY3Rpb24oIGlzQmluZCApIHtcbiAgLy8gbXVuZ2UgaXNCaW5kLCBkZWZhdWx0IHRvIHRydWVcbiAgaXNCaW5kID0gaXNCaW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFpc0JpbmQ7XG4gIC8vIGV4dHJhIGJpbmQgbG9naWNcbiAgdmFyIGJpbmRlckV4dHJhO1xuICBpZiAoIG5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCApIHtcbiAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG4gICAgICAvLyBkaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZWxlbWVudFxuICAgICAgaGFuZGxlLnN0eWxlLnRvdWNoQWN0aW9uID0gaXNCaW5kID8gJ25vbmUnIDogJyc7XG4gICAgfTtcbiAgfSBlbHNlIGlmICggbmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG4gICAgYmluZGVyRXh0cmEgPSBmdW5jdGlvbiggaGFuZGxlICkge1xuICAgICAgLy8gZGlzYWJsZSBzY3JvbGxpbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIGhhbmRsZS5zdHlsZS5tc1RvdWNoQWN0aW9uID0gaXNCaW5kID8gJ25vbmUnIDogJyc7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBiaW5kZXJFeHRyYSA9IG5vb3A7XG4gIH1cbiAgLy8gYmluZCBlYWNoIGhhbmRsZVxuICB2YXIgYmluZE1ldGhvZCA9IGlzQmluZCA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuaGFuZGxlcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaGFuZGxlID0gdGhpcy5oYW5kbGVzW2ldO1xuICAgIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBoYW5kbGUsIGlzQmluZCApO1xuICAgIGJpbmRlckV4dHJhKCBoYW5kbGUgKTtcbiAgICBoYW5kbGVbIGJpbmRNZXRob2QgXSggJ2NsaWNrJywgdGhpcyApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXG4vKipcbiAqIHBvaW50ZXIgc3RhcnRcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKi9cbnByb3RvLnBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBkaXNtaXNzIHJhbmdlIHNsaWRlcnNcbiAgaWYgKCBldmVudC50YXJnZXQubm9kZU5hbWUgPT0gJ0lOUFVUJyAmJiBldmVudC50YXJnZXQudHlwZSA9PSAncmFuZ2UnICkge1xuICAgIC8vIHJlc2V0IHBvaW50ZXJEb3duIGxvZ2ljXG4gICAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gICAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZHJhZ1BvaW50ZXJEb3duKCBldmVudCwgcG9pbnRlciApO1xuICAvLyBrbHVkZ2UgdG8gYmx1ciBmb2N1c2VkIGlucHV0cyBpbiBkcmFnZ2VyXG4gIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgaWYgKCBmb2N1c2VkICYmIGZvY3VzZWQuYmx1ciApIHtcbiAgICBmb2N1c2VkLmJsdXIoKTtcbiAgfVxuICAvLyBiaW5kIG1vdmUgYW5kIGVuZCBldmVudHNcbiAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyRG93bicsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gYmFzZSBwb2ludGVyIGRvd24gbG9naWNcbnByb3RvLl9kcmFnUG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIHRyYWNrIHRvIHNlZSB3aGVuIGRyYWdnaW5nIHN0YXJ0c1xuICB0aGlzLnBvaW50ZXJEb3duUG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuXG4gIHZhciBjYW5QcmV2ZW50RGVmYXVsdCA9IHRoaXMuY2FuUHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duKCBldmVudCwgcG9pbnRlciApO1xuICBpZiAoIGNhblByZXZlbnREZWZhdWx0ICkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn07XG5cbi8vIG92ZXJ3cml0ZWFibGUgbWV0aG9kIHNvIEZsaWNraXR5IGNhbiBwcmV2ZW50IGZvciBzY3JvbGxpbmdcbnByb3RvLmNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gcHJldmVudCBkZWZhdWx0LCB1bmxlc3MgdG91Y2hzdGFydCBvciA8c2VsZWN0PlxuICByZXR1cm4gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9ICdTRUxFQ1QnO1xufTtcblxuLy8gLS0tLS0gbW92ZSBldmVudCAtLS0tLSAvL1xuXG4vKipcbiAqIGRyYWcgbW92ZVxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqL1xucHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHZhciBtb3ZlVmVjdG9yID0gdGhpcy5fZHJhZ1BvaW50ZXJNb3ZlKCBldmVudCwgcG9pbnRlciApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG4gIHRoaXMuX2RyYWdNb3ZlKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApO1xufTtcblxuLy8gYmFzZSBwb2ludGVyIG1vdmUgbG9naWNcbnByb3RvLl9kcmFnUG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHZhciBtb3ZlUG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuICB2YXIgbW92ZVZlY3RvciA9IHtcbiAgICB4OiBtb3ZlUG9pbnQueCAtIHRoaXMucG9pbnRlckRvd25Qb2ludC54LFxuICAgIHk6IG1vdmVQb2ludC55IC0gdGhpcy5wb2ludGVyRG93blBvaW50LnlcbiAgfTtcbiAgLy8gc3RhcnQgZHJhZyBpZiBwb2ludGVyIGhhcyBtb3ZlZCBmYXIgZW5vdWdoIHRvIHN0YXJ0IGRyYWdcbiAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICYmIHRoaXMuaGFzRHJhZ1N0YXJ0ZWQoIG1vdmVWZWN0b3IgKSApIHtcbiAgICB0aGlzLl9kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG4gIH1cbiAgcmV0dXJuIG1vdmVWZWN0b3I7XG59O1xuXG4vLyBjb25kaXRpb24gaWYgcG9pbnRlciBoYXMgbW92ZWQgZmFyIGVub3VnaCB0byBzdGFydCBkcmFnXG5wcm90by5oYXNEcmFnU3RhcnRlZCA9IGZ1bmN0aW9uKCBtb3ZlVmVjdG9yICkge1xuICByZXR1cm4gTWF0aC5hYnMoIG1vdmVWZWN0b3IueCApID4gMyB8fCBNYXRoLmFicyggbW92ZVZlY3Rvci55ICkgPiAzO1xufTtcblxuXG4vLyAtLS0tLSBlbmQgZXZlbnQgLS0tLS0gLy9cblxuLyoqXG4gKiBwb2ludGVyIHVwXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlclVwJywgWyBldmVudCwgcG9pbnRlciBdICk7XG4gIHRoaXMuX2RyYWdQb2ludGVyVXAoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5fZHJhZ1BvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgaWYgKCB0aGlzLmlzRHJhZ2dpbmcgKSB7XG4gICAgdGhpcy5fZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBwb2ludGVyIGRpZG4ndCBtb3ZlIGVub3VnaCBmb3IgZHJhZyB0byBzdGFydFxuICAgIHRoaXMuX3N0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGRyYWdTdGFydFxucHJvdG8uX2RyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgdGhpcy5kcmFnU3RhcnRQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG4gIC8vIHByZXZlbnQgY2xpY2tzXG4gIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzID0gdHJ1ZTtcblxuICB0aGlzLmRyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLmRyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnU3RhcnQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIGRyYWdNb3ZlXG5wcm90by5fZHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG4gIC8vIGRvIG5vdCBkcmFnIGlmIG5vdCBkcmFnZ2luZyB5ZXRcbiAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG5wcm90by5kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xufTtcblxuLy8gZHJhZ0VuZFxucHJvdG8uX2RyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIHNldCBmbGFnc1xuICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgLy8gcmUtZW5hYmxlIGNsaWNraW5nIGFzeW5jXG4gIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzLmlzUHJldmVudGluZ0NsaWNrcztcbiAgfS5iaW5kKCB0aGlzICkgKTtcblxuICB0aGlzLmRyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdFbmQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIG9uY2xpY2sgLS0tLS0gLy9cblxuLy8gaGFuZGxlIGFsbCBjbGlja3MgYW5kIHByZXZlbnQgY2xpY2tzIHdoZW4gZHJhZ2dpbmdcbnByb3RvLm9uY2xpY2sgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gc3RhdGljQ2xpY2sgLS0tLS0gLy9cblxuLy8gdHJpZ2dlcmVkIGFmdGVyIHBvaW50ZXIgZG93biAmIHVwIHdpdGggbm8vdGlueSBtb3ZlbWVudFxucHJvdG8uX3N0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBpZ25vcmUgZW11bGF0ZWQgbW91c2UgdXAgY2xpY2tzXG4gIGlmICggdGhpcy5pc0lnbm9yaW5nTW91c2VVcCAmJiBldmVudC50eXBlID09ICdtb3VzZXVwJyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBhbGxvdyBjbGljayBpbiA8aW5wdXQ+cyBhbmQgPHRleHRhcmVhPnNcbiAgdmFyIG5vZGVOYW1lID0gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lO1xuICBpZiAoIG5vZGVOYW1lID09ICdJTlBVVCcgfHwgbm9kZU5hbWUgPT0gJ1RFWFRBUkVBJyApIHtcbiAgICBldmVudC50YXJnZXQuZm9jdXMoKTtcbiAgfVxuICB0aGlzLnN0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuXG4gIC8vIHNldCBmbGFnIGZvciBlbXVsYXRlZCBjbGlja3MgMzAwbXMgYWZ0ZXIgdG91Y2hlbmRcbiAgaWYgKCBldmVudC50eXBlICE9ICdtb3VzZXVwJyApIHtcbiAgICB0aGlzLmlzSWdub3JpbmdNb3VzZVVwID0gdHJ1ZTtcbiAgICAvLyByZXNldCBmbGFnIGFmdGVyIDMwMG1zXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgdGhpcy5pc0lnbm9yaW5nTW91c2VVcDtcbiAgICB9LmJpbmQoIHRoaXMgKSwgNDAwICk7XG4gIH1cbn07XG5cbnByb3RvLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ3N0YXRpY0NsaWNrJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSB1dGlscyAtLS0tLSAvL1xuXG5VbmlkcmFnZ2VyLmdldFBvaW50ZXJQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIFVuaWRyYWdnZXI7XG5cbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdW5pZHJhZ2dlci91bmlkcmFnZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIFVuaXBvaW50ZXIgdjIuMS4wXG4gKiBiYXNlIGNsYXNzIGZvciBkb2luZyBvbmUgdGhpbmcgd2l0aCBwb2ludGVyIGV2ZW50XG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbCBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcidcbiAgICBdLCBmdW5jdGlvbiggRXZFbWl0dGVyICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdldi1lbWl0dGVyJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LlVuaXBvaW50ZXIgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2RW1pdHRlclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gVW5pcG9pbnRlcigpIHt9XG5cbi8vIGluaGVyaXQgRXZFbWl0dGVyXG52YXIgcHJvdG8gPSBVbmlwb2ludGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxucHJvdG8uYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGVsZW0sIHRydWUgKTtcbn07XG5cbnByb3RvLnVuYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGVsZW0sIGZhbHNlICk7XG59O1xuXG4vKipcbiAqIHdvcmtzIGFzIHVuYmluZGVyLCBhcyB5b3UgY2FuIC5fYmluZFN0YXJ0KCBmYWxzZSApIHRvIHVuYmluZFxuICogQHBhcmFtIHtCb29sZWFufSBpc0JpbmQgLSB3aWxsIHVuYmluZCBpZiBmYWxzZXlcbiAqL1xucHJvdG8uX2JpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIGlzQmluZCApIHtcbiAgLy8gbXVuZ2UgaXNCaW5kLCBkZWZhdWx0IHRvIHRydWVcbiAgaXNCaW5kID0gaXNCaW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFpc0JpbmQ7XG4gIHZhciBiaW5kTWV0aG9kID0gaXNCaW5kID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuXG4gIGlmICggd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCApIHtcbiAgICAvLyBXM0MgUG9pbnRlciBFdmVudHMsIElFMTEuIFNlZSBodHRwczovL2NvZGVyd2FsbC5jb20vcC9tZnJlY2FcbiAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdwb2ludGVyZG93bicsIHRoaXMgKTtcbiAgfSBlbHNlIGlmICggd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICkge1xuICAgIC8vIElFMTAgUG9pbnRlciBFdmVudHNcbiAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdNU1BvaW50ZXJEb3duJywgdGhpcyApO1xuICB9IGVsc2Uge1xuICAgIC8vIGxpc3RlbiBmb3IgYm90aCwgZm9yIGRldmljZXMgbGlrZSBDaHJvbWUgUGl4ZWxcbiAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICdtb3VzZWRvd24nLCB0aGlzICk7XG4gICAgZWxlbVsgYmluZE1ldGhvZCBdKCAndG91Y2hzdGFydCcsIHRoaXMgKTtcbiAgfVxufTtcblxuLy8gdHJpZ2dlciBoYW5kbGVyIG1ldGhvZHMgZm9yIGV2ZW50c1xucHJvdG8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gcmV0dXJucyB0aGUgdG91Y2ggdGhhdCB3ZSdyZSBrZWVwaW5nIHRyYWNrIG9mXG5wcm90by5nZXRUb3VjaCA9IGZ1bmN0aW9uKCB0b3VjaGVzICkge1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgdG91Y2ggPSB0b3VjaGVzW2ldO1xuICAgIGlmICggdG91Y2guaWRlbnRpZmllciA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuICAgICAgcmV0dXJuIHRvdWNoO1xuICAgIH1cbiAgfVxufTtcblxuLy8gLS0tLS0gc3RhcnQgZXZlbnQgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZWRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIC8vIGRpc21pc3MgY2xpY2tzIGZyb20gcmlnaHQgb3IgbWlkZGxlIGJ1dHRvbnNcbiAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgaWYgKCBidXR0b24gJiYgKCBidXR0b24gIT09IDAgJiYgYnV0dG9uICE9PSAxICkgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSApO1xufTtcblxucHJvdG8ub25NU1BvaW50ZXJEb3duID1cbnByb3RvLm9ucG9pbnRlcmRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbi8qKlxuICogcG9pbnRlciBzdGFydFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqL1xucHJvdG8uX3BvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBkaXNtaXNzIG90aGVyIHBvaW50ZXJzXG4gIGlmICggdGhpcy5pc1BvaW50ZXJEb3duICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuaXNQb2ludGVyRG93biA9IHRydWU7XG4gIC8vIHNhdmUgcG9pbnRlciBpZGVudGlmaWVyIHRvIG1hdGNoIHVwIHRvdWNoIGV2ZW50c1xuICB0aGlzLnBvaW50ZXJJZGVudGlmaWVyID0gcG9pbnRlci5wb2ludGVySWQgIT09IHVuZGVmaW5lZCA/XG4gICAgLy8gcG9pbnRlcklkIGZvciBwb2ludGVyIGV2ZW50cywgdG91Y2guaW5kZW50aWZpZXIgZm9yIHRvdWNoIGV2ZW50c1xuICAgIHBvaW50ZXIucG9pbnRlcklkIDogcG9pbnRlci5pZGVudGlmaWVyO1xuXG4gIHRoaXMucG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyRG93bicsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gaGFzaCBvZiBldmVudHMgdG8gYmUgYm91bmQgYWZ0ZXIgc3RhcnQgZXZlbnRcbnZhciBwb3N0U3RhcnRFdmVudHMgPSB7XG4gIG1vdXNlZG93bjogWyAnbW91c2Vtb3ZlJywgJ21vdXNldXAnIF0sXG4gIHRvdWNoc3RhcnQ6IFsgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcgXSxcbiAgcG9pbnRlcmRvd246IFsgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCcsICdwb2ludGVyY2FuY2VsJyBdLFxuICBNU1BvaW50ZXJEb3duOiBbICdNU1BvaW50ZXJNb3ZlJywgJ01TUG9pbnRlclVwJywgJ01TUG9pbnRlckNhbmNlbCcgXVxufTtcblxucHJvdG8uX2JpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggIWV2ZW50ICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgcHJvcGVyIGV2ZW50cyB0byBtYXRjaCBzdGFydCBldmVudFxuICB2YXIgZXZlbnRzID0gcG9zdFN0YXJ0RXZlbnRzWyBldmVudC50eXBlIF07XG4gIC8vIGJpbmQgZXZlbnRzIHRvIG5vZGVcbiAgZXZlbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9LCB0aGlzICk7XG4gIC8vIHNhdmUgdGhlc2UgYXJndW1lbnRzXG4gIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyA9IGV2ZW50cztcbn07XG5cbnByb3RvLl91bmJpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgZm9yIF9ib3VuZEV2ZW50cywgaW4gY2FzZSBkcmFnRW5kIHRyaWdnZXJlZCB0d2ljZSAob2xkIElFOCBidWcpXG4gIGlmICggIXRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9LCB0aGlzICk7XG5cbiAgZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cztcbn07XG5cbi8vIC0tLS0tIG1vdmUgZXZlbnQgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZW1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMuX3BvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9uTVNQb2ludGVyTW92ZSA9XG5wcm90by5vbnBvaW50ZXJtb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICBpZiAoIGV2ZW50LnBvaW50ZXJJZCA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuICAgIHRoaXMuX3BvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaG1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciB0b3VjaCA9IHRoaXMuZ2V0VG91Y2goIGV2ZW50LmNoYW5nZWRUb3VjaGVzICk7XG4gIGlmICggdG91Y2ggKSB7XG4gICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCB0b3VjaCApO1xuICB9XG59O1xuXG4vKipcbiAqIHBvaW50ZXIgbW92ZVxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5wb2ludGVyTW92ZSggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbi8vIHB1YmxpY1xucHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlck1vdmUnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIGVuZCBldmVudCAtLS0tLSAvL1xuXG5cbnByb3RvLm9ubW91c2V1cCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9uTVNQb2ludGVyVXAgPVxucHJvdG8ub25wb2ludGVydXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaGVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCB0b3VjaCApO1xuICB9XG59O1xuXG4vKipcbiAqIHBvaW50ZXIgdXBcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fcG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB0aGlzLnBvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbi8vIHB1YmxpY1xucHJvdG8ucG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJVcCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gcG9pbnRlciBkb25lIC0tLS0tIC8vXG5cbi8vIHRyaWdnZXJlZCBvbiBwb2ludGVyIHVwICYgcG9pbnRlciBjYW5jZWxcbnByb3RvLl9wb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuICAvLyByZXNldCBwcm9wZXJ0aWVzXG4gIHRoaXMuaXNQb2ludGVyRG93biA9IGZhbHNlO1xuICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcbiAgLy8gcmVtb3ZlIGV2ZW50c1xuICB0aGlzLl91bmJpbmRQb3N0U3RhcnRFdmVudHMoKTtcbiAgdGhpcy5wb2ludGVyRG9uZSgpO1xufTtcblxucHJvdG8ucG9pbnRlckRvbmUgPSBub29wO1xuXG4vLyAtLS0tLSBwb2ludGVyIGNhbmNlbCAtLS0tLSAvL1xuXG5wcm90by5vbk1TUG9pbnRlckNhbmNlbCA9XG5wcm90by5vbnBvaW50ZXJjYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlckNhbmNlbCggZXZlbnQsIGV2ZW50ICk7XG4gIH1cbn07XG5cbnByb3RvLm9udG91Y2hjYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciB0b3VjaCA9IHRoaXMuZ2V0VG91Y2goIGV2ZW50LmNoYW5nZWRUb3VjaGVzICk7XG4gIGlmICggdG91Y2ggKSB7XG4gICAgdGhpcy5fcG9pbnRlckNhbmNlbCggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciBjYW5jZWxcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fcG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5fcG9pbnRlckRvbmUoKTtcbiAgdGhpcy5wb2ludGVyQ2FuY2VsKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJDYW5jZWwnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIGZvciBnZXR0aW5nIHgveSBjb29yZHMgZnJvbSBldmVudFxuVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQgPSBmdW5jdGlvbiggcG9pbnRlciApIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBwb2ludGVyLnBhZ2VYLFxuICAgIHk6IHBvaW50ZXIucGFnZVlcbiAgfTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gVW5pcG9pbnRlcjtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi91bmlwb2ludGVyL3VuaXBvaW50ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogRXZFbWl0dGVyIHYxLjAuM1xuICogTGlsJyBldmVudCBlbWl0dGVyXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbi8qIGpzaGludCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgd2luZG93ICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EIC0gUmVxdWlyZUpTXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlMgLSBCcm93c2VyaWZ5LCBXZWJwYWNrXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZ2xvYmFsLkV2RW1pdHRlciA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXG52YXIgcHJvdG8gPSBFdkVtaXR0ZXIucHJvdG90eXBlO1xuXG5wcm90by5vbiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZXQgZXZlbnRzIGhhc2hcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgLy8gc2V0IGxpc3RlbmVycyBhcnJheVxuICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzWyBldmVudE5hbWUgXSA9IGV2ZW50c1sgZXZlbnROYW1lIF0gfHwgW107XG4gIC8vIG9ubHkgYWRkIG9uY2VcbiAgaWYgKCBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKSA9PSAtMSApIHtcbiAgICBsaXN0ZW5lcnMucHVzaCggbGlzdGVuZXIgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub25jZSA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBhZGQgZXZlbnRcbiAgdGhpcy5vbiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAvLyBzZXQgb25jZSBmbGFnXG4gIC8vIHNldCBvbmNlRXZlbnRzIGhhc2hcbiAgdmFyIG9uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyB8fCB7fTtcbiAgLy8gc2V0IG9uY2VMaXN0ZW5lcnMgb2JqZWN0XG4gIHZhciBvbmNlTGlzdGVuZXJzID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSB8fCB7fTtcbiAgLy8gc2V0IGZsYWdcbiAgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXSA9IHRydWU7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vZmYgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGxpc3RlbmVycy5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGFyZ3MgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaSA9IDA7XG4gIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIHdoaWxlICggbGlzdGVuZXIgKSB7XG4gICAgdmFyIGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gICAgLy8gZ2V0IG5leHQgbGlzdGVuZXJcbiAgICBpICs9IGlzT25jZSA/IDAgOiAxO1xuICAgIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5yZXR1cm4gRXZFbWl0dGVyO1xuXG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2V2LWVtaXR0ZXIvZXYtZW1pdHRlci5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gaXMuanMgMC44LjBcbi8vIEF1dGhvcjogQXJhcyBBdGFzYXlnaW5cblxuLy8gQU1EIHdpdGggZ2xvYmFsLCBOb2RlLCBvciBnbG9iYWxcbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEFsc28gY3JlYXRlIGEgZ2xvYmFsIGluIGNhc2Ugc29tZSBzY3JpcHRzXG4gICAgICAgICAgICAvLyB0aGF0IGFyZSBsb2FkZWQgc3RpbGwgYXJlIGxvb2tpbmcgZm9yXG4gICAgICAgICAgICAvLyBhIGdsb2JhbCBldmVuIHdoZW4gYW4gQU1EIGxvYWRlciBpcyBpbiB1c2UuXG4gICAgICAgICAgICByZXR1cm4gKHJvb3QuaXMgPSBmYWN0b3J5KCkpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuaXMgPSBmYWN0b3J5KCk7XG4gICAgfVxufSAodGhpcywgZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBCYXNlbGluZVxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICB2YXIgcm9vdCA9IHRoaXMgfHwgZ2xvYmFsO1xuICAgIHZhciBwcmV2aW91c0lzID0gcm9vdC5pcztcblxuICAgIC8vIGRlZmluZSAnaXMnIG9iamVjdCBhbmQgY3VycmVudCB2ZXJzaW9uXG4gICAgdmFyIGlzID0ge307XG4gICAgaXMuVkVSU0lPTiA9ICcwLjguMCc7XG5cbiAgICAvLyBkZWZpbmUgaW50ZXJmYWNlc1xuICAgIGlzLm5vdCA9IHt9O1xuICAgIGlzLmFsbCA9IHt9O1xuICAgIGlzLmFueSA9IHt9O1xuXG4gICAgLy8gY2FjaGUgc29tZSBtZXRob2RzIHRvIGNhbGwgbGF0ZXIgb25cbiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgIHZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gd2hpY2ggcmV2ZXJzZXMgdGhlIHNlbnNlIG9mIHByZWRpY2F0ZSByZXN1bHRcbiAgICBmdW5jdGlvbiBub3QoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gIWZ1bmMuYXBwbHkobnVsbCwgYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbGwgcGFzc1xuICAgIGZ1bmN0aW9uIGFsbChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICBpZihsZW5ndGggPT09IDEgJiYgaXMuYXJyYXkocGFyYW1ldGVyc1swXSkpIHsgICAgLy8gc3VwcG9ydCBhcnJheVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghZnVuYy5jYWxsKG51bGwsIHBhcmFtZXRlcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gd2hpY2ggY2FsbCBwcmVkaWNhdGUgZnVuY3Rpb24gcGVyIHBhcmFtZXRlciBhbmQgcmV0dXJuIHRydWUgaWYgYW55IHBhc3NcbiAgICBmdW5jdGlvbiBhbnkoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYobGVuZ3RoID09PSAxICYmIGlzLmFycmF5KHBhcmFtZXRlcnNbMF0pKSB7ICAgIC8vIHN1cHBvcnQgYXJyYXlcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVyc1swXTtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZnVuYy5jYWxsKG51bGwsIHBhcmFtZXRlcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUeXBlIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEFyZ3VtZW50cz9cbiAgICBpcy5hcmd1bWVudHMgPSBmdW5jdGlvbih2YWx1ZSkgeyAgICAvLyBmYWxsYmFjayBjaGVjayBpcyBmb3IgSUVcbiAgICAgICAgcmV0dXJuIGlzLm5vdC5udWxsKHZhbHVlKSAmJiAodG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICdjYWxsZWUnIGluIHZhbHVlKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQXJyYXk/XG4gICAgaXMuYXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGNoZWNrIG5hdGl2ZSBpc0FycmF5IGZpcnN0XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBCb29sZWFuP1xuICAgIGlzLmJvb2xlYW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgRGF0ZSBPYmplY3Q/XG4gICAgaXMuZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEVycm9yIG9iamVjdD9cbiAgICBpcy5lcnJvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBmdW5jdGlvbj9cbiAgICBpcy5mdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIE5hTj9cbiAgICBpcy5uYW4gPSBmdW5jdGlvbih2YWx1ZSkgeyAgICAvLyBOYU4gaXMgbnVtYmVyIDopIEFsc28gaXQgaXMgdGhlIG9ubHkgdmFsdWUgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVsbD9cbiAgICBpcy5udWxsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG51bWJlcj9cbiAgICBpcy5udW1iZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMubm90Lm5hbih2YWx1ZSkgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG9iamVjdD9cbiAgICBpcy5vYmplY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISF2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gaXMgZ2l2ZW4gdmFsdWUgYSBwdXJlIEpTT04gb2JqZWN0P1xuICAgIGlzLmpzb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIFJlZ0V4cD9cbiAgICBpcy5yZWdleHAgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xuICAgIH07XG5cbiAgICAvLyBhcmUgZ2l2ZW4gdmFsdWVzIHNhbWUgdHlwZT9cbiAgICAvLyBwcmV2ZW50IE5hTiwgTnVtYmVyIHNhbWUgdHlwZSBjaGVja1xuICAgIGlzLnNhbWVUeXBlID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgaWYoaXMubmFuKHZhbHVlMSkgfHwgaXMubmFuKHZhbHVlMikpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy5uYW4odmFsdWUxKSA9PT0gaXMubmFuKHZhbHVlMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUxKSA9PT0gdG9TdHJpbmcuY2FsbCh2YWx1ZTIpO1xuICAgIH07XG4gICAgLy8gc2FtZVR5cGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5zYW1lVHlwZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBTdHJpbmc/XG4gICAgaXMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBTdHJpbmddJztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBDaGFyP1xuICAgIGlzLmNoYXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDE7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgdW5kZWZpbmVkP1xuICAgIGlzLnVuZGVmaW5lZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwO1xuICAgIH07XG5cbiAgICAvLyBQcmVzZW5jZSBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy9pcyBhIGdpdmVuIHZhbHVlIGVtcHR5PyBPYmplY3RzLCBhcnJheXMsIHN0cmluZ3NcbiAgICBpcy5lbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmKGlzLm9iamVjdCh2YWx1ZSkpe1xuICAgICAgICAgICAgdmFyIG51bSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGg7XG4gICAgICAgICAgICBpZihudW0gPT09IDAgfHwgKG51bSA9PT0gMSAmJiBpcy5hcnJheSh2YWx1ZSkpIHx8IChudW0gPT09IDIgJiYgaXMuYXJndW1lbnRzKHZhbHVlKSkpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGV4aXN0eT9cbiAgICBpcy5leGlzdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB0cnV0aHk/XG4gICAgaXMudHJ1dGh5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzLmV4aXN0eSh2YWx1ZSkgJiYgdmFsdWUgIT09IGZhbHNlICYmIGlzLm5vdC5uYW4odmFsdWUpICYmIHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSAwO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZhbHN5P1xuICAgIGlzLmZhbHN5ID0gbm90KGlzLnRydXRoeSk7XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHNwYWNlP1xuICAgIC8vIGhvcml6YW50YWwgdGFiOiA5LCBsaW5lIGZlZWQ6IDEwLCB2ZXJ0aWNhbCB0YWI6IDExLCBmb3JtIGZlZWQ6IDEyLCBjYXJyaWFnZSByZXR1cm46IDEzLCBzcGFjZTogMzJcbiAgICBpcy5zcGFjZSA9ICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZihpcy5jaGFyKHZhbHVlKSkge1xuICAgICAgICAgICAgdmFyIGNoYXJhY3RlckNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgcmV0dXJuIChjaGFyYWN0ZXJDb2RlID4gIDggJiYgY2hhcmFjdGVyQ29kZSA8IDE0KSB8fCBjaGFyYWN0ZXJDb2RlID09PSAzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBcml0aG1ldGljIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBhcmUgZ2l2ZW4gdmFsdWVzIGVxdWFsPyBzdXBwb3J0cyBudW1iZXJzLCBzdHJpbmdzLCByZWdleHBzLCBib29sZWFuc1xuICAgIC8vIFRPRE86IEFkZCBvYmplY3QgYW5kIGFycmF5IHN1cHBvcnRcbiAgICBpcy5lcXVhbCA9IGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICAgIC8vIGNoZWNrIDAgYW5kIC0wIGVxdWl0eSB3aXRoIEluZmluaXR5IGFuZCAtSW5maW5pdHlcbiAgICAgICAgaWYoaXMuYWxsLm51bWJlcih2YWx1ZTEsIHZhbHVlMikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMiAmJiAxIC8gdmFsdWUxID09PSAxIC8gdmFsdWUyO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHJlZ2V4cHMgYXMgc3RyaW5ncyB0b29cbiAgICAgICAgaWYoaXMuYWxsLnN0cmluZyh2YWx1ZTEsIHZhbHVlMikgfHwgaXMuYWxsLnJlZ2V4cCh2YWx1ZTEsIHZhbHVlMikpIHtcbiAgICAgICAgICAgIHJldHVybiAnJyArIHZhbHVlMSA9PT0gJycgKyB2YWx1ZTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXMuYWxsLmJvb2xlYW4odmFsdWUxLCB2YWx1ZTIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUxID09PSB2YWx1ZTI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLy8gZXF1YWwgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5lcXVhbC5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgZXZlbj9cbiAgICBpcy5ldmVuID0gZnVuY3Rpb24obnVtYikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAyID09PSAwO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBvZGQ/XG4gICAgaXMub2RkID0gZnVuY3Rpb24obnVtYikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAyID09PSAxO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBwb3NpdGl2ZT9cbiAgICBpcy5wb3NpdGl2ZSA9IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iID4gMDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgbmVnYXRpdmU/XG4gICAgaXMubmVnYXRpdmUgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiA8IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGFib3ZlIG1pbmltdW0gcGFyYW1ldGVyP1xuICAgIGlzLmFib3ZlID0gZnVuY3Rpb24obnVtYiwgbWluKSB7XG4gICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1pbikgJiYgbnVtYiA+IG1pbjtcbiAgICB9O1xuICAgIC8vIGFib3ZlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMuYWJvdmUuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGFib3ZlIG1heGltdW0gcGFyYW1ldGVyP1xuICAgIGlzLnVuZGVyID0gZnVuY3Rpb24obnVtYiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1heCkgJiYgbnVtYiA8IG1heDtcbiAgICB9O1xuICAgIC8vIGxlYXN0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMudW5kZXIuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHdpdGhpbiBtaW5pbXVtIGFuZCBtYXhpbXVtIHBhcmFtZXRlcnM/XG4gICAgaXMud2l0aGluID0gZnVuY3Rpb24obnVtYiwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWluLCBtYXgpICYmIG51bWIgPiBtaW4gJiYgbnVtYiA8IG1heDtcbiAgICB9O1xuICAgIC8vIHdpdGhpbiBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLndpdGhpbi5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgZGVjaW1hbD9cbiAgICBpcy5kZWNpbWFsID0gZnVuY3Rpb24obnVtYikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAxICE9PSAwO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbnRlZ2VyP1xuICAgIGlzLmludGVnZXIgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDEgPT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGZpbml0ZT9cbiAgICBpcy5maW5pdGUgPSBpc0Zpbml0ZSB8fCBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBudW1iICE9PSBJbmZpbml0eSAmJiBudW1iICE9PSAtSW5maW5pdHkgJiYgaXMubm90Lm5hbihudW1iKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgaW5maW5pdGU/XG4gICAgaXMuaW5maW5pdGUgPSBub3QoaXMuZmluaXRlKTtcblxuICAgIC8vIFJlZ2V4cCBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgIC8vIFN0ZXZlbiBMZXZpdGhhbiwgSmFuIEdveXZhZXJ0czogUmVndWxhciBFeHByZXNzaW9ucyBDb29rYm9va1xuICAgIC8vIFNjb3R0IEdvbnphbGV6OiBFbWFpbCBhZGRyZXNzIHZhbGlkYXRpb25cblxuICAgIC8vIGVwcFBob25lIG1hdGNoIGV4dGVuc2libGUgcHJvdmlzaW9uaW5nIHByb3RvY29sIGZvcm1hdFxuICAgIC8vIG5hbnBQaG9uZSBtYXRjaCBub3J0aCBhbWVyaWNhbiBudW1iZXIgcGxhbiBmb3JtYXRcbiAgICAvLyBkYXRlU3RyaW5nIG1hdGNoIG0vZC95eSBhbmQgbW0vZGQveXl5eSwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIG9uZSBvciB0d28gZGlnaXRzIGZvciB0aGUgZGF5IGFuZCBtb250aCwgYW5kIHR3byBvciBmb3VyIGRpZ2l0cyBmb3IgdGhlIHllYXJcbiAgICAvLyB0aW1lIG1hdGNoIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcywgMjQtaG91ciBjbG9ja1xuICAgIHZhciByZWdleHBzID0ge1xuICAgICAgICB1cmw6IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmZdezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvXFxTKik/JC9pLFxuICAgICAgICBlbWFpbDogL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pLFxuICAgICAgICBjcmVkaXRDYXJkOiAvXig/Oig0WzAtOV17MTJ9KD86WzAtOV17M30pPyl8KDVbMS01XVswLTldezE0fSl8KDYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSl8KDNbNDddWzAtOV17MTN9KXwoMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9KXwoKD86MjEzMXwxODAwfDM1WzAtOV17M30pWzAtOV17MTF9KSkkLyxcbiAgICAgICAgYWxwaGFOdW1lcmljOiAvXltBLVphLXowLTldKyQvLFxuICAgICAgICB0aW1lU3RyaW5nOiAvXigyWzAtM118WzAxXT9bMC05XSk6KFswLTVdP1swLTldKTooWzAtNV0/WzAtOV0pJC8sXG4gICAgICAgIGRhdGVTdHJpbmc6IC9eKDFbMC0yXXwwP1sxLTldKVxcLygzWzAxXXxbMTJdWzAtOV18MD9bMS05XSlcXC8oPzpbMC05XXsyfSk/WzAtOV17Mn0kLyxcbiAgICAgICAgdXNaaXBDb2RlOiAvXlswLTldezV9KD86LVswLTldezR9KT8kLyxcbiAgICAgICAgY2FQb3N0YWxDb2RlOiAvXig/IS4qW0RGSU9RVV0pW0EtVlhZXVswLTldW0EtWl1cXHM/WzAtOV1bQS1aXVswLTldJC8sXG4gICAgICAgIHVrUG9zdENvZGU6IC9eW0EtWl17MSwyfVswLTlSQ0hOUV1bMC05QS1aXT9cXHM/WzAtOV1bQUJELUhKTE5QLVVXLVpdezJ9JHxeW0EtWl17Mn0tP1swLTldezR9JC8sXG4gICAgICAgIG5hbnBQaG9uZTogL15cXCg/KFswLTldezN9KVxcKT9bLS4gXT8oWzAtOV17M30pWy0uIF0/KFswLTldezR9KSQvLFxuICAgICAgICBlcHBQaG9uZTogL15cXCtbMC05XXsxLDN9XFwuWzAtOV17NCwxNH0oPzp4LispPyQvLFxuICAgICAgICBzb2NpYWxTZWN1cml0eU51bWJlcjogL14oPyEwMDB8NjY2KVswLThdWzAtOV17Mn0tKD8hMDApWzAtOV17Mn0tKD8hMDAwMClbMC05XXs0fSQvLFxuICAgICAgICBhZmZpcm1hdGl2ZTogL14oPzoxfHQoPzpydWUpP3x5KD86ZXMpP3xvayg/OmF5KT8pJC8sXG4gICAgICAgIGhleGFkZWNpbWFsOiAvXlswLTlhLWZBLUZdKyQvLFxuICAgICAgICBoZXhDb2xvcjogL14jPyhbMC05YS1mQS1GXXszfXxbMC05YS1mQS1GXXs2fSkkLyxcbiAgICAgICAgaXB2NDogL14oPzooPzpcXGR8WzEtOV1cXGR8MVxcZHsyfXwyWzAtNF1cXGR8MjVbMC01XSlcXC4pezN9KD86XFxkfFsxLTldXFxkfDFcXGR7Mn18MlswLTRdXFxkfDI1WzAtNV0pJC8sXG4gICAgICAgIGlwdjY6IC9eKChbYS16QS1aXXxbYS16QS1aXVthLXpBLVowLTlcXC1dKlthLXpBLVowLTldKVxcLikqKFtBLVphLXpdfFtBLVphLXpdW0EtWmEtejAtOVxcLV0qW0EtWmEtejAtOV0pJHxeXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxcbiAgICAgICAgaXA6IC9eKChbMC05XXxbMS05XVswLTldfDFbMC05XXsyfXwyWzAtNF1bMC05XXwyNVswLTVdKVxcLil7M30oWzAtOV18WzEtOV1bMC05XXwxWzAtOV17Mn18MlswLTRdWzAtOV18MjVbMC01XSkkfF4oKFthLXpBLVpdfFthLXpBLVpdW2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pXFwuKSooW0EtWmEtel18W0EtWmEtel1bQS1aYS16MC05XFwtXSpbQS1aYS16MC05XSkkfF5cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvXG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSByZWdleHAgY2hlY2tzIG1ldGhvZHMgZnJvbSAncmVnZXhwJyBvYmplY3RcbiAgICBmb3IodmFyIHJlZ2V4cCBpbiByZWdleHBzKSB7XG4gICAgICAgIGlmKHJlZ2V4cHMuaGFzT3duUHJvcGVydHkocmVnZXhwKSkge1xuICAgICAgICAgICAgcmVnZXhwQ2hlY2socmVnZXhwLCByZWdleHBzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZ2V4cENoZWNrKHJlZ2V4cCwgcmVnZXhwcykge1xuICAgICAgICBpc1tyZWdleHBdID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZWdleHBzW3JlZ2V4cF0udGVzdCh2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU3RyaW5nIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBpbmNsdWRlIHBhcmFtZXRlciBzdWJzdHJpbmc/XG4gICAgaXMuaW5jbHVkZSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIuaW5kZXhPZihzdWJzdHIpID4gLTE7XG4gICAgfTtcbiAgICAvLyBpbmNsdWRlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMuaW5jbHVkZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgYWxsIHVwcGVyY2FzZT9cbiAgICBpcy51cHBlckNhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gc3RyaW5nIGFsbCBsb3dlcmNhc2U/XG4gICAgaXMubG93ZXJDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT09IHN0ci50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICAvLyBpcyBzdHJpbmcgc3RhcnQgd2l0aCBhIGdpdmVuIHN0YXJ0V2l0aCBwYXJhbWV0ZXI/XG4gICAgaXMuc3RhcnRXaXRoID0gZnVuY3Rpb24oc3RyLCBzdGFydFdpdGgpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ci5pbmRleE9mKHN0YXJ0V2l0aCkgPT09IDA7XG4gICAgfTtcbiAgICAvLyBzdGFydFdpdGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5zdGFydFdpdGguYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIHN0cmluZyBlbmQgd2l0aCBhIGdpdmVuIGVuZFdpdGggcGFyYW1ldGVyP1xuICAgIGlzLmVuZFdpdGggPSBmdW5jdGlvbihzdHIsIGVuZFdpdGgpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ci5pbmRleE9mKGVuZFdpdGgpID4gLTEgJiYgc3RyLmluZGV4T2YoZW5kV2l0aCkgPT09IHN0ci5sZW5ndGggLSAgZW5kV2l0aC5sZW5ndGg7XG4gICAgfTtcbiAgICAvLyBlbmRXaXRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMuZW5kV2l0aC5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgb3Igc2VudGVuY2UgY2FwaXRhbGl6ZWQ/XG4gICAgaXMuY2FwaXRhbGl6ZWQgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgaWYoaXMubm90LnN0cmluZyhzdHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdvcmRzID0gc3RyLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBjYXBpdGFsaXplZCA9IFtdO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhcGl0YWxpemVkLnB1c2god29yZHNbaV1bMF0gPT09IHdvcmRzW2ldWzBdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpcy5hbGwudHJ1dGh5LmFwcGx5KG51bGwsIGNhcGl0YWxpemVkKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgcGFsaW5kcm9tZT9cbiAgICBpcy5wYWxpbmRyb21lID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT0gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG4gICAgfTtcblxuICAgIC8vIFRpbWUgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIHZhciBkYXlzID0gWydzdW5kYXknLCAnbW9uZGF5JywgJ3R1ZXNkYXknLCAnd2VkbmVzZGF5JywgJ3RodXJzZGF5JywgJ2ZyaWRheScsICdzYXR1cmRheSddO1xuICAgIHZhciBtb250aHMgPSBbJ2phbnVhcnknLCAnZmVicnVhcnknLCAnbWFyY2gnLCAnYXByaWwnLCAnbWF5JywgJ2p1bmUnLCAnanVseScsICdhdWd1c3QnLCAnc2VwdGVtYmVyJywgJ29jdG9iZXInLCAnbm92ZW1iZXInLCAnZGVjZW1iZXInXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB0b2RheT9cbiAgICBpcy50b2RheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIHRvZGF5U3RyaW5nID0gbm93LnRvRGF0ZVN0cmluZygpO1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0gdG9kYXlTdHJpbmc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB5ZXN0ZXJkYXk/XG4gICAgaXMueWVzdGVyZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgeWVzdGVyZGF5U3RyaW5nID0gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIDEpKS50b0RhdGVTdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmoudG9EYXRlU3RyaW5nKCkgPT09IHllc3RlcmRheVN0cmluZztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHRvbW9ycm93P1xuICAgIGlzLnRvbW9ycm93ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgdG9tb3Jyb3dTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgMSkpLnRvRGF0ZVN0cmluZygpO1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0gdG9tb3Jyb3dTdHJpbmc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBwYXN0P1xuICAgIGlzLnBhc3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKCk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBmdXR1cmU/XG4gICAgaXMuZnV0dXJlID0gbm90KGlzLnBhc3QpO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBkYXkgZXF1YWwgZ2l2ZW4gZGF5U3RyaW5nIHBhcmFtZXRlcj9cbiAgICBpcy5kYXkgPSBmdW5jdGlvbihvYmosIGRheVN0cmluZykge1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIGRheVN0cmluZy50b0xvd2VyQ2FzZSgpID09PSBkYXlzW29iai5nZXREYXkoKV07XG4gICAgfTtcbiAgICAvLyBkYXkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5kYXkuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZXMgbW9udGggZXF1YWwgZ2l2ZW4gbW9udGhTdHJpbmcgcGFyYW1ldGVyP1xuICAgIGlzLm1vbnRoID0gZnVuY3Rpb24ob2JqLCBtb250aFN0cmluZykge1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG1vbnRoU3RyaW5nLnRvTG93ZXJDYXNlKCkgPT09IG1vbnRoc1tvYmouZ2V0TW9udGgoKV07XG4gICAgfTtcbiAgICAvLyBtb250aCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLm1vbnRoLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIHllYXIgZXF1YWwgZ2l2ZW4geWVhciBwYXJhbWV0ZXI/XG4gICAgaXMueWVhciA9IGZ1bmN0aW9uKG9iaiwgeWVhcikge1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIGlzLm51bWJlcih5ZWFyKSAmJiB5ZWFyID09PSBvYmouZ2V0RnVsbFllYXIoKTtcbiAgICB9O1xuICAgIC8vIHllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy55ZWFyLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyB0aGUgZ2l2ZW4geWVhciBhIGxlYXAgeWVhcj9cbiAgICBpcy5sZWFwWWVhciA9IGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcih5ZWFyKSAmJiAoKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDApO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgd2Vla2VuZD9cbiAgICAvLyA2OiBTYXR1cmRheSwgMDogU3VuZGF5XG4gICAgaXMud2Vla2VuZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIChvYmouZ2V0RGF5KCkgPT09IDYgfHwgb2JqLmdldERheSgpID09PSAwKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIHdlZWtkYXk/XG4gICAgaXMud2Vla2RheSA9IG5vdChpcy53ZWVrZW5kKTtcblxuICAgIC8vIGlzIGRhdGUgd2l0aGluIGdpdmVuIHJhbmdlP1xuICAgIGlzLmluRGF0ZVJhbmdlID0gZnVuY3Rpb24ob2JqLCBzdGFydE9iaiwgZW5kT2JqKSB7XG4gICAgICAgIGlmKGlzLm5vdC5kYXRlKG9iaikgfHwgaXMubm90LmRhdGUoc3RhcnRPYmopIHx8IGlzLm5vdC5kYXRlKGVuZE9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2l2ZW5EYXRlID0gb2JqLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc3RhcnRPYmouZ2V0VGltZSgpO1xuICAgICAgICB2YXIgZW5kID0gZW5kT2JqLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIGdpdmVuRGF0ZSA+IHN0YXJ0ICYmIGdpdmVuRGF0ZSA8IGVuZDtcbiAgICB9O1xuICAgIC8vIGluRGF0ZVJhbmdlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMuaW5EYXRlUmFuZ2UuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IHdlZWsgcmFuZ2U/XG4gICAgaXMuaW5MYXN0V2VlayA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSksIG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbGFzdCBtb250aCByYW5nZT9cbiAgICBpcy5pbkxhc3RNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldE1vbnRoKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSAtIDEpKSwgbmV3IERhdGUoKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IHllYXIgcmFuZ2U/XG4gICAgaXMuaW5MYXN0WWVhciA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKSwgbmV3IERhdGUoKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IHdlZWsgcmFuZ2U/XG4gICAgaXMuaW5OZXh0V2VlayA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgKyA3KSkpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gbmV4dCBtb250aCByYW5nZT9cbiAgICBpcy5pbk5leHRNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldE1vbnRoKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDEpKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IHllYXIgcmFuZ2U/XG4gICAgaXMuaW5OZXh0WWVhciA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEpKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiB0aGUgcGFyYW1ldGVyIHF1YXJ0ZXI/XG4gICAgaXMucXVhcnRlck9mWWVhciA9IGZ1bmN0aW9uKG9iaiwgcXVhcnRlck51bWJlcikge1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIGlzLm51bWJlcihxdWFydGVyTnVtYmVyKSAmJiBxdWFydGVyTnVtYmVyID09PSBNYXRoLmZsb29yKChvYmouZ2V0TW9udGgoKSArIDMpIC8gMyk7XG4gICAgfTtcbiAgICAvLyBxdWFydGVyT2ZZZWFyIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMucXVhcnRlck9mWWVhci5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGRheWxpZ2h0IHNhdmluZyB0aW1lP1xuICAgIGlzLmRheUxpZ2h0U2F2aW5nVGltZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgamFudWFyeSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgdmFyIGp1bHkgPSBuZXcgRGF0ZShvYmouZ2V0RnVsbFllYXIoKSwgNiwgMSk7XG4gICAgICAgIHZhciBzdGRUaW1lem9uZU9mZnNldCA9IE1hdGgubWF4KGphbnVhcnkuZ2V0VGltZXpvbmVPZmZzZXQoKSwganVseS5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgICAgICAgcmV0dXJuIG9iai5nZXRUaW1lem9uZU9mZnNldCgpIDwgc3RkVGltZXpvbmVPZmZzZXQ7XG4gICAgfTtcblxuICAgIC8vIEVudmlyb25tZW50IGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBjaGVjayBpZiBsaWJyYXJ5IGlzIHVzZWQgYXMgYSBOb2RlLmpzIG1vZHVsZVxuICAgIGlmKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cbiAgICAgICAgLy8gc3RvcmUgbmF2aWdhdG9yIHByb3BlcnRpZXMgdG8gdXNlIGxhdGVyXG4gICAgICAgIHZhciB1c2VyQWdlbnQgPSAnbmF2aWdhdG9yJyBpbiB3aW5kb3cgJiYgJ3VzZXJBZ2VudCcgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICAgICAgdmFyIHZlbmRvciA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndmVuZG9yJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnZlbmRvci50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgICB2YXIgYXBwVmVyc2lvbiA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAnYXBwVmVyc2lvbicgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkgfHwgJyc7XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGNocm9tZT9cbiAgICAgICAgaXMuY2hyb21lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2Nocm9tZXxjaHJvbWl1bS9pLnRlc3QodXNlckFnZW50KSAmJiAvZ29vZ2xlIGluYy8udGVzdCh2ZW5kb3IpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBjaHJvbWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuY2hyb21lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGZpcmVmb3g/XG4gICAgICAgIGlzLmZpcmVmb3ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvZmlyZWZveC9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZmlyZWZveCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5maXJlZm94LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGVkZ2U/XG4gICAgICAgIGlzLmVkZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvZWRnZS9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZWRnZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5lZGdlLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGludGVybmV0IGV4cGxvcmVyP1xuICAgICAgICAvLyBwYXJhbWV0ZXIgaXMgb3B0aW9uYWxcbiAgICAgICAgaXMuaWUgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgICAgICAgICBpZighdmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAvbXNpZS9pLnRlc3QodXNlckFnZW50KSB8fCBcIkFjdGl2ZVhPYmplY3RcIiBpbiB3aW5kb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2ZXJzaW9uID49IDExKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdtc2llICcgKyB2ZXJzaW9uKS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGllIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmllLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIG9wZXJhP1xuICAgICAgICBpcy5vcGVyYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9eT3BlcmFcXC8vLnRlc3QodXNlckFnZW50KSB8fCAvLyBPcGVyYSAxMiBhbmQgb2xkZXIgdmVyc2lvbnNcbiAgICAgICAgICAgICAgICAvXFx4MjBPUFJcXC8vLnRlc3QodXNlckFnZW50KTsgLy8gT3BlcmEgMTUrXG4gICAgICAgIH07XG4gICAgICAgIC8vIG9wZXJhIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLm9wZXJhLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIHNhZmFyaT9cbiAgICAgICAgaXMuc2FmYXJpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL3NhZmFyaS9pLnRlc3QodXNlckFnZW50KSAmJiAvYXBwbGUgY29tcHV0ZXIvaS50ZXN0KHZlbmRvcik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHNhZmFyaSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5zYWZhcmkuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpb3M/XG4gICAgICAgIGlzLmlvcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLmlwaG9uZSgpIHx8IGlzLmlwYWQoKSB8fCBpcy5pcG9kKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGlvcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5pb3MuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcGhvbmU/XG4gICAgICAgIGlzLmlwaG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pcGhvbmUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGlwaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5pcGhvbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcGFkP1xuICAgICAgICBpcy5pcGFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2lwYWQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGlwYWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuaXBhZC5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwb2Q/XG4gICAgICAgIGlzLmlwb2QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvaXBvZC9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXBvZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5pcG9kLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgYW5kcm9pZD9cbiAgICAgICAgaXMuYW5kcm9pZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBhbmRyb2lkIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmFuZHJvaWQuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHBob25lP1xuICAgICAgICBpcy5hbmRyb2lkUGhvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSAmJiAvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBhbmRyb2lkUGhvbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuYW5kcm9pZFBob25lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgYW5kcm9pZCB0YWJsZXQ/XG4gICAgICAgIGlzLmFuZHJvaWRUYWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSAmJiAhL21vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYW5kcm9pZFRhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5hbmRyb2lkVGFibGV0LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgYmxhY2tiZXJyeT9cbiAgICAgICAgaXMuYmxhY2tiZXJyeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9ibGFja2JlcnJ5L2kudGVzdCh1c2VyQWdlbnQpIHx8IC9CQjEwL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBibGFja2JlcnJ5IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmJsYWNrYmVycnkuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBkZXNrdG9wP1xuICAgICAgICBpcy5kZXNrdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXMubm90Lm1vYmlsZSgpICYmIGlzLm5vdC50YWJsZXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZGVza3RvcCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5kZXNrdG9wLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBvcGVyYXRpbmcgc3lzdGVtIGxpbnV4P1xuICAgICAgICBpcy5saW51eCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9saW51eC9pLnRlc3QoYXBwVmVyc2lvbik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGxpbnV4IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmxpbnV4LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBvcGVyYXRpbmcgc3lzdGVtIG1hYz9cbiAgICAgICAgaXMubWFjID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL21hYy9pLnRlc3QoYXBwVmVyc2lvbik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG1hYyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5tYWMuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gd2luZG93cz9cbiAgICAgICAgaXMud2luZG93cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC93aW4vaS50ZXN0KGFwcFZlcnNpb24pO1xuICAgICAgICB9O1xuICAgICAgICAvLyB3aW5kb3dzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLndpbmRvd3MuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB3aW5kb3dzIHBob25lP1xuICAgICAgICBpcy53aW5kb3dzUGhvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy53aW5kb3dzKCkgJiYgL3Bob25lL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB3aW5kb3dzUGhvbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMud2luZG93c1Bob25lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2Ugd2luZG93cyB0YWJsZXQ/XG4gICAgICAgIGlzLndpbmRvd3NUYWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy53aW5kb3dzKCkgJiYgaXMubm90LndpbmRvd3NQaG9uZSgpICYmIC90b3VjaC9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gd2luZG93c1RhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy53aW5kb3dzVGFibGV0LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgbW9iaWxlP1xuICAgICAgICBpcy5tb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy5pcGhvbmUoKSB8fCBpcy5pcG9kKCkgfHwgaXMuYW5kcm9pZFBob25lKCkgfHwgaXMuYmxhY2tiZXJyeSgpIHx8IGlzLndpbmRvd3NQaG9uZSgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBtb2JpbGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMubW9iaWxlLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgdGFibGV0P1xuICAgICAgICBpcy50YWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy5pcGFkKCkgfHwgaXMuYW5kcm9pZFRhYmxldCgpIHx8IGlzLndpbmRvd3NUYWJsZXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLnRhYmxldC5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgc3RhdGUgb25saW5lP1xuICAgICAgICBpcy5vbmxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICB9O1xuICAgICAgICAvLyBvbmxpbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMub25saW5lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBzdGF0ZSBvZmZsaW5lP1xuICAgICAgICBpcy5vZmZsaW5lID0gbm90KGlzLm9ubGluZSk7XG4gICAgICAgIC8vIG9mZmxpbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMub2ZmbGluZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHN1cHBvcnRzIHRvdWNoP1xuICAgICAgICBpcy50b3VjaERldmljZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCdEb2N1bWVudFRvdWNoJyBpbiB3aW5kb3cgJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0b3VjaERldmljZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy50b3VjaERldmljZS5hcGkgPSBbJ25vdCddO1xuICAgIH1cblxuICAgIC8vIE9iamVjdCBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy8gaGFzIGEgZ2l2ZW4gb2JqZWN0IGdvdCBwYXJhbWV0ZXJpemVkIGNvdW50IHByb3BlcnR5P1xuICAgIGlzLnByb3BlcnR5Q291bnQgPSBmdW5jdGlvbihvYmosIGNvdW50KSB7XG4gICAgICAgIGlmKCFpcy5vYmplY3Qob2JqKSB8fCAhaXMubnVtYmVyKGNvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKE9iamVjdC5rZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IGNvdW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW10sXG4gICAgICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgZm9yKHByb3BlcnR5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gY291bnQ7XG4gICAgfTtcbiAgICAvLyBwcm9wZXJ0eUNvdW50IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMucHJvcGVydHlDb3VudC5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgZ2l2ZW4gb2JqZWN0IGhhcyBwYXJhbWV0ZXJpemVkIHByb3BlcnR5P1xuICAgIGlzLnByb3BlcnR5RGVmaW5lZCA9IGZ1bmN0aW9uKG9iaiwgcHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIGlzLm9iamVjdChvYmopICYmIGlzLnN0cmluZyhwcm9wZXJ0eSkgJiYgcHJvcGVydHkgaW4gb2JqO1xuICAgIH07XG4gICAgLy8gcHJvcGVydHlEZWZpbmVkIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMucHJvcGVydHlEZWZpbmVkLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIG9iamVjdCB3aW5kb3c/XG4gICAgLy8gc2V0SW50ZXJ2YWwgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGZvciB3aW5kb3cgb2JqZWN0XG4gICAgaXMud2luZG93T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAnc2V0SW50ZXJ2YWwnIGluIG9iajtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBvYmplY3QgYSBET00gbm9kZT9cbiAgICBpcy5kb21Ob2RlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5vYmplY3Qob2JqKSAmJiBvYmoubm9kZVR5cGUgPiAwO1xuICAgIH07XG5cbiAgICAvLyBBcnJheSBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy8gaXMgYSBnaXZlbiBpdGVtIGluIGFuIGFycmF5P1xuICAgIGlzLmluQXJyYXkgPSBmdW5jdGlvbih2YWwsIGFycil7XG4gICAgICAgIGlmKGlzLm5vdC5hcnJheShhcnIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gdmFsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBpbkFycmF5IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMuaW5BcnJheS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBhcnJheSBzb3J0ZWQ/XG4gICAgaXMuc29ydGVkID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmKGlzLm5vdC5hcnJheShhcnIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYoYXJyW2ldID4gYXJyW2kgKyAxXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvLyBBUElcbiAgICAvLyBTZXQgJ25vdCcsICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzIHRvIG1ldGhvZHMgYmFzZWQgb24gdGhlaXIgYXBpIHByb3BlcnR5XG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIGZ1bmN0aW9uIHNldEludGVyZmFjZXMoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gaXM7XG4gICAgICAgIGZvcih2YXIgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmKGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgb3B0aW9uKSAmJiBpcy5mdW5jdGlvbihvcHRpb25zW29wdGlvbl0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZmFjZXMgPSBvcHRpb25zW29wdGlvbl0uYXBpIHx8IFsnbm90JywgJ2FsbCcsICdhbnknXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludGVyZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ25vdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzLm5vdFtvcHRpb25dID0gbm90KGlzW29wdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcy5hbGxbb3B0aW9uXSA9IGFsbChpc1tvcHRpb25dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnYW55Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMuYW55W29wdGlvbl0gPSBhbnkoaXNbb3B0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SW50ZXJmYWNlcygpO1xuXG4gICAgLy8gQ29uZmlndXJhdGlvbiBtZXRob2RzXG4gICAgLy8gSW50ZW50aW9uYWxseSBhZGRlZCBhZnRlciBzZXRJbnRlcmZhY2VzIGZ1bmN0aW9uXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIHNldCBvcHRpb25hbCByZWdleHBzIHRvIG1ldGhvZHMgaWYgeW91IHRoaW5rIHRoZXkgc3Vja1xuICAgIGlzLnNldFJlZ2V4cCA9IGZ1bmN0aW9uKHJlZ2V4cCwgcmVnZXhwTmFtZSkge1xuICAgICAgICBmb3IodmFyIHIgaW4gcmVnZXhwcykge1xuICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChyZWdleHBzLCByKSAmJiAocmVnZXhwTmFtZSA9PT0gcikpIHtcbiAgICAgICAgICAgICAgICByZWdleHBzW3JdID0gcmVnZXhwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGNoYW5nZSBuYW1lc3BhY2Ugb2YgbGlicmFyeSB0byBwcmV2ZW50IG5hbWUgY29sbGlzaW9uc1xuICAgIC8vIHZhciBwcmVmZXJyZWROYW1lID0gaXMuc2V0TmFtZXNwYWNlKCk7XG4gICAgLy8gcHJlZmVycmVkTmFtZS5vZGQoMyk7XG4gICAgLy8gPT4gdHJ1ZVxuICAgIGlzLnNldE5hbWVzcGFjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByb290LmlzID0gcHJldmlvdXNJcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHJldHVybiBpcztcbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vaXNfanMvaXMuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkoYXJyKSB7XG5cdGlmICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KGFycik7XG5cdH1cblxuXHRyZXR1cm4gdG9TdHIuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxudmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuXHRpZiAoIW9iaiB8fCB0b1N0ci5jYWxsKG9iaikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIGhhc093bkNvbnN0cnVjdG9yID0gaGFzT3duLmNhbGwob2JqLCAnY29uc3RydWN0b3InKTtcblx0dmFyIGhhc0lzUHJvdG90eXBlT2YgPSBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSAmJiBoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuXHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdGlmIChvYmouY29uc3RydWN0b3IgJiYgIWhhc093bkNvbnN0cnVjdG9yICYmICFoYXNJc1Byb3RvdHlwZU9mKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXHR2YXIga2V5O1xuXHRmb3IgKGtleSBpbiBvYmopIHsvKiovfVxuXG5cdHJldHVybiB0eXBlb2Yga2V5ID09PSAndW5kZWZpbmVkJyB8fCBoYXNPd24uY2FsbChvYmosIGtleSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4dGVuZCgpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1swXSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnYm9vbGVhbicpIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0XHQvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0aSA9IDI7XG5cdH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHx8IHRhcmdldCA9PSBudWxsKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHRmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1tpXTtcblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yIChuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0W25hbWVdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1tuYW1lXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG5cdFx0XHRcdGlmICh0YXJnZXQgIT09IGNvcHkpIHtcblx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRpZiAoZGVlcCAmJiBjb3B5ICYmIChpc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGlzQXJyYXkoY29weSkpKSkge1xuXHRcdFx0XHRcdFx0aWYgKGNvcHlJc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGlzQXJyYXkoc3JjKSA/IHNyYyA6IFtdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTtcblxuXHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb3B5ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gY29weTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9leHRlbmQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIG5hdGl2ZU1hcDtcbnRyeSB7XG4gIG5hdGl2ZU1hcCA9IE1hcDtcbn0gY2F0Y2goXykge1xuICAvLyBtYXliZSBhIHJlZmVyZW5jZSBlcnJvciBiZWNhdXNlIG5vIGBNYXBgLiBHaXZlIGl0IGEgZHVtbXkgdmFsdWUgdGhhdCBub1xuICAvLyB2YWx1ZSB3aWxsIGV2ZXIgYmUgYW4gaW5zdGFuY2VvZi5cbiAgbmF0aXZlTWFwID0gZnVuY3Rpb24oKSB7fTtcbn1cblxudmFyIG5hdGl2ZVNldDtcbnRyeSB7XG4gIG5hdGl2ZVNldCA9IFNldDtcbn0gY2F0Y2goXykge1xuICBuYXRpdmVTZXQgPSBmdW5jdGlvbigpIHt9O1xufVxuXG52YXIgbmF0aXZlUHJvbWlzZTtcbnRyeSB7XG4gIG5hdGl2ZVByb21pc2UgPSBQcm9taXNlO1xufSBjYXRjaChfKSB7XG4gIG5hdGl2ZVByb21pc2UgPSBmdW5jdGlvbigpIHt9O1xufVxuXG4vKipcbiAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgY2lyY3VsYXIgcmVmZXJlbmNlcyBieSBkZWZhdWx0LCBidXQgaWYgeW91IGFyZSBjZXJ0YWluXG4gKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcbiAqIGJ5IGNhbGxpbmcgY2xvbmUob2JqLCBmYWxzZSkuXG4gKlxuICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcbiAqIHlvdXIgcHJvZ3JhbSBtYXkgZW50ZXIgYW4gaW5maW5pdGUgbG9vcCBhbmQgY3Jhc2guXG4gKlxuICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcbiAqIEBwYXJhbSBgY2lyY3VsYXJgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdCB0byBiZSBjbG9uZWQgbWF5IGNvbnRhaW5cbiAqICAgIGNpcmN1bGFyIHJlZmVyZW5jZXMuIChvcHRpb25hbCAtIHRydWUgYnkgZGVmYXVsdClcbiAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cbiAqICAgIGEgcGFydGljdWxhciBkZXB0aC4gKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gSW5maW5pdHkpXG4gKiBAcGFyYW0gYHByb3RvdHlwZWAgLSBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgdXNlZCB3aGVuIGNsb25pbmcgYW4gb2JqZWN0LlxuICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG4gKiBAcGFyYW0gYGluY2x1ZGVOb25FbnVtZXJhYmxlYCAtIHNldCB0byB0cnVlIGlmIHRoZSBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gKiAgICBzaG91bGQgYmUgY2xvbmVkIGFzIHdlbGwuIE5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgb24gdGhlIHByb3RvdHlwZVxuICogICAgY2hhaW4gd2lsbCBiZSBpZ25vcmVkLiAob3B0aW9uYWwgLSBmYWxzZSBieSBkZWZhdWx0KVxuKi9cbmZ1bmN0aW9uIGNsb25lKHBhcmVudCwgY2lyY3VsYXIsIGRlcHRoLCBwcm90b3R5cGUsIGluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG4gICAgZGVwdGggPSBjaXJjdWxhci5kZXB0aDtcbiAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG4gICAgaW5jbHVkZU5vbkVudW1lcmFibGUgPSBjaXJjdWxhci5pbmNsdWRlTm9uRW51bWVyYWJsZTtcbiAgICBjaXJjdWxhciA9IGNpcmN1bGFyLmNpcmN1bGFyO1xuICB9XG4gIC8vIG1haW50YWluIHR3byBhcnJheXMgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMsIHdoZXJlIGNvcnJlc3BvbmRpbmcgcGFyZW50c1xuICAvLyBhbmQgY2hpbGRyZW4gaGF2ZSB0aGUgc2FtZSBpbmRleFxuICB2YXIgYWxsUGFyZW50cyA9IFtdO1xuICB2YXIgYWxsQ2hpbGRyZW4gPSBbXTtcblxuICB2YXIgdXNlQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciAhPSAndW5kZWZpbmVkJztcblxuICBpZiAodHlwZW9mIGNpcmN1bGFyID09ICd1bmRlZmluZWQnKVxuICAgIGNpcmN1bGFyID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGRlcHRoID09ICd1bmRlZmluZWQnKVxuICAgIGRlcHRoID0gSW5maW5pdHk7XG5cbiAgLy8gcmVjdXJzZSB0aGlzIGZ1bmN0aW9uIHNvIHdlIGRvbid0IHJlc2V0IGFsbFBhcmVudHMgYW5kIGFsbENoaWxkcmVuXG4gIGZ1bmN0aW9uIF9jbG9uZShwYXJlbnQsIGRlcHRoKSB7XG4gICAgLy8gY2xvbmluZyBudWxsIGFsd2F5cyByZXR1cm5zIG51bGxcbiAgICBpZiAocGFyZW50ID09PSBudWxsKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoZGVwdGggPT09IDApXG4gICAgICByZXR1cm4gcGFyZW50O1xuXG4gICAgdmFyIGNoaWxkO1xuICAgIHZhciBwcm90bztcbiAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlTWFwKSB7XG4gICAgICBjaGlsZCA9IG5ldyBuYXRpdmVNYXAoKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVNldCkge1xuICAgICAgY2hpbGQgPSBuZXcgbmF0aXZlU2V0KCk7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVQcm9taXNlKSB7XG4gICAgICBjaGlsZCA9IG5ldyBuYXRpdmVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcGFyZW50LnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXNvbHZlKF9jbG9uZSh2YWx1ZSwgZGVwdGggLSAxKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHJlamVjdChfY2xvbmUoZXJyLCBkZXB0aCAtIDEpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGNsb25lLl9faXNBcnJheShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IFtdO1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc1JlZ0V4cChwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBSZWdFeHAocGFyZW50LnNvdXJjZSwgX19nZXRSZWdFeHBGbGFncyhwYXJlbnQpKTtcbiAgICAgIGlmIChwYXJlbnQubGFzdEluZGV4KSBjaGlsZC5sYXN0SW5kZXggPSBwYXJlbnQubGFzdEluZGV4O1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0RhdGUocGFyZW50KSkge1xuICAgICAgY2hpbGQgPSBuZXcgRGF0ZShwYXJlbnQuZ2V0VGltZSgpKTtcbiAgICB9IGVsc2UgaWYgKHVzZUJ1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIocGFyZW50KSkge1xuICAgICAgY2hpbGQgPSBuZXcgQnVmZmVyKHBhcmVudC5sZW5ndGgpO1xuICAgICAgcGFyZW50LmNvcHkoY2hpbGQpO1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgICBwcm90byA9IHByb3RvdHlwZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2lyY3VsYXIpIHtcbiAgICAgIHZhciBpbmRleCA9IGFsbFBhcmVudHMuaW5kZXhPZihwYXJlbnQpO1xuXG4gICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGFsbENoaWxkcmVuW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIGFsbFBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgYWxsQ2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZU1hcCkge1xuICAgICAgdmFyIGtleUl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcbiAgICAgIHdoaWxlKHRydWUpIHtcbiAgICAgICAgdmFyIG5leHQgPSBrZXlJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChuZXh0LmRvbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5Q2hpbGQgPSBfY2xvbmUobmV4dC52YWx1ZSwgZGVwdGggLSAxKTtcbiAgICAgICAgdmFyIHZhbHVlQ2hpbGQgPSBfY2xvbmUocGFyZW50LmdldChuZXh0LnZhbHVlKSwgZGVwdGggLSAxKTtcbiAgICAgICAgY2hpbGQuc2V0KGtleUNoaWxkLCB2YWx1ZUNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVNldCkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcbiAgICAgIHdoaWxlKHRydWUpIHtcbiAgICAgICAgdmFyIG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChuZXh0LmRvbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuICAgICAgICBjaGlsZC5hZGQoZW50cnlDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBwYXJlbnQpIHtcbiAgICAgIHZhciBhdHRycztcbiAgICAgIGlmIChwcm90bykge1xuICAgICAgICBhdHRycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIGkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMgJiYgYXR0cnMuc2V0ID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjaGlsZFtpXSA9IF9jbG9uZShwYXJlbnRbaV0sIGRlcHRoIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwYXJlbnQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIERvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgY2xvbmluZyBhIHN5bWJvbCBiZWNhdXNlIGl0IGlzIGEgcHJpbWl0aXZlLFxuICAgICAgICAvLyBsaWtlIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAgICAgICAgdmFyIHN5bWJvbCA9IHN5bWJvbHNbaV07XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHN5bWJvbCk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmVudW1lcmFibGUgJiYgIWluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRbc3ltYm9sXSA9IF9jbG9uZShwYXJlbnRbc3ltYm9sXSwgZGVwdGggLSAxKTtcbiAgICAgICAgaWYgKCFkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsIHN5bWJvbCwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmNsdWRlTm9uRW51bWVyYWJsZSkge1xuICAgICAgdmFyIGFsbFByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwYXJlbnQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxQcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBhbGxQcm9wZXJ0eU5hbWVzW2ldO1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocGFyZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICBpZiAoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZFtwcm9wZXJ0eU5hbWVdID0gX2Nsb25lKHBhcmVudFtwcm9wZXJ0eU5hbWVdLCBkZXB0aCAtIDEpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuXG4gIHJldHVybiBfY2xvbmUocGFyZW50LCBkZXB0aCk7XG59XG5cbi8qKlxuICogU2ltcGxlIGZsYXQgY2xvbmUgdXNpbmcgcHJvdG90eXBlLCBhY2NlcHRzIG9ubHkgb2JqZWN0cywgdXNlZnVsbCBmb3IgcHJvcGVydHlcbiAqIG92ZXJyaWRlIG9uIEZMQVQgY29uZmlndXJhdGlvbiBvYmplY3QgKG5vIG5lc3RlZCBwcm9wcykuXG4gKlxuICogVVNFIFdJVEggQ0FVVElPTiEgVGhpcyBtYXkgbm90IGJlaGF2ZSBhcyB5b3Ugd2lzaCBpZiB5b3UgZG8gbm90IGtub3cgaG93IHRoaXNcbiAqIHdvcmtzLlxuICovXG5jbG9uZS5jbG9uZVByb3RvdHlwZSA9IGZ1bmN0aW9uIGNsb25lUHJvdG90eXBlKHBhcmVudCkge1xuICBpZiAocGFyZW50ID09PSBudWxsKVxuICAgIHJldHVybiBudWxsO1xuXG4gIHZhciBjID0gZnVuY3Rpb24gKCkge307XG4gIGMucHJvdG90eXBlID0gcGFyZW50O1xuICByZXR1cm4gbmV3IGMoKTtcbn07XG5cbi8vIHByaXZhdGUgdXRpbGl0eSBmdW5jdGlvbnNcblxuZnVuY3Rpb24gX19vYmpUb1N0cihvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5jbG9uZS5fX29ialRvU3RyID0gX19vYmpUb1N0cjtcblxuZnVuY3Rpb24gX19pc0RhdGUobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cbmZ1bmN0aW9uIF9faXNBcnJheShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmNsb25lLl9faXNBcnJheSA9IF9faXNBcnJheTtcblxuZnVuY3Rpb24gX19pc1JlZ0V4cChvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5jbG9uZS5fX2lzUmVnRXhwID0gX19pc1JlZ0V4cDtcblxuZnVuY3Rpb24gX19nZXRSZWdFeHBGbGFncyhyZSkge1xuICB2YXIgZmxhZ3MgPSAnJztcbiAgaWYgKHJlLmdsb2JhbCkgZmxhZ3MgKz0gJ2cnO1xuICBpZiAocmUuaWdub3JlQ2FzZSkgZmxhZ3MgKz0gJ2knO1xuICBpZiAocmUubXVsdGlsaW5lKSBmbGFncyArPSAnbSc7XG4gIHJldHVybiBmbGFncztcbn1cbmNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXG5yZXR1cm4gY2xvbmU7XG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY2xvbmUvY2xvbmUuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vYnVmZmVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBwbGFjZUhvbGRlcnNDb3VudCAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuICAvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG4gIC8vIHJlcHJlc2VudCBvbmUgYnl0ZVxuICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcbiAgLy8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuICByZXR1cm4gYjY0W2xlbiAtIDJdID09PSAnPScgPyAyIDogYjY0W2xlbiAtIDFdID09PSAnPScgPyAxIDogMFxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG4gIHJldHVybiBiNjQubGVuZ3RoICogMyAvIDQgLSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIGksIGosIGwsIHRtcCwgcGxhY2VIb2xkZXJzLCBhcnJcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcbiAgcGxhY2VIb2xkZXJzID0gcGxhY2VIb2xkZXJzQ291bnQoYjY0KVxuXG4gIGFyciA9IG5ldyBBcnIobGVuICogMyAvIDQgLSBwbGFjZUhvbGRlcnMpXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICBsID0gcGxhY2VIb2xkZXJzID4gMCA/IGxlbiAtIDQgOiBsZW5cblxuICB2YXIgTCA9IDBcblxuICBmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzID09PSAyKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcbiAgfSBlbHNlIGlmIChwbGFjZUhvbGRlcnMgPT09IDEpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPSAodWludDhbaV0gPDwgMTYpICsgKHVpbnQ4W2kgKyAxXSA8PCA4KSArICh1aW50OFtpICsgMl0pXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBvdXRwdXQgPSAnJ1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFt0bXAgPj4gMl1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXVxuICAgIG91dHB1dCArPSAnPT0nXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArICh1aW50OFtsZW4gLSAxXSlcbiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAxMF1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXVxuICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdXG4gICAgb3V0cHV0ICs9ICc9J1xuICB9XG5cbiAgcGFydHMucHVzaChvdXRwdXQpXG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Jhc2U2NC1qcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2llZWU3NTQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9pc2FycmF5L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJuYW1lXCI6IFwibHJjLW1ha2VyXCIsXG5cdFwidmVyc2lvblwiOiBcIjAuMi4yXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJscmMgbWFrZXJcIixcblx0XCJtYWluXCI6IFwiaW5kZXguanNcIixcblx0XCJzY3JpcHRzXCI6IHtcblx0XHRcInRlc3RcIjogXCJ5YXJuIHJ1biBsaW50XCIsXG5cdFx0XCJsaW50XCI6IFwiZXNsaW50IC0tZm9ybWF0ICdub2RlX21vZHVsZXMvZXNsaW50LWZyaWVuZGx5LWZvcm1hdHRlcicgLS1leHQganMsdnVlIHdlYnBhY2suY29uZmlnLmpzIHNyY1wiLFxuXHRcdFwiZGV2XCI6IFwid2VicGFjay1kZXYtc2VydmVyIC0taG9zdD0nMC4wLjAuMCcgLS1wcm9ncmVzcyAtLWNvbG9ycyAtLWlubGluZSAtLWhvdCAtLW91dHB1dC1wdWJsaWMtcGF0aD0nL2Fzc2V0cy8nXCIsXG5cdFx0XCJidWlsZFwiOiBcInlhcm4gcnVuIGJ1aWxkOmNsZWFuICYmIHlhcm4gcnVuIGJ1aWxkOndlYnBhY2sgJiYgeWFybiBydW4gYnVpbGQ6dmlld1wiLFxuXHRcdFwiYnVpbGQ6Y2xlYW5cIjogXCJybSAtcmYgYnVpbGRcIixcblx0XHRcImJ1aWxkOnZpZXdcIjogXCIgY3AgaW5kZXguaHRtbCBidWlsZC9pbmRleC5odG1sXCIsXG5cdFx0XCJidWlsZDp3ZWJwYWNrXCI6IFwid2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3V0cHV0LXB1YmxpYy1wYXRoPScuL2Fzc2V0cy8nXCIsXG5cdFx0XCJkZXBsb3lcIjogXCJ5YXJuIHJ1biBidWlsZCAmJiBnaC1wYWdlcyAtZCBidWlsZFwiXG5cdH0sXG5cdFwia2V5d29yZHNcIjogW1xuXHRcdFwibHJjXCJcblx0XSxcblx0XCJhdXRob3JcIjogXCJXZWlyb25nIFh1IDx3ZWlyb25neHUucmFpZG91QGdtYWlsLmNvbT5cIixcblx0XCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyXCIsXG5cdFwicmVwb3NpdG9yeVwiOiB7XG5cdFx0XCJ0eXBlXCI6IFwiZ2l0XCIsXG5cdFx0XCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlci5naXRcIlxuXHR9LFxuXHRcIm9ubGluZVBhZ2VcIjogXCJodHRwczovL3dlaXJvbmd4dS5naXRodWIuaW8vbHJjLW1ha2VyL1wiLFxuXHRcImJ1Z3NcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlci9pc3N1ZXNcIixcblx0XCJsaWNlbnNlXCI6IFwiTUlUXCIsXG5cdFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcImF1dG9wcmVmaXhlclwiOiBcIl42LjUuM1wiLFxuXHRcdFwiYmFiZWwtY29yZVwiOiBcIl42LjcuNlwiLFxuXHRcdFwiYmFiZWwtZXNsaW50XCI6IFwiXjcuMS4xXCIsXG5cdFx0XCJiYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wc1wiOiBcIl4yLjAuMlwiLFxuXHRcdFwiYmFiZWwtbG9hZGVyXCI6IFwiXjYuMi44XCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tc3ludGF4LWpzeFwiOiBcIl42LjE4LjBcIixcblx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tdnVlLWpzeFwiOiBcIl4zLjIuMFwiLFxuXHRcdFwiYmFiZWwtcHJlc2V0LWxhdGVzdFwiOiBcIl42LjE2LjBcIixcblx0XHRcImJhYmVsLXByZXNldC1zdGFnZS0wXCI6IFwiXjYuMTYuMFwiLFxuXHRcdFwiY3NzLWxvYWRlclwiOiBcIl4wLjI2LjBcIixcblx0XHRcImVzbGludFwiOiBcIl4zLjEwLjJcIixcblx0XHRcImVzbGludC1jb25maWctc3RhbmRhcmRcIjogXCJeNi4yLjFcIixcblx0XHRcImVzbGludC1mcmllbmRseS1mb3JtYXR0ZXJcIjogXCJeMi4wLjZcIixcblx0XHRcImVzbGludC1sb2FkZXJcIjogXCJeMS4zLjBcIixcblx0XHRcImVzbGludC1wbHVnaW4taHRtbFwiOiBcIl4xLjcuMFwiLFxuXHRcdFwiZXNsaW50LXBsdWdpbi1wcm9taXNlXCI6IFwiXjMuNC4wXCIsXG5cdFx0XCJlc2xpbnQtcGx1Z2luLXN0YW5kYXJkXCI6IFwiXjIuMC4xXCIsXG5cdFx0XCJmaWxlLWxvYWRlclwiOiBcIl4wLjkuMFwiLFxuXHRcdFwiZ2gtcGFnZXNcIjogXCJeMC4xMi4wXCIsXG5cdFx0XCJqc29uLWxvYWRlclwiOiBcIl4wLjUuNFwiLFxuXHRcdFwibm9kZS1zYXNzXCI6IFwiXjMuMTMuMFwiLFxuXHRcdFwicmVzb2x2ZS11cmwtbG9hZGVyXCI6IFwiXjEuNi4wXCIsXG5cdFx0XCJzYXNzLWxvYWRlclwiOiBcIl40LjAuMlwiLFxuXHRcdFwidXJsLWxvYWRlclwiOiBcIl4wLjUuN1wiLFxuXHRcdFwidnVlLWxvYWRlclwiOiBcIl4xMC4wLjFcIixcblx0XHRcInZ1ZS10ZW1wbGF0ZS1jb21waWxlclwiOiBcIl4yLjEuM1wiLFxuXHRcdFwid2VicGFja1wiOiBcIl4xLjEyLjE1XCIsXG5cdFx0XCJ3ZWJwYWNrLWRldi1zZXJ2ZXJcIjogXCJeMS4xNC4xXCIsXG5cdFx0XCJ5YW1sLWxvYWRlclwiOiBcIl4wLjQuMFwiXG5cdH0sXG5cdFwiZGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcImNsb25lXCI6IFwiXjIuMS4wXCIsXG5cdFx0XCJldmVudGVtaXR0ZXIyXCI6IFwiXjIuMi4xXCIsXG5cdFx0XCJleHRlbmRcIjogXCJeMy4wLjBcIixcblx0XHRcImZpbGVzYXZlci5qc1wiOiBcIl4wLjIuMFwiLFxuXHRcdFwibHJjLWtpdFwiOiBcIl4wLjIuMFwiLFxuXHRcdFwidW5pZHJhZ2dlclwiOiBcIl4yLjEuMFwiLFxuXHRcdFwidnVlXCI6IFwiXjIuMS4zXCIsXG5cdFx0XCJ2dWUtaTE4blwiOiBcIl40LjcuM1wiXG5cdH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vcGFja2FnZS5qc29uXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJiYXJcIixcbiAgICBzdGF0aWNDbGFzczogXCJiYXJcIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0uY2xpY2tcbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcInZhbHVlXCIsXG4gICAgc3R5bGU6ICh7XG4gICAgICB3aWR0aDogX3ZtLnNlbGZWYWx1ZSAqIDEwMCArICclJ1xuICAgIH0pXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICByZWY6IFwidGh1bWJcIixcbiAgICBzdGF0aWNDbGFzczogXCJ0aHVtYlwiLFxuICAgIHN0eWxlOiAoe1xuICAgICAgbGVmdDogX3ZtLnNlbGZWYWx1ZSAqIDEwMCArICclJ1xuICAgIH0pXG4gIH0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9yYW5nZS52dWVcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTdmNTZjN2E2IXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vdGltZS1wYW5lbC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTdmNTZjN2E2IXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdGltZS1wYW5lbC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdGltZS1wYW5lbC52dWVcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdj5cbiAgICA8c3BhbiBAY2xpY2s9XCJyZW1haW4gPSAhcmVtYWluXCI+XG4gICAgICA8dGVtcGxhdGUgdi1pZj1cInJlbWFpblwiPlxuICAgICAgICAte3soZHVyYXRpb24gLSBjdXJyZW50VGltZSkgfCB0aW1lfX1cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8dGVtcGxhdGUgdi1lbHNlPlxuICAgICAgICB7e2N1cnJlbnRUaW1lIHwgdGltZX19XG4gICAgICA8L3RlbXBsYXRlPlxuICAgIDwvc3Bhbj5cbiAgICAvIHt7ZHVyYXRpb24gfCB0aW1lfX1cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIj5cbjwvc3R5bGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQge3RpbWVzdGFtcDJ0aW1lc3RyfSBmcm9tICcuLi91dGlscydcbmltcG9ydCBjYWNoZSBmcm9tICcuLi9jYWNoZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtYWluOiBjYWNoZS50aW1lUmVtYWluLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBkdXJhdGlvbjoge1xuICAgICAgZGVmYXVsdDogMCxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICB9LFxuICAgIGN1cnJlbnRUaW1lOiB7XG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgdHlwZTogTnVtYmVyLFxuICAgIH0sXG4gIH0sXG4gIGZpbHRlcnM6IHtcbiAgICB0aW1lICh0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiB0aW1lc3RhbXAydGltZXN0cih0aW1lc3RhbXAsIHRydWUpXG4gICAgfSxcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICByZW1haW4gKHZhbCkge1xuICAgICAgY2FjaGUudGltZVJlbWFpbiA9IHZhbFxuICAgIH0sXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0aW1lLXBhbmVsLnZ1ZT9lMDM0OWI1ZSIsImltcG9ydCB7Y2FjaGV9IGZyb20gJy4vdXRpbHMnXG5cbmNvbnN0IGNhY2hlTWFwID0ge1xuICBscmNGb3JtYXQ6IHt9LFxuICBseXJpYzoge30sXG4gIGVkaXRpbmc6IHtcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGx5cmljQXJyYXk6IHtcbiAgICBkZWZhdWx0OiBbXVxuICB9LFxuICB0aW1lUmVtYWluOiB7XG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0sXG4gIHVzZXJOYW1lOiB7XG4gICAgZGVmYXVsdDogJycsXG4gIH0sXG59XG5cbnZhciBjYWNoZU9iaiA9IHt9XG5PYmplY3Qua2V5cyhjYWNoZU1hcCkuZm9yRWFjaCgocHJvcCkgPT4ge1xuICBsZXQgY29uZmlnID0gY2FjaGVNYXBbcHJvcF1cbiAgY2FjaGVPYmpbcHJvcF0gPSBjYWNoZS5nZXQoY29uZmlnLm5hbWUgfHwgcHJvcCwgY29uZmlnLmRlZmF1bHQgfHwgJycpXG59KVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHJveHkoY2FjaGVPYmosIHtcbiAgc2V0OiBmdW5jdGlvbiAob2JqLCBwcm9wLCB2YWx1ZSkge1xuICAgIGxldCBjb25maWcgPSBjYWNoZU1hcFtwcm9wXVxuICAgIGNhY2hlLnNldChjb25maWcubmFtZSB8fCBwcm9wLCB2YWx1ZSlcbiAgICBvYmpbcHJvcF0gPSB2YWx1ZVxuICAgIHJldHVybiB0cnVlXG4gIH0sXG59KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2FjaGUuanMiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgnc3BhbicsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLnJlbWFpbiA9ICFfdm0ucmVtYWluXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5yZW1haW4pID8gW1wiXFxuICAgICAgLVwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoKF92bS5kdXJhdGlvbiAtIF92bS5jdXJyZW50VGltZSkpKSArIFwiXFxuICAgIFwiXSA6IFtcIlxcbiAgICAgIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmN1cnJlbnRUaW1lKSkgKyBcIlxcbiAgICBcIl0sIFwiIFwiXSksIFwiXFxuICAvIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmR1cmF0aW9uKSkgKyBcIlxcblwiXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgdmFsdWU6IChfdm0uc3JjLmxlbmd0aCksXG4gICAgICBleHByZXNzaW9uOiBcInNyYy5sZW5ndGhcIlxuICAgIH1dLFxuICAgIHN0YXRpY0NsYXNzOiBcInJvb3RcIixcbiAgICBjbGFzczoge1xuICAgICAgbW9iaWxlOiBfdm0uaXNNb2JpbGVcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcIm1vdXNlb3ZlclwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmhvdmVyID0gdHJ1ZVxuICAgICAgfSxcbiAgICAgIFwibW91c2VsZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmhvdmVyID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJwbGF5ZXJcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltTUEFDRV1cIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5wYXVzZWQgPSAhX3ZtLnBhdXNlZFxuICAgICAgfVxuICAgIH1cbiAgfSwgWyhfdm0ucGF1c2VkKSA/IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsYXlcIlxuICB9KSA6IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXBhdXNlXCJcbiAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW0xFRlRdXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJGVtaXQoJ2JhY2t3YXJkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1iYWNrd2FyZFwiXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW1JJR0hUXVwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRlbWl0KCdmb3J3YXJkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1mb3J3YXJkXCJcbiAgfSldKSwgXCIgXCIsIF92bS5faCgncmFuZ2UnLCB7XG4gICAgcmVmOiBcIm11c2ljUmFuZ2VcIixcbiAgICBzdGF0aWNDbGFzczogXCJyYW5nZSBtdXNpY1wiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS5wcm9jZXNzXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJzZWVrXCI6IF92bS5zZWVrXG4gICAgfVxuICB9KSwgXCIgXCIsICghX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG4gICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcbiAgICB9XG4gIH0pIDogX3ZtLl9lKCldKSwgXCIgXCIsIF92bS5faCgndHJhbnNpdGlvbicsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJuYW1lXCI6IFwicGxheWVyLW1vcmVcIlxuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICB2YWx1ZTogKF92bS5pc01vYmlsZSB8fCBfdm0uaG92ZXIpLFxuICAgICAgZXhwcmVzc2lvbjogXCJpc01vYmlsZSB8fCBob3ZlclwiXG4gICAgfV0sXG4gICAgc3RhdGljQ2xhc3M6IFwibW9yZVwiXG4gIH0sIFsoX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG4gICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcbiAgICB9XG4gIH0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJzb3VuZFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0ubXV0ZWQgPSAhX3ZtLm11dGVkXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5tdXRlZCB8fCBfdm0udm9sdW1lID09IDApID8gX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLW9mZlwiXG4gIH0pIDogX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLXVwXCJcbiAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ3JhbmdlJywge1xuICAgIHJlZjogXCJzb3VuZFJhbmdlXCIsXG4gICAgc3RhdGljQ2xhc3M6IFwicmFuZ2Ugdm9sdW1lXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidmFsdWVcIjogX3ZtLnZvbHVtZVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwic2Vla1wiOiBfdm0udm9sdW1lU2VlayxcbiAgICAgIFwiZHJhZy1zZWVrXCI6IF92bS52b2x1bWVTZWVrXG4gICAgfVxuICB9KV0pXSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtOWIyOTQzZmEhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTFjYWNmNTNkIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcbl9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTFjYWNmNTNkXCJcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJ1bC5seXJpY3NbZGF0YS12LTFjYWNmNTNkXXtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxfXVsLmx5cmljcz5saVtkYXRhLXYtMWNhY2Y1M2Rde21pbi1oZWlnaHQ6NDBweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMmE3MmJiO3BhZGRpbmc6MTBweCAwfXVsLmx5cmljcz5saS5jdXJbZGF0YS12LTFjYWNmNTNkXXtjb2xvcjojMmE3MmJiO3RleHQtc2hhZG93OjFweCAxcHggMXB4ICNhYWE7YmFja2dyb3VuZC1jb2xvcjojZmJmYmZifXVsLmx5cmljcz5saTpob3ZlciAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6aW5saW5lLWJsb2NrfXVsLmx5cmljcz5saSAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6bm9uZX11bC5seXJpY3M+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXSx1bC5seXJpY3M+bGkudW5zb3J0ZWRbZGF0YS12LTFjYWNmNTNkXXtiYWNrZ3JvdW5kLWNvbG9yOiNmMWYxZjF9dWwubHlyaWNzPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6YXV0bztwYWRkaW5nOjJweCAwO2ZvbnQtc2l6ZToxMnB4O3RleHQtYWxpZ246Y2VudGVyfXVsLmx5cmljcy5lZGl0aW5nPmxpW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZzowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fXVsLmx5cmljcy5lZGl0aW5nPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpibG9jaztwYWRkaW5nOjRweCAwfXVsLmx5cmljcy5lZGl0aW5nPmxpIC50aW1lc3RhbXBbZGF0YS12LTFjYWNmNTNkXXtjb2xvcjojN2M5ZmJiO3dpZHRoOjYwcHg7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6Jy4nfXVsLmx5cmljcy5lZGl0aW5nPmxpIC5jb250ZW50W2RhdGEtdi0xY2FjZjUzZF17LW1zLWZsZXg6MTtmbGV4OjF9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmljb24tYnRuW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZy1sZWZ0OjRweDtwYWRkaW5nLXJpZ2h0OjRweH11bC5seXJpY3MuZWRpdGluZz5saSAuY29udGVudFtkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC5pY29uLWJ0bltkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC50aW1lc3RhbXBbZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHh9dWwubHlyaWNzLmVkaXRpbmc+bGkgaW5wdXRbZGF0YS12LTFjYWNmNTNkXXt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNkMGRhZTR9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPHVsIHYtaWY9XCJlZGl0aW5nXCIgY2xhc3M9XCJlZGl0aW5nIGx5cmljc1wiPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIHJ1bm5lci5scmMubHlyaWNzXCJcbiAgICAgIDp0aXRsZT1cImx5cmljLnRpbWVzdGFtcFwiXG4gICAgICA6Y2xhc3M9XCJ7Y3VyOiBpID09IGluZGV4fVwiXG4gICAgICBAZGJsY2xpY2s9XCJlZGl0KGkpXCJcbiAgICAgIEBjb250ZXh0bWVudS5wcmV2ZW50PVwiZWRpdE1lbnUoaSlcIlxuICAgID5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiZWRpdGluZ0luZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwidGltZXN0YW1wXCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwibHlyaWMudGltZXN0YW1wXCIgQGtleWRvd24uZW50ZXI9XCJleGl0RWRpdFwiLz5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljLmNvbnRlbnRcIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lc3RhbXBcIj57e2x5cmljLnRpbWVzdGFtcCB8IHRpbWV9fTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPnt7bHlyaWMuY29udGVudH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wVGV4dChpKVwiPiAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUaW1lc3RhbXAoaSlcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiZWRpdChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXBsdXNcIj48L2k+IHt7ICR0KCdseXJpY19lZGl0b3IuYWRkJykgfX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIEBjbGljaz1cInJlbW92ZShpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L3RtZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9saT5cbiAgICA8bGkgdi1pZj1cImx5cmljQXJyYXkubGVuZ3RoXCIgY2xhc3M9XCJkaXZpc2lvblwiPnt7ICR0KCdseXJpY19lZGl0b3IuZm9sbG93aW5nX3Vuc29ydGVkJykgfX08L2xpPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIGx5cmljQXJyYXlcIlxuICAgICAgdHJhY2stYnk9XCJpXCJcbiAgICAgIGNsYXNzPVwidW5zb3J0ZWRcIlxuICAgICAgQGRibGNsaWNrPVwiZWRpdFRleHQoaSlcIlxuICAgICAgQGNvbnRleHRtZW51LnByZXZlbnQ9XCJlZGl0TWVudShpKVwiXG4gICAgPlxuICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nVGV4dEluZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljQXJyYXlbaV1cIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+e3tseXJpY319PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wKGkpXCI+ICAgICAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJlZGl0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmFkZCcpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUZXh0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXRyYXNoXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvdG1lbnU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L2xpPlxuICA8L3VsPlxuICA8dWwgdi1lbHNlIGNsYXNzPVwibHlyaWNzXCI+XG4gICAgPGxpXG4gICAgICB2LWZvcj1cIihseXJpYywgaSkgaW4gcnVubmVyLmxyYy5seXJpY3NcIlxuICAgICAgQGNsaWNrPVwicGxheXRvKGx5cmljLnRpbWVzdGFtcClcIlxuICAgICAgOnRpdGxlPVwibHlyaWMudGltZXN0YW1wXCJcbiAgICAgIDpjbGFzcz1cIntjdXI6IGkgPT0gaW5kZXh9XCJcbiAgICA+XG4gICAgICB7e2x5cmljLmNvbnRlbnR9fVxuICAgIDwvbGk+XG4gICAgPGxpIHYtaWY9XCJseXJpY0FycmF5Lmxlbmd0aFwiIGNsYXNzPVwiZGl2aXNpb25cIj57eyAkdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpIH19PC9saT5cbiAgICA8bGlcbiAgICAgIHYtZm9yPVwiKGx5cmljLCBpKSBpbiBseXJpY0FycmF5XCJcbiAgICAgIHRyYWNrLWJ5PVwiaVwiXG4gICAgICBjbGFzcz1cInVuc29ydGVkXCJcbiAgICA+XG4gICAgICB7e2x5cmljfX1cbiAgICA8L2xpPlxuICA8L3VsPlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxuQGltcG9ydCAnc2Fzcy9iYXNlJztcblxudWwubHlyaWNzIHtcbiAgJGRhcmstY29sb3I6ICNmMWYxZjE7XG4gICRsaWdodC1jb2xvcjogI2ZiZmJmYjtcbiAgJGZhY2UtY29sb3I6ICRibHVlLWNvbG9yO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGRhcmstY29sb3I7XG4gID4gbGkge1xuICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiAkZmFjZS1jb2xvcjtcbiAgICBwYWRkaW5nOiAxMHB4IDA7XG4gICAgJi5jdXIge1xuICAgICAgY29sb3I6ICRmYWNlLWNvbG9yO1xuICAgICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNhYWE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbGlnaHQtY29sb3I7XG4gICAgfVxuICAgICY6aG92ZXIge1xuICAgICAgLmNvbmNlYWwge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG4gICAgfVxuICAgIC5jb25jZWFsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICYudW5zb3J0ZWQsXG4gICAgJi5kaXZpc2lvbixcbiAgICB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGFyay1jb2xvcjtcbiAgICB9XG4gICAgJi5kaXZpc2lvbiB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWluLWhlaWdodDogYXV0bztcbiAgICAgIHBhZGRpbmc6IDJweCAwO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgfVxuICAmLmVkaXRpbmcge1xuICAgID4gbGkge1xuICAgICAgcGFkZGluZzogMDtcblxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICYuZGl2aXNpb24ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZzogNHB4IDA7XG4gICAgICB9XG4gICAgICAudGltZXN0YW1wIHtcbiAgICAgICAgY29sb3I6ICM3QzlGQkI7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiAnLic7XG4gICAgICB9XG4gICAgICAuY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG4gICAgICAuaWNvbi1idG4ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDRweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogNHB4O1xuICAgICAgfVxuICAgICAgLnRpbWVzdGFtcCxcbiAgICAgIC5jb250ZW50LFxuICAgICAgLmljb24tYnRuLFxuICAgICAge1xuICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICB9XG4gICAgICBpbnB1dCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDBEQUU0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7UnVubmVyfSBmcm9tICdscmMta2l0J1xuaW1wb3J0IHtTY3JvbGxlciwgZ2xvYmFsS2V5ZG93biwgdGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IGNhY2hlIGZyb20gJy4uL2NhY2hlJ1xuaW1wb3J0IFRtZW51IGZyb20gJy4vdG1lbnUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiAtMSxcbiAgICAgIGVkaXRpbmdJbmRleDogLTEsXG4gICAgICBlZGl0aW5nVGV4dEluZGV4OiAtMSxcbiAgICAgIHNjcm9sbGVyOiBudWxsLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBydW5uZXI6IHtcbiAgICAgIHR5cGU6IFJ1bm5lcixcbiAgICAgIGRlZmF1bHQ6IG5ldyBSdW5uZXIoKSxcbiAgICB9LFxuICAgIHBsYXl0bzoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fSxcbiAgICB9LFxuICAgIGVkaXRpbmc6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBjYWNoZS5lZGl0aW5nLFxuICAgIH0sXG4gICAgbHlyaWNBcnJheToge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBbXSxcbiAgICB9LFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZWRpdE1lbnUgKGluZGV4KSB7XG4gICAgICAvLyBUT0RPXG4gICAgfSxcbiAgICBleGl0RWRpdCAoKSB7XG4gICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IC0xXG4gICAgICB0aGlzLmVkaXRpbmdUZXh0SW5kZXggPSAtMVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICB9LFxuICAgIGVkaXQgKGluZGV4KSB7XG4gICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IGluZGV4XG4gICAgfSxcbiAgICBlZGl0VGV4dCAoaW5kZXgpIHtcbiAgICAgIHRoaXMuZWRpdGluZ1RleHRJbmRleCA9IGluZGV4XG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgcmVtb3ZlIChpbmRleCkge1xuICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgcmVtb3ZlVGV4dCAoaW5kZXgpIHtcbiAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgaW5zZXJ0IChpbmRleCkge1xuICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljcy5zcGxpY2UoaW5kZXggKyAxLCAwLCB7XG4gICAgICAgIHRpbWVzdGFtcDogdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wLFxuICAgICAgICBjb250ZW50OiB0aGlzLnJ1bm5lci5scmMubHlyaWNzW2luZGV4XS5jb250ZW50LFxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBpbnNlcnRUZXh0IChpbmRleCkge1xuICAgICAgdGhpcy5seXJpY0FycmF5LnNwbGljZShpbmRleCArIDEsIDAsIHRoaXMubHlyaWNBcnJheVtpbmRleF0pXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgcmVtb3ZlVGltZXN0YW1wIChpbmRleCkge1xuICAgICAgdmFyIGx5cmljcyA9IHRoaXMucnVubmVyLmxyYy5seXJpY3NcbiAgICAgIHZhciByZW1vdmVMeXJpY3MgPSBseXJpY3NcbiAgICAgIC5zcGxpY2UoaW5kZXgsIGx5cmljcy5sZW5ndGggLSBpbmRleClcbiAgICAgIC5tYXAoKGx5cmljKSA9PiB7IHJldHVybiBseXJpYy5jb250ZW50IH0pXG4gICAgICB0aGlzLmx5cmljQXJyYXkuc3BsaWNlKDAsIDAsIC4uLnJlbW92ZUx5cmljcylcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBzZXRUaW1lc3RhbXAgKGluZGV4KSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lXG4gICAgICBpZiAoY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wID0gY3VycmVudFRpbWVcbiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRpbWVzdGFtcFRleHQgKGluZGV4KSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lXG4gICAgICBpZiAoY3VycmVudFRpbWUgIT09IDAgJiYgdGhpcy5seXJpY0FycmF5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnB1c2goe1xuICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudFRpbWUsXG4gICAgICAgICAgY29udGVudDogdGhpcy5seXJpY0FycmF5W2luZGV4XSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZW1vdmVUZXh0KGluZGV4KVxuICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgICAgfVxuICAgIH0sXG4gICAgc2Nyb2xsVG9DdXJyZW50THlyaWMgKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgIHZhciByb290ID0gdGhpcy4kZWxcbiAgICAgIHZhciBjdXIgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jdXInKVxuICAgICAgaWYgKGN1cikge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5jbGllbnRIZWlnaHRcbiAgICAgICAgdmFyIHRvcCA9IGN1ci5vZmZzZXRUb3AgLSBoZWlnaHQgLyAyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8odG9wLCBmb3JjZSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBmaWx0ZXJzOiB7XG4gICAgdGltZTogdGltZXN0YW1wMnRpbWVzdHIsXG4gIH0sXG4gIGNyZWF0ZWQgKCkge1xuICAgIHRoaXMuJG9uKCd0aW1ldXBkYXRlJywgKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgdGhpcy5ydW5uZXIudGltZVVwZGF0ZSh0aW1lc3RhbXApXG4gICAgICB0aGlzLmluZGV4ID0gdGhpcy5ydW5uZXIuY3VySW5kZXgoKVxuICAgICAgdGhpcy5zY3JvbGxUb0N1cnJlbnRMeXJpYygpXG4gICAgfSkuJG9uKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLnJ1bm5lci5scmNVcGRhdGUoKVxuICAgICAgdGhpcy4kQXBwLmxyY0Zvcm1hdCA9IHRoaXMucnVubmVyLmxyYy50b1N0cmluZygpXG4gICAgICB0aGlzLiRBcHAubHlyaWNBcnJheSA9IHRoaXMubHlyaWNBcnJheVxuICAgIH0pLiRvbigncHJldmx5cmljJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVUaW1lc3RhbXAodGhpcy5ydW5uZXIubHJjLmx5cmljcy5sZW5ndGggLSAxKVxuICAgIH0pLiRvbignbmV4dGx5cmljJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRUaW1lc3RhbXBUZXh0KDApXG4gICAgfSlcbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gICAgdGhpcy5zY3JvbGxlciA9IG5ldyBTY3JvbGxlcih0aGlzLiRlbClcblxuICAgIGdsb2JhbEtleWRvd25cbiAgICAub24oWydlbnRlcicsICdlc2NhcGUnXSwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2Fycm93dXAnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3ByZXZseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdhcnJvd2Rvd24nLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ25leHRseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZWRpdGluZyAoKSB7XG4gICAgICBpZiAoIXRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgVG1lbnUsXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBseXJpYy1lZGl0b3IudnVlPzVkYzA4MTk1IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5SdW5uZXIgPSBleHBvcnRzLkxyYyA9IGV4cG9ydHMuTGluZVBhcnNlciA9IHVuZGVmaW5lZDtcblxudmFyIF9saW5lUGFyc2VyID0gcmVxdWlyZSgnLi9saW5lLXBhcnNlcicpO1xuXG52YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9ydW5uZXIgPSByZXF1aXJlKCcuL3J1bm5lcicpO1xuXG52YXIgX3J1bm5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5uZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLkxpbmVQYXJzZXIgPSBfbGluZVBhcnNlcjIuZGVmYXVsdDtcbmV4cG9ydHMuTHJjID0gX2xyYzIuZGVmYXVsdDtcbmV4cG9ydHMuUnVubmVyID0gX3J1bm5lcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2xyYy1raXQvbGliL2xyYy1raXQuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTGluZVBhcnNlciA9IGZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIG51bGwsIFt7XG4gICAga2V5OiAncGFyc2VUYWdzJyxcblxuICAgIC8vIG1hdGNoIGBbdGk6IFRoZSBUaXRsZV1gXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlVGFncyhsaW5lKSB7XG4gICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5UQUdTX1JFR0VYUC5leGVjKGxpbmUpO1xuICAgICAgdmFyIHRhZyA9IG1hdGNoc1swXTtcbiAgICAgIHZhciBjb250ZW50ID0gbGluZS5zdWJzdHIodGFnLmxlbmd0aCk7XG4gICAgICByZXR1cm4gW3RhZy5zbGljZSgxLCAtMSkuc3BsaXQoL1xcXVxccypcXFsvKSwgY29udGVudF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGluZSBwYXJzZSBscmMgb2YgdGltZXN0YW1wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignW3RpOiBTb25nIHRpdGxlXScpXG4gICAgICogbHAudHlwZSA9PT0gTGluZVBhcnNlci5UWVBFLklORk9cbiAgICAgKiBscC5rZXkgPT09ICd0aSdcbiAgICAgKiBscC52YWx1ZSA9PT0gJ1NvbmcgdGl0bGUnXG4gICAgICpcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignWzEwOjEwLjEwXWhlbGxvJylcbiAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuVElNRVxuICAgICAqIGxwLnRpbWVzdGFtcHMgPT09IFsxMCo2MCsxMC4xMF1cbiAgICAgKiBscC5jb250ZW50ID09PSAnaGVsbG8nXG4gICAgICogQGNvbnN0cnVjdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZVxuICAgICAqL1xuXG4gICAgLy8gbWF0Y2ggYFs1MTI6MzQuMV0gbHlyaWMgY29udGVudGBcblxuICAgIC8vIG1hdGNoIGBbMTI6MzAuMV1bMTI6MzAuMl1gXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIExpbmVQYXJzZXIobGluZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lUGFyc2VyKTtcblxuICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfTGluZVBhcnNlciRwYXJzZVRhZ3MgPSBMaW5lUGFyc2VyLnBhcnNlVGFncyhsaW5lKTtcblxuICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFnczIgPSBfc2xpY2VkVG9BcnJheShfTGluZVBhcnNlciRwYXJzZVRhZ3MsIDIpO1xuXG4gICAgICB2YXIgdGFncyA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMF07XG4gICAgICB2YXIgY29udGVudCA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMV07XG5cbiAgICAgIGlmIChMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcbiAgICAgICAgdGhpcy5wYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoTGluZVBhcnNlci5JTkZPX1JFR0VYUC50ZXN0KHRhZ3NbMF0pKSB7XG4gICAgICAgIHRoaXMucGFyc2VBc0luZm8odGFnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGluZVBhcnNlciwgW3tcbiAgICBrZXk6ICdwYXJzZUFzVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNUaW1lKHRhZ3MsIGNvbnRlbnQpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBzID0gW107XG4gICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5USU1FX1JFR0VYUC5leGVjKHRhZyk7XG4gICAgICAgIHZhciBtaW51dGVzID0gcGFyc2VGbG9hdChtYXRjaHNbMV0pO1xuICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzJdLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoJzonLCAnLicpKTtcbiAgICAgICAgdGltZXN0YW1wcy5wdXNoKG1pbnV0ZXMgKiA2MCArIHNlY29uZHMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzO1xuICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudC50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuVElNRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZUFzSW5mbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNJbmZvKHRhZykge1xuICAgICAgdmFyIG1hdGNocyA9IExpbmVQYXJzZXIuSU5GT19SRUdFWFAuZXhlYyh0YWcpO1xuICAgICAgdGhpcy5rZXkgPSBtYXRjaHNbMV0udHJpbSgpO1xuICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoc1syXS50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5GTztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGluZVBhcnNlcjtcbn0oKTtcblxuTGluZVBhcnNlci5UQUdTX1JFR0VYUCA9IC9eKFxcWy4rXFxdKSsvO1xuTGluZVBhcnNlci5JTkZPX1JFR0VYUCA9IC9eXFxzKihcXHcrKVxccyo6KC4qKSQvO1xuTGluZVBhcnNlci5USU1FX1JFR0VYUCA9IC9eXFxzKihcXGQrKVxccyo6XFxzKihcXGQrKFxccypbXFwuOl1cXHMqXFxkKyk/KVxccyokLztcbkxpbmVQYXJzZXIuVFlQRSA9IHtcbiAgSU5WQUxJRDogMCxcbiAgSU5GTzogMSxcbiAgVElNRTogMlxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IExpbmVQYXJzZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2lzX2pzID0gcmVxdWlyZSgnaXNfanMnKTtcblxudmFyIF9pc19qczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc19qcyk7XG5cbnZhciBfbGluZVBhcnNlciA9IHJlcXVpcmUoJy4vbGluZS1wYXJzZXInKTtcblxudmFyIF9saW5lUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmVQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTHJjID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMcmMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExyYyk7XG5cbiAgICB0aGlzLmluZm8gPSB7fTtcbiAgICB0aGlzLmx5cmljcyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExyYywgW3tcbiAgICBrZXk6ICdvZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZzZXQob2Zmc2V0VGltZSkge1xuICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgbHlyaWMudGltZXN0YW1wICs9IG9mZnNldFRpbWU7XG4gICAgICAgIGlmIChseXJpYy50aW1lc3RhbXAgPCAwKSB7XG4gICAgICAgICAgbHlyaWMudGltZXN0YW1wID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IGxyYyB0ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5jb21iaW5lIGx5cmljcyBjb21iaW5lIGJ5IHNhbWUgY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5zb3J0IGx5cmljcyBzb3J0IGJ5IHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxpbmVGb3JtYXQgbmV3bGluZSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBvcHRzLmNvbWJpbmUgPSAnY29tYmluZScgaW4gb3B0cyA/IG9wdHMuY29tYmluZSA6IHRydWU7XG4gICAgICBvcHRzLmxpbmVGb3JtYXQgPSAnbGluZUZvcm1hdCcgaW4gb3B0cyA/IG9wdHMubGluZUZvcm1hdCA6ICdcXHJcXG4nO1xuICAgICAgb3B0cy5zb3J0ID0gJ3NvcnQnIGluIG9wdHMgPyBvcHRzLnNvcnQgOiB0cnVlO1xuICAgICAgdmFyIGxpbmVzID0gW10sXG4gICAgICAgICAgbHlyaWNzTWFwID0ge30sXG4gICAgICAgICAgbHlyaWNzTGlzdCA9IFtdO1xuXG4gICAgICAvLyBnZW5lcmF0ZSBpbmZvXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG4gICAgICAgIGxpbmVzLnB1c2goJ1snICsga2V5ICsgJzonICsgdGhpcy5pbmZvW2tleV0gKyAnXScpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5jb21iaW5lKSB7XG4gICAgICAgIC8vIHVuaXF1ZW5lc3NcbiAgICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBpZiAobHlyaWMuY29udGVudCBpbiBseXJpY3NNYXApIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XS5wdXNoKGx5cmljLnRpbWVzdGFtcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XSA9IFtseXJpYy50aW1lc3RhbXBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNvcnRlZFxuICAgICAgICBmb3IgKHZhciBjb250ZW50IGluIGx5cmljc01hcCkge1xuICAgICAgICAgIGlmIChvcHRzLnNvcnQpIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtjb250ZW50XS5zb3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGx5cmljc0xpc3QucHVzaCh7XG4gICAgICAgICAgICB0aW1lc3RhbXBzOiBseXJpY3NNYXBbY29udGVudF0sXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG4gICAgICAgICAgbHlyaWNzTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXBzWzBdIC0gYi50aW1lc3RhbXBzWzBdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgbHlyaWNzXG4gICAgICAgIGx5cmljc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBsaW5lcy5wdXNoKCdbJyArIGx5cmljLnRpbWVzdGFtcHMubWFwKGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBMcmMudGltZXN0YW1wVG9TdHJpbmcodGltZXN0YW1wKTtcbiAgICAgICAgICB9KS5qb2luKCddWycpICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmx5cmljcy5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuICAgICAgICAgIGxpbmVzLnB1c2goJ1snICsgTHJjLnRpbWVzdGFtcFRvU3RyaW5nKGx5cmljLnRpbWVzdGFtcCkgKyAnXScgKyAobHlyaWMuY29udGVudCB8fCAnJykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4ob3B0cy5saW5lRm9ybWF0KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ3BhcnNlJyxcblxuXG4gICAgLyoqXG4gICAgICogcGFyc2UgbHJjIHRleHQgYW5kIHJldHVybiBhIExyYyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm4ge0xyY31cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICAgICAgdmFyIGx5cmljcyA9IFtdO1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIHRleHQuc3BsaXQoL1xcclxcbnxbXFxuXFxyXS9nKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfbGluZVBhcnNlcjIuZGVmYXVsdChsaW5lKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgc3dpdGNoIChsaW5lLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuSU5GTzpcbiAgICAgICAgICAgIGluZm9bbGluZS5rZXldID0gbGluZS52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgX2xpbmVQYXJzZXIyLmRlZmF1bHQuVFlQRS5USU1FOlxuICAgICAgICAgICAgbGluZS50aW1lc3RhbXBzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBseXJpY3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgY29udGVudDogbGluZS5jb250ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGxyYyA9IG5ldyB0aGlzKCk7XG4gICAgICBscmMubHlyaWNzID0gbHlyaWNzO1xuICAgICAgbHJjLmluZm8gPSBpbmZvO1xuICAgICAgcmV0dXJuIGxyYztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja0x5cmljT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tMeXJpY09iamVjdChseXJpYykge1xuICAgICAgcmV0dXJuIF9pc19qczIuZGVmYXVsdC5vYmplY3QobHlyaWMpICYmICd0aW1lc3RhbXAnIGluIGx5cmljICYmIF9pc19qczIuZGVmYXVsdC5udW1iZXIobHlyaWMudGltZXN0YW1wKSAmJiAnY29udGVudCcgaW4gbHlyaWMgJiYgX2lzX2pzMi5kZWZhdWx0LnN0cmluZyhseXJpYy5jb250ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYWRaZXJvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFkWmVybyhudW0pIHtcbiAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKF9pc19qczIuZGVmYXVsdC5udW1iZXIobnVtKSkge1xuICAgICAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSB7XG4gICAgICAgIG51bSA9ICcwJyArIG51bTtcbiAgICAgIH1yZXR1cm4gbnVtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBscmMgdGltZSBzdHJpbmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIExyYy50aW1lc3RhbXBUb1N0cmluZygxNDMuNTQpXG4gICAgICogLy8gcmV0dXJuICcwMjoyMy41NCc6XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCBzZWNvbmQgdGltZXN0YW1wXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0aW1lc3RhbXBUb1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFkWmVybyhwYXJzZUludCh0aW1lc3RhbXAgLyA2MCkpICsgJzonICsgdGhpcy5wYWRaZXJvKCh0aW1lc3RhbXAgJSA2MCkudG9GaXhlZCgyKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExyYztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTHJjO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvbHJjLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9jbG9uZSA9IHJlcXVpcmUoJ2Nsb25lJyk7XG5cbnZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUnVubmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtMcmN9IGxyY1xuICAgKi9cblxuICBmdW5jdGlvbiBSdW5uZXIoKSB7XG4gICAgdmFyIGxyYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5ldyBfbHJjMi5kZWZhdWx0KCkgOiBhcmd1bWVudHNbMF07XG4gICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVubmVyKTtcblxuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuICAgIHRoaXMuc2V0THJjKGxyYyk7XG4gIH1cblxuICAvKipcbiAgICogIEBwYXJhbSB7THJjfSBscmNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUnVubmVyLCBbe1xuICAgIGtleTogJ3NldExyYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExyYyhscmMpIHtcbiAgICAgIHRoaXMubHJjID0gKDAsIF9jbG9uZTIuZGVmYXVsdCkobHJjKTtcbiAgICAgIHRoaXMubHJjVXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbHJjVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbHJjVXBkYXRlKCkge1xuICAgICAgaWYgKHRoaXMub2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuX29mZnNldEFsaWduKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zb3J0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX29mZnNldEFsaWduJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29mZnNldEFsaWduKCkge1xuICAgICAgaWYgKCdvZmZzZXQnIGluIHRoaXMubHJjLmluZm8pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMubHJjLmluZm8ub2Zmc2V0KSAvIDEwMDA7XG4gICAgICAgIGlmICghaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICAgIHRoaXMubHJjLm9mZnNldChvZmZzZXQpO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmxyYy5pbmZvLm9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19zb3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoKSB7XG4gICAgICB0aGlzLmxyYy5seXJpY3Muc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RpbWVVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKHRpbWVzdGFtcCkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA+PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCAtMSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHRoaXMuX2N1cnJlbnRJbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2ZpbmRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4KSB7XG4gICAgICB2YXIgY3VyRnJvbnRUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IC0xID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXhdLnRpbWVzdGFtcDtcblxuICAgICAgdmFyIGN1ckJhY2tUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXggKyAxXS50aW1lc3RhbXA7XG5cbiAgICAgIGlmICh0aW1lc3RhbXAgPCBjdXJGcm9udFRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluZEluZGV4KHRpbWVzdGFtcCwgc3RhcnRJbmRleCAtIDEpO1xuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPT09IGN1ckJhY2tUaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGN1ckJhY2tUaW1lc3RhbXAgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPiBjdXJCYWNrVGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4ICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5mbygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5pbmZvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEx5cmljcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5seXJpY3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEByZXR1cm4ge09iamVjdH0geycnfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMeXJpYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljKCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jdXJJbmRleCgpIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5scmMubHlyaWNzW2luZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggbm90IGV4aXN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VySW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VyTHlyaWMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJMeXJpYygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEx5cmljKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJ1bm5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUnVubmVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2xvbmUgPSAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGRlZmF1bHQsIGJ1dCBpZiB5b3UgYXJlIGNlcnRhaW5cbiAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cbiAqXG4gKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuICogICAgY2lyY3VsYXIgcmVmZXJlbmNlcy4gKG9wdGlvbmFsIC0gdHJ1ZSBieSBkZWZhdWx0KVxuICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcbiAqIEBwYXJhbSBgcHJvdG90eXBlYCAtIHNldHMgdGhlIHByb3RvdHlwZSB0byBiZSB1c2VkIHdoZW4gY2xvbmluZyBhbiBvYmplY3QuXG4gKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cbiovXG5mdW5jdGlvbiBjbG9uZShwYXJlbnQsIGNpcmN1bGFyLCBkZXB0aCwgcHJvdG90eXBlKSB7XG4gIHZhciBmaWx0ZXI7XG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG4gICAgZGVwdGggPSBjaXJjdWxhci5kZXB0aDtcbiAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG4gICAgZmlsdGVyID0gY2lyY3VsYXIuZmlsdGVyO1xuICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXJcbiAgfVxuICAvLyBtYWludGFpbiB0d28gYXJyYXlzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLCB3aGVyZSBjb3JyZXNwb25kaW5nIHBhcmVudHNcbiAgLy8gYW5kIGNoaWxkcmVuIGhhdmUgdGhlIHNhbWUgaW5kZXhcbiAgdmFyIGFsbFBhcmVudHMgPSBbXTtcbiAgdmFyIGFsbENoaWxkcmVuID0gW107XG5cbiAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PSAndW5kZWZpbmVkJylcbiAgICBjaXJjdWxhciA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBkZXB0aCA9PSAndW5kZWZpbmVkJylcbiAgICBkZXB0aCA9IEluZmluaXR5O1xuXG4gIC8vIHJlY3Vyc2UgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCByZXNldCBhbGxQYXJlbnRzIGFuZCBhbGxDaGlsZHJlblxuICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuICAgIC8vIGNsb25pbmcgbnVsbCBhbHdheXMgcmV0dXJucyBudWxsXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGRlcHRoID09IDApXG4gICAgICByZXR1cm4gcGFyZW50O1xuXG4gICAgdmFyIGNoaWxkO1xuICAgIHZhciBwcm90bztcbiAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gW107XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cblxuICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBmbGF0IGNsb25lIHVzaW5nIHByb3RvdHlwZSwgYWNjZXB0cyBvbmx5IG9iamVjdHMsIHVzZWZ1bGwgZm9yIHByb3BlcnR5XG4gKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuICpcbiAqIFVTRSBXSVRIIENBVVRJT04hIFRoaXMgbWF5IG5vdCBiZWhhdmUgYXMgeW91IHdpc2ggaWYgeW91IGRvIG5vdCBrbm93IGhvdyB0aGlzXG4gKiB3b3Jrcy5cbiAqL1xuY2xvbmUuY2xvbmVQcm90b3R5cGUgPSBmdW5jdGlvbiBjbG9uZVByb3RvdHlwZShwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gbnVsbDtcblxuICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuICBjLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgcmV0dXJuIG5ldyBjKCk7XG59O1xuXG4vLyBwcml2YXRlIHV0aWxpdHkgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufTtcbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufTtcbmNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cbmZ1bmN0aW9uIF9faXNBcnJheShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5jbG9uZS5fX2lzQXJyYXkgPSBfX2lzQXJyYXk7XG5cbmZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufTtcbmNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXG5yZXR1cm4gY2xvbmU7XG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9+L2Nsb25lL2Nsb25lLmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LWVlZTRjYWJlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTEhLi90bWVudS52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3RtZW51LnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtZWVlNGNhYmUhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi1lZWU0Y2FiZVwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInNwYW5bZGF0YS12LWVlZTRjYWJlXXtwb3NpdGlvbjpyZWxhdGl2ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL3RtZW51LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL3RtZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWVudXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubWVudSB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9Lm1lbnUgdWwgbGl7d2hpdGUtc3BhY2U6bm93cmFwO2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjI1cHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMmE3MmJiO2N1cnNvcjpwb2ludGVyfS5tZW51IHVsIGxpOmhvdmVye2NvbG9yOiMyYTcyYmI7YmFja2dyb3VuZC1jb2xvcjojZThlMWUxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cIm1lbnVcIiByZWY9XCJtZW51XCI+XG4gICAgPHRvb2x0aXAgOmRpcj1cImRpclwiIDp0YXJnZXQ9XCIkcmVmcy5tZW51XCIgOmVudGVyLWRlbGF5PVwiMFwiPlxuICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJ0YXJnZXRcIj5cbiAgICAgICAgPC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHNsb3Q9XCJjb250ZW50XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJsaXN0XCI+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgIDwvdG9vbHRpcD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5zcGFuIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4ubWVudSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB1bCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGxpIHtcbiAgICAgICRib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgaGVpZ2h0OiAyNXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICRibHVlLWNvbG9yO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThFMUUxO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlyOiBmYWxzZSxcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBUb29sdGlwLFxuICB9LFxufVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdG1lbnUudnVlPzBhNmE1MjJjIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtYTMzY2ZkNWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi90b29sdGlwLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtYTMzY2ZkNWUhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdG9vbHRpcC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Rvb2x0aXAudnVlXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWEzM2NmZDVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90b29sdGlwLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWEzM2NmZDVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3Rvb2x0aXAudnVlXG4vLyBtb2R1bGUgaWQgPSA2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50b29sdGlwIC53cmFwe3BhZGRpbmc6OHB4O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMmE3MmJiO2JvcmRlci1yYWRpdXM6OHB4O2JveC1zaGFkb3c6LjVweCAuNXB4IDNweCAuNXB4ICNjY2N9LnRvb2x0aXAgLndyYXAgLmFycm93e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjA7ZGlzcGxheTpibG9jazttYXJnaW46YXV0b30udG9vbHRpcCAud3JhcCAuYXJyb3cubGVmdHt0b3A6MDtib3R0b206MDtyaWdodDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy5yaWdodHt0b3A6MDtib3R0b206MDtsZWZ0Oi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy50b3B7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cuYm90dG9te2xlZnQ6MDtyaWdodDowO3RvcDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206OHB4IHNvbGlkICNmZmZ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWEzM2NmZDVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3Rvb2x0aXAudnVlXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxzcGFuIGNsYXNzPVwidG9vbHRpcFwiPlxuICAgIDxzbG90IG5hbWU9XCJ0YXJnZXRcIj48L3Nsb3Q+XG4gICAgPGRpdiBjbGFzcz1cIndyYXBcIiA6c3R5bGU9XCJzdHlsZVwiIHJlZj1cIndyYXBcIj5cbiAgICAgIDxkaXYgOmNsYXNzPVwiJ2Fycm93ICcgKyBkaXJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJjb250ZW50XCI+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvc3Bhbj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxuQGltcG9ydCAnc2Fzcy9iYXNlJztcblxuLnRvb2x0aXAge1xuICAud3JhcCB7XG4gICAgJGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHotaW5kZXg6IDEwMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XG4gICAgYm94LXNoYWRvdzogLjVweCAuNXB4IDNweCAuNXB4ICNjY2M7XG5cbiAgICAuYXJyb3cge1xuICAgICAgJHdpZHRoOiA4cHg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMDtcbiAgICAgIGhlaWdodDogMDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICBAbWl4aW4gYXJyb3coJGRpcikge1xuICAgICAgICBib3JkZXI6ICR3aWR0aCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLSN7JGRpcn06ICR3aWR0aCBzb2xpZCB3aGl0ZTtcbiAgICAgIH1cblxuICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgJi5sZWZ0IHtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHJpZ2h0OiAtICR3aWR0aCAqIDI7XG4gICAgICAgIEBpbmNsdWRlIGFycm93KCdsZWZ0Jyk7XG4gICAgICB9XG4gICAgICAmLnJpZ2h0IHtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ3JpZ2h0Jyk7XG4gICAgICB9XG4gICAgICAmLnRvcCB7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ3RvcCcpO1xuICAgICAgfVxuICAgICAgJi5ib3R0b20ge1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgdG9wOiAtICR3aWR0aCAqIDI7XG4gICAgICAgIEBpbmNsdWRlIGFycm93KCdib3R0b20nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQge0RlbGF5SG92ZXIsIFRvb2x0aXBQb3NpdGlvbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2V4dGVuZCdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICAgIGRpcjogZmFsc2UsXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGVudGVyRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuMSxcbiAgICB9LFxuICAgIGxlYXZlRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogRWxlbWVudCxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMudGFyZ2V0ICE9PSBudWxsID8gdGhpcy50YXJnZXQgOiB0aGlzLiRlbFxuICAgIHZhciB0bHBQb3MgPSBuZXcgVG9vbHRpcFBvc2l0aW9uKHBhcmVudCwgdGhpcy4kcmVmcy53cmFwKVxuICAgIHZhciBhcnJvd1NwYWNlID0gMTBcblxuICAgIHZhciBkaG92ZXIgPSBuZXcgRGVsYXlIb3ZlcihwYXJlbnQsIHtcbiAgICAgIGVudGVyRGVsYXk6IHRoaXMuZW50ZXJEZWxheSxcbiAgICAgIGxlYXZlRGVsYXk6IHRoaXMubGVhdmVEZWxheSxcbiAgICB9KVxuICAgIGRob3Zlci5ob3ZlcihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdmFyIHBvcyA9IHRscFBvcy5wb3NpdGlvbigpXG4gICAgICAgIHRoaXMuZGlyID0gcG9zLmRpclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyKSB7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBleHRlbmQodGhpcy5zdHlsZSwge1xuICAgICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcH1weGAsXG4gICAgICAgICAgICAgIGxlZnQ6IGAke3Bvcy5yZWN0LmxlZnQgLSBhcnJvd1NwYWNlfXB4YCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICAgIHRvcDogYCR7cG9zLnJlY3QudG9wfXB4YCxcbiAgICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdCArIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICAgIHRvcDogYCR7cG9zLnJlY3QudG9wIC0gYXJyb3dTcGFjZX1weGAsXG4gICAgICAgICAgICAgIGxlZnQ6IGAke3Bvcy5yZWN0LmxlZnR9cHhgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICAgIHRvcDogYCR7cG9zLnJlY3QudG9wICsgYXJyb3dTcGFjZX1weGAsXG4gICAgICAgICAgICAgIGxlZnQ6IGAke3Bvcy5yZWN0LmxlZnR9cHhgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlXG4gICAgICB9XG4gICAgKVxuICB9LFxuICB3YXRjaDoge1xuICAgIHNob3c6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXIgKCkge1xuICAgICAgICB0aGlzLnN0eWxlLnZpc2liaWxpdHkgPSB0aGlzLnNob3cgPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgICAgfSxcbiAgICB9LFxuICB9LFxufVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdG9vbHRpcC52dWU/MzdkY2JlMjIiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnc3BhbicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJ0b29sdGlwXCJcbiAgfSwgW192bS5fdChcInRhcmdldFwiKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJ3cmFwXCIsXG4gICAgc3RhdGljQ2xhc3M6IFwid3JhcFwiLFxuICAgIHN0eWxlOiAoX3ZtLnN0eWxlKVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgY2xhc3M6ICdhcnJvdyAnICsgX3ZtLmRpclxuICB9KSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuICB9LCBbX3ZtLl90KFwiY29udGVudFwiKV0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LWEzM2NmZDVlIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3Rvb2x0aXAudnVlXG4vLyBtb2R1bGUgaWQgPSA3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJtZW51XCIsXG4gICAgc3RhdGljQ2xhc3M6IFwibWVudVwiXG4gIH0sIFtfdm0uX2goJ3Rvb2x0aXAnLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwiZGlyXCI6IF92bS5kaXIsXG4gICAgICBcInRhcmdldFwiOiBfdm0uJHJlZnMubWVudSxcbiAgICAgIFwiZW50ZXItZGVsYXlcIjogMFxuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHNsb3Q6IFwidGFyZ2V0XCJcbiAgfSwgW192bS5fdChcInRhcmdldFwiKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc2xvdDogXCJjb250ZW50XCJcbiAgfSwgW192bS5fdChcImxpc3RcIildKV0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gKF92bS5lZGl0aW5nKSA/IF92bS5faCgndWwnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiZWRpdGluZyBseXJpY3NcIlxuICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuICAgICAgY2xhc3M6IHtcbiAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuICAgICAgfSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uZWRpdChpKVxuICAgICAgICB9LFxuICAgICAgICBcImNvbnRleHRtZW51XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF92bS5lZGl0TWVudShpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgWyhfdm0uZWRpdGluZ0luZGV4ID09IGkpID8gW192bS5faCgnaW5wdXQnLCB7XG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICB2YWx1ZTogKGx5cmljLnRpbWVzdGFtcCksXG4gICAgICAgIGV4cHJlc3Npb246IFwibHlyaWMudGltZXN0YW1wXCJcbiAgICAgIH1dLFxuICAgICAgc3RhdGljQ2xhc3M6IFwidGltZXN0YW1wXCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhseXJpYy50aW1lc3RhbXApXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJrZXlkb3duXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSAhPT0gMTMpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgX3ZtLmV4aXRFZGl0KCRldmVudClcbiAgICAgICAgfSxcbiAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgbHlyaWMudGltZXN0YW1wID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgdmFsdWU6IChseXJpYy5jb250ZW50KSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy5jb250ZW50XCJcbiAgICAgIH1dLFxuICAgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MobHlyaWMuY29udGVudClcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cbiAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgICBseXJpYy5jb250ZW50ID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSldIDogW192bS5faCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwidGltZXN0YW1wXCJcbiAgICB9LCBbX3ZtLl9zKF92bS5fZihcInRpbWVcIikobHlyaWMudGltZXN0YW1wKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiXG4gICAgfSwgW192bS5fcyhseXJpYy5jb250ZW50KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcbiAgICB9LCBbX3ZtLl9oKCd0bWVudScsIFtfdm0uX2goJ2RpdicsIHtcbiAgICAgIHNsb3Q6IFwidGFyZ2V0XCJcbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lbGxpcHNpcy12ZXJ0XCJcbiAgICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcbiAgICAgIHNsb3Q6IFwibGlzdFwiXG4gICAgfSwgW192bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5yZW1vdmVUaW1lc3RhbXAoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uZWRpdChpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWRpdFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uaW5zZXJ0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuYWRkJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnJlbW92ZShpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tdHJhc2hcIlxuICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSldKV0pXSldLCBcIiBcIl0pXG4gIH0pLCBcIiBcIiwgKF92bS5seXJpY0FycmF5Lmxlbmd0aCkgPyBfdm0uX2goJ2xpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcbiAgfSwgW192bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5mb2xsb3dpbmdfdW5zb3J0ZWQnKSldKSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9sKChfdm0ubHlyaWNBcnJheSksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG4gICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0cmFjay1ieVwiOiBcImlcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiZGJsY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dG1lbnVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbKF92bS5lZGl0aW5nVGV4dEluZGV4ID09IGkpID8gW192bS5faCgnaW5wdXQnLCB7XG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICB2YWx1ZTogKF92bS5seXJpY0FycmF5W2ldKSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpY0FycmF5W2ldXCJcbiAgICAgIH1dLFxuICAgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljQXJyYXlbaV0pXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJrZXlkb3duXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSAhPT0gMTMpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgX3ZtLmV4aXRFZGl0KCRldmVudClcbiAgICAgICAgfSxcbiAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgdmFyICQkZXhwID0gX3ZtLmx5cmljQXJyYXksXG4gICAgICAgICAgICAkJGlkeCA9IGk7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KCQkZXhwKSkge1xuICAgICAgICAgICAgX3ZtLmx5cmljQXJyYXlbaV0gPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQkZXhwLnNwbGljZSgkJGlkeCwgMSwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCJcbiAgICB9LCBbX3ZtLl9zKGx5cmljKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcbiAgICB9LCBbX3ZtLl9oKCd0bWVudScsIFtfdm0uX2goJ2RpdicsIHtcbiAgICAgIHNsb3Q6IFwidGFyZ2V0XCJcbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lbGxpcHNpcy12ZXJ0XCJcbiAgICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcbiAgICAgIHNsb3Q6IFwibGlzdFwiXG4gICAgfSwgW192bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5lZGl0VGV4dChpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWRpdFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uaW5zZXJ0VGV4dChpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tcGx1c1wiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmFkZCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5yZW1vdmVUZXh0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpKSArIFwiXFxuICAgICAgICAgICAgXCJdKV0pXSldKV0sIFwiIFwiXSlcbiAgfSldKSA6IF92bS5faCgndWwnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibHlyaWNzXCJcbiAgfSwgW192bS5fbCgoX3ZtLnJ1bm5lci5scmMubHlyaWNzKSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcbiAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcbiAgICAgIGNsYXNzOiB7XG4gICAgICAgIGN1cjogaSA9PSBfdm0uaW5kZXhcbiAgICAgIH0sXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInRpdGxlXCI6IGx5cmljLnRpbWVzdGFtcFxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnBsYXl0byhseXJpYy50aW1lc3RhbXApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbXCJcXG4gICAgXCIgKyBfdm0uX3MobHlyaWMuY29udGVudCkgKyBcIlxcbiAgXCJdKVxuICB9KSwgXCIgXCIsIChfdm0ubHlyaWNBcnJheS5sZW5ndGgpID8gX3ZtLl9oKCdsaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJkaXZpc2lvblwiXG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZm9sbG93aW5nX3Vuc29ydGVkJykpXSkgOiBfdm0uX2UoKSwgXCIgXCIsIF92bS5fbCgoX3ZtLmx5cmljQXJyYXkpLCBmdW5jdGlvbihseXJpYywgaSkge1xuICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwidW5zb3J0ZWRcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidHJhY2stYnlcIjogXCJpXCJcbiAgICAgIH1cbiAgICB9LCBbXCJcXG4gICAgXCIgKyBfdm0uX3MobHlyaWMpICsgXCJcXG4gIFwiXSlcbiAgfSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIilcbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtYTE0Yzk2ZWEhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaW5kZXgudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi1hMTRjOTZlYSF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9pbmRleC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcbl9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LWExNGM5NmVhXCJcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL21vZGFscy9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwW2RhdGEtdi1hMTRjOTZlYV06YWZ0ZXIsLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXTphZnRlcntjb250ZW50OicgJztkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGh9LmNvdmVyW2RhdGEtdi1hMTRjOTZlYV17cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNyk7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4OjEwMDA7b3ZlcmZsb3c6YXV0b30ubW9kYWxbZGF0YS12LWExNGM5NmVhXXtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MzBweCBhdXRvO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjhweDtvdmVyZmxvdzpoaWRkZW59Lm1vZGFsLmxnW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6NTAlfS5tb2RhbC5tZFtkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjcwJX0ubW9kYWwuc21bZGF0YS12LWExNGM5NmVhXXt3aWR0aDo5MCV9Lm1vZGFsIC5ib2R5W2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFde3BhZGRpbmctbGVmdDoxNHB4O3BhZGRpbmctcmlnaHQ6MTRweH0ubW9kYWwgLmJvZHlbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFde3BhZGRpbmctdG9wOjE0cHg7cGFkZGluZy1ib3R0b206MTRweH0ubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17Y29sb3I6IzJhNzJiYn0ubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFde2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNWU1ZTU7Zm9udC13ZWlnaHQ6Ym9sZGVyfS5tb2RhbCAuaGVhZGVyIC5pY29uLWNhbmNlbFtkYXRhLXYtYTE0Yzk2ZWFde2Zsb2F0OnJpZ2h0O2N1cnNvcjpwb2ludGVyfS5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV17Ym9yZGVyLXRvcDoxcHggc29saWQgI2U1ZTVlNX0ubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwIC5idG5bZGF0YS12LWExNGM5NmVhXXtmbG9hdDpyaWdodDtib3JkZXItcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjojMmE3MmJiO3BhZGRpbmc6OHB4IDEwcHh9Lm1vZGFsIC5mb290ZXIgLmJ0bi1ncm91cCAuYnRuW2RhdGEtdi1hMTRjOTZlYV06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9pbmRleC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCBoM3ttYXJnaW46MTBweCAwfS5tb2RhbCB0ZXh0YXJlYXt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtib3JkZXItcmFkaXVzOjVweDttaW4taGVpZ2h0OjMwMHB4O21hcmdpbjoxMHB4IDB9Lm1vZGFsIHB7bWFyZ2luOjB9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL21vZGFscy9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiA6Y2xhc3M9XCJ7Y292ZXI6IGNvdmVyU2hvd31cIiBAY2xpY2s9XCJjYW5jZWxcIj5cbiAgICA8dHJhbnNpdGlvbiBuYW1lPVwibW9kYWxcIiBAYWZ0ZXItbGVhdmU9XCJjb3ZlclNob3cgPSBmYWxzZVwiPlxuICAgICAgPGRpdiB2LWlmPVwiaXNTaG93XCIgY2xhc3M9XCJtb2RhbFwiIDpjbGFzcz1cIltzaXplXVwiIEBjbGljay5zdG9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAge3t0aXRsZX19XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWNhbmNlbFwiIEBjbGljaz1cImNhbmNlbFwiPjwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gICAgICAgICAgPGRpdiByZWY9XCJtb2RhbFdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJjb25maXJtXCIgY2xhc3M9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG5cIiBAY2xpY2s9XCJva1wiPnt7ICR0KCdtb2RhbC5idXR0b24ub2snKSB9fTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiIEBjbGljaz1cImNhbmNlbFwiPnt7ICR0KCdtb2RhbC5idXR0b24uY2FuY2VsJykgfX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L3RyYW5zaXRpb24+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxuQGltcG9ydCBcIi4uL3Nhc3MvYmFzZVwiO1xuXG4kcHJpbWFyeS1jb2xvcjogIzRGOTlFNDtcblxuLmNvdmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgei1pbmRleDogMTAwMDtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbi5tb2RhbCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luOiAzMHB4IGF1dG87XG5cbiAgJi5sZyB7XG4gICAgd2lkdGg6IDUwJTtcbiAgfVxuXG4gICYubWQge1xuICAgIHdpZHRoOiA3MCU7XG4gIH1cblxuICAmLnNtIHtcbiAgICB3aWR0aDogOTAlO1xuICB9XG5cbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAuaGVhZGVyLFxuICAuYm9keSxcbiAgLmZvb3RlcixcbiAge1xuICAgIHBhZGRpbmctbGVmdDogMTRweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNHB4O1xuICB9XG5cbiAgLmhlYWRlcixcbiAgLmJvZHksXG4gIHtcbiAgICBwYWRkaW5nLXRvcDogMTRweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTRweDtcbiAgfVxuXG4gIC5oZWFkZXIsXG4gIC5mb290ZXIsXG4gIHtcbiAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gIH1cblxuICAuaGVhZGVyIHtcbiAgICBAZXh0ZW5kICVyb3c7XG5cbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0U1RTVFNTtcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xuXG4gICAgLmljb24tY2FuY2VsIHtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gIH1cblxuICAuZm9vdGVyIHtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI0U1RTVFNTtcblxuICAgIC5idG4tZ3JvdXAge1xuICAgICAgQGV4dGVuZCAlcm93O1xuXG4gICAgICAuYnRuIHtcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgY29sb3I6ICRibHVlLWNvbG9yO1xuICAgICAgICBwYWRkaW5nOiA4cHggMTBweDtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxuICAubW9kYWwge1xuICAgIGgzIHtcbiAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgIH1cbiAgICB0ZXh0YXJlYSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNENkQ2RDY7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBtaW4taGVpZ2h0OiAzMDBweDtcbiAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgIH1cbiAgICBwIHtcbiAgICAgIG1hcmdpbjogMDtcbiAgICB9XG4gIH1cbjwvc3R5bGU+XG5cbjxzY3JpcHQ+XG4gIGltcG9ydCBWdWUgZnJvbSAndnVlJ1xuICBpbXBvcnQge2dsb2JhbEtleWRvd259IGZyb20gJy4uLy4uL3V0aWxzJ1xuICBpbXBvcnQgSGVscCBmcm9tICcuL2hlbHAnXG4gIGltcG9ydCBMcmNGb3JtYXRVcGxvYWQgZnJvbSAnLi9scmMtZm9ybWF0LXVwbG9hZCdcbiAgaW1wb3J0IEx5cmljVXBsb2FkIGZyb20gJy4vbHlyaWMtdXBsb2FkJ1xuICBpbXBvcnQgTHJjU2F2ZSBmcm9tICcuL2xyYy1zYXZlJ1xuXG4gIHZhciBDT01QT05FTlRTID0ge1xuICAgICdoZWxwJzogSGVscCxcbiAgICAnbHJjLWZvcm1hdC11cGxvYWQnOiBMcmNGb3JtYXRVcGxvYWQsXG4gICAgJ2x5cmljLXVwbG9hZCc6IEx5cmljVXBsb2FkLFxuICAgICdscmMtc2F2ZSc6IExyY1NhdmUsXG4gIH1cblxuICB3aW5kb3cuTUMgPSBbXVxuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiAnTW9kYWwnLFxuICAgICAgICBzaXplOiAnbWQnLFxuICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgbW9kYWxOYW1lOiAnJyxcbiAgICAgICAgbW9kYWxDb21wb25lbnQ6IG51bGwsXG4gICAgICAgIGlzU2hvdzogZmFsc2UsXG4gICAgICAgIGNvdmVyU2hvdzogZmFsc2UsXG4gICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICBzaG93IChtb2RhbE5hbWUpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlXG4gICAgICAgIHRoaXMuY292ZXJTaG93ID0gdHJ1ZVxuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tb2RhbE5hbWUgPSBtb2RhbE5hbWVcbiAgICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50ID0gbmV3IFZ1ZSh7XG4gICAgICAgICAgICAuLi5DT01QT05FTlRTW3RoaXMubW9kYWxOYW1lXVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5tb2RhbENvbXBvbmVudC4kbW91bnQodGhpcy4kcmVmcy5tb2RhbFdyYXBwZXIpXG5cbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMubW9kYWxDb21wb25lbnQudGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMubW9kYWxDb21wb25lbnQuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMubW9kYWxDb21wb25lbnQuc2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm0gPSB0aGlzLm1vZGFsQ29tcG9uZW50LmNvbmZpcm1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH0sXG4gICAgICBvayAoKSB7XG4gICAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2VcbiAgICAgICAgdGhpcy5tb2RhbENvbXBvbmVudC4kZW1pdCgnb2snKVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KClcbiAgICAgIH0sXG4gICAgICBjYW5jZWwgKCkge1xuICAgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlXG4gICAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGVtaXQoJ2NhbmNlbCcpXG4gICAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGRlc3Ryb3koKVxuICAgICAgfSxcbiAgICB9LFxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgZ2xvYmFsS2V5ZG93bi5vbignZXNjYXBlJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1Nob3cpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBIZWxwLFxuICAgICAgTHJjRm9ybWF0VXBsb2FkLFxuICAgICAgTHlyaWNVcGxvYWQsXG4gICAgICBMcmNTYXZlLFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LnZ1ZT80NjJkNzZmMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTNmNTdjMWQwJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9oZWxwLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaGVscC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTNmNTdjMWQwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2hlbHAudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0zZjU3YzFkMFwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbW9kYWxzL2hlbHAudnVlXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5oZWxwW2RhdGEtdi0zZjU3YzFkMF17Y29sb3I6IzMzM30uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF0sLmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXSwuaGVscCBoNFtkYXRhLXYtM2Y1N2MxZDBde2NvbG9yOiMyYTcyYmJ9LmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46NXB4IDB9LmhlbHAgaDRbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46MH0uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF17Zm9udC13ZWlnaHQ6Ym9sZGVyfS5oZWxwIHVsW2RhdGEtdi0zZjU3YzFkMF17bGlzdC1zdHlsZS10eXBlOm5vbmU7cGFkZGluZzowIDAgMCAyMHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICA8aDM+e3sgJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykgfX08L2gzPlxuICAgIDxoND57eyAkdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmxlZnRfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5iYWNrd2FyZCcpIH19PC9saT5cbiAgICAgIDxsaT48c3Ryb25nPnt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5yaWdodF9rZXknKSB9fTo8L3N0cm9uZz4ge3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmZvcndhcmQnKSB9fTwvbGk+XG4gICAgPC91bD5cbiAgICA8aDQ+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudXBfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnByZXZfbHlyaWMnKSB9fTwvbGk+XG4gICAgICA8bGk+PHN0cm9uZz57eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5kb3duX2tleScpIH19Ojwvc3Ryb25nPiB7eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5uZXh0X2x5cmljJykgfX08L2xpPlxuICAgIDwvdWw+XG4gICAgPGRpdiBjbGFzcz1cImxpbmtcIj5cbiAgICAgIDxhIDpocmVmPVwiUEtHLmhvbWVwYWdlXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3sgJHQoJ21vZGFsLmhlbHAuc291cmNlX2NvZGUnKSB9fTogZ2l0aHViPC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbiAgQGltcG9ydCAnLi4vc2Fzcy9iYXNlJztcblxuICAuaGVscCB7XG4gICAgY29sb3I6ICMzMzM7XG4gICAgaDMsIGg0LCBhIHtcbiAgICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgICB9XG4gICAgaDMge1xuICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgICBhIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgfVxuICAgIHVsIHtcbiAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDAgMCAwIDIwcHg7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgUEtHIGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbidcblxuICBleHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBQS0c6IFBLRyxcbiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmhlbHAudGl0bGUnKSxcbiAgICAgIH1cbiAgICB9XG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGhlbHAudnVlPzM2ZTcwN2IzIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJoZWxwXCJcbiAgfSwgW192bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5zaG9ydGN1dF9rZXknKSldKSwgXCIgXCIsIF92bS5faCgnaDQnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wudGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndWwnLCBbX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5sZWZ0X2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wuYmFja3dhcmQnKSldKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wucmlnaHRfa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5mb3J3YXJkJykpXSldKSwgXCIgXCIsIF92bS5faCgnaDQnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy50aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIFtfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudXBfa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnByZXZfbHlyaWMnKSldKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5kb3duX2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5uZXh0X2x5cmljJykpXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImxpbmtcIlxuICB9LCBbX3ZtLl9oKCdhJywge1xuICAgIGF0dHJzOiB7XG4gICAgICBcImhyZWZcIjogX3ZtLlBLRy5ob21lcGFnZSxcbiAgICAgIFwidGFyZ2V0XCI6IFwiX2JsYW5rXCJcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnNvdXJjZV9jb2RlJykpICsgXCI6IGdpdGh1YlwiXSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbW9kYWxzL2hlbHAudnVlXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9scmMtZm9ybWF0LXVwbG9hZC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTBlMjI3YTIwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gODVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxwPnt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC5kZXNjcmlwdGlvbicpIH19PC9wPlxuICAgIDx0ZXh0YXJlYSB2LW1vZGVsPVwibHlyaWNcIj48L3RleHRhcmVhPlxuICAgIDx1cGxvYWQgY2xhc3M9XCJidG5cIiBAdXBsb2FkPVwidXBsb2FkXCI+e3sgJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpIH19PC91cGxvYWQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFVwbG9hZCBmcm9tICcuLi91cGxvYWQnXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnRpdGxlJyksXG4gICAgICAgIGx5cmljOiAnJyxcbiAgICAgICAgY29uZmlybTogdHJ1ZSxcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZWQgKCkge1xuICAgICAgdGhpcy5seXJpYyA9IHRoaXMuJEFwcC5scmNGb3JtYXRcbiAgICAgIHRoaXMuJG9uKCdvaycsICgpID0+IHtcbiAgICAgICAgdGhpcy4kQXBwLmxyY0Zvcm1hdCA9IHRoaXMubHlyaWNcbiAgICAgIH0pXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB1cGxvYWQgKGx5cmljKSB7XG4gICAgICAgIHRoaXMubHlyaWMgPSBseXJpY1xuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgIFVwbG9hZCxcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBscmMtZm9ybWF0LXVwbG9hZC52dWU/N2RiM2YxNTIiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgncCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC5kZXNjcmlwdGlvbicpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICB2YWx1ZTogKF92bS5seXJpYyksXG4gICAgICBleHByZXNzaW9uOiBcImx5cmljXCJcbiAgICB9XSxcbiAgICBkb21Qcm9wczoge1xuICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgX3ZtLmx5cmljID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfSksIFwiIFwiLCBfdm0uX2goJ3VwbG9hZCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG5cIixcbiAgICBvbjoge1xuICAgICAgXCJ1cGxvYWRcIjogX3ZtLnVwbG9hZFxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpKV0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi0wZTIyN2EyMCEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9tb2RhbHMvbHJjLWZvcm1hdC11cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSA4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9seXJpYy11cGxvYWQudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi04NmFiMTVmNCF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9seXJpYy11cGxvYWQudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9tb2RhbHMvbHlyaWMtdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxwPnt7ICR0KCdtb2RhbC5seXJpY191cGxvYWQuZGVzY3JpcHRpb24nKSB9fTwvcD5cbiAgICA8dGV4dGFyZWEgdi1tb2RlbD1cImx5cmljXCI+PC90ZXh0YXJlYT5cbiAgICA8dXBsb2FkIGNsYXNzPVwiYnRuXCIgQHVwbG9hZD1cInVwbG9hZFwiPnt7ICR0KCdtb2RhbC5seXJpY191cGxvYWQudXBsb2FkJykgfX08L3VwbG9hZD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgVXBsb2FkIGZyb20gJy4uL3VwbG9hZCdcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL2NhY2hlJ1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiB0aGlzLiR0KCdtb2RhbC5seXJpY191cGxvYWQudGl0bGUnKSxcbiAgICAgICAgbHlyaWM6IGNhY2hlLmx5cmljLFxuICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCAoKSB7XG4gICAgICB0aGlzLiRvbignb2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuJEFwcC5seXJpY0FycmF5ID0gdGhpcy5seXJpYy5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpXG4gICAgICB9KVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdXBsb2FkIChseXJpYykge1xuICAgICAgICB0aGlzLmx5cmljID0gbHlyaWNcbiAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgbHlyaWMgKHZhbCkge1xuICAgICAgICBjYWNoZS5seXJpYyA9IHZhbFxuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgIFVwbG9hZFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGx5cmljLXVwbG9hZC52dWU/MGE1MzI4ZGMiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgncCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5seXJpY191cGxvYWQuZGVzY3JpcHRpb24nKSldKSwgXCIgXCIsIF92bS5faCgndGV4dGFyZWEnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgdmFsdWU6IChfdm0ubHlyaWMpLFxuICAgICAgZXhwcmVzc2lvbjogXCJseXJpY1wiXG4gICAgfV0sXG4gICAgZG9tUHJvcHM6IHtcbiAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5seXJpYylcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgIF92bS5seXJpYyA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCd1cGxvYWQnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG4gICAgb246IHtcbiAgICAgIFwidXBsb2FkXCI6IF92bS51cGxvYWRcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5seXJpY191cGxvYWQudXBsb2FkJykpXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTg2YWIxNWY0IS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9seXJpYy11cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9scmMtc2F2ZS52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTQwZmUzYzA0IXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2xyYy1zYXZlLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2xyYy1zYXZlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxoMz57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmluZm9fdGl0bGUnKSB9fTwvaDM+XG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiB2LWZvcj1cImZpZWxkIGluIGluZm9GaWVsZHNcIiB2LWlmPVwiZmllbGQubGFiZWxcIj5cbiAgICAgIDxsYWJlbCA6Zm9yPVwiJ2luZm8tJyArIGZpZWxkLmtleVwiIHYtdGV4dD1cImZpZWxkLmxhYmVsXCI+PC9sYWJlbD5cbiAgICAgIDxpbnB1dCA6aWQ9XCInaW5mby0nICsgZmllbGQua2V5XCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwiaW5mb1tmaWVsZC5rZXldXCIgLz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgPGxhYmVsIGZvcj1cImluZm8tYnlcIj57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5scmNfY3JlYXRvcicpIH19PC9sYWJlbD5cbiAgICAgIDxpbnB1dCBpZD1cImluZm8tYnlcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJ1c2VyTmFtZVwiIC8+XG4gICAgPC9kaXY+XG5cbiAgICA8aDM+e3sgJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5zYXZlX3RpdGxlJykgfX08L2gzPlxuICAgIDx0ZXh0YXJlYT57eyBseXJpYyB9fTwvdGV4dGFyZWE+XG4gICAgPGxhYmVsPlxuICAgICAge3sgJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5jb21iaW5lJykgfX1cbiAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2LW1vZGVsPVwic2F2ZU9wdGlvbnMuY29tYmluZVwiIC8+XG4gICAgPC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiYnRuXCIgQGNsaWNrPVwic2F2ZVwiPlxuICAgICAgPGkgY2xhc3M9XCJpY29uLWRvd25sb2FkXCI+PC9pPiB7eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmRvd25sb2FkJykgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQge3NhdmVMcmMsIHRpbWVzdGFtcDJ0aW1lc3RyfSBmcm9tICcuLi8uLi91dGlscydcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL2NhY2hlJ1xuICBpbXBvcnQgUEtHIGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbidcblxuICBleHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnRpdGxlJyksXG4gICAgICAgIGx5cmljOiAnJyxcbiAgICAgICAgdXNlck5hbWU6IGNhY2hlLnVzZXJOYW1lLFxuICAgICAgICBzYXZlT3B0aW9uczoge1xuICAgICAgICAgIGNvbWJpbmU6IHRydWUsXG4gICAgICAgICAgbGluZUZvcm1hdDogJ1xcclxcbicsXG4gICAgICAgICAgc29ydDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5mb0ZpZWxkczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ3RpJyxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLnNvbmdfdGl0bGUnKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2FyJyxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmFydGlzdCcpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAnYWwnLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuYWxidW0nKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2F1JyxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLnNvbmd0ZXh0X2NyZWF0b3InKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBpbmZvOiB7fSxcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgdGhpcy5ydW5uZXIgPSB0aGlzLiRBcHAucnVubmVyXG4gICAgICBsZXQgcGxheWVyID0gdGhpcy4kQXBwLiRyZWZzLnBsYXllclxuICAgICAgbGV0IGluZm8gPSB7fVxuXG4gICAgICB0aGlzLmluZm9GaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgaWYgKGZpZWxkLmtleSBpbiB0aGlzLnJ1bm5lci5scmMuaW5mbykge1xuICAgICAgICAgIGluZm9bZmllbGQua2V5XSA9IHRoaXMucnVubmVyLmxyYy5pbmZvW2ZpZWxkLmtleV1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmZvW2ZpZWxkLmtleV0gPSAnJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYgKHBsYXllci5kdXJhdGlvbikge1xuICAgICAgICBpbmZvLmxlbmd0aCA9IHRpbWVzdGFtcDJ0aW1lc3RyKHBsYXllci5kdXJhdGlvbilcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnVzZXJOYW1lKSB7XG4gICAgICAgIGluZm8uYnkgPSB0aGlzLnVzZXJOYW1lXG4gICAgICB9XG4gICAgICBpbmZvLnJlID0gYCR7UEtHLm5hbWV9ICgke1BLRy5vbmxpbmVQYWdlfSlgXG4gICAgICBpbmZvLnZlID0gUEtHLnZlcnNpb25cblxuICAgICAgdGhpcy5pbmZvID0gaW5mb1xuXG4gICAgICB0aGlzLmx5cmljVXBkYXRlKClcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHNhdmUgKCkge1xuICAgICAgICBzYXZlTHJjKHRoaXMucnVubmVyLmxyYy50b1N0cmluZyh0aGlzLnNhdmVPcHRpb25zKSwgdGhpcy5ydW5uZXIubHJjLmluZm8udGkgfHwgJ2x5cmljJylcbiAgICAgIH0sXG4gICAgICBpbmZvVXBkYXRlICgpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5mbykge1xuICAgICAgICAgIGlmICh0aGlzLmluZm9ba2V5XS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyLmxyYy5pbmZvW2tleV0gPSB0aGlzLmluZm9ba2V5XVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ydW5uZXIubHJjLmluZm9ba2V5XVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmx5cmljVXBkYXRlKClcbiAgICAgIH0sXG4gICAgICBseXJpY1VwZGF0ZSAoKSB7XG4gICAgICAgIHRoaXMubHlyaWMgPSB0aGlzLnJ1bm5lci5scmMudG9TdHJpbmcodGhpcy5zYXZlT3B0aW9ucylcbiAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgdXNlck5hbWUgKG5hbWUpIHtcbiAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW5mbywgJ2J5JywgbmFtZSlcbiAgICAgICAgY2FjaGUudXNlck5hbWUgPSBuYW1lXG4gICAgICB9LFxuICAgICAgbHlyaWMgKCkge1xuICAgICAgICB0aGlzLiRBcHAubHJjRm9ybWF0ID0gdGhpcy5seXJpY1xuICAgICAgfSxcbiAgICAgIHNhdmVPcHRpb25zOiB7XG4gICAgICAgIGRlZXA6IHRydWUsXG4gICAgICAgIGhhbmRsZXIgKCkge1xuICAgICAgICAgIHRoaXMubHlyaWNVcGRhdGUoKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGluZm86IHtcbiAgICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgICAgaGFuZGxlciAoKSB7XG4gICAgICAgICAgdGhpcy5pbmZvVXBkYXRlKClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbHJjLXNhdmUudnVlPzBiY2MxZDc0IiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5pbmZvX3RpdGxlJykpXSksIFwiIFwiLCBfdm0uX2woKF92bS5pbmZvRmllbGRzKSwgZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gKGZpZWxkLmxhYmVsKSA/IF92bS5faCgnZGl2Jywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1ncm91cFwiXG4gICAgfSwgW192bS5faCgnbGFiZWwnLCB7XG4gICAgICBhdHRyczoge1xuICAgICAgICBcImZvclwiOiAnaW5mby0nICsgZmllbGQua2V5XG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgXCJ0ZXh0Q29udGVudFwiOiBfdm0uX3MoZmllbGQubGFiZWwpXG4gICAgICB9XG4gICAgfSksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuICAgICAgZGlyZWN0aXZlczogW3tcbiAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgdmFsdWU6IChfdm0uaW5mb1tmaWVsZC5rZXldKSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJpbmZvW2ZpZWxkLmtleV1cIlxuICAgICAgfV0sXG4gICAgICBhdHRyczoge1xuICAgICAgICBcImlkXCI6ICdpbmZvLScgKyBmaWVsZC5rZXksXG4gICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuICAgICAgfSxcbiAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5pbmZvW2ZpZWxkLmtleV0pXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgdmFyICQkZXhwID0gX3ZtLmluZm8sXG4gICAgICAgICAgICAkJGlkeCA9IGZpZWxkLmtleTtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoJCRleHApKSB7XG4gICAgICAgICAgICBfdm0uaW5mb1tmaWVsZC5rZXldID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkJGV4cC5zcGxpY2UoJCRpZHgsIDEsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSldKSA6IF92bS5fZSgpXG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1ncm91cFwiXG4gIH0sIFtfdm0uX2goJ2xhYmVsJywge1xuICAgIGF0dHJzOiB7XG4gICAgICBcImZvclwiOiBcImluZm8tYnlcIlxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMubHJjX2NyZWF0b3InKSldKSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgdmFsdWU6IChfdm0udXNlck5hbWUpLFxuICAgICAgZXhwcmVzc2lvbjogXCJ1c2VyTmFtZVwiXG4gICAgfV0sXG4gICAgYXR0cnM6IHtcbiAgICAgIFwiaWRcIjogXCJpbmZvLWJ5XCIsXG4gICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICB9LFxuICAgIGRvbVByb3BzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0udXNlck5hbWUpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICBfdm0udXNlck5hbWUgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuc2F2ZV90aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIFtfdm0uX3MoX3ZtLmx5cmljKV0pLCBcIiBcIiwgX3ZtLl9oKCdsYWJlbCcsIFtcIlxcbiAgICBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5jb21iaW5lJykpICsgXCJcXG4gICAgXCIsIF92bS5faCgnaW5wdXQnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgdmFsdWU6IChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSksXG4gICAgICBleHByZXNzaW9uOiBcInNhdmVPcHRpb25zLmNvbWJpbmVcIlxuICAgIH1dLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInR5cGVcIjogXCJjaGVja2JveFwiXG4gICAgfSxcbiAgICBkb21Qcm9wczoge1xuICAgICAgXCJjaGVja2VkXCI6IEFycmF5LmlzQXJyYXkoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUpID8gX3ZtLl9pKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLCBudWxsKSA+IC0xIDogX3ZtLl9xKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLCB0cnVlKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2hhbmdlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICB2YXIgJCRhID0gX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsXG4gICAgICAgICAgJCRlbCA9ICRldmVudC50YXJnZXQsXG4gICAgICAgICAgJCRjID0gJCRlbC5jaGVja2VkID8gKHRydWUpIDogKGZhbHNlKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoJCRhKSkge1xuICAgICAgICAgIHZhciAkJHYgPSBudWxsLFxuICAgICAgICAgICAgJCRpID0gX3ZtLl9pKCQkYSwgJCR2KTtcbiAgICAgICAgICBpZiAoJCRjKSB7XG4gICAgICAgICAgICAkJGkgPCAwICYmIChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkYS5jb25jYXQoJCR2KSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCRpID4gLTEgJiYgKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRhLnNsaWNlKDAsICQkaSkuY29uY2F0KCQkYS5zbGljZSgkJGkgKyAxKSkpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRjXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG5cIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0uc2F2ZVxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLWRvd25sb2FkXCJcbiAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmRvd25sb2FkJykpICsgXCJcXG4gIFwiXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTQwZmUzYzA0IS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9scmMtc2F2ZS52dWVcbi8vIG1vZHVsZSBpZCA9IDkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgY2xhc3M6IHtcbiAgICAgIGNvdmVyOiBfdm0uY292ZXJTaG93XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG4gICAgfVxuICB9LCBbX3ZtLl9oKCd0cmFuc2l0aW9uJywge1xuICAgIGF0dHJzOiB7XG4gICAgICBcIm5hbWVcIjogXCJtb2RhbFwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJhZnRlci1sZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmNvdmVyU2hvdyA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5pc1Nob3cpID8gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibW9kYWxcIixcbiAgICBjbGFzczogW192bS5zaXplXSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImhlYWRlclwiXG4gIH0sIFtcIlxcbiAgICAgICAgXCIgKyBfdm0uX3MoX3ZtLnRpdGxlKSArIFwiXFxuICAgICAgICBcIiwgX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCIsXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuICAgIH1cbiAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJvZHlcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIm1vZGFsV3JhcHBlclwiXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJmb290ZXJcIlxuICB9LCBbKF92bS5jb25maXJtKSA/IF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1ncm91cFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG5cIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0ub2tcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5idXR0b24ub2snKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5idXR0b24uY2FuY2VsJykpXSldKSA6IF92bS5fZSgpXSldKSA6IF92bS5fZSgpXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIilcbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtNTFlYWMwNmIhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi01MWVhYzA2YiF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcbl9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTUxZWFjMDZiXCJcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRhcmdldFtkYXRhLXYtNTFlYWMwNmJde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOi04cHg7cGFkZGluZzo4cHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm5hdi1tZW51IC53cmFwe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwO2JveC1zaGFkb3c6NHB4IDRweCAzcHggLTJweCAjY2NjfS5uYXYtbWVudSAud3JhcCB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTtwYWRkaW5nOjA7bWFyZ2luOjA7YmFja2dyb3VuZC1jb2xvcjojMjE1OTkxfS5uYXYtbWVudSAud3JhcCB1bCBsaXtwYWRkaW5nOjAgNXB4O2N1cnNvcjpwb2ludGVyO2xpbmUtaGVpZ2h0OjMwcHg7Zm9udC1zaXplOjEycHh9Lm5hdi1tZW51IC53cmFwIHVsIGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzE3M2Y2OH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJuYXYtbWVudVwiIHJlZj1cIm1lbnVcIj5cbiAgICA8c3BhbiBjbGFzcz1cInRhcmdldFwiPlxuICAgICAgPHNsb3QgbmFtZT1cInRhcmdldFwiPjwvc2xvdD5cbiAgICA8L3NwYW4+XG4gICAgPGRpdiBjbGFzcz1cIndyYXBcIiA6c3R5bGU9XCJzdHlsZVwiIHYtc2hvdz1cInNob3dcIj5cbiAgICAgIDxzbG90IG5hbWU9XCJsaXN0XCI+PC9zbG90PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbi50YXJnZXQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IC04cHg7XG4gIHBhZGRpbmc6IDhweDtcbn1cbjwvc3R5bGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxuQGltcG9ydCAnc2Fzcy9iYXNlJztcblxuLm5hdi1tZW51IHtcbiAgLndyYXAge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAxMDA7XG4gICAgYm94LXNoYWRvdzogNHB4IDRweCAzcHggLTJweCAjY2NjO1xuICAgIHVsIHtcbiAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oJGJsdWUtY29sb3IsIDEwJSk7XG4gICAgICBsaSB7XG4gICAgICAgIHBhZGRpbmc6IDAgNXB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtlbigkYmx1ZS1jb2xvciwgMjAlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7RGVsYXlIb3Zlcn0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpcjogZmFsc2UsXG4gICAgICBzdHlsZToge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICB9LFxuICAgICAgc2hvdzogZmFsc2UsXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGVudGVyRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuMSxcbiAgICB9LFxuICAgIGxlYXZlRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICB9LFxuICBtb3VudGVkICgpIHtcbiAgICB2YXIgbWVudSA9IHRoaXMuJHJlZnMubWVudVxuICAgIHZhciBkaG92ZXIgPSBuZXcgRGVsYXlIb3ZlcihtZW51LCB7XG4gICAgICBlbnRlckRlbGF5OiB0aGlzLmVudGVyRGVsYXksXG4gICAgICBsZWF2ZURlbGF5OiB0aGlzLmxlYXZlRGVsYXksXG4gICAgfSlcbiAgICBkaG92ZXIuaG92ZXIoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlXG4gICAgICB9XG4gICAgKVxuXG4gICAgdmFyIHBhcmVudCA9IHRoaXMuJGVsXG4gICAgdGhpcy5zdHlsZS50b3AgPSBwYXJlbnQuc3R5bGUuY2xpZW50SGVpZ2h0XG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBuYXYtbWVudS52dWU/OGJmMjdmNjAiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJtZW51XCIsXG4gICAgc3RhdGljQ2xhc3M6IFwibmF2LW1lbnVcIlxuICB9LCBbX3ZtLl9oKCdzcGFuJywge1xuICAgIHN0YXRpY0NsYXNzOiBcInRhcmdldFwiXG4gIH0sIFtfdm0uX3QoXCJ0YXJnZXRcIildKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICB2YWx1ZTogKF92bS5zaG93KSxcbiAgICAgIGV4cHJlc3Npb246IFwic2hvd1wiXG4gICAgfV0sXG4gICAgc3RhdGljQ2xhc3M6IFwid3JhcFwiLFxuICAgIHN0eWxlOiAoX3ZtLnN0eWxlKVxuICB9LCBbX3ZtLl90KFwibGlzdFwiKV0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDEwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImFwcFwiXG4gIH0sIFtfdm0uX2goJ2hlYWRlcicsIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJsZWZ0XCJcbiAgfSwgW192bS5faCgnbmF2LW1lbnUnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24udXBsb2FkJylcbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzbG90OiBcInRhcmdldFwiXG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcbiAgICBzbG90OiBcImxpc3RcIlxuICB9LCBbX3ZtLl9oKCdsaScsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdscmMtZm9ybWF0LXVwbG9hZCcpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcbiAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubHJjJykpICsgXCJcXG4gICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHlyaWMtdXBsb2FkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5seXJpYycpKSArIFwiXFxuICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgndXBsb2FkJywge1xuICAgIGF0dHJzOiB7XG4gICAgICBcImFjY2VwdFwiOiBcImF1ZGlvLypcIixcbiAgICAgIFwicmVhZC1mb3JtYXRcIjogXCJ1cmxcIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwidXBsb2FkXCI6IF92bS51cGxvYWRNdXNpY1xuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLm11c2ljJykpXSldKV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi5zYXZlJylcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2xyYy1zYXZlJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1zYXZlXCJcbiAgfSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwicmlnaHRcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogX3ZtLmVkaXRpbmcgPyBfdm0uJHQoJ2J1dHRvbi5jbG9zZV9lZGl0JykgOiBfdm0uJHQoJ2J1dHRvbi5vcGVuX2VkaXQnKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5lZGl0aW5nID0gIV92bS5lZGl0aW5nXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5lZGl0aW5nKSA/IFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIlxuICB9KV0gOiBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWRpdFwiXG4gIH0pXSwgXCIgXCJdKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLmhlbHAnKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnaGVscCcpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24taGVscC1jaXJjbGVkXCJcbiAgfSldKV0pXSksIFwiIFwiLCBfdm0uX2goJ3BsYXllcicsIHtcbiAgICByZWY6IFwicGxheWVyXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwic3JjXCI6IF92bS5tdXNpY1VybFxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwidGltZXVwZGF0ZVwiOiBfdm0udGltZXVwZGF0ZVxuICAgIH1cbiAgfSksIFwiIFwiLCBfdm0uX2goJ2x5cmljLWVkaXRvcicsIHtcbiAgICByZWY6IFwibHlyaWNcIixcbiAgICBzdGF0aWNDbGFzczogXCJseXJpYy1lZGl0b3JcIixcbiAgICBhdHRyczoge1xuICAgICAgXCJlZGl0aW5nXCI6IF92bS5lZGl0aW5nLFxuICAgICAgXCJydW5uZXJcIjogX3ZtLnJ1bm5lcixcbiAgICAgIFwibHlyaWMtYXJyYXlcIjogX3ZtLmx5cmljQXJyYXksXG4gICAgICBcInBsYXl0b1wiOiBfdm0ucGxheXRvXG4gICAgfVxuICB9LCBbXCJcXG4gICAgbHlyaWMgZWRpdG9yXFxuICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdmb290ZXInLCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibGVmdFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0ucmVtb3ZlTHlyaWNcbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG4gIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2J1dHRvbi5yZW1vdmVfbHlyaWMnKSkgKyBcIlxcbiAgICAgIFwiXSldKSwgXCIgXCIsIChfdm0uZWRpdGluZykgPyBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJyaWdodFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltVUF1cIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5seXJpYy4kZW1pdCgncHJldmx5cmljJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdidXR0b24ucHJldl9seXJpYycpKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogXCJbRE9XTl1cIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5seXJpYy4kZW1pdCgnbmV4dGx5cmljJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdidXR0b24ubmV4dF9seXJpYycpKV0pXSkgOiBfdm0uX2UoKV0pLCBcIiBcIiwgX3ZtLl9oKCdtb2RhbHMnLCB7XG4gICAgcmVmOiBcIm1vZGFsc1wiXG4gIH0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDEwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBpMThuIGZyb20gJ3Z1ZS1pMThuJ1xuaW1wb3J0IGxvY2FsZXMgZnJvbSAnLi9sb2NhbGVzJ1xuXG52YXIgbGFuZyA9IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nKS50b0xvY2FsZUxvd2VyQ2FzZSgpXG5cbmlmICghKGxhbmcgaW4gbG9jYWxlcykpIHtcbiAgaWYgKGxhbmcuaW5kZXhPZignLScpID49IDApIHtcbiAgICBsYW5nID0gbGFuZy5zcGxpdCgnLScpWzBdXG4gIH1cbn1cblxuVnVlLnVzZShpMThuKVxuXG5WdWUuY29uZmlnLmxhbmcgPSBsYW5nXG5WdWUubG9jYWxlKGxhbmcsIGxvY2FsZXNbbGFuZ10pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9pMThuLmpzIiwiLyohXG4gKiB2dWUtaTE4biB2NC43LjNcbiAqIChjKSAyMDE2IGthenV5YSBrYXdhZ3VjaGlcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmFiZWxIZWxwZXJzID0ge307XG5iYWJlbEhlbHBlcnMudHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5iYWJlbEhlbHBlcnM7XG5cbi8qKlxuICogd2FyblxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAqIEBwYXJhbSB7RXJyb3J9IFtlcnJdXG4gKlxuICovXG5cbmZ1bmN0aW9uIHdhcm4obXNnLCBlcnIpIHtcbiAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdbdnVlLWkxOG5dICcgKyBtc2cpO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBBc3NldCAoVnVlLCBsYW5nVk0pIHtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIG9yIHJldHJpZXZlIGEgZ2xvYmFsIGxvY2FsZSBkZWZpbml0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IFByb21pc2V9IGRlZmluaXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICovXG5cbiAgVnVlLmxvY2FsZSA9IGZ1bmN0aW9uIChpZCwgZGVmaW5pdGlvbiwgY2IpIHtcbiAgICBpZiAoZGVmaW5pdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBnZXR0dGVyXG4gICAgICByZXR1cm4gbGFuZ1ZNLmxvY2FsZXNbaWRdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXR0ZXJcbiAgICAgIGlmIChkZWZpbml0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVsZXRlIGxhbmdWTS5sb2NhbGVzW2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldExvY2FsZShpZCwgZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IGxvY2FsZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FybignZmFpbGVkIHNldCBgJyArIGlkICsgJ2AgbG9jYWxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2V0TG9jYWxlKGlkLCBkZWZpbml0aW9uLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICgodHlwZW9mIGRlZmluaXRpb24gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBiYWJlbEhlbHBlcnMudHlwZW9mKGRlZmluaXRpb24pKSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBzeW5jXG4gICAgY2IoZGVmaW5pdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmdXR1cmUgPSBkZWZpbml0aW9uLmNhbGwoX3RoaXMpO1xuICAgICAgaWYgKHR5cGVvZiBmdXR1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKGZ1dHVyZS5yZXNvbHZlZCkge1xuICAgICAgICAgIC8vIGNhY2hlZFxuICAgICAgICAgIGNiKGZ1dHVyZS5yZXNvbHZlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnV0dXJlLnJlcXVlc3RlZCkge1xuICAgICAgICAgIC8vIHBvb2wgY2FsbGJhY2tzXG4gICAgICAgICAgZnV0dXJlLnBlbmRpbmdDYWxsYmFja3MucHVzaChjYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1dHVyZS5yZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNicyA9IGZ1dHVyZS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcbiAgICAgICAgICAgIGZ1dHVyZShmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgIC8vIHJlc29sdmVcbiAgICAgICAgICAgICAgZnV0dXJlLnJlc29sdmVkID0gbG9jYWxlO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjYnNbaV0obG9jYWxlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyByZWplY3RcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKGZ1dHVyZSkpIHtcbiAgICAgICAgLy8gcHJvbWlzZVxuICAgICAgICBmdXR1cmUudGhlbihmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgLy8gcmVzb2x2ZVxuICAgICAgICAgIGNiKGxvY2FsZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyByZWplY3RcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3JnaXZpbmcgY2hlY2sgZm9yIGEgcHJvbWlzZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZShwKSB7XG4gIHJldHVybiBwICYmIHR5cGVvZiBwLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIE92ZXJyaWRlIChWdWUsIGxhbmdWTSwgdmVyc2lvbikge1xuICBmdW5jdGlvbiB1cGRhdGUodm0pIHtcbiAgICBpZiAodmVyc2lvbiA+IDEpIHtcbiAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHZtLl93YXRjaGVyc1tpXS51cGRhdGUodHJ1ZSk7IC8vIHNoYWxsb3cgdXBkYXRlc1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG92ZXJyaWRlIF9pbml0XG4gIHZhciBpbml0ID0gVnVlLnByb3RvdHlwZS5faW5pdDtcbiAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmICghdGhpcy4kcGFyZW50KSB7XG4gICAgICAvLyByb290XG4gICAgICB0aGlzLiRsYW5nID0gbGFuZ1ZNO1xuICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSB0aGlzLiRsYW5nLiR3YXRjaCgnJGRhdGEnLCBmdW5jdGlvbiAodmFsLCBvbGQpIHtcbiAgICAgICAgdXBkYXRlKF90aGlzKTtcbiAgICAgIH0sIHsgZGVlcDogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gb3ZlcnJpZGUgX2Rlc3Ryb3lcbiAgdmFyIGRlc3Ryb3kgPSBWdWUucHJvdG90eXBlLl9kZXN0cm95O1xuICBWdWUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kcGFyZW50ICYmIHRoaXMuX2xhbmdVbndhdGNoKSB7XG4gICAgICB0aGlzLl9sYW5nVW53YXRjaCgpO1xuICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSBudWxsO1xuICAgICAgdGhpcy4kbGFuZyA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIE9ic2VydmVyXG4gKi9cblxudmFyIFdhdGNoZXIgPSB2b2lkIDA7XG4vKipcbiAqIGdldFdhdGNoZXJcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqIEByZXR1cm4ge1dhdGNoZXJ9XG4gKi9cblxuZnVuY3Rpb24gZ2V0V2F0Y2hlcih2bSkge1xuICBpZiAoIVdhdGNoZXIpIHtcbiAgICB2YXIgdW53YXRjaCA9IHZtLiR3YXRjaCgnX193YXRjaGVyX18nLCBmdW5jdGlvbiAoYSkge30pO1xuICAgIFdhdGNoZXIgPSB2bS5fd2F0Y2hlcnNbMF0uY29uc3RydWN0b3I7XG4gICAgdW53YXRjaCgpO1xuICB9XG4gIHJldHVybiBXYXRjaGVyO1xufVxuXG52YXIgRGVwID0gdm9pZCAwO1xuLyoqXG4gKiBnZXREZXBcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqIEByZXR1cm4ge0RlcH1cbiAqL1xuXG5mdW5jdGlvbiBnZXREZXAodm0pIHtcbiAgaWYgKCFEZXAgJiYgdm0gJiYgdm0uX2RhdGEgJiYgdm0uX2RhdGEuX19vYl9fICYmIHZtLl9kYXRhLl9fb2JfXy5kZXApIHtcbiAgICBEZXAgPSB2bS5fZGF0YS5fX29iX18uZGVwLmNvbnN0cnVjdG9yO1xuICB9XG4gIHJldHVybiBEZXA7XG59XG5cbnZhciBmYWxsYmFjayA9IHZvaWQgMDsgLy8gZmFsbGJhY2sgbGFuZ1xudmFyIG1pc3NpbmdIYW5kbGVyID0gbnVsbDsgLy8gbWlzc2luZyBoYW5kbGVyXG52YXIgaTE4bkZvcm1hdHRlciA9IG51bGw7IC8vIGN1c3RvbSBmb3JtYXR0ZXJcblxuZnVuY3Rpb24gQ29uZmlnIChWdWUsIGxhbmdWTSwgbGFuZykge1xuICB2YXIgYmluZCA9IFZ1ZS51dGlsLmJpbmQ7XG5cbiAgdmFyIFdhdGNoZXIgPSBnZXRXYXRjaGVyKGxhbmdWTSk7XG4gIHZhciBEZXAgPSBnZXREZXAobGFuZ1ZNKTtcblxuICBmdW5jdGlvbiBtYWtlQ29tcHV0ZWRHZXR0ZXIoZ2V0dGVyLCBvd25lcikge1xuICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIob3duZXIsIGdldHRlciwgbnVsbCwge1xuICAgICAgbGF6eTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyKCkge1xuICAgICAgd2F0Y2hlci5kaXJ0eSAmJiB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgICBEZXAgJiYgRGVwLnRhcmdldCAmJiB3YXRjaGVyLmRlcGVuZCgpO1xuICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGRlZmluZSBWdWUuY29uZmlnLmxhbmcgY29uZmlncmF0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbGFuZycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IG1ha2VDb21wdXRlZEdldHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbGFuZ1ZNLmxhbmc7XG4gICAgfSwgbGFuZ1ZNKSxcbiAgICBzZXQ6IGJpbmQoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgbGFuZ1ZNLmxhbmcgPSB2YWw7XG4gICAgfSwgbGFuZ1ZNKVxuICB9KTtcblxuICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5mYWxsYmFja0xhbmcgY29uZmlncmF0aW9uXG4gIGZhbGxiYWNrID0gbGFuZztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdmYWxsYmFja0xhbmcnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIGZhbGxiYWNrID0gdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVmaW5lIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIgY29uZmlncmF0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbWlzc2luZ0hhbmRsZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbWlzc2luZ0hhbmRsZXI7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIG1pc3NpbmdIYW5kbGVyID0gdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVmaW5lIFZ1ZS5jb25maWcuaTE4Rm9ybWF0dGVyIGNvbmZpZ3JhdGlvblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2kxOG5Gb3JtYXR0ZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaTE4bkZvcm1hdHRlcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgaTE4bkZvcm1hdHRlciA9IHZhbDtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIHV0aWxpdGVzXG4gKi9cblxuLyoqXG4gKiBpc05pbFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIEJvb2xlYW5cbiAqL1xuZnVuY3Rpb24gaXNOaWwodmFsKSB7XG4gIHJldHVybiB2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogIFN0cmluZyBmb3JtYXQgdGVtcGxhdGVcbiAqICAtIEluc3BpcmVkOlxuICogICAgaHR0cHM6Ly9naXRodWIuY29tL01hdHQtRXNjaC9zdHJpbmctdGVtcGxhdGUvaW5kZXguanNcbiAqL1xuXG52YXIgUkVfTkFSR1MgPSAvKCV8KVxceyhbMC05YS16QS1aX10rKVxcfS9nO1xuXG5mdW5jdGlvbiBGb3JtYXQgKFZ1ZSkge1xuICB2YXIgaGFzT3duID0gVnVlLnV0aWwuaGFzT3duO1xuXG4gIC8qKlxuICAgKiB0ZW1wbGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBiYWJlbEhlbHBlcnMudHlwZW9mKGFyZ3NbMF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcbiAgICAgIGFyZ3MgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoUkVfTkFSR1MsIGZ1bmN0aW9uIChtYXRjaCwgcHJlZml4LCBpLCBpbmRleCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcblxuICAgICAgaWYgKHN0cmluZ1tpbmRleCAtIDFdID09PSAneycgJiYgc3RyaW5nW2luZGV4ICsgbWF0Y2gubGVuZ3RoXSA9PT0gJ30nKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gaGFzT3duKGFyZ3MsIGkpID8gYXJnc1tpXSA6IG1hdGNoO1xuICAgICAgICBpZiAoaXNOaWwocmVzdWx0KSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogIFBhdGggcGFlcnNlclxuICogIC0gSW5zcGlyZWQ6ICBcbiAqICAgIFZ1ZS5qcyBQYXRoIHBhcnNlclxuICovXG5cbi8vIGNhY2hlXG52YXIgcGF0aENhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gYWN0aW9uc1xudmFyIEFQUEVORCA9IDA7XG52YXIgUFVTSCA9IDE7XG52YXIgSU5DX1NVQl9QQVRIX0RFUFRIID0gMjtcbnZhciBQVVNIX1NVQl9QQVRIID0gMztcblxuLy8gc3RhdGVzXG52YXIgQkVGT1JFX1BBVEggPSAwO1xudmFyIElOX1BBVEggPSAxO1xudmFyIEJFRk9SRV9JREVOVCA9IDI7XG52YXIgSU5fSURFTlQgPSAzO1xudmFyIElOX1NVQl9QQVRIID0gNDtcbnZhciBJTl9TSU5HTEVfUVVPVEUgPSA1O1xudmFyIElOX0RPVUJMRV9RVU9URSA9IDY7XG52YXIgQUZURVJfUEFUSCA9IDc7XG52YXIgRVJST1IgPSA4O1xuXG52YXIgcGF0aFN0YXRlTWFjaGluZSA9IFtdO1xuXG5wYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9QQVRIXSA9IHtcbiAgJ3dzJzogW0JFRk9SRV9QQVRIXSxcbiAgJ2lkZW50JzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnWyc6IFtJTl9TVUJfUEFUSF0sXG4gICdlb2YnOiBbQUZURVJfUEFUSF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fUEFUSF0gPSB7XG4gICd3cyc6IFtJTl9QQVRIXSxcbiAgJy4nOiBbQkVGT1JFX0lERU5UXSxcbiAgJ1snOiBbSU5fU1VCX1BBVEhdLFxuICAnZW9mJzogW0FGVEVSX1BBVEhdXG59O1xuXG5wYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9JREVOVF0gPSB7XG4gICd3cyc6IFtCRUZPUkVfSURFTlRdLFxuICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fSURFTlRdID0ge1xuICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF0sXG4gICcwJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnbnVtYmVyJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnd3MnOiBbSU5fUEFUSCwgUFVTSF0sXG4gICcuJzogW0JFRk9SRV9JREVOVCwgUFVTSF0sXG4gICdbJzogW0lOX1NVQl9QQVRILCBQVVNIXSxcbiAgJ2VvZic6IFtBRlRFUl9QQVRILCBQVVNIXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9TVUJfUEFUSF0gPSB7XG4gIFwiJ1wiOiBbSU5fU0lOR0xFX1FVT1RFLCBBUFBFTkRdLFxuICAnXCInOiBbSU5fRE9VQkxFX1FVT1RFLCBBUFBFTkRdLFxuICAnWyc6IFtJTl9TVUJfUEFUSCwgSU5DX1NVQl9QQVRIX0RFUFRIXSxcbiAgJ10nOiBbSU5fUEFUSCwgUFVTSF9TVUJfUEFUSF0sXG4gICdlb2YnOiBFUlJPUixcbiAgJ2Vsc2UnOiBbSU5fU1VCX1BBVEgsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fU0lOR0xFX1FVT1RFXSA9IHtcbiAgXCInXCI6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXSxcbiAgJ2VvZic6IEVSUk9SLFxuICAnZWxzZSc6IFtJTl9TSU5HTEVfUVVPVEUsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fRE9VQkxFX1FVT1RFXSA9IHtcbiAgJ1wiJzogW0lOX1NVQl9QQVRILCBBUFBFTkRdLFxuICAnZW9mJzogRVJST1IsXG4gICdlbHNlJzogW0lOX0RPVUJMRV9RVU9URSwgQVBQRU5EXVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhbiBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXhwXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbnZhciBsaXRlcmFsVmFsdWVSRSA9IC9eXFxzPyh0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xuZnVuY3Rpb24gaXNMaXRlcmFsKGV4cCkge1xuICByZXR1cm4gbGl0ZXJhbFZhbHVlUkUudGVzdChleHApO1xufVxuXG4vKipcbiAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nIHwgZmFsc2V9XG4gKi9cblxuZnVuY3Rpb24gc3RyaXBRdW90ZXMoc3RyKSB7XG4gIHZhciBhID0gc3RyLmNoYXJDb2RlQXQoMCk7XG4gIHZhciBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gYSA9PT0gYiAmJiAoYSA9PT0gMHgyMiB8fCBhID09PSAweDI3KSA/IHN0ci5zbGljZSgxLCAtMSkgOiBzdHI7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgY2hhcmFjdGVyIGluIGEga2V5cGF0aC5cbiAqXG4gKiBAcGFyYW0ge0NoYXJ9IGNoXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHR5cGVcbiAqL1xuXG5mdW5jdGlvbiBnZXRQYXRoQ2hhclR5cGUoY2gpIHtcbiAgaWYgKGNoID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJ2VvZic7XG4gIH1cblxuICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG5cbiAgc3dpdGNoIChjb2RlKSB7XG4gICAgY2FzZSAweDVCOiAvLyBbXG4gICAgY2FzZSAweDVEOiAvLyBdXG4gICAgY2FzZSAweDJFOiAvLyAuXG4gICAgY2FzZSAweDIyOiAvLyBcIlxuICAgIGNhc2UgMHgyNzogLy8gJ1xuICAgIGNhc2UgMHgzMDpcbiAgICAgIC8vIDBcbiAgICAgIHJldHVybiBjaDtcblxuICAgIGNhc2UgMHg1RjogLy8gX1xuICAgIGNhc2UgMHgyNDogLy8gJFxuICAgIGNhc2UgMHgyRDpcbiAgICAgIC8vIC1cbiAgICAgIHJldHVybiAnaWRlbnQnO1xuXG4gICAgY2FzZSAweDIwOiAvLyBTcGFjZVxuICAgIGNhc2UgMHgwOTogLy8gVGFiXG4gICAgY2FzZSAweDBBOiAvLyBOZXdsaW5lXG4gICAgY2FzZSAweDBEOiAvLyBSZXR1cm5cbiAgICBjYXNlIDB4QTA6IC8vIE5vLWJyZWFrIHNwYWNlXG4gICAgY2FzZSAweEZFRkY6IC8vIEJ5dGUgT3JkZXIgTWFya1xuICAgIGNhc2UgMHgyMDI4OiAvLyBMaW5lIFNlcGFyYXRvclxuICAgIGNhc2UgMHgyMDI5OlxuICAgICAgLy8gUGFyYWdyYXBoIFNlcGFyYXRvclxuICAgICAgcmV0dXJuICd3cyc7XG4gIH1cblxuICAvLyBhLXosIEEtWlxuICBpZiAoY29kZSA+PSAweDYxICYmIGNvZGUgPD0gMHg3QSB8fCBjb2RlID49IDB4NDEgJiYgY29kZSA8PSAweDVBKSB7XG4gICAgcmV0dXJuICdpZGVudCc7XG4gIH1cblxuICAvLyAxLTlcbiAgaWYgKGNvZGUgPj0gMHgzMSAmJiBjb2RlIDw9IDB4MzkpIHtcbiAgICByZXR1cm4gJ251bWJlcic7XG4gIH1cblxuICByZXR1cm4gJ2Vsc2UnO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xuICogYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuIE90aGVyd2lzZSBwcmVwZW5kIHRoZVxuICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0U3ViUGF0aChwYXRoKSB7XG4gIHZhciB0cmltbWVkID0gcGF0aC50cmltKCk7XG4gIC8vIGludmFsaWQgbGVhZGluZyAwXG4gIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJzAnICYmIGlzTmFOKHBhdGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGlzTGl0ZXJhbCh0cmltbWVkKSA/IHN0cmlwUXVvdGVzKHRyaW1tZWQpIDogJyonICsgdHJpbW1lZDtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIHN0cmluZyBwYXRoIGludG8gYW4gYXJyYXkgb2Ygc2VnbWVudHNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHZhciBtb2RlID0gQkVGT1JFX1BBVEg7XG4gIHZhciBzdWJQYXRoRGVwdGggPSAwO1xuICB2YXIgYyA9IHZvaWQgMCxcbiAgICAgIG5ld0NoYXIgPSB2b2lkIDAsXG4gICAgICBrZXkgPSB2b2lkIDAsXG4gICAgICB0eXBlID0gdm9pZCAwLFxuICAgICAgdHJhbnNpdGlvbiA9IHZvaWQgMCxcbiAgICAgIGFjdGlvbiA9IHZvaWQgMCxcbiAgICAgIHR5cGVNYXAgPSB2b2lkIDA7XG5cbiAgdmFyIGFjdGlvbnMgPSBbXTtcblxuICBhY3Rpb25zW1BVU0hdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICBrZXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIGFjdGlvbnNbQVBQRU5EXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleSA9IG5ld0NoYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSArPSBuZXdDaGFyO1xuICAgIH1cbiAgfTtcblxuICBhY3Rpb25zW0lOQ19TVUJfUEFUSF9ERVBUSF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgYWN0aW9uc1tBUFBFTkRdKCk7XG4gICAgc3ViUGF0aERlcHRoKys7XG4gIH07XG5cbiAgYWN0aW9uc1tQVVNIX1NVQl9QQVRIXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3ViUGF0aERlcHRoID4gMCkge1xuICAgICAgc3ViUGF0aERlcHRoLS07XG4gICAgICBtb2RlID0gSU5fU1VCX1BBVEg7XG4gICAgICBhY3Rpb25zW0FQUEVORF0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ViUGF0aERlcHRoID0gMDtcbiAgICAgIGtleSA9IGZvcm1hdFN1YlBhdGgoa2V5KTtcbiAgICAgIGlmIChrZXkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnNbUFVTSF0oKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gbWF5YmVVbmVzY2FwZVF1b3RlKCkge1xuICAgIHZhciBuZXh0Q2hhciA9IHBhdGhbaW5kZXggKyAxXTtcbiAgICBpZiAobW9kZSA9PT0gSU5fU0lOR0xFX1FVT1RFICYmIG5leHRDaGFyID09PSBcIidcIiB8fCBtb2RlID09PSBJTl9ET1VCTEVfUVVPVEUgJiYgbmV4dENoYXIgPT09ICdcIicpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgICBuZXdDaGFyID0gJ1xcXFwnICsgbmV4dENoYXI7XG4gICAgICBhY3Rpb25zW0FQUEVORF0oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChtb2RlICE9IG51bGwpIHtcbiAgICBpbmRleCsrO1xuICAgIGMgPSBwYXRoW2luZGV4XTtcblxuICAgIGlmIChjID09PSAnXFxcXCcgJiYgbWF5YmVVbmVzY2FwZVF1b3RlKCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHR5cGUgPSBnZXRQYXRoQ2hhclR5cGUoYyk7XG4gICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XG4gICAgdHJhbnNpdGlvbiA9IHR5cGVNYXBbdHlwZV0gfHwgdHlwZU1hcFsnZWxzZSddIHx8IEVSUk9SO1xuXG4gICAgaWYgKHRyYW5zaXRpb24gPT09IEVSUk9SKSB7XG4gICAgICByZXR1cm47IC8vIHBhcnNlIGVycm9yXG4gICAgfVxuXG4gICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XG4gICAgYWN0aW9uID0gYWN0aW9uc1t0cmFuc2l0aW9uWzFdXTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBuZXdDaGFyID0gdHJhbnNpdGlvblsyXTtcbiAgICAgIG5ld0NoYXIgPSBuZXdDaGFyID09PSB1bmRlZmluZWQgPyBjIDogbmV3Q2hhcjtcbiAgICAgIGlmIChhY3Rpb24oKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb2RlID09PSBBRlRFUl9QQVRIKSB7XG4gICAgICBrZXlzLnJhdyA9IHBhdGg7XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRlcm5hbCBwYXJzZSB0aGF0IGNoZWNrIGZvciBhIGNhY2hlIGhpdCBmaXJzdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9XG4gKi9cblxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIGhpdCA9IHBhdGhDYWNoZVtwYXRoXTtcbiAgaWYgKCFoaXQpIHtcbiAgICBoaXQgPSBwYXJzZShwYXRoKTtcbiAgICBpZiAoaGl0KSB7XG4gICAgICBwYXRoQ2FjaGVbcGF0aF0gPSBoaXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBoaXQ7XG59XG5cbmZ1bmN0aW9uIFBhdGggKFZ1ZSkge1xuICB2YXIgX1Z1ZSR1dGlsID0gVnVlLnV0aWw7XG4gIHZhciBpc09iamVjdCA9IF9WdWUkdXRpbC5pc09iamVjdDtcbiAgdmFyIGlzUGxhaW5PYmplY3QgPSBfVnVlJHV0aWwuaXNQbGFpbk9iamVjdDtcbiAgdmFyIGhhc093biA9IF9WdWUkdXRpbC5oYXNPd247XG5cblxuICBmdW5jdGlvbiBlbXB0eSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICBpZiAoaGFzT3duKHRhcmdldCwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItY29uc3QgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmFsdWUgZnJvbSBwYXRoIHN0cmluZ1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gICAqIEByZXR1cm4gdmFsdWVcbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcGF0aHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgaWYgKGVtcHR5KHBhdGhzKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICB2YXIgbGFzdCA9IG9iajtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGxhc3RbcGF0aHNbaV1dO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGFzdCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHZhbHVlO1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldCA9IGxhc3Q7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIHJldHVybiBnZXRWYWx1ZTtcbn1cblxuLyoqXG4gKiBleHRlbmRcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gVnVlXG4gKiBAcmV0dXJuIHtWdWV9XG4gKi9cblxuZnVuY3Rpb24gRXh0ZW5kIChWdWUpIHtcbiAgdmFyIF9WdWUkdXRpbCA9IFZ1ZS51dGlsO1xuICB2YXIgaXNPYmplY3QgPSBfVnVlJHV0aWwuaXNPYmplY3Q7XG4gIHZhciBiaW5kID0gX1Z1ZSR1dGlsLmJpbmQ7XG5cbiAgdmFyIGZvcm1hdCA9IEZvcm1hdChWdWUpO1xuICB2YXIgZ2V0VmFsdWUgPSBQYXRoKFZ1ZSk7XG5cbiAgZnVuY3Rpb24gcGFyc2VBcmdzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBsYW5nID0gVnVlLmNvbmZpZy5sYW5nO1xuICAgIHZhciBmYWxsYmFjayA9IFZ1ZS5jb25maWcuZmFsbGJhY2tMYW5nO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXJnc1swXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGxhbmcgPSBhcmdzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGFuZyA9IGFyZ3NbMF07XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QoYXJnc1sxXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzFdKSkge1xuICAgICAgICBhcmdzID0gYXJnc1sxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBsYW5nOiBsYW5nLCBmYWxsYmFjazogZmFsbGJhY2ssIHBhcmFtczogYXJncyB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaW50ZXJwb2xhdGUobG9jYWxlLCBrZXksIGFyZ3MpIHtcbiAgICBpZiAoIWxvY2FsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbCA9IGdldFZhbHVlKGxvY2FsZSwga2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAoaXNOaWwodmFsKSkge1xuICAgICAgdmFsID0gbG9jYWxlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05pbCh2YWwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgdGhlIGV4aXN0YW5jZSBvZiBsaW5rcyB3aXRoaW4gdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG4gICAgaWYgKHZhbC5pbmRleE9mKCdAOicpID49IDApIHtcbiAgICAgIC8vIE1hdGNoIGFsbCB0aGUgbGlua3Mgd2l0aGluIHRoZSBsb2NhbFxuICAgICAgLy8gV2UgYXJlIGdvaW5nIHRvIHJlcGxhY2UgZWFjaCBvZlxuICAgICAgLy8gdGhlbSB3aXRoIGl0cyB0cmFuc2xhdGlvblxuICAgICAgdmFyIG1hdGNoZXMgPSB2YWwubWF0Y2goLyhAOltcXHd8Ll0rKS9nKTtcbiAgICAgIGZvciAodmFyIGlkeCBpbiBtYXRjaGVzKSB7XG4gICAgICAgIHZhciBsaW5rID0gbWF0Y2hlc1tpZHhdO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGxlYWRpbmcgQDpcbiAgICAgICAgdmFyIGxpbmtQbGFjZWhvbGRlciA9IGxpbmsuc3Vic3RyKDIpO1xuICAgICAgICAvLyBUcmFuc2xhdGUgdGhlIGxpbmtcbiAgICAgICAgdmFyIHRyYW5zbGF0ZWRzdHJpbmcgPSBpbnRlcnBvbGF0ZShsb2NhbGUsIGxpbmtQbGFjZWhvbGRlciwgYXJncyk7XG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGxpbmsgd2l0aCB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcbiAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UobGluaywgdHJhbnNsYXRlZHN0cmluZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICFhcmdzID8gdmFsIDogVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyID8gVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyLmFwcGx5KG51bGwsIFt2YWxdLmNvbmNhdChhcmdzKSkgOiBmb3JtYXQodmFsLCBhcmdzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZShnZXR0ZXIsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykge1xuICAgIHZhciByZXMgPSBudWxsO1xuICAgIHJlcyA9IGludGVycG9sYXRlKGdldHRlcihsYW5nKSwga2V5LCBwYXJhbXMpO1xuICAgIGlmICghaXNOaWwocmVzKSkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICByZXMgPSBpbnRlcnBvbGF0ZShnZXR0ZXIoZmFsbGJhY2spLCBrZXksIHBhcmFtcyk7XG4gICAgaWYgKCFpc05pbChyZXMpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuKCdGYWxsIGJhY2sgdG8gdHJhbnNsYXRlIHRoZSBrZXlwYXRoIFwiJyArIGtleSArICdcIiB3aXRoIFwiJyArIGZhbGxiYWNrICsgJ1wiIGxhbmd1YWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gd2FybkRlZmF1bHQobGFuZywga2V5LCB2bSwgcmVzdWx0KSB7XG4gICAgaWYgKCFpc05pbChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybignQ2Fubm90IHRyYW5zbGF0ZSB0aGUgdmFsdWUgb2Yga2V5cGF0aCBcIicgKyBrZXkgKyAnXCIuICcgKyAnVXNlIHRoZSB2YWx1ZSBvZiBrZXlwYXRoIGFzIGRlZmF1bHQnKTtcbiAgICB9XG4gICAgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlciAmJiBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyLmFwcGx5KG51bGwsIFtsYW5nLCBrZXksIHZtXSk7XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFzc2V0TG9jYWxlKGxhbmcpIHtcbiAgICByZXR1cm4gVnVlLmxvY2FsZShsYW5nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbXBvbmVudExvY2FsZShsYW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJG9wdGlvbnMubG9jYWxlc1tsYW5nXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE9sZENob2ljZUluZGV4Rml4ZWQoY2hvaWNlKSB7XG4gICAgcmV0dXJuIGNob2ljZSA/IGNob2ljZSA+IDEgPyAxIDogMCA6IDE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcbiAgICBjaG9pY2UgPSBNYXRoLmFicyhjaG9pY2UpO1xuXG4gICAgaWYgKGNob2ljZXNMZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBnZXRPbGRDaG9pY2VJbmRleEZpeGVkKGNob2ljZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZSA/IE1hdGgubWluKGNob2ljZSwgMikgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hDaG9pY2UobG9jYWxlLCBjaG9pY2UpIHtcbiAgICBpZiAoIWxvY2FsZSAmJiB0eXBlb2YgbG9jYWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjaG9pY2VzID0gbG9jYWxlLnNwbGl0KCd8Jyk7XG5cbiAgICBjaG9pY2UgPSBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXMubGVuZ3RoKTtcbiAgICBpZiAoIWNob2ljZXNbY2hvaWNlXSkge1xuICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG4gICAgcmV0dXJuIGNob2ljZXNbY2hvaWNlXS50cmltKCk7XG4gIH1cblxuICAvKipcbiAgICogVnVlLnRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG5cbiAgVnVlLnQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VBcmdzID0gcGFyc2VBcmdzLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cbiAgICB2YXIgbGFuZyA9IF9wYXJzZUFyZ3MubGFuZztcbiAgICB2YXIgZmFsbGJhY2sgPSBfcGFyc2VBcmdzLmZhbGxiYWNrO1xuICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzLnBhcmFtcztcblxuICAgIHJldHVybiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIG51bGwsIHRyYW5zbGF0ZShnZXRBc3NldExvY2FsZSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZ1ZS50Y1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gY2hvaWNlXG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBWdWUudGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHJldHVybiBmZXRjaENob2ljZShWdWUudC5hcHBseShWdWUsIFtrZXldLmNvbmNhdChhcmdzKSksIGNob2ljZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICR0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuXG4gIFZ1ZS5wcm90b3R5cGUuJHQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VBcmdzMiA9IHBhcnNlQXJncy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuXG4gICAgdmFyIGxhbmcgPSBfcGFyc2VBcmdzMi5sYW5nO1xuICAgIHZhciBmYWxsYmFjayA9IF9wYXJzZUFyZ3MyLmZhbGxiYWNrO1xuICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzMi5wYXJhbXM7XG5cbiAgICB2YXIgcmVzID0gbnVsbDtcbiAgICBpZiAodGhpcy4kb3B0aW9ucy5sb2NhbGVzKSB7XG4gICAgICByZXMgPSB0cmFuc2xhdGUoYmluZChnZXRDb21wb25lbnRMb2NhbGUsIHRoaXMpLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd2FybkRlZmF1bHQobGFuZywga2V5LCB0aGlzLCB0cmFuc2xhdGUoZ2V0QXNzZXRMb2NhbGUsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAkdGNcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGNob2ljZVxuICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG5cbiAgVnVlLnByb3RvdHlwZS4kdGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcbiAgICBpZiAodHlwZW9mIGNob2ljZSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGNob2ljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjUgPiAyID8gX2xlbjUgLSAyIDogMCksIF9rZXk1ID0gMjsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgYXJnc1tfa2V5NSAtIDJdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmV0Y2hDaG9pY2UodGhpcy4kdC5hcHBseSh0aGlzLCBba2V5XS5jb25jYXQoYXJncykpLCBjaG9pY2UpO1xuICB9O1xuXG4gIHJldHVybiBWdWU7XG59XG5cbnZhciBsYW5nVk0gPSB2b2lkIDA7IC8vIHNpbmdsZXRvblxuXG4vKipcbiAqIHBsdWdpblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBWdWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cblxuZnVuY3Rpb24gcGx1Z2luKFZ1ZSkge1xuICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gIHZhciB2ZXJzaW9uID0gVnVlLnZlcnNpb24gJiYgTnVtYmVyKFZ1ZS52ZXJzaW9uLnNwbGl0KCcuJylbMF0pIHx8IC0xO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHBsdWdpbi5pbnN0YWxsZWQpIHtcbiAgICB3YXJuKCdhbHJlYWR5IGluc3RhbGxlZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB2ZXJzaW9uIDwgMSkge1xuICAgIHdhcm4oJ3Z1ZS1pMThuICgnICsgcGx1Z2luLnZlcnNpb24gKyAnKSBuZWVkIHRvIHVzZSB2dWUgdmVyc2lvbiAxLjAgb3IgbGF0ZXIgKHZ1ZSB2ZXJzaW9uOiAnICsgVnVlLnZlcnNpb24gKyAnKS4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbGFuZyA9ICdlbic7XG4gIHNldHVwTGFuZ1ZNKFZ1ZSwgbGFuZyk7XG5cbiAgQXNzZXQoVnVlLCBsYW5nVk0pO1xuICBPdmVycmlkZShWdWUsIGxhbmdWTSwgdmVyc2lvbik7XG4gIENvbmZpZyhWdWUsIGxhbmdWTSwgbGFuZyk7XG4gIEV4dGVuZChWdWUpO1xufVxuXG5mdW5jdGlvbiBzZXR1cExhbmdWTShWdWUsIGxhbmcpIHtcbiAgdmFyIHNpbGVudCA9IFZ1ZS5jb25maWcuc2lsZW50O1xuICBWdWUuY29uZmlnLnNpbGVudCA9IHRydWU7XG4gIGlmICghbGFuZ1ZNKSB7XG4gICAgbGFuZ1ZNID0gbmV3IFZ1ZSh7IGRhdGE6IHsgbGFuZzogbGFuZywgbG9jYWxlczoge30gfSB9KTtcbiAgfVxuICBWdWUuY29uZmlnLnNpbGVudCA9IHNpbGVudDtcbn1cblxucGx1Z2luLnZlcnNpb24gPSAnNC43LjMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZ1ZSkge1xuICB3aW5kb3cuVnVlLnVzZShwbHVnaW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1pMThuL2Rpc3QvdnVlLWkxOG4uY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGxvY2FsZXMgPSB7fVxuXG47W1xuICAnZW4nLFxuICAnemgnLFxuXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgbG9jYWxlc1trZXldID0gcmVxdWlyZSgnLi8nICsga2V5KVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxlc1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbG9jYWxlcy9pbmRleC5qcyIsInZhciBtYXAgPSB7XG5cdFwiLi9lblwiOiAxMDcsXG5cdFwiLi9lbi55bWxcIjogMTA3LFxuXHRcIi4vaW5kZXhcIjogMTA1LFxuXHRcIi4vaW5kZXguanNcIjogMTA1LFxuXHRcIi4vemhcIjogMTA4LFxuXHRcIi4vemgueW1sXCI6IDEwOFxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxMDY7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xvY2FsZXMgXlxcLlxcLy4qJFxuLy8gbW9kdWxlIGlkID0gMTA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImJ1dHRvblwiOiB7XG5cdFx0XCJ1cGxvYWRcIjogXCJ1cGxvYWRcIixcblx0XHRcInNhdmVcIjogXCJzYXZlXCIsXG5cdFx0XCJjbG9zZV9lZGl0XCI6IFwiY2xvc2UgZWRpdFwiLFxuXHRcdFwib3Blbl9lZGl0XCI6IFwib3BlbiBlZGl0XCIsXG5cdFx0XCJoZWxwXCI6IFwiaGVscFwiLFxuXHRcdFwibHJjX2luZm9cIjogXCJpbmZvXCIsXG5cdFx0XCJyZW1vdmVfbHlyaWNcIjogXCJyZW1vdmUgbHlyaWNcIixcblx0XHRcInByZXZfbHlyaWNcIjogXCJwcmV2IGx5cmljXCIsXG5cdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdH0sXG5cdFwibWVudVwiOiB7XG5cdFx0XCJ1cGxvYWRcIjoge1xuXHRcdFx0XCJscmNcIjogXCJMUkMgZm9ybWF0IGx5cmljXCIsXG5cdFx0XHRcImx5cmljXCI6IFwibHlyaWMgdGV4dFwiLFxuXHRcdFx0XCJtdXNpY1wiOiBcIm11c2ljXCJcblx0XHR9XG5cdH0sXG5cdFwibW9kYWxcIjoge1xuXHRcdFwibHJjX2Zvcm1hdF9zYXZlXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJMeXJpY3MgU2F2ZVwiLFxuXHRcdFx0XCJpbmZvX3RpdGxlXCI6IFwiTHlyaWNzIEluZm9cIixcblx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwiU29uZSBUaXRsZVwiLFxuXHRcdFx0XHRcImFydGlzdFwiOiBcIkFydGlzdFwiLFxuXHRcdFx0XHRcImFsYnVtXCI6IFwiQWxidW1cIixcblx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwiU29uZ3RleHQgQ3JlYXRvclwiLFxuXHRcdFx0XHRcImxyY19jcmVhdG9yXCI6IFwiTFJDIENyZWF0b3JcIlxuXHRcdFx0fSxcblx0XHRcdFwic2F2ZV90aXRsZVwiOiBcIkx5cmljc1wiLFxuXHRcdFx0XCJjb21iaW5lXCI6IFwiY29tYmluZSBseXJpY3NcIixcblx0XHRcdFwiZG93bmxvYWRcIjogXCJseXJpY3MgZmlsZSBkb3dubG9hZFwiXG5cdFx0fSxcblx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJVcGxvYWQgTFJDIEZvcm1hdFwiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlVwbG9hZCB0aW1lc3RhbXBlZCBseXJpY3NcIixcblx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdH0sXG5cdFx0XCJseXJpY191cGxvYWRcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIlVwbG9hZCBUZXh0IEx5cmljc1wiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlBsYWluIFRleHQgbHlyaWNzLCBseXJpY3MgZGl2aWRlZCBieSBhIG5ld2xpbmVcIixcblx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdH0sXG5cdFx0XCJoZWxwXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJIZWxwXCIsXG5cdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcInNob3J0Y3V0IGtleVwiLFxuXHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwicGxheSBjb250cm9sXCIsXG5cdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFwiYmFja3dhcmRcIjogXCJiYWNrd2FyZFwiLFxuXHRcdFx0XHRcImZvcndhcmRcIjogXCJmb3J3YXJkXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIm1ha2UgbHJjXCIsXG5cdFx0XHRcdFwidXBfa2V5XCI6IFwiPFVwPlwiLFxuXHRcdFx0XHRcImRvd25fa2V5XCI6IFwiPERvd24+XCIsXG5cdFx0XHRcdFwicHJldl9seXJpY1wiOiBcInByZXYgbHlyaWNcIixcblx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdFx0XHR9LFxuXHRcdFx0XCJzb3VyY2VfY29kZVwiOiBcInNvdXJjZSBjb2RlXCJcblx0XHR9LFxuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwib2tcIjogXCJva1wiLFxuXHRcdFx0XCJjYW5jZWxcIjogXCJjYW5jZWxcIlxuXHRcdH1cblx0fSxcblx0XCJseXJpY19lZGl0b3JcIjoge1xuXHRcdFwiZWRpdFwiOiBcImVkaXRcIixcblx0XHRcImFkZFwiOiBcImFkZFwiLFxuXHRcdFwicmVtb3ZlXCI6IFwicmVtb3ZlXCIsXG5cdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwicmVtb3ZlIHRpbWVzdGFtcFwiLFxuXHRcdFwicGxheV90b190aGlzX2x5cmljXCI6IFwicGxheSB0byB0aGlzIGx5cmljXCIsXG5cdFx0XCJmb2xsb3dpbmdfdW5zb3J0ZWRcIjogXCJUaGUgZm9sbG93aW5nIHVuc29ydGVkXCJcblx0fVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xvY2FsZXMvZW4ueW1sXG4vLyBtb2R1bGUgaWQgPSAxMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiYnV0dG9uXCI6IHtcblx0XHRcInVwbG9hZFwiOiBcIuS4iuS8oFwiLFxuXHRcdFwic2F2ZVwiOiBcIuS/neWtmFwiLFxuXHRcdFwiY2xvc2VfZWRpdFwiOiBcIuWFs+mXree8lui+kVwiLFxuXHRcdFwib3Blbl9lZGl0XCI6IFwi5omT5byA57yW6L6RXCIsXG5cdFx0XCJoZWxwXCI6IFwi5biu5YqpXCIsXG5cdFx0XCJscmNfaW5mb1wiOiBcIuS/oeaBr1wiLFxuXHRcdFwicmVtb3ZlX2x5cmljXCI6IFwi5riF6Zmk5q2M6K+NXCIsXG5cdFx0XCJwcmV2X2x5cmljXCI6IFwi5LiK5LiA5p2h5q2M6K+NXCIsXG5cdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0fSxcblx0XCJtZW51XCI6IHtcblx0XHRcInVwbG9hZFwiOiB7XG5cdFx0XHRcImxyY1wiOiBcIkxSQ+agvOW8j+atjOivjVwiLFxuXHRcdFx0XCJseXJpY1wiOiBcIuatjOivjeaWh+acrFwiLFxuXHRcdFx0XCJtdXNpY1wiOiBcIumfs+S5kFwiXG5cdFx0fVxuXHR9LFxuXHRcIm1vZGFsXCI6IHtcblx0XHRcImxyY19mb3JtYXRfc2F2ZVwiOiB7XG5cdFx0XHRcInRpdGxlXCI6IFwi5L+d5a2Y5q2M6K+NXCIsXG5cdFx0XHRcImluZm9fdGl0bGVcIjogXCLmrYzor43kv6Hmga9cIixcblx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwi5q2M5ZCNXCIsXG5cdFx0XHRcdFwiYXJ0aXN0XCI6IFwi6Im65pyv5a62XCIsXG5cdFx0XHRcdFwiYWxidW1cIjogXCLkuJPovpFcIixcblx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwi5q2M6K+N5L2c6ICFXCIsXG5cdFx0XHRcdFwibHJjX2NyZWF0b3JcIjogXCJMUkMg5Yib5bu66ICFXCJcblx0XHRcdH0sXG5cdFx0XHRcInNhdmVfdGl0bGVcIjogXCLmrYzor41cIixcblx0XHRcdFwiY29tYmluZVwiOiBcIuWQiOW5tuatjOivjVwiLFxuXHRcdFx0XCJkb3dubG9hZFwiOiBcIuS4i+i9veatjOivjeaWh+S7tlwiXG5cdFx0fSxcblx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKBMUkPmoLzlvI/mlofmnKxcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLkuIrkvKDlt7Lnu4/ljIXlkKvml7bpl7TmiLPnmoTmrYzor41cIixcblx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHR9LFxuXHRcdFwibHlyaWNfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKDmrYzor43mlofmnKxcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLnuq/mlofmnKzmrYzor43vvIznlKjmjaLooYzlr7nmrYzor43liJLliIZcIixcblx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHR9LFxuXHRcdFwiaGVscFwiOiB7XG5cdFx0XHRcInRpdGxlXCI6IFwi5biu5YqpXCIsXG5cdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcIuW/q+aNt+mUrlwiLFxuXHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5pKt5pS+5o6n5Yi2XCIsXG5cdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFwiYmFja3dhcmRcIjogXCLlkI7pgIBcIixcblx0XHRcdFx0XCJmb3J3YXJkXCI6IFwi5YmN6L+bXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuWItuS9nOatjOivjVwiLFxuXHRcdFx0XHRcInVwX2tleVwiOiBcIjxVcD5cIixcblx0XHRcdFx0XCJkb3duX2tleVwiOiBcIjxEb3duPlwiLFxuXHRcdFx0XHRcInByZXZfbHlyaWNcIjogXCLkuIrkuIDmnaHmrYzor41cIixcblx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0XHRcdH0sXG5cdFx0XHRcInNvdXJjZV9jb2RlXCI6IFwi5rqQ56CBXCJcblx0XHR9LFxuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwib2tcIjogXCLnoa7orqRcIixcblx0XHRcdFwiY2FuY2VsXCI6IFwi5Y+W5raIXCJcblx0XHR9XG5cdH0sXG5cdFwibHlyaWNfZWRpdG9yXCI6IHtcblx0XHRcImVkaXRcIjogXCLnvJbovpFcIixcblx0XHRcImFkZFwiOiBcIua3u+WKoFwiLFxuXHRcdFwicmVtb3ZlXCI6IFwi5Yig6ZmkXCIsXG5cdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwi5Yig6Zmk5pe26Ze06L20XCIsXG5cdFx0XCJwbGF5X3RvX3RoaXNfbHlyaWNcIjogXCLmkq3mlL7liLDov5nmnaHmrYzor41cIixcblx0XHRcImZvbGxvd2luZ191bnNvcnRlZFwiOiBcIuS7peS4i+acquaOkuW6j1wiXG5cdH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9sb2NhbGVzL3poLnltbFxuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=