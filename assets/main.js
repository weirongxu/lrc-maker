!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="./assets/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(3),s=r(a);n(103),new o.default({el:"#body",render:function(t){return t(s.default)}})},function(t,e,n){(function(e,n){/*!
	 * Vue.js v2.1.3
	 * (c) 2014-2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function r(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function i(t){var e=parseFloat(t,10);return e||0===e?e:t}function o(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function a(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function s(t,e){return pn.call(t,e)}function u(t){return"string"==typeof t||"number"==typeof t}function c(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}function l(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function f(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t){return null!==t&&"object"==typeof t}function h(t){return _n.call(t)===bn}function v(t){for(var e={},n=0;n<t.length;n++)t[n]&&d(e,t[n]);return e}function m(){}function y(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function g(t,e){return t==e||!(!p(t)||!p(e))&&JSON.stringify(t)===JSON.stringify(e)}function _(t,e){for(var n=0;n<t.length;n++)if(g(t[n],e))return n;return-1}function b(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function w(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function x(t){if(!xn.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function E(t){return/native code/.test(t.toString())}function A(t){Un.target&&Bn.push(Un.target),Un.target=t}function k(){Un.target=Bn.pop()}function O(t,e){t.__proto__=e}function C(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];w(t,o,e[o])}}function D(t){if(p(t)){var e;return s(t,"__ob__")&&t.__ob__ instanceof Zn?e=t.__ob__:Hn.shouldConvert&&!Fn()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(e=new Zn(t)),e}}function T(t,e,r,i){var o=new Un,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,u=a&&a.set,c=D(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return Un.target&&(o.depend(),c&&c.dep.depend(),Array.isArray(e)&&P(e)),e},set:function(e){var a=s?s.call(t):r;e===a||e!==e&&a!==a||("production"!==n.env.NODE_ENV&&i&&i(),u?u.call(t,e):r=e,c=D(e),o.notify())}})}}function $(t,e,r){if(Array.isArray(t))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(s(t,e))return void(t[e]=r);var i=t.__ob__;return t._isVue||i&&i.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option.")):i?(T(i.value,e,r),i.dep.notify(),r):void(t[e]=r)}function F(t,e){var r=t.__ob__;return t._isVue||r&&r.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid deleting properties on a Vue instance or its root $data - just set it to null.")):void(s(t,e)&&(delete t[e],r&&r.dep.notify()))}function P(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&P(e)}function S(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)n=o[a],r=t[n],i=e[n],s(t,n)?h(r)&&h(i)&&S(r,i):$(t,n,i);return t}function N(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function j(t,e){var n=Object.create(t||null);return e?d(n,e):n}function R(t){for(var e in t.components){var n=e.toLowerCase();(dn(n)||jn.isReservedTag(n))&&Rn("Do not use built-in or reserved HTML elements as component id: "+e)}}function L(t){var e=t.props;if(e){var r,i,o,a={};if(Array.isArray(e))for(r=e.length;r--;)i=e[r],"string"==typeof i?(o=vn(i),a[o]={type:null}):"production"!==n.env.NODE_ENV&&Rn("props must be strings when using array syntax.");else if(h(e))for(var s in e)i=e[s],o=vn(s),a[o]=h(i)?i:{type:i};t.props=a}}function I(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function M(t,e,r){function i(n){var i=qn[n]||Gn;f[n]=i(t[n],e[n],r,n)}"production"!==n.env.NODE_ENV&&R(e),L(e),I(e);var o=e.extends;if(o&&(t="function"==typeof o?M(t,o.options,r):M(t,o,r)),e.mixins)for(var a=0,u=e.mixins.length;a<u;a++){var c=e.mixins[a];c.prototype instanceof zt&&(c=c.options),t=M(t,c,r)}var l,f={};for(l in t)i(l);for(l in e)s(t,l)||i(l);return f}function U(t,e,r,i){if("string"==typeof r){var o=t[e],a=o[r]||o[vn(r)]||o[mn(vn(r))];return"production"!==n.env.NODE_ENV&&i&&!a&&Rn("Failed to resolve "+e.slice(0,-1)+": "+r,t),a}}function B(t,e,r,i){var o=e[t],a=!s(r,t),u=r[t];if(Z(o.type)&&(a&&!s(o,"default")?u=!1:""!==u&&u!==gn(t)||(u=!0)),void 0===u){u=V(i,o,t);var c=Hn.shouldConvert;Hn.shouldConvert=!0,D(u),Hn.shouldConvert=c}return"production"!==n.env.NODE_ENV&&z(o,t,u,i,a),u}function V(t,e,r){if(s(e,"default")){var i=e.default;return p(i)&&"production"!==n.env.NODE_ENV&&Rn('Invalid default value for prop "'+r+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t[r]?t[r]:"function"==typeof i&&e.type!==Function?i.call(t):i}}function z(t,e,n,r,i){if(t.required&&i)return void Rn('Missing required prop: "'+e+'"',r);if(null!=n||t.required){var o=t.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length&&!a;u++){var c=Y(n,o[u]);s.push(c.expectedType),a=c.valid}}if(!a)return void Rn('Invalid prop: type check failed for prop "'+e+'". Expected '+s.map(mn).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",r);var l=t.validator;l&&(l(n)||Rn('Invalid prop: custom validator check failed for prop "'+e+'".',r))}}function Y(t,e){var n,r=H(e);return n="String"===r?typeof t==(r="string"):"Number"===r?typeof t==(r="number"):"Boolean"===r?typeof t==(r="boolean"):"Function"===r?typeof t==(r="function"):"Object"===r?h(t):"Array"===r?Array.isArray(t):t instanceof e,{valid:n,expectedType:r}}function H(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e&&e[1]}function Z(t){if(!Array.isArray(t))return"Boolean"===H(t);for(var e=0,n=t.length;e<n;e++)if("Boolean"===H(t[e]))return!0;return!1}function q(){nr.length=0,rr={},"production"!==n.env.NODE_ENV&&(ir={}),or=ar=!1}function W(){for(ar=!0,nr.sort(function(t,e){return t.id-e.id}),sr=0;sr<nr.length;sr++){var t=nr[sr],e=t.id;if(rr[e]=null,t.run(),"production"!==n.env.NODE_ENV&&null!=rr[e]&&(ir[e]=(ir[e]||0)+1,ir[e]>jn._maxUpdateCount)){Rn("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}}Pn&&jn.devtools&&Pn.emit("flush"),q()}function G(t){var e=t.id;if(null==rr[e]){if(rr[e]=!0,ar){for(var n=nr.length-1;n>=0&&nr[n].id>t.id;)n--;nr.splice(Math.max(n,sr)+1,0,t)}else nr.push(t);or||(or=!0,Sn(W))}}function X(t){lr.clear(),K(t,lr)}function K(t,e){var n,r,i=Array.isArray(t);if((i||p(t))&&Object.isExtensible(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)K(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)K(t[r[n]],e)}}function J(t){t._watchers=[],Q(t),tt(t),et(t),rt(t),it(t)}function Q(t){var e=t.$options.props;if(e){var r=t.$options.propsData||{},i=t.$options._propKeys=Object.keys(e),o=!t.$parent;Hn.shouldConvert=o;for(var a=function(o){var a=i[o];"production"!==n.env.NODE_ENV?(fr(a)&&Rn('"'+a+'" is a reserved attribute and cannot be used as component prop.',t),T(t,a,B(a,e,r,t),function(){t.$parent&&!Hn.isSettingProps&&Rn("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',t)})):T(t,a,B(a,e,r,t))},s=0;s<i.length;s++)a(s);Hn.shouldConvert=!0}}function tt(t){var e=t.$options.data;e=t._data="function"==typeof e?e.call(t):e||{},h(e)||(e={},"production"!==n.env.NODE_ENV&&Rn("data functions should return an object.",t));for(var r=Object.keys(e),i=t.$options.props,o=r.length;o--;)i&&s(i,r[o])?"production"!==n.env.NODE_ENV&&Rn('The data property "'+r[o]+'" is already declared as a prop. Use prop default value instead.',t):st(t,r[o]);D(e),e.__ob__&&e.__ob__.vmCount++}function et(t){var e=t.$options.computed;if(e)for(var n in e){var r=e[n];"function"==typeof r?(dr.get=nt(r,t),dr.set=m):(dr.get=r.get?r.cache!==!1?nt(r.get,t):l(r.get,t):m,dr.set=r.set?l(r.set,t):m),Object.defineProperty(t,n,dr)}}function nt(t,e){var n=new cr(e,t,m,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Un.target&&n.depend(),n.value}}function rt(t){var e=t.$options.methods;if(e)for(var r in e)t[r]=null==e[r]?m:l(e[r],t),"production"!==n.env.NODE_ENV&&null==e[r]&&Rn('method "'+r+'" has an undefined value in the component definition. Did you reference the function correctly?',t)}function it(t){var e=t.$options.watch;if(e)for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)ot(t,n,r[i]);else ot(t,n,r)}}function ot(t,e,n){var r;h(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function at(t){var e={};e.get=function(){return this._data},"production"!==n.env.NODE_ENV&&(e.set=function(t){Rn("Avoid replacing instance root $data. Use nested data properties instead.",this)}),Object.defineProperty(t.prototype,"$data",e),t.prototype.$set=$,t.prototype.$delete=F,t.prototype.$watch=function(t,e,n){var r=this;n=n||{},n.user=!0;var i=new cr(r,t,e,n);return n.immediate&&e.call(r,i.value),function(){i.teardown()}}}function st(t,e){b(e)||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}function ut(t){var e=new pr(t.tag,t.data,t.children,t.text,t.elm,t.ns,t.context,t.componentOptions);return e.isStatic=t.isStatic,e.key=t.key,e.isCloned=!0,e}function ct(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=ut(t[n]);return e}function lt(t,e,n,r){r+=e;var i=t.__injected||(t.__injected={});if(!i[r]){i[r]=!0;var o=t[e];o?t[e]=function(){o.apply(this,arguments),n.apply(this,arguments)}:t[e]=n}}function ft(t,e,r,i,o){var a,s,u,c,l,f;for(a in t)if(s=t[a],u=e[a],s)if(u){if(s!==u)if(Array.isArray(u)){u.length=s.length;for(var d=0;d<u.length;d++)u[d]=s[d];t[a]=u}else u.fn=s,t[a]=u}else f="!"===a.charAt(0),l=f?a.slice(1):a,Array.isArray(s)?r(l,s.invoker=dt(s),f):(s.invoker||(c=s,s=t[a]={},s.fn=c,s.invoker=pt(s)),r(l,s.invoker,f));else"production"!==n.env.NODE_ENV&&Rn('Invalid handler for event "'+a+'": got '+String(s),o);for(a in e)t[a]||(l="!"===a.charAt(0)?a.slice(1):a,i(l,e[a].invoker))}function dt(t){return function(e){for(var n=arguments,r=1===arguments.length,i=0;i<t.length;i++)r?t[i](e):t[i].apply(null,n)}}function pt(t){return function(e){var n=1===arguments.length;n?t.fn(e):t.fn.apply(null,arguments)}}function ht(t,e,n){if(u(t))return[vt(t)];if(Array.isArray(t)){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i],s=r[r.length-1];Array.isArray(a)?r.push.apply(r,ht(a,e,(n||"")+"_"+i)):u(a)?s&&s.text?s.text+=String(a):""!==a&&r.push(vt(a)):a instanceof pr&&(a.text&&s&&s.text?s.isCloned||(s.text+=a.text):(e&&mt(a,e),a.tag&&null==a.key&&null!=n&&(a.key="__vlist"+n+"_"+i+"__"),r.push(a)))}return r}}function vt(t){return new pr(void 0,void 0,void 0,String(t))}function mt(t,e){if(t.tag&&!t.ns&&(t.ns=e,t.children))for(var n=0,r=t.children.length;n<r;n++)mt(t.children[n],e)}function yt(t){return t&&t.filter(function(t){return t&&t.componentOptions})[0]}function gt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function _t(t){t.prototype._mount=function(t,e){var r=this;return r.$el=t,r.$options.render||(r.$options.render=hr,"production"!==n.env.NODE_ENV&&(r.$options.template&&"#"!==r.$options.template.charAt(0)?Rn("You are using the runtime-only build of Vue where the template option is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",r):Rn("Failed to mount component: template or render function not defined.",r))),bt(r,"beforeMount"),r._watcher=new cr(r,function(){r._update(r._render(),e)},m),e=!1,null==r.$vnode&&(r._isMounted=!0,bt(r,"mounted")),r},t.prototype._update=function(t,e){var n=this;n._isMounted&&bt(n,"beforeUpdate");var r=n.$el,i=vr;vr=n;var o=n._vnode;n._vnode=t,o?n.$el=n.__patch__(o,t):n.$el=n.__patch__(n.$el,t,e),vr=i,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el),n._isMounted&&bt(n,"updated")},t.prototype._updateFromParent=function(t,e,r,i){var o=this,a=!(!o.$options._renderChildren&&!i);if(o.$options._parentVnode=r,o.$vnode=r,o._vnode&&(o._vnode.parent=r),o.$options._renderChildren=i,t&&o.$options.props){Hn.shouldConvert=!1,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!0);for(var s=o.$options._propKeys||[],u=0;u<s.length;u++){var c=s[u];o[c]=B(c,o.$options.props,t,o)}Hn.shouldConvert=!0,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!1),o.$options.propsData=t}if(e){var l=o.$options._parentListeners;o.$options._parentListeners=e,o._updateListeners(e,l)}a&&(o.$slots=Lt(i,o._renderContext),o.$forceUpdate())},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){bt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||a(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,bt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.__patch__(t._vnode,null)}}}function bt(t,e){var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)n[r].call(t);t.$emit("hook:"+e)}function wt(t,e,r,i,o){if(t){var a=r.$options._base;if(p(t)&&(t=a.extend(t)),"function"!=typeof t)return void("production"!==n.env.NODE_ENV&&Rn("Invalid Component definition: "+String(t),r));if(!t.cid)if(t.resolved)t=t.resolved;else if(t=Dt(t,a,function(){r.$forceUpdate()}),!t)return;Vt(t),e=e||{};var s=Tt(e,t);if(t.options.functional)return xt(t,s,e,r,i);var u=e.on;e.on=e.nativeOn,t.options.abstract&&(e={}),Ft(e);var c=t.options.name||o,l=new pr("vue-component-"+t.cid+(c?"-"+c:""),e,void 0,void 0,void 0,void 0,r,{Ctor:t,propsData:s,listeners:u,tag:o,children:i});return l}}function xt(t,e,n,r,i){var o={},a=t.options.props;if(a)for(var s in a)o[s]=B(s,a,e);var u=t.options.render.call(null,l(St,{_self:Object.create(r)}),{props:o,data:n,parent:r,children:ht(i),slots:function(){return Lt(i,r)}});return u instanceof pr&&(u.functionalContext=r,n.slot&&((u.data||(u.data={})).slot=n.slot)),u}function Et(t,e){var n=t.componentOptions,r={_isComponent:!0,parent:e,propsData:n.propsData,_componentTag:n.tag,_parentVnode:t,_parentListeners:n.listeners,_renderChildren:n.children},i=t.data.inlineTemplate;return i&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new n.Ctor(r)}function At(t,e){if(!t.child||t.child._isDestroyed){var n=t.child=Et(t,vr);n.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;kt(r,r)}}function kt(t,e){var n=e.componentOptions,r=e.child=t.child;r._updateFromParent(n.propsData,n.listeners,e,n.children)}function Ot(t){t.child._isMounted||(t.child._isMounted=!0,bt(t.child,"mounted")),t.data.keepAlive&&(t.child._inactive=!1,bt(t.child,"activated"))}function Ct(t){t.child._isDestroyed||(t.data.keepAlive?(t.child._inactive=!0,bt(t.child,"deactivated")):t.child.$destroy())}function Dt(t,e,r){if(!t.requested){t.requested=!0;var i=t.pendingCallbacks=[r],o=!0,a=function(n){if(p(n)&&(n=e.extend(n)),t.resolved=n,!o)for(var r=0,a=i.length;r<a;r++)i[r](n)},s=function(e){"production"!==n.env.NODE_ENV&&Rn("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""))},u=t(a,s);return u&&"function"==typeof u.then&&!t.resolved&&u.then(a,s),o=!1,t.resolved}t.pendingCallbacks.push(r)}function Tt(t,e){var n=e.options.props;if(n){var r={},i=t.attrs,o=t.props,a=t.domProps;if(i||o||a)for(var s in n){var u=gn(s);$t(r,o,s,u,!0)||$t(r,i,s,u)||$t(r,a,s,u)}return r}}function $t(t,e,n,r,i){if(e){if(s(e,n))return t[n]=e[n],i||delete e[n],!0;if(s(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ft(t){t.hook||(t.hook={});for(var e=0;e<yr.length;e++){var n=yr[e],r=t.hook[n],i=mr[n];t.hook[n]=r?Pt(i,r):i}}function Pt(t,e){return function(n,r){t(n,r),e(n,r)}}function St(t,e,n){return e&&(Array.isArray(e)||"object"!=typeof e)&&(n=e,e=void 0),Nt(this._self,t,e,n)}function Nt(t,e,r,i){if(r&&r.__ob__)return void("production"!==n.env.NODE_ENV&&Rn("Avoid using observed data object as vnode data: "+JSON.stringify(r)+"\nAlways create fresh vnode data objects in each render!",t));if(!e)return hr();if(Array.isArray(i)&&"function"==typeof i[0]&&(r=r||{},r.scopedSlots={default:i[0]},i.length=0),"string"==typeof e){var o,a=jn.getTagNamespace(e);if(jn.isReservedTag(e))return new pr(e,r,ht(i,a),void 0,void 0,a,t);if(o=U(t.$options,"components",e))return wt(o,r,t,i,e);var s="foreignObject"===e?"xhtml":a;return new pr(e,r,ht(i,s),void 0,void 0,a,t)}return wt(e,r,t,i)}function jt(t){t.$vnode=null,t._vnode=null,t._staticTrees=null,t._renderContext=t.$options._parentVnode&&t.$options._parentVnode.context,t.$slots=Lt(t.$options._renderChildren,t._renderContext),t.$scopedSlots={},t.$createElement=l(St,t),t.$options.el&&t.$mount(t.$options.el)}function Rt(t){function e(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&o(t[r],e+"_"+r,n);else o(t,e,n)}function o(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}t.prototype.$nextTick=function(t){return Sn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,r=e.render,i=e.staticRenderFns,o=e._parentVnode;if(t._isMounted)for(var a in t.$slots)t.$slots[a]=ct(t.$slots[a]);o&&o.data.scopedSlots&&(t.$scopedSlots=o.data.scopedSlots),i&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=o;var s;try{s=r.call(t._renderProxy,t.$createElement)}catch(e){if("production"!==n.env.NODE_ENV&&Rn("Error when rendering "+Nn(t)+":"),jn.errorHandler)jn.errorHandler.call(null,e,t);else{if(Fn())throw e;console.error(e)}s=t._vnode}return s instanceof pr||("production"!==n.env.NODE_ENV&&Array.isArray(s)&&Rn("Multiple root nodes returned from render function. Render function should return a single root node.",t),s=hr()),s.parent=o,s},t.prototype._h=St,t.prototype._s=r,t.prototype._n=i,t.prototype._e=hr,t.prototype._q=g,t.prototype._i=_,t.prototype._m=function(t,n){var r=this._staticTrees[t];return r&&!n?Array.isArray(r)?ct(r):ut(r):(r=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),e(r,"__static__"+t,!1),r)},t.prototype._o=function(t,n,r){return e(t,"__once__"+n+(r?"_"+r:""),!0),t};var a=function(t){return t};t.prototype._f=function(t){return U(this.$options,"filters",t,!0)||a},t.prototype._l=function(t,e){var n,r,i,o,a;if(Array.isArray(t))for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(p(t))for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return n},t.prototype._t=function(t,e,r){var i=this.$scopedSlots[t];if(i)return i(r||{})||e;var o=this.$slots[t];return o&&"production"!==n.env.NODE_ENV&&(o._rendered&&Rn('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||e},t.prototype._b=function(t,e,r,i){if(r)if(p(r)){Array.isArray(r)&&(r=v(r));for(var o in r)if("class"===o||"style"===o)t[o]=r[o];else{var a=i||jn.mustUseProp(e,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={});a[o]=r[o]}}else"production"!==n.env.NODE_ENV&&Rn("v-bind without argument expects an Object or Array value",this);return t},t.prototype._k=function(t){return jn.keyCodes[t]}}function Lt(t,e){var n={};if(!t)return n;for(var r,i,o=ht(t)||[],a=[],s=0,u=o.length;s<u;s++)if(i=o[s],(i.context===e||i.functionalContext===e)&&i.data&&(r=i.data.slot)){var c=n[r]||(n[r]=[]);"template"===i.tag?c.push.apply(c,i.children):c.push(i)}else a.push(i);return a.length&&(1!==a.length||" "!==a[0].text&&!a[0].isComment)&&(n.default=a),n}function It(t){t._events=Object.create(null);var e=t.$options._parentListeners,n=l(t.$on,t),r=l(t.$off,t);t._updateListeners=function(e,i){ft(e,i||{},n,r,t)},e&&t._updateListeners(e)}function Mt(t){t.prototype.$on=function(t,e){var n=this;return(n._events[t]||(n._events[t]=[])).push(e),n},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var r=n._events[t];if(!r)return n;if(1===arguments.length)return n._events[t]=null,n;for(var i,o=r.length;o--;)if(i=r[o],i===e||i.fn===e){r.splice(o,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?f(n):n;for(var r=f(arguments,1),i=0,o=n.length;i<o;i++)n[i].apply(e,r)}return e}}function Ut(t){t.prototype._init=function(t){var e=this;e._uid=gr++,e._isVue=!0,t&&t._isComponent?Bt(e,t):e.$options=M(Vt(e.constructor),t||{},e),"production"!==n.env.NODE_ENV?Wn(e):e._renderProxy=e,e._self=e,gt(e),It(e),bt(e,"beforeCreate"),J(e),bt(e,"created"),jt(e)}}function Bt(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Vt(t){var e=t.options;if(t.super){var n=t.super.options,r=t.superOptions,i=t.extendOptions;n!==r&&(t.superOptions=n,i.render=e.render,i.staticRenderFns=e.staticRenderFns,i._scopeId=e._scopeId,e=t.options=M(n,i),e.name&&(e.components[e.name]=t))}return e}function zt(t){"production"===n.env.NODE_ENV||this instanceof zt||Rn("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function Yt(t){t.use=function(t){if(!t.installed){var e=f(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}}}function Ht(t){t.mixin=function(t){this.options=M(this.options,t)}}function Zt(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,o=t._Ctor||(t._Ctor={});if(o[i])return o[i];var a=t.name||r.options.name;"production"!==n.env.NODE_ENV&&(/^[a-zA-Z][\w-]*$/.test(a)||Rn('Invalid component name: "'+a+'". Component names can only contain alphanumeric characaters and the hyphen.'));var s=function(t){this._init(t)};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.cid=e++,s.options=M(r.options,t),s.super=r,s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,jn._assetTypes.forEach(function(t){s[t]=r[t]}),a&&(s.options.components[a]=s),s.superOptions=r.options,s.extendOptions=t,o[i]=s,s}}function qt(t){jn._assetTypes.forEach(function(e){t[e]=function(t,r){return r?("production"!==n.env.NODE_ENV&&"component"===e&&jn.isReservedTag(t)&&Rn("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&h(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function Wt(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:t.test(e)}function Gt(t){var e={};e.get=function(){return jn},"production"!==n.env.NODE_ENV&&(e.set=function(){Rn("Do not replace the Vue.config object, set individual fields instead.")}),Object.defineProperty(t,"config",e),t.util=Xn,t.set=$,t.delete=F,t.nextTick=Sn,t.options=Object.create(null),jn._assetTypes.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,d(t.options.components,wr),Yt(t),Ht(t),Zt(t),qt(t)}function Xt(t){for(var e=t.data,n=t,r=t;r.child;)r=r.child._vnode,r.data&&(e=Kt(r.data,e));for(;n=n.parent;)n.data&&(e=Kt(e,n.data));return Jt(e)}function Kt(t,e){return{staticClass:Qt(t.staticClass,e.staticClass),class:t.class?[t.class,e.class]:e.class}}function Jt(t){var e=t.class,n=t.staticClass;return n||e?Qt(n,te(e)):""}function Qt(t,e){return t?e?t+" "+e:t:e||""}function te(t){var e="";if(!t)return e;if("string"==typeof t)return t;if(Array.isArray(t)){for(var n,r=0,i=t.length;r<i;r++)t[r]&&(n=te(t[r]))&&(e+=n+" ");return e.slice(0,-1)}if(p(t)){for(var o in t)t[o]&&(e+=o+" ");return e.slice(0,-1)}return e}function ee(t){return Pr(t)?"svg":"math"===t?"math":void 0}function ne(t){if(!An)return!0;if(Sr(t))return!1;if(t=t.toLowerCase(),null!=Nr[t])return Nr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Nr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Nr[t]=/HTMLUnknownElement/.test(e.toString())}function re(t){if("string"==typeof t){var e=t;if(t=document.querySelector(t),!t)return"production"!==n.env.NODE_ENV&&Rn("Cannot find element: "+e),document.createElement("div")}return t}function ie(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&"multiple"in e.data.attrs&&n.setAttribute("multiple","multiple"),n)}function oe(t,e){return document.createElementNS($r[t],e)}function ae(t){return document.createTextNode(t)}function se(t){return document.createComment(t)}function ue(t,e,n){t.insertBefore(e,n)}function ce(t,e){t.removeChild(e)}function le(t,e){t.appendChild(e)}function fe(t){return t.parentNode}function de(t){return t.nextSibling}function pe(t){return t.tagName}function he(t,e){t.textContent=e}function ve(t){return t.childNodes}function me(t,e,n){t.setAttribute(e,n)}function ye(t,e){var n=t.data.ref;if(n){var r=t.context,i=t.child||t.elm,o=r.$refs;e?Array.isArray(o[n])?a(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])&&o[n].indexOf(i)<0?o[n].push(i):o[n]=[i]:o[n]=i}}function ge(t){return null==t}function _e(t){return null!=t}function be(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&!t.data==!e.data}function we(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,_e(i)&&(o[i]=r);return o}function xe(t){function e(t){return new pr(O.tagName(t).toLowerCase(),{},[],void 0,t)}function i(t,e){function n(){0===--n.listeners&&o(t)}return n.listeners=e,n}function o(t){var e=O.parentNode(t);e&&O.removeChild(e,t)}function a(t,e,r){var i,o=t.data;if(t.isRootInsert=!r,_e(o)&&(_e(i=o.hook)&&_e(i=i.init)&&i(t),_e(i=t.child)))return f(t,e),t.elm;var a=t.children,u=t.tag;return _e(u)?("production"!==n.env.NODE_ENV&&(t.ns||jn.ignoredElements&&jn.ignoredElements.indexOf(u)>-1||!jn.isUnknownElement(u)||Rn("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context)),t.elm=t.ns?O.createElementNS(t.ns,u):O.createElement(u,t),d(t),s(t,a,e),_e(o)&&l(t,e)):t.isComment?t.elm=O.createComment(t.text):t.elm=O.createTextNode(t.text),t.elm}function s(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)O.appendChild(t.elm,a(e[r],n,!0));else u(t.text)&&O.appendChild(t.elm,O.createTextNode(t.text))}function c(t){for(;t.child;)t=t.child._vnode;return _e(t.tag)}function l(t,e){for(var n=0;n<A.create.length;++n)A.create[n](Lr,t);x=t.data.hook,_e(x)&&(x.create&&x.create(Lr,t),x.insert&&e.push(t))}function f(t,e){t.data.pendingInsert&&e.push.apply(e,t.data.pendingInsert),t.elm=t.child.$el,c(t)?(l(t,e),d(t)):(ye(t),e.push(t))}function d(t){var e;_e(e=t.context)&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,""),_e(e=vr)&&e!==t.context&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,"")}function p(t,e,n,r,i,o){for(;r<=i;++r)O.insertBefore(t,a(n[r],o),e)}function h(t){var e,n,r=t.data;if(_e(r))for(_e(e=r.hook)&&_e(e=e.destroy)&&e(t),e=0;e<A.destroy.length;++e)A.destroy[e](t);if(_e(e=t.children))for(n=0;n<t.children.length;++n)h(t.children[n])}function v(t,e,n,r){for(;n<=r;++n){var i=e[n];_e(i)&&(_e(i.tag)?(m(i),h(i)):O.removeChild(t,i.elm))}}function m(t,e){if(e||_e(t.data)){var n=A.remove.length+1;for(e?e.listeners+=n:e=i(t.elm,n),_e(x=t.child)&&_e(x=x._vnode)&&_e(x.data)&&m(x,e),x=0;x<A.remove.length;++x)A.remove[x](t,e);_e(x=t.data.hook)&&_e(x=x.remove)?x(t,e):e()}else o(t.elm)}function y(t,e,r,i,o){for(var s,u,c,l,f=0,d=0,h=e.length-1,m=e[0],y=e[h],_=r.length-1,b=r[0],w=r[_],x=!o;f<=h&&d<=_;)ge(m)?m=e[++f]:ge(y)?y=e[--h]:be(m,b)?(g(m,b,i),m=e[++f],b=r[++d]):be(y,w)?(g(y,w,i),y=e[--h],w=r[--_]):be(m,w)?(g(m,w,i),x&&O.insertBefore(t,m.elm,O.nextSibling(y.elm)),m=e[++f],w=r[--_]):be(y,b)?(g(y,b,i),x&&O.insertBefore(t,y.elm,m.elm),y=e[--h],b=r[++d]):(ge(s)&&(s=we(e,f,h)),u=_e(b.key)?s[b.key]:null,ge(u)?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(c=e[u],"production"===n.env.NODE_ENV||c||Rn("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),c.tag!==b.tag?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(g(c,b,i),e[u]=void 0,x&&O.insertBefore(t,b.elm,m.elm),b=r[++d])));f>h?(l=ge(r[_+1])?null:r[_+1].elm,p(t,l,r,d,_,i)):d>_&&v(t,e,f,h)}function g(t,e,n,r){if(t!==e){if(e.isStatic&&t.isStatic&&e.key===t.key&&(e.isCloned||e.isOnce))return e.elm=t.elm,void(e.child=t.child);var i,o=e.data,a=_e(o);a&&_e(i=o.hook)&&_e(i=i.prepatch)&&i(t,e);var s=e.elm=t.elm,u=t.children,l=e.children;if(a&&c(e)){for(i=0;i<A.update.length;++i)A.update[i](t,e);_e(i=o.hook)&&_e(i=i.update)&&i(t,e)}ge(e.text)?_e(u)&&_e(l)?u!==l&&y(s,u,l,n,r):_e(l)?(_e(t.text)&&O.setTextContent(s,""),p(s,null,l,0,l.length-1,n)):_e(u)?v(s,u,0,u.length-1):_e(t.text)&&O.setTextContent(s,""):t.text!==e.text&&O.setTextContent(s,e.text),a&&_e(i=o.hook)&&_e(i=i.postpatch)&&i(t,e)}}function _(t,e,n){if(n&&t.parent)t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function b(t,e,r){if("production"!==n.env.NODE_ENV&&!w(t,e))return!1;e.elm=t;var i=e.tag,o=e.data,a=e.children;if(_e(o)&&(_e(x=o.hook)&&_e(x=x.init)&&x(e,!0),_e(x=e.child)))return f(e,r),!0;if(_e(i)){if(_e(a)){var u=O.childNodes(t);if(u.length){var c=!0;if(u.length!==a.length)c=!1;else for(var d=0;d<a.length;d++)if(!b(u[d],a[d],r)){c=!1;break}if(!c)return"production"===n.env.NODE_ENV||"undefined"==typeof console||C||(C=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",u,a)),!1}else s(e,a,r)}_e(o)&&l(e,r)}return!0}function w(t,e){return e.tag?0===e.tag.indexOf("vue-component")||e.tag.toLowerCase()===O.tagName(t).toLowerCase():r(e.text)===t.data}var x,E,A={},k=t.modules,O=t.nodeOps;for(x=0;x<Ir.length;++x)for(A[Ir[x]]=[],E=0;E<k.length;++E)void 0!==k[E][Ir[x]]&&A[Ir[x]].push(k[E][Ir[x]]);var C=!1;return function(t,r,i,o){if(!r)return void(t&&h(t));var s,u,l=!1,f=[];if(t){var d=_e(t.nodeType);if(!d&&be(t,r))g(t,r,f,o);else{if(d){if(1===t.nodeType&&t.hasAttribute("server-rendered")&&(t.removeAttribute("server-rendered"),i=!0),i){if(b(t,r,f))return _(r,f,!0),t;"production"!==n.env.NODE_ENV&&Rn("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}t=e(t)}if(s=t.elm,u=O.parentNode(s),a(r,f),r.parent){for(var p=r.parent;p;)p.elm=r.elm,p=p.parent;if(c(r))for(var m=0;m<A.create.length;++m)A.create[m](Lr,r.parent)}null!==u?(O.insertBefore(u,r.elm,O.nextSibling(s)),v(u,[t],0,0)):_e(t.tag)&&h(t)}}else l=!0,a(r,f);return _(r,f,l),r.elm}}function Ee(t,e){if(t.data.directives||e.data.directives){var n,r,i,o=t===Lr,a=Ae(t.data.directives,t.context),s=Ae(e.data.directives,e.context),u=[],c=[];for(n in s)r=a[n],i=s[n],r?(i.oldValue=r.value,Oe(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(Oe(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var l=function(){u.forEach(function(n){Oe(n,"inserted",e,t)})};o?lt(e.data.hook||(e.data.hook={}),"insert",l,"dir-insert"):l()}if(c.length&&lt(e.data.hook||(e.data.hook={}),"postpatch",function(){
c.forEach(function(n){Oe(n,"componentUpdated",e,t)})},"dir-postpatch"),!o)for(n in a)s[n]||Oe(a[n],"unbind",t)}}function Ae(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Ur),n[ke(i)]=i,i.def=U(e.$options,"directives",i.name,!0);return n}function ke(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Oe(t,e,n,r){var i=t.def&&t.def[e];i&&i(n.elm,t,n,r)}function Ce(t,e){if(t.data.attrs||e.data.attrs){var n,r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};s.__ob__&&(s=e.data.attrs=d({},s));for(n in s)r=s[n],i=a[n],i!==r&&De(o,n,r);for(n in a)null==s[n]&&(Cr(n)?o.removeAttributeNS(Or,Dr(n)):Ar(n)||o.removeAttribute(n))}}function De(t,e,n){kr(e)?Tr(n)?t.removeAttribute(e):t.setAttribute(e,e):Ar(e)?t.setAttribute(e,Tr(n)||"false"===n?"false":"true"):Cr(e)?Tr(n)?t.removeAttributeNS(Or,Dr(e)):t.setAttributeNS(Or,e,n):Tr(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Te(t,e){var n=e.elm,r=e.data,i=t.data;if(r.staticClass||r.class||i&&(i.staticClass||i.class)){var o=Xt(e),a=n._transitionClasses;a&&(o=Qt(o,te(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function $e(t,e){if(t.data.on||e.data.on){var n=e.data.on||{},r=t.data.on||{},i=e.elm._v_add||(e.elm._v_add=function(t,n,r){e.elm.addEventListener(t,n,r)}),o=e.elm._v_remove||(e.elm._v_remove=function(t,n){e.elm.removeEventListener(t,n)});ft(n,r,i,o,e.context)}}function Fe(t,e){if(t.data.domProps||e.data.domProps){var n,r,i=e.elm,o=t.data.domProps||{},a=e.data.domProps||{};a.__ob__&&(a=e.data.domProps=d({},a));for(n in o)null==a[n]&&(i[n]="");for(n in a)if(r=a[n],"textContent"!==n&&"innerHTML"!==n||(e.children&&(e.children.length=0),r!==o[n]))if("value"===n){i._value=r;var s=null==r?"":String(r);i.value===s||i.composing||(i.value=s)}else i[n]=r}}function Pe(t){var e=Se(t.style);return t.staticStyle?d(t.staticStyle,e):e}function Se(t){return Array.isArray(t)?v(t):"string"==typeof t?Zr(t):t}function Ne(t,e){var n,r={};if(e)for(var i=t;i.child;)i=i.child._vnode,i.data&&(n=Pe(i.data))&&d(r,n);(n=Pe(t.data))&&d(r,n);for(var o=t;o=o.parent;)o.data&&(n=Pe(o.data))&&d(r,n);return r}function je(t,e){var n=e.data,r=t.data;if(n.staticStyle||n.style||r.staticStyle||r.style){var i,o,a=e.elm,s=t.data.staticStyle,u=t.data.style||{},c=s||u,l=Se(e.data.style)||{};e.data.style=l.__ob__?d({},l):l;var f=Ne(e,!0);for(o in c)null==f[o]&&Wr(a,o,"");for(o in f)i=f[o],i!==c[o]&&Wr(a,o,null==i?"":i)}}function Re(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+t.getAttribute("class")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Le(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var n=" "+t.getAttribute("class")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");t.setAttribute("class",n.trim())}}function Ie(t){oi(function(){oi(t)})}function Me(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Re(t,e)}function Ue(t,e){t._transitionClasses&&a(t._transitionClasses,e),Le(t,e)}function Be(t,e,n){var r=Ve(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Qr?ni:ii,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}function Ve(t,e){var n,r=window.getComputedStyle(t),i=r[ei+"Delay"].split(", "),o=r[ei+"Duration"].split(", "),a=ze(i,o),s=r[ri+"Delay"].split(", "),u=r[ri+"Duration"].split(", "),c=ze(s,u),l=0,f=0;e===Qr?a>0&&(n=Qr,l=a,f=o.length):e===ti?c>0&&(n=ti,l=c,f=u.length):(l=Math.max(a,c),n=l>0?a>c?Qr:ti:null,f=n?n===Qr?o.length:u.length:0);var d=n===Qr&&ai.test(r[ei+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:d}}function ze(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Ye(e)+Ye(t[n])}))}function Ye(t){return 1e3*Number(t.slice(0,-1))}function He(t){var e=t.elm;e._leaveCb&&(e._leaveCb.cancelled=!0,e._leaveCb());var n=qe(t.data.transition);if(n&&!e._enterCb&&1===e.nodeType){var r=n.css,i=n.type,o=n.enterClass,a=n.enterActiveClass,s=n.appearClass,u=n.appearActiveClass,c=n.beforeEnter,l=n.enter,f=n.afterEnter,d=n.enterCancelled,p=n.beforeAppear,h=n.appear,v=n.afterAppear,m=n.appearCancelled,y=vr.$vnode,g=y&&y.parent?y.parent.context:vr,_=!g._isMounted||!t.isRootInsert;if(!_||h||""===h){var b=_?s:o,w=_?u:a,x=_?p||c:c,E=_&&"function"==typeof h?h:l,A=_?v||f:f,k=_?m||d:d,O=r!==!1&&!Cn,C=E&&(E._length||E.length)>1,D=e._enterCb=We(function(){O&&Ue(e,w),D.cancelled?(O&&Ue(e,b),k&&k(e)):A&&A(e),e._enterCb=null});t.data.show||lt(t.data.hook||(t.data.hook={}),"insert",function(){var n=e.parentNode,r=n&&n._pending&&n._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),E&&E(e,D)},"transition-insert"),x&&x(e),O&&(Me(e,b),Me(e,w),Ie(function(){Ue(e,b),D.cancelled||C||Be(e,i,D)})),t.data.show&&E&&E(e,D),O||C||D()}}}function Ze(t,e){function n(){m.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),c&&c(r),h&&(Me(r,s),Me(r,u),Ie(function(){Ue(r,s),m.cancelled||v||Be(r,a,m)})),l&&l(r,m),h||v||m())}var r=t.elm;r._enterCb&&(r._enterCb.cancelled=!0,r._enterCb());var i=qe(t.data.transition);if(!i)return e();if(!r._leaveCb&&1===r.nodeType){var o=i.css,a=i.type,s=i.leaveClass,u=i.leaveActiveClass,c=i.beforeLeave,l=i.leave,f=i.afterLeave,d=i.leaveCancelled,p=i.delayLeave,h=o!==!1&&!Cn,v=l&&(l._length||l.length)>1,m=r._leaveCb=We(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),h&&Ue(r,u),m.cancelled?(h&&Ue(r,s),d&&d(r)):(e(),f&&f(r)),r._leaveCb=null});p?p(n):n()}}function qe(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&d(e,si(t.name||"v")),d(e,t),e}return"string"==typeof t?si(t):void 0}}function We(t){var e=!1;return function(){e||(e=!0,t())}}function Ge(t,e,r){var i=e.value,o=t.multiple;if(o&&!Array.isArray(i))return void("production"!==n.env.NODE_ENV&&Rn('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),r));for(var a,s,u=0,c=t.options.length;u<c;u++)if(s=t.options[u],o)a=_(i,Ke(s))>-1,s.selected!==a&&(s.selected=a);else if(g(Ke(s),i))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}function Xe(t,e){for(var n=0,r=e.length;n<r;n++)if(g(Ke(e[n]),t))return!1;return!0}function Ke(t){return"_value"in t?t._value:t.value}function Je(t){t.target.composing=!0}function Qe(t){t.target.composing=!1,tn(t.target,"input")}function tn(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function en(t){return!t.child||t.data&&t.data.transition?t:en(t.child._vnode)}function nn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?nn(yt(e.children)):t}function rn(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[vn(o)]=i[o].fn;return e}function on(t,e){return/\d-keep-alive$/.test(e.tag)?t("keep-alive"):null}function an(t){for(;t=t.parent;)if(t.data.transition)return!0}function sn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function un(t){t.data.newPos=t.elm.getBoundingClientRect()}function cn(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var ln,fn,dn=o("slot,component",!0),pn=Object.prototype.hasOwnProperty,hn=/-(\w)/g,vn=c(function(t){return t.replace(hn,function(t,e){return e?e.toUpperCase():""})}),mn=c(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),yn=/([^-])([A-Z])/g,gn=c(function(t){return t.replace(yn,"$1-$2").replace(yn,"$1-$2").toLowerCase()}),_n=Object.prototype.toString,bn="[object Object]",wn=function(){return!1},xn=/[^\w.$]/,En="__proto__"in{},An="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),kn=An&&window.navigator.userAgent.toLowerCase(),On=kn&&/msie|trident/.test(kn),Cn=kn&&kn.indexOf("msie 9.0")>0,Dn=kn&&kn.indexOf("edge/")>0,Tn=kn&&kn.indexOf("android")>0,$n=kn&&/iphone|ipad|ipod|ios/.test(kn),Fn=function(){return void 0===ln&&(ln=!An&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),ln},Pn=An&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Sn=function(){function t(){r=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],r=!1;if("undefined"!=typeof Promise&&E(Promise)){var i=Promise.resolve();e=function(){i.then(t),$n&&setTimeout(m)}}else if("undefined"==typeof MutationObserver||!E(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var o=1,a=new MutationObserver(t),s=document.createTextNode(String(o));a.observe(s,{characterData:!0}),e=function(){o=(o+1)%2,s.data=String(o)}}return function(t,i){var o;if(n.push(function(){t&&t.call(i),o&&o(i)}),r||(r=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){o=t})}}();fn="undefined"!=typeof Set&&E(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return void 0!==this.set[t]},t.prototype.add=function(t){this.set[t]=1},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Nn,jn={optionMergeStrategies:Object.create(null),silent:!1,devtools:"production"!==n.env.NODE_ENV,errorHandler:null,ignoredElements:null,keyCodes:Object.create(null),isReservedTag:wn,isUnknownElement:wn,getTagNamespace:m,mustUseProp:wn,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Rn=m;if("production"!==n.env.NODE_ENV){var Ln="undefined"!=typeof console;Rn=function(t,e){Ln&&!jn.silent&&console.error("[Vue warn]: "+t+" "+(e?In(Nn(e)):""))},Nn=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")};var In=function(t){return"anonymous component"===t&&(t+=' - use the "name" option for better debugging messages.'),"\n(found in "+t+")"}}var Mn=0,Un=function(){this.id=Mn++,this.subs=[]};Un.prototype.addSub=function(t){this.subs.push(t)},Un.prototype.removeSub=function(t){a(this.subs,t)},Un.prototype.depend=function(){Un.target&&Un.target.addDep(this)},Un.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Un.target=null;var Bn=[],Vn=Array.prototype,zn=Object.create(Vn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Vn[t];w(zn,t,function(){for(var n=arguments,r=arguments.length,i=new Array(r);r--;)i[r]=n[r];var o,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":o=i;break;case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Yn=Object.getOwnPropertyNames(zn),Hn={shouldConvert:!0,isSettingProps:!1},Zn=function(t){if(this.value=t,this.dep=new Un,this.vmCount=0,w(t,"__ob__",this),Array.isArray(t)){var e=En?O:C;e(t,zn,Yn),this.observeArray(t)}else this.walk(t)};Zn.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)T(t,e[n],t[e[n]])},Zn.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)D(t[e])};var qn=jn.optionMergeStrategies;"production"!==n.env.NODE_ENV&&(qn.el=qn.propsData=function(t,e,n,r){return n||Rn('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Gn(t,e)}),qn.data=function(t,e,r){return r?t||e?function(){var n="function"==typeof e?e.call(r):e,i="function"==typeof t?t.call(r):void 0;return n?S(n,i):i}:void 0:e?"function"!=typeof e?("production"!==n.env.NODE_ENV&&Rn('The "data" option should be a function that returns a per-instance value in component definitions.',r),t):t?function(){return S(e.call(this),t.call(this))}:e:t},jn._lifecycleHooks.forEach(function(t){qn[t]=N}),jn._assetTypes.forEach(function(t){qn[t+"s"]=j}),qn.watch=function(t,e){if(!e)return t;if(!t)return e;var n={};d(n,t);for(var r in e){var i=n[r],o=e[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):[o]}return n},qn.props=qn.methods=qn.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return d(n,t),d(n,e),n};var Wn,Gn=function(t,e){return void 0===e?t:e},Xn=Object.freeze({defineReactive:T,_toString:r,toNumber:i,makeMap:o,isBuiltInTag:dn,remove:a,hasOwn:s,isPrimitive:u,cached:c,camelize:vn,capitalize:mn,hyphenate:gn,bind:l,toArray:f,extend:d,isObject:p,isPlainObject:h,toObject:v,noop:m,no:wn,genStaticKeys:y,looseEqual:g,looseIndexOf:_,isReserved:b,def:w,parsePath:x,hasProto:En,inBrowser:An,UA:kn,isIE:On,isIE9:Cn,isEdge:Dn,isAndroid:Tn,isIOS:$n,isServerRendering:Fn,devtools:Pn,nextTick:Sn,get _Set(){return fn},mergeOptions:M,resolveAsset:U,get warn(){return Rn},get formatComponentName(){return Nn},validateProp:B});if("production"!==n.env.NODE_ENV){var Kn=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Jn=function(t,e){Rn('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',t)},Qn="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/),tr={has:function t(e,n){var t=n in e,r=Kn(n)||"_"===n.charAt(0);return t||r||Jn(e,n),t||!r}},er={get:function(t,e){return"string"!=typeof e||e in t||Jn(t,e),t[e]}};Wn=function(t){if(Qn){var e=t.$options,n=e.render&&e.render._withStripped?er:tr;t._renderProxy=new Proxy(t,n)}else t._renderProxy=t}}var nr=[],rr={},ir={},or=!1,ar=!1,sr=0,ur=0,cr=function(t,e,r,i){void 0===i&&(i={}),this.vm=t,t._watchers.push(this),this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.expression=e.toString(),this.cb=r,this.id=++ur,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fn,this.newDepIds=new fn,"function"==typeof e?this.getter=e:(this.getter=x(e),this.getter||(this.getter=function(){},"production"!==n.env.NODE_ENV&&Rn('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};cr.prototype.get=function(){A(this);var t=this.getter.call(this.vm,this.vm);return this.deep&&X(t),k(),this.cleanupDeps(),t},cr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},cr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},cr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():G(this)},cr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||p(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){if("production"!==n.env.NODE_ENV&&Rn('Error in watcher "'+this.expression+'"',this.vm),!jn.errorHandler)throw t;jn.errorHandler.call(null,t,this.vm)}else this.cb.call(this.vm,t,e)}}},cr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},cr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||a(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var lr=new fn,fr=o("key,ref,slot"),dr={enumerable:!0,configurable:!0,get:m,set:m},pr=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=o,this.context=a,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=s,this.child=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},hr=function(){var t=new pr;return t.text="",t.isComment=!0,t},vr=null,mr={init:At,prepatch:kt,insert:Ot,destroy:Ct},yr=Object.keys(mr),gr=0;Ut(zt),at(zt),Mt(zt),_t(zt),Rt(zt);var _r=[String,RegExp],br={name:"keep-alive",abstract:!0,props:{include:_r,exclude:_r},created:function(){this.cache=Object.create(null)},render:function(){var t=yt(this.$slots.default);if(t&&t.componentOptions){var e=t.componentOptions,n=e.Ctor.options.name||e.tag;if(n&&(this.include&&!Wt(this.include,n)||this.exclude&&Wt(this.exclude,n)))return t;var r=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[r]?t.child=this.cache[r].child:this.cache[r]=t,t.data.keepAlive=!0}return t},destroyed:function(){var t=this;for(var e in this.cache){var n=t.cache[e];bt(n.child,"deactivated"),n.child.$destroy()}}},wr={KeepAlive:br};Gt(zt),Object.defineProperty(zt.prototype,"$isServer",{get:Fn}),zt.version="2.1.3";var xr,Er=function(t,e){return"value"===e&&("input"===t||"textarea"===t||"option"===t)||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},Ar=o("contenteditable,draggable,spellcheck"),kr=o("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Or=(o("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,<th>,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap"),"http://www.w3.org/1999/xlink"),Cr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Dr=function(t){return Cr(t)?t.slice(6,t.length):""},Tr=function(t){return null==t||t===!1},$r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML",xhtml:"http://www.w3.org/1999/xhtml"},Fr=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Pr=(o("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr",!0),o("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source",!0),o("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track",!0),o("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0)),Sr=function(t){return Fr(t)||Pr(t)},Nr=Object.create(null),jr=Object.freeze({createElement:ie,createElementNS:oe,createTextNode:ae,createComment:se,insertBefore:ue,removeChild:ce,appendChild:le,parentNode:fe,nextSibling:de,tagName:pe,setTextContent:he,childNodes:ve,setAttribute:me}),Rr={create:function(t,e){ye(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ye(t,!0),ye(e))},destroy:function(t){ye(t,!0)}},Lr=new pr("",{},[]),Ir=["create","update","remove","destroy"],Mr={create:Ee,update:Ee,destroy:function(t){Ee(t,Lr)}},Ur=Object.create(null),Br=[Rr,Mr],Vr={create:Ce,update:Ce},zr={create:Te,update:Te},Yr={create:$e,update:$e},Hr={create:Fe,update:Fe},Zr=c(function(t){var e={},n=t.indexOf("background")>=0,r=n?/;(?![^(]*\))/g:";",i=n?/:(.+)/:":";return t.split(r).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),qr=/^--/,Wr=function(t,e,n){qr.test(e)?t.style.setProperty(e,n):t.style[Xr(e)]=n},Gr=["Webkit","Moz","ms"],Xr=c(function(t){if(xr=xr||document.createElement("div"),t=vn(t),"filter"!==t&&t in xr.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Gr.length;n++){var r=Gr[n]+e;if(r in xr.style)return r}}),Kr={create:je,update:je},Jr=An&&!Cn,Qr="transition",ti="animation",ei="transition",ni="transitionend",ri="animation",ii="animationend";Jr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ei="WebkitTransition",ni="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ri="WebkitAnimation",ii="webkitAnimationEnd"));var oi=An&&window.requestAnimationFrame||setTimeout,ai=/\b(transform|all)(,|$)/,si=c(function(t){return{enterClass:t+"-enter",leaveClass:t+"-leave",appearClass:t+"-enter",enterActiveClass:t+"-enter-active",leaveActiveClass:t+"-leave-active",appearActiveClass:t+"-enter-active"}}),ui=An?{create:function(t,e){e.data.show||He(e)},remove:function(t,e){t.data.show?e():Ze(t,e)}}:{},ci=[Vr,zr,Yr,Hr,Kr,ui],li=ci.concat(Br),fi=xe({nodeOps:jr,modules:li}),di=/^input|select|textarea|vue-component-[0-9]+(-[0-9a-zA-Z_-]*)?$/;Cn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&tn(t,"input")});var pi={inserted:function(t,e,r){if("production"!==n.env.NODE_ENV&&(di.test(r.tag)||Rn("v-model is not supported on element type: <"+r.tag+">. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",r.context)),"select"===r.tag){var i=function(){Ge(t,e,r.context)};i(),(On||Dn)&&setTimeout(i,0)}else"textarea"!==r.tag&&"text"!==t.type||e.modifiers.lazy||(Tn||(t.addEventListener("compositionstart",Je),t.addEventListener("compositionend",Qe)),Cn&&(t.vmodel=!0))},componentUpdated:function(t,e,n){if("select"===n.tag){Ge(t,e,n.context);var r=t.multiple?e.value.some(function(e){return Xe(e,t.options)}):e.value!==e.oldValue&&Xe(e.value,t.options);r&&tn(t,"change")}}},hi={bind:function(t,e,n){var r=e.value;n=en(n);var i=n.data&&n.data.transition;r&&i&&!Cn&&He(n);var o="none"===t.style.display?"":t.style.display;t.style.display=r?o:"none",t.__vOriginalDisplay=o},update:function(t,e,n){var r=e.value,i=e.oldValue;if(r!==i){n=en(n);var o=n.data&&n.data.transition;o&&!Cn?r?(He(n),t.style.display=t.__vOriginalDisplay):Ze(n,function(){t.style.display="none"}):t.style.display=r?t.__vOriginalDisplay:"none"}}},vi={model:pi,show:hi},mi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String},yi={name:"transition",props:mi,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag}),r.length)){"production"!==n.env.NODE_ENV&&r.length>1&&Rn("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;"production"!==n.env.NODE_ENV&&i&&"in-out"!==i&&"out-in"!==i&&Rn("invalid <transition> mode: "+i,this.$parent);var o=r[0];if(an(this.$vnode))return o;var a=nn(o);if(!a)return o;if(this._leaving)return on(t,o);var s=a.key=null==a.key||a.isStatic?"__v"+(a.tag+this._uid)+"__":a.key,u=(a.data||(a.data={})).transition=rn(this),c=this._vnode,l=nn(c);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),l&&l.data&&l.key!==s){var f=l.data.transition=d({},u);if("out-in"===i)return this._leaving=!0,lt(f,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()},s),on(t,o);if("in-out"===i){var p,h=function(){p()};lt(u,"afterEnter",h,s),lt(u,"enterCancelled",h,s),lt(f,"delayLeave",function(t){p=t},s)}}return o}}},gi=d({tag:String,moveClass:String},mi);delete gi.mode;var _i={props:gi,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=rn(this),u=0;u<o.length;u++){var c=o[u];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))a.push(c),r[c.key]=c,(c.data||(c.data={})).transition=s;else if("production"!==n.env.NODE_ENV){var l=c.componentOptions,f=l?l.Ctor.options.name||l.tag:c.tag;Rn("<transition-group> children must be keyed: <"+f+">")}}if(i){for(var d=[],p=[],h=0;h<i.length;h++){var v=i[h];v.data.transition=s,v.data.pos=v.elm.getBoundingClientRect(),r[v.key]?d.push(v):p.push(v)}this.kept=t(e,null,d),this.removed=p}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(sn),t.forEach(un),t.forEach(cn);document.body.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Me(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ni,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ni,t),n._moveCb=null,Ue(n,e))})}})}},methods:{hasMove:function(t,e){if(!Jr)return!1;if(null!=this._hasMove)return this._hasMove;Me(t,e);var n=Ve(t);return Ue(t,e),this._hasMove=n.hasTransform}}},bi={Transition:yi,TransitionGroup:_i};zt.config.isUnknownElement=ne,zt.config.isReservedTag=Sr,zt.config.getTagNamespace=ee,zt.config.mustUseProp=Er,d(zt.options.directives,vi),d(zt.options.components,bi),zt.prototype.__patch__=An?fi:m,zt.prototype.$mount=function(t,e){return t=t&&An?re(t):void 0,this._mount(t,e)},setTimeout(function(){jn.devtools&&(Pn?Pn.emit("init",zt):"production"!==n.env.NODE_ENV&&An&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console.log("Download the Vue Devtools for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0),t.exports=zt}).call(e,function(){return this}(),n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=h.length;e;){for(p=h,h=[];++m<e;)p&&p[m].run();m=-1,e=h.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r,i;n(4),r=n(14);var o=n(102);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.i(n(7),""),e.push([t.id,"footer:after,header:after{content:' ';display:table;clear:both}.expand-y-enter-active,.expand-y-leave-active,.modal-enter-active,.modal-leave-active,.player-more-enter-active,.player-more-leave-active{transition:transform .3s ease}.expand-y-enter,.expand-y-leave-active,.modal-enter,.modal-leave-active,.player-more-enter,.player-more-leave-active{transform:scaleY(0)}.player-more-enter,.player-more-enter-active,.player-more-leave-active{transform-origin:center top}#body,.app,body,html{width:100%;height:100%;margin:0}body{font-size:14px;font-family:Arial,Helvetica,sans-serif;line-height:18px}*{box-sizing:border-box}.app{display:flex;flex-direction:column}footer,header{width:100%;background-color:#1161b3}footer .left,header .left{float:left}footer .right,header .right{float:right}footer .center,header .center{margin:auto;text-align:center}footer .mobile-row,header .mobile-row{display:inline-block}@media (max-width:540px){footer .mobile-row,header .mobile-row{padding-bottom:10px;display:block}footer .mobile-row:last-child,header .mobile-row:last-child{padding-bottom:0}}.lyric-editor{flex:1;overflow:auto}.form-group{display:flex;padding:5px 0;align-items:center}.form-group label{vertical-align:middle;padding-right:10px}.form-group input{flex:1;height:30px;border:1px solid #d6d6d6;padding:0 3px;border-radius:5px}.menu-item{display:inline-block;color:#fff;height:40px;line-height:40px;padding:0 8px;cursor:pointer}.menu-item:hover{background-color:#0d4884}.btn{border-radius:5px;display:inline-block;padding:6px;font-weight:bolder;cursor:pointer;text-decoration:none;user-select:none;background:#1161b3;color:#fff}.btn:hover{background-color:#124b86}.btn.white,footer .btn,header .btn{background:#fff;color:#1161b3}.btn.white:hover,footer .btn:hover,header .btn:hover{background-color:#e8e1e1}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"@font-face{font-family:fontello;src:url("+n(8)+");src:url("+n(8)+"#iefix) format('embedded-opentype'),url("+n(9)+") format('woff2'),url("+n(10)+") format('woff'),url("+n(11)+") format('truetype'),url("+n(12)+"#fontello) format('svg');font-weight:400;font-style:normal}[class*=\" icon-\"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-edit:before{content:'\\E800'}.icon-save:before{content:'\\E801'}.icon-trash:before{content:'\\E802'}.icon-download:before{content:'\\E803'}.icon-upload:before{content:'\\E804'}.icon-right:before{content:'\\E805'}.icon-left:before{content:'\\E806'}.icon-up:before{content:'\\E807'}.icon-down:before{content:'\\E808'}.icon-volume-off:before{content:'\\E809'}.icon-volume-up:before{content:'\\E80A'}.icon-plus:before{content:'\\E80D'}.icon-cancel:before{content:'\\E80E'}.icon-ellipsis-vert:before{content:'\\E80F'}.icon-info:before{content:'\\E810'}.icon-help-circled:before{content:'\\E811'}.icon-play:before{content:'\\E812'}.icon-pause:before{content:'\\E813'}.icon-forward:before{content:'\\E814'}.icon-backward:before{content:'\\E815'}.icon-stop:before{content:'\\E816'}",""]);
},function(t,e,n){t.exports=n.p+"2bb4ae08084b7a900bfe1c703c988f34.eot"},function(t,e,n){t.exports=n.p+"f313a0f987672dc77a8c243380e2089e.woff2"},function(t,e,n){t.exports=n.p+"4cc930163f6d5088dfa5fef619d87cb9.woff"},function(t,e,n){t.exports=n.p+"b483544303fcfc7e1e34159a411fcdcb.ttf"},function(t,e,n){t.exports=n.p+"f4037f8d16f43379b18020706bdc9567.svg"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=h(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var n,r,i;if(e.singleton){var o=m++;n=v||(v=s(e)),r=c.bind(null,n,o,!1),i=c.bind(null,n,o,!0)}else n=s(e),r=l.bind(null,n),i=function(){a(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function c(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function l(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=f[s.id];u.refs--,o.push(u)}if(t){var c=i(t);r(c,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(20),s=r(a),u=n(51),c=r(u),l=n(73),f=r(l),d=n(95),p=r(d),h=n(55),v=n(48),m=r(v);e.default={data:function(){var t=m.default.lrcFormat;return{musicUrl:"",editing:m.default.editing,lrcFormat:t,runner:new h.Runner(h.Lrc.parse(t)),lyricArray:m.default.lyricArray}},created:function(){window.$App=this},methods:{uploadMusic:function(t){this.$refs.player.src=t},removeLyric:function(){this.lrcFormat="",this.lyricArray=[],this.runner=new h.Runner},playto:function(t){this.$refs.player.playto(t)},timeupdate:function(t){this.$refs.lyric.$emit("timeupdate",t)}},watch:{editing:function(t){m.default.editing=t},lrcFormat:function(t){m.default.lrcFormat=t,this.runner=new h.Runner(h.Lrc.parse(this.lrcFormat))},lyricArray:{deep:!0,handler:function(){m.default.lyricArray=this.lyricArray}}},components:{Upload:o.default,Player:s.default,LyricEditor:c.default,Modals:f.default,NavMenu:p.default}}},function(t,e,n){var r,i;n(16),r=n(18);var o=n(19);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-27024123",t.exports=r},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"input[type=file][data-v-27024123]{display:none}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this,e=this.$refs.upload;e.addEventListener("change",function(){var n=new FileReader;n.onload=function(e){t.$emit("uploaded",e.target.result)},e.files.length>0&&t.type_match()&&n["readAs"+t.readFormat](e.files[0])})},props:{type:{type:String},readFormat:{type:String,default:"Text"},accept:{type:String,default:""}},methods:{upload:function(){this.$refs.upload.click()},type_match:function(){if(this.type){var t=new RegExp("^"+this.type+"/");return t.test(this.$refs.upload.files[0].type)}return!0}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{on:{click:t.upload}},[t._h("i",{staticClass:"icon-upload"})," ",t._t("default")," ",t._h("input",{ref:"upload",attrs:{type:"file",accept:t.accept}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(21),r=n(23);var o=n(50);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-9b2943fa",t.exports=r},function(t,e,n){var r=n(22);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".root[data-v-9b2943fa]{height:30px}.root.mobile[data-v-9b2943fa]{height:60px}.more[data-v-9b2943fa],.player[data-v-9b2943fa],.sound[data-v-9b2943fa]{display:flex;align-items:center;justify-content:space-between}.more[data-v-9b2943fa],.player[data-v-9b2943fa]{background:#d0dae4;color:#1161b3;height:30px}.ctrl-btn[data-v-9b2943fa]{font-size:20px;padding:0 1px}.range[data-v-9b2943fa]{margin-left:4px;margin-right:4px}.range.music[data-v-9b2943fa]{flex:1}time-panel[data-v-9b2943fa]{padding:0 5px}.more[data-v-9b2943fa]{height:30px;justify-content:flex-end;position:relative;z-index:10}.mobile .more[data-v-9b2943fa]{justify-content:space-between}.sound[data-v-9b2943fa]{padding:0 5px;width:30%}.sound .range.volume[data-v-9b2943fa]{flex:1}.sound .ctrl-mute-btn[data-v-9b2943fa]{width:26px;font-size:18px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),a=n(44),s=r(a),u=n(28);e.default={data:function(){return{hover:!1,isMobile:u.isMobile,process:0,muted:!1,paused:!0,currentTime:0,duration:0,volume:0,src:"",audio:null}},methods:{seek:function(t){this.playto(parseFloat(t*this.audio.duration))},volumeSeek:function(t){this.audio.volume=this.volume=t},playto:function(t){var e=this;this.paused&&(this.paused=!1),this.$nextTick(function(){e.currentTime=e.audio.currentTime=t})}},mounted:function(){var t=this;this.audio=document.createElement("video"),this.audio.preload="metadata",this.audio.addEventListener("durationchange",function(){t.duration=t.audio.duration}),this.audio.addEventListener("timeupdate",function(){t.currentTime=t.audio.currentTime,t.process=t.currentTime/t.duration,t.$emit("timeupdate",t.currentTime)}),this.audio.addEventListener("ended",function(){t.$emit("timeupdate",t.currentTime),t.process=0,t.paused=!0}),u.globalKeydown.on("space",function(){return t.paused=!t.paused,!1}).on("arrowleft",function(e){return t.$emit("backward"),!1}).on("arrowright",function(e){return t.$emit("forward"),!1}),this.$on("backward",function(){t.playto(t.audio.currentTime-5)}).$on("forward",function(){t.playto(t.audio.currentTime+5)})},watch:{src:{immediate:!0,handler:function(t){t&&(this.paused=!0,this.audio.src=t,this.process=0,this.volume=this.audio.volume,this.currentTime=this.audio.currentTime,this.duration=this.audio.duration)}},process:function(t){this.$refs.musicRange.changeValue(this.process)},volume:function(t){this.$refs.soundRange.changeValue(this.volume)},muted:function(t){this.audio.muted=t},paused:function(){this.paused?this.audio.pause():this.audio.play()}},components:{Range:o.default,TimePanel:s.default}}},function(t,e,n){var r,i;n(25),r=n(27);var o=n(43);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-50bb530b",t.exports=r},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".bar[data-v-50bb530b]{position:relative;height:10px}.wrap[data-v-50bb530b]{width:100%;height:100%;background-color:#123b5d;border-radius:5px;overflow:hidden}.value[data-v-50bb530b]{height:100%;background-color:#1161b3}.thumb[data-v-50bb530b]{cursor:move;position:absolute;top:-3px;width:10px;height:16px;background:#fff;box-shadow:inset -1px -1px 5px -2px #0b2031;border-radius:16px;transform:translateX(-5px)}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{selfValue:0,draging:!1,dragValue:0}},props:{value:{type:Number,default:0,validator:function(t){return t>=0&&t<=1}}},methods:{click:function(t){t.target!==this.$refs.thumb&&(this.selfValue=this.offset2value(t.offsetX),this.emitSeek())},emitSeek:function(){this.$emit("seek",this.selfValue)},emitDragSeek:function(){this.$emit("drag-seek",this.selfValue)},offset2value:function(t){return t/this.$refs.bar.clientWidth},changeValue:function(t){this.draging||(this.selfValue=t)}},mounted:function(){var t=this,e=this.$refs.thumb,n=this.$refs.bar,i=new r.Dragger(e,n);i.on("start",function(){t.draging=!0}).on("move",function(){t.selfValue=t.offset2value(i.offset),t.emitDragSeek()}).on("end",function(){t.draging=!1,t.selfValue=t.offset2value(i.offset),t.emitSeek()}),i.create()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){D?m.default.saveAs(new Blob([t],{type:"text/plain;charset=utf-8"}),e+".lrc"):alert("Please upgrade your browser")}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(t=0);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(t=t.toString();t.split(".")[0].length<e;)t="0"+t;return t};return e?n(parseInt(t/60,10))+":"+n(parseInt(t%60,10)):n(parseInt(t/60,10))+":"+n((t%60).toFixed(2),2)}function c(t){var e=t.split(":"),n=l(e,2),r=n[0],i=n[1];return 60*parseInt(r,10)+parseFloat(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipPosition=e.Dragger=e.globalKeydown=e.cache=e.Cache=e.DelayHover=e.Scroller=e.EventEmitter=e.isMobile=void 0;var l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};e.saveLrc=s,e.timestamp2timestr=u,e.timestr2timestamp=c;var p=n(29),h=r(p),v=n(30),m=r(v),y=n(33),g=r(y),_=n(36),b=r(_),w=n(37),x=r(w),E=n(38),A=r(E),k=e.isMobile="ontouchstart"in window,O=e.EventEmitter=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),f(e,[{key:"on",value:function(t){for(var n=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(b.default.array(t))t.forEach(function(t){var r;(r=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",n)).call.apply(r,[n,t].concat(i))});else{var a;(a=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",this)).call.apply(a,[this,t].concat(i))}return this}}]),e}(h.default),C=(e.Scroller=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.timer=[],this.scrollableStartTime=new Date,this.viewport=e,this.config=(0,x.default)({delay:3,time:1,step:100},r),this.viewport.addEventListener("scroll",function(){n.isCanScroll()||n.letDelay()})}return f(t,[{key:"letDelay",value:function(){this.scrollableStartTime=Date.now()+1e3*this.config.delay}},{key:"clearTimer",value:function(){this.timer.forEach(function(t){return clearTimeout(t)}),this.timer=[]}},{key:"isCanScroll",value:function(){return Date.now()>this.scrollableStartTime}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isCanScroll()||n!==!1){this.clearTimer();var r=this.viewport.scrollTop,i=t,o=i-r;if(0!==o)for(var a=o/this.config.step,s=r,u=1;u<this.config.step;++u)!function(t){e.timer.push(setTimeout(function(){s!==e.viewport.scrollTop?(e.clearTimer(),e.letDelay()):(e.viewport.scrollTop=r+a*t,s=e.viewport.scrollTop)},1e3*e.config.time*t/e.config.step))}(u)}}}]),t}(),e.DelayHover=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.enterTimer=null,r.leaveTimer=null,r.show=!1,r.element=t,r.cfg=(0,x.default)({enterDelay:.5,leaveDelay:.3,unique:!0},n),r.hover(function(){r.show=!0},function(){r.show=!1}),k?r.element.addEventListener("click",function(){r.show?r.emit("leave"):(r.closeLastHover(),r.emit("enter"))}):(r.element.addEventListener("mouseenter",function(){r.clearLeaveTimer(),r.enterTimer=setTimeout(function(){r.closeLastHover(),e.LastHover=r,r.emit("enter")},1e3*r.cfg.enterDelay)}),r.element.addEventListener("mouseleave",function(){r.clearEnterTimer(),r.leaveTimer=setTimeout(function(){r.emit("leave")},1e3*r.cfg.leaveDelay)})),r}return a(e,t),f(e,[{key:"closeLastHover",value:function(){this.cfg.unique&&e.LastHover&&e.LastHover!=this&&e.LastHover.emit("leave")}},{key:"clearLeaveTimer",value:function(){null!==this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null)}},{key:"clearEnterTimer",value:function(){null!==this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=null)}},{key:"hover",value:function(t,e){this.on("enter",t).on("leave",e)}}]),e}(O));C.LastHover=null;var D;try{D=!!new Blob}catch(t){D=!1}var T=e.Cache=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lrc";i(this,t),this.version=2,this.prefix=e}return f(t,[{key:"read",value:function(){var t;if(this.prefix in localStorage){try{t=JSON.parse(localStorage[this.prefix])}catch(t){console.error(t)}if(t.$version===this.version)return t}return{}}},{key:"write",value:function(t){t.$version=this.version,localStorage[this.prefix]=JSON.stringify(t)}},{key:"get",value:function(t,e){var n=this.read();return t in n?n[t]:e}},{key:"set",value:function(t,e){var n=this.read();n[t]=e;try{this.write(n)}catch(t){console.error(t)}}}]),t}(),$=(e.cache=new T,e.globalKeydown=new O);window.addEventListener("keydown",function(t){if(!/(input|select|option|textarea)/.test(t.target.tagName.toLowerCase())){var e=t.code.toLowerCase(),n=$.listeners(e).map(function(e){return e(t)===!1});if(n.length){var r=!1;n.forEach(function(t){t&&(r=!0)}),r&&t.preventDefault()}}});e.Dragger=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.ee=new O,r.element=t,r.container=n,r}return a(e,t),f(e,[{key:"on",value:function(){var t;return(t=this.ee).on.apply(t,arguments)}},{key:"emit",value:function(){var t;return(t=this.ee).emit.apply(t,arguments)}},{key:"create",value:function(){this.handles=[this.element],this.bindHandles()}},{key:"dragStart",value:function(t){this.dragStartPoint.left=this.element.offsetLeft,this.emit("start",t)}},{key:"dragMove",value:function(t,e,n){this.offset=this.dragStartPoint.left+n.x,this.offset<0?this.offset=0:this.offset>this.container.clientWidth&&(this.offset=this.container.clientWidth),this.emit("move",t,e,n)}},{key:"dragEnd",value:function(t,e){this.emit("end",t,e)}}]),e}(g.default),e.TooltipPosition=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";i(this,t),this.dirs=["bottom","right","top","left"],this.target=e,this.tooltip=n,this.viewport=document.documentElement,this.generateDirs(r)}return f(t,[{key:"generateDirs",value:function(t){var e=this.dirs.indexOf(t);this.dirs.splice(e,1),this.dirs.unshift(t)}},{key:"checkRectOverflow",value:function(t){return t.left>=0&&t.top>=0&&t.right<=this.viewport.clientWidth&&t.bottom<=this.viewport.clientHeight}},{key:"rectOverflowCount",value:function(t){var e=function(t){return t<0?t:0};return e(t.left)+e(t.top)+e(this.viewport.clientWidth-t.right)+e(this.viewport.clientHeight-t.bottom)}},{key:"position",value:function(){for(var t=this.target.getBoundingClientRect(),e=this.tooltip.clientWidth,n=this.tooltip.clientHeight,r={width:e,height:n},i=[],o=0;o<this.dirs.length;++o){var a=this.dirs[o];switch(this.dirs[o]){case"bottom":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.bottom,r.bottom=t.bottom+n;break;case"top":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.top-n,r.bottom=t.top;break;case"left":r.left=t.left-e,r.right=t.left,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n;break;case"right":r.left=t.right,r.right=t.right+e,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n}i.push([this.rectOverflowCount(r),a,(0,A.default)(r)])}return i.sort(function(t,e){return e[0]-t[0]}),{dir:i[0][1],rect:i[0][2]}}}]),t}()},function(t,e,n){var r;!function(i){function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==i?t.maxListeners:d,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=d}function s(t,e){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,t,e)):console.error(n,t),console.trace&&console.trace()}function u(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function c(t,e,n,r){if(!n)return[];var i,o,a,s,u,l,f,d=[],p=e.length,h=e[r],v=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(c(t,e,n[a],r+1)));return d}if("**"===h){f=r+1===p||r+2===p&&"*"===v,f&&n._listeners&&(d=d.concat(c(t,e,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(d=d.concat(c(t,e,n[a],p))),d=d.concat(c(t,e,n[a],r))):d=a===v?d.concat(c(t,e,n[a],r+2)):d.concat(c(t,e,n[a],r)));return d}d=d.concat(c(t,e,n[h],r+1))}if(s=n["*"],s&&c(t,e,s,r+1),u=n["**"])if(r<p){u._listeners&&c(t,e,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?c(t,e,u[a],r+2):a===h?c(t,e,u[a],r+1):(l={},l[a]=u[a],c(t,e,{"**":l},r+1)))}else u._listeners?c(t,e,u,p):u["*"]&&u["*"]._listeners&&c(t,e,u["*"],p);return d}function l(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;n+1<r;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,a=t.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===t.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(e),!o._listeners.warned&&this._events.maxListeners>0&&o._listeners.length>this._events.maxListeners&&(o._listeners.warned=!0,s.call(this,o._listeners.length,a))):o._listeners=e,!0;a=t.shift()}return!0}var f=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==i&&(this._events||o.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(t,e){return this.many(t,1,e),this},u.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},u.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,r,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this,t);break;case 2:a[r].call(this,t,arguments[1]);break;case 3:a[r].call(this,t,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}}if(this.wildcard){a=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,a,u,this.listenerTree,0)}else{if(a=this._events[t],"function"==typeof a){switch(this.event=t,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];a.apply(this,e)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,r,i,a,s=[],u=arguments.length;if(this._all){if(u>3)for(e=new Array(u),i=1;i<u;i++)e[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=t,u){case 1:s.push(this._all[r].call(this,t));break;case 2:s.push(this._all[r].call(this,t,arguments[1]));break;case 3:s.push(this._all[r].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,e))}}if(this.wildcard){a=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,a,l,this.listenerTree,0)}else a=this._events[t];if("function"==typeof a)switch(this.event=t,u){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];s.push(a.apply(this,e))}else if(a&&a.length){if(u>3)for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,u){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(l.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),this._events[t].push(e),!this._events[t].warned&&this._events.maxListeners>0&&this._events[t].length>this._events.maxListeners&&(this._events[t].warned=!0,s.call(this,this._events[t].length,t))):this._events[t]=e,this)},u.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,e){function n(t){if(t!==i){var e=Object.keys(t);for(var r in e){var o=e[r],a=t[o];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&n(t[o]),0===Object.keys(a).length&&delete t[o])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,o=[];if(this.wildcard){var a="string"==typeof t?t.split(this.delimiter):t.slice();o=c.call(this,null,a,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],o.push({_listeners:r})}for(var s=0;s<o.length;s++){var u=o[s];if(r=u._listeners,f(r)){for(var l=-1,d=0,p=r.length;d<p;d++)if(r[d]===e||r[d].listener&&r[d].listener===e||r[d]._origin&&r[d]._origin===e){l=d;break}if(l<0)continue;return this.wildcard?u._listeners.splice(l,1):this._events[t].splice(l,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete u._listeners:delete this._events[t],this.emit("removeListener",t,e))}return n(this.listenerTree),this},u.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;n<r;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,r=e.length;n<r;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=c.call(this,null,e,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[t]=null);return this},u.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return c.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),f(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},u.prototype.listenerCount=function(t){return this.listeners(t).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(e,n,e,t),!(r!==i&&(t.exports=r))}()},function(t,e,n){var r,i,o=o||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=0,f=500,d=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,f)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){u(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},v=function(e,u,f){f||(e=h(e));var v,m,y,g=this,_=e.type,b=!1,w=function(){p(g,"writestart progress write writeend".split(" "))},x=function(){if(!b&&v||(v=n().createObjectURL(e)),m)m.location.href=v;else{var r=t.open(v,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=v)}g.readyState=g.DONE,w(),d(v)},E=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},A={create:!0,exclusive:!1};return g.readyState=g.INIT,u||(u="download"),i?(v=n().createObjectURL(e),r.href=v,r.download=u,void setTimeout(function(){o(r),w(),d(v),g.readyState=g.DONE})):(t.chrome&&_&&_!==c&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,c),b=!0),a&&"download"!==u&&(u+=".download"),(_===c||a)&&(m=t),s?(l+=e.size,void s(t.TEMPORARY,l,E(function(t){t.root.getDirectory("saved",A,E(function(t){var n=function(){t.getFile(u,A,E(function(t){t.createWriter(E(function(n){n.onwriteend=function(e){m.location.href=t.toURL(),g.readyState=g.DONE,p(g,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};t.getFile(u,{create:!1},E(function(t){t.remove(),n()}),E(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},m=v.prototype,y=function(t,e,n){return new v(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(m.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=o:null!==n(31)&&null!=n(32)&&(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r,i;/*!
	 * Unidragger v2.1.0
	 * Draggable base class
	 * MIT license
	 */
!function(o,a){r=[n(34)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)};var o=t.navigator;return i._bindHandles=function(t){t=void 0===t||!!t;var e;e=o.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:o.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:n;for(var r=t?"addEventListener":"removeEventListener",i=0;i<this.handles.length;i++){var a=this.handles[i];this._bindStartEvent(a,t),e(a),a[r]("click",this)}},i.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},i._dragPointerDown=function(t,n){this.pointerDownPoint=e.getPointerPoint(n);var r=this.canPreventDefaultOnPointerDown(t,n);r&&t.preventDefault()},i.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},i.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},i._dragPointerMove=function(t,n){var r=e.getPointerPoint(n),i={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,n),i},i.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,n){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(t,n)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},i.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var n=t.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},r.getPointerPoint=e.getPointerPoint,r})},function(t,e,n){var r,i;/*!
	 * Unipointer v2.1.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(o,a){r=[n(35)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var r=n?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[r]("pointerdown",this):t.navigator.msPointerEnabled?e[r]("MSPointerDown",this):(e[r]("mousedown",this),e[r]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onMSPointerDown=i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return i._bindPostStartEvents=function(e){if(e){var n=o[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onMSPointerMove=i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onMSPointerUp=i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onMSPointerCancel=i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},r.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},r})},function(t,e,n){var r,i;!function(o,a){r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return r.indexOf(e)==-1&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},r=n[t]=n[t]||{};return r[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return r!=-1&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=0,i=n[r];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];i;){var a=o&&o[i];a&&(this.off(t,i),delete o[i]),i.apply(this,e),r+=a?0:1,i=n[r]}return this}},t})},function(t,e,n){var r;(function(i){!function(i,o){r=function(){return i.is=o()}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this,function(){function t(t){return function(){return!t.apply(null,l.call(arguments))}}function e(t){return function(){var e=l.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(!t.call(null,e[r]))return!1;return!0}}function n(t){return function(){var e=l.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(t.call(null,e[r]))return!0;return!1}}function r(t,e){u[t]=function(n){return e[t].test(n)}}function o(){var r=u;for(var i in r)if(f.call(r,i)&&u.function(r[i]))for(var o=r[i].api||["not","all","any"],a=0;a<o.length;a++)"not"===o[a]&&(u.not[i]=t(u[i])),"all"===o[a]&&(u.all[i]=e(u[i])),"any"===o[a]&&(u.any[i]=n(u[i]))}var a=this||i,s=a.is,u={};u.VERSION="0.8.0",u.not={},u.all={},u.any={};var c=Object.prototype.toString,l=Array.prototype.slice,f=Object.prototype.hasOwnProperty;u.arguments=function(t){return u.not.null(t)&&("[object Arguments]"===c.call(t)||"object"==typeof t&&"callee"in t)},u.array=Array.isArray||function(t){return"[object Array]"===c.call(t)},u.boolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},u.date=function(t){return"[object Date]"===c.call(t)},u.error=function(t){return"[object Error]"===c.call(t)},u.function=function(t){return"[object Function]"===c.call(t)||"function"==typeof t},u.nan=function(t){return t!==t},u.null=function(t){return null===t},u.number=function(t){return u.not.nan(t)&&"[object Number]"===c.call(t)},u.object=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},u.json=function(t){return"[object Object]"===c.call(t)},u.regexp=function(t){return"[object RegExp]"===c.call(t)},u.sameType=function(t,e){return u.nan(t)||u.nan(e)?u.nan(t)===u.nan(e):c.call(t)===c.call(e)},u.sameType.api=["not"],u.string=function(t){return"[object String]"===c.call(t)},u.char=function(t){return u.string(t)&&1===t.length},u.undefined=function(t){return void 0===t},u.empty=function(t){if(u.object(t)){var e=Object.getOwnPropertyNames(t).length;return!!(0===e||1===e&&u.array(t)||2===e&&u.arguments(t))}return""===t},u.existy=function(t){return null!==t&&void 0!==t},u.truthy=function(t){return u.existy(t)&&t!==!1&&u.not.nan(t)&&""!==t&&0!==t},u.falsy=t(u.truthy),u.space=function(t){if(u.char(t)){var e=t.charCodeAt(0);return e>8&&e<14||32===e}return!1},u.equal=function(t,e){return u.all.number(t,e)?t===e&&1/t===1/e:u.all.string(t,e)||u.all.regexp(t,e)?""+t==""+e:!!u.all.boolean(t,e)&&t===e},u.equal.api=["not"],u.even=function(t){return u.number(t)&&t%2===0},u.odd=function(t){return u.number(t)&&t%2===1},u.positive=function(t){return u.number(t)&&t>0},u.negative=function(t){return u.number(t)&&t<0},u.above=function(t,e){return u.all.number(t,e)&&t>e},u.above.api=["not"],u.under=function(t,e){return u.all.number(t,e)&&t<e},u.under.api=["not"],u.within=function(t,e,n){return u.all.number(t,e,n)&&t>e&&t<n},u.within.api=["not"],u.decimal=function(t){return u.number(t)&&t%1!==0},u.integer=function(t){return u.number(t)&&t%1===0},u.finite=isFinite||function(t){return t!==1/0&&t!==-(1/0)&&u.not.nan(t)},u.infinite=t(u.finite);var d={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/};for(var p in d)d.hasOwnProperty(p)&&r(p,d);u.include=function(t,e){return t.indexOf(e)>-1},u.include.api=["not"],u.upperCase=function(t){return u.string(t)&&t===t.toUpperCase()},u.lowerCase=function(t){return u.string(t)&&t===t.toLowerCase()},u.startWith=function(t,e){return u.string(t)&&0===t.indexOf(e)},u.startWith.api=["not"],u.endWith=function(t,e){return u.string(t)&&t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},u.endWith.api=["not"],u.capitalized=function(t){if(u.not.string(t))return!1;for(var e=t.split(" "),n=[],r=0;r<e.length;r++)n.push(e[r][0]===e[r][0].toUpperCase());return u.all.truthy.apply(null,n)},u.palindrome=function(t){return u.string(t)&&t==t.split("").reverse().join("")};var h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],v=["january","february","march","april","may","june","july","august","september","october","november","december"];if(u.today=function(t){var e=new Date,n=e.toDateString();return u.date(t)&&t.toDateString()===n},u.yesterday=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()-1)).toDateString();return u.date(t)&&t.toDateString()===n},u.tomorrow=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()+1)).toDateString();return u.date(t)&&t.toDateString()===n},u.past=function(t){var e=new Date;return u.date(t)&&t.getTime()<e.getTime()},u.future=t(u.past),u.day=function(t,e){return u.date(t)&&e.toLowerCase()===h[t.getDay()]},u.day.api=["not"],u.month=function(t,e){return u.date(t)&&e.toLowerCase()===v[t.getMonth()]},u.month.api=["not"],u.year=function(t,e){return u.date(t)&&u.number(e)&&e===t.getFullYear()},u.year.api=["not"],u.leapYear=function(t){return u.number(t)&&(t%4===0&&t%100!==0||t%400===0)},u.weekend=function(t){return u.date(t)&&(6===t.getDay()||0===t.getDay())},u.weekday=t(u.weekend),u.inDateRange=function(t,e,n){if(u.not.date(t)||u.not.date(e)||u.not.date(n))return!1;var r=t.getTime(),i=e.getTime(),o=n.getTime();return r>i&&r<o},u.inDateRange.api=["not"],u.inLastWeek=function(t){return u.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},u.inLastMonth=function(t){return u.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},u.inLastYear=function(t){return u.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},u.inNextWeek=function(t){return u.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},u.inNextMonth=function(t){return u.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},u.inNextYear=function(t){return u.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},u.quarterOfYear=function(t,e){return u.date(t)&&u.number(e)&&e===Math.floor((t.getMonth()+3)/3)},u.quarterOfYear.api=["not"],u.dayLightSavingTime=function(t){var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1),r=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()<r},"undefined"!=typeof window){var m="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",y="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",g="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";u.chrome=function(){return/chrome|chromium/i.test(m)&&/google inc/.test(y)},u.chrome.api=["not"],u.firefox=function(){return/firefox/i.test(m)},u.firefox.api=["not"],u.edge=function(){return/edge/i.test(m)},u.edge.api=["not"],u.ie=function(t){return t?t>=11?"ActiveXObject"in window:new RegExp("msie "+t).test(m):/msie/i.test(m)||"ActiveXObject"in window},u.ie.api=["not"],u.opera=function(){return/^Opera\//.test(m)||/\x20OPR\//.test(m)},u.opera.api=["not"],u.safari=function(){return/safari/i.test(m)&&/apple computer/i.test(y)},u.safari.api=["not"],u.ios=function(){return u.iphone()||u.ipad()||u.ipod()},u.ios.api=["not"],u.iphone=function(){return/iphone/i.test(m)},u.iphone.api=["not"],u.ipad=function(){return/ipad/i.test(m)},u.ipad.api=["not"],u.ipod=function(){return/ipod/i.test(m)},u.ipod.api=["not"],u.android=function(){return/android/i.test(m)},u.android.api=["not"],u.androidPhone=function(){return/android/i.test(m)&&/mobile/i.test(m)},u.androidPhone.api=["not"],u.androidTablet=function(){return/android/i.test(m)&&!/mobile/i.test(m)},u.androidTablet.api=["not"],u.blackberry=function(){return/blackberry/i.test(m)||/BB10/i.test(m)},u.blackberry.api=["not"],u.desktop=function(){return u.not.mobile()&&u.not.tablet()},u.desktop.api=["not"],u.linux=function(){return/linux/i.test(g)},u.linux.api=["not"],u.mac=function(){return/mac/i.test(g)},u.mac.api=["not"],u.windows=function(){return/win/i.test(g)},u.windows.api=["not"],u.windowsPhone=function(){return u.windows()&&/phone/i.test(m)},u.windowsPhone.api=["not"],u.windowsTablet=function(){return u.windows()&&u.not.windowsPhone()&&/touch/i.test(m)},u.windowsTablet.api=["not"],u.mobile=function(){return u.iphone()||u.ipod()||u.androidPhone()||u.blackberry()||u.windowsPhone()},u.mobile.api=["not"],u.tablet=function(){return u.ipad()||u.androidTablet()||u.windowsTablet()},u.tablet.api=["not"],u.online=function(){return navigator.onLine},u.online.api=["not"],u.offline=t(u.online),u.offline.api=["not"],u.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch},u.touchDevice.api=["not"]}return u.propertyCount=function(t,e){if(!u.object(t)||!u.number(e))return!1;if(Object.keys)return Object.keys(t).length===e;var n,r=[];for(n in t)f.call(t,n)&&r.push(n);return r.length===e},u.propertyCount.api=["not"],u.propertyDefined=function(t,e){return u.object(t)&&u.string(e)&&e in t},u.propertyDefined.api=["not"],u.windowObject=function(t){return"object"==typeof t&&"setInterval"in t},u.domNode=function(t){return u.object(t)&&t.nodeType>0},u.inArray=function(t,e){if(u.not.array(e))return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},u.inArray.api=["not"],u.sorted=function(t){if(u.not.array(t))return!1;for(var e=0;e<t.length;e++)if(t[e]>t[e+1])return!1;return!0},o(),u.setRegexp=function(t,e){for(var n in d)f.call(d,n)&&e===n&&(d[n]=t)},u.setNamespace=function(){return a.is=s,this},u})}).call(e,function(){return this}())},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},o=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var o;for(o in t);return"undefined"==typeof o||n.call(t,o)};t.exports=function t(){var e,n,r,a,s,u,c=arguments[0],l=1,f=arguments.length,d=!1;for("boolean"==typeof c?(d=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});l<f;++l)if(e=arguments[l],null!=e)for(n in e)r=c[n],a=e[n],c!==a&&(d&&a&&(o(a)||(s=i(a)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&o(r)?r:{},c[n]=t(d,u,a)):"undefined"!=typeof a&&(c[n]=a));return c}},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o,l){function f(n,i){if(null===n)return null;if(0===i)return n;var v,m;if("object"!=typeof n)return n;if(n instanceof s)v=new s;else if(n instanceof u)v=new u;else if(n instanceof c)v=new c(function(t,e){n.then(function(e){t(f(e,i-1))},function(t){e(f(t,i-1))})});else if(t.__isArray(n))v=[];else if(t.__isRegExp(n))v=new RegExp(n.source,a(n)),n.lastIndex&&(v.lastIndex=n.lastIndex);else if(t.__isDate(n))v=new Date(n.getTime());else{if(h&&e.isBuffer(n))return v=new e(n.length),n.copy(v),v;n instanceof Error?v=Object.create(n):"undefined"==typeof o?(m=Object.getPrototypeOf(n),v=Object.create(m)):(v=Object.create(o),m=o)}if(r){var y=d.indexOf(n);if(y!=-1)return p[y];d.push(n),p.push(v)}if(n instanceof s)for(var g=n.keys();;){var _=g.next();if(_.done)break;var b=f(_.value,i-1),w=f(n.get(_.value),i-1);v.set(b,w)}if(n instanceof u)for(var x=n.keys();;){var _=x.next();if(_.done)break;var E=f(_.value,i-1);v.add(E)}for(var A in n){var k;m&&(k=Object.getOwnPropertyDescriptor(m,A)),k&&null==k.set||(v[A]=f(n[A],i-1))}if(Object.getOwnPropertySymbols)for(var O=Object.getOwnPropertySymbols(n),A=0;A<O.length;A++){var C=O[A],D=Object.getOwnPropertyDescriptor(n,C);(!D||D.enumerable||l)&&(v[C]=f(n[C],i-1),D.enumerable||Object.defineProperty(v,C,{enumerable:!1}))}if(l)for(var T=Object.getOwnPropertyNames(n),A=0;A<T.length;A++){var $=T[A],D=Object.getOwnPropertyDescriptor(n,$);D&&D.enumerable||(v[$]=f(n[$],i-1),Object.defineProperty(v,$,{enumerable:!1}))}return v}"object"==typeof r&&(i=r.depth,o=r.prototype,l=r.includeNonEnumerable,r=r.circular);var d=[],p=[],h="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),f(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map}catch(t){s=function(){}}var u;try{u=Set}catch(t){u=function(){}}var c;try{c=Promise}catch(t){c=function(){}}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):h(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function l(e,n){if(u(n),e=a(e,n<0?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);e=a(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function d(t,e){var n=e.length<0?0:0|v(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=d(e,n),e}function h(e,n){if(t.isBuffer(n)){var r=0|v(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||X(n.length)?a(e,0):d(e,n);if("Buffer"===n.type&&Q(n.data))return d(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e){return+e!=e&&(e=0),t.alloc(+e)}function y(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return H(e).length;n=(""+n).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return F(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:w(e,n,r,i,o);if("number"==typeof n)return n&=255,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):w(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,d=0;d<u;d++)if(o(t,c+d)!==o(e,d)){f=!1;break}if(f)return c}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function A(t,e,n,r){return G(Z(e),t,n,r)}function k(t,e,n,r){return A(t,e,n,r)}function O(t,e,n,r){return G(W(e),t,n,r)}function C(t,e,n,r){return G(q(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return $(r)}function $(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function F(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function V(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return K.toByteArray(V(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t){return t!==t}var K=n(40),J=n(41),Q=n(42);e.Buffer=t,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=y,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),c=this.slice(i,o),l=e.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):I(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):I(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:H(new t(e,i).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(39).Buffer,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,a,s,u=t.length;a=n(t),s=new l(3*u/4-a),i=a>0?u-4:u;var f=0;for(e=0,r=0;e<i;e+=4,r+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[f++]=o>>16&255,s[f++]=o>>8&255,s[f++]=255&o;return 2===a?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[f++]=255&o):1===a&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[f++]=o>>8&255,s[f++]=255&o),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],s=16383,c=0,l=n-r;c<l;c+=s)o.push(a(t,c,c+s>l?l:c+s));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=s;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)u[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?d/u:d*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=h,a/=256,c-=8);t[n+p-h]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"bar",staticClass:"bar",on:{click:t.click}},[t._h("div",{staticClass:"wrap"},[t._h("div",{staticClass:"value",style:{width:100*t.selfValue+"%"}})])," ",t._h("div",{ref:"thumb",staticClass:"thumb",style:{left:100*t.selfValue+"%"}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(45),r=n(47);var o=n(49);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(46);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(48),a=r(o);e.default={data:function(){return{remain:a.default.timeRemain}},props:{duration:{default:0,type:Number},currentTime:{default:0,type:Number}},filters:{time:function(t){return(0,i.timestamp2timestr)(t,!0)}},watch:{remain:function(t){a.default.timeRemain=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),i={lrcFormat:{},lyric:{},editing:{default:!0},lyricArray:{default:[]},timeRemain:{default:!1},userName:{default:""}},o={};Object.keys(i).forEach(function(t){var e=i[t];o[t]=r.cache.get(e.name||t,e.default||"")}),e.default=new Proxy(o,{set:function(t,e,n,o){var a=i[e];return r.cache.set(a.name||e,n),t[e]=n,!0}})},function(t,e){t.exports={render:function(){var t=this;return t._h("span",{on:{click:function(e){t.remain=!t.remain}}},[t.remain?["\n    -"+t._s(t._f("time")(t.duration-t.currentTime))+"\n  "]:["\n    "+t._s(t._f("time")(t.currentTime))+"\n  "]," "])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.src.length,expression:"src.length"}],staticClass:"root",class:{mobile:t.isMobile},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t._h("div",{staticClass:"player"},[t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[SPACE]"},on:{click:function(e){t.paused=!t.paused}}},[t.paused?t._h("i",{staticClass:"icon-play"}):t._h("i",{staticClass:"icon-pause"})," "])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[LEFT]"},on:{click:function(e){t.$emit("backward")}}},[t._h("i",{staticClass:"icon-backward"})])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[RIGHT]"},on:{click:function(e){t.$emit("forward")}}},[t._h("i",{staticClass:"icon-forward"})])," ",t._h("range",{ref:"musicRange",staticClass:"range music",attrs:{value:t.process},on:{seek:t.seek}})," ",t.isMobile?t._e():t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}})])," ",t._h("transition",{attrs:{name:"player-more"}},[t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.isMobile||t.hover,expression:"isMobile || hover"}],staticClass:"more"},[t.isMobile?t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}}):t._e()," ",t._h("div",{staticClass:"sound"},[t._h("div",{staticClass:"ctrl-btn",on:{click:function(e){t.muted=!t.muted}}},[t.muted||0==t.volume?t._h("i",{staticClass:"icon-volume-off"}):t._h("i",{staticClass:"icon-volume-up"})," "])," ",t._h("range",{ref:"soundRange",staticClass:"range volume",attrs:{value:t.volume},on:{seek:t.volumeSeek,"drag-seek":t.volumeSeek}})])])])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(52),r=n(54);var o=n(72);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-1cacf53d",t.exports=r},function(t,e,n){var r=n(53);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"ul.lyrics[data-v-1cacf53d]{list-style-type:none;margin:0;padding:0;background-color:#f1f1f1}ul.lyrics>li[data-v-1cacf53d]{min-height:40px;text-align:center;color:#044d98;padding:10px 0}ul.lyrics>li.cur[data-v-1cacf53d]{color:#044d98;text-shadow:1px 1px 1px #aaa;background-color:#fbfbfb}ul.lyrics>li:hover .conceal[data-v-1cacf53d]{display:inline-block}ul.lyrics>li .conceal[data-v-1cacf53d]{display:none}ul.lyrics>li.division[data-v-1cacf53d],ul.lyrics>li.unsorted[data-v-1cacf53d]{background-color:#f1f1f1}ul.lyrics>li.division[data-v-1cacf53d]{display:block;width:100%;min-height:auto;padding:2px 0;font-size:12px;text-align:center}ul.lyrics.editing>li[data-v-1cacf53d]{padding:0;display:flex}ul.lyrics.editing>li.division[data-v-1cacf53d]{display:block;padding:4px 0}ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{color:#7c9fbb;width:60px;overflow:hidden;text-overflow:'.'}ul.lyrics.editing>li .content[data-v-1cacf53d]{flex:1}ul.lyrics.editing>li .icon-btn[data-v-1cacf53d]{padding-left:4px;padding-right:4px}ul.lyrics.editing>li .content[data-v-1cacf53d],ul.lyrics.editing>li .icon-btn[data-v-1cacf53d],ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{padding-top:10px;padding-bottom:10px}ul.lyrics.editing>li input[data-v-1cacf53d]{text-align:center;border:none;background-color:#d0dae4}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(55),a=n(28),s=n(48),u=r(s),c=n(60),l=r(c);e.default={data:function(){return{index:-1,editingIndex:-1,editingTextIndex:-1,scroller:null}},props:{runner:{type:o.Runner,default:new o.Runner},playto:{type:Function,default:function(){}},editing:{type:Boolean,default:u.default.editing},lyricArray:{type:Array,default:[]}},methods:{editMenu:function(t){},exitEdit:function(){this.editingIndex=-1,this.editingTextIndex=-1,this.$emit("update")},edit:function(t){this.editingIndex=t},editText:function(t){this.editingTextIndex=t,this.$emit("update")},remove:function(t){this.runner.lrc.lyrics.splice(t,1),this.$emit("update")},removeText:function(t){this.lyricArray.splice(t,1),this.$emit("update")},insert:function(t){this.runner.lrc.lyrics.splice(t+1,0,{timestamp:this.runner.lrc.lyrics[t].timestamp,content:this.runner.lrc.lyrics[t].content}),this.$emit("update")},insertText:function(t){this.lyricArray.splice(t+1,0,this.lyricArray[t]),this.$emit("update")},removeTimestamp:function(t){var e,n=this.runner.lrc.lyrics,r=n.splice(t,n.length-t).map(function(t){return t.content});(e=this.lyricArray).splice.apply(e,[0,0].concat(i(r))),this.$emit("update")},setTimestamp:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&(this.runner.lrc.lyrics[t].timestamp=e,this.$emit("update"))},setTimestampText:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&this.lyricArray.length&&(this.runner.lrc.lyrics.push({timestamp:e,content:this.lyricArray[t]}),this.removeText(t),this.$emit("update"))},scrollToCurrentLyric:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$el,n=e.querySelector(".cur");if(n){var r=e.clientHeight,i=n.offsetTop-r/2;this.scroller.scrollTo(i,t)}}},filters:{time:a.timestamp2timestr},created:function(){var t=this;this.$on("timeupdate",function(e){t.runner.timeUpdate(e),t.index=t.runner.curIndex(),t.scrollToCurrentLyric()}).$on("update",function(){t.runner.lrcUpdate(),$App.lrcFormat=t.runner.lrc.toString(),$App.lyricArray=t.lyricArray}).$on("prevlyric",function(){t.removeTimestamp(t.runner.lrc.lyrics.length-1)}).$on("nextlyric",function(){t.setTimestampText(0)})},mounted:function(){var t=this;this.scroller=new a.Scroller(this.$el),a.globalKeydown.on(["enter","escape"],function(){if(t.editing)return t.exitEdit(),!1}).on("arrowup",function(){if(t.editing)return t.$emit("prevlyric"),!1}).on("arrowdown",function(){if(t.editing)return t.$emit("nextlyric"),!1})},watch:{editing:function(){this.editing||this.exitEdit()}},components:{Tmenu:l.default}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Runner=e.Lrc=e.LineParser=void 0;var i=n(56),o=r(i),a=n(57),s=r(a),u=n(58),c=r(u);e.LineParser=o.default,e.Lrc=s.default,e.Runner=c.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){n(this,t),this.type=t.TYPE.INVALID;try{var i=t.parseTags(e),o=r(i,2),a=o[0],s=o[1];t.TIME_REGEXP.test(a[0])?this.parseAsTime(a,s):t.INFO_REGEXP.test(a[0])?this.parseAsInfo(a[0]):this.type=t.TYPE.INVALID}catch(e){this.type=t.TYPE.INVALID}}return i(t,null,[{key:"parseTags",value:function(e){e=e.trim();var n=t.TAGS_REGEXP.exec(e),r=n[0],i=e.substr(r.length);return[r.slice(1,-1).split(/\]\s*\[/),i]}}]),i(t,[{key:"parseAsTime",value:function(e,n){var r=[];e.forEach(function(e){var n=t.TIME_REGEXP.exec(e),i=parseFloat(n[1]),o=parseFloat(n[2].replace(/\s+/g,"").replace(":","."));
r.push(60*i+o)}),this.timestamps=r,this.content=n.trim(),this.type=t.TYPE.TIME}},{key:"parseAsInfo",value:function(e){var n=t.INFO_REGEXP.exec(e);this.key=n[1].trim(),this.value=n[2].trim(),this.type=t.TYPE.INFO}}]),t}();o.TAGS_REGEXP=/^(\[.+\])+/,o.INFO_REGEXP=/^\s*(\w+)\s*:(.*)$/,o.TIME_REGEXP=/^\s*(\d+)\s*:\s*(\d+(\s*[\.:]\s*\d+)?)\s*$/,o.TYPE={INVALID:0,INFO:1,TIME:2},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(36),s=r(a),u=n(56),c=r(u),l=function(){function t(){i(this,t),this.info={},this.lyrics=[]}return o(t,[{key:"offset",value:function(t){this.lyrics.forEach(function(e){e.timestamp+=t,e.timestamp<0&&(e.timestamp=0)})}},{key:"toString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.combine=!("combine"in e)||e.combine,e.lineFormat="lineFormat"in e?e.lineFormat:"\r\n",e.sort=!("sort"in e)||e.sort;var n=[],r={},i=[];for(var o in this.info)n.push("["+o+":"+this.info[o]+"]");if(e.combine){this.lyrics.forEach(function(t){t.content in r?r[t.content].push(t.timestamp):r[t.content]=[t.timestamp]});for(var a in r)e.sort&&r[a].sort(),i.push({timestamps:r[a],content:a});e.sort&&i.sort(function(t,e){return t.timestamps[0]-e.timestamps[0]}),i.forEach(function(e){n.push("["+e.timestamps.map(function(e){return t.timestampToString(e)}).join("][")+"]"+(e.content||""))})}else this.lyrics.forEach(function(e){n.push("["+t.timestampToString(e.timestamp)+"]"+(e.content||""))});return n.join(e.lineFormat)}}],[{key:"parse",value:function(t){var e=[],n={};t.split(/\r\n|[\n\r]/g).map(function(t){return new c.default(t)}).forEach(function(t){switch(t.type){case c.default.TYPE.INFO:n[t.key]=t.value;break;case c.default.TYPE.TIME:t.timestamps.forEach(function(n){e.push({timestamp:n,content:t.content})})}});var r=new this;return r.lyrics=e,r.info=n,r}},{key:"checkLyricObject",value:function(t){return s.default.object(t)&&"timestamp"in t&&s.default.number(t.timestamp)&&"content"in t&&s.default.string(t.content)}},{key:"padZero",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?2:arguments[1];for(s.default.number(t)&&(t=t.toString());t.split(".")[0].length<e;)t="0"+t;return t}},{key:"timestampToString",value:function(t){return this.padZero(parseInt(t/60))+":"+this.padZero((t%60).toFixed(2))}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(57),s=r(a),u=n(59),c=r(u),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?new s.default:arguments[0],n=arguments.length<=1||void 0===arguments[1]||arguments[1];i(this,t),this.offset=n,this._currentIndex=-1,this.setLrc(e)}return o(t,[{key:"setLrc",value:function(t){this.lrc=(0,c.default)(t),this.lrcUpdate()}},{key:"lrcUpdate",value:function(){this.offset&&this._offsetAlign(),this._sort()}},{key:"_offsetAlign",value:function(){if("offset"in this.lrc.info){var t=parseInt(this.lrc.info.offset)/1e3;isNaN(t)||(this.lrc.offset(t),delete this.lrc.info.offset)}}},{key:"_sort",value:function(){this.lrc.lyrics.sort(function(t,e){return t.timestamp-e.timestamp})}},{key:"timeUpdate",value:function(t){this._currentIndex>=this.lrc.lyrics.length?this._currentIndex=this.lrc.lyrics.length-1:this._currentIndex<-1&&(this._currentIndex=-1),this._currentIndex=this._findIndex(t,this._currentIndex)}},{key:"_findIndex",value:function(t,e){var n=e==-1?Number.NEGATIVE_INFINITY:this.lrc.lyrics[e].timestamp,r=e==this.lrc.lyrics.length-1?Number.POSITIVE_INFINITY:this.lrc.lyrics[e+1].timestamp;return t<n?this._findIndex(t,e-1):t===r?r===Number.POSITIVE_INFINITY?e:e+1:t>r?this._findIndex(t,e+1):e}},{key:"getInfo",value:function(){return this.lrc.info}},{key:"getLyrics",value:function(){return this.lrc.lyrics}},{key:"getLyric",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.curIndex():arguments[0];if(t>=0&&t<=this.lrc.lyrics.length-1)return this.lrc.lyrics[t];throw new Error("Index not exist")}},{key:"curIndex",value:function(){return this._currentIndex}},{key:"curLyric",value:function(){return this.getLyric()}}]),t}();e.default=l},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o){function s(n,i){if(null===n)return null;if(0==i)return n;var u,d;if("object"!=typeof n)return n;if(t.__isArray(n))u=[];else if(t.__isRegExp(n))u=new RegExp(n.source,a(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(t.__isDate(n))u=new Date(n.getTime());else{if(f&&e.isBuffer(n))return u=new e(n.length),n.copy(u),u;"undefined"==typeof o?(d=Object.getPrototypeOf(n),u=Object.create(d)):(u=Object.create(o),d=o)}if(r){var p=c.indexOf(n);if(p!=-1)return l[p];c.push(n),l.push(u)}for(var h in n){var v;d&&(v=Object.getOwnPropertyDescriptor(d,h)),v&&null==v.set||(u[h]=s(n[h],i-1))}return u}var u;"object"==typeof r&&(i=r.depth,o=r.prototype,u=r.filter,r=r.circular);var c=[],l=[],f="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),s(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){var r,i;n(61),n(63),r=n(65);var o=n(71);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-eee4cabe",t.exports=r},function(t,e,n){var r=n(62);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"span[data-v-eee4cabe]{position:relative}",""])},function(t,e,n){var r=n(64);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".menu{display:inline-block;position:relative}.menu ul{list-style-type:none;margin:0;padding:0}.menu ul li{white-space:nowrap;height:25px;line-height:25px;text-align:left;background-color:#fff;color:#1161b3;cursor:pointer}.menu ul li:hover{color:#1161b3;background-color:#e8e1e1}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(66),o=r(i);e.default={data:function(){return{dir:!1}},components:{Tooltip:o.default}}},function(t,e,n){var r,i;n(67),r=n(69);var o=n(70);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(68);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".tooltip .wrap{padding:8px;position:fixed;z-index:100;background-color:#fff;color:#1161b3;border-radius:8px;box-shadow:.5px .5px 3px .5px #ccc}.tooltip .wrap .arrow{position:absolute;width:0;height:0;display:block;margin:auto}.tooltip .wrap .arrow.left{top:0;bottom:0;right:-16px;border:8px solid transparent;border-left:8px solid #fff}.tooltip .wrap .arrow.right{top:0;bottom:0;left:-16px;border:8px solid transparent;border-right:8px solid #fff}.tooltip .wrap .arrow.top{left:0;right:0;bottom:-16px;border:8px solid transparent;border-top:8px solid #fff}.tooltip .wrap .arrow.bottom{left:0;right:0;top:-16px;border:8px solid transparent;border-bottom:8px solid #fff}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(37),a=r(o);e.default={data:function(){return{style:{top:0,left:0,visibility:"hidden"},show:!1,dir:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5},target:{type:Element,default:null}},mounted:function(){var t=this,e=null!==this.target?this.target:this.$el,n=new i.TooltipPosition(e,this.$refs.wrap),r=10,o=new i.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});o.hover(function(){var e=n.position();switch(t.dir=e.dir,t.dir){case"left":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left-r+"px"});break;case"right":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left+r+"px"});break;case"top":(0,a.default)(t.style,{top:e.rect.top-r+"px",left:e.rect.left+"px"});break;case"bottom":(0,a.default)(t.style,{top:e.rect.top+r+"px",left:e.rect.left+"px"});break;case!1:return}t.show=!0},function(){t.show=!1})},watch:{show:{immediate:!0,handler:function(){this.style.visibility=this.show?"visible":"hidden"}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("span",{staticClass:"tooltip"},[t._t("target")," ",t._h("div",{ref:"wrap",staticClass:"wrap",style:t.style},[t._h("div",{class:"arrow "+t.dir})," ",t._h("div",{staticClass:"content"},[t._t("content")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"menu"},[t._h("tooltip",{attrs:{dir:t.dir,target:t.$refs.menu,"enter-delay":0}},[t._h("div",{slot:"target"},[t._t("target")])," ",t._h("div",{slot:"content"},[t._t("list")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t.editing?t._h("ul",{staticClass:"editing lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{dblclick:function(e){t.edit(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.timestamp,expression:"lyric.timestamp"}],staticClass:"timestamp",attrs:{type:"text"},domProps:{value:t._s(e.timestamp)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.timestamp=t.target.value)}}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"lyric.content"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(e.content)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.content=t.target.value)}}})]:[t._h("div",{staticClass:"timestamp"},[t._s(t._f("time")(e.timestamp))])," ",t._h("div",{staticClass:"content"},[t._s(e.content)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.removeTimestamp(n)}}},[t._h("i",{staticClass:"icon-cancel"})," "+t._s(t.$t("lyric_editor.remove_timestamp"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.edit(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insert(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.remove(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"},on:{dblclick:function(e){t.editText(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingTextIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.lyricArray[n],expression:"lyricArray[i]"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(t.lyricArray[n])},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(e){if(!e.target.composing){var r=t.lyricArray,i=n;Array.isArray(r)?r.splice(i,1,e.target.value):t.lyricArray[n]=e.target.value}}}})]:[t._h("div",{staticClass:"content"},[t._s(e)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.editText(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insertText(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.removeText(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})]):t._h("ul",{staticClass:"lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{click:function(n){t.playto(e.timestamp)}}},["\n    "+t._s(e.content)+"\n  "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"}},["\n    "+t._s(e)+"\n  "])})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(74),n(76),r=n(78);var o=n(94);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-a14c96ea",t.exports=r},function(t,e,n){var r=n(75);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal .footer .btn-group[data-v-a14c96ea]:after,.modal .header[data-v-a14c96ea]:after{content:' ';display:table;clear:both}.cover[data-v-a14c96ea]{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.7);width:100%;height:100%;z-index:1000;overflow:auto}.modal[data-v-a14c96ea]{position:relative;margin:30px auto;background:#fff;border-radius:8px;overflow:hidden}.modal.lg[data-v-a14c96ea]{width:50%}.modal.md[data-v-a14c96ea]{width:70%}.modal.sm[data-v-a14c96ea]{width:90%}.modal .body[data-v-a14c96ea],.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-left:14px;padding-right:14px}.modal .body[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-top:14px;padding-bottom:14px}.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{color:#1161b3}.modal .header[data-v-a14c96ea]{border-bottom:1px solid #e5e5e5;font-weight:bolder}.modal .header .icon-cancel[data-v-a14c96ea]{float:right;cursor:pointer}.modal .footer[data-v-a14c96ea]{border-top:1px solid #e5e5e5}.modal .footer .btn-group .btn[data-v-a14c96ea]{float:right;border-radius:0;background-color:transparent;color:#1161b3;padding:8px 10px}.modal .footer .btn-group .btn[data-v-a14c96ea]:hover{background-color:rgba(0,0,0,.1)}",""])},function(t,e,n){var r=n(77);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal h3{margin:10px 0}.modal textarea{width:100%;border:1px solid #d6d6d6;border-radius:5px;min-height:300px;margin:10px 0}.modal p{margin:0}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),a=r(o),s=n(28),u=n(79),c=r(u),l=n(85),f=r(l),d=n(88),p=r(d),h=n(91),v=r(h),m={help:c.default,"lrc-format-upload":f.default,"lyric-upload":p.default,"lrc-save":v.default};window.MC=[],e.default={data:function(){return{title:"Modal",size:"md",confirm:!1,modalName:"",modalComponent:null,isShow:!1,coverShow:!1}},methods:{show:function(t){var e=this;return this.isShow=!0,this.coverShow=!0,this.$nextTick(function(){e.modalName=t,e.modalComponent=new a.default(i({},m[e.modalName])),e.modalComponent.$mount(e.$refs.modalWrapper),e.modalComponent.title&&(e.title=e.modalComponent.title),e.modalComponent.size&&(e.title=e.modalComponent.size),e.modalComponent.confirm&&(e.confirm=e.modalComponent.confirm)}),this},ok:function(){this.isShow=!1,this.modalComponent.$emit("ok"),this.modalComponent.$destroy()},cancel:function(){this.isShow=!1,this.modalComponent.$emit("cancel"),this.modalComponent.$destroy()}},mounted:function(){var t=this;s.globalKeydown.on("escape",function(){t.isShow&&t.cancel()})},components:{Help:c.default,LrcFormatUpload:f.default,LyricUpload:p.default,LrcSave:v.default}}},function(t,e,n){var r,i;n(80),r=n(82);var o=n(84);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-3f57c1d0",t.exports=r},function(t,e,n){var r=n(81);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".help[data-v-3f57c1d0]{color:#333}.help a[data-v-3f57c1d0],.help h3[data-v-3f57c1d0],.help h4[data-v-3f57c1d0]{color:#1161b3}.help h3[data-v-3f57c1d0]{margin:5px 0}.help h4[data-v-3f57c1d0]{margin:0}.help a[data-v-3f57c1d0]{font-weight:bolder}.help ul[data-v-3f57c1d0]{list-style-type:none;padding:0 0 0 20px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(83),o=r(i);e.default={data:function(){return{PKG:o.default,title:this.$t("modal.help.title")}}}},function(t,e){t.exports={name:"lrc-maker",version:"0.2.0",description:"lrc maker",main:"index.js",scripts:{test:"yarn run lint",lint:"eslint --ext js,vue webpack.config.js src",dev:"webpack-dev-server --host='0.0.0.0' --progress --colors --inline --hot --output-public-path='/assets/'",build:"yarn run build:clean && yarn run build:webpack && yarn run build:view","build:clean":"rm -rf build","build:view":" cp index.html build/index.html","build:webpack":"webpack --optimize-minimize --output-public-path='./assets/'",deploy:"yarn run build && gh-pages -d build"},keywords:["lrc"],author:"Weirong Xu <weirongxu.raidou@gmail.com>",homepage:"https://github.com/weirongxu/lrc-maker",repository:{type:"git",url:"https://github.com/weirongxu/lrc-maker.git"},onlinePage:"https://weirongxu.github.io/lrc-maker/",bugs:"https://github.com/weirongxu/lrc-maker/issues",license:"MIT",devDependencies:{autoprefixer:"^6.5.3","babel-core":"^6.7.6","babel-eslint":"^7.1.1","babel-helper-vue-jsx-merge-props":"^2.0.2","babel-loader":"^6.2.8","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-vue-jsx":"^3.2.0","babel-preset-latest":"^6.16.0","babel-preset-stage-0":"^6.16.0","css-loader":"^0.26.0",eslint:"^3.10.2","eslint-loader":"^1.3.0","eslint-plugin-html":"^1.7.0","file-loader":"^0.9.0","gh-pages":"^0.12.0","json-loader":"^0.5.4","node-sass":"^3.13.0","resolve-url-loader":"^1.6.0","sass-loader":"^4.0.2","url-loader":"^0.5.7","vue-loader":"^10.0.1","vue-template-compiler":"^2.1.3",webpack:"^1.12.15","webpack-dev-server":"^1.14.1","yaml-loader":"^0.4.0"},dependencies:{clone:"^2.1.0",eventemitter2:"^2.2.1",extend:"^3.0.0","filesaver.js":"^0.2.0","lrc-kit":"^0.2.0",unidragger:"^2.1.0",vue:"^2.1.3","vue-i18n":"^4.7.3"}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"help"},[t._h("h3",[t._s(t.$t("modal.help.shortcut_key"))])," ",t._h("h4",[t._s(t.$t("modal.help.play_control.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.left_key"))+":"])," "+t._s(t.$t("modal.help.play_control.backward"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.right_key"))+":"])," "+t._s(t.$t("modal.help.play_control.forward"))])])," ",t._h("h4",[t._s(t.$t("modal.help.make_lrc.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.up_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.prev_lyric"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.down_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.next_lyric"))])])," ",t._h("div",{staticClass:"link"},[t._h("a",{attrs:{href:t.PKG.homepage,target:"_blank"}},[t._s(t.$t("modal.help.source_code"))+": github"])])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(86);var o=n(87);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i);n(55);e.default={data:function(){return{title:this.$t("modal.lrc_format_upload.title"),lyric:"",confirm:!0}},created:function(){var t=this;this.lyric=$App.lrcFormat,this.$on("ok",function(){$App.lrcFormat=t.lyric})},methods:{upload:function(t){this.lyric=t}},watch:{lyric:function(t){}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lrc_format_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{uploaded:t.upload}},[t._s(t.$t("modal.lrc_format_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(89);var o=n(90);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(48),s=r(a);e.default={data:function(){return{title:this.$t("modal.lyric_upload.title"),lyric:s.default.lyric,confirm:!0}},created:function(){var t=this;this.$on("ok",function(){$App.lyricArray=t.lyric.split(/\r\n|[\n\r]/g)})},methods:{upload:function(t){this.lyric=t}},watch:{lyric:function(t){s.default.lyric=t}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lyric_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{uploaded:t.upload}},[t._s(t.$t("modal.lyric_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(92);var o=n(93);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(48),a=r(o),s=n(83),u=r(s);e.default={data:function(){return{title:this.$t("modal.lrc_format_save.title"),lyric:"",userName:a.default.userName,saveOptions:{combine:!0,lineFormat:"\r\n",sort:!0},infoFields:[{key:"ti",label:this.$t("modal.lrc_format_save.fields.song_title")},{key:"ar",label:this.$t("modal.lrc_format_save.fields.artist")},{key:"al",label:this.$t("modal.lrc_format_save.fields.album")},{key:"au",label:this.$t("modal.lrc_format_save.fields.songtext_creator")}]}},created:function(){this.runner=$App.runner;var t=$App.$refs.player;this.runner.lrc.info.re=u.default.name+" ("+u.default.onlinePage+")",this.runner.lrc.info.ve=u.default.version,t.duration&&(this.runner.lrc.info.length=(0,i.timestamp2timestr)(t.duration)),this.userName&&(this.runner.lrc.info.by=this.userName),this.lyricUpdate()},methods:{save:function(){(0,i.saveLrc)(this.runner.lrc.toString(this.saveOptions),this.runner.lrc.info.ti||"lyric")},lyricUpdate:function(){this.lyric=this.runner.lrc.toString(this.saveOptions)},cleanEmptyInfo:function(){for(var t in this.runner.lrc.info)0==this.runner.lrc.info[t].length&&delete this.runner.lrc.info[t]}},watch:{userName:function(t){this.$set(this.runner,"runner.lrc.info.by",t),a.default.userName=t},lyric:function(){$App.lrcFormat=this.lyric},saveOptions:{deep:!0,handler:function(){this.lyricUpdate()}},"runner.lrc.info":{deep:!0,handler:function(){this.cleanEmptyInfo(),this.lyricUpdate()}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("h3",[t._s(t.$t("modal.lrc_format_save.info_title"))])," ",t._l(t.infoFields,function(e){return e.label?t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-"+e.key},domProps:{textContent:t._s(e.label)}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.runner.lrc.info[e.key],expression:"runner.lrc.info[field.key]"}],attrs:{id:"info-"+e.key,type:"text"},domProps:{value:t._s(t.runner.lrc.info[e.key])},on:{input:function(n){if(!n.target.composing){var r=t.runner.lrc.info,i=e.key;Array.isArray(r)?r.splice(i,1,n.target.value):t.runner.lrc.info[e.key]=n.target.value}}}})]):t._e()})," ",t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-by"}},[t._s(t.$t("modal.lrc_format_save.fields.lrc_creator"))])," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{id:"info-by",type:"text"},domProps:{value:t._s(t.userName)},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})])," ",t._h("h3",[t._s(t.$t("modal.lrc_format_save.save_title"))])," ",t._h("textarea",[t._s(t.lyric)])," ",t._h("label",["\n    "+t._s(t.$t("modal.lrc_format_save.combine"))+"\n    ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.saveOptions.combine,expression:"saveOptions.combine"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.saveOptions.combine)?t._i(t.saveOptions.combine,null)>-1:t._q(t.saveOptions.combine,!0)},on:{change:function(e){var n=t.saveOptions.combine,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i?a<0&&(t.saveOptions.combine=n.concat(o)):a>-1&&(t.saveOptions.combine=n.slice(0,a).concat(n.slice(a+1)))}else t.saveOptions.combine=i}}})])," ",t._h("div",{staticClass:"btn",on:{click:t.save}},[t._h("i",{staticClass:"icon-download"})," "+t._s(t.$t("modal.lrc_format_save.download"))+"\n  "])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{class:{cover:t.coverShow},on:{click:t.cancel}},[t._h("transition",{attrs:{name:"modal"},on:{"after-leave":function(e){t.coverShow=!1}}},[t.isShow?t._h("div",{staticClass:"modal",class:[t.size],on:{click:function(t){t.stopPropagation()}}},[t._h("div",{staticClass:"header"},["\n        "+t._s(t.title)+"\n        ",t._h("i",{staticClass:"icon-cancel",on:{click:t.cancel}})])," ",t._h("div",{staticClass:"body"},[t._h("div",{ref:"modalWrapper"})])," ",t._h("div",{staticClass:"footer"},[t.confirm?t._h("div",{staticClass:"btn-group"},[t._h("div",{staticClass:"btn",on:{click:t.ok}},[t._s(t.$t("modal.button.ok"))])," ",t._h("div",{staticClass:"btn",on:{click:t.cancel}},[t._s(t.$t("modal.button.cancel"))])]):t._e()])]):t._e()])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(96),n(98),r=n(100);var o=n(101);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-51eac06b",t.exports=r},function(t,e,n){var r=n(97);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".target[data-v-51eac06b]{position:relative;display:block;margin:-8px;padding:8px}",""])},function(t,e,n){var r=n(99);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".nav-menu .wrap{position:absolute;z-index:100;box-shadow:4px 4px 3px -2px #ccc}.nav-menu .wrap ul{list-style-type:none;padding:0;margin:0;background-color:#0d4884}.nav-menu .wrap ul li{padding:0 5px;cursor:pointer;line-height:30px;font-size:12px}.nav-menu .wrap ul li:hover{background-color:#082f56}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{dir:!1,style:{top:0,left:0},show:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5}},mounted:function(){var t=this,e=this.$refs.menu,n=new r.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});n.hover(function(){t.show=!0},function(){t.show=!1});var i=this.$el;this.style.top=i.style.clientHeight}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"nav-menu"},[t._h("span",{staticClass:"target"},[t._t("target")])," ",t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"wrap",style:t.style},[t._t("list")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"app"},[t._h("header",[t._h("div",{staticClass:"left"},[t._h("nav-menu",{staticClass:"menu-item",attrs:{title:t.$t("button.upload")}},[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-upload"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.$refs.modals.show("lrc-format-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lrc"))+"\n          "])," ",t._h("li",{on:{click:function(e){t.$refs.modals.show("lyric-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lyric"))+"\n          "])," ",t._h("li",[t._h("upload",{attrs:{accept:"audio/*","read-format":"DataURL"},on:{uploaded:t.uploadMusic}},[t._s(t.$t("menu.upload.music"))])])])])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.save")},on:{click:function(e){t.$refs.modals.show("lrc-save")}}},[t._h("i",{staticClass:"icon-save"})])])," ",t._h("div",{staticClass:"right"},[t._h("div",{staticClass:"menu-item",attrs:{title:t.editing?t.$t("button.close_edit"):t.$t("button.open_edit")},on:{click:function(e){t.editing=!t.editing}}},[t.editing?[t._h("i",{staticClass:"icon-cancel"})]:[t._h("i",{staticClass:"icon-edit"})]," "])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.help")},on:{click:function(e){t.$refs.modals.show("help")}}},[t._h("i",{staticClass:"icon-help-circled"})])])])," ",t._h("player",{ref:"player",attrs:{src:t.musicUrl},on:{timeupdate:t.timeupdate}})," ",t._h("lyric-editor",{ref:"lyric",staticClass:"lyric-editor",attrs:{editing:t.editing,runner:t.runner,"lyric-array":t.lyricArray,playto:t.playto}},["\n    lyric editor\n  "])," ",t._h("footer",[t._h("div",{staticClass:"left"},[t._h("div",{staticClass:"menu-item",on:{click:t.removeLyric}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("button.remove_lyric"))+"\n      "])])," ",t.editing?t._h("div",{staticClass:"right"},[t._h("div",{staticClass:"menu-item",attrs:{title:"[UP]"},on:{click:function(e){t.$refs.lyric.$emit("prevlyric")}}},[t._s(t.$t("button.prev_lyric"))])," ",t._h("div",{staticClass:"menu-item",attrs:{title:"[DOWN]"},on:{
click:function(e){t.$refs.lyric.$emit("nextlyric")}}},[t._s(t.$t("button.next_lyric"))])]):t._e()])," ",t._h("modals",{ref:"modals"})])},staticRenderFns:[]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(104),s=r(a),u=n(105),c=r(u),l=(navigator.language||navigator.userLanguage||"en").toLocaleLowerCase();l in c.default||l.indexOf("-")>=0&&(l=l.split("-")[0]),o.default.use(s.default),o.default.config.lang=l,o.default.locale(l,c.default[l])},function(t,e,n){(function(e){/*!
	 * vue-i18n v4.7.3
	 * (c) 2016 kazuya kawaguchi
	 * Released under the MIT License.
	 */
"use strict";function n(t,e){window.console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function r(t,e){t.locale=function(t,r,o){return void 0===r?e.locales[t]:void(null===r?(e.locales[t]=void 0,delete e.locales[t]):i(t,r,function(r){r?e.locales[t]=r:n("failed set `"+t+"` locale"),o&&o()}))}}function i(t,e,n){var r=this;"object"===("undefined"==typeof e?"undefined":x.typeof(e))?n(e):!function(){var t=e.call(r);"function"==typeof t?t.resolved?n(t.resolved):t.requested?t.pendingCallbacks.push(n):!function(){t.requested=!0;var e=t.pendingCallbacks=[n];t(function(n){t.resolved=n;for(var r=0,i=e.length;r<i;r++)e[r](n)},function(){n()})}():o(t)&&t.then(function(t){n(t)},function(){n()}).catch(function(t){console.error(t),n()})}()}function o(t){return t&&"function"==typeof t.then}function a(t,e,n){function r(t){if(n>1)t.$forceUpdate();else for(var e=t._watchers.length;e--;)t._watchers[e].update(!0)}var i=t.prototype._init;t.prototype._init=function(t){var n=this;i.call(this,t),this.$parent||(this.$lang=e,this._langUnwatch=this.$lang.$watch("$data",function(t,e){r(n)},{deep:!0}))};var o=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this.$lang=null),o.apply(this,arguments)}}function s(t){if(!E){var e=t.$watch("__watcher__",function(t){});E=t._watchers[0].constructor,e()}return E}function u(t){return!A&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(A=t._data.__ob__.dep.constructor),A}function c(t,e,n){function r(t,e){var n=new o(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),a&&a.target&&n.depend(),n.value}}var i=t.util.bind,o=s(e),a=u(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:r(function(){return e.lang},e),set:i(function(t){e.lang=t},e)}),k=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return k},set:function(t){k=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return O},set:function(t){O=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return C},set:function(t){C=t}})}function l(t){return null===t||void 0===t}function f(t){function e(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return r=1===r.length&&"object"===x.typeof(r[0])?r[0]:{},r&&r.hasOwnProperty||(r={}),t.replace(D,function(e,i,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=n(r,o)?r[o]:e,l(s)?"":s)})}var n=t.util.hasOwn;return e}function d(t){return Y.test(t)}function p(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function h(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function v(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(d(e)?p(e):"*"+e)}function m(t){function e(){var e=t[r+1];if(i===M&&"'"===e||i===U&&'"'===e)return r++,s="\\"+e,p[$](),!0}var n=[],r=-1,i=N,o=0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=[];for(p[F]=function(){void 0!==u&&(n.push(u),u=void 0)},p[$]=function(){void 0===u?u=s:u+=s},p[P]=function(){p[$](),o++},p[S]=function(){if(o>0)o--,i=I,p[$]();else{if(o=0,u=v(u),u===!1)return!1;p[F]()}};null!=i;)if(r++,a=t[r],"\\"!==a||!e()){if(c=h(a),d=z[i],l=d[c]||d.else||V,l===V)return;if(i=l[0],f=p[l[1]],f&&(s=l[2],s=void 0===s?a:s,f()===!1))return;if(i===B)return n.raw=t,n}}function y(t){var e=T[t];return e||(e=m(t),e&&(T[t]=e)),e}function g(t){function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(o(t))for(var e in t)if(a(t,e))return!1;return!0}function n(t,n){if(!i(t))return null;var r=y(n);if(e(r))return null;for(var o=r.length,a=null,s=t,u=0;u<o;){var c=s[r[u]];if(void 0===c){s=null;break}s=c,u++}return a=s}var r=t.util,i=r.isObject,o=r.isPlainObject,a=r.hasOwn;return n}function _(t){function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.config.lang,o=t.config.fallbackLang;return 1===n.length?v(n[0])||Array.isArray(n[0])?n=n[0]:"string"==typeof n[0]&&(i=n[0]):2===n.length&&("string"==typeof n[0]&&(i=n[0]),(v(n[1])||Array.isArray(n[1]))&&(n=n[1])),{lang:i,fallback:o,params:n}}function i(e,n,r){if(!e)return null;var o=_(e,n);if(Array.isArray(o))return o;if(l(o)&&(o=e[n]),l(o))return null;if(o.indexOf("@:")>=0){var a=o.match(/(@:[\w|.]+)/g);for(var s in a){var u=a[s],c=u.substr(2),f=i(e,c,r);o=o.replace(u,f)}}return r?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[o].concat(r)):y(o,r):o}function o(t,r,o,a,s){var u=null;return u=i(t(r),a,s),l(u)?(u=i(t(o),a,s),l(u)?null:("production"!==e.env.NODE_ENV&&n('Fall back to translate the keypath "'+a+'" with "'+o+'" language.'),u)):u}function a(r,i,o,a){return l(a)?("production"!==e.env.NODE_ENV&&n('Cannot translate the value of keypath "'+i+'". Use the value of keypath as default'),t.config.missingHandler&&t.config.missingHandler.apply(null,[r,i,o]),i):a}function s(e){return t.locale(e)}function u(t){return this.$options.locales[t]}function c(t){return t?t>1?1:0:1}function d(t,e){return t=Math.abs(t),2===e?c(t):t?Math.min(t,2):0}function p(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=d(e,n.length),n[e]?n[e].trim():t}var h=t.util,v=h.isObject,m=h.bind,y=f(t),_=g(t);return t.t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!t)return"";var u=r.apply(void 0,n),c=u.lang,l=u.fallback,f=u.params;return a(c,t,null,o(s,c,l,t,f))},t.tc=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return p(t.t.apply(t,[e].concat(i)),n)},t.prototype.$t=function(t){if(!t)return"";for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var c=r.apply(void 0,n),l=c.lang,f=c.fallback,d=c.params,p=null;return this.$options.locales&&(p=o(m(u,this),l,f,t,d))?p:a(l,t,this,o(s,l,f,t,d))},t.prototype.$tc=function(t,e){if("number"!=typeof e&&"undefined"!=typeof e)return t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return p(this.$t.apply(this,[t].concat(r)),e)},t}function b(t){var i=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t.version&&Number(t.version.split(".")[0])||-1);if("production"!==e.env.NODE_ENV&&b.installed)return void n("already installed.");if("production"!==e.env.NODE_ENV&&i<1)return void n("vue-i18n ("+b.version+") need to use vue version 1.0 or later (vue version: "+t.version+").");var o="en";w(t,o),r(t,H),a(t,H,i),c(t,H,o),_(t)}function w(t,e){var n=t.config.silent;t.config.silent=!0,H||(H=new t({data:{lang:e,locales:{}}})),t.config.silent=n}var x={};x.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var E=void 0,A=void 0,k=void 0,O=null,C=null,D=/(%|)\{([0-9a-zA-Z_]+)\}/g,T=Object.create(null),$=0,F=1,P=2,S=3,N=0,j=1,R=2,L=3,I=4,M=5,U=6,B=7,V=8,z=[];z[N]={ws:[N],ident:[L,$],"[":[I],eof:[B]},z[j]={ws:[j],".":[R],"[":[I],eof:[B]},z[R]={ws:[R],ident:[L,$]},z[L]={ident:[L,$],0:[L,$],number:[L,$],ws:[j,F],".":[R,F],"[":[I,F],eof:[B,F]},z[I]={"'":[M,$],'"':[U,$],"[":[I,P],"]":[j,S],eof:V,else:[I,$]},z[M]={"'":[I,$],eof:V,else:[M,$]},z[U]={'"':[I,$],eof:V,else:[U,$]};var Y=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,H=void 0;b.version="4.7.3","undefined"!=typeof window&&window.Vue&&window.Vue.use(b),t.exports=b}).call(e,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};["en","zh"].forEach(function(t){r[t]=n(106)("./"+t)}),e.default=r},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./en":107,"./en.yml":107,"./index":105,"./index.js":105,"./zh":108,"./zh.yml":108};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=106},function(t,e){t.exports={button:{upload:"upload",save:"save",close_edit:"close edit",open_edit:"open edit",help:"help",lrc_info:"info",remove_lyric:"remove lyric",prev_lyric:"prev lyric",next_lyric:"next lyric"},menu:{upload:{lrc:"LRC format lyric",lyric:"lyric text",music:"music"}},modal:{lrc_format_save:{title:"Lyrics Save",info_title:"Lyrics Info",fields:{song_title:"Sone Title",artist:"Artist",album:"Album",songtext_creator:"Songtext Creator",lrc_creator:"LRC Creator"},save_title:"Lyrics",combine:"combine lyrics",download:"lyrics file download"},lrc_format_upload:{title:"Upload LRC Format",description:"Upload timestamped lyrics",upload:"Read from file"},lyric_upload:{title:"Upload Text Lyrics",description:"Plain Text lyrics, lyrics divided by a newline",upload:"Read from file"},help:{title:"Help",shortcut_key:"shortcut key",play_control:{title:"play control",left_key:"<Left>",right_key:"<Right>",backward:"backward",forward:"forward"},make_lrc:{title:"make lrc",up_key:"<Up>",down_key:"<Down>",prev_lyric:"prev lyric",next_lyric:"next lyric"},source_code:"source code"},button:{ok:"ok",cancel:"cancel"}},lyric_editor:{edit:"edit",add:"add",remove:"remove",remove_timestamp:"remove timestamp",play_to_this_lyric:"play to this lyric",following_unsorted:"The following unsorted"}}},function(t,e){t.exports={button:{upload:"",save:"",close_edit:"",open_edit:"",help:"",lrc_info:"",remove_lyric:"",prev_lyric:"",next_lyric:""},menu:{upload:{lrc:"LRC",lyric:"",music:""}},modal:{lrc_format_save:{title:"",info_title:"",fields:{song_title:"",artist:"",album:"",songtext_creator:"",lrc_creator:"LRC "},save_title:"",combine:"",download:""},lrc_format_upload:{title:"LRC",description:"",upload:""},lyric_upload:{title:"",description:"",upload:""},help:{title:"",shortcut_key:"",play_control:{title:"",left_key:"<Left>",right_key:"<Right>",backward:"",forward:""},make_lrc:{title:"",up_key:"<Up>",down_key:"<Down>",prev_lyric:"",next_lyric:""},source_code:""},button:{ok:"",cancel:""}},lyric_editor:{edit:"",add:"",remove:"",remove_timestamp:"",play_to_this_lyric:"",following_unsorted:""}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzM5NGM5NjY3ZTIwNGMzNjMwYmUiLCJ3ZWJwYWNrOi8vLy4vbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi4vfi92dWUvZGlzdC92dWUucnVudGltZS5jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL2luZGV4LnZ1ZT81NzIwIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWU/OGFjOSIsIndlYnBhY2s6Ly8vLi4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvc2Fzcy9mb250ZWxsby9jc3MvZm9udGVsbG8uY3NzIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uZW90Iiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8ud29mZjIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8udHRmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uc3ZnIiwid2VicGFjazovLy8uLi9+L3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWU/ZjBiMSIsIndlYnBhY2s6Ly8vLi9hcHAvdXBsb2FkLnZ1ZT84NzI3Iiwid2VicGFjazovLy91cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC91cGxvYWQudnVlPzMxNmEiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/N2VmOSIsIndlYnBhY2s6Ly8vLi9hcHAvcGxheWVyLnZ1ZT9hOTI0Iiwid2VicGFjazovLy9wbGF5ZXIudnVlIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3JhbmdlLnZ1ZT8xNjMwIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWU/MjA2MCIsIndlYnBhY2s6Ly8vcmFuZ2UudnVlIiwid2VicGFjazovLy8uL2FwcC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ldmVudGVtaXR0ZXIyL2xpYi9ldmVudGVtaXR0ZXIyLmpzIiwid2VicGFjazovLy8uLi9+L2ZpbGVzYXZlci5qcy9GaWxlU2F2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vd2VicGFjay9idWlsZGluL2FtZC1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vd2VicGFjay9idWlsZGluL2FtZC1vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9+L3VuaWRyYWdnZXIvdW5pZHJhZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi91bmlwb2ludGVyL3VuaXBvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzIiwid2VicGFjazovLy8uLi9+L2lzX2pzL2lzLmpzIiwid2VicGFjazovLy8uLi9+L2V4dGVuZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9+L2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvcmFuZ2UudnVlP2RmYWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RpbWUtcGFuZWwudnVlIiwid2VicGFjazovLy8uL2FwcC90aW1lLXBhbmVsLnZ1ZT8zMzA2Iiwid2VicGFjazovLy8uL2FwcC90aW1lLXBhbmVsLnZ1ZT83MzhlIiwid2VicGFjazovLy90aW1lLXBhbmVsLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RpbWUtcGFuZWwudnVlP2QwMjMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/OWNhNSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZT8xYTg2Iiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlP2ViNzAiLCJ3ZWJwYWNrOi8vL2x5cmljLWVkaXRvci52dWUiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvbHJjLWtpdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9scmMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzIiwid2VicGFjazovLy8uLi9+L2xyYy1raXQvfi9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/NWEwOCIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlPzc5MWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT81OWRiIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/YzA5OSIsIndlYnBhY2s6Ly8vdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90b29sdGlwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/NTliZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/YTViZCIsIndlYnBhY2s6Ly8vdG9vbHRpcC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Rvb2x0aXAudnVlPzA0MTIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT9lNWYyIiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlPzYwM2QiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/Zjc3NiIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZT82OTg1Iiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvaW5kZXgudnVlPzU3ZDgiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/MmEyZCIsIndlYnBhY2s6Ly8vaW5kZXgudnVlP2I3YjUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2hlbHAudnVlPzcwMWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZT9hMzJjIiwid2VicGFjazovLy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZS5qc29uIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvaGVscC52dWU/OTQwOSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZSIsIndlYnBhY2s6Ly8vbHJjLWZvcm1hdC11cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHJjLWZvcm1hdC11cGxvYWQudnVlPzQwYTEiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9seXJpYy11cGxvYWQudnVlIiwid2VicGFjazovLy9seXJpYy11cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHlyaWMtdXBsb2FkLnZ1ZT9kMTU2Iiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHJjLXNhdmUudnVlIiwid2VicGFjazovLy9scmMtc2F2ZS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9scmMtc2F2ZS52dWU/MWE0NyIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZT8zOTg4Iiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT85NGIxIiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWU/YTJhNCIsIndlYnBhY2s6Ly8vLi9hcHAvbmF2LW1lbnUudnVlP2ZjNDMiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT84NjdjIiwid2VicGFjazovLy9uYXYtbWVudS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT9kNjgwIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWU/YWFiMCIsIndlYnBhY2s6Ly8vLi9pMThuLmpzIiwid2VicGFjazovLy8uLi9+L3Z1ZS1pMThuL2Rpc3QvdnVlLWkxOG4uY29tbW9uLmpzIiwid2VicGFjazovLy8uL2xvY2FsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbG9jYWxlcyBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL2xvY2FsZXMvZW4ueW1sIiwid2VicGFjazovLy8uL2xvY2FsZXMvemgueW1sIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl92dWUiLCJfdnVlMiIsIl9hcHAiLCJfYXBwMiIsImVsIiwicmVuZGVyIiwiaCIsImdsb2JhbCIsInByb2Nlc3MiLCJfdG9TdHJpbmciLCJ2YWwiLCJKU09OIiwic3RyaW5naWZ5IiwiU3RyaW5nIiwidG9OdW1iZXIiLCJuIiwicGFyc2VGbG9hdCIsIm1ha2VNYXAiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwibWFwIiwiT2JqZWN0IiwiY3JlYXRlIiwibGlzdCIsInNwbGl0IiwiaSIsImxlbmd0aCIsInRvTG93ZXJDYXNlIiwicmVtb3ZlJDEiLCJhcnIiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiaGFzT3duIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJpc1ByaW1pdGl2ZSIsInZhbHVlIiwiY2FjaGVkIiwiZm4iLCJjYWNoZSIsImhpdCIsImJpbmQkMSIsImN0eCIsImJvdW5kRm4iLCJhIiwibCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2xlbmd0aCIsInRvQXJyYXkiLCJzdGFydCIsInJldCIsIkFycmF5IiwiZXh0ZW5kIiwidG8iLCJfZnJvbSIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvU3RyaW5nIiwiT0JKRUNUX1NUUklORyIsInRvT2JqZWN0IiwicmVzIiwibm9vcCIsImdlblN0YXRpY0tleXMiLCJyZWR1Y2UiLCJrZXlzIiwiY29uY2F0Iiwic3RhdGljS2V5cyIsImpvaW4iLCJsb29zZUVxdWFsIiwiYiIsImxvb3NlSW5kZXhPZiIsImlzUmVzZXJ2ZWQiLCJjaGFyQ29kZUF0IiwiZGVmIiwiZW51bWVyYWJsZSIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJwYXJzZVBhdGgiLCJwYXRoIiwiYmFpbFJFIiwidGVzdCIsInNlZ21lbnRzIiwiaXNOYXRpdmUiLCJDdG9yIiwicHVzaFRhcmdldCIsIl90YXJnZXQiLCJEZXAiLCJ0YXJnZXQiLCJ0YXJnZXRTdGFjayIsInB1c2giLCJwb3BUYXJnZXQiLCJwb3AiLCJwcm90b0F1Z21lbnQiLCJzcmMiLCJfX3Byb3RvX18iLCJjb3B5QXVnbWVudCIsIm9ic2VydmUiLCJvYiIsIl9fb2JfXyIsIk9ic2VydmVyIiwib2JzZXJ2ZXJTdGF0ZSIsInNob3VsZENvbnZlcnQiLCJpc1NlcnZlclJlbmRlcmluZyIsImlzQXJyYXkiLCJpc0V4dGVuc2libGUiLCJfaXNWdWUiLCJkZWZpbmVSZWFjdGl2ZSQkMSIsImN1c3RvbVNldHRlciIsImRlcCIsInByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0dGVyIiwiZ2V0Iiwic2V0dGVyIiwic2V0IiwiY2hpbGRPYiIsImRlcGVuZCIsImRlcGVuZEFycmF5IiwibmV3VmFsIiwiZW52IiwiTk9ERV9FTlYiLCJub3RpZnkiLCJNYXRoIiwibWF4Iiwidm1Db3VudCIsIndhcm4iLCJkZWwiLCJlIiwibWVyZ2VEYXRhIiwiZnJvbSIsInRvVmFsIiwiZnJvbVZhbCIsIm1lcmdlSG9vayIsInBhcmVudFZhbCIsImNoaWxkVmFsIiwibWVyZ2VBc3NldHMiLCJjaGVja0NvbXBvbmVudHMiLCJvcHRpb25zIiwiY29tcG9uZW50cyIsImxvd2VyIiwiaXNCdWlsdEluVGFnIiwiY29uZmlnIiwiaXNSZXNlcnZlZFRhZyIsIm5vcm1hbGl6ZVByb3BzIiwicHJvcHMiLCJuYW1lIiwiY2FtZWxpemUiLCJ0eXBlIiwibm9ybWFsaXplRGlyZWN0aXZlcyIsImRpcnMiLCJkaXJlY3RpdmVzIiwiYmluZCIsInVwZGF0ZSIsIm1lcmdlT3B0aW9ucyIsInBhcmVudCIsImNoaWxkIiwidm0iLCJtZXJnZUZpZWxkIiwic3RyYXQiLCJzdHJhdHMiLCJkZWZhdWx0U3RyYXQiLCJleHRlbmRzRnJvbSIsImV4dGVuZHMiLCJtaXhpbnMiLCJtaXhpbiIsInByb3RvdHlwZSIsIlZ1ZSQyIiwicmVzb2x2ZUFzc2V0Iiwid2Fybk1pc3NpbmciLCJhc3NldHMiLCJjYXBpdGFsaXplIiwic2xpY2UiLCJ2YWxpZGF0ZVByb3AiLCJwcm9wT3B0aW9ucyIsInByb3BzRGF0YSIsInByb3AiLCJhYnNlbnQiLCJpc0Jvb2xlYW5UeXBlIiwiaHlwaGVuYXRlIiwidW5kZWZpbmVkIiwiZ2V0UHJvcERlZmF1bHRWYWx1ZSIsInByZXZTaG91bGRDb252ZXJ0IiwiYXNzZXJ0UHJvcCIsIiRvcHRpb25zIiwiRnVuY3Rpb24iLCJyZXF1aXJlZCIsInZhbGlkIiwiZXhwZWN0ZWRUeXBlcyIsImFzc2VydGVkVHlwZSIsImFzc2VydFR5cGUiLCJleHBlY3RlZFR5cGUiLCJ2YWxpZGF0b3IiLCJnZXRUeXBlIiwibWF0Y2giLCJsZW4iLCJyZXNldFNjaGVkdWxlclN0YXRlIiwicXVldWUiLCJoYXMkMSIsImNpcmN1bGFyIiwid2FpdGluZyIsImZsdXNoaW5nIiwiZmx1c2hTY2hlZHVsZXJRdWV1ZSIsInNvcnQiLCJ3YXRjaGVyIiwicnVuIiwiX21heFVwZGF0ZUNvdW50IiwidXNlciIsImRldnRvb2xzIiwiZW1pdCIsInF1ZXVlV2F0Y2hlciIsIm5leHRUaWNrIiwidHJhdmVyc2UiLCJzZWVuT2JqZWN0cyIsImNsZWFyIiwiX3RyYXZlcnNlIiwic2VlbiIsImlzQSIsImRlcElkIiwiaGFzIiwiYWRkIiwiaW5pdFN0YXRlIiwiX3dhdGNoZXJzIiwiaW5pdFByb3BzIiwiaW5pdERhdGEiLCJpbml0Q29tcHV0ZWQiLCJpbml0TWV0aG9kcyIsImluaXRXYXRjaCIsIl9wcm9wS2V5cyIsImlzUm9vdCIsIiRwYXJlbnQiLCJsb29wIiwiaXNSZXNlcnZlZFByb3AiLCJpc1NldHRpbmdQcm9wcyIsImRhdGEiLCJfZGF0YSIsInByb3h5IiwiY29tcHV0ZWQiLCJ1c2VyRGVmIiwiY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uIiwibWFrZUNvbXB1dGVkR2V0dGVyIiwib3duZXIiLCJXYXRjaGVyIiwibGF6eSIsImRpcnR5IiwiZXZhbHVhdGUiLCJtZXRob2RzIiwid2F0Y2giLCJoYW5kbGVyIiwiY3JlYXRlV2F0Y2hlciIsIiR3YXRjaCIsInN0YXRlTWl4aW4iLCJWdWUiLCJkYXRhRGVmIiwidGhpcyIsIm5ld0RhdGEiLCIkc2V0IiwiJGRlbGV0ZSIsImV4cE9yRm4iLCJjYiIsImltbWVkaWF0ZSIsInRlYXJkb3duIiwiY2xvbmVWTm9kZSIsInZub2RlIiwiY2xvbmVkIiwiVk5vZGUiLCJ0YWciLCJjaGlsZHJlbiIsInRleHQiLCJlbG0iLCJucyIsImNvbnRleHQiLCJjb21wb25lbnRPcHRpb25zIiwiaXNTdGF0aWMiLCJpc0Nsb25lZCIsImNsb25lVk5vZGVzIiwidm5vZGVzIiwibWVyZ2VWTm9kZUhvb2siLCJob29rS2V5IiwiaG9vayIsImluamVjdGVkSGFzaCIsIl9faW5qZWN0ZWQiLCJvbGRIb29rIiwidXBkYXRlTGlzdGVuZXJzIiwib24iLCJvbGRPbiIsInJlbW92ZSQkMSIsImN1ciIsIm9sZCIsImV2ZW50IiwiY2FwdHVyZSIsImNoYXJBdCIsImludm9rZXIiLCJhcnJJbnZva2VyIiwiZm5JbnZva2VyIiwiZXYiLCJhcmd1bWVudHMkMSIsInNpbmdsZSIsIm8iLCJub3JtYWxpemVDaGlsZHJlbiIsIm5lc3RlZEluZGV4IiwiY3JlYXRlVGV4dFZOb2RlIiwibGFzdCIsImFwcGx5TlMiLCJnZXRGaXJzdENvbXBvbmVudENoaWxkIiwiZmlsdGVyIiwiaW5pdExpZmVjeWNsZSIsImFic3RyYWN0IiwiJGNoaWxkcmVuIiwiJHJvb3QiLCIkcmVmcyIsIl93YXRjaGVyIiwiX2luYWN0aXZlIiwiX2lzTW91bnRlZCIsIl9pc0Rlc3Ryb3llZCIsIl9pc0JlaW5nRGVzdHJveWVkIiwibGlmZWN5Y2xlTWl4aW4iLCJfbW91bnQiLCJoeWRyYXRpbmciLCIkZWwiLCJlbXB0eVZOb2RlIiwidGVtcGxhdGUiLCJjYWxsSG9vayIsIl91cGRhdGUiLCJfcmVuZGVyIiwiJHZub2RlIiwicHJldkVsIiwicHJldkFjdGl2ZUluc3RhbmNlIiwiYWN0aXZlSW5zdGFuY2UiLCJwcmV2Vm5vZGUiLCJfdm5vZGUiLCJfX3BhdGNoX18iLCJfX3Z1ZV9fIiwiX3VwZGF0ZUZyb21QYXJlbnQiLCJsaXN0ZW5lcnMiLCJwYXJlbnRWbm9kZSIsInJlbmRlckNoaWxkcmVuIiwiaGFzQ2hpbGRyZW4iLCJfcmVuZGVyQ2hpbGRyZW4iLCJfcGFyZW50Vm5vZGUiLCJwcm9wS2V5cyIsIm9sZExpc3RlbmVycyIsIl9wYXJlbnRMaXN0ZW5lcnMiLCJfdXBkYXRlTGlzdGVuZXJzIiwiJHNsb3RzIiwicmVzb2x2ZVNsb3RzIiwiX3JlbmRlckNvbnRleHQiLCIkZm9yY2VVcGRhdGUiLCIkZGVzdHJveSIsIiRvZmYiLCJoYW5kbGVycyIsImoiLCIkZW1pdCIsImNyZWF0ZUNvbXBvbmVudCIsImJhc2VDdG9yIiwiX2Jhc2UiLCJjaWQiLCJyZXNvbHZlZCIsInJlc29sdmVBc3luY0NvbXBvbmVudCIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJleHRyYWN0UHJvcHMiLCJmdW5jdGlvbmFsIiwiY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCIsIm5hdGl2ZU9uIiwibWVyZ2VIb29rcyIsImNyZWF0ZUVsZW1lbnQiLCJfc2VsZiIsInNsb3RzIiwiZnVuY3Rpb25hbENvbnRleHQiLCJzbG90IiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSIsInZub2RlQ29tcG9uZW50T3B0aW9ucyIsIl9pc0NvbXBvbmVudCIsIl9jb21wb25lbnRUYWciLCJpbmxpbmVUZW1wbGF0ZSIsInN0YXRpY1JlbmRlckZucyIsImluaXQiLCIkbW91bnQiLCJrZWVwQWxpdmUiLCJtb3VudGVkTm9kZSIsInByZXBhdGNoIiwib2xkVm5vZGUiLCJpbnNlcnQiLCJkZXN0cm95JDEiLCJmYWN0b3J5IiwicmVxdWVzdGVkIiwiY2JzIiwicGVuZGluZ0NhbGxiYWNrcyIsInN5bmMiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhc29uIiwidGhlbiIsImF0dHJzIiwiZG9tUHJvcHMiLCJhbHRLZXkiLCJjaGVja1Byb3AiLCJoYXNoIiwicHJlc2VydmUiLCJob29rc1RvTWVyZ2UiLCJmcm9tUGFyZW50Iiwib3VycyIsImhvb2tzIiwibWVyZ2VIb29rJDEiLCJfIiwiX18iLCJfY3JlYXRlRWxlbWVudCIsInNjb3BlZFNsb3RzIiwiZ2V0VGFnTmFtZXNwYWNlIiwiY2hpbGROcyIsImluaXRSZW5kZXIiLCJfc3RhdGljVHJlZXMiLCIkc2NvcGVkU2xvdHMiLCIkY3JlYXRlRWxlbWVudCIsInJlbmRlck1peGluIiwibWFya1N0YXRpYyIsInRyZWUiLCJpc09uY2UiLCJtYXJrU3RhdGljTm9kZSIsIm5vZGUiLCIkbmV4dFRpY2siLCJyZWYiLCJfcmVuZGVyUHJveHkiLCJmb3JtYXRDb21wb25lbnROYW1lIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIiwiX2giLCJfcyIsIl9uIiwiX2UiLCJfcSIsIl9pIiwiX20iLCJpc0luRm9yIiwiX28iLCJpZGVudGl0eSIsIl9mIiwiX2wiLCJfdCIsImZhbGxiYWNrIiwic2NvcGVkU2xvdEZuIiwic2xvdE5vZGVzIiwiX3JlbmRlcmVkIiwiX2IiLCJhc1Byb3AiLCJtdXN0VXNlUHJvcCIsIl9rIiwia2V5Q29kZXMiLCJkZWZhdWx0U2xvdCIsImlzQ29tbWVudCIsImluaXRFdmVudHMiLCJfZXZlbnRzIiwiJG9uIiwib2ZmIiwiZXZlbnRzTWl4aW4iLCIkb25jZSIsImFyZ3MiLCJpbml0TWl4aW4iLCJfaW5pdCIsIl91aWQiLCJ1aWQiLCJpbml0SW50ZXJuYWxDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImluaXRQcm94eSIsIm9wdHMiLCJzdXBlciIsInN1cGVyT3B0aW9ucyIsImNhY2hlZFN1cGVyT3B0aW9ucyIsImV4dGVuZE9wdGlvbnMiLCJfc2NvcGVJZCIsImluaXRVc2UiLCJ1c2UiLCJwbHVnaW4iLCJpbnN0YWxsZWQiLCJ1bnNoaWZ0IiwiaW5zdGFsbCIsImluaXRNaXhpbiQxIiwiaW5pdEV4dGVuZCIsIlN1cGVyIiwiU3VwZXJJZCIsImNhY2hlZEN0b3JzIiwiX0N0b3IiLCJTdWIiLCJfYXNzZXRUeXBlcyIsImZvckVhY2giLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJkZWZpbml0aW9uIiwibWF0Y2hlcyIsInBhdHRlcm4iLCJpbml0R2xvYmFsQVBJIiwiY29uZmlnRGVmIiwidXRpbCIsImRlbGV0ZSIsImJ1aWx0SW5Db21wb25lbnRzIiwiZ2VuQ2xhc3NGb3JWbm9kZSIsInBhcmVudE5vZGUiLCJjaGlsZE5vZGUiLCJtZXJnZUNsYXNzRGF0YSIsImdlbkNsYXNzRnJvbURhdGEiLCJzdGF0aWNDbGFzcyIsImNsYXNzIiwiZHluYW1pY0NsYXNzIiwic3RyaW5naWZ5Q2xhc3MiLCJzdHJpbmdpZmllZCIsImlzU1ZHIiwiaXNVbmtub3duRWxlbWVudCIsImluQnJvd3NlciIsInVua25vd25FbGVtZW50Q2FjaGUiLCJkb2N1bWVudCIsIndpbmRvdyIsIkhUTUxVbmtub3duRWxlbWVudCIsIkhUTUxFbGVtZW50IiwicXVlcnkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50JDEiLCJ0YWdOYW1lIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudE5TIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlTWFwIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVDb21tZW50IiwiaW5zZXJ0QmVmb3JlIiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwibmV4dFNpYmxpbmciLCJzZXRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiY2hpbGROb2RlcyIsInJlZ2lzdGVyUmVmIiwiaXNSZW1vdmFsIiwicmVmcyIsInJlZkluRm9yIiwiaXNVbmRlZiIsInMiLCJpc0RlZiIsInNhbWVWbm9kZSIsInZub2RlMSIsInZub2RlMiIsImNyZWF0ZUtleVRvT2xkSWR4IiwiYmVnaW5JZHgiLCJlbmRJZHgiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwiYmFja2VuZCIsImVtcHR5Tm9kZUF0Iiwibm9kZU9wcyIsImNyZWF0ZVJtQ2IiLCJjaGlsZEVsbSIsInJlbW92ZUVsZW1lbnQiLCJjcmVhdGVFbG0iLCJpbnNlcnRlZFZub2RlUXVldWUiLCJuZXN0ZWQiLCJpc1Jvb3RJbnNlcnQiLCJpbml0Q29tcG9uZW50IiwiaWdub3JlZEVsZW1lbnRzIiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwiaXNQYXRjaGFibGUiLCJpJDEiLCJlbXB0eU5vZGUiLCJwZW5kaW5nSW5zZXJ0IiwiYWRkVm5vZGVzIiwicGFyZW50RWxtIiwiYmVmb3JlIiwic3RhcnRJZHgiLCJpbnZva2VEZXN0cm95SG9vayIsImRlc3Ryb3kiLCJyZW1vdmVWbm9kZXMiLCJjaCIsInJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2siLCJybSIsInJlbW92ZSIsInVwZGF0ZUNoaWxkcmVuIiwib2xkQ2giLCJuZXdDaCIsInJlbW92ZU9ubHkiLCJvbGRLZXlUb0lkeCIsImlkeEluT2xkIiwiZWxtVG9Nb3ZlIiwib2xkU3RhcnRJZHgiLCJuZXdTdGFydElkeCIsIm9sZEVuZElkeCIsIm9sZFN0YXJ0Vm5vZGUiLCJvbGRFbmRWbm9kZSIsIm5ld0VuZElkeCIsIm5ld1N0YXJ0Vm5vZGUiLCJuZXdFbmRWbm9kZSIsImNhbk1vdmUiLCJwYXRjaFZub2RlIiwiaGFzRGF0YSIsInBvc3RwYXRjaCIsImludm9rZUluc2VydEhvb2siLCJpbml0aWFsIiwiaHlkcmF0ZSIsImFzc2VydE5vZGVNYXRjaCIsImNoaWxkcmVuTWF0Y2giLCJiYWlsZWQiLCJob29rcyQxIiwiaXNJbml0aWFsUGF0Y2giLCJpc1JlYWxFbGVtZW50Iiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhbmNlc3RvciIsInVwZGF0ZURpcmVjdGl2ZXMiLCJvbGREaXIiLCJkaXIiLCJpc0NyZWF0ZSIsIm9sZERpcnMiLCJub3JtYWxpemVEaXJlY3RpdmVzJDEiLCJuZXdEaXJzIiwiZGlyc1dpdGhJbnNlcnQiLCJkaXJzV2l0aFBvc3RwYXRjaCIsIm9sZFZhbHVlIiwiY2FsbEhvb2skMSIsImNvbXBvbmVudFVwZGF0ZWQiLCJpbnNlcnRlZCIsImNhbGxJbnNlcnQiLCJtb2RpZmllcnMiLCJlbXB0eU1vZGlmaWVycyIsImdldFJhd0Rpck5hbWUiLCJyYXdOYW1lIiwidXBkYXRlQXR0cnMiLCJvbGRBdHRycyIsInNldEF0dHIiLCJpc1hsaW5rIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJ4bGlua05TIiwiZ2V0WGxpbmtQcm9wIiwiaXNFbnVtZXJhdGVkQXR0ciIsImlzQm9vbGVhbkF0dHIiLCJpc0ZhbHN5QXR0clZhbHVlIiwic2V0QXR0cmlidXRlTlMiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJ0cmFuc2l0aW9uQ2xhc3MiLCJfdHJhbnNpdGlvbkNsYXNzZXMiLCJfcHJldkNsYXNzIiwidXBkYXRlRE9NTGlzdGVuZXJzIiwiX3ZfYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl92X3JlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVET01Qcm9wcyIsIm9sZFByb3BzIiwiX3ZhbHVlIiwic3RyQ3VyIiwiY29tcG9zaW5nIiwibm9ybWFsaXplU3R5bGVEYXRhIiwic3R5bGUiLCJub3JtYWxpemVTdHlsZUJpbmRpbmciLCJzdGF0aWNTdHlsZSIsImJpbmRpbmdTdHlsZSIsInBhcnNlU3R5bGVUZXh0IiwiZ2V0U3R5bGUiLCJjaGVja0NoaWxkIiwic3R5bGVEYXRhIiwidXBkYXRlU3R5bGUiLCJvbGRTdGF0aWNTdHlsZSIsIm9sZFN0eWxlQmluZGluZyIsIm9sZFN0eWxlIiwibmV3U3R5bGUiLCJzZXRQcm9wIiwiYWRkQ2xhc3MiLCJ0cmltIiwiY2xhc3NMaXN0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQ2xhc3MiLCJ0YXIiLCJyZXBsYWNlIiwibmV4dEZyYW1lIiwicmFmIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJ0aW1lb3V0IiwicHJvcENvdW50IiwiVFJBTlNJVElPTiIsInRyYW5zaXRpb25FbmRFdmVudCIsImFuaW1hdGlvbkVuZEV2ZW50IiwiZW5kZWQiLCJlbmQiLCJvbkVuZCIsInNldFRpbWVvdXQiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwidHJhbnNpdGlvbmVEZWxheXMiLCJ0cmFuc2l0aW9uUHJvcCIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25Qcm9wIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsIkFOSU1BVElPTiIsImhhc1RyYW5zZm9ybSIsInRyYW5zZm9ybVJFIiwiZGVsYXlzIiwiZHVyYXRpb25zIiwiZCIsInRvTXMiLCJOdW1iZXIiLCJlbnRlciIsIl9sZWF2ZUNiIiwiY2FuY2VsbGVkIiwicmVzb2x2ZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiX2VudGVyQ2IiLCJjc3MiLCJlbnRlckNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImFwcGVhckNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJiZWZvcmVFbnRlciIsImFmdGVyRW50ZXIiLCJlbnRlckNhbmNlbGxlZCIsImJlZm9yZUFwcGVhciIsImFwcGVhciIsImFmdGVyQXBwZWFyIiwiYXBwZWFyQ2FuY2VsbGVkIiwidHJhbnNpdGlvbk5vZGUiLCJpc0FwcGVhciIsInN0YXJ0Q2xhc3MiLCJhY3RpdmVDbGFzcyIsImJlZm9yZUVudGVySG9vayIsImVudGVySG9vayIsImFmdGVyRW50ZXJIb29rIiwiZW50ZXJDYW5jZWxsZWRIb29rIiwiZXhwZWN0c0NTUyIsImlzSUU5IiwidXNlcldhbnRzQ29udHJvbCIsIm9uY2UiLCJzaG93IiwicGVuZGluZ05vZGUiLCJfcGVuZGluZyIsImxlYXZlIiwicGVyZm9ybUxlYXZlIiwiYmVmb3JlTGVhdmUiLCJsZWF2ZUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImFmdGVyTGVhdmUiLCJsZWF2ZUNhbmNlbGxlZCIsImRlbGF5TGVhdmUiLCJkZWYkJDEiLCJhdXRvQ3NzVHJhbnNpdGlvbiIsImNhbGxlZCIsInNldFNlbGVjdGVkIiwiYmluZGluZyIsImlzTXVsdGlwbGUiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwib3B0aW9uIiwiZ2V0VmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiaGFzTm9NYXRjaGluZ09wdGlvbiIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ0cmlnZ2VyIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9jYXRlTm9kZSIsImdldFJlYWxDaGlsZCIsImNvbXBPcHRpb25zIiwiZXh0cmFjdFRyYW5zaXRpb25EYXRhIiwiY29tcCIsImtleSQxIiwicGxhY2Vob2xkZXIiLCJyYXdDaGlsZCIsImhhc1BhcmVudFRyYW5zaXRpb24iLCJjYWxsUGVuZGluZ0NicyIsIl9tb3ZlQ2IiLCJyZWNvcmRQb3NpdGlvbiIsIm5ld1BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGx5VHJhbnNsYXRpb24iLCJvbGRQb3MiLCJwb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsIm1vdmVkIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiX2lzU2VydmVyIiwiX1NldCIsImNhbWVsaXplUkUiLCJ0b1VwcGVyQ2FzZSIsImh5cGhlbmF0ZVJFIiwibm8iLCJoYXNQcm90byIsIlVBIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNJRSIsImlzRWRnZSIsImlzQW5kcm9pZCIsImlzSU9TIiwiVlVFX0VOViIsIl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJuZXh0VGlja0hhbmRsZXIiLCJwZW5kaW5nIiwiY29waWVzIiwiY2FsbGJhY2tzIiwidGltZXJGdW5jIiwiUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjb3VudGVyIiwib2JzZXJ2ZXIiLCJ0ZXh0Tm9kZSIsImNoYXJhY3RlckRhdGEiLCJfcmVzb2x2ZSIsIlNldCIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInNpbGVudCIsIl9saWZlY3ljbGVIb29rcyIsImhhc0NvbnNvbGUiLCJtc2ciLCJmb3JtYXRMb2NhdGlvbiIsIl9fZmlsZSIsInVpZCQxIiwic3VicyIsImFkZFN1YiIsInN1YiIsInJlbW92ZVN1YiIsImFkZERlcCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJtZXRob2QiLCJvcmlnaW5hbCIsInJlc3VsdCIsIm9ic2VydmVBcnJheSIsImFycmF5S2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJhdWdtZW50Iiwid2FsayIsIml0ZW1zIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJmcmVlemUiLCJkZWZpbmVSZWFjdGl2ZSIsImFsbG93ZWRHbG9iYWxzIiwid2Fybk5vblByZXNlbnQiLCJoYXNQcm94eSIsIlByb3h5IiwiaGFzSGFuZGxlciIsImlzQWxsb3dlZCIsImdldEhhbmRsZXIiLCJfd2l0aFN0cmlwcGVkIiwidWlkJDIiLCJkZWVwIiwiZXhwcmVzc2lvbiIsImFjdGl2ZSIsImRlcHMiLCJuZXdEZXBzIiwiZGVwSWRzIiwibmV3RGVwSWRzIiwiY2xlYW51cERlcHMiLCJ0aGlzJDEiLCJ0bXAiLCJfdkZvclJlbW92aW5nIiwicmF3IiwicGF0dGVyblR5cGVzIiwiUmVnRXhwIiwiS2VlcEFsaXZlIiwiaW5jbHVkZSIsImV4Y2x1ZGUiLCJjcmVhdGVkIiwiZGVzdHJveWVkIiwidmVyc2lvbiIsInRlc3RFbCIsImF0dHIiLCJzdmciLCJtYXRoIiwieGh0bWwiLCJpc0hUTUxUYWciLCJiYXNlTW9kdWxlcyIsImtsYXNzIiwiZXZlbnRzIiwiY3NzVGV4dCIsImhhc0JhY2tncm91bmQiLCJsaXN0RGVsaW1pdGVyIiwicHJvcGVydHlEZWxpbWl0ZXIiLCJjc3NWYXJSRSIsInNldFByb3BlcnR5Iiwibm9ybWFsaXplIiwicHJlZml4ZXMiLCJ1cHBlciIsInByZWZpeGVkIiwiaGFzVHJhbnNpdGlvbiIsIm9udHJhbnNpdGlvbmVuZCIsIm9ud2Via2l0dHJhbnNpdGlvbmVuZCIsIm9uYW5pbWF0aW9uZW5kIiwib253ZWJraXRhbmltYXRpb25lbmQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwbGF0Zm9ybU1vZHVsZXMiLCJwYXRjaCQxIiwibW9kZWxhYmxlVGFnUkUiLCJhY3RpdmVFbGVtZW50Iiwidm1vZGVsIiwibW9kZWwiLCJuZWVkUmVzZXQiLCJzb21lIiwidiIsIm9yaWdpbmFsRGlzcGxheSIsImRpc3BsYXkiLCJfX3ZPcmlnaW5hbERpc3BsYXkiLCJwbGF0Zm9ybURpcmVjdGl2ZXMiLCJ0cmFuc2l0aW9uUHJvcHMiLCJCb29sZWFuIiwibW9kZSIsIlRyYW5zaXRpb24iLCJfbGVhdmluZyIsIm9sZFJhd0NoaWxkIiwib2xkQ2hpbGQiLCJkZWxheWVkTGVhdmUiLCJtb3ZlQ2xhc3MiLCJUcmFuc2l0aW9uR3JvdXAiLCJwcmV2Q2hpbGRyZW4iLCJyYXdDaGlsZHJlbiIsInRyYW5zaXRpb25EYXRhIiwia2VwdCIsInJlbW92ZWQiLCJjJDEiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiaGFzTW92ZSIsImJvZHkiLCJvZmZzZXRIZWlnaHQiLCJwcm9wZXJ0eU5hbWUiLCJfaGFzTW92ZSIsImluZm8iLCJwbGF0Zm9ybUNvbXBvbmVudHMiLCJsb2ciLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiSXRlbSIsImFycmF5IiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb25zIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfX3Z1ZV9leHBvcnRzX18iLCJfX3Z1ZV9vcHRpb25zX18iLCJfX3Z1ZV90ZW1wbGF0ZV9fIiwiY29udGVudCIsImxvY2FscyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJpZHgiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsInN0eWxlU2hlZXQiLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJzb3VyY2VzIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVtb2l6ZSIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJfdXBsb2FkIiwiX3VwbG9hZDIiLCJfcGxheWVyIiwiX3BsYXllcjIiLCJfbHlyaWNFZGl0b3IiLCJfbHlyaWNFZGl0b3IyIiwiX21vZGFscyIsIl9tb2RhbHMyIiwiX25hdk1lbnUiLCJfbmF2TWVudTIiLCJfbHJjS2l0IiwiX2NhY2hlIiwiX2NhY2hlMiIsImxyY0Zvcm1hdCIsIm11c2ljVXJsIiwiZWRpdGluZyIsInJ1bm5lciIsIlJ1bm5lciIsIkxyYyIsInBhcnNlIiwibHlyaWNBcnJheSIsIiRBcHAiLCJ1cGxvYWRNdXNpYyIsIm11c2ljIiwicGxheWVyIiwicmVtb3ZlTHlyaWMiLCJwbGF5dG8iLCJ0aW1lIiwidGltZXVwZGF0ZSIsInRpbWVzdGFtcCIsImx5cmljIiwiVXBsb2FkIiwiUGxheWVyIiwiTHlyaWNFZGl0b3IiLCJNb2RhbHMiLCJOYXZNZW51IiwibW91bnRlZCIsIl90aGlzIiwidXBsb2FkIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImZpbGVzIiwidHlwZV9tYXRjaCIsInJlYWRGb3JtYXQiLCJhY2NlcHQiLCJjbGljayIsIl92bSIsIl9yYW5nZSIsIl9yYW5nZTIiLCJfdGltZVBhbmVsIiwiX3RpbWVQYW5lbDIiLCJfdXRpbHMiLCJob3ZlciIsImlzTW9iaWxlIiwibXV0ZWQiLCJwYXVzZWQiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwidm9sdW1lIiwiYXVkaW8iLCJzZWVrIiwicGVyY2VudCIsInZvbHVtZVNlZWsiLCJfdGhpczIiLCJwcmVsb2FkIiwiZ2xvYmFsS2V5ZG93biIsIm11c2ljUmFuZ2UiLCJjaGFuZ2VWYWx1ZSIsInNvdW5kUmFuZ2UiLCJwYXVzZSIsInBsYXkiLCJSYW5nZSIsIlRpbWVQYW5lbCIsInNlbGZWYWx1ZSIsImRyYWdpbmciLCJkcmFnVmFsdWUiLCJ0aHVtYiIsIm9mZnNldDJ2YWx1ZSIsIm9mZnNldFgiLCJlbWl0U2VlayIsImVtaXREcmFnU2VlayIsIm9mZnNldCIsImJhciIsImNsaWVudFdpZHRoIiwiZHJhZ2dlciIsIkRyYWdnZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsInNhdmVMcmMiLCJpc0ZpbGVTYXZlclN1cHBvcnRlZCIsIl9maWxlc2F2ZXIyIiwic2F2ZUFzIiwiQmxvYiIsImFsZXJ0IiwidGltZXN0YW1wMnRpbWVzdHIiLCJvbmx5SW50ZWdlciIsInBhZFplcm8iLCJudW0iLCJzaXplIiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwidGltZXN0cjJ0aW1lc3RhbXAiLCJfc3RyJHNwbGl0IiwiX3N0ciRzcGxpdDIiLCJfc2xpY2VkVG9BcnJheSIsIm1pbnV0ZSIsInNlY29uZCIsIlRvb2x0aXBQb3NpdGlvbiIsIkNhY2hlIiwiRGVsYXlIb3ZlciIsIlNjcm9sbGVyIiwiRXZlbnRFbWl0dGVyIiwic2xpY2VJdGVyYXRvciIsIl9hcnIiLCJfZCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJlcnIiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9nZXQiLCJvYmplY3QiLCJyZWNlaXZlciIsImRlc2MiLCJnZXRQcm90b3R5cGVPZiIsIl9ldmVudGVtaXR0ZXIiLCJfZXZlbnRlbWl0dGVyMiIsIl9maWxlc2F2ZXIiLCJfdW5pZHJhZ2dlciIsIl91bmlkcmFnZ2VyMiIsIl9pc19qcyIsIl9pc19qczIiLCJfZXh0ZW5kIiwiX2V4dGVuZDIiLCJfY2xvbmUiLCJfY2xvbmUyIiwiX0V2ZW50RW1pdHRlciIsIl9sZW4iLCJfa2V5IiwiaXQiLCJfZ2V0MiIsIl9nZXQzIiwidmlld3BvcnQiLCJfdGhpczMiLCJ0aW1lciIsInNjcm9sbGFibGVTdGFydFRpbWUiLCJEYXRlIiwiZGVsYXkiLCJzdGVwIiwiaXNDYW5TY3JvbGwiLCJsZXREZWxheSIsIm5vdyIsInRhcmdldFRvcCIsIl90aGlzNCIsImZvcmNlIiwiY2xlYXJUaW1lciIsInN0YXJ0VG9wIiwic2Nyb2xsVG9wIiwiZW5kVG9wIiwiZGlmZlRvcCIsInBlclN0ZXAiLCJjdXJUb3AiLCJfRXZlbnRFbWl0dGVyMiIsImVsZW1lbnQiLCJfdGhpczUiLCJlbnRlclRpbWVyIiwibGVhdmVUaW1lciIsImNmZyIsImVudGVyRGVsYXkiLCJsZWF2ZURlbGF5IiwidW5pcXVlIiwiY2xvc2VMYXN0SG92ZXIiLCJjbGVhckxlYXZlVGltZXIiLCJMYXN0SG92ZXIiLCJjbGVhckVudGVyVGltZXIiLCJwcmVmaXgiLCJsb2NhbFN0b3JhZ2UiLCIkdmVyc2lvbiIsImRlZmF1bHRWYWx1ZSIsInJlYWQiLCJ3cml0ZSIsImNvZGUiLCJyZXN1bHRzIiwiaGFzRmFsc2UiLCJwcmV2ZW50RGVmYXVsdCIsIl9VbmlkcmFnZ2VyIiwiZWxlbSIsImNvbnRhaW5lciIsIl90aGlzNiIsImVlIiwiX2VlIiwiX2VlMiIsImhhbmRsZXMiLCJiaW5kSGFuZGxlcyIsImRyYWdTdGFydFBvaW50Iiwib2Zmc2V0TGVmdCIsInBvaW50ZXIiLCJtb3ZlVmVjdG9yIiwieCIsInRvb2x0aXAiLCJkb2N1bWVudEVsZW1lbnQiLCJnZW5lcmF0ZURpcnMiLCJyZWN0IiwicmlnaHQiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJuZWdhdGl2ZSIsIndpZHRoIiwiaGVpZ2h0IiwidG9vbHRpcFJlY3QiLCJvdmVyZmxvd1ZhbHVlcyIsInJlY3RPdmVyZmxvd0NvdW50IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJfY29uZiIsImNvbmZpZ3VyZSIsImNvbmYiLCJkZWxpbWl0ZXIiLCJtYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwid2lsZGNhcmQiLCJuZXdMaXN0ZW5lciIsInZlcmJvc2VNZW1vcnlMZWFrIiwibGlzdGVuZXJUcmVlIiwibG9nUG9zc2libGVNZW1vcnlMZWFrIiwiY291bnQiLCJldmVudE5hbWUiLCJlcnJvck1zZyIsInRyYWNlIiwic2VhcmNoTGlzdGVuZXJUcmVlIiwibGVhZiIsImJyYW5jaCIsInhUcmVlIiwieHhUcmVlIiwiaXNvbGF0ZWRCcmFuY2giLCJlbmRSZWFjaGVkIiwidHlwZUxlbmd0aCIsImN1cnJlbnRUeXBlIiwibmV4dFR5cGUiLCJfbGlzdGVuZXJzIiwiKioiLCJncm93TGlzdGVuZXJUcmVlIiwibGlzdGVuZXIiLCJzaGlmdCIsIndhcm5lZCIsIkV2ZW50RW1pdHRlcjIiLCJzZXRNYXhMaXN0ZW5lcnMiLCJtYW55IiwidHRsIiwiX29yaWdpbiIsImFsIiwiX2FsbCIsImVtaXRBc3luYyIsInByb21pc2VzIiwiYWxsIiwib25BbnkiLCJyZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0Iiwicm9vdCIsImxlYWZzIiwiaUxlYWYiLCJwb3NpdGlvbiIsIm9mZkFueSIsImZucyIsImxpc3RlbmVyQ291bnQiLCJsaXN0ZW5lcnNBbnkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwidmlldyIsImRvYyIsImdldF9VUkwiLCJVUkwiLCJ3ZWJraXRVUkwiLCJzYXZlX2xpbmsiLCJjYW5fdXNlX3NhdmVfbGluayIsIk1vdXNlRXZlbnQiLCJ3ZWJraXRfcmVxX2ZzIiwid2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0iLCJyZXFfZnMiLCJyZXF1ZXN0RmlsZVN5c3RlbSIsIm1velJlcXVlc3RGaWxlU3lzdGVtIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwiZm9yY2Vfc2F2ZWFibGVfdHlwZSIsImZzX21pbl9zaXplIiwiYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0IiwicmV2b2tlIiwiZmlsZSIsInJldm9rZXIiLCJyZXZva2VPYmplY3RVUkwiLCJjaHJvbWUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiYXV0b19ib20iLCJibG9iIiwiRmlsZVNhdmVyIiwibm9fYXV0b19ib20iLCJvYmplY3RfdXJsIiwidGFyZ2V0X3ZpZXciLCJibG9iX2NoYW5nZWQiLCJkaXNwYXRjaF9hbGwiLCJmc19lcnJvciIsImNyZWF0ZU9iamVjdFVSTCIsImxvY2F0aW9uIiwiaHJlZiIsIm5ld190YWIiLCJvcGVuIiwic2FmYXJpIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJhYm9ydGFibGUiLCJmdW5jIiwiY3JlYXRlX2lmX25vdF9mb3VuZCIsImV4Y2x1c2l2ZSIsIklOSVQiLCJkb3dubG9hZCIsIndlYmtpdFNsaWNlIiwiVEVNUE9SQVJZIiwiZnMiLCJnZXREaXJlY3RvcnkiLCJzYXZlIiwiZ2V0RmlsZSIsImNyZWF0ZVdyaXRlciIsIndyaXRlciIsIm9ud3JpdGVlbmQiLCJ0b1VSTCIsIm9uZXJyb3IiLCJBQk9SVF9FUlIiLCJhYm9ydCIsIldSSVRJTkciLCJOT1RfRk9VTkRfRVJSIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0IiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iLCJVbmlwb2ludGVyIiwiVW5pZHJhZ2dlciIsInByb3RvIiwiX2JpbmRIYW5kbGVzIiwidW5iaW5kSGFuZGxlcyIsImlzQmluZCIsImJpbmRlckV4dHJhIiwicG9pbnRlckVuYWJsZWQiLCJoYW5kbGUiLCJ0b3VjaEFjdGlvbiIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc1RvdWNoQWN0aW9uIiwiYmluZE1ldGhvZCIsIl9iaW5kU3RhcnRFdmVudCIsInBvaW50ZXJEb3duIiwibm9kZU5hbWUiLCJpc1BvaW50ZXJEb3duIiwicG9pbnRlcklkZW50aWZpZXIiLCJfZHJhZ1BvaW50ZXJEb3duIiwiZm9jdXNlZCIsImJsdXIiLCJfYmluZFBvc3RTdGFydEV2ZW50cyIsImVtaXRFdmVudCIsInBvaW50ZXJEb3duUG9pbnQiLCJnZXRQb2ludGVyUG9pbnQiLCJjYW5QcmV2ZW50RGVmYXVsdCIsImNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biIsInBvaW50ZXJNb3ZlIiwiX2RyYWdQb2ludGVyTW92ZSIsIl9kcmFnTW92ZSIsIm1vdmVQb2ludCIsInkiLCJpc0RyYWdnaW5nIiwiaGFzRHJhZ1N0YXJ0ZWQiLCJfZHJhZ1N0YXJ0IiwiYWJzIiwicG9pbnRlclVwIiwiX2RyYWdQb2ludGVyVXAiLCJfZHJhZ0VuZCIsIl9zdGF0aWNDbGljayIsImlzUHJldmVudGluZ0NsaWNrcyIsImRyYWdTdGFydCIsImRyYWdNb3ZlIiwiZHJhZ0VuZCIsIm9uY2xpY2siLCJpc0lnbm9yaW5nTW91c2VVcCIsImZvY3VzIiwic3RhdGljQ2xpY2siLCJFdkVtaXR0ZXIiLCJiaW5kU3RhcnRFdmVudCIsInVuYmluZFN0YXJ0RXZlbnQiLCJoYW5kbGVFdmVudCIsImdldFRvdWNoIiwidG91Y2hlcyIsInRvdWNoIiwiaWRlbnRpZmllciIsIm9ubW91c2Vkb3duIiwiYnV0dG9uIiwiX3BvaW50ZXJEb3duIiwib250b3VjaHN0YXJ0IiwiY2hhbmdlZFRvdWNoZXMiLCJvbk1TUG9pbnRlckRvd24iLCJvbnBvaW50ZXJkb3duIiwicG9pbnRlcklkIiwicG9zdFN0YXJ0RXZlbnRzIiwibW91c2Vkb3duIiwidG91Y2hzdGFydCIsInBvaW50ZXJkb3duIiwiTVNQb2ludGVyRG93biIsIl9ib3VuZFBvaW50ZXJFdmVudHMiLCJfdW5iaW5kUG9zdFN0YXJ0RXZlbnRzIiwib25tb3VzZW1vdmUiLCJfcG9pbnRlck1vdmUiLCJvbk1TUG9pbnRlck1vdmUiLCJvbnBvaW50ZXJtb3ZlIiwib250b3VjaG1vdmUiLCJvbm1vdXNldXAiLCJfcG9pbnRlclVwIiwib25NU1BvaW50ZXJVcCIsIm9ucG9pbnRlcnVwIiwib250b3VjaGVuZCIsIl9wb2ludGVyRG9uZSIsInBvaW50ZXJEb25lIiwib25NU1BvaW50ZXJDYW5jZWwiLCJvbnBvaW50ZXJjYW5jZWwiLCJfcG9pbnRlckNhbmNlbCIsIm9udG91Y2hjYW5jZWwiLCJwb2ludGVyQ2FuY2VsIiwicGFnZVgiLCJwYWdlWSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIm9uY2VFdmVudHMiLCJfb25jZUV2ZW50cyIsIm9uY2VMaXN0ZW5lcnMiLCJpcyIsIm5vdCIsImFycmF5U2xpY2UiLCJwYXJhbWV0ZXJzIiwiYW55IiwicmVnZXhwQ2hlY2siLCJyZWdleHAiLCJyZWdleHBzIiwic2V0SW50ZXJmYWNlcyIsImZ1bmN0aW9uIiwiaW50ZXJmYWNlcyIsImFwaSIsInByZXZpb3VzSXMiLCJWRVJTSU9OIiwibnVsbCIsImJvb2xlYW4iLCJkYXRlIiwibmFuIiwibnVtYmVyIiwianNvbiIsInNhbWVUeXBlIiwidmFsdWUxIiwidmFsdWUyIiwic3RyaW5nIiwiY2hhciIsImVtcHR5IiwiZXhpc3R5IiwidHJ1dGh5IiwiZmFsc3kiLCJzcGFjZSIsImNoYXJhY3RlckNvZGUiLCJlcXVhbCIsImV2ZW4iLCJudW1iIiwib2RkIiwicG9zaXRpdmUiLCJhYm92ZSIsIm1pbiIsInVuZGVyIiwid2l0aGluIiwiZGVjaW1hbCIsImludGVnZXIiLCJmaW5pdGUiLCJpc0Zpbml0ZSIsIkluZmluaXR5IiwiaW5maW5pdGUiLCJ1cmwiLCJlbWFpbCIsImNyZWRpdENhcmQiLCJhbHBoYU51bWVyaWMiLCJ0aW1lU3RyaW5nIiwiZGF0ZVN0cmluZyIsInVzWmlwQ29kZSIsImNhUG9zdGFsQ29kZSIsInVrUG9zdENvZGUiLCJuYW5wUGhvbmUiLCJlcHBQaG9uZSIsInNvY2lhbFNlY3VyaXR5TnVtYmVyIiwiYWZmaXJtYXRpdmUiLCJoZXhhZGVjaW1hbCIsImhleENvbG9yIiwiaXB2NCIsImlwdjYiLCJpcCIsInN1YnN0ciIsInVwcGVyQ2FzZSIsImxvd2VyQ2FzZSIsInN0YXJ0V2l0aCIsImVuZFdpdGgiLCJjYXBpdGFsaXplZCIsIndvcmRzIiwicGFsaW5kcm9tZSIsInJldmVyc2UiLCJkYXlzIiwibW9udGhzIiwidG9kYXkiLCJ0b2RheVN0cmluZyIsInRvRGF0ZVN0cmluZyIsInllc3RlcmRheSIsInllc3RlcmRheVN0cmluZyIsInNldERhdGUiLCJnZXREYXRlIiwidG9tb3Jyb3ciLCJ0b21vcnJvd1N0cmluZyIsInBhc3QiLCJnZXRUaW1lIiwiZnV0dXJlIiwiZGF5IiwiZGF5U3RyaW5nIiwiZ2V0RGF5IiwibW9udGgiLCJtb250aFN0cmluZyIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwibGVhcFllYXIiLCJ3ZWVrZW5kIiwid2Vla2RheSIsImluRGF0ZVJhbmdlIiwic3RhcnRPYmoiLCJlbmRPYmoiLCJnaXZlbkRhdGUiLCJpbkxhc3RXZWVrIiwiaW5MYXN0TW9udGgiLCJzZXRNb250aCIsImluTGFzdFllYXIiLCJzZXRGdWxsWWVhciIsImluTmV4dFdlZWsiLCJpbk5leHRNb250aCIsImluTmV4dFllYXIiLCJxdWFydGVyT2ZZZWFyIiwicXVhcnRlck51bWJlciIsImZsb29yIiwiZGF5TGlnaHRTYXZpbmdUaW1lIiwiamFudWFyeSIsImp1bHkiLCJzdGRUaW1lem9uZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwidmVuZG9yIiwiYXBwVmVyc2lvbiIsImZpcmVmb3giLCJlZGdlIiwiaWUiLCJvcGVyYSIsImlvcyIsImlwaG9uZSIsImlwYWQiLCJpcG9kIiwiYW5kcm9pZCIsImFuZHJvaWRQaG9uZSIsImFuZHJvaWRUYWJsZXQiLCJibGFja2JlcnJ5IiwiZGVza3RvcCIsIm1vYmlsZSIsInRhYmxldCIsImxpbnV4IiwibWFjIiwid2luZG93cyIsIndpbmRvd3NQaG9uZSIsIndpbmRvd3NUYWJsZXQiLCJvbmxpbmUiLCJvbkxpbmUiLCJvZmZsaW5lIiwidG91Y2hEZXZpY2UiLCJEb2N1bWVudFRvdWNoIiwicHJvcGVydHlDb3VudCIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eURlZmluZWQiLCJ3aW5kb3dPYmplY3QiLCJkb21Ob2RlIiwiaW5BcnJheSIsInNvcnRlZCIsInNldFJlZ2V4cCIsInJlZ2V4cE5hbWUiLCJyIiwic2V0TmFtZXNwYWNlIiwidG9TdHIiLCJoYXNPd25Db25zdHJ1Y3RvciIsImhhc0lzUHJvdG90eXBlT2YiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsIkJ1ZmZlciIsImRlcHRoIiwiaW5jbHVkZU5vbkVudW1lcmFibGUiLCJuYXRpdmVNYXAiLCJuYXRpdmVTZXQiLCJuYXRpdmVQcm9taXNlIiwiX19pc0FycmF5IiwiX19pc1JlZ0V4cCIsInNvdXJjZSIsIl9fZ2V0UmVnRXhwRmxhZ3MiLCJsYXN0SW5kZXgiLCJfX2lzRGF0ZSIsInVzZUJ1ZmZlciIsImlzQnVmZmVyIiwiYWxsUGFyZW50cyIsImFsbENoaWxkcmVuIiwia2V5SXRlcmF0b3IiLCJrZXlDaGlsZCIsInZhbHVlQ2hpbGQiLCJlbnRyeUNoaWxkIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bWJvbCIsImFsbFByb3BlcnR5TmFtZXMiLCJfX29ialRvU3RyIiwicmUiLCJmbGFncyIsImlnbm9yZUNhc2UiLCJtdWx0aWxpbmUiLCJNYXAiLCJjbG9uZVByb3RvdHlwZSIsInR5cGVkQXJyYXlTdXBwb3J0IiwiVWludDhBcnJheSIsImZvbyIsInN1YmFycmF5IiwiYnl0ZUxlbmd0aCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJBcnJheUJ1ZmZlciIsImZyb21BcnJheUJ1ZmZlciIsImZyb21TdHJpbmciLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsImFsbG9jIiwiZmlsbCIsImVuY29kaW5nIiwiY2hlY2tlZCIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJmcm9tQXJyYXlMaWtlIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsImlzbmFuIiwiU2xvd0J1ZmZlciIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic2xvd1RvU3RyaW5nIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJidWYiLCJpbmRleFNpemUiLCJyZWFkVUludDE2QkUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJoZXhXcml0ZSIsInJlbWFpbmluZyIsInN0ckxlbiIsInBhcnNlZCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYXNjaWlUb0J5dGVzIiwibGF0aW4xV3JpdGUiLCJiYXNlNjRXcml0ZSIsInVjczJXcml0ZSIsInV0ZjE2bGVUb0J5dGVzIiwiYmFzZTY0IiwiZnJvbUJ5dGVBcnJheSIsImZpcnN0Qnl0ZSIsImNvZGVQb2ludCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJjb2RlUG9pbnRzIiwiTUFYX0FSR1VNRU5UU19MRU5HVEgiLCJmcm9tQ2hhckNvZGUiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJpZWVlNzU0Iiwid3JpdGVEb3VibGUiLCJiYXNlNjRjbGVhbiIsInN0cmluZ3RyaW0iLCJJTlZBTElEX0JBU0U2NF9SRSIsInVuaXRzIiwibGVhZFN1cnJvZ2F0ZSIsImJ5dGVBcnJheSIsImhpIiwibG8iLCJ0b0J5dGVBcnJheSIsImRzdCIsIklOU1BFQ1RfTUFYX0JZVEVTIiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiZXF1YWxzIiwiaW5zcGVjdCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpbmNsdWRlcyIsInRvSlNPTiIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwibWF4Qnl0ZXMiLCJ3cml0ZVVJbnRCRSIsIndyaXRlVUludDgiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJwbGFjZUhvbGRlcnNDb3VudCIsImI2NCIsInBsYWNlSG9sZGVycyIsIkFyciIsIkwiLCJyZXZMb29rdXAiLCJ0cmlwbGV0VG9CYXNlNjQiLCJsb29rdXAiLCJlbmNvZGVDaHVuayIsInVpbnQ4Iiwib3V0cHV0IiwiZXh0cmFCeXRlcyIsIm1heENodW5rTGVuZ3RoIiwibGVuMiIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJMTjIiLCJyZW1haW4iLCJ0aW1lUmVtYWluIiwiZmlsdGVycyIsImNhY2hlTWFwIiwidXNlck5hbWUiLCJjYWNoZU9iaiIsIiRldmVudCIsIm1vdXNlb3ZlciIsIm1vdXNlbGVhdmUiLCJjdXJyZW50LXRpbWUiLCJkcmFnLXNlZWsiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiX3RtZW51IiwiX3RtZW51MiIsImVkaXRpbmdJbmRleCIsImVkaXRpbmdUZXh0SW5kZXgiLCJzY3JvbGxlciIsImVkaXRNZW51IiwiZXhpdEVkaXQiLCJlZGl0IiwiZWRpdFRleHQiLCJscmMiLCJseXJpY3MiLCJyZW1vdmVUZXh0IiwiaW5zZXJ0VGV4dCIsInJlbW92ZVRpbWVzdGFtcCIsIl9seXJpY0FycmF5IiwicmVtb3ZlTHlyaWNzIiwic2V0VGltZXN0YW1wIiwic2V0VGltZXN0YW1wVGV4dCIsInNjcm9sbFRvQ3VycmVudEx5cmljIiwib2Zmc2V0VG9wIiwic2Nyb2xsVG8iLCJ0aW1lVXBkYXRlIiwiY3VySW5kZXgiLCJscmNVcGRhdGUiLCJUbWVudSIsIkxpbmVQYXJzZXIiLCJfbGluZVBhcnNlciIsIl9saW5lUGFyc2VyMiIsIl9scmMiLCJfbHJjMiIsIl9ydW5uZXIiLCJfcnVubmVyMiIsImxpbmUiLCJUWVBFIiwiSU5WQUxJRCIsIl9MaW5lUGFyc2VyJHBhcnNlVGFncyIsInBhcnNlVGFncyIsIl9MaW5lUGFyc2VyJHBhcnNlVGFnczIiLCJ0YWdzIiwiVElNRV9SRUdFWFAiLCJwYXJzZUFzVGltZSIsIklORk9fUkVHRVhQIiwicGFyc2VBc0luZm8iLCJtYXRjaHMiLCJUQUdTX1JFR0VYUCIsImV4ZWMiLCJ0aW1lc3RhbXBzIiwibWludXRlcyIsInNlY29uZHMiLCJUSU1FIiwiSU5GTyIsIm9mZnNldFRpbWUiLCJjb21iaW5lIiwibGluZUZvcm1hdCIsImxpbmVzIiwibHlyaWNzTWFwIiwibHlyaWNzTGlzdCIsInRpbWVzdGFtcFRvU3RyaW5nIiwiX2N1cnJlbnRJbmRleCIsInNldExyYyIsIl9vZmZzZXRBbGlnbiIsIl9zb3J0IiwiX2ZpbmRJbmRleCIsInN0YXJ0SW5kZXgiLCJjdXJGcm9udFRpbWVzdGFtcCIsIk5FR0FUSVZFX0lORklOSVRZIiwiY3VyQmFja1RpbWVzdGFtcCIsIlBPU0lUSVZFX0lORklOSVRZIiwiZ2V0THlyaWMiLCJfdG9vbHRpcCIsIl90b29sdGlwMiIsIlRvb2x0aXAiLCJ2aXNpYmlsaXR5IiwiRWxlbWVudCIsInRscFBvcyIsIndyYXAiLCJhcnJvd1NwYWNlIiwiZGhvdmVyIiwibWVudSIsImVudGVyLWRlbGF5IiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSIsImtleWRvd24iLCJrZXlDb2RlIiwiaW5wdXQiLCIkdCIsInRyYWNrLWJ5IiwiJCRleHAiLCIkJGlkeCIsIl9leHRlbmRzIiwiYXNzaWduIiwiX2hlbHAiLCJfaGVscDIiLCJfbHJjRm9ybWF0VXBsb2FkIiwiX2xyY0Zvcm1hdFVwbG9hZDIiLCJfbHlyaWNVcGxvYWQiLCJfbHlyaWNVcGxvYWQyIiwiX2xyY1NhdmUiLCJfbHJjU2F2ZTIiLCJDT01QT05FTlRTIiwiaGVscCIsImxyYy1mb3JtYXQtdXBsb2FkIiwibHlyaWMtdXBsb2FkIiwibHJjLXNhdmUiLCJNQyIsImNvbmZpcm0iLCJtb2RhbE5hbWUiLCJtb2RhbENvbXBvbmVudCIsImlzU2hvdyIsImNvdmVyU2hvdyIsIm1vZGFsV3JhcHBlciIsIm9rIiwiY2FuY2VsIiwiSGVscCIsIkxyY0Zvcm1hdFVwbG9hZCIsIkx5cmljVXBsb2FkIiwiTHJjU2F2ZSIsIl9wYWNrYWdlIiwiX3BhY2thZ2UyIiwiUEtHIiwiZGVzY3JpcHRpb24iLCJtYWluIiwic2NyaXB0cyIsImxpbnQiLCJkZXYiLCJidWlsZCIsImJ1aWxkOmNsZWFuIiwiYnVpbGQ6dmlldyIsImJ1aWxkOndlYnBhY2siLCJkZXBsb3kiLCJrZXl3b3JkcyIsImF1dGhvciIsImhvbWVwYWdlIiwicmVwb3NpdG9yeSIsIm9ubGluZVBhZ2UiLCJidWdzIiwibGljZW5zZSIsImRldkRlcGVuZGVuY2llcyIsImF1dG9wcmVmaXhlciIsImJhYmVsLWNvcmUiLCJiYWJlbC1lc2xpbnQiLCJiYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyIsImJhYmVsLWxvYWRlciIsImJhYmVsLXBsdWdpbi1zeW50YXgtanN4IiwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS12dWUtanN4IiwiYmFiZWwtcHJlc2V0LWxhdGVzdCIsImJhYmVsLXByZXNldC1zdGFnZS0wIiwiY3NzLWxvYWRlciIsImVzbGludCIsImVzbGludC1sb2FkZXIiLCJlc2xpbnQtcGx1Z2luLWh0bWwiLCJmaWxlLWxvYWRlciIsImdoLXBhZ2VzIiwianNvbi1sb2FkZXIiLCJub2RlLXNhc3MiLCJyZXNvbHZlLXVybC1sb2FkZXIiLCJzYXNzLWxvYWRlciIsInVybC1sb2FkZXIiLCJ2dWUtbG9hZGVyIiwidnVlLXRlbXBsYXRlLWNvbXBpbGVyIiwid2VicGFjayIsIndlYnBhY2stZGV2LXNlcnZlciIsInlhbWwtbG9hZGVyIiwiZGVwZW5kZW5jaWVzIiwiZXZlbnRlbWl0dGVyMiIsImZpbGVzYXZlci5qcyIsImxyYy1raXQiLCJ1bmlkcmFnZ2VyIiwidnVlIiwidnVlLWkxOG4iLCJ1cGxvYWRlZCIsInNhdmVPcHRpb25zIiwiaW5mb0ZpZWxkcyIsImxhYmVsIiwidmUiLCJieSIsImx5cmljVXBkYXRlIiwidGkiLCJjbGVhbkVtcHR5SW5mbyIsInJ1bm5lci5scmMuaW5mbyIsImZpZWxkIiwiZm9yIiwiY2hhbmdlIiwiJCRhIiwiJCRlbCIsIiQkYyIsIiQkdiIsIiQkaSIsImNvdmVyIiwiYWZ0ZXItbGVhdmUiLCJzdG9wUHJvcGFnYXRpb24iLCJtb2RhbHMiLCJyZWFkLWZvcm1hdCIsImx5cmljLWFycmF5IiwiX3Z1ZUkxOG4iLCJfdnVlSTE4bjIiLCJfbG9jYWxlcyIsIl9sb2NhbGVzMiIsImxhbmciLCJsYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwibG9jYWxlIiwic3RhY2siLCJBc3NldCIsImxhbmdWTSIsImxvY2FsZXMiLCJzZXRMb2NhbGUiLCJiYWJlbEhlbHBlcnMiLCJ0eXBlb2YiLCJpc1Byb21pc2UiLCJjYXRjaCIsIk92ZXJyaWRlIiwiJGxhbmciLCJfbGFuZ1Vud2F0Y2giLCJfZGVzdHJveSIsImdldFdhdGNoZXIiLCJ1bndhdGNoIiwiZ2V0RGVwIiwiQ29uZmlnIiwibWlzc2luZ0hhbmRsZXIiLCJpMThuRm9ybWF0dGVyIiwiaXNOaWwiLCJGb3JtYXQiLCJSRV9OQVJHUyIsImlzTGl0ZXJhbCIsImV4cCIsImxpdGVyYWxWYWx1ZVJFIiwic3RyaXBRdW90ZXMiLCJnZXRQYXRoQ2hhclR5cGUiLCJmb3JtYXRTdWJQYXRoIiwidHJpbW1lZCIsIm1heWJlVW5lc2NhcGVRdW90ZSIsIm5leHRDaGFyIiwiSU5fU0lOR0xFX1FVT1RFIiwiSU5fRE9VQkxFX1FVT1RFIiwibmV3Q2hhciIsImFjdGlvbnMiLCJBUFBFTkQiLCJCRUZPUkVfUEFUSCIsInN1YlBhdGhEZXB0aCIsImFjdGlvbiIsInR5cGVNYXAiLCJQVVNIIiwiSU5DX1NVQl9QQVRIX0RFUFRIIiwiUFVTSF9TVUJfUEFUSCIsIklOX1NVQl9QQVRIIiwicGF0aFN0YXRlTWFjaGluZSIsIkVSUk9SIiwiQUZURVJfUEFUSCIsInBhdGhDYWNoZSIsIlBhdGgiLCJwYXRocyIsIl9WdWUkdXRpbCIsIkV4dGVuZCIsInBhcnNlQXJncyIsImZhbGxiYWNrTGFuZyIsInBhcmFtcyIsImludGVycG9sYXRlIiwibGluayIsImxpbmtQbGFjZWhvbGRlciIsInRyYW5zbGF0ZWRzdHJpbmciLCJmb3JtYXQiLCJ0cmFuc2xhdGUiLCJ3YXJuRGVmYXVsdCIsImdldEFzc2V0TG9jYWxlIiwiZ2V0Q29tcG9uZW50TG9jYWxlIiwiZ2V0T2xkQ2hvaWNlSW5kZXhGaXhlZCIsImNob2ljZSIsImdldENob2ljZUluZGV4IiwiY2hvaWNlc0xlbmd0aCIsImZldGNoQ2hvaWNlIiwiY2hvaWNlcyIsInQiLCJfbGVuMiIsIl9rZXkyIiwiX3BhcnNlQXJncyIsInRjIiwiX2xlbjMiLCJfa2V5MyIsIl9sZW40IiwiX2tleTQiLCJfcGFyc2VBcmdzMiIsIiR0YyIsIl9sZW41IiwiX2tleTUiLCJzZXR1cExhbmdWTSIsIklOX1BBVEgiLCJCRUZPUkVfSURFTlQiLCJJTl9JREVOVCIsIndzIiwiaWRlbnQiLCJbIiwiZW9mIiwiLiIsIjAiLCInIiwiXCIiLCJdIiwiZWxzZSIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiLi9lbiIsIi4vZW4ueW1sIiwiLi9pbmRleCIsIi4vaW5kZXguanMiLCIuL3poIiwiLi96aC55bWwiLCJjbG9zZV9lZGl0Iiwib3Blbl9lZGl0IiwibHJjX2luZm8iLCJyZW1vdmVfbHlyaWMiLCJwcmV2X2x5cmljIiwibmV4dF9seXJpYyIsIm1vZGFsIiwibHJjX2Zvcm1hdF9zYXZlIiwiaW5mb190aXRsZSIsImZpZWxkcyIsInNvbmdfdGl0bGUiLCJhcnRpc3QiLCJhbGJ1bSIsInNvbmd0ZXh0X2NyZWF0b3IiLCJscmNfY3JlYXRvciIsInNhdmVfdGl0bGUiLCJscmNfZm9ybWF0X3VwbG9hZCIsImx5cmljX3VwbG9hZCIsInNob3J0Y3V0X2tleSIsInBsYXlfY29udHJvbCIsImxlZnRfa2V5IiwicmlnaHRfa2V5IiwiYmFja3dhcmQiLCJmb3J3YXJkIiwibWFrZV9scmMiLCJ1cF9rZXkiLCJkb3duX2tleSIsInNvdXJjZV9jb2RlIiwibHlyaWNfZWRpdG9yIiwicmVtb3ZlX3RpbWVzdGFtcCIsInBsYXlfdG9fdGhpc19seXJpYyIsImZvbGxvd2luZ191bnNvcnRlZCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxZQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsR0FFL0IsWUFZQSxTQUFTVyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHRTFEeEYsR0FBQUcsR0FBQWYsRUFBQSxHRmtES2dCLEVBQVFMLEVBQXVCSSxHRWpEcENFLEVBQUFqQixFQUFBLEdGcURLa0IsRUFBUVAsRUFBdUJNLEVFcERwQ2pCLEdBQUEsS0FFQSxHQUFBZ0IsR0FBQUYsU0FDRUssR0FBSSxRQUNKQyxPQUFRLFNBQUNDLEdBQUQsTUFBT0Esa0JGK0RYLFNBQVNqQixFQUFRRCxFQUFTSCxJR3JFaEMsU0FBQXNCLEVBQUFDOzs7OztBQUtBLFlBT0EsU0FBQUMsR0FBQUMsR0FDQSxhQUFBQSxFQUNBLEdBQ0EsZ0JBQUFBLEdB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QyxPQUFBLFdBR0FpTyxjQUNBMVUsS0FBQSxPQUNBN21ELElBQUEsTUFDQW9XLE9BQUEsU0FDQW9sRCxpQkFBQSxtQkFDQUMsbUJBQUEscUJBQ0FDLG1CQUFBLDRCN0cydGlCTSxTQUFTcHFFLEVBQVFELEc4R3J5aUJ2QkMsRUFBQUQsU0FDQXE2QyxRQUNBblgsT0FBQSxLQUNBd1MsS0FBQSxLQUNBNHlCLFdBQUEsT0FDQUMsVUFBQSxPQUNBbE4sS0FBQSxLQUNBbU4sU0FBQSxLQUNBQyxhQUFBLE9BQ0FDLFdBQUEsUUFDQUMsV0FBQSxTQUVBNU8sTUFDQTcyQixRQUNBd3lCLElBQUEsVUFDQWh6QixNQUFBLE9BQ0FQLE1BQUEsT0FHQXltQyxPQUNBQyxpQkFDQTdyQyxNQUFBLE9BQ0E4ckMsV0FBQSxPQUNBQyxRQUNBQyxXQUFBLEtBQ0FDLE9BQUEsTUFDQUMsTUFBQSxLQUNBQyxpQkFBQSxPQUNBQyxZQUFBLFdBRUFDLFdBQUEsS0FDQWhSLFFBQUEsT0FDQWhqQixTQUFBLFVBRUFpMEIsbUJBQ0F0c0MsTUFBQSxZQUNBeS9CLFlBQUEsZUFDQXY1QixPQUFBLFNBRUFxbUMsY0FDQXZzQyxNQUFBLFNBQ0F5L0IsWUFBQSxpQkFDQXY1QixPQUFBLFNBRUFtNEIsTUFDQXIrQixNQUFBLEtBQ0F3c0MsYUFBQSxNQUNBQyxjQUNBenNDLE1BQUEsT0FDQTBzQyxTQUFBLFNBQ0FDLFVBQUEsVUFDQUMsU0FBQSxLQUNBQyxRQUFBLE1BRUFDLFVBQ0E5c0MsTUFBQSxPQUNBK3NDLE9BQUEsT0FDQUMsU0FBQSxTQUNBdEIsV0FBQSxRQUNBQyxXQUFBLFNBRUFzQixZQUFBLE1BRUE1dkIsUUFDQTJoQixHQUFBLEtBQ0FDLE9BQUEsT0FHQWlPLGNBQ0ExVSxLQUFBLEtBQ0E3bUQsSUFBQSxLQUNBb1csT0FBQSxLQUNBb2xELGlCQUFBLFFBQ0FDLG1CQUFBLFVBQ0FDLG1CQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL2Fzc2V0cy9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdnVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfdnVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Z1ZSk7XG5cdFxuXHR2YXIgX2FwcCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2FwcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdG5ldyBfdnVlMi5kZWZhdWx0KHtcblx0ICBlbDogJyNib2R5Jyxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7XG5cdCAgICByZXR1cm4gaChfYXBwMi5kZWZhdWx0KTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCwgcHJvY2Vzcykgey8qIVxuXHQgKiBWdWUuanMgdjIuMS4zXG5cdCAqIChjKSAyMDE0LTIwMTYgRXZhbiBZb3Vcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyogICovXG5cdFxuXHQvKipcblx0ICogQ29udmVydCBhIHZhbHVlIHRvIGEgc3RyaW5nIHRoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBfdG9TdHJpbmcgKHZhbCkge1xuXHQgIHJldHVybiB2YWwgPT0gbnVsbFxuXHQgICAgPyAnJ1xuXHQgICAgOiB0eXBlb2YgdmFsID09PSAnb2JqZWN0J1xuXHQgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcblx0ICAgICAgOiBTdHJpbmcodmFsKVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ29udmVydCBhIGlucHV0IHZhbHVlIHRvIGEgbnVtYmVyIGZvciBwZXJzaXN0ZW5jZS5cblx0ICogSWYgdGhlIGNvbnZlcnNpb24gZmFpbHMsIHJldHVybiBvcmlnaW5hbCBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b051bWJlciAodmFsKSB7XG5cdCAgdmFyIG4gPSBwYXJzZUZsb2F0KHZhbCwgMTApO1xuXHQgIHJldHVybiAobiB8fCBuID09PSAwKSA/IG4gOiB2YWxcblx0fVxuXHRcblx0LyoqXG5cdCAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuXHQgKiBpcyBpbiB0aGF0IG1hcC5cblx0ICovXG5cdGZ1bmN0aW9uIG1ha2VNYXAgKFxuXHQgIHN0cixcblx0ICBleHBlY3RzTG93ZXJDYXNlXG5cdCkge1xuXHQgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIHZhciBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xuXHQgIH1cblx0ICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZVxuXHQgICAgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9XG5cdCAgICA6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG1hcFt2YWxdOyB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiBhIHRhZyBpcyBhIGJ1aWx0LWluIHRhZy5cblx0ICovXG5cdHZhciBpc0J1aWx0SW5UYWcgPSBtYWtlTWFwKCdzbG90LGNvbXBvbmVudCcsIHRydWUpO1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhbiBpdGVtIGZyb20gYW4gYXJyYXlcblx0ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSQxIChhcnIsIGl0ZW0pIHtcblx0ICBpZiAoYXJyLmxlbmd0aCkge1xuXHQgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG5cdCAgICBpZiAoaW5kZXggPiAtMSkge1xuXHQgICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSlcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS5cblx0ICovXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdGZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSlcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIHZhbHVlIGlzIHByaW1pdGl2ZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbHVlKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2FjaGVkIChmbikge1xuXHQgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHtcblx0ICAgIHZhciBoaXQgPSBjYWNoZVtzdHJdO1xuXHQgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpXG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ2FtZWxpemUgYSBoeXBoZW4tZGVsbWl0ZWQgc3RyaW5nLlxuXHQgKi9cblx0dmFyIGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG5cdHZhciBjYW1lbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG5cdCAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pXG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIENhcGl0YWxpemUgYSBzdHJpbmcuXG5cdCAqL1xuXHR2YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG5cdCAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBIeXBoZW5hdGUgYSBjYW1lbENhc2Ugc3RyaW5nLlxuXHQgKi9cblx0dmFyIGh5cGhlbmF0ZVJFID0gLyhbXi1dKShbQS1aXSkvZztcblx0dmFyIGh5cGhlbmF0ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG5cdCAgcmV0dXJuIHN0clxuXHQgICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG5cdCAgICAucmVwbGFjZShoeXBoZW5hdGVSRSwgJyQxLSQyJylcblx0ICAgIC50b0xvd2VyQ2FzZSgpXG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFNpbXBsZSBiaW5kLCBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0ICovXG5cdGZ1bmN0aW9uIGJpbmQkMSAoZm4sIGN0eCkge1xuXHQgIGZ1bmN0aW9uIGJvdW5kRm4gKGEpIHtcblx0ICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIHJldHVybiBsXG5cdCAgICAgID8gbCA+IDFcblx0ICAgICAgICA/IGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKVxuXHQgICAgICAgIDogZm4uY2FsbChjdHgsIGEpXG5cdCAgICAgIDogZm4uY2FsbChjdHgpXG5cdCAgfVxuXHQgIC8vIHJlY29yZCBvcmlnaW5hbCBmbiBsZW5ndGhcblx0ICBib3VuZEZuLl9sZW5ndGggPSBmbi5sZW5ndGg7XG5cdCAgcmV0dXJuIGJvdW5kRm5cblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BcnJheSAobGlzdCwgc3RhcnQpIHtcblx0ICBzdGFydCA9IHN0YXJ0IHx8IDA7XG5cdCAgdmFyIGkgPSBsaXN0Lmxlbmd0aCAtIHN0YXJ0O1xuXHQgIHZhciByZXQgPSBuZXcgQXJyYXkoaSk7XG5cdCAgd2hpbGUgKGktLSkge1xuXHQgICAgcmV0W2ldID0gbGlzdFtpICsgc3RhcnRdO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuXG5cdCAqL1xuXHRmdW5jdGlvbiBleHRlbmQgKHRvLCBfZnJvbSkge1xuXHQgIGZvciAodmFyIGtleSBpbiBfZnJvbSkge1xuXHQgICAgdG9ba2V5XSA9IF9mcm9tW2tleV07XG5cdCAgfVxuXHQgIHJldHVybiB0b1xuXHR9XG5cdFxuXHQvKipcblx0ICogUXVpY2sgb2JqZWN0IGNoZWNrIC0gdGhpcyBpcyBwcmltYXJpbHkgdXNlZCB0byB0ZWxsXG5cdCAqIE9iamVjdHMgZnJvbSBwcmltaXRpdmUgdmFsdWVzIHdoZW4gd2Uga25vdyB0aGUgdmFsdWVcblx0ICogaXMgYSBKU09OLWNvbXBsaWFudCB0eXBlLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3QgKG9iaikge1xuXHQgIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcblx0fVxuXHRcblx0LyoqXG5cdCAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcblx0ICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy5cblx0ICovXG5cdHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdHZhciBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09IE9CSkVDVF9TVFJJTkdcblx0fVxuXHRcblx0LyoqXG5cdCAqIE1lcmdlIGFuIEFycmF5IG9mIE9iamVjdHMgaW50byBhIHNpbmdsZSBPYmplY3QuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b09iamVjdCAoYXJyKSB7XG5cdCAgdmFyIHJlcyA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoYXJyW2ldKSB7XG5cdCAgICAgIGV4dGVuZChyZXMsIGFycltpXSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0LyoqXG5cdCAqIFBlcmZvcm0gbm8gb3BlcmF0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbm9vcCAoKSB7fVxuXHRcblx0LyoqXG5cdCAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXG5cdCAqL1xuXHR2YXIgbm8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcblx0XG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBhIHN0YXRpYyBrZXlzIHN0cmluZyBmcm9tIGNvbXBpbGVyIG1vZHVsZXMuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZW5TdGF0aWNLZXlzIChtb2R1bGVzKSB7XG5cdCAgcmV0dXJuIG1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChrZXlzLCBtKSB7XG5cdCAgICByZXR1cm4ga2V5cy5jb25jYXQobS5zdGF0aWNLZXlzIHx8IFtdKVxuXHQgIH0sIFtdKS5qb2luKCcsJylcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIHR3byB2YWx1ZXMgYXJlIGxvb3NlbHkgZXF1YWwgLSB0aGF0IGlzLFxuXHQgKiBpZiB0aGV5IGFyZSBwbGFpbiBvYmplY3RzLCBkbyB0aGV5IGhhdmUgdGhlIHNhbWUgc2hhcGU/XG5cdCAqL1xuXHRmdW5jdGlvbiBsb29zZUVxdWFsIChhLCBiKSB7XG5cdCAgLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG5cdCAgcmV0dXJuIGEgPT0gYiB8fCAoXG5cdCAgICBpc09iamVjdChhKSAmJiBpc09iamVjdChiKVxuXHQgICAgICA/IEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKVxuXHQgICAgICA6IGZhbHNlXG5cdCAgKVxuXHQgIC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvb3NlSW5kZXhPZiAoYXJyLCB2YWwpIHtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKGxvb3NlRXF1YWwoYXJyW2ldLCB2YWwpKSB7IHJldHVybiBpIH1cblx0ICB9XG5cdCAgcmV0dXJuIC0xXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuXHQgKi9cblx0ZnVuY3Rpb24gaXNSZXNlcnZlZCAoc3RyKSB7XG5cdCAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XG5cdCAgcmV0dXJuIGMgPT09IDB4MjQgfHwgYyA9PT0gMHg1RlxuXHR9XG5cdFxuXHQvKipcblx0ICogRGVmaW5lIGEgcHJvcGVydHkuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWYgKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcblx0ICAgIHZhbHVlOiB2YWwsXG5cdCAgICBlbnVtZXJhYmxlOiAhIWVudW1lcmFibGUsXG5cdCAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUGFyc2Ugc2ltcGxlIHBhdGguXG5cdCAqL1xuXHR2YXIgYmFpbFJFID0gL1teXFx3LiRdLztcblx0ZnVuY3Rpb24gcGFyc2VQYXRoIChwYXRoKSB7XG5cdCAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmICghb2JqKSB7IHJldHVybiB9XG5cdCAgICAgICAgb2JqID0gb2JqW3NlZ21lbnRzW2ldXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gb2JqXG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0LyogZ2xvYmFscyBNdXRhdGlvbk9ic2VydmVyICovXG5cdFxuXHQvLyBjYW4gd2UgdXNlIF9fcHJvdG9fXz9cblx0dmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XG5cdFxuXHQvLyBCcm93c2VyIGVudmlyb25tZW50IHNuaWZmaW5nXG5cdHZhciBpbkJyb3dzZXIgPVxuXHQgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdykgIT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHRcblx0dmFyIFVBID0gaW5Ccm93c2VyICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cdHZhciBpc0lFID0gVUEgJiYgL21zaWV8dHJpZGVudC8udGVzdChVQSk7XG5cdHZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwO1xuXHR2YXIgaXNFZGdlID0gVUEgJiYgVUEuaW5kZXhPZignZWRnZS8nKSA+IDA7XG5cdHZhciBpc0FuZHJvaWQgPSBVQSAmJiBVQS5pbmRleE9mKCdhbmRyb2lkJykgPiAwO1xuXHR2YXIgaXNJT1MgPSBVQSAmJiAvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoVUEpO1xuXHRcblx0Ly8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlXG5cdC8vIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgY2FuIHNldCBWVUVfRU5WXG5cdHZhciBfaXNTZXJ2ZXI7XG5cdHZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICBpZiAoX2lzU2VydmVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKCFpbkJyb3dzZXIgJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXG5cdCAgICAgIC8vIFdlYnBhY2sgc2hpbW1pbmcgdGhlIHByb2Nlc3Ncblx0ICAgICAgX2lzU2VydmVyID0gZ2xvYmFsWydwcm9jZXNzJ10uZW52LlZVRV9FTlYgPT09ICdzZXJ2ZXInO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgX2lzU2VydmVyID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBfaXNTZXJ2ZXJcblx0fTtcblx0XG5cdC8vIGRldGVjdCBkZXZ0b29sc1xuXHR2YXIgZGV2dG9vbHMgPSBpbkJyb3dzZXIgJiYgd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG5cdFxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRmdW5jdGlvbiBpc05hdGl2ZSAoQ3Rvcikge1xuXHQgIHJldHVybiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKVxuXHR9XG5cdFxuXHQvKipcblx0ICogRGVmZXIgYSB0YXNrIHRvIGV4ZWN1dGUgaXQgYXN5bmNocm9ub3VzbHkuXG5cdCAqL1xuXHR2YXIgbmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkge1xuXHQgIHZhciBjYWxsYmFja3MgPSBbXTtcblx0ICB2YXIgcGVuZGluZyA9IGZhbHNlO1xuXHQgIHZhciB0aW1lckZ1bmM7XG5cdFxuXHQgIGZ1bmN0aW9uIG5leHRUaWNrSGFuZGxlciAoKSB7XG5cdCAgICBwZW5kaW5nID0gZmFsc2U7XG5cdCAgICB2YXIgY29waWVzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuXHQgICAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcGllcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBjb3BpZXNbaV0oKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIHRoZSBuZXh0VGljayBiZWhhdmlvciBsZXZlcmFnZXMgdGhlIG1pY3JvdGFzayBxdWV1ZSwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXG5cdCAgLy8gdmlhIGVpdGhlciBuYXRpdmUgUHJvbWlzZS50aGVuIG9yIE11dGF0aW9uT2JzZXJ2ZXIuXG5cdCAgLy8gTXV0YXRpb25PYnNlcnZlciBoYXMgd2lkZXIgc3VwcG9ydCwgaG93ZXZlciBpdCBpcyBzZXJpb3VzbHkgYnVnZ2VkIGluXG5cdCAgLy8gVUlXZWJWaWV3IGluIGlPUyA+PSA5LjMuMyB3aGVuIHRyaWdnZXJlZCBpbiB0b3VjaCBldmVudCBoYW5kbGVycy4gSXRcblx0ICAvLyBjb21wbGV0ZWx5IHN0b3BzIHdvcmtpbmcgYWZ0ZXIgdHJpZ2dlcmluZyBhIGZldyB0aW1lcy4uLiBzbywgaWYgbmF0aXZlXG5cdCAgLy8gUHJvbWlzZSBpcyBhdmFpbGFibGUsIHdlIHdpbGwgdXNlIGl0OlxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHtcblx0ICAgIHZhciBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHAudGhlbihuZXh0VGlja0hhbmRsZXIpO1xuXHQgICAgICAvLyBpbiBwcm9ibGVtYXRpYyBVSVdlYlZpZXdzLCBQcm9taXNlLnRoZW4gZG9lc24ndCBjb21wbGV0ZWx5IGJyZWFrLCBidXRcblx0ICAgICAgLy8gaXQgY2FuIGdldCBzdHVjayBpbiBhIHdlaXJkIHN0YXRlIHdoZXJlIGNhbGxiYWNrcyBhcmUgcHVzaGVkIGludG8gdGhlXG5cdCAgICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBidXQgdGhlIHF1ZXVlIGlzbid0IGJlaW5nIGZsdXNoZWQsIHVudGlsIHRoZSBicm93c2VyXG5cdCAgICAgIC8vIG5lZWRzIHRvIGRvIHNvbWUgb3RoZXIgd29yaywgZS5nLiBoYW5kbGUgYSB0aW1lci4gVGhlcmVmb3JlIHdlIGNhblxuXHQgICAgICAvLyBcImZvcmNlXCIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci5cblx0ICAgICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH1cblx0ICAgIH07XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgKFxuXHQgICAgaXNOYXRpdmUoTXV0YXRpb25PYnNlcnZlcikgfHxcblx0ICAgIC8vIFBoYW50b21KUyBhbmQgaU9TIDcueFxuXHQgICAgTXV0YXRpb25PYnNlcnZlci50b1N0cmluZygpID09PSAnW29iamVjdCBNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3JdJ1xuXHQgICkpIHtcblx0ICAgIC8vIHVzZSBNdXRhdGlvbk9ic2VydmVyIHdoZXJlIG5hdGl2ZSBQcm9taXNlIGlzIG5vdCBhdmFpbGFibGUsXG5cdCAgICAvLyBlLmcuIFBoYW50b21KUyBJRTExLCBpT1M3LCBBbmRyb2lkIDQuNFxuXHQgICAgdmFyIGNvdW50ZXIgPSAxO1xuXHQgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobmV4dFRpY2tIYW5kbGVyKTtcblx0ICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhjb3VudGVyKSk7XG5cdCAgICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlLCB7XG5cdCAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcblx0ICAgIH0pO1xuXHQgICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBjb3VudGVyID0gKGNvdW50ZXIgKyAxKSAlIDI7XG5cdCAgICAgIHRleHROb2RlLmRhdGEgPSBTdHJpbmcoY291bnRlcik7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBmYWxsYmFjayB0byBzZXRUaW1lb3V0XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBzZXRUaW1lb3V0KG5leHRUaWNrSGFuZGxlciwgMCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHF1ZXVlTmV4dFRpY2sgKGNiLCBjdHgpIHtcblx0ICAgIHZhciBfcmVzb2x2ZTtcblx0ICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKGNiKSB7IGNiLmNhbGwoY3R4KTsgfVxuXHQgICAgICBpZiAoX3Jlc29sdmUpIHsgX3Jlc29sdmUoY3R4KTsgfVxuXHQgICAgfSk7XG5cdCAgICBpZiAoIXBlbmRpbmcpIHtcblx0ICAgICAgcGVuZGluZyA9IHRydWU7XG5cdCAgICAgIHRpbWVyRnVuYygpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFjYiAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuXHQgICAgICB9KVxuXHQgICAgfVxuXHQgIH1cblx0fSkoKTtcblx0XG5cdHZhciBfU2V0O1xuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0aWYgKHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFNldCkpIHtcblx0ICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS5cblx0ICBfU2V0ID0gU2V0O1xuXHR9IGVsc2Uge1xuXHQgIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cblx0ICBfU2V0ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFNldCAoKSB7XG5cdCAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAgIH1cblx0ICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2V0W2tleV0gIT09IHVuZGVmaW5lZFxuXHQgICAgfTtcblx0ICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChrZXkpIHtcblx0ICAgICAgdGhpcy5zZXRba2V5XSA9IDE7XG5cdCAgICB9O1xuXHQgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcblx0ICAgICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2V0O1xuXHQgIH0oKSk7XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGNvbmZpZyA9IHtcblx0ICAvKipcblx0ICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucylcblx0ICAgKi9cblx0ICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFxuXHQgIC8qKlxuXHQgICAqIFdoZXRoZXIgdG8gc3VwcHJlc3Mgd2FybmluZ3MuXG5cdCAgICovXG5cdCAgc2lsZW50OiBmYWxzZSxcblx0XG5cdCAgLyoqXG5cdCAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHNcblx0ICAgKi9cblx0ICBkZXZ0b29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcblx0XG5cdCAgLyoqXG5cdCAgICogRXJyb3IgaGFuZGxlciBmb3Igd2F0Y2hlciBlcnJvcnNcblx0ICAgKi9cblx0ICBlcnJvckhhbmRsZXI6IG51bGwsXG5cdFxuXHQgIC8qKlxuXHQgICAqIElnbm9yZSBjZXJ0YWluIGN1c3RvbSBlbGVtZW50c1xuXHQgICAqL1xuXHQgIGlnbm9yZWRFbGVtZW50czogbnVsbCxcblx0XG5cdCAgLyoqXG5cdCAgICogQ3VzdG9tIHVzZXIga2V5IGFsaWFzZXMgZm9yIHYtb25cblx0ICAgKi9cblx0ICBrZXlDb2RlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblx0XG5cdCAgLyoqXG5cdCAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhXG5cdCAgICogY29tcG9uZW50LiBUaGlzIGlzIHBsYXRmb3JtLWRlcGVuZGVudCBhbmQgbWF5IGJlIG92ZXJ3cml0dGVuLlxuXHQgICAqL1xuXHQgIGlzUmVzZXJ2ZWRUYWc6IG5vLFxuXHRcblx0ICAvKipcblx0ICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbiB1bmtub3duIGVsZW1lbnQuXG5cdCAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuXHQgICAqL1xuXHQgIGlzVW5rbm93bkVsZW1lbnQ6IG5vLFxuXHRcblx0ICAvKipcblx0ICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50XG5cdCAgICovXG5cdCAgZ2V0VGFnTmFtZXNwYWNlOiBub29wLFxuXHRcblx0ICAvKipcblx0ICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgbXVzdCBiZSBib3VuZCB1c2luZyBwcm9wZXJ0eSwgZS5nLiB2YWx1ZVxuXHQgICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cblx0ICAgKi9cblx0ICBtdXN0VXNlUHJvcDogbm8sXG5cdFxuXHQgIC8qKlxuXHQgICAqIExpc3Qgb2YgYXNzZXQgdHlwZXMgdGhhdCBhIGNvbXBvbmVudCBjYW4gb3duLlxuXHQgICAqL1xuXHQgIF9hc3NldFR5cGVzOiBbXG5cdCAgICAnY29tcG9uZW50Jyxcblx0ICAgICdkaXJlY3RpdmUnLFxuXHQgICAgJ2ZpbHRlcidcblx0ICBdLFxuXHRcblx0ICAvKipcblx0ICAgKiBMaXN0IG9mIGxpZmVjeWNsZSBob29rcy5cblx0ICAgKi9cblx0ICBfbGlmZWN5Y2xlSG9va3M6IFtcblx0ICAgICdiZWZvcmVDcmVhdGUnLFxuXHQgICAgJ2NyZWF0ZWQnLFxuXHQgICAgJ2JlZm9yZU1vdW50Jyxcblx0ICAgICdtb3VudGVkJyxcblx0ICAgICdiZWZvcmVVcGRhdGUnLFxuXHQgICAgJ3VwZGF0ZWQnLFxuXHQgICAgJ2JlZm9yZURlc3Ryb3knLFxuXHQgICAgJ2Rlc3Ryb3llZCcsXG5cdCAgICAnYWN0aXZhdGVkJyxcblx0ICAgICdkZWFjdGl2YXRlZCdcblx0ICBdLFxuXHRcblx0ICAvKipcblx0ICAgKiBNYXggY2lyY3VsYXIgdXBkYXRlcyBhbGxvd2VkIGluIGEgc2NoZWR1bGVyIGZsdXNoIGN5Y2xlLlxuXHQgICAqL1xuXHQgIF9tYXhVcGRhdGVDb3VudDogMTAwXG5cdH07XG5cdFxuXHR2YXIgd2FybiA9IG5vb3A7XG5cdHZhciBmb3JtYXRDb21wb25lbnROYW1lO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgaGFzQ29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcblx0XG5cdCAgd2FybiA9IGZ1bmN0aW9uIChtc2csIHZtKSB7XG5cdCAgICBpZiAoaGFzQ29uc29sZSAmJiAoIWNvbmZpZy5zaWxlbnQpKSB7XG5cdCAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVnVlIHdhcm5dOiBcIiArIG1zZyArIFwiIFwiICsgKFxuXHQgICAgICAgIHZtID8gZm9ybWF0TG9jYXRpb24oZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpIDogJydcblx0ICAgICAgKSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSkge1xuXHQgICAgaWYgKHZtLiRyb290ID09PSB2bSkge1xuXHQgICAgICByZXR1cm4gJ3Jvb3QgaW5zdGFuY2UnXG5cdCAgICB9XG5cdCAgICB2YXIgbmFtZSA9IHZtLl9pc1Z1ZVxuXHQgICAgICA/IHZtLiRvcHRpb25zLm5hbWUgfHwgdm0uJG9wdGlvbnMuX2NvbXBvbmVudFRhZ1xuXHQgICAgICA6IHZtLm5hbWU7XG5cdCAgICByZXR1cm4gKFxuXHQgICAgICAobmFtZSA/IChcImNvbXBvbmVudCA8XCIgKyBuYW1lICsgXCI+XCIpIDogXCJhbm9ueW1vdXMgY29tcG9uZW50XCIpICtcblx0ICAgICAgKHZtLl9pc1Z1ZSAmJiB2bS4kb3B0aW9ucy5fX2ZpbGUgPyAoXCIgYXQgXCIgKyAodm0uJG9wdGlvbnMuX19maWxlKSkgOiAnJylcblx0ICAgIClcblx0ICB9O1xuXHRcblx0ICB2YXIgZm9ybWF0TG9jYXRpb24gPSBmdW5jdGlvbiAoc3RyKSB7XG5cdCAgICBpZiAoc3RyID09PSAnYW5vbnltb3VzIGNvbXBvbmVudCcpIHtcblx0ICAgICAgc3RyICs9IFwiIC0gdXNlIHRoZSBcXFwibmFtZVxcXCIgb3B0aW9uIGZvciBiZXR0ZXIgZGVidWdnaW5nIG1lc3NhZ2VzLlwiO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIChcIlxcbihmb3VuZCBpbiBcIiArIHN0ciArIFwiKVwiKVxuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0XG5cdHZhciB1aWQkMSA9IDA7XG5cdFxuXHQvKipcblx0ICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXG5cdCAqIGRpcmVjdGl2ZXMgc3Vic2NyaWJpbmcgdG8gaXQuXG5cdCAqL1xuXHR2YXIgRGVwID0gZnVuY3Rpb24gRGVwICgpIHtcblx0ICB0aGlzLmlkID0gdWlkJDErKztcblx0ICB0aGlzLnN1YnMgPSBbXTtcblx0fTtcblx0XG5cdERlcC5wcm90b3R5cGUuYWRkU3ViID0gZnVuY3Rpb24gYWRkU3ViIChzdWIpIHtcblx0ICB0aGlzLnN1YnMucHVzaChzdWIpO1xuXHR9O1xuXHRcblx0RGVwLnByb3RvdHlwZS5yZW1vdmVTdWIgPSBmdW5jdGlvbiByZW1vdmVTdWIgKHN1Yikge1xuXHQgIHJlbW92ZSQxKHRoaXMuc3Vicywgc3ViKTtcblx0fTtcblx0XG5cdERlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcblx0ICBpZiAoRGVwLnRhcmdldCkge1xuXHQgICAgRGVwLnRhcmdldC5hZGREZXAodGhpcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0RGVwLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiBub3RpZnkgKCkge1xuXHQgIC8vIHN0YWJsaXplIHRoZSBzdWJzY3JpYmVyIGxpc3QgZmlyc3Rcblx0ICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpO1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gc3Vicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIHN1YnNbaV0udXBkYXRlKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gdGhlIGN1cnJlbnQgdGFyZ2V0IHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkLlxuXHQvLyB0aGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG9ubHkgb25lXG5cdC8vIHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkIGF0IGFueSB0aW1lLlxuXHREZXAudGFyZ2V0ID0gbnVsbDtcblx0dmFyIHRhcmdldFN0YWNrID0gW107XG5cdFxuXHRmdW5jdGlvbiBwdXNoVGFyZ2V0IChfdGFyZ2V0KSB7XG5cdCAgaWYgKERlcC50YXJnZXQpIHsgdGFyZ2V0U3RhY2sucHVzaChEZXAudGFyZ2V0KTsgfVxuXHQgIERlcC50YXJnZXQgPSBfdGFyZ2V0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwb3BUYXJnZXQgKCkge1xuXHQgIERlcC50YXJnZXQgPSB0YXJnZXRTdGFjay5wb3AoKTtcblx0fVxuXHRcblx0Lypcblx0ICogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoXG5cdCAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZVxuXHQgKi9cblx0XG5cdHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHR2YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTtbXG5cdCAgJ3B1c2gnLFxuXHQgICdwb3AnLFxuXHQgICdzaGlmdCcsXG5cdCAgJ3Vuc2hpZnQnLFxuXHQgICdzcGxpY2UnLFxuXHQgICdzb3J0Jyxcblx0ICAncmV2ZXJzZSdcblx0XVxuXHQuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgLy8gY2FjaGUgb3JpZ2luYWwgbWV0aG9kXG5cdCAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdO1xuXHQgIGRlZihhcnJheU1ldGhvZHMsIG1ldGhvZCwgZnVuY3Rpb24gbXV0YXRvciAoKSB7XG5cdCAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cdFxuXHQgICAgLy8gYXZvaWQgbGVha2luZyBhcmd1bWVudHM6XG5cdCAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9jbG9zdXJlLXdpdGgtYXJndW1lbnRzXG5cdCAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShpKTtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50cyQxW2ldO1xuXHQgICAgfVxuXHQgICAgdmFyIHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgdmFyIG9iID0gdGhpcy5fX29iX187XG5cdCAgICB2YXIgaW5zZXJ0ZWQ7XG5cdCAgICBzd2l0Y2ggKG1ldGhvZCkge1xuXHQgICAgICBjYXNlICdwdXNoJzpcblx0ICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG5cdCAgICAgICAgYnJlYWtcblx0ICAgICAgY2FzZSAndW5zaGlmdCc6XG5cdCAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzO1xuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIGNhc2UgJ3NwbGljZSc6XG5cdCAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzLnNsaWNlKDIpO1xuXHQgICAgICAgIGJyZWFrXG5cdCAgICB9XG5cdCAgICBpZiAoaW5zZXJ0ZWQpIHsgb2Iub2JzZXJ2ZUFycmF5KGluc2VydGVkKTsgfVxuXHQgICAgLy8gbm90aWZ5IGNoYW5nZVxuXHQgICAgb2IuZGVwLm5vdGlmeSgpO1xuXHQgICAgcmV0dXJuIHJlc3VsdFxuXHQgIH0pO1xuXHR9KTtcblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7XG5cdFxuXHQvKipcblx0ICogQnkgZGVmYXVsdCwgd2hlbiBhIHJlYWN0aXZlIHByb3BlcnR5IGlzIHNldCwgdGhlIG5ldyB2YWx1ZSBpc1xuXHQgKiBhbHNvIGNvbnZlcnRlZCB0byBiZWNvbWUgcmVhY3RpdmUuIEhvd2V2ZXIgd2hlbiBwYXNzaW5nIGRvd24gcHJvcHMsXG5cdCAqIHdlIGRvbid0IHdhbnQgdG8gZm9yY2UgY29udmVyc2lvbiBiZWNhdXNlIHRoZSB2YWx1ZSBtYXkgYmUgYSBuZXN0ZWQgdmFsdWVcblx0ICogdW5kZXIgYSBmcm96ZW4gZGF0YSBzdHJ1Y3R1cmUuIENvbnZlcnRpbmcgaXQgd291bGQgZGVmZWF0IHRoZSBvcHRpbWl6YXRpb24uXG5cdCAqL1xuXHR2YXIgb2JzZXJ2ZXJTdGF0ZSA9IHtcblx0ICBzaG91bGRDb252ZXJ0OiB0cnVlLFxuXHQgIGlzU2V0dGluZ1Byb3BzOiBmYWxzZVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE9ic2VydmVyIGNsYXNzIHRoYXQgYXJlIGF0dGFjaGVkIHRvIGVhY2ggb2JzZXJ2ZWRcblx0ICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGFyZ2V0XG5cdCAqIG9iamVjdCdzIHByb3BlcnR5IGtleXMgaW50byBnZXR0ZXIvc2V0dGVycyB0aGF0XG5cdCAqIGNvbGxlY3QgZGVwZW5kZW5jaWVzIGFuZCBkaXNwYXRjaGVzIHVwZGF0ZXMuXG5cdCAqL1xuXHR2YXIgT2JzZXJ2ZXIgPSBmdW5jdGlvbiBPYnNlcnZlciAodmFsdWUpIHtcblx0ICB0aGlzLnZhbHVlID0gdmFsdWU7XG5cdCAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG5cdCAgdGhpcy52bUNvdW50ID0gMDtcblx0ICBkZWYodmFsdWUsICdfX29iX18nLCB0aGlzKTtcblx0ICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHZhciBhdWdtZW50ID0gaGFzUHJvdG9cblx0ICAgICAgPyBwcm90b0F1Z21lbnRcblx0ICAgICAgOiBjb3B5QXVnbWVudDtcblx0ICAgIGF1Z21lbnQodmFsdWUsIGFycmF5TWV0aG9kcywgYXJyYXlLZXlzKTtcblx0ICAgIHRoaXMub2JzZXJ2ZUFycmF5KHZhbHVlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy53YWxrKHZhbHVlKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogV2FsayB0aHJvdWdoIGVhY2ggcHJvcGVydHkgYW5kIGNvbnZlcnQgdGhlbSBpbnRvXG5cdCAqIGdldHRlci9zZXR0ZXJzLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgd2hlblxuXHQgKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cblx0ICovXG5cdE9ic2VydmVyLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gd2FsayAob2JqKSB7XG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgZGVmaW5lUmVhY3RpdmUkJDEob2JqLCBrZXlzW2ldLCBvYmpba2V5c1tpXV0pO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBPYnNlcnZlIGEgbGlzdCBvZiBBcnJheSBpdGVtcy5cblx0ICovXG5cdE9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXkgPSBmdW5jdGlvbiBvYnNlcnZlQXJyYXkgKGl0ZW1zKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIG9ic2VydmUoaXRlbXNbaV0pO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIGhlbHBlcnNcblx0XG5cdC8qKlxuXHQgKiBBdWdtZW50IGFuIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgaW50ZXJjZXB0aW5nXG5cdCAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fXG5cdCAqL1xuXHRmdW5jdGlvbiBwcm90b0F1Z21lbnQgKHRhcmdldCwgc3JjKSB7XG5cdCAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblx0ICB0YXJnZXQuX19wcm90b19fID0gc3JjO1xuXHQgIC8qIGVzbGludC1lbmFibGUgbm8tcHJvdG8gKi9cblx0fVxuXHRcblx0LyoqXG5cdCAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZ1xuXHQgKiBoaWRkZW4gcHJvcGVydGllcy5cblx0ICpcblx0ICogaXN0YW5idWwgaWdub3JlIG5leHRcblx0ICovXG5cdGZ1bmN0aW9uIGNvcHlBdWdtZW50ICh0YXJnZXQsIHNyYywga2V5cykge1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgZGVmKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQXR0ZW1wdCB0byBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgZm9yIGEgdmFsdWUsXG5cdCAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsXG5cdCAqIG9yIHRoZSBleGlzdGluZyBvYnNlcnZlciBpZiB0aGUgdmFsdWUgYWxyZWFkeSBoYXMgb25lLlxuXHQgKi9cblx0ZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUpIHtcblx0ICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBvYjtcblx0ICBpZiAoaGFzT3duKHZhbHVlLCAnX19vYl9fJykgJiYgdmFsdWUuX19vYl9fIGluc3RhbmNlb2YgT2JzZXJ2ZXIpIHtcblx0ICAgIG9iID0gdmFsdWUuX19vYl9fO1xuXHQgIH0gZWxzZSBpZiAoXG5cdCAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgJiZcblx0ICAgICFpc1NlcnZlclJlbmRlcmluZygpICYmXG5cdCAgICAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZSkpICYmXG5cdCAgICBPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSAmJlxuXHQgICAgIXZhbHVlLl9pc1Z1ZVxuXHQgICkge1xuXHQgICAgb2IgPSBuZXcgT2JzZXJ2ZXIodmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gb2Jcblx0fVxuXHRcblx0LyoqXG5cdCAqIERlZmluZSBhIHJlYWN0aXZlIHByb3BlcnR5IG9uIGFuIE9iamVjdC5cblx0ICovXG5cdGZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlJCQxIChcblx0ICBvYmosXG5cdCAga2V5LFxuXHQgIHZhbCxcblx0ICBjdXN0b21TZXR0ZXJcblx0KSB7XG5cdCAgdmFyIGRlcCA9IG5ldyBEZXAoKTtcblx0XG5cdCAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG5cdCAgaWYgKHByb3BlcnR5ICYmIHByb3BlcnR5LmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgLy8gY2F0ZXIgZm9yIHByZS1kZWZpbmVkIGdldHRlci9zZXR0ZXJzXG5cdCAgdmFyIGdldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LmdldDtcblx0ICB2YXIgc2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuc2V0O1xuXHRcblx0ICB2YXIgY2hpbGRPYiA9IG9ic2VydmUodmFsKTtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcblx0ICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcblx0ICAgICAgaWYgKERlcC50YXJnZXQpIHtcblx0ICAgICAgICBkZXAuZGVwZW5kKCk7XG5cdCAgICAgICAgaWYgKGNoaWxkT2IpIHtcblx0ICAgICAgICAgIGNoaWxkT2IuZGVwLmRlcGVuZCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgICAgICAgIGRlcGVuZEFycmF5KHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbHVlXG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiByZWFjdGl2ZVNldHRlciAobmV3VmFsKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG5cdCAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXHQgICAgICBpZiAobmV3VmFsID09PSB2YWx1ZSB8fCAobmV3VmFsICE9PSBuZXdWYWwgJiYgdmFsdWUgIT09IHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVyblxuXHQgICAgICB9XG5cdCAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlICovXG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGN1c3RvbVNldHRlcikge1xuXHQgICAgICAgIGN1c3RvbVNldHRlcigpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzZXR0ZXIpIHtcblx0ICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFsID0gbmV3VmFsO1xuXHQgICAgICB9XG5cdCAgICAgIGNoaWxkT2IgPSBvYnNlcnZlKG5ld1ZhbCk7XG5cdCAgICAgIGRlcC5ub3RpZnkoKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdC4gQWRkcyB0aGUgbmV3IHByb3BlcnR5IGFuZFxuXHQgKiB0cmlnZ2VycyBjaGFuZ2Ugbm90aWZpY2F0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XG5cdCAqIGFscmVhZHkgZXhpc3QuXG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQgKG9iaiwga2V5LCB2YWwpIHtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdCAgICBvYmoubGVuZ3RoID0gTWF0aC5tYXgob2JqLmxlbmd0aCwga2V5KTtcblx0ICAgIG9iai5zcGxpY2Uoa2V5LCAxLCB2YWwpO1xuXHQgICAgcmV0dXJuIHZhbFxuXHQgIH1cblx0ICBpZiAoaGFzT3duKG9iaiwga2V5KSkge1xuXHQgICAgb2JqW2tleV0gPSB2YWw7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIG9iID0gb2JqLl9fb2JfXztcblx0ICBpZiAob2JqLl9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgJ0F2b2lkIGFkZGluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzIHRvIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xuXHQgICAgICAnYXQgcnVudGltZSAtIGRlY2xhcmUgaXQgdXBmcm9udCBpbiB0aGUgZGF0YSBvcHRpb24uJ1xuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBpZiAoIW9iKSB7XG5cdCAgICBvYmpba2V5XSA9IHZhbDtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBkZWZpbmVSZWFjdGl2ZSQkMShvYi52YWx1ZSwga2V5LCB2YWwpO1xuXHQgIG9iLmRlcC5ub3RpZnkoKTtcblx0ICByZXR1cm4gdmFsXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZWxldGUgYSBwcm9wZXJ0eSBhbmQgdHJpZ2dlciBjaGFuZ2UgaWYgbmVjZXNzYXJ5LlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVsIChvYmosIGtleSkge1xuXHQgIHZhciBvYiA9IG9iai5fX29iX187XG5cdCAgaWYgKG9iai5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xuXHQgICAgICAnLSBqdXN0IHNldCBpdCB0byBudWxsLidcblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgZGVsZXRlIG9ialtrZXldO1xuXHQgIGlmICghb2IpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBvYi5kZXAubm90aWZ5KCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb2xsZWN0IGRlcGVuZGVuY2llcyBvbiBhcnJheSBlbGVtZW50cyB3aGVuIHRoZSBhcnJheSBpcyB0b3VjaGVkLCBzaW5jZVxuXHQgKiB3ZSBjYW5ub3QgaW50ZXJjZXB0IGFycmF5IGVsZW1lbnQgYWNjZXNzIGxpa2UgcHJvcGVydHkgZ2V0dGVycy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlcGVuZEFycmF5ICh2YWx1ZSkge1xuXHQgIGZvciAodmFyIGUgPSAodm9pZCAwKSwgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGUgPSB2YWx1ZVtpXTtcblx0ICAgIGUgJiYgZS5fX29iX18gJiYgZS5fX29iX18uZGVwLmRlcGVuZCgpO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcblx0ICAgICAgZGVwZW5kQXJyYXkoZSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8qKlxuXHQgKiBPcHRpb24gb3ZlcndyaXRpbmcgc3RyYXRlZ2llcyBhcmUgZnVuY3Rpb25zIHRoYXQgaGFuZGxlXG5cdCAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uXG5cdCAqIHZhbHVlIGludG8gdGhlIGZpbmFsIHZhbHVlLlxuXHQgKi9cblx0dmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XG5cdFxuXHQvKipcblx0ICogT3B0aW9ucyB3aXRoIHJlc3RyaWN0aW9uc1xuXHQgKi9cblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICBzdHJhdHMuZWwgPSBzdHJhdHMucHJvcHNEYXRhID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQsIHZtLCBrZXkpIHtcblx0ICAgIGlmICghdm0pIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICBcIm9wdGlvbiBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgaW5zdGFuY2UgXCIgK1xuXHQgICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLidcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkZWZhdWx0U3RyYXQocGFyZW50LCBjaGlsZClcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZURhdGEgKHRvLCBmcm9tKSB7XG5cdCAgaWYgKCFmcm9tKSB7IHJldHVybiB0byB9XG5cdCAgdmFyIGtleSwgdG9WYWwsIGZyb21WYWw7XG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcm9tKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGtleSA9IGtleXNbaV07XG5cdCAgICB0b1ZhbCA9IHRvW2tleV07XG5cdCAgICBmcm9tVmFsID0gZnJvbVtrZXldO1xuXHQgICAgaWYgKCFoYXNPd24odG8sIGtleSkpIHtcblx0ICAgICAgc2V0KHRvLCBrZXksIGZyb21WYWwpO1xuXHQgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHRvVmFsKSAmJiBpc1BsYWluT2JqZWN0KGZyb21WYWwpKSB7XG5cdCAgICAgIG1lcmdlRGF0YSh0b1ZhbCwgZnJvbVZhbCk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0b1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGF0YVxuXHQgKi9cblx0c3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAoXG5cdCAgcGFyZW50VmFsLFxuXHQgIGNoaWxkVmFsLFxuXHQgIHZtXG5cdCkge1xuXHQgIGlmICghdm0pIHtcblx0ICAgIC8vIGluIGEgVnVlLmV4dGVuZCBtZXJnZSwgYm90aCBzaG91bGQgYmUgZnVuY3Rpb25zXG5cdCAgICBpZiAoIWNoaWxkVmFsKSB7XG5cdCAgICAgIHJldHVybiBwYXJlbnRWYWxcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2YgY2hpbGRWYWwgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgICdUaGUgXCJkYXRhXCIgb3B0aW9uIHNob3VsZCBiZSBhIGZ1bmN0aW9uICcgK1xuXHQgICAgICAgICd0aGF0IHJldHVybnMgYSBwZXItaW5zdGFuY2UgdmFsdWUgaW4gY29tcG9uZW50ICcgK1xuXHQgICAgICAgICdkZWZpbml0aW9ucy4nLFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICAgIHJldHVybiBwYXJlbnRWYWxcblx0ICAgIH1cblx0ICAgIGlmICghcGFyZW50VmFsKSB7XG5cdCAgICAgIHJldHVybiBjaGlsZFZhbFxuXHQgICAgfVxuXHQgICAgLy8gd2hlbiBwYXJlbnRWYWwgJiBjaGlsZFZhbCBhcmUgYm90aCBwcmVzZW50LFxuXHQgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG5cdCAgICAvLyBtZXJnZWQgcmVzdWx0IG9mIGJvdGggZnVuY3Rpb25zLi4uIG5vIG5lZWQgdG9cblx0ICAgIC8vIGNoZWNrIGlmIHBhcmVudFZhbCBpcyBhIGZ1bmN0aW9uIGhlcmUgYmVjYXVzZVxuXHQgICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuICgpIHtcblx0ICAgICAgcmV0dXJuIG1lcmdlRGF0YShcblx0ICAgICAgICBjaGlsZFZhbC5jYWxsKHRoaXMpLFxuXHQgICAgICAgIHBhcmVudFZhbC5jYWxsKHRoaXMpXG5cdCAgICAgIClcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKHBhcmVudFZhbCB8fCBjaGlsZFZhbCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZEluc3RhbmNlRGF0YUZuICgpIHtcblx0ICAgICAgLy8gaW5zdGFuY2UgbWVyZ2Vcblx0ICAgICAgdmFyIGluc3RhbmNlRGF0YSA9IHR5cGVvZiBjaGlsZFZhbCA9PT0gJ2Z1bmN0aW9uJ1xuXHQgICAgICAgID8gY2hpbGRWYWwuY2FsbCh2bSlcblx0ICAgICAgICA6IGNoaWxkVmFsO1xuXHQgICAgICB2YXIgZGVmYXVsdERhdGEgPSB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nXG5cdCAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSlcblx0ICAgICAgICA6IHVuZGVmaW5lZDtcblx0ICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xuXHQgICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSlcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGVmYXVsdERhdGFcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIb29rcyBhbmQgcGFyYW0gYXR0cmlidXRlcyBhcmUgbWVyZ2VkIGFzIGFycmF5cy5cblx0ICovXG5cdGZ1bmN0aW9uIG1lcmdlSG9vayAoXG5cdCAgcGFyZW50VmFsLFxuXHQgIGNoaWxkVmFsXG5cdCkge1xuXHQgIHJldHVybiBjaGlsZFZhbFxuXHQgICAgPyBwYXJlbnRWYWxcblx0ICAgICAgPyBwYXJlbnRWYWwuY29uY2F0KGNoaWxkVmFsKVxuXHQgICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRWYWwpXG5cdCAgICAgICAgPyBjaGlsZFZhbFxuXHQgICAgICAgIDogW2NoaWxkVmFsXVxuXHQgICAgOiBwYXJlbnRWYWxcblx0fVxuXHRcblx0Y29uZmlnLl9saWZlY3ljbGVIb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG5cdCAgc3RyYXRzW2hvb2tdID0gbWVyZ2VIb29rO1xuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBBc3NldHNcblx0ICpcblx0ICogV2hlbiBhIHZtIGlzIHByZXNlbnQgKGluc3RhbmNlIGNyZWF0aW9uKSwgd2UgbmVlZCB0byBkb1xuXHQgKiBhIHRocmVlLXdheSBtZXJnZSBiZXR3ZWVuIGNvbnN0cnVjdG9yIG9wdGlvbnMsIGluc3RhbmNlXG5cdCAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2VBc3NldHMgKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcblx0ICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCk7XG5cdCAgcmV0dXJuIGNoaWxkVmFsXG5cdCAgICA/IGV4dGVuZChyZXMsIGNoaWxkVmFsKVxuXHQgICAgOiByZXNcblx0fVxuXHRcblx0Y29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcblx0ICBzdHJhdHNbdHlwZSArICdzJ10gPSBtZXJnZUFzc2V0cztcblx0fSk7XG5cdFxuXHQvKipcblx0ICogV2F0Y2hlcnMuXG5cdCAqXG5cdCAqIFdhdGNoZXJzIGhhc2hlcyBzaG91bGQgbm90IG92ZXJ3cml0ZSBvbmVcblx0ICogYW5vdGhlciwgc28gd2UgbWVyZ2UgdGhlbSBhcyBhcnJheXMuXG5cdCAqL1xuXHRzdHJhdHMud2F0Y2ggPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIHBhcmVudFZhbCB9XG5cdCAgaWYgKCFwYXJlbnRWYWwpIHsgcmV0dXJuIGNoaWxkVmFsIH1cblx0ICB2YXIgcmV0ID0ge307XG5cdCAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcblx0ICBmb3IgKHZhciBrZXkgaW4gY2hpbGRWYWwpIHtcblx0ICAgIHZhciBwYXJlbnQgPSByZXRba2V5XTtcblx0ICAgIHZhciBjaGlsZCA9IGNoaWxkVmFsW2tleV07XG5cdCAgICBpZiAocGFyZW50ICYmICFBcnJheS5pc0FycmF5KHBhcmVudCkpIHtcblx0ICAgICAgcGFyZW50ID0gW3BhcmVudF07XG5cdCAgICB9XG5cdCAgICByZXRba2V5XSA9IHBhcmVudFxuXHQgICAgICA/IHBhcmVudC5jb25jYXQoY2hpbGQpXG5cdCAgICAgIDogW2NoaWxkXTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE90aGVyIG9iamVjdCBoYXNoZXMuXG5cdCAqL1xuXHRzdHJhdHMucHJvcHMgPVxuXHRzdHJhdHMubWV0aG9kcyA9XG5cdHN0cmF0cy5jb21wdXRlZCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG5cdCAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gcGFyZW50VmFsIH1cblx0ICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuXHQgIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG5cdCAgZXh0ZW5kKHJldCwgY2hpbGRWYWwpO1xuXHQgIHJldHVybiByZXRcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBEZWZhdWx0IHN0cmF0ZWd5LlxuXHQgKi9cblx0dmFyIGRlZmF1bHRTdHJhdCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG5cdCAgcmV0dXJuIGNoaWxkVmFsID09PSB1bmRlZmluZWRcblx0ICAgID8gcGFyZW50VmFsXG5cdCAgICA6IGNoaWxkVmFsXG5cdH07XG5cdFxuXHQvKipcblx0ICogVmFsaWRhdGUgY29tcG9uZW50IG5hbWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja0NvbXBvbmVudHMgKG9wdGlvbnMpIHtcblx0ICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7XG5cdCAgICB2YXIgbG93ZXIgPSBrZXkudG9Mb3dlckNhc2UoKTtcblx0ICAgIGlmIChpc0J1aWx0SW5UYWcobG93ZXIpIHx8IGNvbmZpZy5pc1Jlc2VydmVkVGFnKGxvd2VyKSkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50ICcgK1xuXHQgICAgICAgICdpZDogJyArIGtleVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEVuc3VyZSBhbGwgcHJvcHMgb3B0aW9uIHN5bnRheCBhcmUgbm9ybWFsaXplZCBpbnRvIHRoZVxuXHQgKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxuXHQgKi9cblx0ZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMgKG9wdGlvbnMpIHtcblx0ICB2YXIgcHJvcHMgPSBvcHRpb25zLnByb3BzO1xuXHQgIGlmICghcHJvcHMpIHsgcmV0dXJuIH1cblx0ICB2YXIgcmVzID0ge307XG5cdCAgdmFyIGksIHZhbCwgbmFtZTtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcykpIHtcblx0ICAgIGkgPSBwcm9wcy5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIHZhbCA9IHByb3BzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBuYW1lID0gY2FtZWxpemUodmFsKTtcblx0ICAgICAgICByZXNbbmFtZV0gPSB7IHR5cGU6IG51bGwgfTtcblx0ICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgd2FybigncHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LicpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG5cdCAgICAgIHZhbCA9IHByb3BzW2tleV07XG5cdCAgICAgIG5hbWUgPSBjYW1lbGl6ZShrZXkpO1xuXHQgICAgICByZXNbbmFtZV0gPSBpc1BsYWluT2JqZWN0KHZhbClcblx0ICAgICAgICA/IHZhbFxuXHQgICAgICAgIDogeyB0eXBlOiB2YWwgfTtcblx0ICAgIH1cblx0ICB9XG5cdCAgb3B0aW9ucy5wcm9wcyA9IHJlcztcblx0fVxuXHRcblx0LyoqXG5cdCAqIE5vcm1hbGl6ZSByYXcgZnVuY3Rpb24gZGlyZWN0aXZlcyBpbnRvIG9iamVjdCBmb3JtYXQuXG5cdCAqL1xuXHRmdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzIChvcHRpb25zKSB7XG5cdCAgdmFyIGRpcnMgPSBvcHRpb25zLmRpcmVjdGl2ZXM7XG5cdCAgaWYgKGRpcnMpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBkaXJzKSB7XG5cdCAgICAgIHZhciBkZWYgPSBkaXJzW2tleV07XG5cdCAgICAgIGlmICh0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYsIHVwZGF0ZTogZGVmIH07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNZXJnZSB0d28gb3B0aW9uIG9iamVjdHMgaW50byBhIG5ldyBvbmUuXG5cdCAqIENvcmUgdXRpbGl0eSB1c2VkIGluIGJvdGggaW5zdGFudGlhdGlvbiBhbmQgaW5oZXJpdGFuY2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZU9wdGlvbnMgKFxuXHQgIHBhcmVudCxcblx0ICBjaGlsZCxcblx0ICB2bVxuXHQpIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgY2hlY2tDb21wb25lbnRzKGNoaWxkKTtcblx0ICB9XG5cdCAgbm9ybWFsaXplUHJvcHMoY2hpbGQpO1xuXHQgIG5vcm1hbGl6ZURpcmVjdGl2ZXMoY2hpbGQpO1xuXHQgIHZhciBleHRlbmRzRnJvbSA9IGNoaWxkLmV4dGVuZHM7XG5cdCAgaWYgKGV4dGVuZHNGcm9tKSB7XG5cdCAgICBwYXJlbnQgPSB0eXBlb2YgZXh0ZW5kc0Zyb20gPT09ICdmdW5jdGlvbidcblx0ICAgICAgPyBtZXJnZU9wdGlvbnMocGFyZW50LCBleHRlbmRzRnJvbS5vcHRpb25zLCB2bSlcblx0ICAgICAgOiBtZXJnZU9wdGlvbnMocGFyZW50LCBleHRlbmRzRnJvbSwgdm0pO1xuXHQgIH1cblx0ICBpZiAoY2hpbGQubWl4aW5zKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkLm1peGlucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgdmFyIG1peGluID0gY2hpbGQubWl4aW5zW2ldO1xuXHQgICAgICBpZiAobWl4aW4ucHJvdG90eXBlIGluc3RhbmNlb2YgVnVlJDIpIHtcblx0ICAgICAgICBtaXhpbiA9IG1peGluLm9wdGlvbnM7XG5cdCAgICAgIH1cblx0ICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgbWl4aW4sIHZtKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIG9wdGlvbnMgPSB7fTtcblx0ICB2YXIga2V5O1xuXHQgIGZvciAoa2V5IGluIHBhcmVudCkge1xuXHQgICAgbWVyZ2VGaWVsZChrZXkpO1xuXHQgIH1cblx0ICBmb3IgKGtleSBpbiBjaGlsZCkge1xuXHQgICAgaWYgKCFoYXNPd24ocGFyZW50LCBrZXkpKSB7XG5cdCAgICAgIG1lcmdlRmllbGQoa2V5KTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZnVuY3Rpb24gbWVyZ2VGaWVsZCAoa2V5KSB7XG5cdCAgICB2YXIgc3RyYXQgPSBzdHJhdHNba2V5XSB8fCBkZWZhdWx0U3RyYXQ7XG5cdCAgICBvcHRpb25zW2tleV0gPSBzdHJhdChwYXJlbnRba2V5XSwgY2hpbGRba2V5XSwgdm0sIGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiBvcHRpb25zXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXNvbHZlIGFuIGFzc2V0LlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3Ncblx0ICogdG8gYXNzZXRzIGRlZmluZWQgaW4gaXRzIGFuY2VzdG9yIGNoYWluLlxuXHQgKi9cblx0ZnVuY3Rpb24gcmVzb2x2ZUFzc2V0IChcblx0ICBvcHRpb25zLFxuXHQgIHR5cGUsXG5cdCAgaWQsXG5cdCAgd2Fybk1pc3Npbmdcblx0KSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgYXNzZXRzID0gb3B0aW9uc1t0eXBlXTtcblx0ICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fFxuXHQgICAgLy8gY2FtZWxDYXNlIElEXG5cdCAgICBhc3NldHNbY2FtZWxpemUoaWQpXSB8fFxuXHQgICAgLy8gUGFzY2FsIENhc2UgSURcblx0ICAgIGFzc2V0c1tjYXBpdGFsaXplKGNhbWVsaXplKGlkKSldO1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcblx0ICAgIHdhcm4oXG5cdCAgICAgICdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQsXG5cdCAgICAgIG9wdGlvbnNcblx0ICAgICk7XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiB2YWxpZGF0ZVByb3AgKFxuXHQgIGtleSxcblx0ICBwcm9wT3B0aW9ucyxcblx0ICBwcm9wc0RhdGEsXG5cdCAgdm1cblx0KSB7XG5cdCAgdmFyIHByb3AgPSBwcm9wT3B0aW9uc1trZXldO1xuXHQgIHZhciBhYnNlbnQgPSAhaGFzT3duKHByb3BzRGF0YSwga2V5KTtcblx0ICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTtcblx0ICAvLyBoYW5kbGUgYm9vbGVhbiBwcm9wc1xuXHQgIGlmIChpc0Jvb2xlYW5UeXBlKHByb3AudHlwZSkpIHtcblx0ICAgIGlmIChhYnNlbnQgJiYgIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG5cdCAgICAgIHZhbHVlID0gZmFsc2U7XG5cdCAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpIHtcblx0ICAgICAgdmFsdWUgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlXG5cdCAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHZhbHVlID0gZ2V0UHJvcERlZmF1bHRWYWx1ZSh2bSwgcHJvcCwga2V5KTtcblx0ICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSxcblx0ICAgIC8vIG1ha2Ugc3VyZSB0byBvYnNlcnZlIGl0LlxuXHQgICAgdmFyIHByZXZTaG91bGRDb252ZXJ0ID0gb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0O1xuXHQgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcblx0ICAgIG9ic2VydmUodmFsdWUpO1xuXHQgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gcHJldlNob3VsZENvbnZlcnQ7XG5cdCAgfVxuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBhc3NlcnRQcm9wKHByb3AsIGtleSwgdmFsdWUsIHZtLCBhYnNlbnQpO1xuXHQgIH1cblx0ICByZXR1cm4gdmFsdWVcblx0fVxuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRQcm9wRGVmYXVsdFZhbHVlICh2bSwgcHJvcCwga2V5KSB7XG5cdCAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZFxuXHQgIGlmICghaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcblx0ICAgIHJldHVybiB1bmRlZmluZWRcblx0ICB9XG5cdCAgdmFyIGRlZiA9IHByb3AuZGVmYXVsdDtcblx0ICAvLyB3YXJuIGFnYWluc3Qgbm9uLWZhY3RvcnkgZGVmYXVsdHMgZm9yIE9iamVjdCAmIEFycmF5XG5cdCAgaWYgKGlzT2JqZWN0KGRlZikpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgJ0ludmFsaWQgZGVmYXVsdCB2YWx1ZSBmb3IgcHJvcCBcIicgKyBrZXkgKyAnXCI6ICcgK1xuXHQgICAgICAnUHJvcHMgd2l0aCB0eXBlIE9iamVjdC9BcnJheSBtdXN0IHVzZSBhIGZhY3RvcnkgZnVuY3Rpb24gJyArXG5cdCAgICAgICd0byByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUuJyxcblx0ICAgICAgdm1cblx0ICAgICk7XG5cdCAgfVxuXHQgIC8vIHRoZSByYXcgcHJvcCB2YWx1ZSB3YXMgYWxzbyB1bmRlZmluZWQgZnJvbSBwcmV2aW91cyByZW5kZXIsXG5cdCAgLy8gcmV0dXJuIHByZXZpb3VzIGRlZmF1bHQgdmFsdWUgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgd2F0Y2hlciB0cmlnZ2VyXG5cdCAgaWYgKHZtICYmIHZtLiRvcHRpb25zLnByb3BzRGF0YSAmJlxuXHQgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxuXHQgICAgdm1ba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gdm1ba2V5XVxuXHQgIH1cblx0ICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlc1xuXHQgIHJldHVybiB0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nICYmIHByb3AudHlwZSAhPT0gRnVuY3Rpb25cblx0ICAgID8gZGVmLmNhbGwodm0pXG5cdCAgICA6IGRlZlxuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHdoZXRoZXIgYSBwcm9wIGlzIHZhbGlkLlxuXHQgKi9cblx0ZnVuY3Rpb24gYXNzZXJ0UHJvcCAoXG5cdCAgcHJvcCxcblx0ICBuYW1lLFxuXHQgIHZhbHVlLFxuXHQgIHZtLFxuXHQgIGFic2VudFxuXHQpIHtcblx0ICBpZiAocHJvcC5yZXF1aXJlZCAmJiBhYnNlbnQpIHtcblx0ICAgIHdhcm4oXG5cdCAgICAgICdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInLFxuXHQgICAgICB2bVxuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciB0eXBlID0gcHJvcC50eXBlO1xuXHQgIHZhciB2YWxpZCA9ICF0eXBlIHx8IHR5cGUgPT09IHRydWU7XG5cdCAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTtcblx0ICBpZiAodHlwZSkge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG5cdCAgICAgIHR5cGUgPSBbdHlwZV07XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoICYmICF2YWxpZDsgaSsrKSB7XG5cdCAgICAgIHZhciBhc3NlcnRlZFR5cGUgPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlW2ldKTtcblx0ICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGFzc2VydGVkVHlwZS5leHBlY3RlZFR5cGUpO1xuXHQgICAgICB2YWxpZCA9IGFzc2VydGVkVHlwZS52YWxpZDtcblx0ICAgIH1cblx0ICB9XG5cdCAgaWYgKCF2YWxpZCkge1xuXHQgICAgd2Fybihcblx0ICAgICAgJ0ludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nICtcblx0ICAgICAgJyBFeHBlY3RlZCAnICsgZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKSArXG5cdCAgICAgICcsIGdvdCAnICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkgKyAnLicsXG5cdCAgICAgIHZtXG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjtcblx0ICBpZiAodmFsaWRhdG9yKSB7XG5cdCAgICBpZiAoIXZhbGlkYXRvcih2YWx1ZSkpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicsXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3NlcnQgdGhlIHR5cGUgb2YgYSB2YWx1ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYXNzZXJ0VHlwZSAodmFsdWUsIHR5cGUpIHtcblx0ICB2YXIgdmFsaWQ7XG5cdCAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG5cdCAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ1N0cmluZycpIHtcblx0ICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ3N0cmluZycpO1xuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnTnVtYmVyJykge1xuXHQgICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnbnVtYmVyJyk7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdCb29sZWFuJykge1xuXHQgICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnYm9vbGVhbicpO1xuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnRnVuY3Rpb24nKSB7XG5cdCAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdmdW5jdGlvbicpO1xuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xuXHQgICAgdmFsaWQgPSBpc1BsYWluT2JqZWN0KHZhbHVlKTtcblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xuXHQgICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG5cdCAgfVxuXHQgIHJldHVybiB7XG5cdCAgICB2YWxpZDogdmFsaWQsXG5cdCAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayBidWlsdC1pbiB0eXBlcyxcblx0ICogYmVjYXVzZSBhIHNpbXBsZSBlcXVhbGl0eSBjaGVjayB3aWxsIGZhaWwgd2hlbiBydW5uaW5nXG5cdCAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy5cblx0ICovXG5cdGZ1bmN0aW9uIGdldFR5cGUgKGZuKSB7XG5cdCAgdmFyIG1hdGNoID0gZm4gJiYgZm4udG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcblx0ICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCb29sZWFuVHlwZSAoZm4pIHtcblx0ICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG5cdCAgICByZXR1cm4gZ2V0VHlwZShmbikgPT09ICdCb29sZWFuJ1xuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMCwgbGVuID0gZm4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGlmIChnZXRUeXBlKGZuW2ldKSA9PT0gJ0Jvb2xlYW4nKSB7XG5cdCAgICAgIHJldHVybiB0cnVlXG5cdCAgICB9XG5cdCAgfVxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgcmV0dXJuIGZhbHNlXG5cdH1cblx0XG5cdFxuXHRcblx0dmFyIHV0aWwgPSBPYmplY3QuZnJlZXplKHtcblx0XHRkZWZpbmVSZWFjdGl2ZTogZGVmaW5lUmVhY3RpdmUkJDEsXG5cdFx0X3RvU3RyaW5nOiBfdG9TdHJpbmcsXG5cdFx0dG9OdW1iZXI6IHRvTnVtYmVyLFxuXHRcdG1ha2VNYXA6IG1ha2VNYXAsXG5cdFx0aXNCdWlsdEluVGFnOiBpc0J1aWx0SW5UYWcsXG5cdFx0cmVtb3ZlOiByZW1vdmUkMSxcblx0XHRoYXNPd246IGhhc093bixcblx0XHRpc1ByaW1pdGl2ZTogaXNQcmltaXRpdmUsXG5cdFx0Y2FjaGVkOiBjYWNoZWQsXG5cdFx0Y2FtZWxpemU6IGNhbWVsaXplLFxuXHRcdGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG5cdFx0aHlwaGVuYXRlOiBoeXBoZW5hdGUsXG5cdFx0YmluZDogYmluZCQxLFxuXHRcdHRvQXJyYXk6IHRvQXJyYXksXG5cdFx0ZXh0ZW5kOiBleHRlbmQsXG5cdFx0aXNPYmplY3Q6IGlzT2JqZWN0LFxuXHRcdGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG5cdFx0dG9PYmplY3Q6IHRvT2JqZWN0LFxuXHRcdG5vb3A6IG5vb3AsXG5cdFx0bm86IG5vLFxuXHRcdGdlblN0YXRpY0tleXM6IGdlblN0YXRpY0tleXMsXG5cdFx0bG9vc2VFcXVhbDogbG9vc2VFcXVhbCxcblx0XHRsb29zZUluZGV4T2Y6IGxvb3NlSW5kZXhPZixcblx0XHRpc1Jlc2VydmVkOiBpc1Jlc2VydmVkLFxuXHRcdGRlZjogZGVmLFxuXHRcdHBhcnNlUGF0aDogcGFyc2VQYXRoLFxuXHRcdGhhc1Byb3RvOiBoYXNQcm90byxcblx0XHRpbkJyb3dzZXI6IGluQnJvd3Nlcixcblx0XHRVQTogVUEsXG5cdFx0aXNJRTogaXNJRSxcblx0XHRpc0lFOTogaXNJRTksXG5cdFx0aXNFZGdlOiBpc0VkZ2UsXG5cdFx0aXNBbmRyb2lkOiBpc0FuZHJvaWQsXG5cdFx0aXNJT1M6IGlzSU9TLFxuXHRcdGlzU2VydmVyUmVuZGVyaW5nOiBpc1NlcnZlclJlbmRlcmluZyxcblx0XHRkZXZ0b29sczogZGV2dG9vbHMsXG5cdFx0bmV4dFRpY2s6IG5leHRUaWNrLFxuXHRcdGdldCBfU2V0ICgpIHsgcmV0dXJuIF9TZXQ7IH0sXG5cdFx0bWVyZ2VPcHRpb25zOiBtZXJnZU9wdGlvbnMsXG5cdFx0cmVzb2x2ZUFzc2V0OiByZXNvbHZlQXNzZXQsXG5cdFx0Z2V0IHdhcm4gKCkgeyByZXR1cm4gd2FybjsgfSxcblx0XHRnZXQgZm9ybWF0Q29tcG9uZW50TmFtZSAoKSB7IHJldHVybiBmb3JtYXRDb21wb25lbnROYW1lOyB9LFxuXHRcdHZhbGlkYXRlUHJvcDogdmFsaWRhdGVQcm9wXG5cdH0pO1xuXHRcblx0Lyogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoIFByb3h5ICovXG5cdFxuXHR2YXIgaW5pdFByb3h5O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgYWxsb3dlZEdsb2JhbHMgPSBtYWtlTWFwKFxuXHQgICAgJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4sJyArXG5cdCAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG5cdCAgICAnTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLCcgK1xuXHQgICAgJ3JlcXVpcmUnIC8vIGZvciBXZWJwYWNrL0Jyb3dzZXJpZnlcblx0ICApO1xuXHRcblx0ICB2YXIgd2Fybk5vblByZXNlbnQgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcblx0ICAgIHdhcm4oXG5cdCAgICAgIFwiUHJvcGVydHkgb3IgbWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBub3QgZGVmaW5lZCBvbiB0aGUgaW5zdGFuY2UgYnV0IFwiICtcblx0ICAgICAgXCJyZWZlcmVuY2VkIGR1cmluZyByZW5kZXIuIE1ha2Ugc3VyZSB0byBkZWNsYXJlIHJlYWN0aXZlIGRhdGEgXCIgK1xuXHQgICAgICBcInByb3BlcnRpZXMgaW4gdGhlIGRhdGEgb3B0aW9uLlwiLFxuXHQgICAgICB0YXJnZXRcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgdmFyIGhhc1Byb3h5ID1cblx0ICAgIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgIFByb3h5LnRvU3RyaW5nKCkubWF0Y2goL25hdGl2ZSBjb2RlLyk7XG5cdFxuXHQgIHZhciBoYXNIYW5kbGVyID0ge1xuXHQgICAgaGFzOiBmdW5jdGlvbiBoYXMgKHRhcmdldCwga2V5KSB7XG5cdCAgICAgIHZhciBoYXMgPSBrZXkgaW4gdGFyZ2V0O1xuXHQgICAgICB2YXIgaXNBbGxvd2VkID0gYWxsb3dlZEdsb2JhbHMoa2V5KSB8fCBrZXkuY2hhckF0KDApID09PSAnXyc7XG5cdCAgICAgIGlmICghaGFzICYmICFpc0FsbG93ZWQpIHtcblx0ICAgICAgICB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGhhcyB8fCAhaXNBbGxvd2VkXG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdmFyIGdldEhhbmRsZXIgPSB7XG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCAodGFyZ2V0LCBrZXkpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmICEoa2V5IGluIHRhcmdldCkpIHtcblx0ICAgICAgICB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRhcmdldFtrZXldXG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgaW5pdFByb3h5ID0gZnVuY3Rpb24gaW5pdFByb3h5ICh2bSkge1xuXHQgICAgaWYgKGhhc1Byb3h5KSB7XG5cdCAgICAgIC8vIGRldGVybWluZSB3aGljaCBwcm94eSBoYW5kbGVyIHRvIHVzZVxuXHQgICAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xuXHQgICAgICB2YXIgaGFuZGxlcnMgPSBvcHRpb25zLnJlbmRlciAmJiBvcHRpb25zLnJlbmRlci5fd2l0aFN0cmlwcGVkXG5cdCAgICAgICAgPyBnZXRIYW5kbGVyXG5cdCAgICAgICAgOiBoYXNIYW5kbGVyO1xuXHQgICAgICB2bS5fcmVuZGVyUHJveHkgPSBuZXcgUHJveHkodm0sIGhhbmRsZXJzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgaGFzJDEgPSB7fTtcblx0dmFyIGNpcmN1bGFyID0ge307XG5cdHZhciB3YWl0aW5nID0gZmFsc2U7XG5cdHZhciBmbHVzaGluZyA9IGZhbHNlO1xuXHR2YXIgaW5kZXggPSAwO1xuXHRcblx0LyoqXG5cdCAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS5cblx0ICovXG5cdGZ1bmN0aW9uIHJlc2V0U2NoZWR1bGVyU3RhdGUgKCkge1xuXHQgIHF1ZXVlLmxlbmd0aCA9IDA7XG5cdCAgaGFzJDEgPSB7fTtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgY2lyY3VsYXIgPSB7fTtcblx0ICB9XG5cdCAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBGbHVzaCBib3RoIHF1ZXVlcyBhbmQgcnVuIHRoZSB3YXRjaGVycy5cblx0ICovXG5cdGZ1bmN0aW9uIGZsdXNoU2NoZWR1bGVyUXVldWUgKCkge1xuXHQgIGZsdXNoaW5nID0gdHJ1ZTtcblx0XG5cdCAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXG5cdCAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG5cdCAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xuXHQgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZClcblx0ICAvLyAyLiBBIGNvbXBvbmVudCdzIHVzZXIgd2F0Y2hlcnMgYXJlIHJ1biBiZWZvcmUgaXRzIHJlbmRlciB3YXRjaGVyIChiZWNhdXNlXG5cdCAgLy8gICAgdXNlciB3YXRjaGVycyBhcmUgY3JlYXRlZCBiZWZvcmUgdGhlIHJlbmRlciB3YXRjaGVyKVxuXHQgIC8vIDMuIElmIGEgY29tcG9uZW50IGlzIGRlc3Ryb3llZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3Mgd2F0Y2hlciBydW4sXG5cdCAgLy8gICAgaXRzIHdhdGNoZXJzIGNhbiBiZSBza2lwcGVkLlxuXHQgIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaWQgLSBiLmlkOyB9KTtcblx0XG5cdCAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkXG5cdCAgLy8gYXMgd2UgcnVuIGV4aXN0aW5nIHdhdGNoZXJzXG5cdCAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgcXVldWUubGVuZ3RoOyBpbmRleCsrKSB7XG5cdCAgICB2YXIgd2F0Y2hlciA9IHF1ZXVlW2luZGV4XTtcblx0ICAgIHZhciBpZCA9IHdhdGNoZXIuaWQ7XG5cdCAgICBoYXMkMVtpZF0gPSBudWxsO1xuXHQgICAgd2F0Y2hlci5ydW4oKTtcblx0ICAgIC8vIGluIGRldiBidWlsZCwgY2hlY2sgYW5kIHN0b3AgY2lyY3VsYXIgdXBkYXRlcy5cblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGhhcyQxW2lkXSAhPSBudWxsKSB7XG5cdCAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxO1xuXHQgICAgICBpZiAoY2lyY3VsYXJbaWRdID4gY29uZmlnLl9tYXhVcGRhdGVDb3VudCkge1xuXHQgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAnWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgKyAoXG5cdCAgICAgICAgICAgIHdhdGNoZXIudXNlclxuXHQgICAgICAgICAgICAgID8gKFwiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXFxcIlwiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyBcIlxcXCJcIilcblx0ICAgICAgICAgICAgICA6IFwiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLlwiXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgd2F0Y2hlci52bVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgYnJlYWtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gZGV2dG9vbCBob29rXG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGRldnRvb2xzICYmIGNvbmZpZy5kZXZ0b29scykge1xuXHQgICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcblx0ICB9XG5cdFxuXHQgIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFB1c2ggYSB3YXRjaGVyIGludG8gdGhlIHdhdGNoZXIgcXVldWUuXG5cdCAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQnc1xuXHQgKiBwdXNoZWQgd2hlbiB0aGUgcXVldWUgaXMgYmVpbmcgZmx1c2hlZC5cblx0ICovXG5cdGZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikge1xuXHQgIHZhciBpZCA9IHdhdGNoZXIuaWQ7XG5cdCAgaWYgKGhhcyQxW2lkXSA9PSBudWxsKSB7XG5cdCAgICBoYXMkMVtpZF0gPSB0cnVlO1xuXHQgICAgaWYgKCFmbHVzaGluZykge1xuXHQgICAgICBxdWV1ZS5wdXNoKHdhdGNoZXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxuXHQgICAgICAvLyBpZiBhbHJlYWR5IHBhc3QgaXRzIGlkLCBpdCB3aWxsIGJlIHJ1biBuZXh0IGltbWVkaWF0ZWx5LlxuXHQgICAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aCAtIDE7XG5cdCAgICAgIHdoaWxlIChpID49IDAgJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XG5cdCAgICAgICAgaS0tO1xuXHQgICAgICB9XG5cdCAgICAgIHF1ZXVlLnNwbGljZShNYXRoLm1heChpLCBpbmRleCkgKyAxLCAwLCB3YXRjaGVyKTtcblx0ICAgIH1cblx0ICAgIC8vIHF1ZXVlIHRoZSBmbHVzaFxuXHQgICAgaWYgKCF3YWl0aW5nKSB7XG5cdCAgICAgIHdhaXRpbmcgPSB0cnVlO1xuXHQgICAgICBuZXh0VGljayhmbHVzaFNjaGVkdWxlclF1ZXVlKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIHVpZCQyID0gMDtcblx0XG5cdC8qKlxuXHQgKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcblx0ICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy5cblx0ICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXG5cdCAqL1xuXHR2YXIgV2F0Y2hlciA9IGZ1bmN0aW9uIFdhdGNoZXIgKFxuXHQgIHZtLFxuXHQgIGV4cE9yRm4sXG5cdCAgY2IsXG5cdCAgb3B0aW9uc1xuXHQpIHtcblx0ICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblx0XG5cdCAgdGhpcy52bSA9IHZtO1xuXHQgIHZtLl93YXRjaGVycy5wdXNoKHRoaXMpO1xuXHQgIC8vIG9wdGlvbnNcblx0ICB0aGlzLmRlZXAgPSAhIW9wdGlvbnMuZGVlcDtcblx0ICB0aGlzLnVzZXIgPSAhIW9wdGlvbnMudXNlcjtcblx0ICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTtcblx0ICB0aGlzLnN5bmMgPSAhIW9wdGlvbnMuc3luYztcblx0ICB0aGlzLmV4cHJlc3Npb24gPSBleHBPckZuLnRvU3RyaW5nKCk7XG5cdCAgdGhpcy5jYiA9IGNiO1xuXHQgIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nXG5cdCAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuXHQgIHRoaXMuZGlydHkgPSB0aGlzLmxhenk7IC8vIGZvciBsYXp5IHdhdGNoZXJzXG5cdCAgdGhpcy5kZXBzID0gW107XG5cdCAgdGhpcy5uZXdEZXBzID0gW107XG5cdCAgdGhpcy5kZXBJZHMgPSBuZXcgX1NldCgpO1xuXHQgIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcblx0ICAvLyBwYXJzZSBleHByZXNzaW9uIGZvciBnZXR0ZXJcblx0ICBpZiAodHlwZW9mIGV4cE9yRm4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbik7XG5cdCAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG5cdCAgICAgIHRoaXMuZ2V0dGVyID0gZnVuY3Rpb24gKCkge307XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICBcIkZhaWxlZCB3YXRjaGluZyBwYXRoOiBcXFwiXCIgKyBleHBPckZuICsgXCJcXFwiIFwiICtcblx0ICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgK1xuXHQgICAgICAgICdGb3IgZnVsbCBjb250cm9sLCB1c2UgYSBmdW5jdGlvbiBpbnN0ZWFkLicsXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdGhpcy52YWx1ZSA9IHRoaXMubGF6eVxuXHQgICAgPyB1bmRlZmluZWRcblx0ICAgIDogdGhpcy5nZXQoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFdmFsdWF0ZSB0aGUgZ2V0dGVyLCBhbmQgcmUtY29sbGVjdCBkZXBlbmRlbmNpZXMuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKCkge1xuXHQgIHB1c2hUYXJnZXQodGhpcyk7XG5cdCAgdmFyIHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh0aGlzLnZtLCB0aGlzLnZtKTtcblx0ICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcblx0ICAvLyBkZXBlbmRlbmNpZXMgZm9yIGRlZXAgd2F0Y2hpbmdcblx0ICBpZiAodGhpcy5kZWVwKSB7XG5cdCAgICB0cmF2ZXJzZSh2YWx1ZSk7XG5cdCAgfVxuXHQgIHBvcFRhcmdldCgpO1xuXHQgIHRoaXMuY2xlYW51cERlcHMoKTtcblx0ICByZXR1cm4gdmFsdWVcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBZGQgYSBkZXBlbmRlbmN5IHRvIHRoaXMgZGlyZWN0aXZlLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUuYWRkRGVwID0gZnVuY3Rpb24gYWRkRGVwIChkZXApIHtcblx0ICB2YXIgaWQgPSBkZXAuaWQ7XG5cdCAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoaWQpKSB7XG5cdCAgICB0aGlzLm5ld0RlcElkcy5hZGQoaWQpO1xuXHQgICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKTtcblx0ICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkge1xuXHQgICAgICBkZXAuYWRkU3ViKHRoaXMpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDbGVhbiB1cCBmb3IgZGVwZW5kZW5jeSBjb2xsZWN0aW9uLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUuY2xlYW51cERlcHMgPSBmdW5jdGlvbiBjbGVhbnVwRGVwcyAoKSB7XG5cdCAgICB2YXIgdGhpcyQxID0gdGhpcztcblx0XG5cdCAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuXHQgIHdoaWxlIChpLS0pIHtcblx0ICAgIHZhciBkZXAgPSB0aGlzJDEuZGVwc1tpXTtcblx0ICAgIGlmICghdGhpcyQxLm5ld0RlcElkcy5oYXMoZGVwLmlkKSkge1xuXHQgICAgICBkZXAucmVtb3ZlU3ViKHRoaXMkMSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHZhciB0bXAgPSB0aGlzLmRlcElkcztcblx0ICB0aGlzLmRlcElkcyA9IHRoaXMubmV3RGVwSWRzO1xuXHQgIHRoaXMubmV3RGVwSWRzID0gdG1wO1xuXHQgIHRoaXMubmV3RGVwSWRzLmNsZWFyKCk7XG5cdCAgdG1wID0gdGhpcy5kZXBzO1xuXHQgIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwcztcblx0ICB0aGlzLm5ld0RlcHMgPSB0bXA7XG5cdCAgdGhpcy5uZXdEZXBzLmxlbmd0aCA9IDA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXG5cdCAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKCkge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgaWYgKHRoaXMubGF6eSkge1xuXHQgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cdCAgfSBlbHNlIGlmICh0aGlzLnN5bmMpIHtcblx0ICAgIHRoaXMucnVuKCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2NoZWR1bGVyIGpvYiBpbnRlcmZhY2UuXG5cdCAqIFdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKCkge1xuXHQgIGlmICh0aGlzLmFjdGl2ZSkge1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTtcblx0ICAgICAgaWYgKFxuXHQgICAgICAgIHZhbHVlICE9PSB0aGlzLnZhbHVlIHx8XG5cdCAgICAgIC8vIERlZXAgd2F0Y2hlcnMgYW5kIHdhdGNoZXJzIG9uIE9iamVjdC9BcnJheXMgc2hvdWxkIGZpcmUgZXZlblxuXHQgICAgICAvLyB3aGVuIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSwgYmVjYXVzZSB0aGUgdmFsdWUgbWF5XG5cdCAgICAgIC8vIGhhdmUgbXV0YXRlZC5cblx0ICAgICAgaXNPYmplY3QodmFsdWUpIHx8XG5cdCAgICAgIHRoaXMuZGVlcFxuXHQgICAgKSB7XG5cdCAgICAgIC8vIHNldCBuZXcgdmFsdWVcblx0ICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcblx0ICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuXHQgICAgICBpZiAodGhpcy51c2VyKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICAgICAgKFwiRXJyb3IgaW4gd2F0Y2hlciBcXFwiXCIgKyAodGhpcy5leHByZXNzaW9uKSArIFwiXFxcIlwiKSxcblx0ICAgICAgICAgICAgdGhpcy52bVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICAgICAgICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuXHQgICAgICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdGhpcy52bSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEV2YWx1YXRlIHRoZSB2YWx1ZSBvZiB0aGUgd2F0Y2hlci5cblx0ICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUuZXZhbHVhdGUgPSBmdW5jdGlvbiBldmFsdWF0ZSAoKSB7XG5cdCAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KCk7XG5cdCAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERlcGVuZCBvbiBhbGwgZGVwcyBjb2xsZWN0ZWQgYnkgdGhpcyB3YXRjaGVyLlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcblx0ICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXHRcblx0ICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG5cdCAgd2hpbGUgKGktLSkge1xuXHQgICAgdGhpcyQxLmRlcHNbaV0uZGVwZW5kKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LlxuXHQgKi9cblx0V2F0Y2hlci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiB0ZWFyZG93biAoKSB7XG5cdCAgICB2YXIgdGhpcyQxID0gdGhpcztcblx0XG5cdCAgaWYgKHRoaXMuYWN0aXZlKSB7XG5cdCAgICAvLyByZW1vdmUgc2VsZiBmcm9tIHZtJ3Mgd2F0Y2hlciBsaXN0XG5cdCAgICAvLyB0aGlzIGlzIGEgc29tZXdoYXQgZXhwZW5zaXZlIG9wZXJhdGlvbiBzbyB3ZSBza2lwIGl0XG5cdCAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkIG9yIGlzIHBlcmZvcm1pbmcgYSB2LWZvclxuXHQgICAgLy8gcmUtcmVuZGVyICh0aGUgd2F0Y2hlciBsaXN0IGlzIHRoZW4gZmlsdGVyZWQgYnkgdi1mb3IpLlxuXHQgICAgaWYgKCF0aGlzLnZtLl9pc0JlaW5nRGVzdHJveWVkICYmICF0aGlzLnZtLl92Rm9yUmVtb3ZpbmcpIHtcblx0ICAgICAgcmVtb3ZlJDEodGhpcy52bS5fd2F0Y2hlcnMsIHRoaXMpO1xuXHQgICAgfVxuXHQgICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICB0aGlzJDEuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyQxKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXG5cdCAqIGdldHRlcnMsIHNvIHRoYXQgZXZlcnkgbmVzdGVkIHByb3BlcnR5IGluc2lkZSB0aGUgb2JqZWN0XG5cdCAqIGlzIGNvbGxlY3RlZCBhcyBhIFwiZGVlcFwiIGRlcGVuZGVuY3kuXG5cdCAqL1xuXHR2YXIgc2Vlbk9iamVjdHMgPSBuZXcgX1NldCgpO1xuXHRmdW5jdGlvbiB0cmF2ZXJzZSAodmFsKSB7XG5cdCAgc2Vlbk9iamVjdHMuY2xlYXIoKTtcblx0ICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF90cmF2ZXJzZSAodmFsLCBzZWVuKSB7XG5cdCAgdmFyIGksIGtleXM7XG5cdCAgdmFyIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKTtcblx0ICBpZiAoKCFpc0EgJiYgIWlzT2JqZWN0KHZhbCkpIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbCkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBpZiAodmFsLl9fb2JfXykge1xuXHQgICAgdmFyIGRlcElkID0gdmFsLl9fb2JfXy5kZXAuaWQ7XG5cdCAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgc2Vlbi5hZGQoZGVwSWQpO1xuXHQgIH1cblx0ICBpZiAoaXNBKSB7XG5cdCAgICBpID0gdmFsLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtpXSwgc2Vlbik7IH1cblx0ICB9IGVsc2Uge1xuXHQgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG5cdCAgICBpID0ga2V5cy5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxba2V5c1tpXV0sIHNlZW4pOyB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRTdGF0ZSAodm0pIHtcblx0ICB2bS5fd2F0Y2hlcnMgPSBbXTtcblx0ICBpbml0UHJvcHModm0pO1xuXHQgIGluaXREYXRhKHZtKTtcblx0ICBpbml0Q29tcHV0ZWQodm0pO1xuXHQgIGluaXRNZXRob2RzKHZtKTtcblx0ICBpbml0V2F0Y2godm0pO1xuXHR9XG5cdFxuXHR2YXIgaXNSZXNlcnZlZFByb3AgPSBtYWtlTWFwKCdrZXkscmVmLHNsb3QnKTtcblx0XG5cdGZ1bmN0aW9uIGluaXRQcm9wcyAodm0pIHtcblx0ICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcblx0ICBpZiAocHJvcHMpIHtcblx0ICAgIHZhciBwcm9wc0RhdGEgPSB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgfHwge307XG5cdCAgICB2YXIga2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcblx0ICAgIHZhciBpc1Jvb3QgPSAhdm0uJHBhcmVudDtcblx0ICAgIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxuXHQgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gaXNSb290O1xuXHQgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG5cdCAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG5cdCAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAoXCJcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGNvbXBvbmVudCBwcm9wLlwiKSxcblx0ICAgICAgICAgICAgdm1cblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHZhbGlkYXRlUHJvcChrZXksIHByb3BzLCBwcm9wc0RhdGEsIHZtKSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgaWYgKHZtLiRwYXJlbnQgJiYgIW9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMpIHtcblx0ICAgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXG5cdCAgICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcGFyZW50IGNvbXBvbmVudCByZS1yZW5kZXJzLiBcIiArXG5cdCAgICAgICAgICAgICAgXCJJbnN0ZWFkLCB1c2UgYSBkYXRhIG9yIGNvbXB1dGVkIHByb3BlcnR5IGJhc2VkIG9uIHRoZSBwcm9wJ3MgXCIgK1xuXHQgICAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiICsga2V5ICsgXCJcXFwiXCIsXG5cdCAgICAgICAgICAgICAgdm1cblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wcywgcHJvcHNEYXRhLCB2bSkpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgbG9vcCggaSApO1xuXHQgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluaXREYXRhICh2bSkge1xuXHQgIHZhciBkYXRhID0gdm0uJG9wdGlvbnMuZGF0YTtcblx0ICBkYXRhID0gdm0uX2RhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJ1xuXHQgICAgPyBkYXRhLmNhbGwodm0pXG5cdCAgICA6IGRhdGEgfHwge307XG5cdCAgaWYgKCFpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG5cdCAgICBkYXRhID0ge307XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICdkYXRhIGZ1bmN0aW9ucyBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4nLFxuXHQgICAgICB2bVxuXHQgICAgKTtcblx0ICB9XG5cdCAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuXHQgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG5cdCAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG5cdCAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcblx0ICB3aGlsZSAoaS0tKSB7XG5cdCAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXlzW2ldKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgXCJUaGUgZGF0YSBwcm9wZXJ0eSBcXFwiXCIgKyAoa2V5c1tpXSkgKyBcIlxcXCIgaXMgYWxyZWFkeSBkZWNsYXJlZCBhcyBhIHByb3AuIFwiICtcblx0ICAgICAgICBcIlVzZSBwcm9wIGRlZmF1bHQgdmFsdWUgaW5zdGVhZC5cIixcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcHJveHkodm0sIGtleXNbaV0pO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBvYnNlcnZlIGRhdGFcblx0ICBvYnNlcnZlKGRhdGEpO1xuXHQgIGRhdGEuX19vYl9fICYmIGRhdGEuX19vYl9fLnZtQ291bnQrKztcblx0fVxuXHRcblx0dmFyIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbiA9IHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IG5vb3AsXG5cdCAgc2V0OiBub29wXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbml0Q29tcHV0ZWQgKHZtKSB7XG5cdCAgdmFyIGNvbXB1dGVkID0gdm0uJG9wdGlvbnMuY29tcHV0ZWQ7XG5cdCAgaWYgKGNvbXB1dGVkKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gY29tcHV0ZWQpIHtcblx0ICAgICAgdmFyIHVzZXJEZWYgPSBjb21wdXRlZFtrZXldO1xuXHQgICAgICBpZiAodHlwZW9mIHVzZXJEZWYgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gbWFrZUNvbXB1dGVkR2V0dGVyKHVzZXJEZWYsIHZtKTtcblx0ICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uc2V0ID0gbm9vcDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gdXNlckRlZi5nZXRcblx0ICAgICAgICAgID8gdXNlckRlZi5jYWNoZSAhPT0gZmFsc2Vcblx0ICAgICAgICAgICAgPyBtYWtlQ29tcHV0ZWRHZXR0ZXIodXNlckRlZi5nZXQsIHZtKVxuXHQgICAgICAgICAgICA6IGJpbmQkMSh1c2VyRGVmLmdldCwgdm0pXG5cdCAgICAgICAgICA6IG5vb3A7XG5cdCAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0XG5cdCAgICAgICAgICA/IGJpbmQkMSh1c2VyRGVmLnNldCwgdm0pXG5cdCAgICAgICAgICA6IG5vb3A7XG5cdCAgICAgIH1cblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbik7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlQ29tcHV0ZWRHZXR0ZXIgKGdldHRlciwgb3duZXIpIHtcblx0ICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKG93bmVyLCBnZXR0ZXIsIG5vb3AsIHtcblx0ICAgIGxhenk6IHRydWVcblx0ICB9KTtcblx0ICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuXHQgICAgaWYgKHdhdGNoZXIuZGlydHkpIHtcblx0ICAgICAgd2F0Y2hlci5ldmFsdWF0ZSgpO1xuXHQgICAgfVxuXHQgICAgaWYgKERlcC50YXJnZXQpIHtcblx0ICAgICAgd2F0Y2hlci5kZXBlbmQoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB3YXRjaGVyLnZhbHVlXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbml0TWV0aG9kcyAodm0pIHtcblx0ICB2YXIgbWV0aG9kcyA9IHZtLiRvcHRpb25zLm1ldGhvZHM7XG5cdCAgaWYgKG1ldGhvZHMpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBtZXRob2RzKSB7XG5cdCAgICAgIHZtW2tleV0gPSBtZXRob2RzW2tleV0gPT0gbnVsbCA/IG5vb3AgOiBiaW5kJDEobWV0aG9kc1trZXldLCB2bSk7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG1ldGhvZHNba2V5XSA9PSBudWxsKSB7XG5cdCAgICAgICAgd2Fybihcblx0ICAgICAgICAgIFwibWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gXCIgK1xuXHQgICAgICAgICAgXCJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P1wiLFxuXHQgICAgICAgICAgdm1cblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbml0V2F0Y2ggKHZtKSB7XG5cdCAgdmFyIHdhdGNoID0gdm0uJG9wdGlvbnMud2F0Y2g7XG5cdCAgaWYgKHdhdGNoKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gd2F0Y2gpIHtcblx0ICAgICAgdmFyIGhhbmRsZXIgPSB3YXRjaFtrZXldO1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlV2F0Y2hlciAodm0sIGtleSwgaGFuZGxlcikge1xuXHQgIHZhciBvcHRpb25zO1xuXHQgIGlmIChpc1BsYWluT2JqZWN0KGhhbmRsZXIpKSB7XG5cdCAgICBvcHRpb25zID0gaGFuZGxlcjtcblx0ICAgIGhhbmRsZXIgPSBoYW5kbGVyLmhhbmRsZXI7XG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHtcblx0ICAgIGhhbmRsZXIgPSB2bVtoYW5kbGVyXTtcblx0ICB9XG5cdCAgdm0uJHdhdGNoKGtleSwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0YXRlTWl4aW4gKFZ1ZSkge1xuXHQgIC8vIGZsb3cgc29tZWhvdyBoYXMgcHJvYmxlbXMgd2l0aCBkaXJlY3RseSBkZWNsYXJlZCBkZWZpbml0aW9uIG9iamVjdFxuXHQgIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxuXHQgIC8vIHRoZSBvYmplY3QgaGVyZS5cblx0ICB2YXIgZGF0YURlZiA9IHt9O1xuXHQgIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2RhdGFcblx0ICB9O1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uIChuZXdEYXRhKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJ0F2b2lkIHJlcGxhY2luZyBpbnN0YW5jZSByb290ICRkYXRhLiAnICtcblx0ICAgICAgICAnVXNlIG5lc3RlZCBkYXRhIHByb3BlcnRpZXMgaW5zdGVhZC4nLFxuXHQgICAgICAgIHRoaXNcblx0ICAgICAgKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kc2V0ID0gc2V0O1xuXHQgIFZ1ZS5wcm90b3R5cGUuJGRlbGV0ZSA9IGRlbDtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kd2F0Y2ggPSBmdW5jdGlvbiAoXG5cdCAgICBleHBPckZuLFxuXHQgICAgY2IsXG5cdCAgICBvcHRpb25zXG5cdCAgKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBvcHRpb25zLnVzZXIgPSB0cnVlO1xuXHQgICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpO1xuXHQgICAgaWYgKG9wdGlvbnMuaW1tZWRpYXRlKSB7XG5cdCAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHVud2F0Y2hGbiAoKSB7XG5cdCAgICAgIHdhdGNoZXIudGVhcmRvd24oKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcm94eSAodm0sIGtleSkge1xuXHQgIGlmICghaXNSZXNlcnZlZChrZXkpKSB7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodm0sIGtleSwge1xuXHQgICAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gcHJveHlHZXR0ZXIgKCkge1xuXHQgICAgICAgIHJldHVybiB2bS5fZGF0YVtrZXldXG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gcHJveHlTZXR0ZXIgKHZhbCkge1xuXHQgICAgICAgIHZtLl9kYXRhW2tleV0gPSB2YWw7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgVk5vZGUgPSBmdW5jdGlvbiBWTm9kZSAoXG5cdCAgdGFnLFxuXHQgIGRhdGEsXG5cdCAgY2hpbGRyZW4sXG5cdCAgdGV4dCxcblx0ICBlbG0sXG5cdCAgbnMsXG5cdCAgY29udGV4dCxcblx0ICBjb21wb25lbnRPcHRpb25zXG5cdCkge1xuXHQgIHRoaXMudGFnID0gdGFnO1xuXHQgIHRoaXMuZGF0YSA9IGRhdGE7XG5cdCAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHQgIHRoaXMudGV4dCA9IHRleHQ7XG5cdCAgdGhpcy5lbG0gPSBlbG07XG5cdCAgdGhpcy5ucyA9IG5zO1xuXHQgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgdGhpcy5mdW5jdGlvbmFsQ29udGV4dCA9IHVuZGVmaW5lZDtcblx0ICB0aGlzLmtleSA9IGRhdGEgJiYgZGF0YS5rZXk7XG5cdCAgdGhpcy5jb21wb25lbnRPcHRpb25zID0gY29tcG9uZW50T3B0aW9ucztcblx0ICB0aGlzLmNoaWxkID0gdW5kZWZpbmVkO1xuXHQgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgIHRoaXMucmF3ID0gZmFsc2U7XG5cdCAgdGhpcy5pc1N0YXRpYyA9IGZhbHNlO1xuXHQgIHRoaXMuaXNSb290SW5zZXJ0ID0gdHJ1ZTtcblx0ICB0aGlzLmlzQ29tbWVudCA9IGZhbHNlO1xuXHQgIHRoaXMuaXNDbG9uZWQgPSBmYWxzZTtcblx0ICB0aGlzLmlzT25jZSA9IGZhbHNlO1xuXHR9O1xuXHRcblx0dmFyIGVtcHR5Vk5vZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIG5vZGUgPSBuZXcgVk5vZGUoKTtcblx0ICBub2RlLnRleHQgPSAnJztcblx0ICBub2RlLmlzQ29tbWVudCA9IHRydWU7XG5cdCAgcmV0dXJuIG5vZGVcblx0fTtcblx0XG5cdC8vIG9wdGltaXplZCBzaGFsbG93IGNsb25lXG5cdC8vIHVzZWQgZm9yIHN0YXRpYyBub2RlcyBhbmQgc2xvdCBub2RlcyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJldXNlZCBhY3Jvc3Ncblx0Ly8gbXVsdGlwbGUgcmVuZGVycywgY2xvbmluZyB0aGVtIGF2b2lkcyBlcnJvcnMgd2hlbiBET00gbWFuaXB1bGF0aW9ucyByZWx5XG5cdC8vIG9uIHRoZWlyIGVsbSByZWZlcmVuY2UuXG5cdGZ1bmN0aW9uIGNsb25lVk5vZGUgKHZub2RlKSB7XG5cdCAgdmFyIGNsb25lZCA9IG5ldyBWTm9kZShcblx0ICAgIHZub2RlLnRhZyxcblx0ICAgIHZub2RlLmRhdGEsXG5cdCAgICB2bm9kZS5jaGlsZHJlbixcblx0ICAgIHZub2RlLnRleHQsXG5cdCAgICB2bm9kZS5lbG0sXG5cdCAgICB2bm9kZS5ucyxcblx0ICAgIHZub2RlLmNvbnRleHQsXG5cdCAgICB2bm9kZS5jb21wb25lbnRPcHRpb25zXG5cdCAgKTtcblx0ICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcblx0ICBjbG9uZWQua2V5ID0gdm5vZGUua2V5O1xuXHQgIGNsb25lZC5pc0Nsb25lZCA9IHRydWU7XG5cdCAgcmV0dXJuIGNsb25lZFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjbG9uZVZOb2RlcyAodm5vZGVzKSB7XG5cdCAgdmFyIHJlcyA9IG5ldyBBcnJheSh2bm9kZXMubGVuZ3RoKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZub2Rlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgcmVzW2ldID0gY2xvbmVWTm9kZSh2bm9kZXNbaV0pO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2sgKGRlZiwgaG9va0tleSwgaG9vaywga2V5KSB7XG5cdCAga2V5ID0ga2V5ICsgaG9va0tleTtcblx0ICB2YXIgaW5qZWN0ZWRIYXNoID0gZGVmLl9faW5qZWN0ZWQgfHwgKGRlZi5fX2luamVjdGVkID0ge30pO1xuXHQgIGlmICghaW5qZWN0ZWRIYXNoW2tleV0pIHtcblx0ICAgIGluamVjdGVkSGFzaFtrZXldID0gdHJ1ZTtcblx0ICAgIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldO1xuXHQgICAgaWYgKG9sZEhvb2spIHtcblx0ICAgICAgZGVmW2hvb2tLZXldID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIG9sZEhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICBob29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBkZWZbaG9va0tleV0gPSBob29rO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVMaXN0ZW5lcnMgKFxuXHQgIG9uLFxuXHQgIG9sZE9uLFxuXHQgIGFkZCxcblx0ICByZW1vdmUkJDEsXG5cdCAgdm1cblx0KSB7XG5cdCAgdmFyIG5hbWUsIGN1ciwgb2xkLCBmbiwgZXZlbnQsIGNhcHR1cmU7XG5cdCAgZm9yIChuYW1lIGluIG9uKSB7XG5cdCAgICBjdXIgPSBvbltuYW1lXTtcblx0ICAgIG9sZCA9IG9sZE9uW25hbWVdO1xuXHQgICAgaWYgKCFjdXIpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgIFwiSW52YWxpZCBoYW5kbGVyIGZvciBldmVudCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiOiBnb3QgXCIgKyBTdHJpbmcoY3VyKSxcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgfSBlbHNlIGlmICghb2xkKSB7XG5cdCAgICAgIGNhcHR1cmUgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJyEnO1xuXHQgICAgICBldmVudCA9IGNhcHR1cmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VyKSkge1xuXHQgICAgICAgIGFkZChldmVudCwgKGN1ci5pbnZva2VyID0gYXJySW52b2tlcihjdXIpKSwgY2FwdHVyZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFjdXIuaW52b2tlcikge1xuXHQgICAgICAgICAgZm4gPSBjdXI7XG5cdCAgICAgICAgICBjdXIgPSBvbltuYW1lXSA9IHt9O1xuXHQgICAgICAgICAgY3VyLmZuID0gZm47XG5cdCAgICAgICAgICBjdXIuaW52b2tlciA9IGZuSW52b2tlcihjdXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBhZGQoZXZlbnQsIGN1ci5pbnZva2VyLCBjYXB0dXJlKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChjdXIgIT09IG9sZCkge1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShvbGQpKSB7XG5cdCAgICAgICAgb2xkLmxlbmd0aCA9IGN1ci5sZW5ndGg7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyBpKyspIHsgb2xkW2ldID0gY3VyW2ldOyB9XG5cdCAgICAgICAgb25bbmFtZV0gPSBvbGQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgb2xkLmZuID0gY3VyO1xuXHQgICAgICAgIG9uW25hbWVdID0gb2xkO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIGZvciAobmFtZSBpbiBvbGRPbikge1xuXHQgICAgaWYgKCFvbltuYW1lXSkge1xuXHQgICAgICBldmVudCA9IG5hbWUuY2hhckF0KDApID09PSAnIScgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcblx0ICAgICAgcmVtb3ZlJCQxKGV2ZW50LCBvbGRPbltuYW1lXS5pbnZva2VyKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFyckludm9rZXIgKGFycikge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcblx0ICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblx0XG5cdCAgICB2YXIgc2luZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHNpbmdsZSA/IGFycltpXShldikgOiBhcnJbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzJDEpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZm5JbnZva2VyIChvKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChldikge1xuXHQgICAgdmFyIHNpbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG5cdCAgICBzaW5nbGUgPyBvLmZuKGV2KSA6IG8uZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4gKFxuXHQgIGNoaWxkcmVuLFxuXHQgIG5zLFxuXHQgIG5lc3RlZEluZGV4XG5cdCkge1xuXHQgIGlmIChpc1ByaW1pdGl2ZShjaGlsZHJlbikpIHtcblx0ICAgIHJldHVybiBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV1cblx0ICB9XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG5cdCAgICB2YXIgcmVzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xuXHQgICAgICB2YXIgbGFzdCA9IHJlc1tyZXMubGVuZ3RoIC0gMV07XG5cdCAgICAgIC8vICBuZXN0ZWRcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIHtcblx0ICAgICAgICByZXMucHVzaC5hcHBseShyZXMsIG5vcm1hbGl6ZUNoaWxkcmVuKGMsIG5zLCAoKG5lc3RlZEluZGV4IHx8ICcnKSArIFwiX1wiICsgaSkpKTtcblx0ICAgICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZShjKSkge1xuXHQgICAgICAgIGlmIChsYXN0ICYmIGxhc3QudGV4dCkge1xuXHQgICAgICAgICAgbGFzdC50ZXh0ICs9IFN0cmluZyhjKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGMgIT09ICcnKSB7XG5cdCAgICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZVxuXHQgICAgICAgICAgcmVzLnB1c2goY3JlYXRlVGV4dFZOb2RlKGMpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIFZOb2RlKSB7XG5cdCAgICAgICAgaWYgKGMudGV4dCAmJiBsYXN0ICYmIGxhc3QudGV4dCkge1xuXHQgICAgICAgICAgaWYgKCFsYXN0LmlzQ2xvbmVkKSB7XG5cdCAgICAgICAgICAgIGxhc3QudGV4dCArPSBjLnRleHQ7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIC8vIGluaGVyaXQgcGFyZW50IG5hbWVzcGFjZVxuXHQgICAgICAgICAgaWYgKG5zKSB7XG5cdCAgICAgICAgICAgIGFwcGx5TlMoYywgbnMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gZGVmYXVsdCBrZXkgZm9yIG5lc3RlZCBhcnJheSBjaGlsZHJlbiAobGlrZWx5IGdlbmVyYXRlZCBieSB2LWZvcilcblx0ICAgICAgICAgIGlmIChjLnRhZyAmJiBjLmtleSA9PSBudWxsICYmIG5lc3RlZEluZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgYy5rZXkgPSBcIl9fdmxpc3RcIiArIG5lc3RlZEluZGV4ICsgXCJfXCIgKyBpICsgXCJfX1wiO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmVzLnB1c2goYyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUgKHZhbCkge1xuXHQgIHJldHVybiBuZXcgVk5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgU3RyaW5nKHZhbCkpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFwcGx5TlMgKHZub2RlLCBucykge1xuXHQgIGlmICh2bm9kZS50YWcgJiYgIXZub2RlLm5zKSB7XG5cdCAgICB2bm9kZS5ucyA9IG5zO1xuXHQgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgYXBwbHlOUyh2bm9kZS5jaGlsZHJlbltpXSwgbnMpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGdldEZpcnN0Q29tcG9uZW50Q2hpbGQgKGNoaWxkcmVuKSB7XG5cdCAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYyAmJiBjLmNvbXBvbmVudE9wdGlvbnM7IH0pWzBdXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcblx0XG5cdGZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7XG5cdCAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcblx0XG5cdCAgLy8gbG9jYXRlIGZpcnN0IG5vbi1hYnN0cmFjdCBwYXJlbnRcblx0ICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG5cdCAgaWYgKHBhcmVudCAmJiAhb3B0aW9ucy5hYnN0cmFjdCkge1xuXHQgICAgd2hpbGUgKHBhcmVudC4kb3B0aW9ucy5hYnN0cmFjdCAmJiBwYXJlbnQuJHBhcmVudCkge1xuXHQgICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDtcblx0ICAgIH1cblx0ICAgIHBhcmVudC4kY2hpbGRyZW4ucHVzaCh2bSk7XG5cdCAgfVxuXHRcblx0ICB2bS4kcGFyZW50ID0gcGFyZW50O1xuXHQgIHZtLiRyb290ID0gcGFyZW50ID8gcGFyZW50LiRyb290IDogdm07XG5cdFxuXHQgIHZtLiRjaGlsZHJlbiA9IFtdO1xuXHQgIHZtLiRyZWZzID0ge307XG5cdFxuXHQgIHZtLl93YXRjaGVyID0gbnVsbDtcblx0ICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcblx0ICB2bS5faXNNb3VudGVkID0gZmFsc2U7XG5cdCAgdm0uX2lzRGVzdHJveWVkID0gZmFsc2U7XG5cdCAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlmZWN5Y2xlTWl4aW4gKFZ1ZSkge1xuXHQgIFZ1ZS5wcm90b3R5cGUuX21vdW50ID0gZnVuY3Rpb24gKFxuXHQgICAgZWwsXG5cdCAgICBoeWRyYXRpbmdcblx0ICApIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2bS4kZWwgPSBlbDtcblx0ICAgIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7XG5cdCAgICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGVtcHR5Vk5vZGU7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgICAgaWYgKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB7XG5cdCAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAnWW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkIG9mIFZ1ZSB3aGVyZSB0aGUgdGVtcGxhdGUgJyArXG5cdCAgICAgICAgICAgICdvcHRpb24gaXMgbm90IGF2YWlsYWJsZS4gRWl0aGVyIHByZS1jb21waWxlIHRoZSB0ZW1wbGF0ZXMgaW50byAnICtcblx0ICAgICAgICAgICAgJ3JlbmRlciBmdW5jdGlvbnMsIG9yIHVzZSB0aGUgY29tcGlsZXItaW5jbHVkZWQgYnVpbGQuJyxcblx0ICAgICAgICAgICAgdm1cblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICdGYWlsZWQgdG8gbW91bnQgY29tcG9uZW50OiB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24gbm90IGRlZmluZWQuJyxcblx0ICAgICAgICAgICAgdm1cblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZU1vdW50Jyk7XG5cdCAgICB2bS5fd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZtLl91cGRhdGUodm0uX3JlbmRlcigpLCBoeWRyYXRpbmcpO1xuXHQgICAgfSwgbm9vcCk7XG5cdCAgICBoeWRyYXRpbmcgPSBmYWxzZTtcblx0ICAgIC8vIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UsIGNhbGwgbW91bnRlZCBvbiBzZWxmXG5cdCAgICAvLyBtb3VudGVkIGlzIGNhbGxlZCBmb3IgcmVuZGVyLWNyZWF0ZWQgY2hpbGQgY29tcG9uZW50cyBpbiBpdHMgaW5zZXJ0ZWQgaG9va1xuXHQgICAgaWYgKHZtLiR2bm9kZSA9PSBudWxsKSB7XG5cdCAgICAgIHZtLl9pc01vdW50ZWQgPSB0cnVlO1xuXHQgICAgICBjYWxsSG9vayh2bSwgJ21vdW50ZWQnKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2bVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcblx0ICAgICAgY2FsbEhvb2sodm0sICdiZWZvcmVVcGRhdGUnKTtcblx0ICAgIH1cblx0ICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XG5cdCAgICB2YXIgcHJldkFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2U7XG5cdCAgICBhY3RpdmVJbnN0YW5jZSA9IHZtO1xuXHQgICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcblx0ICAgIHZtLl92bm9kZSA9IHZub2RlO1xuXHQgICAgaWYgKCFwcmV2Vm5vZGUpIHtcblx0ICAgICAgLy8gVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gaXMgaW5qZWN0ZWQgaW4gZW50cnkgcG9pbnRzXG5cdCAgICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLlxuXHQgICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18odm0uJGVsLCB2bm9kZSwgaHlkcmF0aW5nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyhwcmV2Vm5vZGUsIHZub2RlKTtcblx0ICAgIH1cblx0ICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xuXHQgICAgLy8gdXBkYXRlIF9fdnVlX18gcmVmZXJlbmNlXG5cdCAgICBpZiAocHJldkVsKSB7XG5cdCAgICAgIHByZXZFbC5fX3Z1ZV9fID0gbnVsbDtcblx0ICAgIH1cblx0ICAgIGlmICh2bS4kZWwpIHtcblx0ICAgICAgdm0uJGVsLl9fdnVlX18gPSB2bTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHBhcmVudCBpcyBhbiBIT0MsIHVwZGF0ZSBpdHMgJGVsIGFzIHdlbGxcblx0ICAgIGlmICh2bS4kdm5vZGUgJiYgdm0uJHBhcmVudCAmJiB2bS4kdm5vZGUgPT09IHZtLiRwYXJlbnQuX3Zub2RlKSB7XG5cdCAgICAgIHZtLiRwYXJlbnQuJGVsID0gdm0uJGVsO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcblx0ICAgICAgY2FsbEhvb2sodm0sICd1cGRhdGVkJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS5fdXBkYXRlRnJvbVBhcmVudCA9IGZ1bmN0aW9uIChcblx0ICAgIHByb3BzRGF0YSxcblx0ICAgIGxpc3RlbmVycyxcblx0ICAgIHBhcmVudFZub2RlLFxuXHQgICAgcmVuZGVyQ2hpbGRyZW5cblx0ICApIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgaGFzQ2hpbGRyZW4gPSAhISh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gfHwgcmVuZGVyQ2hpbGRyZW4pO1xuXHQgICAgdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlID0gcGFyZW50Vm5vZGU7XG5cdCAgICB2bS4kdm5vZGUgPSBwYXJlbnRWbm9kZTsgLy8gdXBkYXRlIHZtJ3MgcGxhY2Vob2xkZXIgbm9kZSB3aXRob3V0IHJlLXJlbmRlclxuXHQgICAgaWYgKHZtLl92bm9kZSkgeyAvLyB1cGRhdGUgY2hpbGQgdHJlZSdzIHBhcmVudFxuXHQgICAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7XG5cdCAgICB9XG5cdCAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjtcblx0ICAgIC8vIHVwZGF0ZSBwcm9wc1xuXHQgICAgaWYgKHByb3BzRGF0YSAmJiB2bS4kb3B0aW9ucy5wcm9wcykge1xuXHQgICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBmYWxzZTtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICBvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcHJvcEtleXMgPSB2bS4kb3B0aW9ucy5fcHJvcEtleXMgfHwgW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIga2V5ID0gcHJvcEtleXNbaV07XG5cdCAgICAgICAgdm1ba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHZtLiRvcHRpb25zLnByb3BzLCBwcm9wc0RhdGEsIHZtKTtcblx0ICAgICAgfVxuXHQgICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIG9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgPSBwcm9wc0RhdGE7XG5cdCAgICB9XG5cdCAgICAvLyB1cGRhdGUgbGlzdGVuZXJzXG5cdCAgICBpZiAobGlzdGVuZXJzKSB7XG5cdCAgICAgIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuXHQgICAgICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuXHQgICAgICB2bS5fdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKTtcblx0ICAgIH1cblx0ICAgIC8vIHJlc29sdmUgc2xvdHMgKyBmb3JjZSB1cGRhdGUgaWYgaGFzIGNoaWxkcmVuXG5cdCAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcblx0ICAgICAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKHJlbmRlckNoaWxkcmVuLCB2bS5fcmVuZGVyQ29udGV4dCk7XG5cdCAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJGZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIGlmICh2bS5fd2F0Y2hlcikge1xuXHQgICAgICB2bS5fd2F0Y2hlci51cGRhdGUoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRkZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIGlmICh2bS5faXNCZWluZ0Rlc3Ryb3llZCkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlRGVzdHJveScpO1xuXHQgICAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSB0cnVlO1xuXHQgICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcblx0ICAgIHZhciBwYXJlbnQgPSB2bS4kcGFyZW50O1xuXHQgICAgaWYgKHBhcmVudCAmJiAhcGFyZW50Ll9pc0JlaW5nRGVzdHJveWVkICYmICF2bS4kb3B0aW9ucy5hYnN0cmFjdCkge1xuXHQgICAgICByZW1vdmUkMShwYXJlbnQuJGNoaWxkcmVuLCB2bSk7XG5cdCAgICB9XG5cdCAgICAvLyB0ZWFyZG93biB3YXRjaGVyc1xuXHQgICAgaWYgKHZtLl93YXRjaGVyKSB7XG5cdCAgICAgIHZtLl93YXRjaGVyLnRlYXJkb3duKCk7XG5cdCAgICB9XG5cdCAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpO1xuXHQgICAgfVxuXHQgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZSBmcm9tIGRhdGEgb2Jcblx0ICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLlxuXHQgICAgaWYgKHZtLl9kYXRhLl9fb2JfXykge1xuXHQgICAgICB2bS5fZGF0YS5fX29iX18udm1Db3VudC0tO1xuXHQgICAgfVxuXHQgICAgLy8gY2FsbCB0aGUgbGFzdCBob29rLi4uXG5cdCAgICB2bS5faXNEZXN0cm95ZWQgPSB0cnVlO1xuXHQgICAgY2FsbEhvb2sodm0sICdkZXN0cm95ZWQnKTtcblx0ICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuXG5cdCAgICB2bS4kb2ZmKCk7XG5cdCAgICAvLyByZW1vdmUgX192dWVfXyByZWZlcmVuY2Vcblx0ICAgIGlmICh2bS4kZWwpIHtcblx0ICAgICAgdm0uJGVsLl9fdnVlX18gPSBudWxsO1xuXHQgICAgfVxuXHQgICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXG5cdCAgICB2bS5fX3BhdGNoX18odm0uX3Zub2RlLCBudWxsKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYWxsSG9vayAodm0sIGhvb2spIHtcblx0ICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcblx0ICBpZiAoaGFuZGxlcnMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG5cdCAgICAgIGhhbmRsZXJzW2ldLmNhbGwodm0pO1xuXHQgICAgfVxuXHQgIH1cblx0ICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGhvb2tzID0geyBpbml0OiBpbml0LCBwcmVwYXRjaDogcHJlcGF0Y2gsIGluc2VydDogaW5zZXJ0LCBkZXN0cm95OiBkZXN0cm95JDEgfTtcblx0dmFyIGhvb2tzVG9NZXJnZSA9IE9iamVjdC5rZXlzKGhvb2tzKTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAoXG5cdCAgQ3Rvcixcblx0ICBkYXRhLFxuXHQgIGNvbnRleHQsXG5cdCAgY2hpbGRyZW4sXG5cdCAgdGFnXG5cdCkge1xuXHQgIGlmICghQ3Rvcikge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgYmFzZUN0b3IgPSBjb250ZXh0LiRvcHRpb25zLl9iYXNlO1xuXHQgIGlmIChpc09iamVjdChDdG9yKSkge1xuXHQgICAgQ3RvciA9IGJhc2VDdG9yLmV4dGVuZChDdG9yKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgd2FybigoXCJJbnZhbGlkIENvbXBvbmVudCBkZWZpbml0aW9uOiBcIiArIChTdHJpbmcoQ3RvcikpKSwgY29udGV4dCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIC8vIGFzeW5jIGNvbXBvbmVudFxuXHQgIGlmICghQ3Rvci5jaWQpIHtcblx0ICAgIGlmIChDdG9yLnJlc29sdmVkKSB7XG5cdCAgICAgIEN0b3IgPSBDdG9yLnJlc29sdmVkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgQ3RvciA9IHJlc29sdmVBc3luY0NvbXBvbmVudChDdG9yLCBiYXNlQ3RvciwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIC8vIGl0J3Mgb2sgdG8gcXVldWUgdGhpcyBvbiBldmVyeSByZW5kZXIgYmVjYXVzZVxuXHQgICAgICAgIC8vICRmb3JjZVVwZGF0ZSBpcyBidWZmZXJlZCBieSB0aGUgc2NoZWR1bGVyLlxuXHQgICAgICAgIGNvbnRleHQuJGZvcmNlVXBkYXRlKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoIUN0b3IpIHtcblx0ICAgICAgICAvLyByZXR1cm4gbm90aGluZyBpZiB0aGlzIGlzIGluZGVlZCBhbiBhc3luYyBjb21wb25lbnRcblx0ICAgICAgICAvLyB3YWl0IGZvciB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciBwYXJlbnQgdXBkYXRlLlxuXHQgICAgICAgIHJldHVyblxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyByZXNvbHZlIGNvbnN0cnVjdG9yIG9wdGlvbnMgaW4gY2FzZSBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGFmdGVyXG5cdCAgLy8gY29tcG9uZW50IGNvbnN0cnVjdG9yIGNyZWF0aW9uXG5cdCAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yKTtcblx0XG5cdCAgZGF0YSA9IGRhdGEgfHwge307XG5cdFxuXHQgIC8vIGV4dHJhY3QgcHJvcHNcblx0ICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzKGRhdGEsIEN0b3IpO1xuXHRcblx0ICAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudFxuXHQgIGlmIChDdG9yLm9wdGlvbnMuZnVuY3Rpb25hbCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcblx0ICB9XG5cdFxuXHQgIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXG5cdCAgLy8gY2hpbGQgY29tcG9uZW50IGxpc3RlbmVycyBpbnN0ZWFkIG9mIERPTSBsaXN0ZW5lcnNcblx0ICB2YXIgbGlzdGVuZXJzID0gZGF0YS5vbjtcblx0ICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxuXHQgIGRhdGEub24gPSBkYXRhLm5hdGl2ZU9uO1xuXHRcblx0ICBpZiAoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XG5cdCAgICAvLyBhYnN0cmFjdCBjb21wb25lbnRzIGRvIG5vdCBrZWVwIGFueXRoaW5nXG5cdCAgICAvLyBvdGhlciB0aGFuIHByb3BzICYgbGlzdGVuZXJzXG5cdCAgICBkYXRhID0ge307XG5cdCAgfVxuXHRcblx0ICAvLyBtZXJnZSBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlXG5cdCAgbWVyZ2VIb29rcyhkYXRhKTtcblx0XG5cdCAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGVcblx0ICB2YXIgbmFtZSA9IEN0b3Iub3B0aW9ucy5uYW1lIHx8IHRhZztcblx0ICB2YXIgdm5vZGUgPSBuZXcgVk5vZGUoXG5cdCAgICAoXCJ2dWUtY29tcG9uZW50LVwiICsgKEN0b3IuY2lkKSArIChuYW1lID8gKFwiLVwiICsgbmFtZSkgOiAnJykpLFxuXHQgICAgZGF0YSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0LFxuXHQgICAgeyBDdG9yOiBDdG9yLCBwcm9wc0RhdGE6IHByb3BzRGF0YSwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsIHRhZzogdGFnLCBjaGlsZHJlbjogY2hpbGRyZW4gfVxuXHQgICk7XG5cdCAgcmV0dXJuIHZub2RlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQgKFxuXHQgIEN0b3IsXG5cdCAgcHJvcHNEYXRhLFxuXHQgIGRhdGEsXG5cdCAgY29udGV4dCxcblx0ICBjaGlsZHJlblxuXHQpIHtcblx0ICB2YXIgcHJvcHMgPSB7fTtcblx0ICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XG5cdCAgaWYgKHByb3BPcHRpb25zKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gcHJvcE9wdGlvbnMpIHtcblx0ICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB2YXIgdm5vZGUgPSBDdG9yLm9wdGlvbnMucmVuZGVyLmNhbGwoXG5cdCAgICBudWxsLFxuXHQgICAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuXHQgICAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xuXHQgICAgYmluZCQxKGNyZWF0ZUVsZW1lbnQsIHsgX3NlbGY6IE9iamVjdC5jcmVhdGUoY29udGV4dCkgfSksXG5cdCAgICB7XG5cdCAgICAgIHByb3BzOiBwcm9wcyxcblx0ICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgcGFyZW50OiBjb250ZXh0LFxuXHQgICAgICBjaGlsZHJlbjogbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pLFxuXHQgICAgICBzbG90czogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZVNsb3RzKGNoaWxkcmVuLCBjb250ZXh0KTsgfVxuXHQgICAgfVxuXHQgICk7XG5cdCAgaWYgKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpIHtcblx0ICAgIHZub2RlLmZ1bmN0aW9uYWxDb250ZXh0ID0gY29udGV4dDtcblx0ICAgIGlmIChkYXRhLnNsb3QpIHtcblx0ICAgICAgKHZub2RlLmRhdGEgfHwgKHZub2RlLmRhdGEgPSB7fSkpLnNsb3QgPSBkYXRhLnNsb3Q7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB2bm9kZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlIChcblx0ICB2bm9kZSwgLy8gd2Uga25vdyBpdCdzIE1vdW50ZWRDb21wb25lbnRWTm9kZSBidXQgZmxvdyBkb2Vzbid0XG5cdCAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZVxuXHQpIHtcblx0ICB2YXIgdm5vZGVDb21wb25lbnRPcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblx0ICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgIF9pc0NvbXBvbmVudDogdHJ1ZSxcblx0ICAgIHBhcmVudDogcGFyZW50LFxuXHQgICAgcHJvcHNEYXRhOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhLFxuXHQgICAgX2NvbXBvbmVudFRhZzogdm5vZGVDb21wb25lbnRPcHRpb25zLnRhZyxcblx0ICAgIF9wYXJlbnRWbm9kZTogdm5vZGUsXG5cdCAgICBfcGFyZW50TGlzdGVuZXJzOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzLFxuXHQgICAgX3JlbmRlckNoaWxkcmVuOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW5cblx0ICB9O1xuXHQgIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXG5cdCAgdmFyIGlubGluZVRlbXBsYXRlID0gdm5vZGUuZGF0YS5pbmxpbmVUZW1wbGF0ZTtcblx0ICBpZiAoaW5saW5lVGVtcGxhdGUpIHtcblx0ICAgIG9wdGlvbnMucmVuZGVyID0gaW5saW5lVGVtcGxhdGUucmVuZGVyO1xuXHQgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBpbmxpbmVUZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnM7XG5cdCAgfVxuXHQgIHJldHVybiBuZXcgdm5vZGVDb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucylcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykge1xuXHQgIGlmICghdm5vZGUuY2hpbGQgfHwgdm5vZGUuY2hpbGQuX2lzRGVzdHJveWVkKSB7XG5cdCAgICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUodm5vZGUsIGFjdGl2ZUluc3RhbmNlKTtcblx0ICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7XG5cdCAgfSBlbHNlIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuXHQgICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoXG5cdCAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xuXHQgICAgcHJlcGF0Y2gobW91bnRlZE5vZGUsIG1vdW50ZWROb2RlKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZXBhdGNoIChcblx0ICBvbGRWbm9kZSxcblx0ICB2bm9kZVxuXHQpIHtcblx0ICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG5cdCAgdmFyIGNoaWxkID0gdm5vZGUuY2hpbGQgPSBvbGRWbm9kZS5jaGlsZDtcblx0ICBjaGlsZC5fdXBkYXRlRnJvbVBhcmVudChcblx0ICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXG5cdCAgICBvcHRpb25zLmxpc3RlbmVycywgLy8gdXBkYXRlZCBsaXN0ZW5lcnNcblx0ICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlXG5cdCAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxuXHQgICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluc2VydCAodm5vZGUpIHtcblx0ICBpZiAoIXZub2RlLmNoaWxkLl9pc01vdW50ZWQpIHtcblx0ICAgIHZub2RlLmNoaWxkLl9pc01vdW50ZWQgPSB0cnVlO1xuXHQgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdtb3VudGVkJyk7XG5cdCAgfVxuXHQgIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuXHQgICAgdm5vZGUuY2hpbGQuX2luYWN0aXZlID0gZmFsc2U7XG5cdCAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2FjdGl2YXRlZCcpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVzdHJveSQxICh2bm9kZSkge1xuXHQgIGlmICghdm5vZGUuY2hpbGQuX2lzRGVzdHJveWVkKSB7XG5cdCAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG5cdCAgICAgIHZub2RlLmNoaWxkLiRkZXN0cm95KCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bm9kZS5jaGlsZC5faW5hY3RpdmUgPSB0cnVlO1xuXHQgICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQgKFxuXHQgIGZhY3RvcnksXG5cdCAgYmFzZUN0b3IsXG5cdCAgY2Jcblx0KSB7XG5cdCAgaWYgKGZhY3RvcnkucmVxdWVzdGVkKSB7XG5cdCAgICAvLyBwb29sIGNhbGxiYWNrc1xuXHQgICAgZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2IpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBmYWN0b3J5LnJlcXVlc3RlZCA9IHRydWU7XG5cdCAgICB2YXIgY2JzID0gZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcblx0ICAgIHZhciBzeW5jID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcblx0ICAgICAgICByZXMgPSBiYXNlQ3Rvci5leHRlbmQocmVzKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBjYWNoZSByZXNvbHZlZFxuXHQgICAgICBmYWN0b3J5LnJlc29sdmVkID0gcmVzO1xuXHQgICAgICAvLyBpbnZva2UgY2FsbGJhY2tzIG9ubHkgaWYgdGhpcyBpcyBub3QgYSBzeW5jaHJvbm91cyByZXNvbHZlXG5cdCAgICAgIC8vIChhc3luYyByZXNvbHZlcyBhcmUgc2hpbW1lZCBhcyBzeW5jaHJvbm91cyBkdXJpbmcgU1NSKVxuXHQgICAgICBpZiAoIXN5bmMpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgIGNic1tpXShyZXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgXCJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6IFwiICsgKFN0cmluZyhmYWN0b3J5KSkgK1xuXHQgICAgICAgIChyZWFzb24gPyAoXCJcXG5SZWFzb246IFwiICsgcmVhc29uKSA6ICcnKVxuXHQgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcmVzID0gZmFjdG9yeShyZXNvbHZlLCByZWplY3QpO1xuXHRcblx0ICAgIC8vIGhhbmRsZSBwcm9taXNlXG5cdCAgICBpZiAocmVzICYmIHR5cGVvZiByZXMudGhlbiA9PT0gJ2Z1bmN0aW9uJyAmJiAhZmFjdG9yeS5yZXNvbHZlZCkge1xuXHQgICAgICByZXMudGhlbihyZXNvbHZlLCByZWplY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIHN5bmMgPSBmYWxzZTtcblx0ICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcblx0ICAgIHJldHVybiBmYWN0b3J5LnJlc29sdmVkXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBleHRyYWN0UHJvcHMgKGRhdGEsIEN0b3IpIHtcblx0ICAvLyB3ZSBhcmUgb25seSBleHRyYWN0aW5nIHJhdyB2YWx1ZXMgaGVyZS5cblx0ICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGRcblx0ICAvLyBjb21wb25lbnQgaXRzZWxmLlxuXHQgIHZhciBwcm9wT3B0aW9ucyA9IEN0b3Iub3B0aW9ucy5wcm9wcztcblx0ICBpZiAoIXByb3BPcHRpb25zKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIHJlcyA9IHt9O1xuXHQgIHZhciBhdHRycyA9IGRhdGEuYXR0cnM7XG5cdCAgdmFyIHByb3BzID0gZGF0YS5wcm9wcztcblx0ICB2YXIgZG9tUHJvcHMgPSBkYXRhLmRvbVByb3BzO1xuXHQgIGlmIChhdHRycyB8fCBwcm9wcyB8fCBkb21Qcm9wcykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG5cdCAgICAgIHZhciBhbHRLZXkgPSBoeXBoZW5hdGUoa2V5KTtcblx0ICAgICAgY2hlY2tQcm9wKHJlcywgcHJvcHMsIGtleSwgYWx0S2V5LCB0cnVlKSB8fFxuXHQgICAgICBjaGVja1Byb3AocmVzLCBhdHRycywga2V5LCBhbHRLZXkpIHx8XG5cdCAgICAgIGNoZWNrUHJvcChyZXMsIGRvbVByb3BzLCBrZXksIGFsdEtleSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tQcm9wIChcblx0ICByZXMsXG5cdCAgaGFzaCxcblx0ICBrZXksXG5cdCAgYWx0S2V5LFxuXHQgIHByZXNlcnZlXG5cdCkge1xuXHQgIGlmIChoYXNoKSB7XG5cdCAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHtcblx0ICAgICAgcmVzW2tleV0gPSBoYXNoW2tleV07XG5cdCAgICAgIGlmICghcHJlc2VydmUpIHtcblx0ICAgICAgICBkZWxldGUgaGFzaFtrZXldO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0cnVlXG5cdCAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7XG5cdCAgICAgIHJlc1trZXldID0gaGFzaFthbHRLZXldO1xuXHQgICAgICBpZiAoIXByZXNlcnZlKSB7XG5cdCAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZmFsc2Vcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VIb29rcyAoZGF0YSkge1xuXHQgIGlmICghZGF0YS5ob29rKSB7XG5cdCAgICBkYXRhLmhvb2sgPSB7fTtcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rc1RvTWVyZ2UubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBrZXkgPSBob29rc1RvTWVyZ2VbaV07XG5cdCAgICB2YXIgZnJvbVBhcmVudCA9IGRhdGEuaG9va1trZXldO1xuXHQgICAgdmFyIG91cnMgPSBob29rc1trZXldO1xuXHQgICAgZGF0YS5ob29rW2tleV0gPSBmcm9tUGFyZW50ID8gbWVyZ2VIb29rJDEob3VycywgZnJvbVBhcmVudCkgOiBvdXJzO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VIb29rJDEgKGEsIGIpIHtcblx0ICAvLyBzaW5jZSBhbGwgaG9va3MgaGF2ZSBhdCBtb3N0IHR3byBhcmdzLCB1c2UgZml4ZWQgYXJnc1xuXHQgIC8vIHRvIGF2b2lkIGhhdmluZyB0byB1c2UgZm4uYXBwbHkoKS5cblx0ICByZXR1cm4gZnVuY3Rpb24gKF8sIF9fKSB7XG5cdCAgICBhKF8sIF9fKTtcblx0ICAgIGIoXywgX18pO1xuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHQvLyB3cmFwcGVyIGZ1bmN0aW9uIGZvciBwcm92aWRpbmcgYSBtb3JlIGZsZXhpYmxlIGludGVyZmFjZVxuXHQvLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3dcblx0ZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAoXG5cdCAgdGFnLFxuXHQgIGRhdGEsXG5cdCAgY2hpbGRyZW5cblx0KSB7XG5cdCAgaWYgKGRhdGEgJiYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSkge1xuXHQgICAgY2hpbGRyZW4gPSBkYXRhO1xuXHQgICAgZGF0YSA9IHVuZGVmaW5lZDtcblx0ICB9XG5cdCAgLy8gbWFrZSBzdXJlIHRvIHVzZSByZWFsIGluc3RhbmNlIGluc3RlYWQgb2YgcHJveHkgYXMgY29udGV4dFxuXHQgIHJldHVybiBfY3JlYXRlRWxlbWVudCh0aGlzLl9zZWxmLCB0YWcsIGRhdGEsIGNoaWxkcmVuKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBfY3JlYXRlRWxlbWVudCAoXG5cdCAgY29udGV4dCxcblx0ICB0YWcsXG5cdCAgZGF0YSxcblx0ICBjaGlsZHJlblxuXHQpIHtcblx0ICBpZiAoZGF0YSAmJiBkYXRhLl9fb2JfXykge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICBcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXCIgK1xuXHQgICAgICAnQWx3YXlzIGNyZWF0ZSBmcmVzaCB2bm9kZSBkYXRhIG9iamVjdHMgaW4gZWFjaCByZW5kZXIhJyxcblx0ICAgICAgY29udGV4dFxuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBpZiAoIXRhZykge1xuXHQgICAgLy8gaW4gY2FzZSBvZiBjb21wb25lbnQgOmlzIHNldCB0byBmYWxzeSB2YWx1ZVxuXHQgICAgcmV0dXJuIGVtcHR5Vk5vZGUoKVxuXHQgIH1cblx0ICAvLyBzdXBwb3J0IHNpbmdsZSBmdW5jdGlvbiBjaGlsZHJlbiBhcyBkZWZhdWx0IHNjb3BlZCBzbG90XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmXG5cdCAgICAgIHR5cGVvZiBjaGlsZHJlblswXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgZGF0YSA9IGRhdGEgfHwge307XG5cdCAgICBkYXRhLnNjb3BlZFNsb3RzID0geyBkZWZhdWx0OiBjaGlsZHJlblswXSB9O1xuXHQgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnKSB7XG5cdCAgICB2YXIgQ3Rvcjtcblx0ICAgIHZhciBucyA9IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTtcblx0ICAgIGlmIChjb25maWcuaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG5cdCAgICAgIC8vIHBsYXRmb3JtIGJ1aWx0LWluIGVsZW1lbnRzXG5cdCAgICAgIHJldHVybiBuZXcgVk5vZGUoXG5cdCAgICAgICAgdGFnLCBkYXRhLCBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiwgbnMpLFxuXHQgICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuXHQgICAgICApXG5cdCAgICB9IGVsc2UgaWYgKChDdG9yID0gcmVzb2x2ZUFzc2V0KGNvbnRleHQuJG9wdGlvbnMsICdjb21wb25lbnRzJywgdGFnKSkpIHtcblx0ICAgICAgLy8gY29tcG9uZW50XG5cdCAgICAgIHJldHVybiBjcmVhdGVDb21wb25lbnQoQ3RvciwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4sIHRhZylcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50c1xuXHQgICAgICAvLyBjaGVjayBhdCBydW50aW1lIGJlY2F1c2UgaXQgbWF5IGdldCBhc3NpZ25lZCBhIG5hbWVzcGFjZSB3aGVuIGl0c1xuXHQgICAgICAvLyBwYXJlbnQgbm9ybWFsaXplcyBjaGlsZHJlblxuXHQgICAgICB2YXIgY2hpbGROcyA9IHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gJ3hodG1sJyA6IG5zO1xuXHQgICAgICByZXR1cm4gbmV3IFZOb2RlKFxuXHQgICAgICAgIHRhZywgZGF0YSwgbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4sIGNoaWxkTnMpLFxuXHQgICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuXHQgICAgICApXG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIGRpcmVjdCBjb21wb25lbnQgb3B0aW9ucyAvIGNvbnN0cnVjdG9yXG5cdCAgICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pXG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRSZW5kZXIgKHZtKSB7XG5cdCAgdm0uJHZub2RlID0gbnVsbDsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWVcblx0ICB2bS5fdm5vZGUgPSBudWxsOyAvLyB0aGUgcm9vdCBvZiB0aGUgY2hpbGQgdHJlZVxuXHQgIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7XG5cdCAgdm0uX3JlbmRlckNvbnRleHQgPSB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgJiYgdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlLmNvbnRleHQ7XG5cdCAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgdm0uX3JlbmRlckNvbnRleHQpO1xuXHQgIHZtLiRzY29wZWRTbG90cyA9IHt9O1xuXHQgIC8vIGJpbmQgdGhlIHB1YmxpYyBjcmVhdGVFbGVtZW50IGZuIHRvIHRoaXMgaW5zdGFuY2Vcblx0ICAvLyBzbyB0aGF0IHdlIGdldCBwcm9wZXIgcmVuZGVyIGNvbnRleHQgaW5zaWRlIGl0LlxuXHQgIHZtLiRjcmVhdGVFbGVtZW50ID0gYmluZCQxKGNyZWF0ZUVsZW1lbnQsIHZtKTtcblx0ICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcblx0ICAgIHZtLiRtb3VudCh2bS4kb3B0aW9ucy5lbCk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW5kZXJNaXhpbiAoVnVlKSB7XG5cdCAgVnVlLnByb3RvdHlwZS4kbmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHJldHVybiBuZXh0VGljayhmbiwgdGhpcylcblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zO1xuXHQgICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7XG5cdCAgICB2YXIgc3RhdGljUmVuZGVyRm5zID0gcmVmLnN0YXRpY1JlbmRlckZucztcblx0ICAgIHZhciBfcGFyZW50Vm5vZGUgPSByZWYuX3BhcmVudFZub2RlO1xuXHRcblx0ICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG5cdCAgICAgIC8vIGNsb25lIHNsb3Qgbm9kZXMgb24gcmUtcmVuZGVyc1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gdm0uJHNsb3RzKSB7XG5cdCAgICAgICAgdm0uJHNsb3RzW2tleV0gPSBjbG9uZVZOb2Rlcyh2bS4kc2xvdHNba2V5XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoX3BhcmVudFZub2RlICYmIF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzKSB7XG5cdCAgICAgIHZtLiRzY29wZWRTbG90cyA9IF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdGF0aWNSZW5kZXJGbnMgJiYgIXZtLl9zdGF0aWNUcmVlcykge1xuXHQgICAgICB2bS5fc3RhdGljVHJlZXMgPSBbXTtcblx0ICAgIH1cblx0ICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3Ncblx0ICAgIC8vIHRvIHRoZSBkYXRhIG9uIHRoZSBwbGFjZWhvbGRlciBub2RlLlxuXHQgICAgdm0uJHZub2RlID0gX3BhcmVudFZub2RlO1xuXHQgICAgLy8gcmVuZGVyIHNlbGZcblx0ICAgIHZhciB2bm9kZTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHZub2RlID0gcmVuZGVyLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgd2FybigoXCJFcnJvciB3aGVuIHJlbmRlcmluZyBcIiArIChmb3JtYXRDb21wb25lbnROYW1lKHZtKSkgKyBcIjpcIikpO1xuXHQgICAgICB9XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7XG5cdCAgICAgICAgY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGUsIHZtKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoaXNTZXJ2ZXJSZW5kZXJpbmcoKSkge1xuXHQgICAgICAgICAgdGhyb3cgZVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICAvLyByZXR1cm4gcHJldmlvdXMgdm5vZGUgdG8gcHJldmVudCByZW5kZXIgZXJyb3IgY2F1c2luZyBibGFuayBjb21wb25lbnRcblx0ICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XG5cdCAgICB9XG5cdCAgICAvLyByZXR1cm4gZW1wdHkgdm5vZGUgaW4gY2FzZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGVycm9yZWQgb3V0XG5cdCAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkge1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZub2RlKSkge1xuXHQgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAnTXVsdGlwbGUgcm9vdCBub2RlcyByZXR1cm5lZCBmcm9tIHJlbmRlciBmdW5jdGlvbi4gUmVuZGVyIGZ1bmN0aW9uICcgK1xuXHQgICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsXG5cdCAgICAgICAgICB2bVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgdm5vZGUgPSBlbXB0eVZOb2RlKCk7XG5cdCAgICB9XG5cdCAgICAvLyBzZXQgcGFyZW50XG5cdCAgICB2bm9kZS5wYXJlbnQgPSBfcGFyZW50Vm5vZGU7XG5cdCAgICByZXR1cm4gdm5vZGVcblx0ICB9O1xuXHRcblx0ICAvLyBzaG9ydGhhbmRzIHVzZWQgaW4gcmVuZGVyIGZ1bmN0aW9uc1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2ggPSBjcmVhdGVFbGVtZW50O1xuXHQgIC8vIHRvU3RyaW5nIGZvciBtdXN0YWNoZXNcblx0ICBWdWUucHJvdG90eXBlLl9zID0gX3RvU3RyaW5nO1xuXHQgIC8vIG51bWJlciBjb252ZXJzaW9uXG5cdCAgVnVlLnByb3RvdHlwZS5fbiA9IHRvTnVtYmVyO1xuXHQgIC8vIGVtcHR5IHZub2RlXG5cdCAgVnVlLnByb3RvdHlwZS5fZSA9IGVtcHR5Vk5vZGU7XG5cdCAgLy8gbG9vc2UgZXF1YWxcblx0ICBWdWUucHJvdG90eXBlLl9xID0gbG9vc2VFcXVhbDtcblx0ICAvLyBsb29zZSBpbmRleE9mXG5cdCAgVnVlLnByb3RvdHlwZS5faSA9IGxvb3NlSW5kZXhPZjtcblx0XG5cdCAgLy8gcmVuZGVyIHN0YXRpYyB0cmVlIGJ5IGluZGV4XG5cdCAgVnVlLnByb3RvdHlwZS5fbSA9IGZ1bmN0aW9uIHJlbmRlclN0YXRpYyAoXG5cdCAgICBpbmRleCxcblx0ICAgIGlzSW5Gb3Jcblx0ICApIHtcblx0ICAgIHZhciB0cmVlID0gdGhpcy5fc3RhdGljVHJlZXNbaW5kZXhdO1xuXHQgICAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXG5cdCAgICAvLyB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgdHJlZSBieSBkb2luZyBhIHNoYWxsb3cgY2xvbmUuXG5cdCAgICBpZiAodHJlZSAmJiAhaXNJbkZvcikge1xuXHQgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0cmVlKVxuXHQgICAgICAgID8gY2xvbmVWTm9kZXModHJlZSlcblx0ICAgICAgICA6IGNsb25lVk5vZGUodHJlZSlcblx0ICAgIH1cblx0ICAgIC8vIG90aGVyd2lzZSwgcmVuZGVyIGEgZnJlc2ggdHJlZS5cblx0ICAgIHRyZWUgPSB0aGlzLl9zdGF0aWNUcmVlc1tpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbCh0aGlzLl9yZW5kZXJQcm94eSk7XG5cdCAgICBtYXJrU3RhdGljKHRyZWUsIChcIl9fc3RhdGljX19cIiArIGluZGV4KSwgZmFsc2UpO1xuXHQgICAgcmV0dXJuIHRyZWVcblx0ICB9O1xuXHRcblx0ICAvLyBtYXJrIG5vZGUgYXMgc3RhdGljICh2LW9uY2UpXG5cdCAgVnVlLnByb3RvdHlwZS5fbyA9IGZ1bmN0aW9uIG1hcmtPbmNlIChcblx0ICAgIHRyZWUsXG5cdCAgICBpbmRleCxcblx0ICAgIGtleVxuXHQgICkge1xuXHQgICAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX29uY2VfX1wiICsgaW5kZXggKyAoa2V5ID8gKFwiX1wiICsga2V5KSA6IFwiXCIpKSwgdHJ1ZSk7XG5cdCAgICByZXR1cm4gdHJlZVxuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIG1hcmtTdGF0aWMgKHRyZWUsIGtleSwgaXNPbmNlKSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyBcIl9cIiArIGkpLCBpc09uY2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWFya1N0YXRpY05vZGUodHJlZSwga2V5LCBpc09uY2UpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbWFya1N0YXRpY05vZGUgKG5vZGUsIGtleSwgaXNPbmNlKSB7XG5cdCAgICBub2RlLmlzU3RhdGljID0gdHJ1ZTtcblx0ICAgIG5vZGUua2V5ID0ga2V5O1xuXHQgICAgbm9kZS5pc09uY2UgPSBpc09uY2U7XG5cdCAgfVxuXHRcblx0ICAvLyBmaWx0ZXIgcmVzb2x1dGlvbiBoZWxwZXJcblx0ICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTtcblx0ICBWdWUucHJvdG90eXBlLl9mID0gZnVuY3Rpb24gcmVzb2x2ZUZpbHRlciAoaWQpIHtcblx0ICAgIHJldHVybiByZXNvbHZlQXNzZXQodGhpcy4kb3B0aW9ucywgJ2ZpbHRlcnMnLCBpZCwgdHJ1ZSkgfHwgaWRlbnRpdHlcblx0ICB9O1xuXHRcblx0ICAvLyByZW5kZXIgdi1mb3Jcblx0ICBWdWUucHJvdG90eXBlLl9sID0gZnVuY3Rpb24gcmVuZGVyTGlzdCAoXG5cdCAgICB2YWwsXG5cdCAgICByZW5kZXJcblx0ICApIHtcblx0ICAgIHZhciByZXQsIGksIGwsIGtleXMsIGtleTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0ICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbC5sZW5ndGgpO1xuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gdmFsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxbaV0sIGkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG5cdCAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsOyBpKyspIHtcblx0ICAgICAgICByZXRbaV0gPSByZW5kZXIoaSArIDEsIGkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcblx0ICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG5cdCAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG5cdCAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIGtleSA9IGtleXNbaV07XG5cdCAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtrZXldLCBrZXksIGkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0XG5cdCAgfTtcblx0XG5cdCAgLy8gcmVuZGVyU2xvdFxuXHQgIFZ1ZS5wcm90b3R5cGUuX3QgPSBmdW5jdGlvbiAoXG5cdCAgICBuYW1lLFxuXHQgICAgZmFsbGJhY2ssXG5cdCAgICBwcm9wc1xuXHQgICkge1xuXHQgICAgdmFyIHNjb3BlZFNsb3RGbiA9IHRoaXMuJHNjb3BlZFNsb3RzW25hbWVdO1xuXHQgICAgaWYgKHNjb3BlZFNsb3RGbikgeyAvLyBzY29wZWQgc2xvdFxuXHQgICAgICByZXR1cm4gc2NvcGVkU2xvdEZuKHByb3BzIHx8IHt9KSB8fCBmYWxsYmFja1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIHNsb3ROb2RlcyA9IHRoaXMuJHNsb3RzW25hbWVdO1xuXHQgICAgICAvLyB3YXJuIGR1cGxpY2F0ZSBzbG90IHVzYWdlXG5cdCAgICAgIGlmIChzbG90Tm9kZXMgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIHNsb3ROb2Rlcy5fcmVuZGVyZWQgJiYgd2Fybihcblx0ICAgICAgICAgIFwiRHVwbGljYXRlIHByZXNlbmNlIG9mIHNsb3QgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBmb3VuZCBpbiB0aGUgc2FtZSByZW5kZXIgdHJlZSBcIiArXG5cdCAgICAgICAgICBcIi0gdGhpcyB3aWxsIGxpa2VseSBjYXVzZSByZW5kZXIgZXJyb3JzLlwiLFxuXHQgICAgICAgICAgdGhpc1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgc2xvdE5vZGVzLl9yZW5kZXJlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNsb3ROb2RlcyB8fCBmYWxsYmFja1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vIGFwcGx5IHYtYmluZCBvYmplY3Rcblx0ICBWdWUucHJvdG90eXBlLl9iID0gZnVuY3Rpb24gYmluZFByb3BzIChcblx0ICAgIGRhdGEsXG5cdCAgICB0YWcsXG5cdCAgICB2YWx1ZSxcblx0ICAgIGFzUHJvcFxuXHQgICkge1xuXHQgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG5cdCAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgICAgJ3YtYmluZCB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0IG9yIEFycmF5IHZhbHVlJyxcblx0ICAgICAgICAgIHRoaXNcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICAgICAgdmFsdWUgPSB0b09iamVjdCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuXHQgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScpIHtcblx0ICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWVba2V5XTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gYXNQcm9wIHx8IGNvbmZpZy5tdXN0VXNlUHJvcCh0YWcsIGtleSlcblx0ICAgICAgICAgICAgICA/IGRhdGEuZG9tUHJvcHMgfHwgKGRhdGEuZG9tUHJvcHMgPSB7fSlcblx0ICAgICAgICAgICAgICA6IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XG5cdCAgICAgICAgICAgIGhhc2hba2V5XSA9IHZhbHVlW2tleV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0YVxuXHQgIH07XG5cdFxuXHQgIC8vIGV4cG9zZSB2LW9uIGtleUNvZGVzXG5cdCAgVnVlLnByb3RvdHlwZS5fayA9IGZ1bmN0aW9uIGdldEtleUNvZGVzIChrZXkpIHtcblx0ICAgIHJldHVybiBjb25maWcua2V5Q29kZXNba2V5XVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlc29sdmVTbG90cyAoXG5cdCAgcmVuZGVyQ2hpbGRyZW4sXG5cdCAgY29udGV4dFxuXHQpIHtcblx0ICB2YXIgc2xvdHMgPSB7fTtcblx0ICBpZiAoIXJlbmRlckNoaWxkcmVuKSB7XG5cdCAgICByZXR1cm4gc2xvdHNcblx0ICB9XG5cdCAgdmFyIGNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocmVuZGVyQ2hpbGRyZW4pIHx8IFtdO1xuXHQgIHZhciBkZWZhdWx0U2xvdCA9IFtdO1xuXHQgIHZhciBuYW1lLCBjaGlsZDtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0ICAgIC8vIG5hbWVkIHNsb3RzIHNob3VsZCBvbmx5IGJlIHJlc3BlY3RlZCBpZiB0aGUgdm5vZGUgd2FzIHJlbmRlcmVkIGluIHRoZVxuXHQgICAgLy8gc2FtZSBjb250ZXh0LlxuXHQgICAgaWYgKChjaGlsZC5jb250ZXh0ID09PSBjb250ZXh0IHx8IGNoaWxkLmZ1bmN0aW9uYWxDb250ZXh0ID09PSBjb250ZXh0KSAmJlxuXHQgICAgICAgIGNoaWxkLmRhdGEgJiYgKG5hbWUgPSBjaGlsZC5kYXRhLnNsb3QpKSB7XG5cdCAgICAgIHZhciBzbG90ID0gKHNsb3RzW25hbWVdIHx8IChzbG90c1tuYW1lXSA9IFtdKSk7XG5cdCAgICAgIGlmIChjaGlsZC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcblx0ICAgICAgICBzbG90LnB1c2guYXBwbHkoc2xvdCwgY2hpbGQuY2hpbGRyZW4pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHNsb3QucHVzaChjaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRlZmF1bHRTbG90LnB1c2goY2hpbGQpO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBpZ25vcmUgc2luZ2xlIHdoaXRlc3BhY2Vcblx0ICBpZiAoZGVmYXVsdFNsb3QubGVuZ3RoICYmICEoXG5cdCAgICBkZWZhdWx0U2xvdC5sZW5ndGggPT09IDEgJiZcblx0ICAgIChkZWZhdWx0U2xvdFswXS50ZXh0ID09PSAnICcgfHwgZGVmYXVsdFNsb3RbMF0uaXNDb21tZW50KVxuXHQgICkpIHtcblx0ICAgIHNsb3RzLmRlZmF1bHQgPSBkZWZhdWx0U2xvdDtcblx0ICB9XG5cdCAgcmV0dXJuIHNsb3RzXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdEV2ZW50cyAodm0pIHtcblx0ICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcblx0ICB2YXIgbGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcblx0ICB2YXIgb24gPSBiaW5kJDEodm0uJG9uLCB2bSk7XG5cdCAgdmFyIG9mZiA9IGJpbmQkMSh2bS4kb2ZmLCB2bSk7XG5cdCAgdm0uX3VwZGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChsaXN0ZW5lcnMsIG9sZExpc3RlbmVycykge1xuXHQgICAgdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzIHx8IHt9LCBvbiwgb2ZmLCB2bSk7XG5cdCAgfTtcblx0ICBpZiAobGlzdGVuZXJzKSB7XG5cdCAgICB2bS5fdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycyk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBldmVudHNNaXhpbiAoVnVlKSB7XG5cdCAgVnVlLnByb3RvdHlwZS4kb24gPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzOyh2bS5fZXZlbnRzW2V2ZW50XSB8fCAodm0uX2V2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xuXHQgICAgcmV0dXJuIHZtXG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBmdW5jdGlvbiBvbiAoKSB7XG5cdCAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTtcblx0ICAgICAgZm4uYXBwbHkodm0sIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgICBvbi5mbiA9IGZuO1xuXHQgICAgdm0uJG9uKGV2ZW50LCBvbik7XG5cdCAgICByZXR1cm4gdm1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRvZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgLy8gYWxsXG5cdCAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICAgIHJldHVybiB2bVxuXHQgICAgfVxuXHQgICAgLy8gc3BlY2lmaWMgZXZlbnRcblx0ICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcblx0ICAgIGlmICghY2JzKSB7XG5cdCAgICAgIHJldHVybiB2bVxuXHQgICAgfVxuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xuXHQgICAgICByZXR1cm4gdm1cblx0ICAgIH1cblx0ICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcblx0ICAgIHZhciBjYjtcblx0ICAgIHZhciBpID0gY2JzLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgY2IgPSBjYnNbaV07XG5cdCAgICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XG5cdCAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICBicmVha1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRlbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuXHQgICAgaWYgKGNicykge1xuXHQgICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNicztcblx0ICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIGNic1tpXS5hcHBseSh2bSwgYXJncyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB2bVxuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIHVpZCA9IDA7XG5cdFxuXHRmdW5jdGlvbiBpbml0TWl4aW4gKFZ1ZSkge1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIC8vIGEgdWlkXG5cdCAgICB2bS5fdWlkID0gdWlkKys7XG5cdCAgICAvLyBhIGZsYWcgdG8gYXZvaWQgdGhpcyBiZWluZyBvYnNlcnZlZFxuXHQgICAgdm0uX2lzVnVlID0gdHJ1ZTtcblx0ICAgIC8vIG1lcmdlIG9wdGlvbnNcblx0ICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuX2lzQ29tcG9uZW50KSB7XG5cdCAgICAgIC8vIG9wdGltaXplIGludGVybmFsIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uXG5cdCAgICAgIC8vIHNpbmNlIGR5bmFtaWMgb3B0aW9ucyBtZXJnaW5nIGlzIHByZXR0eSBzbG93LCBhbmQgbm9uZSBvZiB0aGVcblx0ICAgICAgLy8gaW50ZXJuYWwgY29tcG9uZW50IG9wdGlvbnMgbmVlZHMgc3BlY2lhbCB0cmVhdG1lbnQuXG5cdCAgICAgIGluaXRJbnRlcm5hbENvbXBvbmVudCh2bSwgb3B0aW9ucyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS4kb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcblx0ICAgICAgICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKHZtLmNvbnN0cnVjdG9yKSxcblx0ICAgICAgICBvcHRpb25zIHx8IHt9LFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgaW5pdFByb3h5KHZtKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xuXHQgICAgfVxuXHQgICAgLy8gZXhwb3NlIHJlYWwgc2VsZlxuXHQgICAgdm0uX3NlbGYgPSB2bTtcblx0ICAgIGluaXRMaWZlY3ljbGUodm0pO1xuXHQgICAgaW5pdEV2ZW50cyh2bSk7XG5cdCAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZUNyZWF0ZScpO1xuXHQgICAgaW5pdFN0YXRlKHZtKTtcblx0ICAgIGNhbGxIb29rKHZtLCAnY3JlYXRlZCcpO1xuXHQgICAgaW5pdFJlbmRlcih2bSk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdEludGVybmFsQ29tcG9uZW50ICh2bSwgb3B0aW9ucykge1xuXHQgIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpO1xuXHQgIC8vIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGR5bmFtaWMgZW51bWVyYXRpb24uXG5cdCAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcblx0ICBvcHRzLnByb3BzRGF0YSA9IG9wdGlvbnMucHJvcHNEYXRhO1xuXHQgIG9wdHMuX3BhcmVudFZub2RlID0gb3B0aW9ucy5fcGFyZW50Vm5vZGU7XG5cdCAgb3B0cy5fcGFyZW50TGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuXHQgIG9wdHMuX3JlbmRlckNoaWxkcmVuID0gb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW47XG5cdCAgb3B0cy5fY29tcG9uZW50VGFnID0gb3B0aW9ucy5fY29tcG9uZW50VGFnO1xuXHQgIGlmIChvcHRpb25zLnJlbmRlcikge1xuXHQgICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcblx0ICAgIG9wdHMuc3RhdGljUmVuZGVyRm5zID0gb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnM7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zIChDdG9yKSB7XG5cdCAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG5cdCAgaWYgKEN0b3Iuc3VwZXIpIHtcblx0ICAgIHZhciBzdXBlck9wdGlvbnMgPSBDdG9yLnN1cGVyLm9wdGlvbnM7XG5cdCAgICB2YXIgY2FjaGVkU3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlck9wdGlvbnM7XG5cdCAgICB2YXIgZXh0ZW5kT3B0aW9ucyA9IEN0b3IuZXh0ZW5kT3B0aW9ucztcblx0ICAgIGlmIChzdXBlck9wdGlvbnMgIT09IGNhY2hlZFN1cGVyT3B0aW9ucykge1xuXHQgICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZFxuXHQgICAgICBDdG9yLnN1cGVyT3B0aW9ucyA9IHN1cGVyT3B0aW9ucztcblx0ICAgICAgZXh0ZW5kT3B0aW9ucy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcblx0ICAgICAgZXh0ZW5kT3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBvcHRpb25zLnN0YXRpY1JlbmRlckZucztcblx0ICAgICAgZXh0ZW5kT3B0aW9ucy5fc2NvcGVJZCA9IG9wdGlvbnMuX3Njb3BlSWQ7XG5cdCAgICAgIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoc3VwZXJPcHRpb25zLCBleHRlbmRPcHRpb25zKTtcblx0ICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuXHQgICAgICAgIG9wdGlvbnMuY29tcG9uZW50c1tvcHRpb25zLm5hbWVdID0gQ3Rvcjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gb3B0aW9uc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBWdWUkMiAob3B0aW9ucykge1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG5cdCAgICAhKHRoaXMgaW5zdGFuY2VvZiBWdWUkMikpIHtcblx0ICAgIHdhcm4oJ1Z1ZSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBuZXdgIGtleXdvcmQnKTtcblx0ICB9XG5cdCAgdGhpcy5faW5pdChvcHRpb25zKTtcblx0fVxuXHRcblx0aW5pdE1peGluKFZ1ZSQyKTtcblx0c3RhdGVNaXhpbihWdWUkMik7XG5cdGV2ZW50c01peGluKFZ1ZSQyKTtcblx0bGlmZWN5Y2xlTWl4aW4oVnVlJDIpO1xuXHRyZW5kZXJNaXhpbihWdWUkMik7XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRVc2UgKFZ1ZSkge1xuXHQgIFZ1ZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgIGlmIChwbHVnaW4uaW5zdGFsbGVkKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgLy8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG5cdCAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTtcblx0ICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcblx0ICAgIGlmICh0eXBlb2YgcGx1Z2luLmluc3RhbGwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgcGx1Z2luLmluc3RhbGwuYXBwbHkocGx1Z2luLCBhcmdzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHBsdWdpbi5hcHBseShudWxsLCBhcmdzKTtcblx0ICAgIH1cblx0ICAgIHBsdWdpbi5pbnN0YWxsZWQgPSB0cnVlO1xuXHQgICAgcmV0dXJuIHRoaXNcblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRNaXhpbiQxIChWdWUpIHtcblx0ICBWdWUubWl4aW4gPSBmdW5jdGlvbiAobWl4aW4pIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRFeHRlbmQgKFZ1ZSkge1xuXHQgIC8qKlxuXHQgICAqIEVhY2ggaW5zdGFuY2UgY29uc3RydWN0b3IsIGluY2x1ZGluZyBWdWUsIGhhcyBhIHVuaXF1ZVxuXHQgICAqIGNpZC4gVGhpcyBlbmFibGVzIHVzIHRvIGNyZWF0ZSB3cmFwcGVkIFwiY2hpbGRcblx0ICAgKiBjb25zdHJ1Y3RvcnNcIiBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZSBhbmQgY2FjaGUgdGhlbS5cblx0ICAgKi9cblx0ICBWdWUuY2lkID0gMDtcblx0ICB2YXIgY2lkID0gMTtcblx0XG5cdCAgLyoqXG5cdCAgICogQ2xhc3MgaW5oZXJpdGFuY2Vcblx0ICAgKi9cblx0ICBWdWUuZXh0ZW5kID0gZnVuY3Rpb24gKGV4dGVuZE9wdGlvbnMpIHtcblx0ICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xuXHQgICAgdmFyIFN1cGVyID0gdGhpcztcblx0ICAgIHZhciBTdXBlcklkID0gU3VwZXIuY2lkO1xuXHQgICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcblx0ICAgIGlmIChjYWNoZWRDdG9yc1tTdXBlcklkXSkge1xuXHQgICAgICByZXR1cm4gY2FjaGVkQ3RvcnNbU3VwZXJJZF1cblx0ICAgIH1cblx0ICAgIHZhciBuYW1lID0gZXh0ZW5kT3B0aW9ucy5uYW1lIHx8IFN1cGVyLm9wdGlvbnMubmFtZTtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIGlmICghL15bYS16QS1aXVtcXHctXSokLy50ZXN0KG5hbWUpKSB7XG5cdCAgICAgICAgd2Fybihcblx0ICAgICAgICAgICdJbnZhbGlkIGNvbXBvbmVudCBuYW1lOiBcIicgKyBuYW1lICsgJ1wiLiBDb21wb25lbnQgbmFtZXMgJyArXG5cdCAgICAgICAgICAnY2FuIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjYXRlcnMgYW5kIHRoZSBoeXBoZW4uJ1xuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBTdWIgPSBmdW5jdGlvbiBWdWVDb21wb25lbnQgKG9wdGlvbnMpIHtcblx0ICAgICAgdGhpcy5faW5pdChvcHRpb25zKTtcblx0ICAgIH07XG5cdCAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpO1xuXHQgICAgU3ViLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1Yjtcblx0ICAgIFN1Yi5jaWQgPSBjaWQrKztcblx0ICAgIFN1Yi5vcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuXHQgICAgICBTdXBlci5vcHRpb25zLFxuXHQgICAgICBleHRlbmRPcHRpb25zXG5cdCAgICApO1xuXHQgICAgU3ViWydzdXBlciddID0gU3VwZXI7XG5cdCAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2Vcblx0ICAgIFN1Yi5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG5cdCAgICBTdWIubWl4aW4gPSBTdXBlci5taXhpbjtcblx0ICAgIFN1Yi51c2UgPSBTdXBlci51c2U7XG5cdCAgICAvLyBjcmVhdGUgYXNzZXQgcmVnaXN0ZXJzLCBzbyBleHRlbmRlZCBjbGFzc2VzXG5cdCAgICAvLyBjYW4gaGF2ZSB0aGVpciBwcml2YXRlIGFzc2V0cyB0b28uXG5cdCAgICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgICBTdWJbdHlwZV0gPSBTdXBlclt0eXBlXTtcblx0ICAgIH0pO1xuXHQgICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxuXHQgICAgaWYgKG5hbWUpIHtcblx0ICAgICAgU3ViLm9wdGlvbnMuY29tcG9uZW50c1tuYW1lXSA9IFN1Yjtcblx0ICAgIH1cblx0ICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuXG5cdCAgICAvLyBsYXRlciBhdCBpbnN0YW50aWF0aW9uIHdlIGNhbiBjaGVjayBpZiBTdXBlcidzIG9wdGlvbnMgaGF2ZVxuXHQgICAgLy8gYmVlbiB1cGRhdGVkLlxuXHQgICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7XG5cdCAgICBTdWIuZXh0ZW5kT3B0aW9ucyA9IGV4dGVuZE9wdGlvbnM7XG5cdCAgICAvLyBjYWNoZSBjb25zdHJ1Y3RvclxuXHQgICAgY2FjaGVkQ3RvcnNbU3VwZXJJZF0gPSBTdWI7XG5cdCAgICByZXR1cm4gU3ViXG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0QXNzZXRSZWdpc3RlcnMgKFZ1ZSkge1xuXHQgIC8qKlxuXHQgICAqIENyZWF0ZSBhc3NldCByZWdpc3RyYXRpb24gbWV0aG9kcy5cblx0ICAgKi9cblx0ICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgVnVlW3R5cGVdID0gZnVuY3Rpb24gKFxuXHQgICAgICBpZCxcblx0ICAgICAgZGVmaW5pdGlvblxuXHQgICAgKSB7XG5cdCAgICAgIGlmICghZGVmaW5pdGlvbikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBjb25maWcuaXNSZXNlcnZlZFRhZyhpZCkpIHtcblx0ICAgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcblx0ICAgICAgICAgICAgICAnaWQ6ICcgKyBpZFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkge1xuXHQgICAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gZGVmaW5pdGlvbi5uYW1lIHx8IGlkO1xuXHQgICAgICAgICAgZGVmaW5pdGlvbiA9IHRoaXMub3B0aW9ucy5fYmFzZS5leHRlbmQoZGVmaW5pdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgZGVmaW5pdGlvbiA9IHsgYmluZDogZGVmaW5pdGlvbiwgdXBkYXRlOiBkZWZpbml0aW9uIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF0gPSBkZWZpbml0aW9uO1xuXHQgICAgICAgIHJldHVybiBkZWZpbml0aW9uXG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cF07XG5cdFxuXHRmdW5jdGlvbiBtYXRjaGVzIChwYXR0ZXJuLCBuYW1lKSB7XG5cdCAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTFcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIEtlZXBBbGl2ZSA9IHtcblx0ICBuYW1lOiAna2VlcC1hbGl2ZScsXG5cdCAgYWJzdHJhY3Q6IHRydWUsXG5cdCAgcHJvcHM6IHtcblx0ICAgIGluY2x1ZGU6IHBhdHRlcm5UeXBlcyxcblx0ICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlc1xuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCAoKSB7XG5cdCAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyICgpIHtcblx0ICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQodGhpcy4kc2xvdHMuZGVmYXVsdCk7XG5cdCAgICBpZiAodm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucykge1xuXHQgICAgICB2YXIgb3B0cyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG5cdCAgICAgIC8vIGNoZWNrIHBhdHRlcm5cblx0ICAgICAgdmFyIG5hbWUgPSBvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnO1xuXHQgICAgICBpZiAobmFtZSAmJiAoXG5cdCAgICAgICAgKHRoaXMuaW5jbHVkZSAmJiAhbWF0Y2hlcyh0aGlzLmluY2x1ZGUsIG5hbWUpKSB8fFxuXHQgICAgICAgICh0aGlzLmV4Y2x1ZGUgJiYgbWF0Y2hlcyh0aGlzLmV4Y2x1ZGUsIG5hbWUpKVxuXHQgICAgICApKSB7XG5cdCAgICAgICAgcmV0dXJuIHZub2RlXG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGtleSA9IHZub2RlLmtleSA9PSBudWxsXG5cdCAgICAgICAgLy8gc2FtZSBjb25zdHJ1Y3RvciBtYXkgZ2V0IHJlZ2lzdGVyZWQgYXMgZGlmZmVyZW50IGxvY2FsIGNvbXBvbmVudHNcblx0ICAgICAgICAvLyBzbyBjaWQgYWxvbmUgaXMgbm90IGVub3VnaCAoIzMyNjkpXG5cdCAgICAgICAgPyBvcHRzLkN0b3IuY2lkICsgKG9wdHMudGFnID8gKFwiOjpcIiArIChvcHRzLnRhZykpIDogJycpXG5cdCAgICAgICAgOiB2bm9kZS5rZXk7XG5cdCAgICAgIGlmICh0aGlzLmNhY2hlW2tleV0pIHtcblx0ICAgICAgICB2bm9kZS5jaGlsZCA9IHRoaXMuY2FjaGVba2V5XS5jaGlsZDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSB2bm9kZTtcblx0ICAgICAgfVxuXHQgICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSA9IHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm5vZGVcblx0ICB9LFxuXHQgIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkICgpIHtcblx0ICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXHRcblx0ICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlKSB7XG5cdCAgICAgIHZhciB2bm9kZSA9IHRoaXMkMS5jYWNoZVtrZXldO1xuXHQgICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG5cdCAgICAgIHZub2RlLmNoaWxkLiRkZXN0cm95KCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIGJ1aWx0SW5Db21wb25lbnRzID0ge1xuXHQgIEtlZXBBbGl2ZTogS2VlcEFsaXZlXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRHbG9iYWxBUEkgKFZ1ZSkge1xuXHQgIC8vIGNvbmZpZ1xuXHQgIHZhciBjb25maWdEZWYgPSB7fTtcblx0ICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBjb25maWdEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICdEbyBub3QgcmVwbGFjZSB0aGUgVnVlLmNvbmZpZyBvYmplY3QsIHNldCBpbmRpdmlkdWFsIGZpZWxkcyBpbnN0ZWFkLidcblx0ICAgICAgKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICdjb25maWcnLCBjb25maWdEZWYpO1xuXHQgIFZ1ZS51dGlsID0gdXRpbDtcblx0ICBWdWUuc2V0ID0gc2V0O1xuXHQgIFZ1ZS5kZWxldGUgPSBkZWw7XG5cdCAgVnVlLm5leHRUaWNrID0gbmV4dFRpY2s7XG5cdFxuXHQgIFZ1ZS5vcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgVnVlLm9wdGlvbnNbdHlwZSArICdzJ10gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIH0pO1xuXHRcblx0ICAvLyB0aGlzIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIFwiYmFzZVwiIGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBhbGwgcGxhaW4tb2JqZWN0XG5cdCAgLy8gY29tcG9uZW50cyB3aXRoIGluIFdlZXgncyBtdWx0aS1pbnN0YW5jZSBzY2VuYXJpb3MuXG5cdCAgVnVlLm9wdGlvbnMuX2Jhc2UgPSBWdWU7XG5cdFxuXHQgIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7XG5cdFxuXHQgIGluaXRVc2UoVnVlKTtcblx0ICBpbml0TWl4aW4kMShWdWUpO1xuXHQgIGluaXRFeHRlbmQoVnVlKTtcblx0ICBpbml0QXNzZXRSZWdpc3RlcnMoVnVlKTtcblx0fVxuXHRcblx0aW5pdEdsb2JhbEFQSShWdWUkMik7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlJDIucHJvdG90eXBlLCAnJGlzU2VydmVyJywge1xuXHQgIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmdcblx0fSk7XG5cdFxuXHRWdWUkMi52ZXJzaW9uID0gJzIuMS4zJztcblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSB1c2luZyBwcm9wcyBmb3IgYmluZGluZ1xuXHR2YXIgbXVzdFVzZVByb3AgPSBmdW5jdGlvbiAodGFnLCBhdHRyKSB7XG5cdCAgcmV0dXJuIChcblx0ICAgIChhdHRyID09PSAndmFsdWUnICYmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnIHx8IHRhZyA9PT0gJ29wdGlvbicpKSB8fFxuXHQgICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcblx0ICAgIChhdHRyID09PSAnY2hlY2tlZCcgJiYgdGFnID09PSAnaW5wdXQnKSB8fFxuXHQgICAgKGF0dHIgPT09ICdtdXRlZCcgJiYgdGFnID09PSAndmlkZW8nKVxuXHQgIClcblx0fTtcblx0XG5cdHZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XG5cdFxuXHR2YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoXG5cdCAgJ2FsbG93ZnVsbHNjcmVlbixhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY2hlY2tlZCxjb21wYWN0LGNvbnRyb2xzLGRlY2xhcmUsJyArXG5cdCAgJ2RlZmF1bHQsZGVmYXVsdGNoZWNrZWQsZGVmYXVsdG11dGVkLGRlZmF1bHRzZWxlY3RlZCxkZWZlcixkaXNhYmxlZCwnICtcblx0ICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICtcblx0ICAnbXV0ZWQsbm9ocmVmLG5vcmVzaXplLG5vc2hhZGUsbm92YWxpZGF0ZSxub3dyYXAsb3BlbixwYXVzZW9uZXhpdCxyZWFkb25seSwnICtcblx0ICAncmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNvcnRhYmxlLHRyYW5zbGF0ZSwnICtcblx0ICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZSdcblx0KTtcblx0XG5cdHZhciBpc0F0dHIgPSBtYWtlTWFwKFxuXHQgICdhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbHQsYXN5bmMsYXV0b2NvbXBsZXRlLCcgK1xuXHQgICdhdXRvZm9jdXMsYXV0b3BsYXksYXV0b3NhdmUsYmdjb2xvcixib3JkZXIsYnVmZmVyZWQsY2hhbGxlbmdlLGNoYXJzZXQsJyArXG5cdCAgJ2NoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGh0dHAtZXF1aXYsJyArXG5cdCAgJ25hbWUsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3JkcyxkYXRhLGRhdGV0aW1lLGRlZmF1bHQsJyArXG5cdCAgJ2RlZmVyLGRpcixkaXJuYW1lLGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLG1ldGhvZCxmb3IsJyArXG5cdCAgJ2Zvcm0sZm9ybWFjdGlvbixoZWFkZXJzLDx0aD4saGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdiwnICtcblx0ICAnaWNvbixpZCxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsaXN0LGxvb3AsbG93LCcgK1xuXHQgICdtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1lZGlhLG1ldGhvZCxHRVQsUE9TVCxtaW4sbXVsdGlwbGUsZW1haWwsZmlsZSwnICtcblx0ICAnbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLCcgK1xuXHQgICdwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LCcgK1xuXHQgICdzY29wZSxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc2hhcGUsc2l6ZSx0eXBlLHRleHQscGFzc3dvcmQsc2l6ZXMsc3BhbiwnICtcblx0ICAnc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCwnICtcblx0ICAndGFyZ2V0LHRpdGxlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXAnXG5cdCk7XG5cdFxuXHRcblx0XG5cdHZhciB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXHRcblx0dmFyIGlzWGxpbmsgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgIHJldHVybiBuYW1lLmNoYXJBdCg1KSA9PT0gJzonICYmIG5hbWUuc2xpY2UoMCwgNSkgPT09ICd4bGluaydcblx0fTtcblx0XG5cdHZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgIHJldHVybiBpc1hsaW5rKG5hbWUpID8gbmFtZS5zbGljZSg2LCBuYW1lLmxlbmd0aCkgOiAnJ1xuXHR9O1xuXHRcblx0dmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCA9PSBudWxsIHx8IHZhbCA9PT0gZmFsc2Vcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gZ2VuQ2xhc3NGb3JWbm9kZSAodm5vZGUpIHtcblx0ICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcblx0ICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XG5cdCAgd2hpbGUgKGNoaWxkTm9kZS5jaGlsZCkge1xuXHQgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLmNoaWxkLl92bm9kZTtcblx0ICAgIGlmIChjaGlsZE5vZGUuZGF0YSkge1xuXHQgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoY2hpbGROb2RlLmRhdGEsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB3aGlsZSAoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcblx0ICAgIGlmIChwYXJlbnROb2RlLmRhdGEpIHtcblx0ICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGRhdGEsIHBhcmVudE5vZGUuZGF0YSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBnZW5DbGFzc0Zyb21EYXRhKGRhdGEpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlQ2xhc3NEYXRhIChjaGlsZCwgcGFyZW50KSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBjb25jYXQoY2hpbGQuc3RhdGljQ2xhc3MsIHBhcmVudC5zdGF0aWNDbGFzcyksXG5cdCAgICBjbGFzczogY2hpbGQuY2xhc3Ncblx0ICAgICAgPyBbY2hpbGQuY2xhc3MsIHBhcmVudC5jbGFzc11cblx0ICAgICAgOiBwYXJlbnQuY2xhc3Ncblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdlbkNsYXNzRnJvbURhdGEgKGRhdGEpIHtcblx0ICB2YXIgZHluYW1pY0NsYXNzID0gZGF0YS5jbGFzcztcblx0ICB2YXIgc3RhdGljQ2xhc3MgPSBkYXRhLnN0YXRpY0NsYXNzO1xuXHQgIGlmIChzdGF0aWNDbGFzcyB8fCBkeW5hbWljQ2xhc3MpIHtcblx0ICAgIHJldHVybiBjb25jYXQoc3RhdGljQ2xhc3MsIHN0cmluZ2lmeUNsYXNzKGR5bmFtaWNDbGFzcykpXG5cdCAgfVxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgcmV0dXJuICcnXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmNhdCAoYSwgYikge1xuXHQgIHJldHVybiBhID8gYiA/IChhICsgJyAnICsgYikgOiBhIDogKGIgfHwgJycpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0cmluZ2lmeUNsYXNzICh2YWx1ZSkge1xuXHQgIHZhciByZXMgPSAnJztcblx0ICBpZiAoIXZhbHVlKSB7XG5cdCAgICByZXR1cm4gcmVzXG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gdmFsdWVcblx0ICB9XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICB2YXIgc3RyaW5naWZpZWQ7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICBpZiAodmFsdWVbaV0pIHtcblx0ICAgICAgICBpZiAoKHN0cmluZ2lmaWVkID0gc3RyaW5naWZ5Q2xhc3ModmFsdWVbaV0pKSkge1xuXHQgICAgICAgICAgcmVzICs9IHN0cmluZ2lmaWVkICsgJyAnO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSlcblx0ICB9XG5cdCAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG5cdCAgICAgIGlmICh2YWx1ZVtrZXldKSB7IHJlcyArPSBrZXkgKyAnICc7IH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXMuc2xpY2UoMCwgLTEpXG5cdCAgfVxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBuYW1lc3BhY2VNYXAgPSB7XG5cdCAgc3ZnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuXHQgIG1hdGg6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJyxcblx0ICB4aHRtbDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnXG5cdH07XG5cdFxuXHR2YXIgaXNIVE1MVGFnID0gbWFrZU1hcChcblx0ICAnaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsJyArXG5cdCAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbiwnICtcblx0ICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLCcgK1xuXHQgICdhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnksJyArXG5cdCAgJ3Msc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLCcgK1xuXHQgICdlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucywnICtcblx0ICAnY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsJyArXG5cdCAgJ2J1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sJyArXG5cdCAgJ291dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsJyArXG5cdCAgJ2RldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSwnICtcblx0ICAnY29udGVudCxlbGVtZW50LHNoYWRvdyx0ZW1wbGF0ZSdcblx0KTtcblx0XG5cdHZhciBpc1VuYXJ5VGFnID0gbWFrZU1hcChcblx0ICAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArXG5cdCAgJ2xpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJyxcblx0ICB0cnVlXG5cdCk7XG5cdFxuXHQvLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW5cblx0Ly8gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuXHR2YXIgY2FuQmVMZWZ0T3BlblRhZyA9IG1ha2VNYXAoXG5cdCAgJ2NvbGdyb3VwLGRkLGR0LGxpLG9wdGlvbnMscCx0ZCx0Zm9vdCx0aCx0aGVhZCx0cixzb3VyY2UnLFxuXHQgIHRydWVcblx0KTtcblx0XG5cdC8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTNcblx0Ly8gUGhyYXNpbmcgQ29udGVudCBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCNwaHJhc2luZy1jb250ZW50XG5cdHZhciBpc05vblBocmFzaW5nVGFnID0gbWFrZU1hcChcblx0ICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgK1xuXHQgICdkZXRhaWxzLGRpYWxvZyxkaXYsZGwsZHQsZmllbGRzZXQsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGZvcm0sJyArXG5cdCAgJ2gxLGgyLGgzLGg0LGg1LGg2LGhlYWQsaGVhZGVyLGhncm91cCxocixodG1sLGxlZ2VuZCxsaSxtZW51aXRlbSxtZXRhLCcgK1xuXHQgICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArXG5cdCAgJ3RpdGxlLHRyLHRyYWNrJyxcblx0ICB0cnVlXG5cdCk7XG5cdFxuXHQvLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXlcblx0Ly8gY29udGFpbiBjaGlsZCBlbGVtZW50cy5cblx0dmFyIGlzU1ZHID0gbWFrZU1hcChcblx0ICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udCwnICtcblx0ICAnZm9udC1mYWNlLGcsZ2x5cGgsaW1hZ2UsbGluZSxtYXJrZXIsbWFzayxtaXNzaW5nLWdseXBoLHBhdGgscGF0dGVybiwnICtcblx0ICAncG9seWdvbixwb2x5bGluZSxyZWN0LHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0cGF0aCx0c3Bhbix1c2UsdmlldycsXG5cdCAgdHJ1ZVxuXHQpO1xuXHRcblx0XG5cdFxuXHR2YXIgaXNSZXNlcnZlZFRhZyA9IGZ1bmN0aW9uICh0YWcpIHtcblx0ICByZXR1cm4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkcodGFnKVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZ2V0VGFnTmFtZXNwYWNlICh0YWcpIHtcblx0ICBpZiAoaXNTVkcodGFnKSkge1xuXHQgICAgcmV0dXJuICdzdmcnXG5cdCAgfVxuXHQgIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxuXHQgIC8vIG5vdGUgaXQgZG9lc24ndCBzdXBwb3J0IG90aGVyIE1hdGhNTCBlbGVtZW50cyBiZWluZyBjb21wb25lbnQgcm9vdHNcblx0ICBpZiAodGFnID09PSAnbWF0aCcpIHtcblx0ICAgIHJldHVybiAnbWF0aCdcblx0ICB9XG5cdH1cblx0XG5cdHZhciB1bmtub3duRWxlbWVudENhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCAodGFnKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKCFpbkJyb3dzZXIpIHtcblx0ICAgIHJldHVybiB0cnVlXG5cdCAgfVxuXHQgIGlmIChpc1Jlc2VydmVkVGFnKHRhZykpIHtcblx0ICAgIHJldHVybiBmYWxzZVxuXHQgIH1cblx0ICB0YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddICE9IG51bGwpIHtcblx0ICAgIHJldHVybiB1bmtub3duRWxlbWVudENhY2hlW3RhZ11cblx0ICB9XG5cdCAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXHQgIGlmICh0YWcuaW5kZXhPZignLScpID4gLTEpIHtcblx0ICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4MjEwMzY0LzEwNzAyNDRcblx0ICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gKFxuXHQgICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxVbmtub3duRWxlbWVudCB8fFxuXHQgICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxFbGVtZW50XG5cdCAgICApKVxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpXG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8qKlxuXHQgKiBRdWVyeSBhbiBlbGVtZW50IHNlbGVjdG9yIGlmIGl0J3Mgbm90IGFuIGVsZW1lbnQgYWxyZWFkeS5cblx0ICovXG5cdGZ1bmN0aW9uIHF1ZXJ5IChlbCkge1xuXHQgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG5cdCAgICB2YXIgc2VsZWN0b3IgPSBlbDtcblx0ICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XG5cdCAgICBpZiAoIWVsKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICAnQ2Fubm90IGZpbmQgZWxlbWVudDogJyArIHNlbGVjdG9yXG5cdCAgICAgICk7XG5cdCAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZWxcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEgKHRhZ05hbWUsIHZub2RlKSB7XG5cdCAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG5cdCAgaWYgKHRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG5cdCAgICByZXR1cm4gZWxtXG5cdCAgfVxuXHQgIGlmICh2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEuYXR0cnMgJiYgJ211bHRpcGxlJyBpbiB2bm9kZS5kYXRhLmF0dHJzKSB7XG5cdCAgICBlbG0uc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xuXHQgIH1cblx0ICByZXR1cm4gZWxtXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7XG5cdCAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VNYXBbbmFtZXNwYWNlXSwgdGFnTmFtZSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUgKHRleHQpIHtcblx0ICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dClcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQ29tbWVudCAodGV4dCkge1xuXHQgIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuXHQgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVDaGlsZCAobm9kZSwgY2hpbGQpIHtcblx0ICBub2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG5cdCAgbm9kZS5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHtcblx0ICByZXR1cm4gbm9kZS5wYXJlbnROb2RlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5leHRTaWJsaW5nIChub2RlKSB7XG5cdCAgcmV0dXJuIG5vZGUubmV4dFNpYmxpbmdcblx0fVxuXHRcblx0ZnVuY3Rpb24gdGFnTmFtZSAobm9kZSkge1xuXHQgIHJldHVybiBub2RlLnRhZ05hbWVcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHtcblx0ICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hpbGROb2RlcyAobm9kZSkge1xuXHQgIHJldHVybiBub2RlLmNoaWxkTm9kZXNcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0QXR0cmlidXRlIChub2RlLCBrZXksIHZhbCkge1xuXHQgIG5vZGUuc2V0QXR0cmlidXRlKGtleSwgdmFsKTtcblx0fVxuXHRcblx0XG5cdHZhciBub2RlT3BzID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0Y3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCQxLFxuXHRcdGNyZWF0ZUVsZW1lbnROUzogY3JlYXRlRWxlbWVudE5TLFxuXHRcdGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcblx0XHRjcmVhdGVDb21tZW50OiBjcmVhdGVDb21tZW50LFxuXHRcdGluc2VydEJlZm9yZTogaW5zZXJ0QmVmb3JlLFxuXHRcdHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcblx0XHRhcHBlbmRDaGlsZDogYXBwZW5kQ2hpbGQsXG5cdFx0cGFyZW50Tm9kZTogcGFyZW50Tm9kZSxcblx0XHRuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG5cdFx0dGFnTmFtZTogdGFnTmFtZSxcblx0XHRzZXRUZXh0Q29udGVudDogc2V0VGV4dENvbnRlbnQsXG5cdFx0Y2hpbGROb2RlczogY2hpbGROb2Rlcyxcblx0XHRzZXRBdHRyaWJ1dGU6IHNldEF0dHJpYnV0ZVxuXHR9KTtcblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIHJlZiA9IHtcblx0ICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSAoXywgdm5vZGUpIHtcblx0ICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcblx0ICB9LFxuXHQgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICAgIGlmIChvbGRWbm9kZS5kYXRhLnJlZiAhPT0gdm5vZGUuZGF0YS5yZWYpIHtcblx0ICAgICAgcmVnaXN0ZXJSZWYob2xkVm5vZGUsIHRydWUpO1xuXHQgICAgICByZWdpc3RlclJlZih2bm9kZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkge1xuXHQgICAgcmVnaXN0ZXJSZWYodm5vZGUsIHRydWUpO1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJlZ2lzdGVyUmVmICh2bm9kZSwgaXNSZW1vdmFsKSB7XG5cdCAgdmFyIGtleSA9IHZub2RlLmRhdGEucmVmO1xuXHQgIGlmICgha2V5KSB7IHJldHVybiB9XG5cdFxuXHQgIHZhciB2bSA9IHZub2RlLmNvbnRleHQ7XG5cdCAgdmFyIHJlZiA9IHZub2RlLmNoaWxkIHx8IHZub2RlLmVsbTtcblx0ICB2YXIgcmVmcyA9IHZtLiRyZWZzO1xuXHQgIGlmIChpc1JlbW92YWwpIHtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHJlZnNba2V5XSkpIHtcblx0ICAgICAgcmVtb3ZlJDEocmVmc1trZXldLCByZWYpO1xuXHQgICAgfSBlbHNlIGlmIChyZWZzW2tleV0gPT09IHJlZikge1xuXHQgICAgICByZWZzW2tleV0gPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmICh2bm9kZS5kYXRhLnJlZkluRm9yKSB7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZnNba2V5XSkgJiYgcmVmc1trZXldLmluZGV4T2YocmVmKSA8IDApIHtcblx0ICAgICAgICByZWZzW2tleV0ucHVzaChyZWYpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlZnNba2V5XSA9IFtyZWZdO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZWZzW2tleV0gPSByZWY7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogVmlydHVhbCBET00gcGF0Y2hpbmcgYWxnb3JpdGhtIGJhc2VkIG9uIFNuYWJiZG9tIGJ5XG5cdCAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZClcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG5cdCAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYWxkZXBpbmQvc25hYmJkb20vYmxvYi9tYXN0ZXIvTElDRU5TRVxuXHQgKlxuXHQgKiBtb2RpZmllZCBieSBFdmFuIFlvdSAoQHl5eDk5MDgwMylcblx0ICpcblx0XG5cdC8qXG5cdCAqIE5vdCB0eXBlLWNoZWNraW5nIHRoaXMgYmVjYXVzZSB0aGlzIGZpbGUgaXMgcGVyZi1jcml0aWNhbCBhbmQgdGhlIGNvc3Rcblx0ICogb2YgbWFraW5nIGZsb3cgdW5kZXJzdGFuZCBpdCBpcyBub3Qgd29ydGggaXQuXG5cdCAqL1xuXHRcblx0dmFyIGVtcHR5Tm9kZSA9IG5ldyBWTm9kZSgnJywge30sIFtdKTtcblx0XG5cdHZhciBob29rcyQxID0gWydjcmVhdGUnLCAndXBkYXRlJywgJ3JlbW92ZScsICdkZXN0cm95J107XG5cdFxuXHRmdW5jdGlvbiBpc1VuZGVmIChzKSB7XG5cdCAgcmV0dXJuIHMgPT0gbnVsbFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RlZiAocykge1xuXHQgIHJldHVybiBzICE9IG51bGxcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2FtZVZub2RlICh2bm9kZTEsIHZub2RlMikge1xuXHQgIHJldHVybiAoXG5cdCAgICB2bm9kZTEua2V5ID09PSB2bm9kZTIua2V5ICYmXG5cdCAgICB2bm9kZTEudGFnID09PSB2bm9kZTIudGFnICYmXG5cdCAgICB2bm9kZTEuaXNDb21tZW50ID09PSB2bm9kZTIuaXNDb21tZW50ICYmXG5cdCAgICAhdm5vZGUxLmRhdGEgPT09ICF2bm9kZTIuZGF0YVxuXHQgIClcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlS2V5VG9PbGRJZHggKGNoaWxkcmVuLCBiZWdpbklkeCwgZW5kSWR4KSB7XG5cdCAgdmFyIGksIGtleTtcblx0ICB2YXIgbWFwID0ge307XG5cdCAgZm9yIChpID0gYmVnaW5JZHg7IGkgPD0gZW5kSWR4OyArK2kpIHtcblx0ICAgIGtleSA9IGNoaWxkcmVuW2ldLmtleTtcblx0ICAgIGlmIChpc0RlZihrZXkpKSB7IG1hcFtrZXldID0gaTsgfVxuXHQgIH1cblx0ICByZXR1cm4gbWFwXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVBhdGNoRnVuY3Rpb24gKGJhY2tlbmQpIHtcblx0ICB2YXIgaSwgajtcblx0ICB2YXIgY2JzID0ge307XG5cdFxuXHQgIHZhciBtb2R1bGVzID0gYmFja2VuZC5tb2R1bGVzO1xuXHQgIHZhciBub2RlT3BzID0gYmFja2VuZC5ub2RlT3BzO1xuXHRcblx0ICBmb3IgKGkgPSAwOyBpIDwgaG9va3MkMS5sZW5ndGg7ICsraSkge1xuXHQgICAgY2JzW2hvb2tzJDFbaV1dID0gW107XG5cdCAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikge1xuXHQgICAgICBpZiAobW9kdWxlc1tqXVtob29rcyQxW2ldXSAhPT0gdW5kZWZpbmVkKSB7IGNic1tob29rcyQxW2ldXS5wdXNoKG1vZHVsZXNbal1baG9va3MkMVtpXV0pOyB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBlbXB0eU5vZGVBdCAoZWxtKSB7XG5cdCAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGVPcHMudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCksIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVSbUNiIChjaGlsZEVsbSwgbGlzdGVuZXJzKSB7XG5cdCAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkge1xuXHQgICAgICBpZiAoLS1yZW1vdmUkJDEubGlzdGVuZXJzID09PSAwKSB7XG5cdCAgICAgICAgcmVtb3ZlRWxlbWVudChjaGlsZEVsbSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlbW92ZSQkMS5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG5cdCAgICByZXR1cm4gcmVtb3ZlJCQxXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZW1vdmVFbGVtZW50IChlbCkge1xuXHQgICAgdmFyIHBhcmVudCA9IG5vZGVPcHMucGFyZW50Tm9kZShlbCk7XG5cdCAgICAvLyBlbGVtZW50IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkIGR1ZSB0byB2LWh0bWxcblx0ICAgIGlmIChwYXJlbnQpIHtcblx0ICAgICAgbm9kZU9wcy5yZW1vdmVDaGlsZChwYXJlbnQsIGVsKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVsbSAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmVzdGVkKSB7XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICAgIHZub2RlLmlzUm9vdEluc2VydCA9ICFuZXN0ZWQ7XG5cdCAgICBpZiAoaXNEZWYoZGF0YSkpIHtcblx0ICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7IGkodm5vZGUpOyB9XG5cdCAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50XG5cdCAgICAgIC8vIGl0IHNob3VsZCd2ZSBjcmVhdGVkIGEgY2hpbGQgaW5zdGFuY2UgYW5kIG1vdW50ZWQgaXQuIHRoZSBjaGlsZFxuXHQgICAgICAvLyBjb21wb25lbnQgYWxzbyBoYXMgc2V0IHRoZSBwbGFjZWhvbGRlciB2bm9kZSdzIGVsbS5cblx0ICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS5cblx0ICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkpIHtcblx0ICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIHJldHVybiB2bm9kZS5lbG1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cdCAgICB2YXIgdGFnID0gdm5vZGUudGFnO1xuXHQgICAgaWYgKGlzRGVmKHRhZykpIHtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICBpZiAoXG5cdCAgICAgICAgICAhdm5vZGUubnMgJiZcblx0ICAgICAgICAgICEoY29uZmlnLmlnbm9yZWRFbGVtZW50cyAmJiBjb25maWcuaWdub3JlZEVsZW1lbnRzLmluZGV4T2YodGFnKSA+IC0xKSAmJlxuXHQgICAgICAgICAgY29uZmlnLmlzVW5rbm93bkVsZW1lbnQodGFnKVxuXHQgICAgICAgICkge1xuXHQgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgJ1Vua25vd24gY3VzdG9tIGVsZW1lbnQ6IDwnICsgdGFnICsgJz4gLSBkaWQgeW91ICcgK1xuXHQgICAgICAgICAgICAncmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBjb3JyZWN0bHk/IEZvciByZWN1cnNpdmUgY29tcG9uZW50cywgJyArXG5cdCAgICAgICAgICAgICdtYWtlIHN1cmUgdG8gcHJvdmlkZSB0aGUgXCJuYW1lXCIgb3B0aW9uLicsXG5cdCAgICAgICAgICAgIHZub2RlLmNvbnRleHRcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZub2RlLmVsbSA9IHZub2RlLm5zXG5cdCAgICAgICAgPyBub2RlT3BzLmNyZWF0ZUVsZW1lbnROUyh2bm9kZS5ucywgdGFnKVxuXHQgICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpO1xuXHQgICAgICBzZXRTY29wZSh2bm9kZSk7XG5cdCAgICAgIGNyZWF0ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG5cdCAgICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAodm5vZGUuaXNDb21tZW50KSB7XG5cdCAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlQ29tbWVudCh2bm9kZS50ZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm5vZGUuZWxtXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVDaGlsZHJlbiAodm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIGNyZWF0ZUVsbShjaGlsZHJlbltpXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoaXNQcmltaXRpdmUodm5vZGUudGV4dCkpIHtcblx0ICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCkpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7XG5cdCAgICB3aGlsZSAodm5vZGUuY2hpbGQpIHtcblx0ICAgICAgdm5vZGUgPSB2bm9kZS5jaGlsZC5fdm5vZGU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNEZWYodm5vZGUudGFnKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW52b2tlQ3JlYXRlSG9va3MgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcblx0ICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kkMSkge1xuXHQgICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCB2bm9kZSk7XG5cdCAgICB9XG5cdCAgICBpID0gdm5vZGUuZGF0YS5ob29rOyAvLyBSZXVzZSB2YXJpYWJsZVxuXHQgICAgaWYgKGlzRGVmKGkpKSB7XG5cdCAgICAgIGlmIChpLmNyZWF0ZSkgeyBpLmNyZWF0ZShlbXB0eU5vZGUsIHZub2RlKTsgfVxuXHQgICAgICBpZiAoaS5pbnNlcnQpIHsgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpOyB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbml0Q29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG5cdCAgICBpZiAodm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KSB7XG5cdCAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTtcblx0ICAgIH1cblx0ICAgIHZub2RlLmVsbSA9IHZub2RlLmNoaWxkLiRlbDtcblx0ICAgIGlmIChpc1BhdGNoYWJsZSh2bm9kZSkpIHtcblx0ICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgIHNldFNjb3BlKHZub2RlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIGVtcHR5IGNvbXBvbmVudCByb290LlxuXHQgICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpXG5cdCAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcblx0ICAgICAgLy8gbWFrZSBzdXJlIHRvIGludm9rZSB0aGUgaW5zZXJ0IGhvb2tcblx0ICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gc2V0IHNjb3BlIGlkIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIENTUy5cblx0ICAvLyB0aGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIHRvIGF2b2lkIHRoZSBvdmVyaGVhZFxuXHQgIC8vIG9mIGdvaW5nIHRocm91Z2ggdGhlIG5vcm1hbCBhdHRyaWJ1dGUgcGF0Y2hpbmcgcHJvY2Vzcy5cblx0ICBmdW5jdGlvbiBzZXRTY29wZSAodm5vZGUpIHtcblx0ICAgIHZhciBpO1xuXHQgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jb250ZXh0KSAmJiBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcblx0ICAgICAgbm9kZU9wcy5zZXRBdHRyaWJ1dGUodm5vZGUuZWxtLCBpLCAnJyk7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNEZWYoaSA9IGFjdGl2ZUluc3RhbmNlKSAmJlxuXHQgICAgICAgIGkgIT09IHZub2RlLmNvbnRleHQgJiZcblx0ICAgICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcblx0ICAgICAgbm9kZU9wcy5zZXRBdHRyaWJ1dGUodm5vZGUuZWxtLCBpLCAnJyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBhZGRWbm9kZXMgKHBhcmVudEVsbSwgYmVmb3JlLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuXHQgICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuXHQgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGNyZWF0ZUVsbSh2bm9kZXNbc3RhcnRJZHhdLCBpbnNlcnRlZFZub2RlUXVldWUpLCBiZWZvcmUpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sgKHZub2RlKSB7XG5cdCAgICB2YXIgaSwgajtcblx0ICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICAgIGlmIChpc0RlZihkYXRhKSkge1xuXHQgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH1cblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKSB7IGNicy5kZXN0cm95W2ldKHZub2RlKTsgfVxuXHQgICAgfVxuXHQgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHtcblx0ICAgICAgZm9yIChqID0gMDsgaiA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgKytqKSB7XG5cdCAgICAgICAgaW52b2tlRGVzdHJveUhvb2sodm5vZGUuY2hpbGRyZW5bal0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZW1vdmVWbm9kZXMgKHBhcmVudEVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSB7XG5cdCAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG5cdCAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG5cdCAgICAgIGlmIChpc0RlZihjaCkpIHtcblx0ICAgICAgICBpZiAoaXNEZWYoY2gudGFnKSkge1xuXHQgICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG5cdCAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XG5cdCAgICAgICAgfSBlbHNlIHsgLy8gVGV4dCBub2RlXG5cdCAgICAgICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudEVsbSwgY2guZWxtKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sgKHZub2RlLCBybSkge1xuXHQgICAgaWYgKHJtIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7XG5cdCAgICAgIHZhciBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG5cdCAgICAgIGlmICghcm0pIHtcblx0ICAgICAgICAvLyBkaXJlY3RseSByZW1vdmluZ1xuXHQgICAgICAgIHJtID0gY3JlYXRlUm1DYih2bm9kZS5lbG0sIGxpc3RlbmVycyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gd2UgaGF2ZSBhIHJlY3Vyc2l2ZWx5IHBhc3NlZCBkb3duIHJtIGNhbGxiYWNrXG5cdCAgICAgICAgLy8gaW5jcmVhc2UgdGhlIGxpc3RlbmVycyBjb3VudFxuXHQgICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcblx0ICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkgJiYgaXNEZWYoaSA9IGkuX3Zub2RlKSAmJiBpc0RlZihpLmRhdGEpKSB7XG5cdCAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhpLCBybSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5yZW1vdmUubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBjYnMucmVtb3ZlW2ldKHZub2RlLCBybSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5kYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnJlbW92ZSkpIHtcblx0ICAgICAgICBpKHZub2RlLCBybSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcm0oKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVtb3ZlRWxlbWVudCh2bm9kZS5lbG0pO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gdXBkYXRlQ2hpbGRyZW4gKHBhcmVudEVsbSwgb2xkQ2gsIG5ld0NoLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpIHtcblx0ICAgIHZhciBvbGRTdGFydElkeCA9IDA7XG5cdCAgICB2YXIgbmV3U3RhcnRJZHggPSAwO1xuXHQgICAgdmFyIG9sZEVuZElkeCA9IG9sZENoLmxlbmd0aCAtIDE7XG5cdCAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuXHQgICAgdmFyIG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcblx0ICAgIHZhciBuZXdFbmRJZHggPSBuZXdDaC5sZW5ndGggLSAxO1xuXHQgICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcblx0ICAgIHZhciBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG5cdCAgICB2YXIgb2xkS2V5VG9JZHgsIGlkeEluT2xkLCBlbG1Ub01vdmUsIGJlZm9yZTtcblx0XG5cdCAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cblx0ICAgIC8vIHRvIGVuc3VyZSByZW1vdmVkIGVsZW1lbnRzIHN0YXkgaW4gY29ycmVjdCByZWxhdGl2ZSBwb3NpdGlvbnNcblx0ICAgIC8vIGR1cmluZyBsZWF2aW5nIHRyYW5zaXRpb25zXG5cdCAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXHRcblx0ICAgIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG5cdCAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG5cdCAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBoYXMgYmVlbiBtb3ZlZCBsZWZ0XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZihvbGRFbmRWbm9kZSkpIHtcblx0ICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcblx0ICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcblx0ICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuXHQgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcblx0ICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xuXHQgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuXHQgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuXHQgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgcmlnaHRcblx0ICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRTdGFydFZub2RlLmVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhvbGRFbmRWbm9kZS5lbG0pKTtcblx0ICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG5cdCAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG5cdCAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCBsZWZ0XG5cdCAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkRW5kVm5vZGUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XG5cdCAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG5cdCAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfVxuXHQgICAgICAgIGlkeEluT2xkID0gaXNEZWYobmV3U3RhcnRWbm9kZS5rZXkpID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldIDogbnVsbDtcblx0ICAgICAgICBpZiAoaXNVbmRlZihpZHhJbk9sZCkpIHsgLy8gTmV3IGVsZW1lbnRcblx0ICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcblx0ICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZWxtVG9Nb3ZlID0gb2xkQ2hbaWR4SW5PbGRdO1xuXHQgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhZWxtVG9Nb3ZlKSB7XG5cdCAgICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICAgJ0l0IHNlZW1zIHRoZXJlIGFyZSBkdXBsaWNhdGUga2V5cyB0aGF0IGlzIGNhdXNpbmcgYW4gdXBkYXRlIGVycm9yLiAnICtcblx0ICAgICAgICAgICAgICAnTWFrZSBzdXJlIGVhY2ggdi1mb3IgaXRlbSBoYXMgYSB1bmlxdWUga2V5Lidcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChlbG1Ub01vdmUudGFnICE9PSBuZXdTdGFydFZub2RlLnRhZykge1xuXHQgICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XG5cdCAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcblx0ICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG5ld1N0YXJ0Vm5vZGUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XG5cdCAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkge1xuXHQgICAgICBiZWZvcmUgPSBpc1VuZGVmKG5ld0NoW25ld0VuZElkeCArIDFdKSA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG5cdCAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIGJlZm9yZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XG5cdCAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnRFbG0sIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHBhdGNoVm5vZGUgKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7XG5cdCAgICBpZiAob2xkVm5vZGUgPT09IHZub2RlKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgLy8gcmV1c2UgZWxlbWVudCBmb3Igc3RhdGljIHRyZWVzLlxuXHQgICAgLy8gbm90ZSB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIHZub2RlIGlzIGNsb25lZCAtXG5cdCAgICAvLyBpZiB0aGUgbmV3IG5vZGUgaXMgbm90IGNsb25lZCBpdCBtZWFucyB0aGUgcmVuZGVyIGZ1bmN0aW9ucyBoYXZlIGJlZW5cblx0ICAgIC8vIHJlc2V0IGJ5IHRoZSBob3QtcmVsb2FkLWFwaSBhbmQgd2UgbmVlZCB0byBkbyBhIHByb3BlciByZS1yZW5kZXIuXG5cdCAgICBpZiAodm5vZGUuaXNTdGF0aWMgJiZcblx0ICAgICAgICBvbGRWbm9kZS5pc1N0YXRpYyAmJlxuXHQgICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmXG5cdCAgICAgICAgKHZub2RlLmlzQ2xvbmVkIHx8IHZub2RlLmlzT25jZSkpIHtcblx0ICAgICAgdm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtO1xuXHQgICAgICB2bm9kZS5jaGlsZCA9IG9sZFZub2RlLmNoaWxkO1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgICAgdmFyIGhhc0RhdGEgPSBpc0RlZihkYXRhKTtcblx0ICAgIGlmIChoYXNEYXRhICYmIGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnByZXBhdGNoKSkge1xuXHQgICAgICBpKG9sZFZub2RlLCB2bm9kZSk7XG5cdCAgICB9XG5cdCAgICB2YXIgZWxtID0gdm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtO1xuXHQgICAgdmFyIG9sZENoID0gb2xkVm5vZGUuY2hpbGRyZW47XG5cdCAgICB2YXIgY2ggPSB2bm9kZS5jaGlsZHJlbjtcblx0ICAgIGlmIChoYXNEYXRhICYmIGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSkgeyBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7IH1cblx0ICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnVwZGF0ZSkpIHsgaShvbGRWbm9kZSwgdm5vZGUpOyB9XG5cdCAgICB9XG5cdCAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuXHQgICAgICBpZiAoaXNEZWYob2xkQ2gpICYmIGlzRGVmKGNoKSkge1xuXHQgICAgICAgIGlmIChvbGRDaCAhPT0gY2gpIHsgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7IH1cblx0ICAgICAgfSBlbHNlIGlmIChpc0RlZihjaCkpIHtcblx0ICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHsgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTsgfVxuXHQgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xuXHQgICAgICAgIHJlbW92ZVZub2RlcyhlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcblx0ICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkge1xuXHQgICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAob2xkVm5vZGUudGV4dCAhPT0gdm5vZGUudGV4dCkge1xuXHQgICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgdm5vZGUudGV4dCk7XG5cdCAgICB9XG5cdCAgICBpZiAoaGFzRGF0YSkge1xuXHQgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGludm9rZUluc2VydEhvb2sgKHZub2RlLCBxdWV1ZSwgaW5pdGlhbCkge1xuXHQgICAgLy8gZGVsYXkgaW5zZXJ0IGhvb2tzIGZvciBjb21wb25lbnQgcm9vdCBub2RlcywgaW52b2tlIHRoZW0gYWZ0ZXIgdGhlXG5cdCAgICAvLyBlbGVtZW50IGlzIHJlYWxseSBpbnNlcnRlZFxuXHQgICAgaWYgKGluaXRpYWwgJiYgdm5vZGUucGFyZW50KSB7XG5cdCAgICAgIHZub2RlLnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQgPSBxdWV1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBxdWV1ZVtpXS5kYXRhLmhvb2suaW5zZXJ0KHF1ZXVlW2ldKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGJhaWxlZCA9IGZhbHNlO1xuXHQgIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgaWYgKCFhc3NlcnROb2RlTWF0Y2goZWxtLCB2bm9kZSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdm5vZGUuZWxtID0gZWxtO1xuXHQgICAgdmFyIHRhZyA9IHZub2RlLnRhZztcblx0ICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXHQgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG5cdCAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlLCB0cnVlIC8qIGh5ZHJhdGluZyAqLyk7IH1cblx0ICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkpIHtcblx0ICAgICAgICAvLyBjaGlsZCBjb21wb25lbnQuIGl0IHNob3VsZCBoYXZlIGh5ZHJhdGVkIGl0cyBvd24gdHJlZS5cblx0ICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIHJldHVybiB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChpc0RlZih0YWcpKSB7XG5cdCAgICAgIGlmIChpc0RlZihjaGlsZHJlbikpIHtcblx0ICAgICAgICB2YXIgY2hpbGROb2RlcyA9IG5vZGVPcHMuY2hpbGROb2RlcyhlbG0pO1xuXHQgICAgICAgIC8vIGVtcHR5IGVsZW1lbnQsIGFsbG93IGNsaWVudCB0byBwaWNrIHVwIGFuZCBwb3B1bGF0ZSBjaGlsZHJlblxuXHQgICAgICAgIGlmICghY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0ICAgICAgICAgIGNyZWF0ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGNoaWxkcmVuTWF0Y2ggPSB0cnVlO1xuXHQgICAgICAgICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoICE9PSBjaGlsZHJlbi5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgY2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2hpbGRyZW4ubGVuZ3RoOyBpJDErKykge1xuXHQgICAgICAgICAgICAgIGlmICghaHlkcmF0ZShjaGlsZE5vZGVzW2kkMV0sIGNoaWxkcmVuW2kkMV0sIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoIWNoaWxkcmVuTWF0Y2gpIHtcblx0ICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgICAgICAgICAgICAgIWJhaWxlZCkge1xuXHQgICAgICAgICAgICAgIGJhaWxlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQYXJlbnQ6ICcsIGVsbSk7XG5cdCAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNtYXRjaGluZyBjaGlsZE5vZGVzIHZzLiBWTm9kZXM6ICcsIGNoaWxkTm9kZXMsIGNoaWxkcmVuKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG5cdCAgICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBhc3NlcnROb2RlTWF0Y2ggKG5vZGUsIHZub2RlKSB7XG5cdCAgICBpZiAodm5vZGUudGFnKSB7XG5cdCAgICAgIHJldHVybiAoXG5cdCAgICAgICAgdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fFxuXHQgICAgICAgIHZub2RlLnRhZy50b0xvd2VyQ2FzZSgpID09PSBub2RlT3BzLnRhZ05hbWUobm9kZSkudG9Mb3dlckNhc2UoKVxuXHQgICAgICApXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gX3RvU3RyaW5nKHZub2RlLnRleHQpID09PSBub2RlLmRhdGFcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBwYXRjaCAob2xkVm5vZGUsIHZub2RlLCBoeWRyYXRpbmcsIHJlbW92ZU9ubHkpIHtcblx0ICAgIGlmICghdm5vZGUpIHtcblx0ICAgICAgaWYgKG9sZFZub2RlKSB7IGludm9rZURlc3Ryb3lIb29rKG9sZFZub2RlKTsgfVxuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZWxtLCBwYXJlbnQ7XG5cdCAgICB2YXIgaXNJbml0aWFsUGF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcblx0XG5cdCAgICBpZiAoIW9sZFZub2RlKSB7XG5cdCAgICAgIC8vIGVtcHR5IG1vdW50LCBjcmVhdGUgbmV3IHJvb3QgZWxlbWVudFxuXHQgICAgICBpc0luaXRpYWxQYXRjaCA9IHRydWU7XG5cdCAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBpc1JlYWxFbGVtZW50ID0gaXNEZWYob2xkVm5vZGUubm9kZVR5cGUpO1xuXHQgICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcblx0ICAgICAgICBwYXRjaFZub2RlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xuXHQgICAgICAgICAgLy8gbW91bnRpbmcgdG8gYSByZWFsIGVsZW1lbnRcblx0ICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGlmIHdlIGNhbiBwZXJmb3JtXG5cdCAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxuXHQgICAgICAgICAgaWYgKG9sZFZub2RlLm5vZGVUeXBlID09PSAxICYmIG9sZFZub2RlLmhhc0F0dHJpYnV0ZSgnc2VydmVyLXJlbmRlcmVkJykpIHtcblx0ICAgICAgICAgICAgb2xkVm5vZGUucmVtb3ZlQXR0cmlidXRlKCdzZXJ2ZXItcmVuZGVyZWQnKTtcblx0ICAgICAgICAgICAgaHlkcmF0aW5nID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChoeWRyYXRpbmcpIHtcblx0ICAgICAgICAgICAgaWYgKGh5ZHJhdGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKSB7XG5cdCAgICAgICAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKTtcblx0ICAgICAgICAgICAgICByZXR1cm4gb2xkVm5vZGVcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgICAgICdUaGUgY2xpZW50LXNpZGUgcmVuZGVyZWQgdmlydHVhbCBET00gdHJlZSBpcyBub3QgbWF0Y2hpbmcgJyArXG5cdCAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArXG5cdCAgICAgICAgICAgICAgICAnSFRNTCBtYXJrdXAsIGZvciBleGFtcGxlIG5lc3RpbmcgYmxvY2stbGV2ZWwgZWxlbWVudHMgaW5zaWRlICcgK1xuXHQgICAgICAgICAgICAgICAgJzxwPiwgb3IgbWlzc2luZyA8dGJvZHk+LiBCYWlsaW5nIGh5ZHJhdGlvbiBhbmQgcGVyZm9ybWluZyAnICtcblx0ICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nXG5cdCAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gZWl0aGVyIG5vdCBzZXJ2ZXItcmVuZGVyZWQsIG9yIGh5ZHJhdGlvbiBmYWlsZWQuXG5cdCAgICAgICAgICAvLyBjcmVhdGUgYW4gZW1wdHkgbm9kZSBhbmQgcmVwbGFjZSBpdFxuXHQgICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsbSA9IG9sZFZub2RlLmVsbTtcblx0ICAgICAgICBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWxtKTtcblx0XG5cdCAgICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHRcblx0ICAgICAgICAvLyBjb21wb25lbnQgcm9vdCBlbGVtZW50IHJlcGxhY2VkLlxuXHQgICAgICAgIC8vIHVwZGF0ZSBwYXJlbnQgcGxhY2Vob2xkZXIgbm9kZSBlbGVtZW50LCByZWN1cnNpdmVseVxuXHQgICAgICAgIGlmICh2bm9kZS5wYXJlbnQpIHtcblx0ICAgICAgICAgIHZhciBhbmNlc3RvciA9IHZub2RlLnBhcmVudDtcblx0ICAgICAgICAgIHdoaWxlIChhbmNlc3Rvcikge1xuXHQgICAgICAgICAgICBhbmNlc3Rvci5lbG0gPSB2bm9kZS5lbG07XG5cdCAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgICBjYnMuY3JlYXRlW2ldKGVtcHR5Tm9kZSwgdm5vZGUucGFyZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50LCB2bm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcoZWxtKSk7XG5cdCAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50LCBbb2xkVm5vZGVdLCAwLCAwKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRhZykpIHtcblx0ICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKG9sZFZub2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIGlzSW5pdGlhbFBhdGNoKTtcblx0ICAgIHJldHVybiB2bm9kZS5lbG1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGRpcmVjdGl2ZXMgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuXHQgIHVwZGF0ZTogdXBkYXRlRGlyZWN0aXZlcyxcblx0ICBkZXN0cm95OiBmdW5jdGlvbiB1bmJpbmREaXJlY3RpdmVzICh2bm9kZSkge1xuXHQgICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVEaXJlY3RpdmVzIChcblx0ICBvbGRWbm9kZSxcblx0ICB2bm9kZVxuXHQpIHtcblx0ICBpZiAoIW9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcyAmJiAhdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIGlzQ3JlYXRlID0gb2xkVm5vZGUgPT09IGVtcHR5Tm9kZTtcblx0ICB2YXIgb2xkRGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMsIG9sZFZub2RlLmNvbnRleHQpO1xuXHQgIHZhciBuZXdEaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyQxKHZub2RlLmRhdGEuZGlyZWN0aXZlcywgdm5vZGUuY29udGV4dCk7XG5cdFxuXHQgIHZhciBkaXJzV2l0aEluc2VydCA9IFtdO1xuXHQgIHZhciBkaXJzV2l0aFBvc3RwYXRjaCA9IFtdO1xuXHRcblx0ICB2YXIga2V5LCBvbGREaXIsIGRpcjtcblx0ICBmb3IgKGtleSBpbiBuZXdEaXJzKSB7XG5cdCAgICBvbGREaXIgPSBvbGREaXJzW2tleV07XG5cdCAgICBkaXIgPSBuZXdEaXJzW2tleV07XG5cdCAgICBpZiAoIW9sZERpcikge1xuXHQgICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXG5cdCAgICAgIGNhbGxIb29rJDEoZGlyLCAnYmluZCcsIHZub2RlLCBvbGRWbm9kZSk7XG5cdCAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuaW5zZXJ0ZWQpIHtcblx0ICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXG5cdCAgICAgIGRpci5vbGRWYWx1ZSA9IG9sZERpci52YWx1ZTtcblx0ICAgICAgY2FsbEhvb2skMShkaXIsICd1cGRhdGUnLCB2bm9kZSwgb2xkVm5vZGUpO1xuXHQgICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmNvbXBvbmVudFVwZGF0ZWQpIHtcblx0ICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmIChkaXJzV2l0aEluc2VydC5sZW5ndGgpIHtcblx0ICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBkaXJzV2l0aEluc2VydC5mb3JFYWNoKGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2luc2VydGVkJywgdm5vZGUsIG9sZFZub2RlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgaWYgKGlzQ3JlYXRlKSB7XG5cdCAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAnaW5zZXJ0JywgY2FsbEluc2VydCwgJ2Rpci1pbnNlcnQnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNhbGxJbnNlcnQoKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmIChkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGgpIHtcblx0ICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2NvbXBvbmVudFVwZGF0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0sICdkaXItcG9zdHBhdGNoJyk7XG5cdCAgfVxuXHRcblx0ICBpZiAoIWlzQ3JlYXRlKSB7XG5cdCAgICBmb3IgKGtleSBpbiBvbGREaXJzKSB7XG5cdCAgICAgIGlmICghbmV3RGlyc1trZXldKSB7XG5cdCAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxuXHQgICAgICAgIGNhbGxIb29rJDEob2xkRGlyc1trZXldLCAndW5iaW5kJywgb2xkVm5vZGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyQxIChcblx0ICBkaXJzLFxuXHQgIHZtXG5cdCkge1xuXHQgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIGlmICghZGlycykge1xuXHQgICAgcmV0dXJuIHJlc1xuXHQgIH1cblx0ICB2YXIgaSwgZGlyO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBkaXIgPSBkaXJzW2ldO1xuXHQgICAgaWYgKCFkaXIubW9kaWZpZXJzKSB7XG5cdCAgICAgIGRpci5tb2RpZmllcnMgPSBlbXB0eU1vZGlmaWVycztcblx0ICAgIH1cblx0ICAgIHJlc1tnZXRSYXdEaXJOYW1lKGRpcildID0gZGlyO1xuXHQgICAgZGlyLmRlZiA9IHJlc29sdmVBc3NldCh2bS4kb3B0aW9ucywgJ2RpcmVjdGl2ZXMnLCBkaXIubmFtZSwgdHJ1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UmF3RGlyTmFtZSAoZGlyKSB7XG5cdCAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgXCIuXCIgKyAoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsbEhvb2skMSAoZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUpIHtcblx0ICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG5cdCAgaWYgKGZuKSB7XG5cdCAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlKTtcblx0ICB9XG5cdH1cblx0XG5cdHZhciBiYXNlTW9kdWxlcyA9IFtcblx0ICByZWYsXG5cdCAgZGlyZWN0aXZlc1xuXHRdO1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVBdHRycyAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgaWYgKCFvbGRWbm9kZS5kYXRhLmF0dHJzICYmICF2bm9kZS5kYXRhLmF0dHJzKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIGtleSwgY3VyLCBvbGQ7XG5cdCAgdmFyIGVsbSA9IHZub2RlLmVsbTtcblx0ICB2YXIgb2xkQXR0cnMgPSBvbGRWbm9kZS5kYXRhLmF0dHJzIHx8IHt9O1xuXHQgIHZhciBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgfHwge307XG5cdCAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG5cdCAgaWYgKGF0dHJzLl9fb2JfXykge1xuXHQgICAgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzID0gZXh0ZW5kKHt9LCBhdHRycyk7XG5cdCAgfVxuXHRcblx0ICBmb3IgKGtleSBpbiBhdHRycykge1xuXHQgICAgY3VyID0gYXR0cnNba2V5XTtcblx0ICAgIG9sZCA9IG9sZEF0dHJzW2tleV07XG5cdCAgICBpZiAob2xkICE9PSBjdXIpIHtcblx0ICAgICAgc2V0QXR0cihlbG0sIGtleSwgY3VyKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZm9yIChrZXkgaW4gb2xkQXR0cnMpIHtcblx0ICAgIGlmIChhdHRyc1trZXldID09IG51bGwpIHtcblx0ICAgICAgaWYgKGlzWGxpbmsoa2V5KSkge1xuXHQgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuXHQgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0QXR0ciAoZWwsIGtleSwgdmFsdWUpIHtcblx0ICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG5cdCAgICAvLyBzZXQgYXR0cmlidXRlIGZvciBibGFuayB2YWx1ZVxuXHQgICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cblx0ICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuXHQgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGtleSk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcblx0ICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnID8gJ2ZhbHNlJyA6ICd0cnVlJyk7XG5cdCAgfSBlbHNlIGlmIChpc1hsaW5rKGtleSkpIHtcblx0ICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuXHQgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG5cdCAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIGF0dHJzID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlQXR0cnMsXG5cdCAgdXBkYXRlOiB1cGRhdGVBdHRyc1xuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVDbGFzcyAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXHQgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XG5cdCAgaWYgKCFkYXRhLnN0YXRpY0NsYXNzICYmICFkYXRhLmNsYXNzICYmXG5cdCAgICAgICghb2xkRGF0YSB8fCAoIW9sZERhdGEuc3RhdGljQ2xhc3MgJiYgIW9sZERhdGEuY2xhc3MpKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgY2xzID0gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSk7XG5cdFxuXHQgIC8vIGhhbmRsZSB0cmFuc2l0aW9uIGNsYXNzZXNcblx0ICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzO1xuXHQgIGlmICh0cmFuc2l0aW9uQ2xhc3MpIHtcblx0ICAgIGNscyA9IGNvbmNhdChjbHMsIHN0cmluZ2lmeUNsYXNzKHRyYW5zaXRpb25DbGFzcykpO1xuXHQgIH1cblx0XG5cdCAgLy8gc2V0IHRoZSBjbGFzc1xuXHQgIGlmIChjbHMgIT09IGVsLl9wcmV2Q2xhc3MpIHtcblx0ICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbHMpO1xuXHQgICAgZWwuX3ByZXZDbGFzcyA9IGNscztcblx0ICB9XG5cdH1cblx0XG5cdHZhciBrbGFzcyA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZUNsYXNzLFxuXHQgIHVwZGF0ZTogdXBkYXRlQ2xhc3Ncblx0fTtcblx0XG5cdC8vIHNraXAgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSB3ZSBuZWVkIHRvIGF0dGFjaCBwcml2YXRlIHByb3BlcnRpZXNcblx0Ly8gdG8gZWxlbWVudHNcblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZURPTUxpc3RlbmVycyAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgaWYgKCFvbGRWbm9kZS5kYXRhLm9uICYmICF2bm9kZS5kYXRhLm9uKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIG9uID0gdm5vZGUuZGF0YS5vbiB8fCB7fTtcblx0ICB2YXIgb2xkT24gPSBvbGRWbm9kZS5kYXRhLm9uIHx8IHt9O1xuXHQgIHZhciBhZGQgPSB2bm9kZS5lbG0uX3ZfYWRkIHx8ICh2bm9kZS5lbG0uX3ZfYWRkID0gZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVyLCBjYXB0dXJlKSB7XG5cdCAgICB2bm9kZS5lbG0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgY2FwdHVyZSk7XG5cdCAgfSk7XG5cdCAgdmFyIHJlbW92ZSA9IHZub2RlLmVsbS5fdl9yZW1vdmUgfHwgKHZub2RlLmVsbS5fdl9yZW1vdmUgPSBmdW5jdGlvbiAoZXZlbnQsIGhhbmRsZXIpIHtcblx0ICAgIHZub2RlLmVsbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcblx0ICB9KTtcblx0ICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQsIHJlbW92ZSwgdm5vZGUuY29udGV4dCk7XG5cdH1cblx0XG5cdHZhciBldmVudHMgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMsXG5cdCAgdXBkYXRlOiB1cGRhdGVET01MaXN0ZW5lcnNcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgIGlmICghb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyAmJiAhdm5vZGUuZGF0YS5kb21Qcm9wcykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBrZXksIGN1cjtcblx0ICB2YXIgZWxtID0gdm5vZGUuZWxtO1xuXHQgIHZhciBvbGRQcm9wcyA9IG9sZFZub2RlLmRhdGEuZG9tUHJvcHMgfHwge307XG5cdCAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcblx0ICAvLyBjbG9uZSBvYnNlcnZlZCBvYmplY3RzLCBhcyB0aGUgdXNlciBwcm9iYWJseSB3YW50cyB0byBtdXRhdGUgaXRcblx0ICBpZiAocHJvcHMuX19vYl9fKSB7XG5cdCAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcblx0ICB9XG5cdFxuXHQgIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG5cdCAgICBpZiAocHJvcHNba2V5XSA9PSBudWxsKSB7XG5cdCAgICAgIGVsbVtrZXldID0gJyc7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGZvciAoa2V5IGluIHByb3BzKSB7XG5cdCAgICBjdXIgPSBwcm9wc1trZXldO1xuXHQgICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXG5cdCAgICAvLyBhcyB0aGVzZSB3aWxsIHRocm93IGF3YXkgZXhpc3RpbmcgRE9NIG5vZGVzIGFuZCBjYXVzZSByZW1vdmFsIGVycm9yc1xuXHQgICAgLy8gb24gc3Vic2VxdWVudCBwYXRjaGVzICgjMzM2MClcblx0ICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xuXHQgICAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHsgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoID0gMDsgfVxuXHQgICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKSB7IGNvbnRpbnVlIH1cblx0ICAgIH1cblx0ICAgIGlmIChrZXkgPT09ICd2YWx1ZScpIHtcblx0ICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2Vcblx0ICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZFxuXHQgICAgICBlbG0uX3ZhbHVlID0gY3VyO1xuXHQgICAgICAvLyBhdm9pZCByZXNldHRpbmcgY3Vyc29yIHBvc2l0aW9uIHdoZW4gdmFsdWUgaXMgdGhlIHNhbWVcblx0ICAgICAgdmFyIHN0ckN1ciA9IGN1ciA9PSBudWxsID8gJycgOiBTdHJpbmcoY3VyKTtcblx0ICAgICAgaWYgKGVsbS52YWx1ZSAhPT0gc3RyQ3VyICYmICFlbG0uY29tcG9zaW5nKSB7XG5cdCAgICAgICAgZWxtLnZhbHVlID0gc3RyQ3VyO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbG1ba2V5XSA9IGN1cjtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciBkb21Qcm9wcyA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZURPTVByb3BzLFxuXHQgIHVwZGF0ZTogdXBkYXRlRE9NUHJvcHNcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIHBhcnNlU3R5bGVUZXh0ID0gY2FjaGVkKGZ1bmN0aW9uIChjc3NUZXh0KSB7XG5cdCAgdmFyIHJlcyA9IHt9O1xuXHQgIHZhciBoYXNCYWNrZ3JvdW5kID0gY3NzVGV4dC5pbmRleE9mKCdiYWNrZ3JvdW5kJykgPj0gMDtcblx0ICAvLyBtYXliZSB3aXRoIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwOi8veHh4KSBvciBiYXNlNjQgaW1nXG5cdCAgdmFyIGxpc3REZWxpbWl0ZXIgPSBoYXNCYWNrZ3JvdW5kID8gLzsoPyFbXihdKlxcKSkvZyA6ICc7Jztcblx0ICB2YXIgcHJvcGVydHlEZWxpbWl0ZXIgPSBoYXNCYWNrZ3JvdW5kID8gLzooLispLyA6ICc6Jztcblx0ICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIGlmIChpdGVtKSB7XG5cdCAgICAgIHZhciB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyKTtcblx0ICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJlc1t0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiByZXNcblx0fSk7XG5cdFxuXHQvLyBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgc3R5bGUgZGF0YSBvbiB0aGUgc2FtZSB2bm9kZVxuXHRmdW5jdGlvbiBub3JtYWxpemVTdHlsZURhdGEgKGRhdGEpIHtcblx0ICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcoZGF0YS5zdHlsZSk7XG5cdCAgLy8gc3RhdGljIHN0eWxlIGlzIHByZS1wcm9jZXNzZWQgaW50byBhbiBvYmplY3QgZHVyaW5nIGNvbXBpbGF0aW9uXG5cdCAgLy8gYW5kIGlzIGFsd2F5cyBhIGZyZXNoIG9iamVjdCwgc28gaXQncyBzYWZlIHRvIG1lcmdlIGludG8gaXRcblx0ICByZXR1cm4gZGF0YS5zdGF0aWNTdHlsZVxuXHQgICAgPyBleHRlbmQoZGF0YS5zdGF0aWNTdHlsZSwgc3R5bGUpXG5cdCAgICA6IHN0eWxlXG5cdH1cblx0XG5cdC8vIG5vcm1hbGl6ZSBwb3NzaWJsZSBhcnJheSAvIHN0cmluZyB2YWx1ZXMgaW50byBPYmplY3Rcblx0ZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShiaW5kaW5nU3R5bGUpKSB7XG5cdCAgICByZXR1cm4gdG9PYmplY3QoYmluZGluZ1N0eWxlKVxuXHQgIH1cblx0ICBpZiAodHlwZW9mIGJpbmRpbmdTdHlsZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBwYXJzZVN0eWxlVGV4dChiaW5kaW5nU3R5bGUpXG5cdCAgfVxuXHQgIHJldHVybiBiaW5kaW5nU3R5bGVcblx0fVxuXHRcblx0LyoqXG5cdCAqIHBhcmVudCBjb21wb25lbnQgc3R5bGUgc2hvdWxkIGJlIGFmdGVyIGNoaWxkJ3Ncblx0ICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcblx0ICovXG5cdGZ1bmN0aW9uIGdldFN0eWxlICh2bm9kZSwgY2hlY2tDaGlsZCkge1xuXHQgIHZhciByZXMgPSB7fTtcblx0ICB2YXIgc3R5bGVEYXRhO1xuXHRcblx0ICBpZiAoY2hlY2tDaGlsZCkge1xuXHQgICAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuXHQgICAgd2hpbGUgKGNoaWxkTm9kZS5jaGlsZCkge1xuXHQgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY2hpbGQuX3Zub2RlO1xuXHQgICAgICBpZiAoY2hpbGROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpKSB7XG5cdCAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7XG5cdCAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuXHQgIH1cblx0XG5cdCAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcblx0ICB3aGlsZSAoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcblx0ICAgIGlmIChwYXJlbnROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShwYXJlbnROb2RlLmRhdGEpKSkge1xuXHQgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGNzc1ZhclJFID0gL14tLS87XG5cdHZhciBzZXRQcm9wID0gZnVuY3Rpb24gKGVsLCBuYW1lLCB2YWwpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoY3NzVmFyUkUudGVzdChuYW1lKSkge1xuXHQgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZWwuc3R5bGVbbm9ybWFsaXplKG5hbWUpXSA9IHZhbDtcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcblx0XG5cdHZhciB0ZXN0RWw7XG5cdHZhciBub3JtYWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHByb3ApIHtcblx0ICB0ZXN0RWwgPSB0ZXN0RWwgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgcHJvcCA9IGNhbWVsaXplKHByb3ApO1xuXHQgIGlmIChwcm9wICE9PSAnZmlsdGVyJyAmJiAocHJvcCBpbiB0ZXN0RWwuc3R5bGUpKSB7XG5cdCAgICByZXR1cm4gcHJvcFxuXHQgIH1cblx0ICB2YXIgdXBwZXIgPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIHVwcGVyO1xuXHQgICAgaWYgKHByZWZpeGVkIGluIHRlc3RFbC5zdHlsZSkge1xuXHQgICAgICByZXR1cm4gcHJlZml4ZWRcblx0ICAgIH1cblx0ICB9XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XG5cdFxuXHQgIGlmICghZGF0YS5zdGF0aWNTdHlsZSAmJiAhZGF0YS5zdHlsZSAmJlxuXHQgICAgICAhb2xkRGF0YS5zdGF0aWNTdHlsZSAmJiAhb2xkRGF0YS5zdHlsZSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgY3VyLCBuYW1lO1xuXHQgIHZhciBlbCA9IHZub2RlLmVsbTtcblx0ICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGRWbm9kZS5kYXRhLnN0YXRpY1N0eWxlO1xuXHQgIHZhciBvbGRTdHlsZUJpbmRpbmcgPSBvbGRWbm9kZS5kYXRhLnN0eWxlIHx8IHt9O1xuXHRcblx0ICAvLyBpZiBzdGF0aWMgc3R5bGUgZXhpc3RzLCBzdHlsZWJpbmRpbmcgYWxyZWFkeSBtZXJnZWQgaW50byBpdCB3aGVuIGRvaW5nIG5vcm1hbGl6ZVN0eWxlRGF0YVxuXHQgIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZztcblx0XG5cdCAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKHZub2RlLmRhdGEuc3R5bGUpIHx8IHt9O1xuXHRcblx0ICB2bm9kZS5kYXRhLnN0eWxlID0gc3R5bGUuX19vYl9fID8gZXh0ZW5kKHt9LCBzdHlsZSkgOiBzdHlsZTtcblx0XG5cdCAgdmFyIG5ld1N0eWxlID0gZ2V0U3R5bGUodm5vZGUsIHRydWUpO1xuXHRcblx0ICBmb3IgKG5hbWUgaW4gb2xkU3R5bGUpIHtcblx0ICAgIGlmIChuZXdTdHlsZVtuYW1lXSA9PSBudWxsKSB7XG5cdCAgICAgIHNldFByb3AoZWwsIG5hbWUsICcnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7XG5cdCAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcblx0ICAgIGlmIChjdXIgIT09IG9sZFN0eWxlW25hbWVdKSB7XG5cdCAgICAgIC8vIGllOSBzZXR0aW5nIHRvIG51bGwgaGFzIG5vIGVmZmVjdCwgbXVzdCB1c2UgZW1wdHkgc3RyaW5nXG5cdCAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIHN0eWxlID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG5cdCAgdXBkYXRlOiB1cGRhdGVTdHlsZVxuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHQvKipcblx0ICogQWRkIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uXG5cdCAqIFNWRyBlbGVtZW50cyBpbiBJRVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRkQ2xhc3MgKGVsLCBjbHMpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoIWNscyB8fCAhY2xzLnRyaW0oKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgIGlmIChlbC5jbGFzc0xpc3QpIHtcblx0ICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcblx0ICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBjdXIgPSAnICcgKyBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnICc7XG5cdCAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIChjdXIgKyBjbHMpLnRyaW0oKSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uXG5cdCAqIFNWRyBlbGVtZW50cyBpbiBJRVxuXHQgKi9cblx0ZnVuY3Rpb24gcmVtb3ZlQ2xhc3MgKGVsLCBjbHMpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoIWNscyB8fCAhY2xzLnRyaW0oKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgIGlmIChlbC5jbGFzc0xpc3QpIHtcblx0ICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcblx0ICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBjdXIgPSAnICcgKyBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnICc7XG5cdCAgICB2YXIgdGFyID0gJyAnICsgY2xzICsgJyAnO1xuXHQgICAgd2hpbGUgKGN1ci5pbmRleE9mKHRhcikgPj0gMCkge1xuXHQgICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7XG5cdCAgICB9XG5cdCAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY3VyLnRyaW0oKSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBoYXNUcmFuc2l0aW9uID0gaW5Ccm93c2VyICYmICFpc0lFOTtcblx0dmFyIFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XG5cdHZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcblx0XG5cdC8vIFRyYW5zaXRpb24gcHJvcGVydHkvZXZlbnQgc25pZmZpbmdcblx0dmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xuXHR2YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3RyYW5zaXRpb25lbmQnO1xuXHR2YXIgYW5pbWF0aW9uUHJvcCA9ICdhbmltYXRpb24nO1xuXHR2YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcblx0aWYgKGhhc1RyYW5zaXRpb24pIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG5cdCAgICB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcblx0ICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nO1xuXHQgICAgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdFRyYW5zaXRpb25FbmQnO1xuXHQgIH1cblx0ICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcblx0ICAgIHdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG5cdCAgICBhbmltYXRpb25FbmRFdmVudCA9ICd3ZWJraXRBbmltYXRpb25FbmQnO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIHJhZiA9IChpbkJyb3dzZXIgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgfHwgc2V0VGltZW91dDtcblx0ZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuXHQgIHJhZihmdW5jdGlvbiAoKSB7XG5cdCAgICByYWYoZm4pO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcblx0ICAoZWwuX3RyYW5zaXRpb25DbGFzc2VzIHx8IChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgPSBbXSkpLnB1c2goY2xzKTtcblx0ICBhZGRDbGFzcyhlbCwgY2xzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzIChlbCwgY2xzKSB7XG5cdCAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3Nlcykge1xuXHQgICAgcmVtb3ZlJDEoZWwuX3RyYW5zaXRpb25DbGFzc2VzLCBjbHMpO1xuXHQgIH1cblx0ICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcblx0ICBlbCxcblx0ICBleHBlY3RlZFR5cGUsXG5cdCAgY2Jcblx0KSB7XG5cdCAgdmFyIHJlZiA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuXHQgIHZhciB0eXBlID0gcmVmLnR5cGU7XG5cdCAgdmFyIHRpbWVvdXQgPSByZWYudGltZW91dDtcblx0ICB2YXIgcHJvcENvdW50ID0gcmVmLnByb3BDb3VudDtcblx0ICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuXHQgIHZhciBldmVudCA9IHR5cGUgPT09IFRSQU5TSVRJT04gPyB0cmFuc2l0aW9uRW5kRXZlbnQgOiBhbmltYXRpb25FbmRFdmVudDtcblx0ICB2YXIgZW5kZWQgPSAwO1xuXHQgIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkVuZCk7XG5cdCAgICBjYigpO1xuXHQgIH07XG5cdCAgdmFyIG9uRW5kID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgIGlmIChlLnRhcmdldCA9PT0gZWwpIHtcblx0ICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG5cdCAgICAgICAgZW5kKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHQgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG5cdCAgICAgIGVuZCgpO1xuXHQgICAgfVxuXHQgIH0sIHRpbWVvdXQgKyAxKTtcblx0ICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvbkVuZCk7XG5cdH1cblx0XG5cdHZhciB0cmFuc2Zvcm1SRSA9IC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS87XG5cdFxuXHRmdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuXHQgIHZhciBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG5cdCAgdmFyIHRyYW5zaXRpb25lRGVsYXlzID0gc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0RlbGF5J10uc3BsaXQoJywgJyk7XG5cdCAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcblx0ICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25lRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcblx0ICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRGVsYXknXS5zcGxpdCgnLCAnKTtcblx0ICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcblx0ICB2YXIgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuXHRcblx0ICB2YXIgdHlwZTtcblx0ICB2YXIgdGltZW91dCA9IDA7XG5cdCAgdmFyIHByb3BDb3VudCA9IDA7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuXHQgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuXHQgICAgICB0eXBlID0gVFJBTlNJVElPTjtcblx0ICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuXHQgICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG5cdCAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcblx0ICAgICAgdHlwZSA9IEFOSU1BVElPTjtcblx0ICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG5cdCAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG5cdCAgICB0eXBlID0gdGltZW91dCA+IDBcblx0ICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcblx0ICAgICAgICA/IFRSQU5TSVRJT05cblx0ICAgICAgICA6IEFOSU1BVElPTlxuXHQgICAgICA6IG51bGw7XG5cdCAgICBwcm9wQ291bnQgPSB0eXBlXG5cdCAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxuXHQgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcblx0ICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcblx0ICAgICAgOiAwO1xuXHQgIH1cblx0ICB2YXIgaGFzVHJhbnNmb3JtID1cblx0ICAgIHR5cGUgPT09IFRSQU5TSVRJT04gJiZcblx0ICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pO1xuXHQgIHJldHVybiB7XG5cdCAgICB0eXBlOiB0eXBlLFxuXHQgICAgdGltZW91dDogdGltZW91dCxcblx0ICAgIHByb3BDb3VudDogcHJvcENvdW50LFxuXHQgICAgaGFzVHJhbnNmb3JtOiBoYXNUcmFuc2Zvcm1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRpbWVvdXQgKGRlbGF5cywgZHVyYXRpb25zKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcblx0ICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBkdXJhdGlvbnMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG5cdCAgICByZXR1cm4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKVxuXHQgIH0pKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b01zIChzKSB7XG5cdCAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKSkgKiAxMDAwXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gZW50ZXIgKHZub2RlKSB7XG5cdCAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXHRcblx0ICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuXHQgIGlmIChlbC5fbGVhdmVDYikge1xuXHQgICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcblx0ICAgIGVsLl9sZWF2ZUNiKCk7XG5cdCAgfVxuXHRcblx0ICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG5cdCAgaWYgKCFkYXRhKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChlbC5fZW50ZXJDYiB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgY3NzID0gZGF0YS5jc3M7XG5cdCAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG5cdCAgdmFyIGVudGVyQ2xhc3MgPSBkYXRhLmVudGVyQ2xhc3M7XG5cdCAgdmFyIGVudGVyQWN0aXZlQ2xhc3MgPSBkYXRhLmVudGVyQWN0aXZlQ2xhc3M7XG5cdCAgdmFyIGFwcGVhckNsYXNzID0gZGF0YS5hcHBlYXJDbGFzcztcblx0ICB2YXIgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzO1xuXHQgIHZhciBiZWZvcmVFbnRlciA9IGRhdGEuYmVmb3JlRW50ZXI7XG5cdCAgdmFyIGVudGVyID0gZGF0YS5lbnRlcjtcblx0ICB2YXIgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlcjtcblx0ICB2YXIgZW50ZXJDYW5jZWxsZWQgPSBkYXRhLmVudGVyQ2FuY2VsbGVkO1xuXHQgIHZhciBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhcjtcblx0ICB2YXIgYXBwZWFyID0gZGF0YS5hcHBlYXI7XG5cdCAgdmFyIGFmdGVyQXBwZWFyID0gZGF0YS5hZnRlckFwcGVhcjtcblx0ICB2YXIgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQ7XG5cdFxuXHQgIC8vIGFjdGl2ZUluc3RhbmNlIHdpbGwgYWx3YXlzIGJlIHRoZSA8dHJhbnNpdGlvbj4gY29tcG9uZW50IG1hbmFnaW5nIHRoaXNcblx0ICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcblx0ICAvLyBhcyB0aGUgcm9vdCBub2RlIG9mIGEgY2hpbGQgY29tcG9uZW50LiBJbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byBjaGVja1xuXHQgIC8vIDx0cmFuc2l0aW9uPidzIHBhcmVudCBmb3IgYXBwZWFyIGNoZWNrLlxuXHQgIHZhciB0cmFuc2l0aW9uTm9kZSA9IGFjdGl2ZUluc3RhbmNlLiR2bm9kZTtcblx0ICB2YXIgY29udGV4dCA9IHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudFxuXHQgICAgPyB0cmFuc2l0aW9uTm9kZS5wYXJlbnQuY29udGV4dFxuXHQgICAgOiBhY3RpdmVJbnN0YW5jZTtcblx0XG5cdCAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0O1xuXHRcblx0ICBpZiAoaXNBcHBlYXIgJiYgIWFwcGVhciAmJiBhcHBlYXIgIT09ICcnKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBzdGFydENsYXNzID0gaXNBcHBlYXIgPyBhcHBlYXJDbGFzcyA6IGVudGVyQ2xhc3M7XG5cdCAgdmFyIGFjdGl2ZUNsYXNzID0gaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3M7XG5cdCAgdmFyIGJlZm9yZUVudGVySG9vayA9IGlzQXBwZWFyID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcikgOiBiZWZvcmVFbnRlcjtcblx0ICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXIgPyAodHlwZW9mIGFwcGVhciA9PT0gJ2Z1bmN0aW9uJyA/IGFwcGVhciA6IGVudGVyKSA6IGVudGVyO1xuXHQgIHZhciBhZnRlckVudGVySG9vayA9IGlzQXBwZWFyID8gKGFmdGVyQXBwZWFyIHx8IGFmdGVyRW50ZXIpIDogYWZ0ZXJFbnRlcjtcblx0ICB2YXIgZW50ZXJDYW5jZWxsZWRIb29rID0gaXNBcHBlYXIgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKSA6IGVudGVyQ2FuY2VsbGVkO1xuXHRcblx0ICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xuXHQgIHZhciB1c2VyV2FudHNDb250cm9sID1cblx0ICAgIGVudGVySG9vayAmJlxuXHQgICAgLy8gZW50ZXJIb29rIG1heSBiZSBhIGJvdW5kIG1ldGhvZCB3aGljaCBleHBvc2VzXG5cdCAgICAvLyB0aGUgbGVuZ3RoIG9mIG9yaWdpbmFsIGZuIGFzIF9sZW5ndGhcblx0ICAgIChlbnRlckhvb2suX2xlbmd0aCB8fCBlbnRlckhvb2subGVuZ3RoKSA+IDE7XG5cdFxuXHQgIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcblx0ICAgIH1cblx0ICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcblx0ICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuXHQgICAgICB9XG5cdCAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYWZ0ZXJFbnRlckhvb2sgJiYgYWZ0ZXJFbnRlckhvb2soZWwpO1xuXHQgICAgfVxuXHQgICAgZWwuX2VudGVyQ2IgPSBudWxsO1xuXHQgIH0pO1xuXHRcblx0ICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuXHQgICAgLy8gcmVtb3ZlIHBlbmRpbmcgbGVhdmUgZWxlbWVudCBvbiBlbnRlciBieSBpbmplY3RpbmcgYW4gaW5zZXJ0IGhvb2tcblx0ICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcblx0ICAgICAgdmFyIHBlbmRpbmdOb2RlID0gcGFyZW50ICYmIHBhcmVudC5fcGVuZGluZyAmJiBwYXJlbnQuX3BlbmRpbmdbdm5vZGUua2V5XTtcblx0ICAgICAgaWYgKHBlbmRpbmdOb2RlICYmIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYikge1xuXHQgICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuXHQgICAgICB9XG5cdCAgICAgIGVudGVySG9vayAmJiBlbnRlckhvb2soZWwsIGNiKTtcblx0ICAgIH0sICd0cmFuc2l0aW9uLWluc2VydCcpO1xuXHQgIH1cblx0XG5cdCAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuXHQgIGJlZm9yZUVudGVySG9vayAmJiBiZWZvcmVFbnRlckhvb2soZWwpO1xuXHQgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuXHQgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7XG5cdCAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuXHQgICAgICBpZiAoIWNiLmNhbmNlbGxlZCAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuXHQgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGlmICh2bm9kZS5kYXRhLnNob3cpIHtcblx0ICAgIGVudGVySG9vayAmJiBlbnRlckhvb2soZWwsIGNiKTtcblx0ICB9XG5cdFxuXHQgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuXHQgICAgY2IoKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxlYXZlICh2bm9kZSwgcm0pIHtcblx0ICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cdFxuXHQgIC8vIGNhbGwgZW50ZXIgY2FsbGJhY2sgbm93XG5cdCAgaWYgKGVsLl9lbnRlckNiKSB7XG5cdCAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuXHQgICAgZWwuX2VudGVyQ2IoKTtcblx0ICB9XG5cdFxuXHQgIHZhciBkYXRhID0gcmVzb2x2ZVRyYW5zaXRpb24odm5vZGUuZGF0YS50cmFuc2l0aW9uKTtcblx0ICBpZiAoIWRhdGEpIHtcblx0ICAgIHJldHVybiBybSgpXG5cdCAgfVxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoZWwuX2xlYXZlQ2IgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIGNzcyA9IGRhdGEuY3NzO1xuXHQgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuXHQgIHZhciBsZWF2ZUNsYXNzID0gZGF0YS5sZWF2ZUNsYXNzO1xuXHQgIHZhciBsZWF2ZUFjdGl2ZUNsYXNzID0gZGF0YS5sZWF2ZUFjdGl2ZUNsYXNzO1xuXHQgIHZhciBiZWZvcmVMZWF2ZSA9IGRhdGEuYmVmb3JlTGVhdmU7XG5cdCAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTtcblx0ICB2YXIgYWZ0ZXJMZWF2ZSA9IGRhdGEuYWZ0ZXJMZWF2ZTtcblx0ICB2YXIgbGVhdmVDYW5jZWxsZWQgPSBkYXRhLmxlYXZlQ2FuY2VsbGVkO1xuXHQgIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlO1xuXHRcblx0ICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xuXHQgIHZhciB1c2VyV2FudHNDb250cm9sID1cblx0ICAgIGxlYXZlICYmXG5cdCAgICAvLyBsZWF2ZSBob29rIG1heSBiZSBhIGJvdW5kIG1ldGhvZCB3aGljaCBleHBvc2VzXG5cdCAgICAvLyB0aGUgbGVuZ3RoIG9mIG9yaWdpbmFsIGZuIGFzIF9sZW5ndGhcblx0ICAgIChsZWF2ZS5fbGVuZ3RoIHx8IGxlYXZlLmxlbmd0aCkgPiAxO1xuXHRcblx0ICB2YXIgY2IgPSBlbC5fbGVhdmVDYiA9IG9uY2UoZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5fcGVuZGluZykge1xuXHQgICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuXHQgICAgfVxuXHQgICAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcblx0ICAgIH1cblx0ICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcblx0ICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuXHQgICAgICB9XG5cdCAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJtKCk7XG5cdCAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG5cdCAgICB9XG5cdCAgICBlbC5fbGVhdmVDYiA9IG51bGw7XG5cdCAgfSk7XG5cdFxuXHQgIGlmIChkZWxheUxlYXZlKSB7XG5cdCAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHBlcmZvcm1MZWF2ZSgpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcGVyZm9ybUxlYXZlICgpIHtcblx0ICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcblx0ICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICAvLyByZWNvcmQgbGVhdmluZyBlbGVtZW50XG5cdCAgICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuXHQgICAgICAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyB8fCAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyA9IHt9KSlbdm5vZGUua2V5XSA9IHZub2RlO1xuXHQgICAgfVxuXHQgICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xuXHQgICAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcblx0ICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcblx0ICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuXHQgICAgICAgIGlmICghY2IuY2FuY2VsbGVkICYmICF1c2VyV2FudHNDb250cm9sKSB7XG5cdCAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgbGVhdmUgJiYgbGVhdmUoZWwsIGNiKTtcblx0ICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuXHQgICAgICBjYigpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb24gKGRlZiQkMSkge1xuXHQgIGlmICghZGVmJCQxKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHZhciByZXMgPSB7fTtcblx0ICAgIGlmIChkZWYkJDEuY3NzICE9PSBmYWxzZSkge1xuXHQgICAgICBleHRlbmQocmVzLCBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEubmFtZSB8fCAndicpKTtcblx0ICAgIH1cblx0ICAgIGV4dGVuZChyZXMsIGRlZiQkMSk7XG5cdCAgICByZXR1cm4gcmVzXG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZGVmJCQxID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMSlcblx0ICB9XG5cdH1cblx0XG5cdHZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBlbnRlckNsYXNzOiAobmFtZSArIFwiLWVudGVyXCIpLFxuXHQgICAgbGVhdmVDbGFzczogKG5hbWUgKyBcIi1sZWF2ZVwiKSxcblx0ICAgIGFwcGVhckNsYXNzOiAobmFtZSArIFwiLWVudGVyXCIpLFxuXHQgICAgZW50ZXJBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1lbnRlci1hY3RpdmVcIiksXG5cdCAgICBsZWF2ZUFjdGl2ZUNsYXNzOiAobmFtZSArIFwiLWxlYXZlLWFjdGl2ZVwiKSxcblx0ICAgIGFwcGVhckFjdGl2ZUNsYXNzOiAobmFtZSArIFwiLWVudGVyLWFjdGl2ZVwiKVxuXHQgIH1cblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBvbmNlIChmbikge1xuXHQgIHZhciBjYWxsZWQgPSBmYWxzZTtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCFjYWxsZWQpIHtcblx0ICAgICAgY2FsbGVkID0gdHJ1ZTtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8ge1xuXHQgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuXHQgICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcblx0ICAgICAgZW50ZXIodm5vZGUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUgKHZub2RlLCBybSkge1xuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG5cdCAgICAgIGxlYXZlKHZub2RlLCBybSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBybSgpO1xuXHQgICAgfVxuXHQgIH1cblx0fSA6IHt9O1xuXHRcblx0dmFyIHBsYXRmb3JtTW9kdWxlcyA9IFtcblx0ICBhdHRycyxcblx0ICBrbGFzcyxcblx0ICBldmVudHMsXG5cdCAgZG9tUHJvcHMsXG5cdCAgc3R5bGUsXG5cdCAgdHJhbnNpdGlvblxuXHRdO1xuXHRcblx0LyogICovXG5cdFxuXHQvLyB0aGUgZGlyZWN0aXZlIG1vZHVsZSBzaG91bGQgYmUgYXBwbGllZCBsYXN0LCBhZnRlciBhbGxcblx0Ly8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cblx0dmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTtcblx0XG5cdHZhciBwYXRjaCQxID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMgfSk7XG5cdFxuXHQvKipcblx0ICogTm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IGxpa2UgYXR0YWNoaW5nXG5cdCAqIHByb3BlcnRpZXMgdG8gRWxlbWVudHMuXG5cdCAqL1xuXHRcblx0dmFyIG1vZGVsYWJsZVRhZ1JFID0gL15pbnB1dHxzZWxlY3R8dGV4dGFyZWF8dnVlLWNvbXBvbmVudC1bMC05XSsoLVswLTlhLXpBLVpfLV0qKT8kLztcblx0XG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHRpZiAoaXNJRTkpIHtcblx0ICAvLyBodHRwOi8vd3d3Lm1hdHRzNDExLmNvbS9wb3N0L2ludGVybmV0LWV4cGxvcmVyLTktb25pbnB1dC9cblx0ICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHQgICAgaWYgKGVsICYmIGVsLnZtb2RlbCkge1xuXHQgICAgICB0cmlnZ2VyKGVsLCAnaW5wdXQnKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXHRcblx0dmFyIG1vZGVsID0ge1xuXHQgIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZCAoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICBpZiAoIW1vZGVsYWJsZVRhZ1JFLnRlc3Qodm5vZGUudGFnKSkge1xuXHQgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICBcInYtbW9kZWwgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50IHR5cGU6IDxcIiArICh2bm9kZS50YWcpICsgXCI+LiBcIiArXG5cdCAgICAgICAgICAnSWYgeW91IGFyZSB3b3JraW5nIHdpdGggY29udGVudGVkaXRhYmxlLCBpdFxcJ3MgcmVjb21tZW5kZWQgdG8gJyArXG5cdCAgICAgICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLFxuXHQgICAgICAgICAgdm5vZGUuY29udGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7XG5cdCAgICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7XG5cdCAgICAgIH07XG5cdCAgICAgIGNiKCk7XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICBpZiAoaXNJRSB8fCBpc0VkZ2UpIHtcblx0ICAgICAgICBzZXRUaW1lb3V0KGNiLCAwKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChcblx0ICAgICAgKHZub2RlLnRhZyA9PT0gJ3RleHRhcmVhJyB8fCBlbC50eXBlID09PSAndGV4dCcpICYmXG5cdCAgICAgICFiaW5kaW5nLm1vZGlmaWVycy5sYXp5XG5cdCAgICApIHtcblx0ICAgICAgaWYgKCFpc0FuZHJvaWQpIHtcblx0ICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcblx0ICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xuXHQgICAgICB9XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgICBpZiAoaXNJRTkpIHtcblx0ICAgICAgICBlbC52bW9kZWwgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcblx0ICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7XG5cdCAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTtcblx0ICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG5cdCAgICAgIC8vIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgdmFsdWUgaXMgb3V0LW9mLXN5bmMgd2l0aCB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cblx0ICAgICAgLy8gZGV0ZWN0IHN1Y2ggY2FzZXMgYW5kIGZpbHRlciBvdXQgdmFsdWVzIHRoYXQgbm8gbG9uZ2VyIGhhcyBhIG1hdGNoaW5nXG5cdCAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuXHQgICAgICB2YXIgbmVlZFJlc2V0ID0gZWwubXVsdGlwbGVcblx0ICAgICAgICA/IGJpbmRpbmcudmFsdWUuc29tZShmdW5jdGlvbiAodikgeyByZXR1cm4gaGFzTm9NYXRjaGluZ09wdGlvbih2LCBlbC5vcHRpb25zKTsgfSlcblx0ICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiYgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBlbC5vcHRpb25zKTtcblx0ICAgICAgaWYgKG5lZWRSZXNldCkge1xuXHQgICAgICAgIHRyaWdnZXIoZWwsICdjaGFuZ2UnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHtcblx0ICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuXHQgIHZhciBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XG5cdCAgaWYgKGlzTXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgIFwiPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPVxcXCJcIiArIChiaW5kaW5nLmV4cHJlc3Npb24pICsgXCJcXFwiPiBcIiArXG5cdCAgICAgIFwiZXhwZWN0cyBhbiBBcnJheSB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGJ1dCBnb3QgXCIgKyAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkpLFxuXHQgICAgICB2bVxuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgc2VsZWN0ZWQsIG9wdGlvbjtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuXHQgICAgaWYgKGlzTXVsdGlwbGUpIHtcblx0ICAgICAgc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIGdldFZhbHVlKG9wdGlvbikpID4gLTE7XG5cdCAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG5cdCAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xuXHQgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKSB7XG5cdCAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgaWYgKCFpc011bHRpcGxlKSB7XG5cdCAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNOb01hdGNoaW5nT3B0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gb3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbnNbaV0pLCB2YWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFZhbHVlIChvcHRpb24pIHtcblx0ICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uXG5cdCAgICA/IG9wdGlvbi5fdmFsdWVcblx0ICAgIDogb3B0aW9uLnZhbHVlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydCAoZSkge1xuXHQgIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQgKGUpIHtcblx0ICBlLnRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcblx0ICB0cmlnZ2VyKGUudGFyZ2V0LCAnaW5wdXQnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHtcblx0ICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG5cdCAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgZWwuZGlzcGF0Y2hFdmVudChlKTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHQvLyByZWN1cnNpdmVseSBzZWFyY2ggZm9yIHBvc3NpYmxlIHRyYW5zaXRpb24gZGVmaW5lZCBpbnNpZGUgdGhlIGNvbXBvbmVudCByb290XG5cdGZ1bmN0aW9uIGxvY2F0ZU5vZGUgKHZub2RlKSB7XG5cdCAgcmV0dXJuIHZub2RlLmNoaWxkICYmICghdm5vZGUuZGF0YSB8fCAhdm5vZGUuZGF0YS50cmFuc2l0aW9uKVxuXHQgICAgPyBsb2NhdGVOb2RlKHZub2RlLmNoaWxkLl92bm9kZSlcblx0ICAgIDogdm5vZGVcblx0fVxuXHRcblx0dmFyIHNob3cgPSB7XG5cdCAgYmluZDogZnVuY3Rpb24gYmluZCAoZWwsIHJlZiwgdm5vZGUpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcblx0XG5cdCAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuXHQgICAgdmFyIHRyYW5zaXRpb24gPSB2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEudHJhbnNpdGlvbjtcblx0ICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uICYmICFpc0lFOSkge1xuXHQgICAgICBlbnRlcih2bm9kZSk7XG5cdCAgICB9XG5cdCAgICB2YXIgb3JpZ2luYWxEaXNwbGF5ID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuXHQgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gb3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuXHQgICAgZWwuX192T3JpZ2luYWxEaXNwbGF5ID0gb3JpZ2luYWxEaXNwbGF5O1xuXHQgIH0sXG5cdCAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKGVsLCByZWYsIHZub2RlKSB7XG5cdCAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7XG5cdCAgICB2YXIgb2xkVmFsdWUgPSByZWYub2xkVmFsdWU7XG5cdFxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSB7IHJldHVybiB9XG5cdCAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuXHQgICAgdmFyIHRyYW5zaXRpb24gPSB2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEudHJhbnNpdGlvbjtcblx0ICAgIGlmICh0cmFuc2l0aW9uICYmICFpc0lFOSkge1xuXHQgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICBlbnRlcih2bm9kZSk7XG5cdCAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGVsLl9fdk9yaWdpbmFsRGlzcGxheTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBsZWF2ZSh2bm9kZSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdHZhciBwbGF0Zm9ybURpcmVjdGl2ZXMgPSB7XG5cdCAgbW9kZWw6IG1vZGVsLFxuXHQgIHNob3c6IHNob3dcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0Ly8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBhIHNpbmdsZSBlbGVtZW50L2NvbXBvbmVudC5cblx0Ly8gc3VwcG9ydHMgdHJhbnNpdGlvbiBtb2RlIChvdXQtaW4gLyBpbi1vdXQpXG5cdFxuXHR2YXIgdHJhbnNpdGlvblByb3BzID0ge1xuXHQgIG5hbWU6IFN0cmluZyxcblx0ICBhcHBlYXI6IEJvb2xlYW4sXG5cdCAgY3NzOiBCb29sZWFuLFxuXHQgIG1vZGU6IFN0cmluZyxcblx0ICB0eXBlOiBTdHJpbmcsXG5cdCAgZW50ZXJDbGFzczogU3RyaW5nLFxuXHQgIGxlYXZlQ2xhc3M6IFN0cmluZyxcblx0ICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG5cdCAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuXHQgIGFwcGVhckNsYXNzOiBTdHJpbmcsXG5cdCAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZ1xuXHR9O1xuXHRcblx0Ly8gaW4gY2FzZSB0aGUgY2hpbGQgaXMgYWxzbyBhbiBhYnN0cmFjdCBjb21wb25lbnQsIGUuZy4gPGtlZXAtYWxpdmU+XG5cdC8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5cdGZ1bmN0aW9uIGdldFJlYWxDaGlsZCAodm5vZGUpIHtcblx0ICB2YXIgY29tcE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuXHQgIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcblx0ICAgIHJldHVybiBnZXRSZWFsQ2hpbGQoZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChjb21wT3B0aW9ucy5jaGlsZHJlbikpXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiB2bm9kZVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZXh0cmFjdFRyYW5zaXRpb25EYXRhIChjb21wKSB7XG5cdCAgdmFyIGRhdGEgPSB7fTtcblx0ICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG5cdCAgLy8gcHJvcHNcblx0ICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5wcm9wc0RhdGEpIHtcblx0ICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcblx0ICB9XG5cdCAgLy8gZXZlbnRzLlxuXHQgIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuXHQgIHZhciBsaXN0ZW5lcnMgPSBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG5cdCAgZm9yICh2YXIga2V5JDEgaW4gbGlzdGVuZXJzKSB7XG5cdCAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdLmZuO1xuXHQgIH1cblx0ICByZXR1cm4gZGF0YVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBwbGFjZWhvbGRlciAoaCwgcmF3Q2hpbGQpIHtcblx0ICByZXR1cm4gL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpXG5cdCAgICA/IGgoJ2tlZXAtYWxpdmUnKVxuXHQgICAgOiBudWxsXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24gKHZub2RlKSB7XG5cdCAgd2hpbGUgKCh2bm9kZSA9IHZub2RlLnBhcmVudCkpIHtcblx0ICAgIGlmICh2bm9kZS5kYXRhLnRyYW5zaXRpb24pIHtcblx0ICAgICAgcmV0dXJuIHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciBUcmFuc2l0aW9uID0ge1xuXHQgIG5hbWU6ICd0cmFuc2l0aW9uJyxcblx0ICBwcm9wczogdHJhbnNpdGlvblByb3BzLFxuXHQgIGFic3RyYWN0OiB0cnVlLFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG5cdCAgICB2YXIgdGhpcyQxID0gdGhpcztcblx0XG5cdCAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0O1xuXHQgICAgaWYgKCFjaGlsZHJlbikge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0XG5cdCAgICAvLyBmaWx0ZXIgb3V0IHRleHQgbm9kZXMgKHBvc3NpYmxlIHdoaXRlc3BhY2VzKVxuXHQgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudGFnOyB9KTtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXG5cdCAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyxcblx0ICAgICAgICB0aGlzLiRwYXJlbnRcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcblx0XG5cdCAgICAvLyB3YXJuIGludmFsaWQgbW9kZVxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcblx0ICAgICAgICBtb2RlICYmIG1vZGUgIT09ICdpbi1vdXQnICYmIG1vZGUgIT09ICdvdXQtaW4nKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJ2ludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICcgKyBtb2RlLFxuXHQgICAgICAgIHRoaXMuJHBhcmVudFxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciByYXdDaGlsZCA9IGNoaWxkcmVuWzBdO1xuXHRcblx0ICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3Ncblx0ICAgIC8vIHBhcmVudCBjb250YWluZXIgbm9kZSBhbHNvIGhhcyB0cmFuc2l0aW9uLCBza2lwLlxuXHQgICAgaWYgKGhhc1BhcmVudFRyYW5zaXRpb24odGhpcy4kdm5vZGUpKSB7XG5cdCAgICAgIHJldHVybiByYXdDaGlsZFxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGFwcGx5IHRyYW5zaXRpb24gZGF0YSB0byBjaGlsZFxuXHQgICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZVxuXHQgICAgdmFyIGNoaWxkID0gZ2V0UmVhbENoaWxkKHJhd0NoaWxkKTtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKCFjaGlsZCkge1xuXHQgICAgICByZXR1cm4gcmF3Q2hpbGRcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGhpcy5fbGVhdmluZykge1xuXHQgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGtleSA9IGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsIHx8IGNoaWxkLmlzU3RhdGljXG5cdCAgICAgID8gKFwiX192XCIgKyAoY2hpbGQudGFnICsgdGhpcy5fdWlkKSArIFwiX19cIilcblx0ICAgICAgOiBjaGlsZC5rZXk7XG5cdCAgICB2YXIgZGF0YSA9IChjaGlsZC5kYXRhIHx8IChjaGlsZC5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpO1xuXHQgICAgdmFyIG9sZFJhd0NoaWxkID0gdGhpcy5fdm5vZGU7XG5cdCAgICB2YXIgb2xkQ2hpbGQgPSBnZXRSZWFsQ2hpbGQob2xkUmF3Q2hpbGQpO1xuXHRcblx0ICAgIC8vIG1hcmsgdi1zaG93XG5cdCAgICAvLyBzbyB0aGF0IHRoZSB0cmFuc2l0aW9uIG1vZHVsZSBjYW4gaGFuZCBvdmVyIHRoZSBjb250cm9sIHRvIHRoZSBkaXJlY3RpdmVcblx0ICAgIGlmIChjaGlsZC5kYXRhLmRpcmVjdGl2ZXMgJiYgY2hpbGQuZGF0YS5kaXJlY3RpdmVzLnNvbWUoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZSA9PT0gJ3Nob3cnOyB9KSkge1xuXHQgICAgICBjaGlsZC5kYXRhLnNob3cgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChvbGRDaGlsZCAmJiBvbGRDaGlsZC5kYXRhICYmIG9sZENoaWxkLmtleSAhPT0ga2V5KSB7XG5cdCAgICAgIC8vIHJlcGxhY2Ugb2xkIGNoaWxkIHRyYW5zaXRpb24gZGF0YSB3aXRoIGZyZXNoIG9uZVxuXHQgICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG5cdCAgICAgIHZhciBvbGREYXRhID0gb2xkQ2hpbGQuZGF0YS50cmFuc2l0aW9uID0gZXh0ZW5kKHt9LCBkYXRhKTtcblx0XG5cdCAgICAgIC8vIGhhbmRsZSB0cmFuc2l0aW9uIG1vZGVcblx0ICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7XG5cdCAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG5cdCAgICAgICAgdGhpcy5fbGVhdmluZyA9IHRydWU7XG5cdCAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2FmdGVyTGVhdmUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB0aGlzJDEuX2xlYXZpbmcgPSBmYWxzZTtcblx0ICAgICAgICAgIHRoaXMkMS4kZm9yY2VVcGRhdGUoKTtcblx0ICAgICAgICB9LCBrZXkpO1xuXHQgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcblx0ICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0Jykge1xuXHQgICAgICAgIHZhciBkZWxheWVkTGVhdmU7XG5cdCAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHsgZGVsYXllZExlYXZlKCk7IH07XG5cdCAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2FmdGVyRW50ZXInLCBwZXJmb3JtTGVhdmUsIGtleSk7XG5cdCAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2VudGVyQ2FuY2VsbGVkJywgcGVyZm9ybUxlYXZlLCBrZXkpO1xuXHQgICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdkZWxheUxlYXZlJywgZnVuY3Rpb24gKGxlYXZlKSB7XG5cdCAgICAgICAgICBkZWxheWVkTGVhdmUgPSBsZWF2ZTtcblx0ICAgICAgICB9LCBrZXkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJhd0NoaWxkXG5cdCAgfVxuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHQvLyBQcm92aWRlcyB0cmFuc2l0aW9uIHN1cHBvcnQgZm9yIGxpc3QgaXRlbXMuXG5cdC8vIHN1cHBvcnRzIG1vdmUgdHJhbnNpdGlvbnMgdXNpbmcgdGhlIEZMSVAgdGVjaG5pcXVlLlxuXHRcblx0Ly8gQmVjYXVzZSB0aGUgdmRvbSdzIGNoaWxkcmVuIHVwZGF0ZSBhbGdvcml0aG0gaXMgXCJ1bnN0YWJsZVwiIC0gaS5lLlxuXHQvLyBpdCBkb2Vzbid0IGd1YXJhbnRlZSB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcmVtb3ZlZCBlbGVtZW50cyxcblx0Ly8gd2UgZm9yY2UgdHJhbnNpdGlvbi1ncm91cCB0byB1cGRhdGUgaXRzIGNoaWxkcmVuIGludG8gdHdvIHBhc3Nlczpcblx0Ly8gaW4gdGhlIGZpcnN0IHBhc3MsIHdlIHJlbW92ZSBhbGwgbm9kZXMgdGhhdCBuZWVkIHRvIGJlIHJlbW92ZWQsXG5cdC8vIHRyaWdnZXJpbmcgdGhlaXIgbGVhdmluZyB0cmFuc2l0aW9uOyBpbiB0aGUgc2Vjb25kIHBhc3MsIHdlIGluc2VydC9tb3ZlXG5cdC8vIGludG8gdGhlIGZpbmFsIGRpc2lyZWQgc3RhdGUuIFRoaXMgd2F5IGluIHRoZSBzZWNvbmQgcGFzcyByZW1vdmVkXG5cdC8vIG5vZGVzIHdpbGwgcmVtYWluIHdoZXJlIHRoZXkgc2hvdWxkIGJlLlxuXHRcblx0dmFyIHByb3BzID0gZXh0ZW5kKHtcblx0ICB0YWc6IFN0cmluZyxcblx0ICBtb3ZlQ2xhc3M6IFN0cmluZ1xuXHR9LCB0cmFuc2l0aW9uUHJvcHMpO1xuXHRcblx0ZGVsZXRlIHByb3BzLm1vZGU7XG5cdFxuXHR2YXIgVHJhbnNpdGlvbkdyb3VwID0ge1xuXHQgIHByb3BzOiBwcm9wcyxcblx0XG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcblx0ICAgIHZhciB0YWcgPSB0aGlzLnRhZyB8fCB0aGlzLiR2bm9kZS5kYXRhLnRhZyB8fCAnc3Bhbic7XG5cdCAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLnByZXZDaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG5cdCAgICB2YXIgcmF3Q2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdO1xuXHQgICAgdmFyIHRyYW5zaXRpb25EYXRhID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGMgPSByYXdDaGlsZHJlbltpXTtcblx0ICAgICAgaWYgKGMudGFnKSB7XG5cdCAgICAgICAgaWYgKGMua2V5ICE9IG51bGwgJiYgU3RyaW5nKGMua2V5KS5pbmRleE9mKCdfX3ZsaXN0JykgIT09IDApIHtcblx0ICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7XG5cdCAgICAgICAgICBtYXBbYy5rZXldID0gY1xuXHQgICAgICAgICAgOyhjLmRhdGEgfHwgKGMuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuXHQgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgICAgdmFyIG9wdHMgPSBjLmNvbXBvbmVudE9wdGlvbnM7XG5cdCAgICAgICAgICB2YXIgbmFtZSA9IG9wdHNcblx0ICAgICAgICAgICAgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZylcblx0ICAgICAgICAgICAgOiBjLnRhZztcblx0ICAgICAgICAgIHdhcm4oKFwiPHRyYW5zaXRpb24tZ3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQ6IDxcIiArIG5hbWUgKyBcIj5cIikpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcblx0ICAgICAgdmFyIGtlcHQgPSBbXTtcblx0ICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcblx0ICAgICAgICB2YXIgYyQxID0gcHJldkNoaWxkcmVuW2kkMV07XG5cdCAgICAgICAgYyQxLmRhdGEudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuXHQgICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgICAgaWYgKG1hcFtjJDEua2V5XSkge1xuXHQgICAgICAgICAga2VwdC5wdXNoKGMkMSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJlbW92ZWQucHVzaChjJDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB0aGlzLmtlcHQgPSBoKHRhZywgbnVsbCwga2VwdCk7XG5cdCAgICAgIHRoaXMucmVtb3ZlZCA9IHJlbW92ZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGgodGFnLCBudWxsLCBjaGlsZHJlbilcblx0ICB9LFxuXHRcblx0ICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSAoKSB7XG5cdCAgICAvLyBmb3JjZSByZW1vdmluZyBwYXNzXG5cdCAgICB0aGlzLl9fcGF0Y2hfXyhcblx0ICAgICAgdGhpcy5fdm5vZGUsXG5cdCAgICAgIHRoaXMua2VwdCxcblx0ICAgICAgZmFsc2UsIC8vIGh5ZHJhdGluZ1xuXHQgICAgICB0cnVlIC8vIHJlbW92ZU9ubHkgKCFpbXBvcnRhbnQsIGF2b2lkcyB1bm5lY2Vzc2FyeSBtb3Zlcylcblx0ICAgICk7XG5cdCAgICB0aGlzLl92bm9kZSA9IHRoaXMua2VwdDtcblx0ICB9LFxuXHRcblx0ICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkICgpIHtcblx0ICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuO1xuXHQgICAgdmFyIG1vdmVDbGFzcyA9IHRoaXMubW92ZUNsYXNzIHx8ICgodGhpcy5uYW1lIHx8ICd2JykgKyAnLW1vdmUnKTtcblx0ICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLmhhc01vdmUoY2hpbGRyZW5bMF0uZWxtLCBtb3ZlQ2xhc3MpKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHRcblx0ICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuXHQgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXG5cdCAgICBjaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcblx0ICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuXHQgICAgY2hpbGRyZW4uZm9yRWFjaChhcHBseVRyYW5zbGF0aW9uKTtcblx0XG5cdCAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cblx0ICAgIHZhciBmID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0XG5cdCAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmIChjLmRhdGEubW92ZWQpIHtcblx0ICAgICAgICB2YXIgZWwgPSBjLmVsbTtcblx0ICAgICAgICB2YXIgcyA9IGVsLnN0eWxlO1xuXHQgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcblx0ICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcblx0ICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgZWwuX21vdmVDYiA9IGZ1bmN0aW9uIGNiIChlKSB7XG5cdCAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XG5cdCAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7XG5cdCAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xuXHQgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIGhhc01vdmU6IGZ1bmN0aW9uIGhhc01vdmUgKGVsLCBtb3ZlQ2xhc3MpIHtcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgIGlmICghaGFzVHJhbnNpdGlvbikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLl9oYXNNb3ZlICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faGFzTW92ZVxuXHQgICAgICB9XG5cdCAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcblx0ICAgICAgdmFyIGluZm8gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCk7XG5cdCAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcblx0ICAgICAgcmV0dXJuICh0aGlzLl9oYXNNb3ZlID0gaW5mby5oYXNUcmFuc2Zvcm0pXG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoYy5lbG0uX21vdmVDYikge1xuXHQgICAgYy5lbG0uX21vdmVDYigpO1xuXHQgIH1cblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcblx0ICAgIGMuZWxtLl9lbnRlckNiKCk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWNvcmRQb3NpdGlvbiAoYykge1xuXHQgIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuXHQgIHZhciBvbGRQb3MgPSBjLmRhdGEucG9zO1xuXHQgIHZhciBuZXdQb3MgPSBjLmRhdGEubmV3UG9zO1xuXHQgIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG5cdCAgdmFyIGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XG5cdCAgaWYgKGR4IHx8IGR5KSB7XG5cdCAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuXHQgICAgdmFyIHMgPSBjLmVsbS5zdHlsZTtcblx0ICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIGR4ICsgXCJweCxcIiArIGR5ICsgXCJweClcIjtcblx0ICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcblx0ICB9XG5cdH1cblx0XG5cdHZhciBwbGF0Zm9ybUNvbXBvbmVudHMgPSB7XG5cdCAgVHJhbnNpdGlvbjogVHJhbnNpdGlvbixcblx0ICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHQvLyBpbnN0YWxsIHBsYXRmb3JtIHNwZWNpZmljIHV0aWxzXG5cdFZ1ZSQyLmNvbmZpZy5pc1Vua25vd25FbGVtZW50ID0gaXNVbmtub3duRWxlbWVudDtcblx0VnVlJDIuY29uZmlnLmlzUmVzZXJ2ZWRUYWcgPSBpc1Jlc2VydmVkVGFnO1xuXHRWdWUkMi5jb25maWcuZ2V0VGFnTmFtZXNwYWNlID0gZ2V0VGFnTmFtZXNwYWNlO1xuXHRWdWUkMi5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblx0XG5cdC8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xuXHRleHRlbmQoVnVlJDIub3B0aW9ucy5kaXJlY3RpdmVzLCBwbGF0Zm9ybURpcmVjdGl2ZXMpO1xuXHRleHRlbmQoVnVlJDIub3B0aW9ucy5jb21wb25lbnRzLCBwbGF0Zm9ybUNvbXBvbmVudHMpO1xuXHRcblx0Ly8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuXHRWdWUkMi5wcm90b3R5cGUuX19wYXRjaF9fID0gaW5Ccm93c2VyID8gcGF0Y2gkMSA6IG5vb3A7XG5cdFxuXHQvLyB3cmFwIG1vdW50XG5cdFZ1ZSQyLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoXG5cdCAgZWwsXG5cdCAgaHlkcmF0aW5nXG5cdCkge1xuXHQgIGVsID0gZWwgJiYgaW5Ccm93c2VyID8gcXVlcnkoZWwpIDogdW5kZWZpbmVkO1xuXHQgIHJldHVybiB0aGlzLl9tb3VudChlbCwgaHlkcmF0aW5nKVxuXHR9O1xuXHRcblx0Ly8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKGNvbmZpZy5kZXZ0b29scykge1xuXHQgICAgaWYgKGRldnRvb2xzKSB7XG5cdCAgICAgIGRldnRvb2xzLmVtaXQoJ2luaXQnLCBWdWUkMik7XG5cdCAgICB9IGVsc2UgaWYgKFxuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG5cdCAgICAgIGluQnJvd3NlciAmJiAvQ2hyb21lXFwvXFxkKy8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcblx0ICAgICkge1xuXHQgICAgICBjb25zb2xlLmxvZyhcblx0ICAgICAgICAnRG93bmxvYWQgdGhlIFZ1ZSBEZXZ0b29scyBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcblx0ICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XG5cdH0sIDApO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWdWUkMjtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdGV4cG9ydHMuaShfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLCBcIlwiKTtcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJmb290ZXI6YWZ0ZXIsaGVhZGVyOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZXhwYW5kLXktZW50ZXItYWN0aXZlLC5leHBhbmQteS1sZWF2ZS1hY3RpdmUsLm1vZGFsLWVudGVyLWFjdGl2ZSwubW9kYWwtbGVhdmUtYWN0aXZlLC5wbGF5ZXItbW9yZS1lbnRlci1hY3RpdmUsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZX0uZXhwYW5kLXktZW50ZXIsLmV4cGFuZC15LWxlYXZlLWFjdGl2ZSwubW9kYWwtZW50ZXIsLm1vZGFsLWxlYXZlLWFjdGl2ZSwucGxheWVyLW1vcmUtZW50ZXIsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2Zvcm06c2NhbGVZKDApfS5wbGF5ZXItbW9yZS1lbnRlciwucGxheWVyLW1vcmUtZW50ZXItYWN0aXZlLC5wbGF5ZXItbW9yZS1sZWF2ZS1hY3RpdmV7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgdG9wfSNib2R5LC5hcHAsYm9keSxodG1se3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWFyZ2luOjB9Ym9keXtmb250LXNpemU6MTRweDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtsaW5lLWhlaWdodDoxOHB4fSp7Ym94LXNpemluZzpib3JkZXItYm94fS5hcHB7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1mb290ZXIsaGVhZGVye3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfWZvb3RlciAubGVmdCxoZWFkZXIgLmxlZnR7ZmxvYXQ6bGVmdH1mb290ZXIgLnJpZ2h0LGhlYWRlciAucmlnaHR7ZmxvYXQ6cmlnaHR9Zm9vdGVyIC5jZW50ZXIsaGVhZGVyIC5jZW50ZXJ7bWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXJ9Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3tkaXNwbGF5OmlubGluZS1ibG9ja31AbWVkaWEgKG1heC13aWR0aDo1NDBweCl7Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3twYWRkaW5nLWJvdHRvbToxMHB4O2Rpc3BsYXk6YmxvY2t9Zm9vdGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGQsaGVhZGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH19Lmx5cmljLWVkaXRvcntmbGV4OjE7b3ZlcmZsb3c6YXV0b30uZm9ybS1ncm91cHtkaXNwbGF5OmZsZXg7cGFkZGluZzo1cHggMDthbGlnbi1pdGVtczpjZW50ZXJ9LmZvcm0tZ3JvdXAgbGFiZWx7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmctcmlnaHQ6MTBweH0uZm9ybS1ncm91cCBpbnB1dHtmbGV4OjE7aGVpZ2h0OjMwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O3BhZGRpbmc6MCAzcHg7Ym9yZGVyLXJhZGl1czo1cHh9Lm1lbnUtaXRlbXtkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojZmZmO2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHg7cGFkZGluZzowIDhweDtjdXJzb3I6cG9pbnRlcn0ubWVudS1pdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzBkNDg4NH0uYnRue2JvcmRlci1yYWRpdXM6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6NnB4O2ZvbnQtd2VpZ2h0OmJvbGRlcjtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQ6IzExNjFiMztjb2xvcjojZmZmfS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTI0Yjg2fS5idG4ud2hpdGUsZm9vdGVyIC5idG4saGVhZGVyIC5idG57YmFja2dyb3VuZDojZmZmO2NvbG9yOiMxMTYxYjN9LmJ0bi53aGl0ZTpob3Zlcixmb290ZXIgLmJ0bjpob3ZlcixoZWFkZXIgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcblx0Ki9cblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGlzdCA9IFtdO1xuXHRcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xuXHRcdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdFx0fTtcblx0XG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0cmV0dXJuIGxpc3Q7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAZm9udC1mYWNle2ZvbnQtZmFtaWx5OmZvbnRlbGxvO3NyYzp1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpICsgXCIpO3NyYzp1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpICsgXCIjaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpICsgXCIpIGZvcm1hdCgnd29mZjInKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSArIFwiKSBmb3JtYXQoJ3dvZmYnKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKFwiICsgX193ZWJwYWNrX3JlcXVpcmVfXygxMikgKyBcIiNmb250ZWxsbykgZm9ybWF0KCdzdmcnKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9W2NsYXNzKj1cXFwiIGljb24tXFxcIl06YmVmb3JlLFtjbGFzc149aWNvbi1dOmJlZm9yZXtmb250LWZhbWlseTpmb250ZWxsbztmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7c3BlYWs6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aWR0aDoxZW07bWFyZ2luLXJpZ2h0Oi4yZW07dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC12YXJpYW50Om5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2xpbmUtaGVpZ2h0OjFlbTttYXJnaW4tbGVmdDouMmVtOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlfS5pY29uLWVkaXQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAwJ30uaWNvbi1zYXZlOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMSd9Lmljb24tdHJhc2g6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAyJ30uaWNvbi1kb3dubG9hZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDMnfS5pY29uLXVwbG9hZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDQnfS5pY29uLXJpZ2h0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwNSd9Lmljb24tbGVmdDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDYnfS5pY29uLXVwOmJlZm9yZXtjb250ZW50OidcXFxcRTgwNyd9Lmljb24tZG93bjpiZWZvcmV7Y29udGVudDonXFxcXEU4MDgnfS5pY29uLXZvbHVtZS1vZmY6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA5J30uaWNvbi12b2x1bWUtdXA6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBBJ30uaWNvbi1wbHVzOmJlZm9yZXtjb250ZW50OidcXFxcRTgwRCd9Lmljb24tY2FuY2VsOmJlZm9yZXtjb250ZW50OidcXFxcRTgwRSd9Lmljb24tZWxsaXBzaXMtdmVydDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEYnfS5pY29uLWluZm86YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODEwJ30uaWNvbi1oZWxwLWNpcmNsZWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODExJ30uaWNvbi1wbGF5OmJlZm9yZXtjb250ZW50OidcXFxcRTgxMid9Lmljb24tcGF1c2U6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODEzJ30uaWNvbi1mb3J3YXJkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNCd9Lmljb24tYmFja3dhcmQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODE1J30uaWNvbi1zdG9wOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNid9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjJiYjRhZTA4MDg0YjdhOTAwYmZlMWM3MDNjOTg4ZjM0LmVvdFwiO1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcImYzMTNhMGY5ODc2NzJkYzc3YThjMjQzMzgwZTIwODllLndvZmYyXCI7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjRjYzkzMDE2M2Y2ZDUwODhkZmE1ZmVmNjE5ZDg3Y2I5LndvZmZcIjtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiYjQ4MzU0NDMwM2ZjZmM3ZTFlMzQxNTlhNDExZmNkY2IudHRmXCI7XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcImY0MDM3ZjhkMTZmNDMzNzliMTgwMjA3MDZiZGM5NTY3LnN2Z1wiO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG5cdCovXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xuXHRcdFx0dmFyIG1lbW87XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRyZXR1cm4gbWVtbztcblx0XHRcdH07XG5cdFx0fSxcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcblx0XHR9KSxcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuXHRcdH0pLFxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0XHRpZihmYWxzZSkge1xuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdFx0fVxuXHRcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cdFxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblx0XG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXHRcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHRcdH1cblx0XHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHRcdH1cblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHRcdHZhciBzdHlsZXMgPSBbXTtcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdFx0fVxuXHRcdHJldHVybiBzdHlsZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdFx0aWYoaWR4ID49IDApIHtcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xuXHRcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0dXBkYXRlKG9iaik7XG5cdFxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iaikge1xuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXHRcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdFx0fTtcblx0fSkoKTtcblx0XG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cdFxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblx0XG5cdFx0aWYgKG1lZGlhKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpO1xuXHRcdH1cblx0XG5cdFx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2phdmFzY3JpcHQtZGVidWdnaW5nXG5cdFx0XHQvLyB0aGlzIG1ha2VzIHNvdXJjZSBtYXBzIGluc2lkZSBzdHlsZSB0YWdzIHdvcmsgcHJvcGVybHkgaW4gQ2hyb21lXG5cdFx0XHRjc3MgKz0gJ1xcbi8qIyBzb3VyY2VVUkw9JyArIHNvdXJjZU1hcC5zb3VyY2VzWzBdICsgJyAqLyc7XG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHRcdH1cblx0XG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuXHRcdFx0fVxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHRcdH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF91cGxvYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBsb2FkKTtcblx0XG5cdHZhciBfcGxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX3BsYXllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGF5ZXIpO1xuXHRcblx0dmFyIF9seXJpY0VkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9seXJpY0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9seXJpY0VkaXRvcik7XG5cdFxuXHR2YXIgX21vZGFscyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXHRcblx0dmFyIF9tb2RhbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kYWxzKTtcblx0XG5cdHZhciBfbmF2TWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0dmFyIF9uYXZNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25hdk1lbnUpO1xuXHRcblx0dmFyIF9scmNLaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgdmFyIGxyY0Zvcm1hdCA9IF9jYWNoZTIuZGVmYXVsdC5scmNGb3JtYXQ7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbXVzaWNVcmw6ICcnLFxuXHQgICAgICBlZGl0aW5nOiBfY2FjaGUyLmRlZmF1bHQuZWRpdGluZyxcblx0XG5cdCAgICAgIGxyY0Zvcm1hdDogbHJjRm9ybWF0LFxuXHQgICAgICBydW5uZXI6IG5ldyBfbHJjS2l0LlJ1bm5lcihfbHJjS2l0LkxyYy5wYXJzZShscmNGb3JtYXQpKSxcblx0ICAgICAgbHlyaWNBcnJheTogX2NhY2hlMi5kZWZhdWx0Lmx5cmljQXJyYXlcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuXHQgICAgd2luZG93LiRBcHAgPSB0aGlzO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZE11c2ljOiBmdW5jdGlvbiB1cGxvYWRNdXNpYyhtdXNpYykge1xuXHQgICAgICAvLyBjYWNoZS5tdXNpYyA9IG11c2ljXG5cdCAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IG11c2ljO1xuXHQgICAgfSxcblx0ICAgIHJlbW92ZUx5cmljOiBmdW5jdGlvbiByZW1vdmVMeXJpYygpIHtcblx0ICAgICAgdGhpcy5scmNGb3JtYXQgPSAnJztcblx0ICAgICAgdGhpcy5seXJpY0FycmF5ID0gW107XG5cdCAgICAgIHRoaXMucnVubmVyID0gbmV3IF9scmNLaXQuUnVubmVyKCk7XG5cdCAgICB9LFxuXHQgICAgcGxheXRvOiBmdW5jdGlvbiBwbGF5dG8odGltZSkge1xuXHQgICAgICB0aGlzLiRyZWZzLnBsYXllci5wbGF5dG8odGltZSk7XG5cdCAgICB9LFxuXHQgICAgdGltZXVwZGF0ZTogZnVuY3Rpb24gdGltZXVwZGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgdGhpcy4kcmVmcy5seXJpYy4kZW1pdCgndGltZXVwZGF0ZScsIHRpbWVzdGFtcCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB3YXRjaDoge1xuXHQgICAgZWRpdGluZzogZnVuY3Rpb24gZWRpdGluZyh2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LmVkaXRpbmcgPSB2YWw7XG5cdCAgICB9LFxuXHQgICAgbHJjRm9ybWF0OiBmdW5jdGlvbiBscmNGb3JtYXQodmFsKSB7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC5scmNGb3JtYXQgPSB2YWw7XG5cdCAgICAgIHRoaXMucnVubmVyID0gbmV3IF9scmNLaXQuUnVubmVyKF9scmNLaXQuTHJjLnBhcnNlKHRoaXMubHJjRm9ybWF0KSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGx5cmljQXJyYXk6IHtcblx0ICAgICAgZGVlcDogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICBfY2FjaGUyLmRlZmF1bHQubHlyaWNBcnJheSA9IHRoaXMubHlyaWNBcnJheTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgVXBsb2FkOiBfdXBsb2FkMi5kZWZhdWx0LFxuXHQgICAgUGxheWVyOiBfcGxheWVyMi5kZWZhdWx0LFxuXHQgICAgTHlyaWNFZGl0b3I6IF9seXJpY0VkaXRvcjIuZGVmYXVsdCxcblx0ICAgIE1vZGFsczogX21vZGFsczIuZGVmYXVsdCxcblx0ICAgIC8vIE1lbnUsXG5cdCAgICBOYXZNZW51OiBfbmF2TWVudTIuZGVmYXVsdFxuXHQgIH1cblx0fTtcblx0Ly8gaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51J1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0yNzAyNDEyM1wiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMjcwMjQxMjMmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3VwbG9hZC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMjcwMjQxMjMmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3VwbG9hZC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0W3R5cGU9ZmlsZV1bZGF0YS12LTI3MDI0MTIzXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciB1cGxvYWQgPSB0aGlzLiRyZWZzLnVwbG9hZDtcblx0ICAgIHVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHQgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgX3RoaXMuJGVtaXQoJ3VwbG9hZGVkJywgZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cdCAgICAgIH07XG5cdCAgICAgIGlmICh1cGxvYWQuZmlsZXMubGVuZ3RoID4gMCAmJiBfdGhpcy50eXBlX21hdGNoKCkpIHtcblx0ICAgICAgICByZWFkZXJbJ3JlYWRBcycgKyBfdGhpcy5yZWFkRm9ybWF0XSh1cGxvYWQuZmlsZXNbMF0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHByb3BzOiB7XG5cdCAgICB0eXBlOiB7XG5cdCAgICAgIHR5cGU6IFN0cmluZ1xuXHQgICAgfSxcblx0ICAgIHJlYWRGb3JtYXQ6IHtcblx0ICAgICAgdHlwZTogU3RyaW5nLFxuXHQgICAgICBkZWZhdWx0OiAnVGV4dCdcblx0ICAgIH0sXG5cdCAgICBhY2NlcHQ6IHtcblx0ICAgICAgdHlwZTogU3RyaW5nLFxuXHQgICAgICBkZWZhdWx0OiAnJ1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWV0aG9kczoge1xuXHQgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoKSB7XG5cdCAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmNsaWNrKCk7XG5cdCAgICB9LFxuXHQgICAgdHlwZV9tYXRjaDogZnVuY3Rpb24gdHlwZV9tYXRjaCgpIHtcblx0ICAgICAgaWYgKHRoaXMudHlwZSkge1xuXHQgICAgICAgIHZhciBtYXRjaCA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy50eXBlICsgJy8nKTtcblx0ICAgICAgICByZXR1cm4gbWF0Y2gudGVzdCh0aGlzLiRyZWZzLnVwbG9hZC5maWxlc1swXS50eXBlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS51cGxvYWRcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuXHQgIH0pLCBcIiBcIiwgX3ZtLl90KFwiZGVmYXVsdFwiKSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICByZWY6IFwidXBsb2FkXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInR5cGVcIjogXCJmaWxlXCIsXG5cdCAgICAgIFwiYWNjZXB0XCI6IF92bS5hY2NlcHRcblx0ICAgIH1cblx0ICB9KV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtOWIyOTQzZmFcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucm9vdFtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDozMHB4fS5yb290Lm1vYmlsZVtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDo2MHB4fS5tb3JlW2RhdGEtdi05YjI5NDNmYV0sLnBsYXllcltkYXRhLXYtOWIyOTQzZmFdLC5zb3VuZFtkYXRhLXYtOWIyOTQzZmFde2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59Lm1vcmVbZGF0YS12LTliMjk0M2ZhXSwucGxheWVyW2RhdGEtdi05YjI5NDNmYV17YmFja2dyb3VuZDojZDBkYWU0O2NvbG9yOiMxMTYxYjM7aGVpZ2h0OjMwcHh9LmN0cmwtYnRuW2RhdGEtdi05YjI5NDNmYV17Zm9udC1zaXplOjIwcHg7cGFkZGluZzowIDFweH0ucmFuZ2VbZGF0YS12LTliMjk0M2ZhXXttYXJnaW4tbGVmdDo0cHg7bWFyZ2luLXJpZ2h0OjRweH0ucmFuZ2UubXVzaWNbZGF0YS12LTliMjk0M2ZhXXtmbGV4OjF9dGltZS1wYW5lbFtkYXRhLXYtOWIyOTQzZmFde3BhZGRpbmc6MCA1cHh9Lm1vcmVbZGF0YS12LTliMjk0M2ZhXXtoZWlnaHQ6MzBweDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxMH0ubW9iaWxlIC5tb3JlW2RhdGEtdi05YjI5NDNmYV17anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LnNvdW5kW2RhdGEtdi05YjI5NDNmYV17cGFkZGluZzowIDVweDt3aWR0aDozMCV9LnNvdW5kIC5yYW5nZS52b2x1bWVbZGF0YS12LTliMjk0M2ZhXXtmbGV4OjF9LnNvdW5kIC5jdHJsLW11dGUtYnRuW2RhdGEtdi05YjI5NDNmYV17d2lkdGg6MjZweDtmb250LXNpemU6MThweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JhbmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX3JhbmdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhbmdlKTtcblx0XG5cdHZhciBfdGltZVBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX3RpbWVQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lUGFuZWwpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgaG92ZXI6IGZhbHNlLFxuXHQgICAgICBpc01vYmlsZTogX3V0aWxzLmlzTW9iaWxlLFxuXHRcblx0ICAgICAgcHJvY2VzczogMCxcblx0ICAgICAgbXV0ZWQ6IGZhbHNlLFxuXHQgICAgICBwYXVzZWQ6IHRydWUsXG5cdCAgICAgIGN1cnJlbnRUaW1lOiAwLFxuXHQgICAgICBkdXJhdGlvbjogMCxcblx0ICAgICAgdm9sdW1lOiAwLFxuXHQgICAgICBzcmM6ICcnLFxuXHQgICAgICBhdWRpbzogbnVsbFxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICBzZWVrOiBmdW5jdGlvbiBzZWVrKHBlcmNlbnQpIHtcblx0ICAgICAgdGhpcy5wbGF5dG8ocGFyc2VGbG9hdChwZXJjZW50ICogdGhpcy5hdWRpby5kdXJhdGlvbikpO1xuXHQgICAgfSxcblx0ICAgIHZvbHVtZVNlZWs6IGZ1bmN0aW9uIHZvbHVtZVNlZWsocGVyY2VudCkge1xuXHQgICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lID0gcGVyY2VudDtcblx0ICAgIH0sXG5cdCAgICBwbGF5dG86IGZ1bmN0aW9uIHBsYXl0byh0aW1lKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIE1heWJlIG5vdCB1bmRlcnN0YW5kIHdoeSBoZXJlIHVzZSBgbmV4dFRpY2tgXG5cdCAgICAgIC8vIFRoaXMncyBidWcgb2YgY2hyb21lLCBkYXRhVVJMIG11c2ljIHdpbGwgb3ZlcmxhcCBwbGF5IHdoZW4gY2hhbmdlIGN1cnJlbnRUaW1lIGJlZm9yZSBjYWxsIGBhdWRpby5wbGF5KClgXG5cdCAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpcy5jdXJyZW50VGltZSA9IF90aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGltZTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cdCAgICB0aGlzLmF1ZGlvLnByZWxvYWQgPSAnbWV0YWRhdGEnO1xuXHQgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLmR1cmF0aW9uID0gX3RoaXMyLmF1ZGlvLmR1cmF0aW9uO1xuXHQgICAgfSk7XG5cdCAgICAvLyBUT0RPIG9uIHByb2dyZXNzXG5cdCAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5jdXJyZW50VGltZSA9IF90aGlzMi5hdWRpby5jdXJyZW50VGltZTtcblx0ICAgICAgX3RoaXMyLnByb2Nlc3MgPSBfdGhpczIuY3VycmVudFRpbWUgLyBfdGhpczIuZHVyYXRpb247XG5cdCAgICAgIF90aGlzMi4kZW1pdCgndGltZXVwZGF0ZScsIF90aGlzMi5jdXJyZW50VGltZSk7XG5cdCAgICB9KTtcblx0ICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi4kZW1pdCgndGltZXVwZGF0ZScsIF90aGlzMi5jdXJyZW50VGltZSk7XG5cdCAgICAgIF90aGlzMi5wcm9jZXNzID0gMDtcblx0ICAgICAgX3RoaXMyLnBhdXNlZCA9IHRydWU7XG5cdCAgICB9KTtcblx0ICAgIF91dGlscy5nbG9iYWxLZXlkb3duLm9uKCdzcGFjZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLnBhdXNlZCA9ICFfdGhpczIucGF1c2VkO1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KS5vbignYXJyb3dsZWZ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIF90aGlzMi4kZW1pdCgnYmFja3dhcmQnKTtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSkub24oJ2Fycm93cmlnaHQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgX3RoaXMyLiRlbWl0KCdmb3J3YXJkJyk7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHRoaXMuJG9uKCdiYWNrd2FyZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLnBsYXl0byhfdGhpczIuYXVkaW8uY3VycmVudFRpbWUgLSA1KTtcblx0ICAgIH0pLiRvbignZm9yd2FyZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLnBsYXl0byhfdGhpczIuYXVkaW8uY3VycmVudFRpbWUgKyA1KTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHdhdGNoOiB7XG5cdCAgICBzcmM6IHtcblx0ICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuXHQgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHNyYykge1xuXHQgICAgICAgIGlmIChzcmMpIHtcblx0ICAgICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcblx0ICAgICAgICAgIHRoaXMuYXVkaW8uc3JjID0gc3JjO1xuXHQgICAgICAgICAgdGhpcy5wcm9jZXNzID0gMDtcblx0ICAgICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5hdWRpby52b2x1bWU7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5hdWRpby5jdXJyZW50VGltZTtcblx0ICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmF1ZGlvLmR1cmF0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3ModmFsKSB7XG5cdCAgICAgIHRoaXMuJHJlZnMubXVzaWNSYW5nZS5jaGFuZ2VWYWx1ZSh0aGlzLnByb2Nlc3MpO1xuXHQgICAgfSxcblx0ICAgIHZvbHVtZTogZnVuY3Rpb24gdm9sdW1lKHZhbCkge1xuXHQgICAgICB0aGlzLiRyZWZzLnNvdW5kUmFuZ2UuY2hhbmdlVmFsdWUodGhpcy52b2x1bWUpO1xuXHQgICAgfSxcblx0ICAgIG11dGVkOiBmdW5jdGlvbiBtdXRlZCh2YWwpIHtcblx0ICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IHZhbDtcblx0ICAgIH0sXG5cdCAgICBwYXVzZWQ6IGZ1bmN0aW9uIHBhdXNlZCgpIHtcblx0ICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBSYW5nZTogX3JhbmdlMi5kZWZhdWx0LFxuXHQgICAgVGltZVBhbmVsOiBfdGltZVBhbmVsMi5kZWZhdWx0XG5cdCAgfVxuXHR9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mylcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi01MGJiNTMwYlwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTBiYjUzMGImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYmFyW2RhdGEtdi01MGJiNTMwYl17cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwcHh9LndyYXBbZGF0YS12LTUwYmI1MzBiXXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6IzEyM2I1ZDtib3JkZXItcmFkaXVzOjVweDtvdmVyZmxvdzpoaWRkZW59LnZhbHVlW2RhdGEtdi01MGJiNTMwYl17aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfS50aHVtYltkYXRhLXYtNTBiYjUzMGJde2N1cnNvcjptb3ZlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotM3B4O3dpZHRoOjEwcHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwYjIwMzE7Ym9yZGVyLXJhZGl1czoxNnB4O3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2VsZlZhbHVlOiAwLFxuXHQgICAgICBkcmFnaW5nOiBmYWxzZSxcblx0ICAgICAgZHJhZ1ZhbHVlOiAwXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHByb3BzOiB7XG5cdCAgICB2YWx1ZToge1xuXHQgICAgICB0eXBlOiBOdW1iZXIsXG5cdCAgICAgIGRlZmF1bHQ6IDAsXG5cdCAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWwgPj0gMCAmJiB2YWwgPD0gMTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWV0aG9kczoge1xuXHQgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuJHJlZnMudGh1bWIpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShldmVudC5vZmZzZXRYKTtcblx0ICAgICAgdGhpcy5lbWl0U2VlaygpO1xuXHQgICAgfSxcblx0ICAgIGVtaXRTZWVrOiBmdW5jdGlvbiBlbWl0U2VlaygpIHtcblx0ICAgICAgdGhpcy4kZW1pdCgnc2VlaycsIHRoaXMuc2VsZlZhbHVlKTtcblx0ICAgIH0sXG5cdCAgICBlbWl0RHJhZ1NlZWs6IGZ1bmN0aW9uIGVtaXREcmFnU2VlaygpIHtcblx0ICAgICAgdGhpcy4kZW1pdCgnZHJhZy1zZWVrJywgdGhpcy5zZWxmVmFsdWUpO1xuXHQgICAgfSxcblx0ICAgIG9mZnNldDJ2YWx1ZTogZnVuY3Rpb24gb2Zmc2V0MnZhbHVlKG9mZnNldCkge1xuXHQgICAgICByZXR1cm4gb2Zmc2V0IC8gdGhpcy4kcmVmcy5iYXIuY2xpZW50V2lkdGg7XG5cdCAgICB9LFxuXHQgICAgY2hhbmdlVmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVZhbHVlKHZhbHVlKSB7XG5cdCAgICAgIGlmICghdGhpcy5kcmFnaW5nKSB7XG5cdCAgICAgICAgdGhpcy5zZWxmVmFsdWUgPSB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYjtcblx0ICAgIHZhciBiYXIgPSB0aGlzLiRyZWZzLmJhcjtcblx0XG5cdCAgICB2YXIgZHJhZ2dlciA9IG5ldyBfdXRpbHMuRHJhZ2dlcih0aHVtYiwgYmFyKTtcblx0ICAgIGRyYWdnZXIub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5kcmFnaW5nID0gdHJ1ZTtcblx0ICAgIH0pLm9uKCdtb3ZlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zZWxmVmFsdWUgPSBfdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpO1xuXHQgICAgICBfdGhpcy5lbWl0RHJhZ1NlZWsoKTtcblx0ICAgIH0pLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLmRyYWdpbmcgPSBmYWxzZTtcblx0ICAgICAgX3RoaXMuc2VsZlZhbHVlID0gX3RoaXMub2Zmc2V0MnZhbHVlKGRyYWdnZXIub2Zmc2V0KTtcblx0ICAgICAgX3RoaXMuZW1pdFNlZWsoKTtcblx0ICAgIH0pO1xuXHQgICAgZHJhZ2dlci5jcmVhdGUoKTtcblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVG9vbHRpcFBvc2l0aW9uID0gZXhwb3J0cy5EcmFnZ2VyID0gZXhwb3J0cy5nbG9iYWxLZXlkb3duID0gZXhwb3J0cy5jYWNoZSA9IGV4cG9ydHMuQ2FjaGUgPSBleHBvcnRzLkRlbGF5SG92ZXIgPSBleHBvcnRzLlNjcm9sbGVyID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBleHBvcnRzLmlzTW9iaWxlID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblx0XG5cdGV4cG9ydHMuc2F2ZUxyYyA9IHNhdmVMcmM7XG5cdGV4cG9ydHMudGltZXN0YW1wMnRpbWVzdHIgPSB0aW1lc3RhbXAydGltZXN0cjtcblx0ZXhwb3J0cy50aW1lc3RyMnRpbWVzdGFtcCA9IHRpbWVzdHIydGltZXN0YW1wO1xuXHRcblx0dmFyIF9ldmVudGVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdHZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cdFxuXHR2YXIgX2ZpbGVzYXZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9maWxlc2F2ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsZXNhdmVyKTtcblx0XG5cdHZhciBfdW5pZHJhZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF91bmlkcmFnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuaWRyYWdnZXIpO1xuXHRcblx0dmFyIF9pc19qcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHRcblx0dmFyIF9pc19qczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc19qcyk7XG5cdFxuXHR2YXIgX2V4dGVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9leHRlbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kKTtcblx0XG5cdHZhciBfY2xvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIGlzTW9iaWxlID0gZXhwb3J0cy5pc01vYmlsZSA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcblx0XG5cdHZhciBFdmVudEVtaXR0ZXIgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG5cdCAgX2luaGVyaXRzKEV2ZW50RW1pdHRlciwgX0V2ZW50RW1pdHRlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRXZlbnRFbWl0dGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXZlbnRFbWl0dGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbe1xuXHQgICAga2V5OiAnb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50cykge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoX2lzX2pzMi5kZWZhdWx0LmFycmF5KGV2ZW50cykpIHtcblx0ICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgICAgIHZhciBfZ2V0Mjtcblx0XG5cdCAgICAgICAgICAoX2dldDIgPSBfZ2V0KEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFdmVudEVtaXR0ZXIucHJvdG90eXBlKSwgJ29uJywgX3RoaXMyKSkuY2FsbC5hcHBseShfZ2V0MiwgW190aGlzMiwgaXRdLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIF9nZXQzO1xuXHRcblx0ICAgICAgICAoX2dldDMgPSBfZ2V0KEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFdmVudEVtaXR0ZXIucHJvdG90eXBlKSwgJ29uJywgdGhpcykpLmNhbGwuYXBwbHkoX2dldDMsIFt0aGlzLCBldmVudHNdLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuXHR9KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXHRcblx0dmFyIFNjcm9sbGVyID0gZXhwb3J0cy5TY3JvbGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBTY3JvbGxlcih2aWV3cG9ydCkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbGVyKTtcblx0XG5cdCAgICB0aGlzLnRpbWVyID0gW107XG5cdCAgICB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcblx0ICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcblx0ICAgIHRoaXMuY29uZmlnID0gKDAsIF9leHRlbmQyLmRlZmF1bHQpKHsgZGVsYXk6IDMsIHRpbWU6IDEsIHN0ZXA6IDEwMCB9LCBjb25maWcpO1xuXHRcblx0ICAgIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoIV90aGlzMy5pc0NhblNjcm9sbCgpKSB7XG5cdCAgICAgICAgX3RoaXMzLmxldERlbGF5KCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFNjcm9sbGVyLCBbe1xuXHQgICAga2V5OiAnbGV0RGVsYXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxldERlbGF5KCkge1xuXHQgICAgICB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5jb25maWcuZGVsYXkgKiAxMDAwO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NsZWFyVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG5cdCAgICAgIHRoaXMudGltZXIuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGl0KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMudGltZXIgPSBbXTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0NhblNjcm9sbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNDYW5TY3JvbGwoKSB7XG5cdCAgICAgIHJldHVybiBEYXRlLm5vdygpID4gdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Njcm9sbFRvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUbyh0YXJnZXRUb3ApIHtcblx0ICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgZm9yY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXHRcblx0ICAgICAgaWYgKCF0aGlzLmlzQ2FuU2Nyb2xsKCkgJiYgZm9yY2UgPT09IGZhbHNlKSByZXR1cm47XG5cdCAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuXHRcblx0ICAgICAgdmFyIHN0YXJ0VG9wID0gdGhpcy52aWV3cG9ydC5zY3JvbGxUb3A7XG5cdCAgICAgIHZhciBlbmRUb3AgPSB0YXJnZXRUb3A7XG5cdCAgICAgIHZhciBkaWZmVG9wID0gZW5kVG9wIC0gc3RhcnRUb3A7XG5cdCAgICAgIGlmIChkaWZmVG9wID09PSAwKSByZXR1cm47XG5cdFxuXHQgICAgICB2YXIgcGVyU3RlcCA9IGRpZmZUb3AgLyB0aGlzLmNvbmZpZy5zdGVwO1xuXHRcblx0ICAgICAgdmFyIGN1clRvcCA9IHN0YXJ0VG9wO1xuXHQgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuY29uZmlnLnN0ZXA7ICsraSkge1xuXHQgICAgICAgIChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgX3RoaXM0LnRpbWVyLnB1c2goc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJUb3AgIT09IF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3ApIHtcblx0ICAgICAgICAgICAgICBfdGhpczQuY2xlYXJUaW1lcigpO1xuXHQgICAgICAgICAgICAgIF90aGlzNC5sZXREZWxheSgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3AgPSBzdGFydFRvcCArIHBlclN0ZXAgKiBpO1xuXHQgICAgICAgICAgICAgIGN1clRvcCA9IF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3A7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sIF90aGlzNC5jb25maWcudGltZSAqIDEwMDAgKiBpIC8gX3RoaXM0LmNvbmZpZy5zdGVwKSk7XG5cdCAgICAgICAgfSkoaSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBTY3JvbGxlcjtcblx0fSgpO1xuXHRcblx0dmFyIERlbGF5SG92ZXIgPSBleHBvcnRzLkRlbGF5SG92ZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcjIpIHtcblx0ICBfaW5oZXJpdHMoRGVsYXlIb3ZlciwgX0V2ZW50RW1pdHRlcjIpO1xuXHRcblx0ICBmdW5jdGlvbiBEZWxheUhvdmVyKGVsZW1lbnQpIHtcblx0ICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWxheUhvdmVyKTtcblx0XG5cdCAgICB2YXIgX3RoaXM1ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERlbGF5SG92ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEZWxheUhvdmVyKSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgX3RoaXM1LmVudGVyVGltZXIgPSBudWxsO1xuXHQgICAgX3RoaXM1LmxlYXZlVGltZXIgPSBudWxsO1xuXHQgICAgX3RoaXM1LnNob3cgPSBmYWxzZTtcblx0XG5cdCAgICBfdGhpczUuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICBfdGhpczUuY2ZnID0gKDAsIF9leHRlbmQyLmRlZmF1bHQpKHtcblx0ICAgICAgZW50ZXJEZWxheTogMC41LFxuXHQgICAgICBsZWF2ZURlbGF5OiAwLjMsXG5cdCAgICAgIHVuaXF1ZTogdHJ1ZVxuXHQgICAgfSwgY29uZmlnKTtcblx0XG5cdCAgICBfdGhpczUuaG92ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczUuc2hvdyA9IHRydWU7XG5cdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzNS5zaG93ID0gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAoaXNNb2JpbGUpIHtcblx0ICAgICAgX3RoaXM1LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKF90aGlzNS5zaG93KSB7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnbGVhdmUnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXM1LmNsb3NlTGFzdEhvdmVyKCk7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnZW50ZXInKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgX3RoaXM1LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpczUuY2xlYXJMZWF2ZVRpbWVyKCk7XG5cdCAgICAgICAgX3RoaXM1LmVudGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF90aGlzNS5jbG9zZUxhc3RIb3ZlcigpO1xuXHQgICAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIgPSBfdGhpczU7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnZW50ZXInKTtcblx0ICAgICAgICB9LCAxMDAwICogX3RoaXM1LmNmZy5lbnRlckRlbGF5KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIF90aGlzNS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM1LmNsZWFyRW50ZXJUaW1lcigpO1xuXHQgICAgICAgIF90aGlzNS5sZWF2ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnbGVhdmUnKTtcblx0ICAgICAgICB9LCAxMDAwICogX3RoaXM1LmNmZy5sZWF2ZURlbGF5KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3RoaXM1O1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKERlbGF5SG92ZXIsIFt7XG5cdCAgICBrZXk6ICdjbG9zZUxhc3RIb3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VMYXN0SG92ZXIoKSB7XG5cdCAgICAgIGlmICh0aGlzLmNmZy51bmlxdWUgJiYgRGVsYXlIb3Zlci5MYXN0SG92ZXIgJiYgRGVsYXlIb3Zlci5MYXN0SG92ZXIgIT0gdGhpcykge1xuXHQgICAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyLmVtaXQoJ2xlYXZlJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhckxlYXZlVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyTGVhdmVUaW1lcigpIHtcblx0ICAgICAgaWYgKHRoaXMubGVhdmVUaW1lciAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZXIpO1xuXHQgICAgICAgIHRoaXMubGVhdmVUaW1lciA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhckVudGVyVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyRW50ZXJUaW1lcigpIHtcblx0ICAgICAgaWYgKHRoaXMuZW50ZXJUaW1lciAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVudGVyVGltZXIpO1xuXHQgICAgICAgIHRoaXMuZW50ZXJUaW1lciA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdob3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaG92ZXIoZW50ZXIsIGxlYXZlKSB7XG5cdCAgICAgIHRoaXMub24oJ2VudGVyJywgZW50ZXIpLm9uKCdsZWF2ZScsIGxlYXZlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBEZWxheUhvdmVyO1xuXHR9KEV2ZW50RW1pdHRlcik7XG5cdFxuXHREZWxheUhvdmVyLkxhc3RIb3ZlciA9IG51bGw7XG5cdFxuXHRcblx0dmFyIGlzRmlsZVNhdmVyU3VwcG9ydGVkO1xuXHR0cnkge1xuXHQgIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gISFuZXcgQmxvYigpO1xuXHR9IGNhdGNoIChlKSB7XG5cdCAgaXNGaWxlU2F2ZXJTdXBwb3J0ZWQgPSBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2F2ZUxyYyhzdHIsIG5hbWUpIHtcblx0ICBpZiAoaXNGaWxlU2F2ZXJTdXBwb3J0ZWQpIHtcblx0ICAgIF9maWxlc2F2ZXIyLmRlZmF1bHQuc2F2ZUFzKG5ldyBCbG9iKFtzdHJdLCB7IHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnIH0pLCBuYW1lICsgJy5scmMnKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgYWxlcnQoJ1BsZWFzZSB1cGdyYWRlIHlvdXIgYnJvd3NlcicpO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIENhY2hlID0gZXhwb3J0cy5DYWNoZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDYWNoZSgpIHtcblx0ICAgIHZhciBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdscmMnO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZSk7XG5cdFxuXHQgICAgdGhpcy52ZXJzaW9uID0gMjtcblx0XG5cdCAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDYWNoZSwgW3tcblx0ICAgIGtleTogJ3JlYWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoKSB7XG5cdCAgICAgIHZhciBkYXRhO1xuXHQgICAgICBpZiAodGhpcy5wcmVmaXggaW4gbG9jYWxTdG9yYWdlKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt0aGlzLnByZWZpeF0pO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkYXRhLiR2ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcblx0ICAgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4ge307XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnd3JpdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlKGRhdGEpIHtcblx0ICAgICAgZGF0YS4kdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcblx0ICAgICAgbG9jYWxTdG9yYWdlW3RoaXMucHJlZml4XSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKCk7XG5cdCAgICAgIHJldHVybiBrZXkgaW4gZGF0YSA/IGRhdGFba2V5XSA6IGRlZmF1bHRWYWx1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKCk7XG5cdCAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHRoaXMud3JpdGUoZGF0YSk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQ2FjaGU7XG5cdH0oKTtcblx0XG5cdHZhciBjYWNoZSA9IGV4cG9ydHMuY2FjaGUgPSBuZXcgQ2FjaGUoKTtcblx0XG5cdHZhciBnbG9iYWxLZXlkb3duID0gZXhwb3J0cy5nbG9iYWxLZXlkb3duID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgIGlmICgvKGlucHV0fHNlbGVjdHxvcHRpb258dGV4dGFyZWEpLy50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSByZXR1cm47XG5cdFxuXHQgIHZhciBjb2RlID0gZXZlbnQuY29kZS50b0xvd2VyQ2FzZSgpO1xuXHQgIHZhciByZXN1bHRzID0gZ2xvYmFsS2V5ZG93bi5saXN0ZW5lcnMoY29kZSkubWFwKGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIGZuKGV2ZW50KSA9PT0gZmFsc2U7XG5cdCAgfSk7XG5cdCAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG5cdCAgICB2YXIgaGFzRmFsc2UgPSBmYWxzZTtcblx0ICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgaWYgKGl0KSBoYXNGYWxzZSA9IHRydWU7XG5cdCAgICB9KTtcblx0ICAgIGlmIChoYXNGYWxzZSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIERyYWdnZXIgPSBleHBvcnRzLkRyYWdnZXIgPSBmdW5jdGlvbiAoX1VuaWRyYWdnZXIpIHtcblx0ICBfaW5oZXJpdHMoRHJhZ2dlciwgX1VuaWRyYWdnZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBEcmFnZ2VyKGVsZW0sIGNvbnRhaW5lcikge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYWdnZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpczYgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJhZ2dlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERyYWdnZXIpKS5jYWxsKHRoaXMsIGVsZW0pKTtcblx0XG5cdCAgICBfdGhpczYuZWUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdCAgICBfdGhpczYuZWxlbWVudCA9IGVsZW07XG5cdCAgICBfdGhpczYuY29udGFpbmVyID0gY29udGFpbmVyO1xuXHQgICAgcmV0dXJuIF90aGlzNjtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEcmFnZ2VyLCBbe1xuXHQgICAga2V5OiAnb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKCkge1xuXHQgICAgICB2YXIgX2VlO1xuXHRcblx0ICAgICAgcmV0dXJuIChfZWUgPSB0aGlzLmVlKS5vbi5hcHBseShfZWUsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZW1pdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdCgpIHtcblx0ICAgICAgdmFyIF9lZTI7XG5cdFxuXHQgICAgICByZXR1cm4gKF9lZTIgPSB0aGlzLmVlKS5lbWl0LmFwcGx5KF9lZTIsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdCAgICAgIHRoaXMuaGFuZGxlcyA9IFt0aGlzLmVsZW1lbnRdO1xuXHQgICAgICB0aGlzLmJpbmRIYW5kbGVzKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhZ1N0YXJ0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnU3RhcnQoZXZlbnQpIHtcblx0ICAgICAgdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ID0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnQ7XG5cdCAgICAgIHRoaXMuZW1pdCgnc3RhcnQnLCBldmVudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhZ01vdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYWdNb3ZlKGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKSB7XG5cdCAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ICsgbW92ZVZlY3Rvci54O1xuXHQgICAgICBpZiAodGhpcy5vZmZzZXQgPCAwKSB7XG5cdCAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMub2Zmc2V0ID4gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgpIHtcblx0ICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZW1pdCgnbW92ZScsIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkcmFnRW5kJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnRW5kKGV2ZW50LCBwb2ludGVyKSB7XG5cdCAgICAgIHRoaXMuZW1pdCgnZW5kJywgZXZlbnQsIHBvaW50ZXIpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERyYWdnZXI7XG5cdH0oX3VuaWRyYWdnZXIyLmRlZmF1bHQpO1xuXHRcblx0ZnVuY3Rpb24gdGltZXN0YW1wMnRpbWVzdHIodGltZSkge1xuXHQgIHZhciBvbmx5SW50ZWdlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cdFxuXHQgIGlmICghdGltZSkgdGltZSA9IDA7XG5cdCAgdmFyIHBhZFplcm8gPSBmdW5jdGlvbiBwYWRaZXJvKG51bSkge1xuXHQgICAgdmFyIHNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDI7XG5cdFxuXHQgICAgbnVtID0gbnVtLnRvU3RyaW5nKCk7XG5cdCAgICB3aGlsZSAobnVtLnNwbGl0KCcuJylbMF0ubGVuZ3RoIDwgc2l6ZSkge1xuXHQgICAgICBudW0gPSAnMCcgKyBudW07XG5cdCAgICB9cmV0dXJuIG51bTtcblx0ICB9O1xuXHQgIGlmIChvbmx5SW50ZWdlcikge1xuXHQgICAgcmV0dXJuIHBhZFplcm8ocGFyc2VJbnQodGltZSAvIDYwLCAxMCkpICsgJzonICsgcGFkWmVybyhwYXJzZUludCh0aW1lICUgNjAsIDEwKSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBwYWRaZXJvKHBhcnNlSW50KHRpbWUgLyA2MCwgMTApKSArICc6JyArIHBhZFplcm8oKHRpbWUgJSA2MCkudG9GaXhlZCgyKSwgMik7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0aW1lc3RyMnRpbWVzdGFtcChzdHIpIHtcblx0ICB2YXIgX3N0ciRzcGxpdCA9IHN0ci5zcGxpdCgnOicpLFxuXHQgICAgICBfc3RyJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9zdHIkc3BsaXQsIDIpLFxuXHQgICAgICBtaW51dGUgPSBfc3RyJHNwbGl0MlswXSxcblx0ICAgICAgc2Vjb25kID0gX3N0ciRzcGxpdDJbMV07XG5cdFxuXHQgIHJldHVybiBwYXJzZUludChtaW51dGUsIDEwKSAqIDYwICsgcGFyc2VGbG9hdChzZWNvbmQpO1xuXHR9XG5cdFxuXHR2YXIgVG9vbHRpcFBvc2l0aW9uID0gZXhwb3J0cy5Ub29sdGlwUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVG9vbHRpcFBvc2l0aW9uKHRhcmdldCwgdG9vbHRpcCkge1xuXHQgICAgdmFyIGRpciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2JvdHRvbSc7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2x0aXBQb3NpdGlvbik7XG5cdFxuXHQgICAgdGhpcy5kaXJzID0gWydib3R0b20nLCAncmlnaHQnLCAndG9wJywgJ2xlZnQnXTtcblx0XG5cdCAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0ICAgIHRoaXMudG9vbHRpcCA9IHRvb2x0aXA7XG5cdCAgICB0aGlzLnZpZXdwb3J0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHQgICAgdGhpcy5nZW5lcmF0ZURpcnMoZGlyKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUb29sdGlwUG9zaXRpb24sIFt7XG5cdCAgICBrZXk6ICdnZW5lcmF0ZURpcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlRGlycyhkaXIpIHtcblx0ICAgICAgdmFyIGlkeCA9IHRoaXMuZGlycy5pbmRleE9mKGRpcik7XG5cdCAgICAgIHRoaXMuZGlycy5zcGxpY2UoaWR4LCAxKTtcblx0ICAgICAgdGhpcy5kaXJzLnVuc2hpZnQoZGlyKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGVja1JlY3RPdmVyZmxvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tSZWN0T3ZlcmZsb3cocmVjdCkge1xuXHQgICAgICByZXR1cm4gcmVjdC5sZWZ0ID49IDAgJiYgcmVjdC50b3AgPj0gMCAmJiByZWN0LnJpZ2h0IDw9IHRoaXMudmlld3BvcnQuY2xpZW50V2lkdGggJiYgcmVjdC5ib3R0b20gPD0gdGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVjdE92ZXJmbG93Q291bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlY3RPdmVyZmxvd0NvdW50KHJlY3QpIHtcblx0ICAgICAgdmFyIG5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbCA8IDAgPyB2YWwgOiAwO1xuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gbmVnYXRpdmUocmVjdC5sZWZ0KSArIG5lZ2F0aXZlKHJlY3QudG9wKSArIG5lZ2F0aXZlKHRoaXMudmlld3BvcnQuY2xpZW50V2lkdGggLSByZWN0LnJpZ2h0KSArIG5lZ2F0aXZlKHRoaXMudmlld3BvcnQuY2xpZW50SGVpZ2h0IC0gcmVjdC5ib3R0b20pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvc2l0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbigpIHtcblx0ICAgICAgdmFyIHJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgdmFyIHdpZHRoID0gdGhpcy50b29sdGlwLmNsaWVudFdpZHRoO1xuXHQgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy50b29sdGlwLmNsaWVudEhlaWdodDtcblx0XG5cdCAgICAgIHZhciB0b29sdGlwUmVjdCA9IHtcblx0ICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgaGVpZ2h0OiBoZWlnaHRcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBvdmVyZmxvd1ZhbHVlcyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpcnMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgZGlyID0gdGhpcy5kaXJzW2ldO1xuXHQgICAgICAgIHN3aXRjaCAodGhpcy5kaXJzW2ldKSB7XG5cdCAgICAgICAgICBjYXNlICdib3R0b20nOlxuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LmJvdHRvbTtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gKyBoZWlnaHQ7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSAndG9wJzpcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyIC0gd2lkdGggLyAyO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHRvb2x0aXBSZWN0LmxlZnQgKyB3aWR0aDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgLSBoZWlnaHQ7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHJlY3QudG9wO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0IC0gd2lkdGg7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0O1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHRvb2x0aXBSZWN0LnRvcCArIGhlaWdodDtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlICdyaWdodCc6XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LnJpZ2h0O1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHJlY3QucmlnaHQgKyB3aWR0aDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSBoZWlnaHQgLyAyO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSB0b29sdGlwUmVjdC50b3AgKyBoZWlnaHQ7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3ZlcmZsb3dWYWx1ZXMucHVzaChbdGhpcy5yZWN0T3ZlcmZsb3dDb3VudCh0b29sdGlwUmVjdCksIGRpciwgKDAsIF9jbG9uZTIuZGVmYXVsdCkodG9vbHRpcFJlY3QpXSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIG92ZXJmbG93VmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYlswXSAtIGFbMF07XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBkaXI6IG92ZXJmbG93VmFsdWVzWzBdWzFdLFxuXHQgICAgICAgIHJlY3Q6IG92ZXJmbG93VmFsdWVzWzBdWzJdXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIFRvb2x0aXBQb3NpdGlvbjtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcclxuXHQgKiBFdmVudEVtaXR0ZXIyXHJcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2hpajFueC9FdmVudEVtaXR0ZXIyXHJcblx0ICpcclxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMgaGlqMW54XHJcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cdCAqL1xyXG5cdDshZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblx0XHJcblx0ICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgPyBBcnJheS5pc0FycmF5IDogZnVuY3Rpb24gX2lzQXJyYXkob2JqKSB7XHJcblx0ICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xyXG5cdCAgfTtcclxuXHQgIHZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XHJcblx0XHJcblx0ICBmdW5jdGlvbiBpbml0KCkge1xyXG5cdCAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuXHQgICAgaWYgKHRoaXMuX2NvbmYpIHtcclxuXHQgICAgICBjb25maWd1cmUuY2FsbCh0aGlzLCB0aGlzLl9jb25mKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcclxuXHQgICAgaWYgKGNvbmYpIHtcclxuXHQgICAgICB0aGlzLl9jb25mID0gY29uZjtcclxuXHRcclxuXHQgICAgICBjb25mLmRlbGltaXRlciAmJiAodGhpcy5kZWxpbWl0ZXIgPSBjb25mLmRlbGltaXRlcik7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGNvbmYubWF4TGlzdGVuZXJzICE9PSB1bmRlZmluZWQgPyBjb25mLm1heExpc3RlbmVycyA6IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcblx0ICAgICAgY29uZi53aWxkY2FyZCAmJiAodGhpcy53aWxkY2FyZCA9IGNvbmYud2lsZGNhcmQpO1xyXG5cdCAgICAgIGNvbmYubmV3TGlzdGVuZXIgJiYgKHRoaXMubmV3TGlzdGVuZXIgPSBjb25mLm5ld0xpc3RlbmVyKTtcclxuXHQgICAgICBjb25mLnZlcmJvc2VNZW1vcnlMZWFrICYmICh0aGlzLnZlcmJvc2VNZW1vcnlMZWFrID0gY29uZi52ZXJib3NlTWVtb3J5TGVhayk7XHJcblx0XHJcblx0ICAgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgIHRoaXMubGlzdGVuZXJUcmVlID0ge307XHJcblx0ICAgICAgfVxyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBkZWZhdWx0TWF4TGlzdGVuZXJzO1xyXG5cdCAgICB9XHJcblx0ICB9XHJcblx0XHJcblx0ICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xyXG5cdCAgICB2YXIgZXJyb3JNc2cgPSAnKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXHJcblx0ICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcclxuXHQgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nO1xyXG5cdFxyXG5cdCAgICBpZih0aGlzLnZlcmJvc2VNZW1vcnlMZWFrKXtcclxuXHQgICAgICBlcnJvck1zZyArPSAnIEV2ZW50IG5hbWU6ICVzLic7XHJcblx0ICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQsIGV2ZW50TmFtZSk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmIChjb25zb2xlLnRyYWNlKXtcclxuXHQgICAgICBjb25zb2xlLnRyYWNlKCk7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHRcclxuXHQgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihjb25mKSB7XHJcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG5cdCAgICB0aGlzLm5ld0xpc3RlbmVyID0gZmFsc2U7XHJcblx0ICAgIHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBmYWxzZTtcclxuXHQgICAgY29uZmlndXJlLmNhbGwodGhpcywgY29uZik7XHJcblx0ICB9XHJcblx0ICBFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIGV4cG9ydGluZyBFdmVudEVtaXR0ZXIgcHJvcGVydHlcclxuXHRcclxuXHQgIC8vXHJcblx0ICAvLyBBdHRlbnRpb24sIGZ1bmN0aW9uIHJldHVybiB0eXBlIG5vdyBpcyBhcnJheSwgYWx3YXlzICFcclxuXHQgIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxyXG5cdCAgLy8gZWxlbWVudHMgKGxlYWZzKSBpZiB0aGVyZSBhcmUgbWF0Y2hlc1xyXG5cdCAgLy9cclxuXHQgIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSkge1xyXG5cdCAgICBpZiAoIXRyZWUpIHtcclxuXHQgICAgICByZXR1cm4gW107XHJcblx0ICAgIH1cclxuXHQgICAgdmFyIGxpc3RlbmVycz1bXSwgbGVhZiwgbGVuLCBicmFuY2gsIHhUcmVlLCB4eFRyZWUsIGlzb2xhdGVkQnJhbmNoLCBlbmRSZWFjaGVkLFxyXG5cdCAgICAgICAgdHlwZUxlbmd0aCA9IHR5cGUubGVuZ3RoLCBjdXJyZW50VHlwZSA9IHR5cGVbaV0sIG5leHRUeXBlID0gdHlwZVtpKzFdO1xyXG5cdCAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAvL1xyXG5cdCAgICAgIC8vIElmIGF0IHRoZSBlbmQgb2YgdGhlIGV2ZW50KHMpIGxpc3QgYW5kIHRoZSB0cmVlIGhhcyBsaXN0ZW5lcnNcclxuXHQgICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxyXG5cdCAgICAgIC8vXHJcblx0ICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzKTtcclxuXHQgICAgICAgIHJldHVybiBbdHJlZV07XHJcblx0ICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIGZvciAobGVhZiA9IDAsIGxlbiA9IHRyZWUuX2xpc3RlbmVycy5sZW5ndGg7IGxlYWYgPCBsZW47IGxlYWYrKykge1xyXG5cdCAgICAgICAgICBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKHRyZWUuX2xpc3RlbmVyc1tsZWFmXSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAoKGN1cnJlbnRUeXBlID09PSAnKicgfHwgY3VycmVudFR5cGUgPT09ICcqKicpIHx8IHRyZWVbY3VycmVudFR5cGVdKSB7XHJcblx0ICAgICAgLy9cclxuXHQgICAgICAvLyBJZiB0aGUgZXZlbnQgZW1pdHRlZCBpcyAnKicgYXQgdGhpcyBwYXJ0XHJcblx0ICAgICAgLy8gb3IgdGhlcmUgaXMgYSBjb25jcmV0ZSBtYXRjaCBhdCB0aGlzIHBhdGNoXHJcblx0ICAgICAgLy9cclxuXHQgICAgICBpZiAoY3VycmVudFR5cGUgPT09ICcqJykge1xyXG5cdCAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG5cdCAgICAgICAgICBpZiAoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgdHJlZS5oYXNPd25Qcm9wZXJ0eShicmFuY2gpKSB7XHJcblx0ICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsxKSk7XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcblx0ICAgICAgfSBlbHNlIGlmKGN1cnJlbnRUeXBlID09PSAnKionKSB7XHJcblx0ICAgICAgICBlbmRSZWFjaGVkID0gKGkrMSA9PT0gdHlwZUxlbmd0aCB8fCAoaSsyID09PSB0eXBlTGVuZ3RoICYmIG5leHRUeXBlID09PSAnKicpKTtcclxuXHQgICAgICAgIGlmKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaGFzIGEgX2xpc3RlbmVycywgYWRkIGl0IHRvIHRoZSBoYW5kbGVycy5cclxuXHQgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIHR5cGVMZW5ndGgpKTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuXHQgICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG5cdCAgICAgICAgICAgIGlmKGJyYW5jaCA9PT0gJyonIHx8IGJyYW5jaCA9PT0gJyoqJykge1xyXG5cdCAgICAgICAgICAgICAgaWYodHJlZVticmFuY2hdLl9saXN0ZW5lcnMgJiYgIWVuZFJlYWNoZWQpIHtcclxuXHQgICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCkpO1xyXG5cdCAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSkpO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKzIpKTtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cclxuXHQgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGkpKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2N1cnJlbnRUeXBlXSwgaSsxKSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgeFRyZWUgPSB0cmVlWycqJ107XHJcblx0ICAgIGlmICh4VHJlZSkge1xyXG5cdCAgICAgIC8vXHJcblx0ICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHRyZWUgd2lsbCBhbGxvdyBhbnkgbWF0Y2ggZm9yIHRoaXMgcGFydCxcclxuXHQgICAgICAvLyB0aGVuIHJlY3Vyc2l2ZWx5IGV4cGxvcmUgYWxsIGJyYW5jaGVzIG9mIHRoZSB0cmVlXHJcblx0ICAgICAgLy9cclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHhUcmVlLCBpKzEpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHh4VHJlZSA9IHRyZWVbJyoqJ107XHJcblx0ICAgIGlmKHh4VHJlZSkge1xyXG5cdCAgICAgIGlmKGkgPCB0eXBlTGVuZ3RoKSB7XHJcblx0ICAgICAgICBpZih4eFRyZWUuX2xpc3RlbmVycykge1xyXG5cdCAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxyXG5cdCAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZSwgdHlwZUxlbmd0aCk7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICAvLyBCdWlsZCBhcnJheXMgb2YgbWF0Y2hpbmcgbmV4dCBicmFuY2hlcyBhbmQgb3RoZXJzLlxyXG5cdCAgICAgICAgZm9yKGJyYW5jaCBpbiB4eFRyZWUpIHtcclxuXHQgICAgICAgICAgaWYoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgeHhUcmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuXHQgICAgICAgICAgICBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBuZXh0IGVsZW1lbnQgd2lsbCBtYXRjaCwgc28ganVtcCB0d2ljZS5cclxuXHQgICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMik7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmKGJyYW5jaCA9PT0gY3VycmVudFR5cGUpIHtcclxuXHQgICAgICAgICAgICAgIC8vIEN1cnJlbnQgbm9kZSBtYXRjaGVzLCBtb3ZlIGludG8gdGhlIHRyZWUuXHJcblx0ICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzEpO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaCA9IHt9O1xyXG5cdCAgICAgICAgICAgICAgaXNvbGF0ZWRCcmFuY2hbYnJhbmNoXSA9IHh4VHJlZVticmFuY2hdO1xyXG5cdCAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB7ICcqKic6IGlzb2xhdGVkQnJhbmNoIH0sIGkrMSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfSBlbHNlIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXHJcblx0ICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZSwgdHlwZUxlbmd0aCk7XHJcblx0ICAgICAgfSBlbHNlIGlmKHh4VHJlZVsnKiddICYmIHh4VHJlZVsnKiddLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gbGlzdGVuZXJzO1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgZnVuY3Rpb24gZ3Jvd0xpc3RlbmVyVHJlZSh0eXBlLCBsaXN0ZW5lcikge1xyXG5cdFxyXG5cdCAgICB0eXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0XHJcblx0ICAgIC8vXHJcblx0ICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxyXG5cdCAgICAvL1xyXG5cdCAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0eXBlLmxlbmd0aDsgaSsxIDwgbGVuOyBpKyspIHtcclxuXHQgICAgICBpZih0eXBlW2ldID09PSAnKionICYmIHR5cGVbaSsxXSA9PT0gJyoqJykge1xyXG5cdCAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgdHJlZSA9IHRoaXMubGlzdGVuZXJUcmVlO1xyXG5cdCAgICB2YXIgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHRcclxuXHQgICAgd2hpbGUgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFxyXG5cdCAgICAgIGlmICghdHJlZVtuYW1lXSkge1xyXG5cdCAgICAgICAgdHJlZVtuYW1lXSA9IHt9O1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICB0cmVlID0gdHJlZVtuYW1lXTtcclxuXHRcclxuXHQgICAgICBpZiAodHlwZS5sZW5ndGggPT09IDApIHtcclxuXHRcclxuXHQgICAgICAgIGlmICghdHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAgIHRyZWUuX2xpc3RlbmVycyA9IGxpc3RlbmVyO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgIGlmICh0eXBlb2YgdHJlZS5fbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gW3RyZWUuX2xpc3RlbmVyc107XHJcblx0ICAgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG5cdFxyXG5cdCAgICAgICAgICBpZiAoXHJcblx0ICAgICAgICAgICAgIXRyZWUuX2xpc3RlbmVycy53YXJuZWQgJiZcclxuXHQgICAgICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG5cdCAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcblx0ICAgICAgICAgICkge1xyXG5cdCAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xyXG5cdCAgICAgICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRyZWUuX2xpc3RlbmVycy5sZW5ndGgsIG5hbWUpO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gdHJ1ZTtcclxuXHQgIH1cclxuXHRcclxuXHQgIC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW5cclxuXHQgIC8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaFxyXG5cdCAgLy8gaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXHJcblx0ICAvL1xyXG5cdCAgLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXHJcblx0ICAvLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZGVsaW1pdGVyID0gJy4nO1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XHJcblx0ICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBuO1xyXG5cdCAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xyXG5cdCAgICAgIHRoaXMuX2NvbmYubWF4TGlzdGVuZXJzID0gbjtcclxuXHQgICAgfVxyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnQgPSAnJztcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xyXG5cdCAgICB0aGlzLm1hbnkoZXZlbnQsIDEsIGZuKTtcclxuXHQgICAgcmV0dXJuIHRoaXM7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4pIHtcclxuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cdFxyXG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYW55IG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuXHQgICAgICBpZiAoLS10dGwgPT09IDApIHtcclxuXHQgICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgbGlzdGVuZXIuX29yaWdpbiA9IGZuO1xyXG5cdFxyXG5cdCAgICB0aGlzLm9uKGV2ZW50LCBsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgIHJldHVybiBzZWxmO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcclxuXHQgICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuXHQgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xyXG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cdCAgICB2YXIgYXJncyxsLGksajtcclxuXHQgICAgdmFyIGhhbmRsZXI7XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCkge1xyXG5cdCAgICAgIGhhbmRsZXIgPSB0aGlzLl9hbGwuc2xpY2UoKTtcclxuXHQgICAgICBpZiAoYWwgPiAzKSB7XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDA7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICBoYW5kbGVyID0gW107XHJcblx0ICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0ICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgICBjYXNlIDE6XHJcblx0ICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMzpcclxuXHQgICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcblx0ICAgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiB0cnVlO1xyXG5cdCAgICAgIH0gZWxzZSBpZiAoaGFuZGxlcikge1xyXG5cdCAgICAgICAgLy8gbmVlZCB0byBtYWtlIGNvcHkgb2YgaGFuZGxlcnMgYmVjYXVzZSBsaXN0IGNhbiBjaGFuZ2UgaW4gdGhlIG1pZGRsZVxyXG5cdCAgICAgICAgLy8gb2YgZW1pdCBjYWxsXHJcblx0ICAgICAgICBoYW5kbGVyID0gaGFuZGxlci5zbGljZSgpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAoaGFuZGxlciAmJiBoYW5kbGVyLmxlbmd0aCkge1xyXG5cdCAgICAgIGlmIChhbCA+IDMpIHtcclxuXHQgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0ICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuXHQgICAgICAgIHN3aXRjaCAoYWwpIHtcclxuXHQgICAgICAgIGNhc2UgMTpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMpO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGRlZmF1bHQ6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHJldHVybiB0cnVlO1xyXG5cdCAgICB9IGVsc2UgaWYgKCF0aGlzLl9hbGwgJiYgdHlwZSA9PT0gJ2Vycm9yJykge1xyXG5cdCAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG5cdCAgICAgICAgdGhyb3cgYXJndW1lbnRzWzFdOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG5cdCAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHJldHVybiBmYWxzZTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gISF0aGlzLl9hbGw7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0QXN5bmMgPSBmdW5jdGlvbigpIHtcclxuXHRcclxuXHQgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHRcclxuXHQgICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblx0XHJcblx0ICAgIGlmICh0eXBlID09PSAnbmV3TGlzdGVuZXInICYmICF0aGlzLm5ld0xpc3RlbmVyKSB7XHJcblx0ICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtmYWxzZV0pOyB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIHByb21pc2VzPSBbXTtcclxuXHRcclxuXHQgICAgdmFyIGFsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuXHQgICAgdmFyIGFyZ3MsbCxpLGo7XHJcblx0ICAgIHZhciBoYW5kbGVyO1xyXG5cdFxyXG5cdCAgICBpZiAodGhpcy5fYWxsKSB7XHJcblx0ICAgICAgaWYgKGFsID4gMykge1xyXG5cdCAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCk7XHJcblx0ICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuX2FsbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUpKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIGhhbmRsZXIgPSBbXTtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgIGNhc2UgMTpcclxuXHQgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMpKTtcclxuXHQgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xyXG5cdCAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuXHQgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgIGRlZmF1bHQ6XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcblx0ICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcblx0ICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuYXBwbHkodGhpcywgYXJncykpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfSBlbHNlIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XHJcblx0ICAgICAgaWYgKGFsID4gMykge1xyXG5cdCAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG5cdCAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcblx0ICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYXJndW1lbnRzWzFdKTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcclxuXHQgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkICdlcnJvcicgZXZlbnQuXCIpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xyXG5cdCAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aGlzLm9uQW55KHR5cGUpO1xyXG5cdCAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uIG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09IFwibmV3TGlzdGVuZXJzXCIhIEJlZm9yZVxyXG5cdCAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyc1wiLlxyXG5cdCAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdFxyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIGdyb3dMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XHJcblx0ICAgICAgcmV0dXJuIHRoaXM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHtcclxuXHQgICAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cclxuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIHtcclxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgLy8gQ2hhbmdlIHRvIGFycmF5LlxyXG5cdCAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cclxuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcclxuXHQgICAgICBpZiAoXHJcblx0ICAgICAgICAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCAmJlxyXG5cdCAgICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA+IDAgJiZcclxuXHQgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcblx0ICAgICAgKSB7XHJcblx0ICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcclxuXHQgICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgsIHR5cGUpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignb25Bbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICghdGhpcy5fYWxsKSB7XHJcblx0ICAgICAgdGhpcy5fYWxsID0gW107XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgZXZlbnQgbGlzdGVuZXIgY29sbGVjdGlvbi5cclxuXHQgICAgdGhpcy5fYWxsLnB1c2goZm4pO1xyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlTGlzdGVuZXIgb25seSB0YWtlcyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgaGFuZGxlcnMsbGVhZnM9W107XHJcblx0XHJcblx0ICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBsZWFmcyA9IHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIG51bGwsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSB7XHJcblx0ICAgICAgLy8gZG9lcyBub3QgdXNlIGxpc3RlbmVycygpLCBzbyBubyBzaWRlIGVmZmVjdCBvZiBjcmVhdGluZyBfZXZlbnRzW3R5cGVdXHJcblx0ICAgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHJldHVybiB0aGlzO1xyXG5cdCAgICAgIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgIGxlYWZzLnB1c2goe19saXN0ZW5lcnM6aGFuZGxlcnN9KTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuXHQgICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuXHQgICAgICBoYW5kbGVycyA9IGxlYWYuX2xpc3RlbmVycztcclxuXHQgICAgICBpZiAoaXNBcnJheShoYW5kbGVycykpIHtcclxuXHRcclxuXHQgICAgICAgIHZhciBwb3NpdGlvbiA9IC0xO1xyXG5cdFxyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PT0gbGlzdGVuZXIgfHxcclxuXHQgICAgICAgICAgICAoaGFuZGxlcnNbaV0ubGlzdGVuZXIgJiYgaGFuZGxlcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxyXG5cdCAgICAgICAgICAgIChoYW5kbGVyc1tpXS5fb3JpZ2luICYmIGhhbmRsZXJzW2ldLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG5cdCAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcclxuXHQgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xyXG5cdCAgICAgICAgICBjb250aW51ZTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgbGVhZi5fbGlzdGVuZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XHJcblx0ICAgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgICBkZWxldGUgbGVhZi5fbGlzdGVuZXJzO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHR5cGUsIGxpc3RlbmVyKTtcclxuXHRcclxuXHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBlbHNlIGlmIChoYW5kbGVycyA9PT0gbGlzdGVuZXIgfHxcclxuXHQgICAgICAgIChoYW5kbGVycy5saXN0ZW5lciAmJiBoYW5kbGVycy5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcblx0ICAgICAgICAoaGFuZGxlcnMuX29yaWdpbiAmJiBoYW5kbGVycy5fb3JpZ2luID09PSBsaXN0ZW5lcikpIHtcclxuXHQgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3QpIHtcclxuXHQgICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0ICAgICAgICByZXR1cm47XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocm9vdCk7XHJcblx0ICAgICAgZm9yICh2YXIgaSBpbiBrZXlzKSB7XHJcblx0ICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcclxuXHQgICAgICAgIHZhciBvYmogPSByb290W2tleV07XHJcblx0ICAgICAgICBpZiAoKG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgfHwgKG9iaiA9PT0gbnVsbCkpXHJcblx0ICAgICAgICAgIGNvbnRpbnVlO1xyXG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMCkge1xyXG5cdCAgICAgICAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3Rba2V5XSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcclxuXHQgICAgICAgICAgZGVsZXRlIHJvb3Rba2V5XTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHQgICAgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdCh0aGlzLmxpc3RlbmVyVHJlZSk7XHJcblx0XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuXHQgICAgdmFyIGkgPSAwLCBsID0gMCwgZm5zO1xyXG5cdCAgICBpZiAoZm4gJiYgdGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGggPiAwKSB7XHJcblx0ICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG5cdCAgICAgIGZvcihpID0gMCwgbCA9IGZucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIGlmKGZuID09PSBmbnNbaV0pIHtcclxuXHQgICAgICAgICAgZm5zLnNwbGljZShpLCAxKTtcclxuXHQgICAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJBbnlcIiwgZm4pO1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG5cdCAgICAgIGZvcihpID0gMCwgbCA9IGZucy5sZW5ndGg7IGkgPCBsOyBpKyspXHJcblx0ICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbnNbaV0pO1xyXG5cdCAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZjtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdCAgICAgICF0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdCAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcblx0ICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0ICAgICAgdmFyIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHRcclxuXHQgICAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuXHQgICAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG5cdCAgICAgICAgbGVhZi5fbGlzdGVuZXJzID0gbnVsbDtcclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzKSB7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbnVsbDtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuXHQgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHQgICAgICByZXR1cm4gaGFuZGxlcnM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHRcclxuXHQgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFtdO1xyXG5cdCAgICBpZiAoIWlzQXJyYXkodGhpcy5fZXZlbnRzW3R5cGVdKSkge1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdCAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzQW55ID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0ICAgIGlmKHRoaXMuX2FsbCkge1xyXG5cdCAgICAgIHJldHVybiB0aGlzLl9hbGw7XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSB7XHJcblx0ICAgICAgcmV0dXJuIFtdO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgaWYgKHRydWUpIHtcclxuXHQgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XHJcblx0ICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdCAgICAvLyBDb21tb25KU1xyXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHQgIH1cclxuXHQgIGVsc2Uge1xyXG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbC5cclxuXHQgICAgd2luZG93LkV2ZW50RW1pdHRlcjIgPSBFdmVudEVtaXR0ZXI7XHJcblx0ICB9XHJcblx0fSgpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogRmlsZVNhdmVyLmpzXG5cdCAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuXHQgKiAxLjEuMjAxNTA3MTZcblx0ICpcblx0ICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuXHQgKiBMaWNlbnNlOiBYMTEvTUlUXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5cdCAqL1xuXHRcblx0LypnbG9iYWwgc2VsZiAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXHRcblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblx0XG5cdHZhciBzYXZlQXMgPSBzYXZlQXMgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhclxuXHRcdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0XHQgIC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0XHQsIGdldF9VUkwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0XHR9XG5cdFx0XHQsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxuXHRcdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcblx0XHRcdCwgY2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHR9XG5cdFx0XHQsIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xuXHRcdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9XG5cdFx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0XHQsIGZzX21pbl9zaXplID0gMFxuXHRcdFx0Ly8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzUyOTcjYzcgYW5kXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvY29tbWl0LzQ4NTkzMGEjY29tbWl0Y29tbWVudC04NzY4MDQ3XG5cdFx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSA1MDAgLy8gaW4gbXNcblx0XHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAodmlldy5jaHJvbWUpIHtcblx0XHRcdFx0XHRyZXZva2VyKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcblx0XHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBibG9iO1xuXHRcdFx0fVxuXHRcdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xuXHRcdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2Vcblx0XHRcdFx0XHQsIG9iamVjdF91cmxcblx0XHRcdFx0XHQsIHRhcmdldF92aWV3XG5cdFx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRcdGlmIChuZXdfdGFiID09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2FmYXJpICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LCBhYm9ydGFibGUgPSBmdW5jdGlvbihmdW5jKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQsIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7Y3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlfVxuXHRcdFx0XHRcdCwgc2xpY2Vcblx0XHRcdFx0O1xuXHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0XHQvLyB2aWV3ZWQgaW4gYSB0YWIsIHNvIEkgZm9yY2Ugc2F2ZSB3aXRoIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVxuXHRcdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxuXHRcdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0XHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzg5NjQyXG5cdFx0XHRcdGlmICh2aWV3LmNocm9tZSAmJiB0eXBlICYmIHR5cGUgIT09IGZvcmNlX3NhdmVhYmxlX3R5cGUpIHtcblx0XHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0XHRibG9iID0gc2xpY2UuY2FsbChibG9iLCAwLCBibG9iLnNpemUsIGZvcmNlX3NhdmVhYmxlX3R5cGUpO1xuXHRcdFx0XHRcdGJsb2JfY2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gU2luY2UgSSBjYW4ndCBiZSBzdXJlIHRoYXQgdGhlIGd1ZXNzZWQgbWVkaWEgdHlwZSB3aWxsIHRyaWdnZXIgYSBkb3dubG9hZFxuXHRcdFx0XHQvLyBpbiBXZWJLaXQsIEkgYXBwZW5kIC5kb3dubG9hZCB0byB0aGUgZmlsZW5hbWUuXG5cdFx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0XHRpZiAod2Via2l0X3JlcV9mcyAmJiBuYW1lICE9PSBcImRvd25sb2FkXCIpIHtcblx0XHRcdFx0XHRuYW1lICs9IFwiLmRvd25sb2FkXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGUgfHwgd2Via2l0X3JlcV9mcykge1xuXHRcdFx0XHRcdHRhcmdldF92aWV3ID0gdmlldztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXJlcV9mcykge1xuXHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZzX21pbl9zaXplICs9IGJsb2Iuc2l6ZTtcblx0XHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XG5cdFx0XHRcdFx0ZnMucm9vdC5nZXREaXJlY3RvcnkoXCJzYXZlZFwiLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZGlyKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbih3cml0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbndyaXRlZW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLldSSVRJTkc7XG5cdFx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXG5cdFx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0XHRzYXZlKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHR9XG5cdFx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxuXHRcdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0XHR9XG5cdFx0O1xuXHRcdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0XHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xuXHRcdH07XG5cdFx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRcdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xuXHRcdEZTX3Byb3RvLkRPTkUgPSAyO1xuXHRcblx0XHRGU19wcm90by5lcnJvciA9XG5cdFx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cblx0XHRGU19wcm90by5vbnByb2dyZXNzID1cblx0XHRGU19wcm90by5vbndyaXRlID1cblx0XHRGU19wcm90by5vbmFib3J0ID1cblx0XHRGU19wcm90by5vbmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlZW5kID1cblx0XHRcdG51bGw7XG5cdFxuXHRcdHJldHVybiBzYXZlQXM7XG5cdH0oXG5cdFx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHRcdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG5cdFx0fHwgdGhpcy5jb250ZW50XG5cdCkpO1xuXHQvLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxuXHQvLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcblx0Ly8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG5cdH0gZWxzZSBpZiAoKFwiZnVuY3Rpb25cIiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSAhPT0gbnVsbCkgJiYgKF9fd2VicGFja19yZXF1aXJlX18oMzIpICE9IG51bGwpKSB7XG5cdCAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gc2F2ZUFzO1xuXHQgIH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xuXG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxuXHQgKiBVbmlkcmFnZ2VyIHYyLjEuMFxuXHQgKiBEcmFnZ2FibGUgYmFzZSBjbGFzc1xuXHQgKiBNSVQgbGljZW5zZVxuXHQgKi9cblx0XG5cdC8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXHRcblx0KCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuXHQgIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXHQgIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cdFxuXHQgIGlmICggdHJ1ZSApIHtcblx0ICAgIC8vIEFNRFxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW1xuXHQgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICAgXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiggVW5pcG9pbnRlciApIHtcblx0ICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApO1xuXHQgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KU1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHJlcXVpcmUoJ3VuaXBvaW50ZXInKVxuXHQgICAgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gYnJvd3NlciBnbG9iYWxcblx0ICAgIHdpbmRvdy5VbmlkcmFnZ2VyID0gZmFjdG9yeShcblx0ICAgICAgd2luZG93LFxuXHQgICAgICB3aW5kb3cuVW5pcG9pbnRlclxuXHQgICAgKTtcblx0ICB9XG5cdFxuXHR9KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApIHtcblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIC0tLS0tICAtLS0tLSAvL1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVbmlkcmFnZ2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cdFxuXHRmdW5jdGlvbiBVbmlkcmFnZ2VyKCkge31cblx0XG5cdC8vIGluaGVyaXQgVW5pcG9pbnRlciAmIEV2RW1pdHRlclxuXHR2YXIgcHJvdG8gPSBVbmlkcmFnZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFVuaXBvaW50ZXIucHJvdG90eXBlICk7XG5cdFxuXHQvLyAtLS0tLSBiaW5kIHN0YXJ0IC0tLS0tIC8vXG5cdFxuXHRwcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2JpbmRIYW5kbGVzKCB0cnVlICk7XG5cdH07XG5cdFxuXHRwcm90by51bmJpbmRIYW5kbGVzID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fYmluZEhhbmRsZXMoIGZhbHNlICk7XG5cdH07XG5cdFxuXHR2YXIgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcblx0LyoqXG5cdCAqIHdvcmtzIGFzIHVuYmluZGVyLCBhcyB5b3UgY2FuIC5iaW5kSGFuZGxlcyggZmFsc2UgKSB0byB1bmJpbmRcblx0ICogQHBhcmFtIHtCb29sZWFufSBpc0JpbmQgLSB3aWxsIHVuYmluZCBpZiBmYWxzZXlcblx0ICovXG5cdHByb3RvLl9iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCBpc0JpbmQgKSB7XG5cdCAgLy8gbXVuZ2UgaXNCaW5kLCBkZWZhdWx0IHRvIHRydWVcblx0ICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcblx0ICAvLyBleHRyYSBiaW5kIGxvZ2ljXG5cdCAgdmFyIGJpbmRlckV4dHJhO1xuXHQgIGlmICggbmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuXHQgICAgYmluZGVyRXh0cmEgPSBmdW5jdGlvbiggaGFuZGxlICkge1xuXHQgICAgICAvLyBkaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZWxlbWVudFxuXHQgICAgICBoYW5kbGUuc3R5bGUudG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcblx0ICAgIH07XG5cdCAgfSBlbHNlIGlmICggbmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG5cdCAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG5cdCAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBlbGVtZW50XG5cdCAgICAgIGhhbmRsZS5zdHlsZS5tc1RvdWNoQWN0aW9uID0gaXNCaW5kID8gJ25vbmUnIDogJyc7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICBiaW5kZXJFeHRyYSA9IG5vb3A7XG5cdCAgfVxuXHQgIC8vIGJpbmQgZWFjaCBoYW5kbGVcblx0ICB2YXIgYmluZE1ldGhvZCA9IGlzQmluZCA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcblx0ICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5oYW5kbGVzLmxlbmd0aDsgaSsrICkge1xuXHQgICAgdmFyIGhhbmRsZSA9IHRoaXMuaGFuZGxlc1tpXTtcblx0ICAgIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBoYW5kbGUsIGlzQmluZCApO1xuXHQgICAgYmluZGVyRXh0cmEoIGhhbmRsZSApO1xuXHQgICAgaGFuZGxlWyBiaW5kTWV0aG9kIF0oICdjbGljaycsIHRoaXMgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXHRcblx0LyoqXG5cdCAqIHBvaW50ZXIgc3RhcnRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKi9cblx0cHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgLy8gZGlzbWlzcyByYW5nZSBzbGlkZXJzXG5cdCAgaWYgKCBldmVudC50YXJnZXQubm9kZU5hbWUgPT0gJ0lOUFVUJyAmJiBldmVudC50YXJnZXQudHlwZSA9PSAncmFuZ2UnICkge1xuXHQgICAgLy8gcmVzZXQgcG9pbnRlckRvd24gbG9naWNcblx0ICAgIHRoaXMuaXNQb2ludGVyRG93biA9IGZhbHNlO1xuXHQgICAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB0aGlzLl9kcmFnUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgLy8ga2x1ZGdlIHRvIGJsdXIgZm9jdXNlZCBpbnB1dHMgaW4gZHJhZ2dlclxuXHQgIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICBpZiAoIGZvY3VzZWQgJiYgZm9jdXNlZC5ibHVyICkge1xuXHQgICAgZm9jdXNlZC5ibHVyKCk7XG5cdCAgfVxuXHQgIC8vIGJpbmQgbW92ZSBhbmQgZW5kIGV2ZW50c1xuXHQgIHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoIGV2ZW50ICk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyRG93bicsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gYmFzZSBwb2ludGVyIGRvd24gbG9naWNcblx0cHJvdG8uX2RyYWdQb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyB0cmFjayB0byBzZWUgd2hlbiBkcmFnZ2luZyBzdGFydHNcblx0ICB0aGlzLnBvaW50ZXJEb3duUG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuXHRcblx0ICB2YXIgY2FuUHJldmVudERlZmF1bHQgPSB0aGlzLmNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICBpZiAoIGNhblByZXZlbnREZWZhdWx0ICkge1xuXHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBvdmVyd3JpdGVhYmxlIG1ldGhvZCBzbyBGbGlja2l0eSBjYW4gcHJldmVudCBmb3Igc2Nyb2xsaW5nXG5cdHByb3RvLmNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICAvLyBwcmV2ZW50IGRlZmF1bHQsIHVubGVzcyB0b3VjaHN0YXJ0IG9yIDxzZWxlY3Q+XG5cdCAgcmV0dXJuIGV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPSAnU0VMRUNUJztcblx0fTtcblx0XG5cdC8vIC0tLS0tIG1vdmUgZXZlbnQgLS0tLS0gLy9cblx0XG5cdC8qKlxuXHQgKiBkcmFnIG1vdmVcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKi9cblx0cHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdmFyIG1vdmVWZWN0b3IgPSB0aGlzLl9kcmFnUG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xuXHQgIHRoaXMuX2RyYWdNb3ZlKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApO1xuXHR9O1xuXHRcblx0Ly8gYmFzZSBwb2ludGVyIG1vdmUgbG9naWNcblx0cHJvdG8uX2RyYWdQb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB2YXIgbW92ZVBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcblx0ICB2YXIgbW92ZVZlY3RvciA9IHtcblx0ICAgIHg6IG1vdmVQb2ludC54IC0gdGhpcy5wb2ludGVyRG93blBvaW50LngsXG5cdCAgICB5OiBtb3ZlUG9pbnQueSAtIHRoaXMucG9pbnRlckRvd25Qb2ludC55XG5cdCAgfTtcblx0ICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuXHQgIGlmICggIXRoaXMuaXNEcmFnZ2luZyAmJiB0aGlzLmhhc0RyYWdTdGFydGVkKCBtb3ZlVmVjdG9yICkgKSB7XG5cdCAgICB0aGlzLl9kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgfVxuXHQgIHJldHVybiBtb3ZlVmVjdG9yO1xuXHR9O1xuXHRcblx0Ly8gY29uZGl0aW9uIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuXHRwcm90by5oYXNEcmFnU3RhcnRlZCA9IGZ1bmN0aW9uKCBtb3ZlVmVjdG9yICkge1xuXHQgIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG5cdH07XG5cdFxuXHRcblx0Ly8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHQvKipcblx0ICogcG9pbnRlciB1cFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqL1xuXHRwcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0ICB0aGlzLl9kcmFnUG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xuXHR9O1xuXHRcblx0cHJvdG8uX2RyYWdQb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgaWYgKCB0aGlzLmlzRHJhZ2dpbmcgKSB7XG5cdCAgICB0aGlzLl9kcmFnRW5kKCBldmVudCwgcG9pbnRlciApO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBwb2ludGVyIGRpZG4ndCBtb3ZlIGVub3VnaCBmb3IgZHJhZyB0byBzdGFydFxuXHQgICAgdGhpcy5fc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZHJhZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXHRcblx0Ly8gZHJhZ1N0YXJ0XG5cdHByb3RvLl9kcmFnU3RhcnQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcblx0ICB0aGlzLmRyYWdTdGFydFBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcblx0ICAvLyBwcmV2ZW50IGNsaWNrc1xuXHQgIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzID0gdHJ1ZTtcblx0XG5cdCAgdGhpcy5kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5kcmFnU3RhcnQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdkcmFnU3RhcnQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIGRyYWdNb3ZlXG5cdHByb3RvLl9kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcblx0ICAvLyBkbyBub3QgZHJhZyBpZiBub3QgZHJhZ2dpbmcgeWV0XG5cdCAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdGhpcy5kcmFnTW92ZSggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKTtcblx0fTtcblx0XG5cdHByb3RvLmRyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuXHQgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdkcmFnTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xuXHR9O1xuXHRcblx0Ly8gZHJhZ0VuZFxuXHRwcm90by5fZHJhZ0VuZCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBzZXQgZmxhZ3Ncblx0ICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblx0ICAvLyByZS1lbmFibGUgY2xpY2tpbmcgYXN5bmNcblx0ICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLmlzUHJldmVudGluZ0NsaWNrcztcblx0ICB9LmJpbmQoIHRoaXMgKSApO1xuXHRcblx0ICB0aGlzLmRyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAnZHJhZ0VuZCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gb25jbGljayAtLS0tLSAvL1xuXHRcblx0Ly8gaGFuZGxlIGFsbCBjbGlja3MgYW5kIHByZXZlbnQgY2xpY2tzIHdoZW4gZHJhZ2dpbmdcblx0cHJvdG8ub25jbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzICkge1xuXHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGF0aWNDbGljayAtLS0tLSAvL1xuXHRcblx0Ly8gdHJpZ2dlcmVkIGFmdGVyIHBvaW50ZXIgZG93biAmIHVwIHdpdGggbm8vdGlueSBtb3ZlbWVudFxuXHRwcm90by5fc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgLy8gaWdub3JlIGVtdWxhdGVkIG1vdXNlIHVwIGNsaWNrc1xuXHQgIGlmICggdGhpcy5pc0lnbm9yaW5nTW91c2VVcCAmJiBldmVudC50eXBlID09ICdtb3VzZXVwJyApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIC8vIGFsbG93IGNsaWNrIGluIDxpbnB1dD5zIGFuZCA8dGV4dGFyZWE+c1xuXHQgIHZhciBub2RlTmFtZSA9IGV2ZW50LnRhcmdldC5ub2RlTmFtZTtcblx0ICBpZiAoIG5vZGVOYW1lID09ICdJTlBVVCcgfHwgbm9kZU5hbWUgPT0gJ1RFWFRBUkVBJyApIHtcblx0ICAgIGV2ZW50LnRhcmdldC5mb2N1cygpO1xuXHQgIH1cblx0ICB0aGlzLnN0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuXHRcblx0ICAvLyBzZXQgZmxhZyBmb3IgZW11bGF0ZWQgY2xpY2tzIDMwMG1zIGFmdGVyIHRvdWNoZW5kXG5cdCAgaWYgKCBldmVudC50eXBlICE9ICdtb3VzZXVwJyApIHtcblx0ICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSB0cnVlO1xuXHQgICAgLy8gcmVzZXQgZmxhZyBhZnRlciAzMDBtc1xuXHQgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLmlzSWdub3JpbmdNb3VzZVVwO1xuXHQgICAgfS5iaW5kKCB0aGlzICksIDQwMCApO1xuXHQgIH1cblx0fTtcblx0XG5cdHByb3RvLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAnc3RhdGljQ2xpY2snLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tIHV0aWxzIC0tLS0tIC8vXG5cdFxuXHRVbmlkcmFnZ2VyLmdldFBvaW50ZXJQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50O1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHRyZXR1cm4gVW5pZHJhZ2dlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcblx0ICogVW5pcG9pbnRlciB2Mi4xLjBcblx0ICogYmFzZSBjbGFzcyBmb3IgZG9pbmcgb25lIHRoaW5nIHdpdGggcG9pbnRlciBldmVudFxuXHQgKiBNSVQgbGljZW5zZVxuXHQgKi9cblx0XG5cdC8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXHRcblx0KCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuXHQgIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXHQgIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFsIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cdCAgaWYgKCB0cnVlICkge1xuXHQgICAgLy8gQU1EXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXG5cdCAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzUpXG5cdCAgICBdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG5cdCAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApO1xuXHQgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KU1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuXHQgICAgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gYnJvd3NlciBnbG9iYWxcblx0ICAgIHdpbmRvdy5Vbmlwb2ludGVyID0gZmFjdG9yeShcblx0ICAgICAgd2luZG93LFxuXHQgICAgICB3aW5kb3cuRXZFbWl0dGVyXG5cdCAgICApO1xuXHQgIH1cblx0XG5cdH0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIFVuaXBvaW50ZXIoKSB7fVxuXHRcblx0Ly8gaW5oZXJpdCBFdkVtaXR0ZXJcblx0dmFyIHByb3RvID0gVW5pcG9pbnRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cdFxuXHRwcm90by5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQgIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBlbGVtLCB0cnVlICk7XG5cdH07XG5cdFxuXHRwcm90by51bmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdCAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGVsZW0sIGZhbHNlICk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLl9iaW5kU3RhcnQoIGZhbHNlICkgdG8gdW5iaW5kXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNCaW5kIC0gd2lsbCB1bmJpbmQgaWYgZmFsc2V5XG5cdCAqL1xuXHRwcm90by5fYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgaXNCaW5kICkge1xuXHQgIC8vIG11bmdlIGlzQmluZCwgZGVmYXVsdCB0byB0cnVlXG5cdCAgaXNCaW5kID0gaXNCaW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFpc0JpbmQ7XG5cdCAgdmFyIGJpbmRNZXRob2QgPSBpc0JpbmQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cdFxuXHQgIGlmICggd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCApIHtcblx0ICAgIC8vIFczQyBQb2ludGVyIEV2ZW50cywgSUUxMS4gU2VlIGh0dHBzOi8vY29kZXJ3YWxsLmNvbS9wL21mcmVjYVxuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAncG9pbnRlcmRvd24nLCB0aGlzICk7XG5cdCAgfSBlbHNlIGlmICggd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICkge1xuXHQgICAgLy8gSUUxMCBQb2ludGVyIEV2ZW50c1xuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAnTVNQb2ludGVyRG93bicsIHRoaXMgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gbGlzdGVuIGZvciBib3RoLCBmb3IgZGV2aWNlcyBsaWtlIENocm9tZSBQaXhlbFxuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAnbW91c2Vkb3duJywgdGhpcyApO1xuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAndG91Y2hzdGFydCcsIHRoaXMgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyB0cmlnZ2VyIGhhbmRsZXIgbWV0aG9kcyBmb3IgZXZlbnRzXG5cdHByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcblx0ICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuXHQgICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gcmV0dXJucyB0aGUgdG91Y2ggdGhhdCB3ZSdyZSBrZWVwaW5nIHRyYWNrIG9mXG5cdHByb3RvLmdldFRvdWNoID0gZnVuY3Rpb24oIHRvdWNoZXMgKSB7XG5cdCAgZm9yICggdmFyIGk9MDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKysgKSB7XG5cdCAgICB2YXIgdG91Y2ggPSB0b3VjaGVzW2ldO1xuXHQgICAgaWYgKCB0b3VjaC5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG5cdCAgICAgIHJldHVybiB0b3VjaDtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXHRcblx0cHJvdG8ub25tb3VzZWRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgLy8gZGlzbWlzcyBjbGlja3MgZnJvbSByaWdodCBvciBtaWRkbGUgYnV0dG9uc1xuXHQgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cdCAgaWYgKCBidXR0b24gJiYgKCBidXR0b24gIT09IDAgJiYgYnV0dG9uICE9PSAxICkgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdHByb3RvLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB0aGlzLl9wb2ludGVyRG93biggZXZlbnQsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlckRvd24gPVxuXHRwcm90by5vbnBvaW50ZXJkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIHN0YXJ0XG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcblx0ICovXG5cdHByb3RvLl9wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBkaXNtaXNzIG90aGVyIHBvaW50ZXJzXG5cdCAgaWYgKCB0aGlzLmlzUG9pbnRlckRvd24gKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB0aGlzLmlzUG9pbnRlckRvd24gPSB0cnVlO1xuXHQgIC8vIHNhdmUgcG9pbnRlciBpZGVudGlmaWVyIHRvIG1hdGNoIHVwIHRvdWNoIGV2ZW50c1xuXHQgIHRoaXMucG9pbnRlcklkZW50aWZpZXIgPSBwb2ludGVyLnBvaW50ZXJJZCAhPT0gdW5kZWZpbmVkID9cblx0ICAgIC8vIHBvaW50ZXJJZCBmb3IgcG9pbnRlciBldmVudHMsIHRvdWNoLmluZGVudGlmaWVyIGZvciB0b3VjaCBldmVudHNcblx0ICAgIHBvaW50ZXIucG9pbnRlcklkIDogcG9pbnRlci5pZGVudGlmaWVyO1xuXHRcblx0ICB0aGlzLnBvaW50ZXJEb3duKCBldmVudCwgcG9pbnRlciApO1xuXHR9O1xuXHRcblx0cHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cdH07XG5cdFxuXHQvLyBoYXNoIG9mIGV2ZW50cyB0byBiZSBib3VuZCBhZnRlciBzdGFydCBldmVudFxuXHR2YXIgcG9zdFN0YXJ0RXZlbnRzID0ge1xuXHQgIG1vdXNlZG93bjogWyAnbW91c2Vtb3ZlJywgJ21vdXNldXAnIF0sXG5cdCAgdG91Y2hzdGFydDogWyAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJyBdLFxuXHQgIHBvaW50ZXJkb3duOiBbICdwb2ludGVybW92ZScsICdwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcgXSxcblx0ICBNU1BvaW50ZXJEb3duOiBbICdNU1BvaW50ZXJNb3ZlJywgJ01TUG9pbnRlclVwJywgJ01TUG9pbnRlckNhbmNlbCcgXVxuXHR9O1xuXHRcblx0cHJvdG8uX2JpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgaWYgKCAhZXZlbnQgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIC8vIGdldCBwcm9wZXIgZXZlbnRzIHRvIG1hdGNoIHN0YXJ0IGV2ZW50XG5cdCAgdmFyIGV2ZW50cyA9IHBvc3RTdGFydEV2ZW50c1sgZXZlbnQudHlwZSBdO1xuXHQgIC8vIGJpbmQgZXZlbnRzIHRvIG5vZGVcblx0ICBldmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIHRoaXMgKTtcblx0ICB9LCB0aGlzICk7XG5cdCAgLy8gc2F2ZSB0aGVzZSBhcmd1bWVudHNcblx0ICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMgPSBldmVudHM7XG5cdH07XG5cdFxuXHRwcm90by5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgLy8gY2hlY2sgZm9yIF9ib3VuZEV2ZW50cywgaW4gY2FzZSBkcmFnRW5kIHRyaWdnZXJlZCB0d2ljZSAob2xkIElFOCBidWcpXG5cdCAgaWYgKCAhdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcblx0ICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIHRoaXMgKTtcblx0ICB9LCB0aGlzICk7XG5cdFxuXHQgIGRlbGV0ZSB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHM7XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBtb3ZlIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHRwcm90by5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIGV2ZW50ICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlck1vdmUgPVxuXHRwcm90by5vbnBvaW50ZXJtb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaG1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcblx0ICBpZiAoIHRvdWNoICkge1xuXHQgICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCB0b3VjaCApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIG1vdmVcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMucG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHQvLyBwdWJsaWNcblx0cHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHRcblx0cHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIGV2ZW50ICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlclVwID1cblx0cHJvdG8ub25wb2ludGVydXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcblx0ICAgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaGVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuXHQgIGlmICggdG91Y2ggKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCB0b3VjaCApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIHVwXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHByb3RvLl9wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fcG9pbnRlckRvbmUoKTtcblx0ICB0aGlzLnBvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdC8vIHB1YmxpY1xuXHRwcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tIHBvaW50ZXIgZG9uZSAtLS0tLSAvL1xuXHRcblx0Ly8gdHJpZ2dlcmVkIG9uIHBvaW50ZXIgdXAgJiBwb2ludGVyIGNhbmNlbFxuXHRwcm90by5fcG9pbnRlckRvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAvLyByZXNldCBwcm9wZXJ0aWVzXG5cdCAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG5cdCAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG5cdCAgLy8gcmVtb3ZlIGV2ZW50c1xuXHQgIHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpO1xuXHQgIHRoaXMucG9pbnRlckRvbmUoKTtcblx0fTtcblx0XG5cdHByb3RvLnBvaW50ZXJEb25lID0gbm9vcDtcblx0XG5cdC8vIC0tLS0tIHBvaW50ZXIgY2FuY2VsIC0tLS0tIC8vXG5cdFxuXHRwcm90by5vbk1TUG9pbnRlckNhbmNlbCA9XG5cdHByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoIGV2ZW50LnBvaW50ZXJJZCA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuXHQgICAgdGhpcy5fcG9pbnRlckNhbmNlbCggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuXHQgIGlmICggdG91Y2ggKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgdG91Y2ggKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogcG9pbnRlciBjYW5jZWxcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fcG9pbnRlckRvbmUoKTtcblx0ICB0aGlzLnBvaW50ZXJDYW5jZWwoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHQvLyBwdWJsaWNcblx0cHJvdG8ucG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJDYW5jZWwnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tICAtLS0tLSAvL1xuXHRcblx0Ly8gdXRpbGl0eSBmdW5jdGlvbiBmb3IgZ2V0dGluZyB4L3kgY29vcmRzIGZyb20gZXZlbnRcblx0VW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQgPSBmdW5jdGlvbiggcG9pbnRlciApIHtcblx0ICByZXR1cm4ge1xuXHQgICAgeDogcG9pbnRlci5wYWdlWCxcblx0ICAgIHk6IHBvaW50ZXIucGFnZVlcblx0ICB9O1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHRyZXR1cm4gVW5pcG9pbnRlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qKlxuXHQgKiBFdkVtaXR0ZXIgdjEuMC4zXG5cdCAqIExpbCcgZXZlbnQgZW1pdHRlclxuXHQgKiBNSVQgTGljZW5zZVxuXHQgKi9cblx0XG5cdC8qIGpzaGludCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblx0XG5cdCggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblx0ICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblx0ICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cblx0ICBpZiAoIHRydWUgKSB7XG5cdCAgICAvLyBBTUQgLSBSZXF1aXJlSlNcblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSkpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbHNcblx0ICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG5cdCAgfVxuXHRcblx0fSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRmdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXHRcblx0dmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblx0XG5cdHByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG5cdCAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgLy8gc2V0IGV2ZW50cyBoYXNoXG5cdCAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcblx0ICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG5cdCAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuXHQgIC8vIG9ubHkgYWRkIG9uY2Vcblx0ICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuXHQgICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdHByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcblx0ICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICAvLyBhZGQgZXZlbnRcblx0ICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG5cdCAgLy8gc2V0IG9uY2UgZmxhZ1xuXHQgIC8vIHNldCBvbmNlRXZlbnRzIGhhc2hcblx0ICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuXHQgIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuXHQgIHZhciBvbmNlTGlzdGVuZXJzID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSB8fCB7fTtcblx0ICAvLyBzZXQgZmxhZ1xuXHQgIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdHByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuXHQgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcblx0ICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApO1xuXHQgIGlmICggaW5kZXggIT0gLTEgKSB7XG5cdCAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuXHQgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcblx0ICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG5cdCAgYXJncyA9IGFyZ3MgfHwgW107XG5cdCAgLy8gb25jZSBzdHVmZlxuXHQgIHZhciBvbmNlTGlzdGVuZXJzID0gdGhpcy5fb25jZUV2ZW50cyAmJiB0aGlzLl9vbmNlRXZlbnRzWyBldmVudE5hbWUgXTtcblx0XG5cdCAgd2hpbGUgKCBsaXN0ZW5lciApIHtcblx0ICAgIHZhciBpc09uY2UgPSBvbmNlTGlzdGVuZXJzICYmIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG5cdCAgICBpZiAoIGlzT25jZSApIHtcblx0ICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG5cdCAgICAgIC8vIHJlbW92ZSBiZWZvcmUgdHJpZ2dlciB0byBwcmV2ZW50IHJlY3Vyc2lvblxuXHQgICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuXHQgICAgICAvLyB1bnNldCBvbmNlIGZsYWdcblx0ICAgICAgZGVsZXRlIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG5cdCAgICB9XG5cdCAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG5cdCAgICBsaXN0ZW5lci5hcHBseSggdGhpcywgYXJncyApO1xuXHQgICAgLy8gZ2V0IG5leHQgbGlzdGVuZXJcblx0ICAgIGkgKz0gaXNPbmNlID8gMCA6IDE7XG5cdCAgICBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0cmV0dXJuIEV2RW1pdHRlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7Ly8gaXMuanMgMC44LjBcblx0Ly8gQXV0aG9yOiBBcmFzIEF0YXNheWdpblxuXHRcblx0Ly8gQU1EIHdpdGggZ2xvYmFsLCBOb2RlLCBvciBnbG9iYWxcblx0OyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdCAgICBpZih0cnVlKSB7XG5cdCAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgLy8gQWxzbyBjcmVhdGUgYSBnbG9iYWwgaW4gY2FzZSBzb21lIHNjcmlwdHNcblx0ICAgICAgICAgICAgLy8gdGhhdCBhcmUgbG9hZGVkIHN0aWxsIGFyZSBsb29raW5nIGZvclxuXHQgICAgICAgICAgICAvLyBhIGdsb2JhbCBldmVuIHdoZW4gYW4gQU1EIGxvYWRlciBpcyBpbiB1c2UuXG5cdCAgICAgICAgICAgIHJldHVybiAocm9vdC5pcyA9IGZhY3RvcnkoKSk7XG5cdCAgICAgICAgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0ICAgIH0gZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0ICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuXHQgICAgICAgIC8vIGxpa2UgTm9kZS5cblx0ICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgICAgICByb290LmlzID0gZmFjdG9yeSgpO1xuXHQgICAgfVxuXHR9ICh0aGlzLCBmdW5jdGlvbigpIHtcblx0XG5cdCAgICAvLyBCYXNlbGluZVxuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICB2YXIgcm9vdCA9IHRoaXMgfHwgZ2xvYmFsO1xuXHQgICAgdmFyIHByZXZpb3VzSXMgPSByb290LmlzO1xuXHRcblx0ICAgIC8vIGRlZmluZSAnaXMnIG9iamVjdCBhbmQgY3VycmVudCB2ZXJzaW9uXG5cdCAgICB2YXIgaXMgPSB7fTtcblx0ICAgIGlzLlZFUlNJT04gPSAnMC44LjAnO1xuXHRcblx0ICAgIC8vIGRlZmluZSBpbnRlcmZhY2VzXG5cdCAgICBpcy5ub3QgPSB7fTtcblx0ICAgIGlzLmFsbCA9IHt9O1xuXHQgICAgaXMuYW55ID0ge307XG5cdFxuXHQgICAgLy8gY2FjaGUgc29tZSBtZXRob2RzIHRvIGNhbGwgbGF0ZXIgb25cblx0ICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdCAgICB2YXIgYXJyYXlTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0ICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHQgICAgLy8gaGVscGVyIGZ1bmN0aW9uIHdoaWNoIHJldmVyc2VzIHRoZSBzZW5zZSBvZiBwcmVkaWNhdGUgcmVzdWx0XG5cdCAgICBmdW5jdGlvbiBub3QoZnVuYykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICFmdW5jLmFwcGx5KG51bGwsIGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbGwgcGFzc1xuXHQgICAgZnVuY3Rpb24gYWxsKGZ1bmMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcblx0ICAgICAgICAgICAgaWYobGVuZ3RoID09PSAxICYmIGlzLmFycmF5KHBhcmFtZXRlcnNbMF0pKSB7ICAgIC8vIHN1cHBvcnQgYXJyYXlcblx0ICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuXHQgICAgICAgICAgICAgICAgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBoZWxwZXIgZnVuY3Rpb24gd2hpY2ggY2FsbCBwcmVkaWNhdGUgZnVuY3Rpb24gcGVyIHBhcmFtZXRlciBhbmQgcmV0dXJuIHRydWUgaWYgYW55IHBhc3Ncblx0ICAgIGZ1bmN0aW9uIGFueShmdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG5cdCAgICAgICAgICAgIGlmKGxlbmd0aCA9PT0gMSAmJiBpcy5hcnJheShwYXJhbWV0ZXJzWzBdKSkgeyAgICAvLyBzdXBwb3J0IGFycmF5XG5cdCAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVyc1swXTtcblx0ICAgICAgICAgICAgICAgIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUeXBlIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEFyZ3VtZW50cz9cblx0ICAgIGlzLmFyZ3VtZW50cyA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuXHQgICAgICAgIHJldHVybiBpcy5ub3QubnVsbCh2YWx1ZSkgJiYgKHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcmd1bWVudHNdJyB8fCAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAnY2FsbGVlJyBpbiB2YWx1ZSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEFycmF5P1xuXHQgICAgaXMuYXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGNoZWNrIG5hdGl2ZSBpc0FycmF5IGZpcnN0XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEJvb2xlYW4/XG5cdCAgICBpcy5ib29sZWFuID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBCb29sZWFuXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgRGF0ZSBPYmplY3Q/XG5cdCAgICBpcy5kYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBFcnJvciBvYmplY3Q/XG5cdCAgICBpcy5lcnJvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBFcnJvcl0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZ1bmN0aW9uP1xuXHQgICAgaXMuZnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkgeyAgICAvLyBmYWxsYmFjayBjaGVjayBpcyBmb3IgSUVcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIE5hTj9cblx0ICAgIGlzLm5hbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIE5hTiBpcyBudW1iZXIgOikgQWxzbyBpdCBpcyB0aGUgb25seSB2YWx1ZSB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGZcblx0ICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG51bGw/XG5cdCAgICBpcy5udWxsID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVtYmVyP1xuXHQgICAgaXMubnVtYmVyID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gaXMubm90Lm5hbih2YWx1ZSkgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG9iamVjdD9cblx0ICAgIGlzLm9iamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISF2YWx1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgZ2l2ZW4gdmFsdWUgYSBwdXJlIEpTT04gb2JqZWN0P1xuXHQgICAgaXMuanNvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBSZWdFeHA/XG5cdCAgICBpcy5yZWdleHAgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgc2FtZSB0eXBlP1xuXHQgICAgLy8gcHJldmVudCBOYU4sIE51bWJlciBzYW1lIHR5cGUgY2hlY2tcblx0ICAgIGlzLnNhbWVUeXBlID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcblx0ICAgICAgICBpZihpcy5uYW4odmFsdWUxKSB8fCBpcy5uYW4odmFsdWUyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMubmFuKHZhbHVlMSkgPT09IGlzLm5hbih2YWx1ZTIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZTEpID09PSB0b1N0cmluZy5jYWxsKHZhbHVlMik7XG5cdCAgICB9O1xuXHQgICAgLy8gc2FtZVR5cGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnNhbWVUeXBlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBTdHJpbmc/XG5cdCAgICBpcy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQ2hhcj9cblx0ICAgIGlzLmNoYXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB1bmRlZmluZWQ/XG5cdCAgICBpcy51bmRlZmluZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBQcmVzZW5jZSBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy9pcyBhIGdpdmVuIHZhbHVlIGVtcHR5PyBPYmplY3RzLCBhcnJheXMsIHN0cmluZ3Ncblx0ICAgIGlzLmVtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICBpZihpcy5vYmplY3QodmFsdWUpKXtcblx0ICAgICAgICAgICAgdmFyIG51bSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGg7XG5cdCAgICAgICAgICAgIGlmKG51bSA9PT0gMCB8fCAobnVtID09PSAxICYmIGlzLmFycmF5KHZhbHVlKSkgfHwgKG51bSA9PT0gMiAmJiBpcy5hcmd1bWVudHModmFsdWUpKSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnJztcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZXhpc3R5P1xuXHQgICAgaXMuZXhpc3R5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB0cnV0aHk/XG5cdCAgICBpcy50cnV0aHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpcy5leGlzdHkodmFsdWUpICYmIHZhbHVlICE9PSBmYWxzZSAmJiBpcy5ub3QubmFuKHZhbHVlKSAmJiB2YWx1ZSAhPT0gXCJcIiAmJiB2YWx1ZSAhPT0gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBmYWxzeT9cblx0ICAgIGlzLmZhbHN5ID0gbm90KGlzLnRydXRoeSk7XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBzcGFjZT9cblx0ICAgIC8vIGhvcml6YW50YWwgdGFiOiA5LCBsaW5lIGZlZWQ6IDEwLCB2ZXJ0aWNhbCB0YWI6IDExLCBmb3JtIGZlZWQ6IDEyLCBjYXJyaWFnZSByZXR1cm46IDEzLCBzcGFjZTogMzJcblx0ICAgIGlzLnNwYWNlID0gIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgaWYoaXMuY2hhcih2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgdmFyIGNoYXJhY3RlckNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuXHQgICAgICAgICAgICByZXR1cm4gKGNoYXJhY3RlckNvZGUgPiAgOCAmJiBjaGFyYWN0ZXJDb2RlIDwgMTQpIHx8IGNoYXJhY3RlckNvZGUgPT09IDMyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEFyaXRobWV0aWMgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgZXF1YWw/IHN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MsIHJlZ2V4cHMsIGJvb2xlYW5zXG5cdCAgICAvLyBUT0RPOiBBZGQgb2JqZWN0IGFuZCBhcnJheSBzdXBwb3J0XG5cdCAgICBpcy5lcXVhbCA9IGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG5cdCAgICAgICAgLy8gY2hlY2sgMCBhbmQgLTAgZXF1aXR5IHdpdGggSW5maW5pdHkgYW5kIC1JbmZpbml0eVxuXHQgICAgICAgIGlmKGlzLmFsbC5udW1iZXIodmFsdWUxLCB2YWx1ZTIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMiAmJiAxIC8gdmFsdWUxID09PSAxIC8gdmFsdWUyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBjaGVjayByZWdleHBzIGFzIHN0cmluZ3MgdG9vXG5cdCAgICAgICAgaWYoaXMuYWxsLnN0cmluZyh2YWx1ZTEsIHZhbHVlMikgfHwgaXMuYWxsLnJlZ2V4cCh2YWx1ZTEsIHZhbHVlMikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsdWUxID09PSAnJyArIHZhbHVlMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYoaXMuYWxsLmJvb2xlYW4odmFsdWUxLCB2YWx1ZTIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0ICAgIC8vIGVxdWFsIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5lcXVhbC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGV2ZW4/XG5cdCAgICBpcy5ldmVuID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG9kZD9cblx0ICAgIGlzLm9kZCA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAyID09PSAxO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBwb3NpdGl2ZT9cblx0ICAgIGlzLnBvc2l0aXZlID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiA+IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG5lZ2F0aXZlP1xuXHQgICAgaXMubmVnYXRpdmUgPSBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iIDwgMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWluaW11bSBwYXJhbWV0ZXI/XG5cdCAgICBpcy5hYm92ZSA9IGZ1bmN0aW9uKG51bWIsIG1pbikge1xuXHQgICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1pbikgJiYgbnVtYiA+IG1pbjtcblx0ICAgIH07XG5cdCAgICAvLyBhYm92ZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuYWJvdmUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBhYm92ZSBtYXhpbXVtIHBhcmFtZXRlcj9cblx0ICAgIGlzLnVuZGVyID0gZnVuY3Rpb24obnVtYiwgbWF4KSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWF4KSAmJiBudW1iIDwgbWF4O1xuXHQgICAgfTtcblx0ICAgIC8vIGxlYXN0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy51bmRlci5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHdpdGhpbiBtaW5pbXVtIGFuZCBtYXhpbXVtIHBhcmFtZXRlcnM/XG5cdCAgICBpcy53aXRoaW4gPSBmdW5jdGlvbihudW1iLCBtaW4sIG1heCkge1xuXHQgICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1pbiwgbWF4KSAmJiBudW1iID4gbWluICYmIG51bWIgPCBtYXg7XG5cdCAgICB9O1xuXHQgICAgLy8gd2l0aGluIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy53aXRoaW4uYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBkZWNpbWFsP1xuXHQgICAgaXMuZGVjaW1hbCA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAxICE9PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbnRlZ2VyP1xuXHQgICAgaXMuaW50ZWdlciA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAxID09PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBmaW5pdGU/XG5cdCAgICBpcy5maW5pdGUgPSBpc0Zpbml0ZSB8fCBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bWIgIT09IEluZmluaXR5ICYmIG51bWIgIT09IC1JbmZpbml0eSAmJiBpcy5ub3QubmFuKG51bWIpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbmZpbml0ZT9cblx0ICAgIGlzLmluZmluaXRlID0gbm90KGlzLmZpbml0ZSk7XG5cdFxuXHQgICAgLy8gUmVnZXhwIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0ICAgIC8vIFN0ZXZlbiBMZXZpdGhhbiwgSmFuIEdveXZhZXJ0czogUmVndWxhciBFeHByZXNzaW9ucyBDb29rYm9va1xuXHQgICAgLy8gU2NvdHQgR29uemFsZXo6IEVtYWlsIGFkZHJlc3MgdmFsaWRhdGlvblxuXHRcblx0ICAgIC8vIGVwcFBob25lIG1hdGNoIGV4dGVuc2libGUgcHJvdmlzaW9uaW5nIHByb3RvY29sIGZvcm1hdFxuXHQgICAgLy8gbmFucFBob25lIG1hdGNoIG5vcnRoIGFtZXJpY2FuIG51bWJlciBwbGFuIGZvcm1hdFxuXHQgICAgLy8gZGF0ZVN0cmluZyBtYXRjaCBtL2QveXkgYW5kIG1tL2RkL3l5eXksIGFsbG93aW5nIGFueSBjb21iaW5hdGlvbiBvZiBvbmUgb3IgdHdvIGRpZ2l0cyBmb3IgdGhlIGRheSBhbmQgbW9udGgsIGFuZCB0d28gb3IgZm91ciBkaWdpdHMgZm9yIHRoZSB5ZWFyXG5cdCAgICAvLyB0aW1lIG1hdGNoIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcywgMjQtaG91ciBjbG9ja1xuXHQgICAgdmFyIHJlZ2V4cHMgPSB7XG5cdCAgICAgICAgdXJsOiAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLyk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1xcUyopPyQvaSxcblx0ICAgICAgICBlbWFpbDogL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pLFxuXHQgICAgICAgIGNyZWRpdENhcmQ6IC9eKD86KDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pKSQvLFxuXHQgICAgICAgIGFscGhhTnVtZXJpYzogL15bQS1aYS16MC05XSskLyxcblx0ICAgICAgICB0aW1lU3RyaW5nOiAvXigyWzAtM118WzAxXT9bMC05XSk6KFswLTVdP1swLTldKTooWzAtNV0/WzAtOV0pJC8sXG5cdCAgICAgICAgZGF0ZVN0cmluZzogL14oMVswLTJdfDA/WzEtOV0pXFwvKDNbMDFdfFsxMl1bMC05XXwwP1sxLTldKVxcLyg/OlswLTldezJ9KT9bMC05XXsyfSQvLFxuXHQgICAgICAgIHVzWmlwQ29kZTogL15bMC05XXs1fSg/Oi1bMC05XXs0fSk/JC8sXG5cdCAgICAgICAgY2FQb3N0YWxDb2RlOiAvXig/IS4qW0RGSU9RVV0pW0EtVlhZXVswLTldW0EtWl1cXHM/WzAtOV1bQS1aXVswLTldJC8sXG5cdCAgICAgICAgdWtQb3N0Q29kZTogL15bQS1aXXsxLDJ9WzAtOVJDSE5RXVswLTlBLVpdP1xccz9bMC05XVtBQkQtSEpMTlAtVVctWl17Mn0kfF5bQS1aXXsyfS0/WzAtOV17NH0kLyxcblx0ICAgICAgICBuYW5wUGhvbmU6IC9eXFwoPyhbMC05XXszfSlcXCk/Wy0uIF0/KFswLTldezN9KVstLiBdPyhbMC05XXs0fSkkLyxcblx0ICAgICAgICBlcHBQaG9uZTogL15cXCtbMC05XXsxLDN9XFwuWzAtOV17NCwxNH0oPzp4LispPyQvLFxuXHQgICAgICAgIHNvY2lhbFNlY3VyaXR5TnVtYmVyOiAvXig/ITAwMHw2NjYpWzAtOF1bMC05XXsyfS0oPyEwMClbMC05XXsyfS0oPyEwMDAwKVswLTldezR9JC8sXG5cdCAgICAgICAgYWZmaXJtYXRpdmU6IC9eKD86MXx0KD86cnVlKT98eSg/OmVzKT98b2soPzpheSk/KSQvLFxuXHQgICAgICAgIGhleGFkZWNpbWFsOiAvXlswLTlhLWZBLUZdKyQvLFxuXHQgICAgICAgIGhleENvbG9yOiAvXiM/KFswLTlhLWZBLUZdezN9fFswLTlhLWZBLUZdezZ9KSQvLFxuXHQgICAgICAgIGlwdjQ6IC9eKD86KD86XFxkfFsxLTldXFxkfDFcXGR7Mn18MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfSg/OlxcZHxbMS05XVxcZHwxXFxkezJ9fDJbMC00XVxcZHwyNVswLTVdKSQvLFxuXHQgICAgICAgIGlwdjY6IC9eKChbYS16QS1aXXxbYS16QS1aXVthLXpBLVowLTlcXC1dKlthLXpBLVowLTldKVxcLikqKFtBLVphLXpdfFtBLVphLXpdW0EtWmEtejAtOVxcLV0qW0EtWmEtejAtOV0pJHxeXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxcblx0ICAgICAgICBpcDogL14oKFswLTldfFsxLTldWzAtOV18MVswLTldezJ9fDJbMC00XVswLTldfDI1WzAtNV0pXFwuKXszfShbMC05XXxbMS05XVswLTldfDFbMC05XXsyfXwyWzAtNF1bMC05XXwyNVswLTVdKSR8XigoW2EtekEtWl18W2EtekEtWl1bYS16QS1aMC05XFwtXSpbYS16QS1aMC05XSlcXC4pKihbQS1aYS16XXxbQS1aYS16XVtBLVphLXowLTlcXC1dKltBLVphLXowLTldKSR8XlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC9cblx0ICAgIH07XG5cdFxuXHQgICAgLy8gY3JlYXRlIHJlZ2V4cCBjaGVja3MgbWV0aG9kcyBmcm9tICdyZWdleHAnIG9iamVjdFxuXHQgICAgZm9yKHZhciByZWdleHAgaW4gcmVnZXhwcykge1xuXHQgICAgICAgIGlmKHJlZ2V4cHMuaGFzT3duUHJvcGVydHkocmVnZXhwKSkge1xuXHQgICAgICAgICAgICByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpIHtcblx0ICAgICAgICBpc1tyZWdleHBdID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cHNbcmVnZXhwXS50ZXN0KHZhbHVlKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFN0cmluZyBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgaW5jbHVkZSBwYXJhbWV0ZXIgc3Vic3RyaW5nP1xuXHQgICAgaXMuaW5jbHVkZSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1YnN0cikgPiAtMTtcblx0ICAgIH07XG5cdCAgICAvLyBpbmNsdWRlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5pbmNsdWRlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgYWxsIHVwcGVyY2FzZT9cblx0ICAgIGlzLnVwcGVyQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT09IHN0ci50b1VwcGVyQ2FzZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBhbGwgbG93ZXJjYXNlP1xuXHQgICAgaXMubG93ZXJDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIHN0cmluZyBzdGFydCB3aXRoIGEgZ2l2ZW4gc3RhcnRXaXRoIHBhcmFtZXRlcj9cblx0ICAgIGlzLnN0YXJ0V2l0aCA9IGZ1bmN0aW9uKHN0ciwgc3RhcnRXaXRoKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ci5pbmRleE9mKHN0YXJ0V2l0aCkgPT09IDA7XG5cdCAgICB9O1xuXHQgICAgLy8gc3RhcnRXaXRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5zdGFydFdpdGguYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBzdHJpbmcgZW5kIHdpdGggYSBnaXZlbiBlbmRXaXRoIHBhcmFtZXRlcj9cblx0ICAgIGlzLmVuZFdpdGggPSBmdW5jdGlvbihzdHIsIGVuZFdpdGgpIHtcblx0ICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2YoZW5kV2l0aCkgPiAtMSAmJiBzdHIuaW5kZXhPZihlbmRXaXRoKSA9PT0gc3RyLmxlbmd0aCAtICBlbmRXaXRoLmxlbmd0aDtcblx0ICAgIH07XG5cdCAgICAvLyBlbmRXaXRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5lbmRXaXRoLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgb3Igc2VudGVuY2UgY2FwaXRhbGl6ZWQ/XG5cdCAgICBpcy5jYXBpdGFsaXplZCA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIGlmKGlzLm5vdC5zdHJpbmcoc3RyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciB3b3JkcyA9IHN0ci5zcGxpdCgnICcpO1xuXHQgICAgICAgIHZhciBjYXBpdGFsaXplZCA9IFtdO1xuXHQgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBjYXBpdGFsaXplZC5wdXNoKHdvcmRzW2ldWzBdID09PSB3b3Jkc1tpXVswXS50b1VwcGVyQ2FzZSgpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC50cnV0aHkuYXBwbHkobnVsbCwgY2FwaXRhbGl6ZWQpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBwYWxpbmRyb21lP1xuXHQgICAgaXMucGFsaW5kcm9tZSA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT0gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIFRpbWUgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIHZhciBkYXlzID0gWydzdW5kYXknLCAnbW9uZGF5JywgJ3R1ZXNkYXknLCAnd2VkbmVzZGF5JywgJ3RodXJzZGF5JywgJ2ZyaWRheScsICdzYXR1cmRheSddO1xuXHQgICAgdmFyIG1vbnRocyA9IFsnamFudWFyeScsICdmZWJydWFyeScsICdtYXJjaCcsICdhcHJpbCcsICdtYXknLCAnanVuZScsICdqdWx5JywgJ2F1Z3VzdCcsICdzZXB0ZW1iZXInLCAnb2N0b2JlcicsICdub3ZlbWJlcicsICdkZWNlbWJlciddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB0b2RheT9cblx0ICAgIGlzLnRvZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgdmFyIHRvZGF5U3RyaW5nID0gbm93LnRvRGF0ZVN0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b2RheVN0cmluZztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHllc3RlcmRheT9cblx0ICAgIGlzLnllc3RlcmRheSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgICAgICAgIHZhciB5ZXN0ZXJkYXlTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSkpLnRvRGF0ZVN0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB5ZXN0ZXJkYXlTdHJpbmc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB0b21vcnJvdz9cblx0ICAgIGlzLnRvbW9ycm93ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgdmFyIHRvbW9ycm93U3RyaW5nID0gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSArIDEpKS50b0RhdGVTdHJpbmcoKTtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0gdG9tb3Jyb3dTdHJpbmc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBwYXN0P1xuXHQgICAgaXMucGFzdCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBmdXR1cmU/XG5cdCAgICBpcy5mdXR1cmUgPSBub3QoaXMucGFzdCk7XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBkYXkgZXF1YWwgZ2l2ZW4gZGF5U3RyaW5nIHBhcmFtZXRlcj9cblx0ICAgIGlzLmRheSA9IGZ1bmN0aW9uKG9iaiwgZGF5U3RyaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBkYXlTdHJpbmcudG9Mb3dlckNhc2UoKSA9PT0gZGF5c1tvYmouZ2V0RGF5KCldO1xuXHQgICAgfTtcblx0ICAgIC8vIGRheSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuZGF5LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBtb250aCBlcXVhbCBnaXZlbiBtb250aFN0cmluZyBwYXJhbWV0ZXI/XG5cdCAgICBpcy5tb250aCA9IGZ1bmN0aW9uKG9iaiwgbW9udGhTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG1vbnRoU3RyaW5nLnRvTG93ZXJDYXNlKCkgPT09IG1vbnRoc1tvYmouZ2V0TW9udGgoKV07XG5cdCAgICB9O1xuXHQgICAgLy8gbW9udGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLm1vbnRoLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyB5ZWFyIGVxdWFsIGdpdmVuIHllYXIgcGFyYW1ldGVyP1xuXHQgICAgaXMueWVhciA9IGZ1bmN0aW9uKG9iaiwgeWVhcikge1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHllYXIpICYmIHllYXIgPT09IG9iai5nZXRGdWxsWWVhcigpO1xuXHQgICAgfTtcblx0ICAgIC8vIHllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnllYXIuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyB0aGUgZ2l2ZW4geWVhciBhIGxlYXAgeWVhcj9cblx0ICAgIGlzLmxlYXBZZWFyID0gZnVuY3Rpb24oeWVhcikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIoeWVhcikgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIHdlZWtlbmQ/XG5cdCAgICAvLyA2OiBTYXR1cmRheSwgMDogU3VuZGF5XG5cdCAgICBpcy53ZWVrZW5kID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiAob2JqLmdldERheSgpID09PSA2IHx8IG9iai5nZXREYXkoKSA9PT0gMCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSB3ZWVrZGF5P1xuXHQgICAgaXMud2Vla2RheSA9IG5vdChpcy53ZWVrZW5kKTtcblx0XG5cdCAgICAvLyBpcyBkYXRlIHdpdGhpbiBnaXZlbiByYW5nZT9cblx0ICAgIGlzLmluRGF0ZVJhbmdlID0gZnVuY3Rpb24ob2JqLCBzdGFydE9iaiwgZW5kT2JqKSB7XG5cdCAgICAgICAgaWYoaXMubm90LmRhdGUob2JqKSB8fCBpcy5ub3QuZGF0ZShzdGFydE9iaikgfHwgaXMubm90LmRhdGUoZW5kT2JqKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBnaXZlbkRhdGUgPSBvYmouZ2V0VGltZSgpO1xuXHQgICAgICAgIHZhciBzdGFydCA9IHN0YXJ0T2JqLmdldFRpbWUoKTtcblx0ICAgICAgICB2YXIgZW5kID0gZW5kT2JqLmdldFRpbWUoKTtcblx0ICAgICAgICByZXR1cm4gZ2l2ZW5EYXRlID4gc3RhcnQgJiYgZ2l2ZW5EYXRlIDwgZW5kO1xuXHQgICAgfTtcblx0ICAgIC8vIGluRGF0ZVJhbmdlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5pbkRhdGVSYW5nZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IHdlZWsgcmFuZ2U/XG5cdCAgICBpcy5pbkxhc3RXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNykpLCBuZXcgRGF0ZSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgbW9udGggcmFuZ2U/XG5cdCAgICBpcy5pbkxhc3RNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgeWVhciByYW5nZT9cblx0ICAgIGlzLmluTGFzdFllYXIgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKSwgbmV3IERhdGUoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IHdlZWsgcmFuZ2U/XG5cdCAgICBpcy5pbk5leHRXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUoKSwgbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpICsgNykpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgbW9udGggcmFuZ2U/XG5cdCAgICBpcy5pbk5leHRNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSkpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgeWVhciByYW5nZT9cblx0ICAgIGlzLmluTmV4dFllYXIgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiB0aGUgcGFyYW1ldGVyIHF1YXJ0ZXI/XG5cdCAgICBpcy5xdWFydGVyT2ZZZWFyID0gZnVuY3Rpb24ob2JqLCBxdWFydGVyTnVtYmVyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBpcy5udW1iZXIocXVhcnRlck51bWJlcikgJiYgcXVhcnRlck51bWJlciA9PT0gTWF0aC5mbG9vcigob2JqLmdldE1vbnRoKCkgKyAzKSAvIDMpO1xuXHQgICAgfTtcblx0ICAgIC8vIHF1YXJ0ZXJPZlllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnF1YXJ0ZXJPZlllYXIuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gZGF5bGlnaHQgc2F2aW5nIHRpbWU/XG5cdCAgICBpcy5kYXlMaWdodFNhdmluZ1RpbWUgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICB2YXIgamFudWFyeSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCAwLCAxKTtcblx0ICAgICAgICB2YXIganVseSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCA2LCAxKTtcblx0ICAgICAgICB2YXIgc3RkVGltZXpvbmVPZmZzZXQgPSBNYXRoLm1heChqYW51YXJ5LmdldFRpbWV6b25lT2Zmc2V0KCksIGp1bHkuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG5cdCAgICAgICAgcmV0dXJuIG9iai5nZXRUaW1lem9uZU9mZnNldCgpIDwgc3RkVGltZXpvbmVPZmZzZXQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEVudmlyb25tZW50IGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBjaGVjayBpZiBsaWJyYXJ5IGlzIHVzZWQgYXMgYSBOb2RlLmpzIG1vZHVsZVxuXHQgICAgaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XG5cdCAgICAgICAgLy8gc3RvcmUgbmF2aWdhdG9yIHByb3BlcnRpZXMgdG8gdXNlIGxhdGVyXG5cdCAgICAgICAgdmFyIHVzZXJBZ2VudCA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndXNlckFnZW50JyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuXHQgICAgICAgIHZhciB2ZW5kb3IgPSAnbmF2aWdhdG9yJyBpbiB3aW5kb3cgJiYgJ3ZlbmRvcicgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci52ZW5kb3IudG9Mb3dlckNhc2UoKSB8fCAnJztcblx0ICAgICAgICB2YXIgYXBwVmVyc2lvbiA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAnYXBwVmVyc2lvbicgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkgfHwgJyc7XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBjaHJvbWU/XG5cdCAgICAgICAgaXMuY2hyb21lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvY2hyb21lfGNocm9taXVtL2kudGVzdCh1c2VyQWdlbnQpICYmIC9nb29nbGUgaW5jLy50ZXN0KHZlbmRvcik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBjaHJvbWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5jaHJvbWUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGZpcmVmb3g/XG5cdCAgICAgICAgaXMuZmlyZWZveCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2ZpcmVmb3gvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBmaXJlZm94IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuZmlyZWZveC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZWRnZT9cblx0ICAgICAgICBpcy5lZGdlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvZWRnZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGVkZ2UgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5lZGdlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBpbnRlcm5ldCBleHBsb3Jlcj9cblx0ICAgICAgICAvLyBwYXJhbWV0ZXIgaXMgb3B0aW9uYWxcblx0ICAgICAgICBpcy5pZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcblx0ICAgICAgICAgICAgaWYoIXZlcnNpb24pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAvbXNpZS9pLnRlc3QodXNlckFnZW50KSB8fCBcIkFjdGl2ZVhPYmplY3RcIiBpbiB3aW5kb3c7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYodmVyc2lvbiA+PSAxMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnbXNpZSAnICsgdmVyc2lvbikudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgb3BlcmE/XG5cdCAgICAgICAgaXMub3BlcmEgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9eT3BlcmFcXC8vLnRlc3QodXNlckFnZW50KSB8fCAvLyBPcGVyYSAxMiBhbmQgb2xkZXIgdmVyc2lvbnNcblx0ICAgICAgICAgICAgICAgIC9cXHgyME9QUlxcLy8udGVzdCh1c2VyQWdlbnQpOyAvLyBPcGVyYSAxNStcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG9wZXJhIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMub3BlcmEuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIHNhZmFyaT9cblx0ICAgICAgICBpcy5zYWZhcmkgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9zYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCkgJiYgL2FwcGxlIGNvbXB1dGVyL2kudGVzdCh2ZW5kb3IpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gc2FmYXJpIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuc2FmYXJpLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlvcz9cblx0ICAgICAgICBpcy5pb3MgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLmlwaG9uZSgpIHx8IGlzLmlwYWQoKSB8fCBpcy5pcG9kKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBpb3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pb3MuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBob25lP1xuXHQgICAgICAgIGlzLmlwaG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2lwaG9uZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGlwaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlwaG9uZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcGFkP1xuXHQgICAgICAgIGlzLmlwYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9pcGFkL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaXBhZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlwYWQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBvZD9cblx0ICAgICAgICBpcy5pcG9kID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvaXBvZC9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGlwb2QgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pcG9kLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQ/XG5cdCAgICAgICAgaXMuYW5kcm9pZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBhbmRyb2lkIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuYW5kcm9pZC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHBob25lP1xuXHQgICAgICAgIGlzLmFuZHJvaWRQaG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCkgJiYgL21vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGFuZHJvaWRQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmFuZHJvaWRQaG9uZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHRhYmxldD9cblx0ICAgICAgICBpcy5hbmRyb2lkVGFibGV0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSAmJiAhL21vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGFuZHJvaWRUYWJsZXQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5hbmRyb2lkVGFibGV0LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGJsYWNrYmVycnk/XG5cdCAgICAgICAgaXMuYmxhY2tiZXJyeSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2JsYWNrYmVycnkvaS50ZXN0KHVzZXJBZ2VudCkgfHwgL0JCMTAvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBibGFja2JlcnJ5IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuYmxhY2tiZXJyeS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBkZXNrdG9wP1xuXHQgICAgICAgIGlzLmRlc2t0b3AgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLm5vdC5tb2JpbGUoKSAmJiBpcy5ub3QudGFibGV0KCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBkZXNrdG9wIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuZGVza3RvcC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbGludXg/XG5cdCAgICAgICAgaXMubGludXggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9saW51eC9pLnRlc3QoYXBwVmVyc2lvbik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBsaW51eCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmxpbnV4LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSBtYWM/XG5cdCAgICAgICAgaXMubWFjID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvbWFjL2kudGVzdChhcHBWZXJzaW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG1hYyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLm1hYy5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gd2luZG93cz9cblx0ICAgICAgICBpcy53aW5kb3dzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvd2luL2kudGVzdChhcHBWZXJzaW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHdpbmRvd3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy53aW5kb3dzLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgcGhvbmU/XG5cdCAgICAgICAgaXMud2luZG93c1Bob25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy53aW5kb3dzKCkgJiYgL3Bob25lL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gd2luZG93c1Bob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMud2luZG93c1Bob25lLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgdGFibGV0P1xuXHQgICAgICAgIGlzLndpbmRvd3NUYWJsZXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiBpcy5ub3Qud2luZG93c1Bob25lKCkgJiYgL3RvdWNoL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gd2luZG93c1RhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLndpbmRvd3NUYWJsZXQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgbW9iaWxlP1xuXHQgICAgICAgIGlzLm1vYmlsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMuaXBob25lKCkgfHwgaXMuaXBvZCgpIHx8IGlzLmFuZHJvaWRQaG9uZSgpIHx8IGlzLmJsYWNrYmVycnkoKSB8fCBpcy53aW5kb3dzUGhvbmUoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG1vYmlsZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLm1vYmlsZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB0YWJsZXQ/XG5cdCAgICAgICAgaXMudGFibGV0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy5pcGFkKCkgfHwgaXMuYW5kcm9pZFRhYmxldCgpIHx8IGlzLndpbmRvd3NUYWJsZXQoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHRhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLnRhYmxldC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IHN0YXRlIG9ubGluZT9cblx0ICAgICAgICBpcy5vbmxpbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBvbmxpbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5vbmxpbmUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBzdGF0ZSBvZmZsaW5lP1xuXHQgICAgICAgIGlzLm9mZmxpbmUgPSBub3QoaXMub25saW5lKTtcblx0ICAgICAgICAvLyBvZmZsaW5lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMub2ZmbGluZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBzdXBwb3J0cyB0b3VjaD9cblx0ICAgICAgICBpcy50b3VjaERldmljZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8J0RvY3VtZW50VG91Y2gnIGluIHdpbmRvdyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyB0b3VjaERldmljZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLnRvdWNoRGV2aWNlLmFwaSA9IFsnbm90J107XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gT2JqZWN0IGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBoYXMgYSBnaXZlbiBvYmplY3QgZ290IHBhcmFtZXRlcml6ZWQgY291bnQgcHJvcGVydHk/XG5cdCAgICBpcy5wcm9wZXJ0eUNvdW50ID0gZnVuY3Rpb24ob2JqLCBjb3VudCkge1xuXHQgICAgICAgIGlmKCFpcy5vYmplY3Qob2JqKSB8fCAhaXMubnVtYmVyKGNvdW50KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmKE9iamVjdC5rZXlzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gY291bnQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW10sXG5cdCAgICAgICAgICAgIHByb3BlcnR5O1xuXHQgICAgICAgIGZvcihwcm9wZXJ0eSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSkpIHtcblx0ICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMubGVuZ3RoID09PSBjb3VudDtcblx0ICAgIH07XG5cdCAgICAvLyBwcm9wZXJ0eUNvdW50IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5wcm9wZXJ0eUNvdW50LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgZ2l2ZW4gb2JqZWN0IGhhcyBwYXJhbWV0ZXJpemVkIHByb3BlcnR5P1xuXHQgICAgaXMucHJvcGVydHlEZWZpbmVkID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSkge1xuXHQgICAgICAgIHJldHVybiBpcy5vYmplY3Qob2JqKSAmJiBpcy5zdHJpbmcocHJvcGVydHkpICYmIHByb3BlcnR5IGluIG9iajtcblx0ICAgIH07XG5cdCAgICAvLyBwcm9wZXJ0eURlZmluZWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnByb3BlcnR5RGVmaW5lZC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gb2JqZWN0IHdpbmRvdz9cblx0ICAgIC8vIHNldEludGVydmFsIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBmb3Igd2luZG93IG9iamVjdFxuXHQgICAgaXMud2luZG93T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdzZXRJbnRlcnZhbCcgaW4gb2JqO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG9iamVjdCBhIERPTSBub2RlP1xuXHQgICAgaXMuZG9tTm9kZSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5vYmplY3Qob2JqKSAmJiBvYmoubm9kZVR5cGUgPiAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBBcnJheSBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBpdGVtIGluIGFuIGFycmF5P1xuXHQgICAgaXMuaW5BcnJheSA9IGZ1bmN0aW9uKHZhbCwgYXJyKXtcblx0ICAgICAgICBpZihpcy5ub3QuYXJyYXkoYXJyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gdmFsKSByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0ICAgIC8vIGluQXJyYXkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmluQXJyYXkuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGFycmF5IHNvcnRlZD9cblx0ICAgIGlzLnNvcnRlZCA9IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmKGlzLm5vdC5hcnJheShhcnIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZihhcnJbaV0gPiBhcnJbaSArIDFdKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBBUElcblx0ICAgIC8vIFNldCAnbm90JywgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXMgdG8gbWV0aG9kcyBiYXNlZCBvbiB0aGVpciBhcGkgcHJvcGVydHlcblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgZnVuY3Rpb24gc2V0SW50ZXJmYWNlcygpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IGlzO1xuXHQgICAgICAgIGZvcih2YXIgb3B0aW9uIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIGlzLmZ1bmN0aW9uKG9wdGlvbnNbb3B0aW9uXSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnRlcmZhY2VzID0gb3B0aW9uc1tvcHRpb25dLmFwaSB8fCBbJ25vdCcsICdhbGwnLCAnYW55J107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludGVyZmFjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnbm90Jykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpcy5ub3Rbb3B0aW9uXSA9IG5vdChpc1tvcHRpb25dKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ2FsbCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXMuYWxsW29wdGlvbl0gPSBhbGwoaXNbb3B0aW9uXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdhbnknKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzLmFueVtvcHRpb25dID0gYW55KGlzW29wdGlvbl0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHNldEludGVyZmFjZXMoKTtcblx0XG5cdCAgICAvLyBDb25maWd1cmF0aW9uIG1ldGhvZHNcblx0ICAgIC8vIEludGVudGlvbmFsbHkgYWRkZWQgYWZ0ZXIgc2V0SW50ZXJmYWNlcyBmdW5jdGlvblxuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBzZXQgb3B0aW9uYWwgcmVnZXhwcyB0byBtZXRob2RzIGlmIHlvdSB0aGluayB0aGV5IHN1Y2tcblx0ICAgIGlzLnNldFJlZ2V4cCA9IGZ1bmN0aW9uKHJlZ2V4cCwgcmVnZXhwTmFtZSkge1xuXHQgICAgICAgIGZvcih2YXIgciBpbiByZWdleHBzKSB7XG5cdCAgICAgICAgICAgIGlmKGhhc093blByb3BlcnR5LmNhbGwocmVnZXhwcywgcikgJiYgKHJlZ2V4cE5hbWUgPT09IHIpKSB7XG5cdCAgICAgICAgICAgICAgICByZWdleHBzW3JdID0gcmVnZXhwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBjaGFuZ2UgbmFtZXNwYWNlIG9mIGxpYnJhcnkgdG8gcHJldmVudCBuYW1lIGNvbGxpc2lvbnNcblx0ICAgIC8vIHZhciBwcmVmZXJyZWROYW1lID0gaXMuc2V0TmFtZXNwYWNlKCk7XG5cdCAgICAvLyBwcmVmZXJyZWROYW1lLm9kZCgzKTtcblx0ICAgIC8vID0+IHRydWVcblx0ICAgIGlzLnNldE5hbWVzcGFjZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJvb3QuaXMgPSBwcmV2aW91c0lzO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gaXM7XG5cdH0pKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0dmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdHZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcblx0XHRpZiAodHlwZW9mIEFycmF5LmlzQXJyYXkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KGFycik7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG9TdHIuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXHRcblx0dmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuXHRcdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFxuXHRcdHZhciBoYXNPd25Db25zdHJ1Y3RvciA9IGhhc093bi5jYWxsKG9iaiwgJ2NvbnN0cnVjdG9yJyk7XG5cdFx0dmFyIGhhc0lzUHJvdG90eXBlT2YgPSBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSAmJiBoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuXHRcdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0XHRpZiAob2JqLmNvbnN0cnVjdG9yICYmICFoYXNPd25Db25zdHJ1Y3RvciAmJiAhaGFzSXNQcm90b3R5cGVPZikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdFx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdFx0dmFyIGtleTtcblx0XHRmb3IgKGtleSBpbiBvYmopIHsvKiovfVxuXHRcblx0XHRyZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwgaGFzT3duLmNhbGwob2JqLCBrZXkpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQoKSB7XG5cdFx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdFx0aSA9IDEsXG5cdFx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdFx0ZGVlcCA9IGZhbHNlO1xuXHRcblx0XHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdFx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdFx0ZGVlcCA9IHRhcmdldDtcblx0XHRcdHRhcmdldCA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0XHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRcdGkgPSAyO1xuXHRcdH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHx8IHRhcmdldCA9PSBudWxsKSB7XG5cdFx0XHR0YXJnZXQgPSB7fTtcblx0XHR9XG5cdFxuXHRcdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbaV07XG5cdFx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdFx0Y29weSA9IG9wdGlvbnNbbmFtZV07XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0XHRpZiAodGFyZ2V0ICE9PSBjb3B5KSB7XG5cdFx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChjb3B5SXNBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBleHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuXHRcblx0XHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvcHkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldFtuYW1lXSA9IGNvcHk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlcikge3ZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG5hdGl2ZU1hcDtcblx0dHJ5IHtcblx0ICBuYXRpdmVNYXAgPSBNYXA7XG5cdH0gY2F0Y2goXykge1xuXHQgIC8vIG1heWJlIGEgcmVmZXJlbmNlIGVycm9yIGJlY2F1c2Ugbm8gYE1hcGAuIEdpdmUgaXQgYSBkdW1teSB2YWx1ZSB0aGF0IG5vXG5cdCAgLy8gdmFsdWUgd2lsbCBldmVyIGJlIGFuIGluc3RhbmNlb2YuXG5cdCAgbmF0aXZlTWFwID0gZnVuY3Rpb24oKSB7fTtcblx0fVxuXHRcblx0dmFyIG5hdGl2ZVNldDtcblx0dHJ5IHtcblx0ICBuYXRpdmVTZXQgPSBTZXQ7XG5cdH0gY2F0Y2goXykge1xuXHQgIG5hdGl2ZVNldCA9IGZ1bmN0aW9uKCkge307XG5cdH1cblx0XG5cdHZhciBuYXRpdmVQcm9taXNlO1xuXHR0cnkge1xuXHQgIG5hdGl2ZVByb21pc2UgPSBQcm9taXNlO1xuXHR9IGNhdGNoKF8pIHtcblx0ICBuYXRpdmVQcm9taXNlID0gZnVuY3Rpb24oKSB7fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIGNpcmN1bGFyIHJlZmVyZW5jZXMgYnkgZGVmYXVsdCwgYnV0IGlmIHlvdSBhcmUgY2VydGFpblxuXHQgKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcblx0ICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cblx0ICpcblx0ICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcblx0ICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cblx0ICpcblx0ICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcblx0ICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuXHQgKiAgICBjaXJjdWxhciByZWZlcmVuY2VzLiAob3B0aW9uYWwgLSB0cnVlIGJ5IGRlZmF1bHQpXG5cdCAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cblx0ICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcblx0ICogQHBhcmFtIGBwcm90b3R5cGVgIC0gc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIHVzZWQgd2hlbiBjbG9uaW5nIGFuIG9iamVjdC5cblx0ICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG5cdCAqIEBwYXJhbSBgaW5jbHVkZU5vbkVudW1lcmFibGVgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXNcblx0ICogICAgc2hvdWxkIGJlIGNsb25lZCBhcyB3ZWxsLiBOb24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm90b3R5cGVcblx0ICogICAgY2hhaW4gd2lsbCBiZSBpZ25vcmVkLiAob3B0aW9uYWwgLSBmYWxzZSBieSBkZWZhdWx0KVxuXHQqL1xuXHRmdW5jdGlvbiBjbG9uZShwYXJlbnQsIGNpcmN1bGFyLCBkZXB0aCwgcHJvdG90eXBlLCBpbmNsdWRlTm9uRW51bWVyYWJsZSkge1xuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG5cdCAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuXHQgICAgcHJvdG90eXBlID0gY2lyY3VsYXIucHJvdG90eXBlO1xuXHQgICAgaW5jbHVkZU5vbkVudW1lcmFibGUgPSBjaXJjdWxhci5pbmNsdWRlTm9uRW51bWVyYWJsZTtcblx0ICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXI7XG5cdCAgfVxuXHQgIC8vIG1haW50YWluIHR3byBhcnJheXMgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMsIHdoZXJlIGNvcnJlc3BvbmRpbmcgcGFyZW50c1xuXHQgIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG5cdCAgdmFyIGFsbFBhcmVudHMgPSBbXTtcblx0ICB2YXIgYWxsQ2hpbGRyZW4gPSBbXTtcblx0XG5cdCAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cdFxuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBjaXJjdWxhciA9IHRydWU7XG5cdFxuXHQgIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBkZXB0aCA9IEluZmluaXR5O1xuXHRcblx0ICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cblx0ICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuXHQgICAgLy8gY2xvbmluZyBudWxsIGFsd2F5cyByZXR1cm5zIG51bGxcblx0ICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG5cdCAgICAgIHJldHVybiBudWxsO1xuXHRcblx0ICAgIGlmIChkZXB0aCA9PT0gMClcblx0ICAgICAgcmV0dXJuIHBhcmVudDtcblx0XG5cdCAgICB2YXIgY2hpbGQ7XG5cdCAgICB2YXIgcHJvdG87XG5cdCAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgbmF0aXZlTWFwKCk7XG5cdCAgICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVNldCkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBuYXRpdmVTZXQoKTtcblx0ICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlUHJvbWlzZSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBuYXRpdmVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICBwYXJlbnQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgcmVzb2x2ZShfY2xvbmUodmFsdWUsIGRlcHRoIC0gMSkpO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuXHQgICAgICAgICAgcmVqZWN0KF9jbG9uZShlcnIsIGRlcHRoIC0gMSkpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBbXTtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc1JlZ0V4cChwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuXHQgICAgICBpZiAocGFyZW50Lmxhc3RJbmRleCkgY2hpbGQubGFzdEluZGV4ID0gcGFyZW50Lmxhc3RJbmRleDtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0RhdGUocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuXHQgICAgfSBlbHNlIGlmICh1c2VCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgQnVmZmVyKHBhcmVudC5sZW5ndGgpO1xuXHQgICAgICBwYXJlbnQuY29weShjaGlsZCk7XG5cdCAgICAgIHJldHVybiBjaGlsZDtcblx0ICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSA9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG5cdCAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvKTtcblx0ICAgICAgfVxuXHQgICAgICBlbHNlIHtcblx0ICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblx0ICAgICAgICBwcm90byA9IHByb3RvdHlwZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjaXJjdWxhcikge1xuXHQgICAgICB2YXIgaW5kZXggPSBhbGxQYXJlbnRzLmluZGV4T2YocGFyZW50KTtcblx0XG5cdCAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuXHQgICAgICAgIHJldHVybiBhbGxDaGlsZHJlbltpbmRleF07XG5cdCAgICAgIH1cblx0ICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG5cdCAgICAgIGFsbENoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcblx0ICAgICAgdmFyIGtleUl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcblx0ICAgICAgd2hpbGUodHJ1ZSkge1xuXHQgICAgICAgIHZhciBuZXh0ID0ga2V5SXRlcmF0b3IubmV4dCgpO1xuXHQgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIga2V5Q2hpbGQgPSBfY2xvbmUobmV4dC52YWx1ZSwgZGVwdGggLSAxKTtcblx0ICAgICAgICB2YXIgdmFsdWVDaGlsZCA9IF9jbG9uZShwYXJlbnQuZ2V0KG5leHQudmFsdWUpLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIGNoaWxkLnNldChrZXlDaGlsZCwgdmFsdWVDaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVTZXQpIHtcblx0ICAgICAgdmFyIGl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcblx0ICAgICAgd2hpbGUodHJ1ZSkge1xuXHQgICAgICAgIHZhciBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHQgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZW50cnlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIGNoaWxkLmFkZChlbnRyeUNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIGkgaW4gcGFyZW50KSB7XG5cdCAgICAgIHZhciBhdHRycztcblx0ICAgICAgaWYgKHByb3RvKSB7XG5cdCAgICAgICAgYXR0cnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGF0dHJzICYmIGF0dHJzLnNldCA9PSBudWxsKSB7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0ICAgICAgY2hpbGRbaV0gPSBfY2xvbmUocGFyZW50W2ldLCBkZXB0aCAtIDEpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdCAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwYXJlbnQpO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAvLyBEb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGNsb25pbmcgYSBzeW1ib2wgYmVjYXVzZSBpdCBpcyBhIHByaW1pdGl2ZSxcblx0ICAgICAgICAvLyBsaWtlIGEgbnVtYmVyIG9yIHN0cmluZy5cblx0ICAgICAgICB2YXIgc3ltYm9sID0gc3ltYm9sc1tpXTtcblx0ICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocGFyZW50LCBzeW1ib2wpO1xuXHQgICAgICAgIGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmVudW1lcmFibGUgJiYgIWluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2hpbGRbc3ltYm9sXSA9IF9jbG9uZShwYXJlbnRbc3ltYm9sXSwgZGVwdGggLSAxKTtcblx0ICAgICAgICBpZiAoIWRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuXHQgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoaWxkLCBzeW1ib2wsIHtcblx0ICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2Vcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpbmNsdWRlTm9uRW51bWVyYWJsZSkge1xuXHQgICAgICB2YXIgYWxsUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBhcmVudCk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsUHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBhbGxQcm9wZXJ0eU5hbWVzW2ldO1xuXHQgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHByb3BlcnR5TmFtZSk7XG5cdCAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2hpbGRbcHJvcGVydHlOYW1lXSA9IF9jbG9uZShwYXJlbnRbcHJvcGVydHlOYW1lXSwgZGVwdGggLSAxKTtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsIHByb3BlcnR5TmFtZSwge1xuXHQgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjaGlsZDtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfY2xvbmUocGFyZW50LCBkZXB0aCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuXHQgKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuXHQgKlxuXHQgKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuXHQgKiB3b3Jrcy5cblx0ICovXG5cdGNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG5cdCAgaWYgKHBhcmVudCA9PT0gbnVsbClcblx0ICAgIHJldHVybiBudWxsO1xuXHRcblx0ICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgIGMucHJvdG90eXBlID0gcGFyZW50O1xuXHQgIHJldHVybiBuZXcgYygpO1xuXHR9O1xuXHRcblx0Ly8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXHRcblx0ZnVuY3Rpb24gX19vYmpUb1N0cihvKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcblx0fVxuXHRjbG9uZS5fX29ialRvU3RyID0gX19vYmpUb1N0cjtcblx0XG5cdGZ1bmN0aW9uIF9faXNEYXRlKG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IERhdGVdJztcblx0fVxuXHRjbG9uZS5fX2lzRGF0ZSA9IF9faXNEYXRlO1xuXHRcblx0ZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0Y2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXHRcblx0ZnVuY3Rpb24gX19pc1JlZ0V4cChvKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcblx0fVxuXHRjbG9uZS5fX2lzUmVnRXhwID0gX19pc1JlZ0V4cDtcblx0XG5cdGZ1bmN0aW9uIF9fZ2V0UmVnRXhwRmxhZ3MocmUpIHtcblx0ICB2YXIgZmxhZ3MgPSAnJztcblx0ICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG5cdCAgaWYgKHJlLmlnbm9yZUNhc2UpIGZsYWdzICs9ICdpJztcblx0ICBpZiAocmUubXVsdGlsaW5lKSBmbGFncyArPSAnbSc7XG5cdCAgcmV0dXJuIGZsYWdzO1xuXHR9XG5cdGNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXHRcblx0cmV0dXJuIGNsb25lO1xuXHR9KSgpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzkpLkJ1ZmZlcikpXG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlciwgZ2xvYmFsKSB7LyohXG5cdCAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuXHQgKlxuXHQgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cblx0ICogQGxpY2Vuc2UgIE1JVFxuXHQgKi9cblx0LyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblx0XG5cdCd1c2Ugc3RyaWN0J1xuXHRcblx0dmFyIGJhc2U2NCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdHZhciBpZWVlNzU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0dmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKVxuXHRcblx0ZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcblx0ZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuXHRleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblx0XG5cdC8qKlxuXHQgKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuXHQgKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuXHQgKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG5cdCAqXG5cdCAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcblx0ICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuXHQgKlxuXHQgKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG5cdCAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuXHQgKlxuXHQgKiBOb3RlOlxuXHQgKlxuXHQgKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuXHQgKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG5cdCAqXG5cdCAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuXHQgKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cdFxuXHQgKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuXHQgKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cblx0ICovXG5cdEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuXHQgID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcblx0ICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblx0XG5cdC8qXG5cdCAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cblx0ICovXG5cdGV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXHRcblx0ZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcblx0ICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuXHQgICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcblx0ICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuXHQgICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIGZhbHNlXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcblx0ICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcblx0ICAgID8gMHg3ZmZmZmZmZlxuXHQgICAgOiAweDNmZmZmZmZmXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG5cdCAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcblx0ICB9XG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2Vcblx0ICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG5cdCAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuXHQgICAgaWYgKHRoYXQgPT09IG51bGwpIHtcblx0ICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuXHQgICAgfVxuXHQgICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcblx0ICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuXHQgKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG5cdCAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG5cdCAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG5cdCAqXG5cdCAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG5cdCAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcblx0ICB9XG5cdFxuXHQgIC8vIENvbW1vbiBjYXNlLlxuXHQgIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoXG5cdCAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuXHQgICAgICApXG5cdCAgICB9XG5cdCAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuXHQgIH1cblx0ICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0QnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cdFxuXHQvLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cblx0QnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG5cdCAgcmV0dXJuIGFyclxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdCAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcblx0fVxuXHRcblx0LyoqXG5cdCAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG5cdCAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuXHQgKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG5cdCAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuXHQgKiBCdWZmZXIuZnJvbShidWZmZXIpXG5cdCAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuXHQgKiovXG5cdEJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuXHR9XG5cdFxuXHRpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5cdCAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcblx0ICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcblx0ICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG5cdCAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcblx0ICAgICAgdmFsdWU6IG51bGwsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSlcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcblx0ICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcblx0ICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG5cdCAgYXNzZXJ0U2l6ZShzaXplKVxuXHQgIGlmIChzaXplIDw9IDApIHtcblx0ICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcblx0ICB9XG5cdCAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcblx0ICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcblx0ICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cblx0ICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG5cdCAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG5cdCAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcblx0ICB9XG5cdCAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuXHQgKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG5cdCAqKi9cblx0QnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG5cdCAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuXHQgIGFzc2VydFNpemUoc2l6ZSlcblx0ICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuXHQgIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG5cdCAgICAgIHRoYXRbaV0gPSAwXG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuXHQgKiAqL1xuXHRCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHQgIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxuXHR9XG5cdC8qKlxuXHQgKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cblx0ICovXG5cdEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHQgIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG5cdCAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG5cdCAgICBlbmNvZGluZyA9ICd1dGY4J1xuXHQgIH1cblx0XG5cdCAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcblx0ICB9XG5cdFxuXHQgIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuXHQgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXHRcblx0ICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXHRcblx0ICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcblx0ICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuXHQgICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cblx0ICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuXHQgICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG5cdCAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuXHQgIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXHRcblx0ICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG5cdCAgfVxuXHRcblx0ICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuXHQgIH1cblx0XG5cdCAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcblx0ICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG5cdCAgfVxuXHRcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuXHQgICAgdGhhdCA9IGFycmF5XG5cdCAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuXHQgICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuXHQgICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG5cdCAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblx0XG5cdCAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuIHRoYXRcblx0ICAgIH1cblx0XG5cdCAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG5cdCAgICByZXR1cm4gdGhhdFxuXHQgIH1cblx0XG5cdCAgaWYgKG9iaikge1xuXHQgICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcblx0ICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuXHQgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcblx0ICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cblx0ICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcblx0ICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuXHQgIH1cblx0ICByZXR1cm4gbGVuZ3RoIHwgMFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcblx0ICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcblx0ICAgIGxlbmd0aCA9IDBcblx0ICB9XG5cdCAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxuXHR9XG5cdFxuXHRCdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuXHQgIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG5cdH1cblx0XG5cdEJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuXHQgIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuXHQgIH1cblx0XG5cdCAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cdFxuXHQgIHZhciB4ID0gYS5sZW5ndGhcblx0ICB2YXIgeSA9IGIubGVuZ3RoXG5cdFxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuXHQgICAgICB4ID0gYVtpXVxuXHQgICAgICB5ID0gYltpXVxuXHQgICAgICBicmVha1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKHggPCB5KSByZXR1cm4gLTFcblx0ICBpZiAoeSA8IHgpIHJldHVybiAxXG5cdCAgcmV0dXJuIDBcblx0fVxuXHRcblx0QnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuXHQgIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG5cdCAgICBjYXNlICdoZXgnOlxuXHQgICAgY2FzZSAndXRmOCc6XG5cdCAgICBjYXNlICd1dGYtOCc6XG5cdCAgICBjYXNlICdhc2NpaSc6XG5cdCAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgY2FzZSAnYmluYXJ5Jzpcblx0ICAgIGNhc2UgJ2Jhc2U2NCc6XG5cdCAgICBjYXNlICd1Y3MyJzpcblx0ICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgIGNhc2UgJ3V0ZjE2bGUnOlxuXHQgICAgY2FzZSAndXRmLTE2bGUnOlxuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgfVxuXHR9XG5cdFxuXHRCdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcblx0ICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG5cdCAgfVxuXHRcblx0ICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcblx0ICB9XG5cdFxuXHQgIHZhciBpXG5cdCAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBsZW5ndGggPSAwXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuXHQgICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuXHQgIHZhciBwb3MgPSAwXG5cdCAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcblx0ICAgIHZhciBidWYgPSBsaXN0W2ldXG5cdCAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG5cdCAgICB9XG5cdCAgICBidWYuY29weShidWZmZXIsIHBvcylcblx0ICAgIHBvcyArPSBidWYubGVuZ3RoXG5cdCAgfVxuXHQgIHJldHVybiBidWZmZXJcblx0fVxuXHRcblx0ZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuXHQgICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG5cdCAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuXHQgIH1cblx0XG5cdCAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcblx0ICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXHRcblx0ICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cblx0ICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXHQgIGZvciAoOzspIHtcblx0ICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcblx0ICAgICAgY2FzZSAnYXNjaWknOlxuXHQgICAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgICBjYXNlICdiaW5hcnknOlxuXHQgICAgICAgIHJldHVybiBsZW5cblx0ICAgICAgY2FzZSAndXRmOCc6XG5cdCAgICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgICAgY2FzZSB1bmRlZmluZWQ6XG5cdCAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG5cdCAgICAgIGNhc2UgJ3VjczInOlxuXHQgICAgICBjYXNlICd1Y3MtMic6XG5cdCAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuXHQgICAgICBjYXNlICd1dGYtMTZsZSc6XG5cdCAgICAgICAgcmV0dXJuIGxlbiAqIDJcblx0ICAgICAgY2FzZSAnaGV4Jzpcblx0ICAgICAgICByZXR1cm4gbGVuID4+PiAxXG5cdCAgICAgIGNhc2UgJ2Jhc2U2NCc6XG5cdCAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuXHQgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0QnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cdFxuXHRmdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2Vcblx0XG5cdCAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG5cdCAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblx0XG5cdCAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG5cdCAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuXHQgIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG5cdCAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG5cdCAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG5cdCAgICBzdGFydCA9IDBcblx0ICB9XG5cdCAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcblx0ICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuXHQgIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuXHQgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPD0gMCkge1xuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHRcblx0ICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuXHQgIGVuZCA+Pj49IDBcblx0ICBzdGFydCA+Pj49IDBcblx0XG5cdCAgaWYgKGVuZCA8PSBzdGFydCkge1xuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHRcblx0ICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXHRcblx0ICB3aGlsZSAodHJ1ZSkge1xuXHQgICAgc3dpdGNoIChlbmNvZGluZykge1xuXHQgICAgICBjYXNlICdoZXgnOlxuXHQgICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXHRcblx0ICAgICAgY2FzZSAndXRmOCc6XG5cdCAgICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICdhc2NpaSc6XG5cdCAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblx0XG5cdCAgICAgIGNhc2UgJ2xhdGluMSc6XG5cdCAgICAgIGNhc2UgJ2JpbmFyeSc6XG5cdCAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICdiYXNlNjQnOlxuXHQgICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXHRcblx0ICAgICAgY2FzZSAndWNzMic6XG5cdCAgICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcblx0ICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuXHQgICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG5cdC8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5cdEJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXHRcblx0ZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuXHQgIHZhciBpID0gYltuXVxuXHQgIGJbbl0gPSBiW21dXG5cdCAgYlttXSA9IGlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuXHQgIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuXHQgIGlmIChsZW4gJSAyICE9PSAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG5cdCAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuXHQgIH1cblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDQgIT09IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcblx0ICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG5cdCAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXNcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuXHQgIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuXHQgIGlmIChsZW4gJSA4ICE9PSAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG5cdCAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuXHQgICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG5cdCAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcblx0ICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuXHQgIH1cblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuXHQgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcblx0ICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcblx0ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG5cdCAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuXHQgIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuXHQgIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcblx0ICB2YXIgc3RyID0gJydcblx0ICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuXHQgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcblx0ICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG5cdCAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG5cdCAgfVxuXHQgIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG5cdCAgfVxuXHRcblx0ICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgc3RhcnQgPSAwXG5cdCAgfVxuXHQgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcblx0ICB9XG5cdCAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aGlzU3RhcnQgPSAwXG5cdCAgfVxuXHQgIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuXHQgIH1cblx0XG5cdCAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4Jylcblx0ICB9XG5cdFxuXHQgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcblx0ICAgIHJldHVybiAwXG5cdCAgfVxuXHQgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuXHQgICAgcmV0dXJuIC0xXG5cdCAgfVxuXHQgIGlmIChzdGFydCA+PSBlbmQpIHtcblx0ICAgIHJldHVybiAxXG5cdCAgfVxuXHRcblx0ICBzdGFydCA+Pj49IDBcblx0ICBlbmQgPj4+PSAwXG5cdCAgdGhpc1N0YXJ0ID4+Pj0gMFxuXHQgIHRoaXNFbmQgPj4+PSAwXG5cdFxuXHQgIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cdFxuXHQgIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuXHQgIHZhciB5ID0gZW5kIC0gc3RhcnRcblx0ICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblx0XG5cdCAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG5cdCAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG5cdCAgICAgIHggPSB0aGlzQ29weVtpXVxuXHQgICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuXHQgICAgICBicmVha1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKHggPCB5KSByZXR1cm4gLTFcblx0ICBpZiAoeSA8IHgpIHJldHVybiAxXG5cdCAgcmV0dXJuIDBcblx0fVxuXHRcblx0Ly8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuXHQvLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuXHQvL1xuXHQvLyBBcmd1bWVudHM6XG5cdC8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG5cdC8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG5cdC8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuXHQvLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuXHQvLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuXHRmdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcblx0ICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcblx0ICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG5cdCAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuXHQgICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG5cdCAgICBieXRlT2Zmc2V0ID0gMFxuXHQgIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcblx0ICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG5cdCAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcblx0ICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuXHQgIH1cblx0ICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG5cdCAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG5cdCAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcblx0ICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuXHQgIH1cblx0XG5cdCAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcblx0ICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuXHQgIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcblx0ICAgIGlmIChkaXIpIHJldHVybiAtMVxuXHQgICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcblx0ICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG5cdCAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuXHQgICAgZWxzZSByZXR1cm4gLTFcblx0ICB9XG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSB2YWxcblx0ICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG5cdCAgfVxuXHRcblx0ICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuXHQgICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuXHQgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuIC0xXG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuXHQgICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG5cdCAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgaWYgKGRpcikge1xuXHQgICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuXHQgIH1cblx0XG5cdCAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuXHQgIHZhciBpbmRleFNpemUgPSAxXG5cdCAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcblx0ICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXHRcblx0ICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG5cdCAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuXHQgICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcblx0ICAgICAgICByZXR1cm4gLTFcblx0ICAgICAgfVxuXHQgICAgICBpbmRleFNpemUgPSAyXG5cdCAgICAgIGFyckxlbmd0aCAvPSAyXG5cdCAgICAgIHZhbExlbmd0aCAvPSAyXG5cdCAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG5cdCAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBidWZbaV1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgaVxuXHQgIGlmIChkaXIpIHtcblx0ICAgIHZhciBmb3VuZEluZGV4ID0gLTFcblx0ICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuXHQgICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG5cdCAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuXHQgICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcblx0ICAgICAgICBmb3VuZEluZGV4ID0gLTFcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuXHQgICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuXHQgICAgICAgICAgZm91bmQgPSBmYWxzZVxuXHQgICAgICAgICAgYnJlYWtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIC0xXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuXHQgIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcblx0ICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG5cdCAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuXHQgIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG5cdCAgaWYgKCFsZW5ndGgpIHtcblx0ICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuXHQgIH0gZWxzZSB7XG5cdCAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuXHQgICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuXHQgICAgICBsZW5ndGggPSByZW1haW5pbmdcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG5cdCAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblx0ICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblx0XG5cdCAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcblx0ICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcblx0ICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuXHQgICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG5cdCAgfVxuXHQgIHJldHVybiBpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuXHQgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG5cdCAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbmNvZGluZyA9ICd1dGY4J1xuXHQgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcblx0ICAgIG9mZnNldCA9IDBcblx0ICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblx0ICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBlbmNvZGluZyA9IG9mZnNldFxuXHQgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcblx0ICAgIG9mZnNldCA9IDBcblx0ICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuXHQgIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuXHQgICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcblx0ICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuXHQgICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG5cdCAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuXHQgICAgfVxuXHQgIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG5cdCAgICApXG5cdCAgfVxuXHRcblx0ICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcblx0ICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblx0XG5cdCAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG5cdCAgfVxuXHRcblx0ICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXHRcblx0ICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXHQgIGZvciAoOzspIHtcblx0ICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcblx0ICAgICAgY2FzZSAnaGV4Jzpcblx0ICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblx0XG5cdCAgICAgIGNhc2UgJ3V0ZjgnOlxuXHQgICAgICBjYXNlICd1dGYtOCc6XG5cdCAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAnYXNjaWknOlxuXHQgICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgICBjYXNlICdiaW5hcnknOlxuXHQgICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAnYmFzZTY0Jzpcblx0ICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuXHQgICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAndWNzMic6XG5cdCAgICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcblx0ICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuXHQgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogJ0J1ZmZlcicsXG5cdCAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdCAgdmFyIHJlcyA9IFtdXG5cdFxuXHQgIHZhciBpID0gc3RhcnRcblx0ICB3aGlsZSAoaSA8IGVuZCkge1xuXHQgICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuXHQgICAgdmFyIGNvZGVQb2ludCA9IG51bGxcblx0ICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuXHQgICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcblx0ICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG5cdCAgICAgIDogMVxuXHRcblx0ICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcblx0ICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXHRcblx0ICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcblx0ICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcblx0ICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG5cdCAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG5cdCAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcblx0ICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG5cdCAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcblx0ICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cblx0ICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cblx0ICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcblx0ICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG5cdCAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG5cdCAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcblx0ICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuXHQgICAgICBjb2RlUG9pbnQgPSAweEZGRkRcblx0ICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcblx0ICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG5cdCAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG5cdCAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG5cdCAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcblx0ICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcblx0ICAgIH1cblx0XG5cdCAgICByZXMucHVzaChjb2RlUG9pbnQpXG5cdCAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2Vcblx0ICB9XG5cdFxuXHQgIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxuXHR9XG5cdFxuXHQvLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcblx0Ly8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuXHQvLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG5cdHZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXHRcblx0ZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG5cdCAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG5cdCAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuXHQgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG5cdCAgfVxuXHRcblx0ICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG5cdCAgdmFyIHJlcyA9ICcnXG5cdCAgdmFyIGkgPSAwXG5cdCAgd2hpbGUgKGkgPCBsZW4pIHtcblx0ICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuXHQgICAgICBTdHJpbmcsXG5cdCAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcblx0ICAgIClcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgcmV0ID0gJydcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdFxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuXHQgIH1cblx0ICByZXR1cm4gcmV0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgcmV0ID0gJydcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdFxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG5cdCAgfVxuXHQgIHJldHVybiByZXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cdFxuXHQgIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcblx0ICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cdFxuXHQgIHZhciBvdXQgPSAnJ1xuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuXHQgIH1cblx0ICByZXR1cm4gb3V0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG5cdCAgdmFyIHJlcyA9ICcnXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuXHQgICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgc3RhcnQgPSB+fnN0YXJ0XG5cdCAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXHRcblx0ICBpZiAoc3RhcnQgPCAwKSB7XG5cdCAgICBzdGFydCArPSBsZW5cblx0ICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuXHQgIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcblx0ICAgIHN0YXJ0ID0gbGVuXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDwgMCkge1xuXHQgICAgZW5kICs9IGxlblxuXHQgICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcblx0ICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuXHQgICAgZW5kID0gbGVuXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cdFxuXHQgIHZhciBuZXdCdWZcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcblx0ICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG5cdCAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcblx0ICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gbmV3QnVmXG5cdH1cblx0XG5cdC8qXG5cdCAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcblx0ICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcblx0ICB9XG5cdFxuXHQgIHJldHVybiB2YWxcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHQgIH1cblx0XG5cdCAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuXHQgIHZhciBtdWwgPSAxXG5cdCAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gdGhpc1tvZmZzZXRdXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuXHQgICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG5cdCAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuXHQgICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuXHQgICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG5cdCAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG5cdCAgICB0aGlzW29mZnNldCArIDNdKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcblx0ICB9XG5cdCAgbXVsICo9IDB4ODBcblx0XG5cdCAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblx0XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgaSA9IGJ5dGVMZW5ndGhcblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cblx0ICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcblx0ICB9XG5cdCAgbXVsICo9IDB4ODBcblx0XG5cdCAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblx0XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuXHQgIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcblx0ICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcblx0ICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG5cdCAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG5cdCAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDNdKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuXHQgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG5cdCAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcblx0ICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuXHQgIH1cblx0XG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG5cdCAgfVxuXHRcblx0ICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG5cdCAgdmFyIG11bCA9IDFcblx0ICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcblx0ICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG5cdCAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICByZXR1cm4gb2Zmc2V0ICsgMVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcblx0ICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuXHQgIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcblx0ICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG5cdCAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuXHQgIH1cblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDJcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG5cdCAgfVxuXHQgIHJldHVybiBvZmZzZXQgKyAyXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuXHQgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuXHQgIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcblx0ICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcblx0ICB9XG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cdFxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG5cdCAgfVxuXHRcblx0ICB2YXIgaSA9IDBcblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciBzdWIgPSAwXG5cdCAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG5cdCAgICAgIHN1YiA9IDFcblx0ICAgIH1cblx0ICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXHRcblx0ICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuXHQgIH1cblx0XG5cdCAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuXHQgIHZhciBtdWwgPSAxXG5cdCAgdmFyIHN1YiA9IDBcblx0ICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuXHQgICAgICBzdWIgPSAxXG5cdCAgICB9XG5cdCAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcblx0ICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG5cdCAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG5cdCAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICByZXR1cm4gb2Zmc2V0ICsgMVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDJcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgMlxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG5cdCAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcblx0ICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuXHQgIH1cblx0ICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcblx0ICB9XG5cdCAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG5cdCAgcmV0dXJuIG9mZnNldCArIDhcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcblx0fVxuXHRcblx0Ly8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuXHRCdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG5cdCAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG5cdCAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuXHQgIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcblx0ICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcblx0ICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblx0XG5cdCAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG5cdCAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG5cdCAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cdFxuXHQgIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcblx0ICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG5cdCAgfVxuXHQgIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcblx0ICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblx0XG5cdCAgLy8gQXJlIHdlIG9vYj9cblx0ICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG5cdCAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuXHQgIH1cblx0XG5cdCAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cdCAgdmFyIGlcblx0XG5cdCAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG5cdCAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcblx0ICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cdCAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuXHQgICAgICB0YXJnZXQsXG5cdCAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcblx0ICAgICAgdGFyZ2V0U3RhcnRcblx0ICAgIClcblx0ICB9XG5cdFxuXHQgIHJldHVybiBsZW5cblx0fVxuXHRcblx0Ly8gVXNhZ2U6XG5cdC8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuXHQvLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcblx0Ly8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5cdEJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcblx0ICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuXHQgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuXHQgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgZW5jb2RpbmcgPSBzdGFydFxuXHQgICAgICBzdGFydCA9IDBcblx0ICAgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgZW5jb2RpbmcgPSBlbmRcblx0ICAgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICAgIH1cblx0ICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcblx0ICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcblx0ICAgICAgICB2YWwgPSBjb2RlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG5cdCAgICB9XG5cdCAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG5cdCAgICB2YWwgPSB2YWwgJiAyNTVcblx0ICB9XG5cdFxuXHQgIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuXHQgIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG5cdCAgICByZXR1cm4gdGhpc1xuXHQgIH1cblx0XG5cdCAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuXHQgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblx0XG5cdCAgaWYgKCF2YWwpIHZhbCA9IDBcblx0XG5cdCAgdmFyIGlcblx0ICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcblx0ICAgICAgdGhpc1tpXSA9IHZhbFxuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuXHQgICAgICA/IHZhbFxuXHQgICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcblx0ICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG5cdCAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHQvLyBIRUxQRVIgRlVOQ1RJT05TXG5cdC8vID09PT09PT09PT09PT09PT1cblx0XG5cdHZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXHRcblx0ZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuXHQgIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuXHQgIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcblx0ICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG5cdCAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcblx0ICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3Rcblx0ICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcblx0ICAgIHN0ciA9IHN0ciArICc9J1xuXHQgIH1cblx0ICByZXR1cm4gc3RyXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuXHQgIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcblx0ICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0hleCAobikge1xuXHQgIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuXHQgIHJldHVybiBuLnRvU3RyaW5nKDE2KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuXHQgIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcblx0ICB2YXIgY29kZVBvaW50XG5cdCAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcblx0ICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblx0ICB2YXIgYnl0ZXMgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXHRcblx0ICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcblx0ICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG5cdCAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG5cdCAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuXHQgICAgICAgIC8vIG5vIGxlYWQgeWV0XG5cdCAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuXHQgICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuXHQgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuXHQgICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuXHQgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gdmFsaWQgbGVhZFxuXHQgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblx0XG5cdCAgICAgICAgY29udGludWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuXHQgICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG5cdCAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG5cdCAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcblx0ICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuXHQgICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG5cdCAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuXHQgICAgfVxuXHRcblx0ICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cdFxuXHQgICAgLy8gZW5jb2RlIHV0Zjhcblx0ICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcblx0ICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcblx0ICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cdCAgICAgIGJ5dGVzLnB1c2goXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG5cdCAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcblx0ICAgICAgKVxuXHQgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcblx0ICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuXHQgICAgICApXG5cdCAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcblx0ICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuXHQgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG5cdCAgICAgIClcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50Jylcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBieXRlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuXHQgIHZhciBieXRlQXJyYXkgPSBbXVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG5cdCAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cblx0ICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcblx0ICB9XG5cdCAgcmV0dXJuIGJ5dGVBcnJheVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuXHQgIHZhciBjLCBoaSwgbG9cblx0ICB2YXIgYnl0ZUFycmF5ID0gW11cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cdFxuXHQgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG5cdCAgICBoaSA9IGMgPj4gOFxuXHQgICAgbG8gPSBjICUgMjU2XG5cdCAgICBieXRlQXJyYXkucHVzaChsbylcblx0ICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGJ5dGVBcnJheVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcblx0ICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcblx0ICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuXHQgIH1cblx0ICByZXR1cm4gaVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc25hbiAodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KS5CdWZmZXIsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0J1xuXHRcblx0ZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXHRcblx0dmFyIGxvb2t1cCA9IFtdXG5cdHZhciByZXZMb29rdXAgPSBbXVxuXHR2YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cdFxuXHR2YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgIGxvb2t1cFtpXSA9IGNvZGVbaV1cblx0ICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcblx0fVxuXHRcblx0cmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5cdHJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXHRcblx0ZnVuY3Rpb24gcGxhY2VIb2xkZXJzQ291bnQgKGI2NCkge1xuXHQgIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDQgPiAwKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuXHQgIH1cblx0XG5cdCAgLy8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcblx0ICAvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG5cdCAgLy8gcmVwcmVzZW50IG9uZSBieXRlXG5cdCAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG5cdCAgLy8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuXHQgIHJldHVybiBiNjRbbGVuIC0gMl0gPT09ICc9JyA/IDIgOiBiNjRbbGVuIC0gMV0gPT09ICc9JyA/IDEgOiAwXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuXHQgIC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHQgIHJldHVybiBiNjQubGVuZ3RoICogMyAvIDQgLSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcblx0ICB2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXHQgIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdCAgcGxhY2VIb2xkZXJzID0gcGxhY2VIb2xkZXJzQ291bnQoYjY0KVxuXHRcblx0ICBhcnIgPSBuZXcgQXJyKGxlbiAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXHRcblx0ICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG5cdCAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cdFxuXHQgIHZhciBMID0gMFxuXHRcblx0ICBmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7XG5cdCAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cblx0ICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcblx0ICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkge1xuXHQgICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG5cdCAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBhcnJcblx0fVxuXHRcblx0ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcblx0ICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIHRtcFxuXHQgIHZhciBvdXRwdXQgPSBbXVxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG5cdCAgICB0bXAgPSAodWludDhbaV0gPDwgMTYpICsgKHVpbnQ4W2kgKyAxXSA8PCA4KSArICh1aW50OFtpICsgMl0pXG5cdCAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcblx0ICB9XG5cdCAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuXHQgIHZhciB0bXBcblx0ICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG5cdCAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdCAgdmFyIG91dHB1dCA9ICcnXG5cdCAgdmFyIHBhcnRzID0gW11cblx0ICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblx0XG5cdCAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcblx0ICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG5cdCAgfVxuXHRcblx0ICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG5cdCAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcblx0ICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXVxuXHQgICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cblx0ICAgIG91dHB1dCArPSAnPT0nXG5cdCAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG5cdCAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAxMF1cblx0ICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuXHQgICAgb3V0cHV0ICs9ICc9J1xuXHQgIH1cblx0XG5cdCAgcGFydHMucHVzaChvdXRwdXQpXG5cdFxuXHQgIHJldHVybiBwYXJ0cy5qb2luKCcnKVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuXHQgIHZhciBlLCBtXG5cdCAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcblx0ICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuXHQgIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuXHQgIHZhciBuQml0cyA9IC03XG5cdCAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuXHQgIHZhciBkID0gaXNMRSA/IC0xIDogMVxuXHQgIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cdFxuXHQgIGkgKz0gZFxuXHRcblx0ICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuXHQgIHMgPj49ICgtbkJpdHMpXG5cdCAgbkJpdHMgKz0gZUxlblxuXHQgIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cdFxuXHQgIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG5cdCAgZSA+Pj0gKC1uQml0cylcblx0ICBuQml0cyArPSBtTGVuXG5cdCAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblx0XG5cdCAgaWYgKGUgPT09IDApIHtcblx0ICAgIGUgPSAxIC0gZUJpYXNcblx0ICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcblx0ICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG5cdCAgICBlID0gZSAtIGVCaWFzXG5cdCAgfVxuXHQgIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG5cdH1cblx0XG5cdGV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcblx0ICB2YXIgZSwgbSwgY1xuXHQgIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG5cdCAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcblx0ICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcblx0ICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG5cdCAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuXHQgIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuXHQgIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cdFxuXHQgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cdFxuXHQgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG5cdCAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcblx0ICAgIGUgPSBlTWF4XG5cdCAgfSBlbHNlIHtcblx0ICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuXHQgICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuXHQgICAgICBlLS1cblx0ICAgICAgYyAqPSAyXG5cdCAgICB9XG5cdCAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcblx0ICAgICAgdmFsdWUgKz0gcnQgLyBjXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcblx0ICAgIH1cblx0ICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuXHQgICAgICBlKytcblx0ICAgICAgYyAvPSAyXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG5cdCAgICAgIG0gPSAwXG5cdCAgICAgIGUgPSBlTWF4XG5cdCAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG5cdCAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuXHQgICAgICBlID0gZSArIGVCaWFzXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcblx0ICAgICAgZSA9IDBcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cdFxuXHQgIGUgPSAoZSA8PCBtTGVuKSB8IG1cblx0ICBlTGVuICs9IG1MZW5cblx0ICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cdFxuXHQgIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcImJhclwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwiYmFyXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5jbGlja1xuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInZhbHVlXCIsXG5cdCAgICBzdHlsZTogKHtcblx0ICAgICAgd2lkdGg6IF92bS5zZWxmVmFsdWUgKiAxMDAgKyAnJSdcblx0ICAgIH0pXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcInRodW1iXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJ0aHVtYlwiLFxuXHQgICAgc3R5bGU6ICh7XG5cdCAgICAgIGxlZnQ6IF92bS5zZWxmVmFsdWUgKiAxMDAgKyAnJSdcblx0ICAgIH0pXG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVtYWluOiBfY2FjaGUyLmRlZmF1bHQudGltZVJlbWFpblxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBwcm9wczoge1xuXHQgICAgZHVyYXRpb246IHtcblx0ICAgICAgZGVmYXVsdDogMCxcblx0ICAgICAgdHlwZTogTnVtYmVyXG5cdCAgICB9LFxuXHQgICAgY3VycmVudFRpbWU6IHtcblx0ICAgICAgZGVmYXVsdDogMCxcblx0ICAgICAgdHlwZTogTnVtYmVyXG5cdCAgICB9XG5cdCAgfSxcblx0ICBmaWx0ZXJzOiB7XG5cdCAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKHRpbWVzdGFtcCkge1xuXHQgICAgICByZXR1cm4gKDAsIF91dGlscy50aW1lc3RhbXAydGltZXN0cikodGltZXN0YW1wLCB0cnVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICByZW1haW46IGZ1bmN0aW9uIHJlbWFpbih2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LnRpbWVSZW1haW4gPSB2YWw7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIGNhY2hlTWFwID0ge1xuXHQgIGxyY0Zvcm1hdDoge30sXG5cdCAgbHlyaWM6IHt9LFxuXHQgIGVkaXRpbmc6IHtcblx0ICAgIGRlZmF1bHQ6IHRydWVcblx0ICB9LFxuXHQgIGx5cmljQXJyYXk6IHtcblx0ICAgIGRlZmF1bHQ6IFtdXG5cdCAgfSxcblx0ICB0aW1lUmVtYWluOiB7XG5cdCAgICBkZWZhdWx0OiBmYWxzZVxuXHQgIH0sXG5cdCAgdXNlck5hbWU6IHtcblx0ICAgIGRlZmF1bHQ6ICcnXG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIGNhY2hlT2JqID0ge307XG5cdE9iamVjdC5rZXlzKGNhY2hlTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgdmFyIGNvbmZpZyA9IGNhY2hlTWFwW3Byb3BdO1xuXHQgIGNhY2hlT2JqW3Byb3BdID0gX3V0aWxzLmNhY2hlLmdldChjb25maWcubmFtZSB8fCBwcm9wLCBjb25maWcuZGVmYXVsdCB8fCAnJyk7XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbmV3IFByb3h5KGNhY2hlT2JqLCB7XG5cdCAgc2V0OiBmdW5jdGlvbiBzZXQob2JqLCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcblx0ICAgIHZhciBjb25maWcgPSBjYWNoZU1hcFtwcm9wXTtcblx0ICAgIF91dGlscy5jYWNoZS5zZXQoY29uZmlnLm5hbWUgfHwgcHJvcCwgdmFsdWUpO1xuXHQgICAgb2JqW3Byb3BdID0gdmFsdWU7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ3NwYW4nLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5yZW1haW4gPSAhX3ZtLnJlbWFpblxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0ucmVtYWluKSA/IFtcIlxcbiAgICAtXCIgKyBfdm0uX3MoX3ZtLl9mKFwidGltZVwiKSgoX3ZtLmR1cmF0aW9uIC0gX3ZtLmN1cnJlbnRUaW1lKSkpICsgXCJcXG4gIFwiXSA6IFtcIlxcbiAgICBcIiArIF92bS5fcyhfdm0uX2YoXCJ0aW1lXCIpKF92bS5jdXJyZW50VGltZSkpICsgXCJcXG4gIFwiXSwgXCIgXCJdKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJzaG93XCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLnNyYy5sZW5ndGgpLFxuXHQgICAgICBleHByZXNzaW9uOiBcInNyYy5sZW5ndGhcIlxuXHQgICAgfV0sXG5cdCAgICBzdGF0aWNDbGFzczogXCJyb290XCIsXG5cdCAgICBjbGFzczoge1xuXHQgICAgICBtb2JpbGU6IF92bS5pc01vYmlsZVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwibW91c2VvdmVyXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5ob3ZlciA9IHRydWVcblx0ICAgICAgfSxcblx0ICAgICAgXCJtb3VzZWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5ob3ZlciA9IGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJwbGF5ZXJcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImN0cmwtYnRuXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IFwiW1NQQUNFXVwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0ucGF1c2VkID0gIV92bS5wYXVzZWRcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFsoX3ZtLnBhdXNlZCkgPyBfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsYXlcIlxuXHQgIH0pIDogX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wYXVzZVwiXG5cdCAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImN0cmwtYnRuXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IFwiW0xFRlRdXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kZW1pdCgnYmFja3dhcmQnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tYmFja3dhcmRcIlxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImN0cmwtYnRuXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IFwiW1JJR0hUXVwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJGVtaXQoJ2ZvcndhcmQnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tZm9yd2FyZFwiXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgncmFuZ2UnLCB7XG5cdCAgICByZWY6IFwibXVzaWNSYW5nZVwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwicmFuZ2UgbXVzaWNcIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidmFsdWVcIjogX3ZtLnByb2Nlc3Ncblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcInNlZWtcIjogX3ZtLnNlZWtcblx0ICAgIH1cblx0ICB9KSwgXCIgXCIsICghX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZHVyYXRpb25cIjogX3ZtLmR1cmF0aW9uLFxuXHQgICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcblx0ICAgIH1cblx0ICB9KSA6IF92bS5fZSgpXSksIFwiIFwiLCBfdm0uX2goJ3RyYW5zaXRpb24nLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcIm5hbWVcIjogXCJwbGF5ZXItbW9yZVwiXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJzaG93XCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLmlzTW9iaWxlIHx8IF92bS5ob3ZlciksXG5cdCAgICAgIGV4cHJlc3Npb246IFwiaXNNb2JpbGUgfHwgaG92ZXJcIlxuXHQgICAgfV0sXG5cdCAgICBzdGF0aWNDbGFzczogXCJtb3JlXCJcblx0ICB9LCBbKF92bS5pc01vYmlsZSkgPyBfdm0uX2goJ3RpbWUtcGFuZWwnLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImR1cmF0aW9uXCI6IF92bS5kdXJhdGlvbixcblx0ICAgICAgXCJjdXJyZW50LXRpbWVcIjogX3ZtLmN1cnJlbnRUaW1lXG5cdCAgICB9XG5cdCAgfSkgOiBfdm0uX2UoKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwic291bmRcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImN0cmwtYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5tdXRlZCA9ICFfdm0ubXV0ZWRcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFsoX3ZtLm11dGVkIHx8IF92bS52b2x1bWUgPT0gMCkgPyBfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXZvbHVtZS1vZmZcIlxuXHQgIH0pIDogX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi12b2x1bWUtdXBcIlxuXHQgIH0pLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdyYW5nZScsIHtcblx0ICAgIHJlZjogXCJzb3VuZFJhbmdlXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJyYW5nZSB2b2x1bWVcIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidmFsdWVcIjogX3ZtLnZvbHVtZVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwic2Vla1wiOiBfdm0udm9sdW1lU2Vlayxcblx0ICAgICAgXCJkcmFnLXNlZWtcIjogX3ZtLnZvbHVtZVNlZWtcblx0ICAgIH1cblx0ICB9KV0pXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtMWNhY2Y1M2RcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJ1bC5seXJpY3NbZGF0YS12LTFjYWNmNTNkXXtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxfXVsLmx5cmljcz5saVtkYXRhLXYtMWNhY2Y1M2Rde21pbi1oZWlnaHQ6NDBweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMDQ0ZDk4O3BhZGRpbmc6MTBweCAwfXVsLmx5cmljcz5saS5jdXJbZGF0YS12LTFjYWNmNTNkXXtjb2xvcjojMDQ0ZDk4O3RleHQtc2hhZG93OjFweCAxcHggMXB4ICNhYWE7YmFja2dyb3VuZC1jb2xvcjojZmJmYmZifXVsLmx5cmljcz5saTpob3ZlciAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6aW5saW5lLWJsb2NrfXVsLmx5cmljcz5saSAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6bm9uZX11bC5seXJpY3M+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXSx1bC5seXJpY3M+bGkudW5zb3J0ZWRbZGF0YS12LTFjYWNmNTNkXXtiYWNrZ3JvdW5kLWNvbG9yOiNmMWYxZjF9dWwubHlyaWNzPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6YXV0bztwYWRkaW5nOjJweCAwO2ZvbnQtc2l6ZToxMnB4O3RleHQtYWxpZ246Y2VudGVyfXVsLmx5cmljcy5lZGl0aW5nPmxpW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZzowO2Rpc3BsYXk6ZmxleH11bC5seXJpY3MuZWRpdGluZz5saS5kaXZpc2lvbltkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo0cHggMH11bC5seXJpY3MuZWRpdGluZz5saSAudGltZXN0YW1wW2RhdGEtdi0xY2FjZjUzZF17Y29sb3I6IzdjOWZiYjt3aWR0aDo2MHB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OicuJ311bC5seXJpY3MuZWRpdGluZz5saSAuY29udGVudFtkYXRhLXYtMWNhY2Y1M2Rde2ZsZXg6MX11bC5seXJpY3MuZWRpdGluZz5saSAuaWNvbi1idG5bZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nLWxlZnQ6NHB4O3BhZGRpbmctcmlnaHQ6NHB4fXVsLmx5cmljcy5lZGl0aW5nPmxpIC5jb250ZW50W2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzLmVkaXRpbmc+bGkgLmljb24tYnRuW2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzLmVkaXRpbmc+bGkgLnRpbWVzdGFtcFtkYXRhLXYtMWNhY2Y1M2Rde3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweH11bC5seXJpY3MuZWRpdGluZz5saSBpbnB1dFtkYXRhLXYtMWNhY2Y1M2Rde3RleHQtYWxpZ246Y2VudGVyO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6I2QwZGFlNH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2xyY0tpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHR2YXIgX3RtZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cdFxuXHR2YXIgX3RtZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RtZW51KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH0gLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgaW5kZXg6IC0xLFxuXHQgICAgICBlZGl0aW5nSW5kZXg6IC0xLFxuXHQgICAgICBlZGl0aW5nVGV4dEluZGV4OiAtMSxcblx0ICAgICAgc2Nyb2xsZXI6IG51bGxcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIHJ1bm5lcjoge1xuXHQgICAgICB0eXBlOiBfbHJjS2l0LlJ1bm5lcixcblx0ICAgICAgZGVmYXVsdDogbmV3IF9scmNLaXQuUnVubmVyKClcblx0ICAgIH0sXG5cdCAgICBwbGF5dG86IHtcblx0ICAgICAgdHlwZTogRnVuY3Rpb24sXG5cdCAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge31cblx0ICAgIH0sXG5cdCAgICBlZGl0aW5nOiB7XG5cdCAgICAgIHR5cGU6IEJvb2xlYW4sXG5cdCAgICAgIGRlZmF1bHQ6IF9jYWNoZTIuZGVmYXVsdC5lZGl0aW5nXG5cdCAgICB9LFxuXHQgICAgbHlyaWNBcnJheToge1xuXHQgICAgICB0eXBlOiBBcnJheSxcblx0ICAgICAgZGVmYXVsdDogW11cblx0ICAgIH1cblx0ICB9LFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIGVkaXRNZW51OiBmdW5jdGlvbiBlZGl0TWVudShpbmRleCkge1xuXHQgICAgICAvLyBUT0RPXG5cdCAgICB9LFxuXHQgICAgZXhpdEVkaXQ6IGZ1bmN0aW9uIGV4aXRFZGl0KCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IC0xO1xuXHQgICAgICB0aGlzLmVkaXRpbmdUZXh0SW5kZXggPSAtMTtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgZWRpdDogZnVuY3Rpb24gZWRpdChpbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IGluZGV4O1xuXHQgICAgfSxcblx0ICAgIGVkaXRUZXh0OiBmdW5jdGlvbiBlZGl0VGV4dChpbmRleCkge1xuXHQgICAgICB0aGlzLmVkaXRpbmdUZXh0SW5kZXggPSBpbmRleDtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaW5kZXgpIHtcblx0ICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICByZW1vdmVUZXh0OiBmdW5jdGlvbiByZW1vdmVUZXh0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICBpbnNlcnQ6IGZ1bmN0aW9uIGluc2VydChpbmRleCkge1xuXHQgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnNwbGljZShpbmRleCArIDEsIDAsIHtcblx0ICAgICAgICB0aW1lc3RhbXA6IHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCxcblx0ICAgICAgICBjb250ZW50OiB0aGlzLnJ1bm5lci5scmMubHlyaWNzW2luZGV4XS5jb250ZW50XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICBpbnNlcnRUZXh0OiBmdW5jdGlvbiBpbnNlcnRUZXh0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXggKyAxLCAwLCB0aGlzLmx5cmljQXJyYXlbaW5kZXhdKTtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlVGltZXN0YW1wOiBmdW5jdGlvbiByZW1vdmVUaW1lc3RhbXAoaW5kZXgpIHtcblx0ICAgICAgdmFyIF9seXJpY0FycmF5O1xuXHRcblx0ICAgICAgdmFyIGx5cmljcyA9IHRoaXMucnVubmVyLmxyYy5seXJpY3M7XG5cdCAgICAgIHZhciByZW1vdmVMeXJpY3MgPSBseXJpY3Muc3BsaWNlKGluZGV4LCBseXJpY3MubGVuZ3RoIC0gaW5kZXgpLm1hcChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICByZXR1cm4gbHlyaWMuY29udGVudDtcblx0ICAgICAgfSk7XG5cdCAgICAgIChfbHlyaWNBcnJheSA9IHRoaXMubHlyaWNBcnJheSkuc3BsaWNlLmFwcGx5KF9seXJpY0FycmF5LCBbMCwgMF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZW1vdmVMeXJpY3MpKSk7XG5cdCAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgfSxcblx0ICAgIHNldFRpbWVzdGFtcDogZnVuY3Rpb24gc2V0VGltZXN0YW1wKGluZGV4KSB7XG5cdCAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuJHBhcmVudC4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWU7XG5cdCAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gMCkge1xuXHQgICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCA9IGN1cnJlbnRUaW1lO1xuXHQgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgc2V0VGltZXN0YW1wVGV4dDogZnVuY3Rpb24gc2V0VGltZXN0YW1wVGV4dChpbmRleCkge1xuXHQgICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lO1xuXHQgICAgICBpZiAoY3VycmVudFRpbWUgIT09IDAgJiYgdGhpcy5seXJpY0FycmF5Lmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3MucHVzaCh7XG5cdCAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnRUaW1lLFxuXHQgICAgICAgICAgY29udGVudDogdGhpcy5seXJpY0FycmF5W2luZGV4XVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHRoaXMucmVtb3ZlVGV4dChpbmRleCk7XG5cdCAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzY3JvbGxUb0N1cnJlbnRMeXJpYzogZnVuY3Rpb24gc2Nyb2xsVG9DdXJyZW50THlyaWMoKSB7XG5cdCAgICAgIHZhciBmb3JjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cdFxuXHQgICAgICB2YXIgcm9vdCA9IHRoaXMuJGVsO1xuXHQgICAgICB2YXIgY3VyID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcuY3VyJyk7XG5cdCAgICAgIGlmIChjdXIpIHtcblx0ICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5jbGllbnRIZWlnaHQ7XG5cdCAgICAgICAgdmFyIHRvcCA9IGN1ci5vZmZzZXRUb3AgLSBoZWlnaHQgLyAyO1xuXHQgICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8odG9wLCBmb3JjZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGZpbHRlcnM6IHtcblx0ICAgIHRpbWU6IF91dGlscy50aW1lc3RhbXAydGltZXN0clxuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy4kb24oJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAodGltZXN0YW1wKSB7XG5cdCAgICAgIF90aGlzLnJ1bm5lci50aW1lVXBkYXRlKHRpbWVzdGFtcCk7XG5cdCAgICAgIF90aGlzLmluZGV4ID0gX3RoaXMucnVubmVyLmN1ckluZGV4KCk7XG5cdCAgICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudEx5cmljKCk7XG5cdCAgICB9KS4kb24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMucnVubmVyLmxyY1VwZGF0ZSgpO1xuXHQgICAgICAkQXBwLmxyY0Zvcm1hdCA9IF90aGlzLnJ1bm5lci5scmMudG9TdHJpbmcoKTtcblx0ICAgICAgJEFwcC5seXJpY0FycmF5ID0gX3RoaXMubHlyaWNBcnJheTtcblx0ICAgIH0pLiRvbigncHJldmx5cmljJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5yZW1vdmVUaW1lc3RhbXAoX3RoaXMucnVubmVyLmxyYy5seXJpY3MubGVuZ3RoIC0gMSk7XG5cdCAgICB9KS4kb24oJ25leHRseXJpYycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc2V0VGltZXN0YW1wVGV4dCgwKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuc2Nyb2xsZXIgPSBuZXcgX3V0aWxzLlNjcm9sbGVyKHRoaXMuJGVsKTtcblx0XG5cdCAgICBfdXRpbHMuZ2xvYmFsS2V5ZG93bi5vbihbJ2VudGVyJywgJ2VzY2FwZSddLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChfdGhpczIuZWRpdGluZykge1xuXHQgICAgICAgIF90aGlzMi5leGl0RWRpdCgpO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSkub24oJ2Fycm93dXAnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChfdGhpczIuZWRpdGluZykge1xuXHQgICAgICAgIF90aGlzMi4kZW1pdCgncHJldmx5cmljJyk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KS5vbignYXJyb3dkb3duJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoX3RoaXMyLmVkaXRpbmcpIHtcblx0ICAgICAgICBfdGhpczIuJGVtaXQoJ25leHRseXJpYycpO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgd2F0Y2g6IHtcblx0ICAgIGVkaXRpbmc6IGZ1bmN0aW9uIGVkaXRpbmcoKSB7XG5cdCAgICAgIGlmICghdGhpcy5lZGl0aW5nKSB7XG5cdCAgICAgICAgdGhpcy5leGl0RWRpdCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBUbWVudTogX3RtZW51Mi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlJ1bm5lciA9IGV4cG9ydHMuTHJjID0gZXhwb3J0cy5MaW5lUGFyc2VyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9saW5lUGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cdFxuXHR2YXIgX2xyYyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRcblx0dmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblx0XG5cdHZhciBfcnVubmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHR2YXIgX3J1bm5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5uZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuTGluZVBhcnNlciA9IF9saW5lUGFyc2VyMi5kZWZhdWx0O1xuXHRleHBvcnRzLkxyYyA9IF9scmMyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUnVubmVyID0gX3J1bm5lcjIuZGVmYXVsdDtcblxuLyoqKi8gfSxcbi8qIDU2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIExpbmVQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIG51bGwsIFt7XG5cdCAgICBrZXk6ICdwYXJzZVRhZ3MnLFxuXHRcblx0ICAgIC8vIG1hdGNoIGBbdGk6IFRoZSBUaXRsZV1gXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VUYWdzKGxpbmUpIHtcblx0ICAgICAgbGluZSA9IGxpbmUudHJpbSgpO1xuXHQgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5UQUdTX1JFR0VYUC5leGVjKGxpbmUpO1xuXHQgICAgICB2YXIgdGFnID0gbWF0Y2hzWzBdO1xuXHQgICAgICB2YXIgY29udGVudCA9IGxpbmUuc3Vic3RyKHRhZy5sZW5ndGgpO1xuXHQgICAgICByZXR1cm4gW3RhZy5zbGljZSgxLCAtMSkuc3BsaXQoL1xcXVxccypcXFsvKSwgY29udGVudF07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBsaW5lIHBhcnNlIGxyYyBvZiB0aW1lc3RhbXBcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignW3RpOiBTb25nIHRpdGxlXScpXG5cdCAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuSU5GT1xuXHQgICAgICogbHAua2V5ID09PSAndGknXG5cdCAgICAgKiBscC52YWx1ZSA9PT0gJ1NvbmcgdGl0bGUnXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGxwID0gbmV3IExpbmVQYXJzZXIoJ1sxMDoxMC4xMF1oZWxsbycpXG5cdCAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuVElNRVxuXHQgICAgICogbHAudGltZXN0YW1wcyA9PT0gWzEwKjYwKzEwLjEwXVxuXHQgICAgICogbHAuY29udGVudCA9PT0gJ2hlbGxvJ1xuXHQgICAgICogQGNvbnN0cnVjdHNcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lXG5cdCAgICAgKi9cblx0XG5cdCAgICAvLyBtYXRjaCBgWzUxMjozNC4xXSBseXJpYyBjb250ZW50YFxuXHRcblx0ICAgIC8vIG1hdGNoIGBbMTI6MzAuMV1bMTI6MzAuMl1gXG5cdFxuXHQgIH1dKTtcblx0XG5cdCAgZnVuY3Rpb24gTGluZVBhcnNlcihsaW5lKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGluZVBhcnNlcik7XG5cdFxuXHQgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLklOVkFMSUQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFncyA9IExpbmVQYXJzZXIucGFyc2VUYWdzKGxpbmUpO1xuXHRcblx0ICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFnczIgPSBfc2xpY2VkVG9BcnJheShfTGluZVBhcnNlciRwYXJzZVRhZ3MsIDIpO1xuXHRcblx0ICAgICAgdmFyIHRhZ3MgPSBfTGluZVBhcnNlciRwYXJzZVRhZ3MyWzBdO1xuXHQgICAgICB2YXIgY29udGVudCA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMV07XG5cdFxuXHQgICAgICBpZiAoTGluZVBhcnNlci5USU1FX1JFR0VYUC50ZXN0KHRhZ3NbMF0pKSB7XG5cdCAgICAgICAgdGhpcy5wYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChMaW5lUGFyc2VyLklORk9fUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcblx0ICAgICAgICB0aGlzLnBhcnNlQXNJbmZvKHRhZ3NbMF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIFt7XG5cdCAgICBrZXk6ICdwYXJzZUFzVGltZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VBc1RpbWUodGFncywgY29udGVudCkge1xuXHQgICAgICB2YXIgdGltZXN0YW1wcyA9IFtdO1xuXHQgICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuXHQgICAgICAgIHZhciBtYXRjaHMgPSBMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLmV4ZWModGFnKTtcblx0ICAgICAgICB2YXIgbWludXRlcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzFdKTtcblx0ICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzJdLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoJzonLCAnLicpKTtcblx0ICAgICAgICB0aW1lc3RhbXBzLnB1c2gobWludXRlcyAqIDYwICsgc2Vjb25kcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzO1xuXHQgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50LnRyaW0oKTtcblx0ICAgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLlRJTUU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFyc2VBc0luZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNJbmZvKHRhZykge1xuXHQgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5JTkZPX1JFR0VYUC5leGVjKHRhZyk7XG5cdCAgICAgIHRoaXMua2V5ID0gbWF0Y2hzWzFdLnRyaW0oKTtcblx0ICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoc1syXS50cmltKCk7XG5cdCAgICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTkZPO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIExpbmVQYXJzZXI7XG5cdH0oKTtcblx0XG5cdExpbmVQYXJzZXIuVEFHU19SRUdFWFAgPSAvXihcXFsuK1xcXSkrLztcblx0TGluZVBhcnNlci5JTkZPX1JFR0VYUCA9IC9eXFxzKihcXHcrKVxccyo6KC4qKSQvO1xuXHRMaW5lUGFyc2VyLlRJTUVfUkVHRVhQID0gL15cXHMqKFxcZCspXFxzKjpcXHMqKFxcZCsoXFxzKltcXC46XVxccypcXGQrKT8pXFxzKiQvO1xuXHRMaW5lUGFyc2VyLlRZUEUgPSB7XG5cdCAgSU5WQUxJRDogMCxcblx0ICBJTkZPOiAxLFxuXHQgIFRJTUU6IDJcblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGluZVBhcnNlcjtcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2lzX2pzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdFxuXHR2YXIgX2lzX2pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzX2pzKTtcblx0XG5cdHZhciBfbGluZVBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9saW5lUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmVQYXJzZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgTHJjID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIExyYygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMcmMpO1xuXHRcblx0ICAgIHRoaXMuaW5mbyA9IHt9O1xuXHQgICAgdGhpcy5seXJpY3MgPSBbXTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhMcmMsIFt7XG5cdCAgICBrZXk6ICdvZmZzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZnNldChvZmZzZXRUaW1lKSB7XG5cdCAgICAgIHRoaXMubHlyaWNzLmZvckVhY2goZnVuY3Rpb24gKGx5cmljKSB7XG5cdCAgICAgICAgbHlyaWMudGltZXN0YW1wICs9IG9mZnNldFRpbWU7XG5cdCAgICAgICAgaWYgKGx5cmljLnRpbWVzdGFtcCA8IDApIHtcblx0ICAgICAgICAgIGx5cmljLnRpbWVzdGFtcCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIGdldCBscmMgdGV4dFxuXHQgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBvcHRzLmNvbWJpbmUgbHlyaWNzIGNvbWJpbmUgYnkgc2FtZSBjb250ZW50XG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdHMuc29ydCBseXJpY3Mgc29ydCBieSB0aW1lc3RhbXBcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxpbmVGb3JtYXQgbmV3bGluZSBmb3JtYXRcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ31cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0b1N0cmluZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgICBvcHRzLmNvbWJpbmUgPSAnY29tYmluZScgaW4gb3B0cyA/IG9wdHMuY29tYmluZSA6IHRydWU7XG5cdCAgICAgIG9wdHMubGluZUZvcm1hdCA9ICdsaW5lRm9ybWF0JyBpbiBvcHRzID8gb3B0cy5saW5lRm9ybWF0IDogJ1xcclxcbic7XG5cdCAgICAgIG9wdHMuc29ydCA9ICdzb3J0JyBpbiBvcHRzID8gb3B0cy5zb3J0IDogdHJ1ZTtcblx0ICAgICAgdmFyIGxpbmVzID0gW10sXG5cdCAgICAgICAgICBseXJpY3NNYXAgPSB7fSxcblx0ICAgICAgICAgIGx5cmljc0xpc3QgPSBbXTtcblx0XG5cdCAgICAgIC8vIGdlbmVyYXRlIGluZm9cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5mbykge1xuXHQgICAgICAgIGxpbmVzLnB1c2goJ1snICsga2V5ICsgJzonICsgdGhpcy5pbmZvW2tleV0gKyAnXScpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5jb21iaW5lKSB7XG5cdCAgICAgICAgLy8gdW5pcXVlbmVzc1xuXHQgICAgICAgIHRoaXMubHlyaWNzLmZvckVhY2goZnVuY3Rpb24gKGx5cmljKSB7XG5cdCAgICAgICAgICBpZiAobHlyaWMuY29udGVudCBpbiBseXJpY3NNYXApIHtcblx0ICAgICAgICAgICAgbHlyaWNzTWFwW2x5cmljLmNvbnRlbnRdLnB1c2gobHlyaWMudGltZXN0YW1wKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XSA9IFtseXJpYy50aW1lc3RhbXBdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIC8vIHNvcnRlZFxuXHQgICAgICAgIGZvciAodmFyIGNvbnRlbnQgaW4gbHlyaWNzTWFwKSB7XG5cdCAgICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG5cdCAgICAgICAgICAgIGx5cmljc01hcFtjb250ZW50XS5zb3J0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBseXJpY3NMaXN0LnB1c2goe1xuXHQgICAgICAgICAgICB0aW1lc3RhbXBzOiBseXJpY3NNYXBbY29udGVudF0sXG5cdCAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG9wdHMuc29ydCkge1xuXHQgICAgICAgICAgbHlyaWNzTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhLnRpbWVzdGFtcHNbMF0gLSBiLnRpbWVzdGFtcHNbMF07XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGdlbmVyYXRlIGx5cmljc1xuXHQgICAgICAgIGx5cmljc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICAgIGxpbmVzLnB1c2goJ1snICsgbHlyaWMudGltZXN0YW1wcy5tYXAoZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuXHQgICAgICAgICAgICByZXR1cm4gTHJjLnRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCk7XG5cdCAgICAgICAgICB9KS5qb2luKCddWycpICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmx5cmljcy5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuXHQgICAgICAgICAgbGluZXMucHVzaCgnWycgKyBMcmMudGltZXN0YW1wVG9TdHJpbmcobHlyaWMudGltZXN0YW1wKSArICddJyArIChseXJpYy5jb250ZW50IHx8ICcnKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBsaW5lcy5qb2luKG9wdHMubGluZUZvcm1hdCk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdwYXJzZScsXG5cdFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcGFyc2UgbHJjIHRleHQgYW5kIHJldHVybiBhIExyYyBvYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG5cdCAgICAgKiBAcmV0dXJuIHtMcmN9XG5cdCAgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZSh0ZXh0KSB7XG5cdCAgICAgIHZhciBseXJpY3MgPSBbXTtcblx0ICAgICAgdmFyIGluZm8gPSB7fTtcblx0ICAgICAgdGV4dC5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpLm1hcChmdW5jdGlvbiAobGluZSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgX2xpbmVQYXJzZXIyLmRlZmF1bHQobGluZSk7XG5cdCAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcblx0ICAgICAgICBzd2l0Y2ggKGxpbmUudHlwZSkge1xuXHQgICAgICAgICAgY2FzZSBfbGluZVBhcnNlcjIuZGVmYXVsdC5UWVBFLklORk86XG5cdCAgICAgICAgICAgIGluZm9bbGluZS5rZXldID0gbGluZS52YWx1ZTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuVElNRTpcblx0ICAgICAgICAgICAgbGluZS50aW1lc3RhbXBzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuXHQgICAgICAgICAgICAgIGx5cmljcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuXHQgICAgICAgICAgICAgICAgY29udGVudDogbGluZS5jb250ZW50XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBscmMgPSBuZXcgdGhpcygpO1xuXHQgICAgICBscmMubHlyaWNzID0gbHlyaWNzO1xuXHQgICAgICBscmMuaW5mbyA9IGluZm87XG5cdCAgICAgIHJldHVybiBscmM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2hlY2tMeXJpY09iamVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tMeXJpY09iamVjdChseXJpYykge1xuXHQgICAgICByZXR1cm4gX2lzX2pzMi5kZWZhdWx0Lm9iamVjdChseXJpYykgJiYgJ3RpbWVzdGFtcCcgaW4gbHlyaWMgJiYgX2lzX2pzMi5kZWZhdWx0Lm51bWJlcihseXJpYy50aW1lc3RhbXApICYmICdjb250ZW50JyBpbiBseXJpYyAmJiBfaXNfanMyLmRlZmF1bHQuc3RyaW5nKGx5cmljLmNvbnRlbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3BhZFplcm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhZFplcm8obnVtKSB7XG5cdCAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIGlmIChfaXNfanMyLmRlZmF1bHQubnVtYmVyKG51bSkpIHtcblx0ICAgICAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcblx0ICAgICAgfVxuXHQgICAgICB3aGlsZSAobnVtLnNwbGl0KCcuJylbMF0ubGVuZ3RoIDwgc2l6ZSkge1xuXHQgICAgICAgIG51bSA9ICcwJyArIG51bTtcblx0ICAgICAgfXJldHVybiBudW07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBnZXQgbHJjIHRpbWUgc3RyaW5nXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogTHJjLnRpbWVzdGFtcFRvU3RyaW5nKDE0My41NClcblx0ICAgICAqIC8vIHJldHVybiAnMDI6MjMuNTQnOlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCBzZWNvbmQgdGltZXN0YW1wXG5cdCAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAndGltZXN0YW1wVG9TdHJpbmcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wYWRaZXJvKHBhcnNlSW50KHRpbWVzdGFtcCAvIDYwKSkgKyAnOicgKyB0aGlzLnBhZFplcm8oKHRpbWVzdGFtcCAlIDYwKS50b0ZpeGVkKDIpKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBMcmM7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExyYztcblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2xyYyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRcblx0dmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblx0XG5cdHZhciBfY2xvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdHZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgUnVubmVyID0gZnVuY3Rpb24gKCkge1xuXHQgIC8qKlxuXHQgICAqIEBwYXJhbSB7THJjfSBscmNcblx0ICAgKi9cblx0XG5cdCAgZnVuY3Rpb24gUnVubmVyKCkge1xuXHQgICAgdmFyIGxyYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5ldyBfbHJjMi5kZWZhdWx0KCkgOiBhcmd1bWVudHNbMF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVubmVyKTtcblx0XG5cdCAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcblx0ICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuXHQgICAgdGhpcy5zZXRMcmMobHJjKTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqICBAcGFyYW0ge0xyY30gbHJjXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUnVubmVyLCBbe1xuXHQgICAga2V5OiAnc2V0THJjJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMcmMobHJjKSB7XG5cdCAgICAgIHRoaXMubHJjID0gKDAsIF9jbG9uZTIuZGVmYXVsdCkobHJjKTtcblx0ICAgICAgdGhpcy5scmNVcGRhdGUoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdscmNVcGRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxyY1VwZGF0ZSgpIHtcblx0ICAgICAgaWYgKHRoaXMub2Zmc2V0KSB7XG5cdCAgICAgICAgdGhpcy5fb2Zmc2V0QWxpZ24oKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9zb3J0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX29mZnNldEFsaWduJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb2Zmc2V0QWxpZ24oKSB7XG5cdCAgICAgIGlmICgnb2Zmc2V0JyBpbiB0aGlzLmxyYy5pbmZvKSB7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMubHJjLmluZm8ub2Zmc2V0KSAvIDEwMDA7XG5cdCAgICAgICAgaWYgKCFpc05hTihvZmZzZXQpKSB7XG5cdCAgICAgICAgICB0aGlzLmxyYy5vZmZzZXQob2Zmc2V0KTtcblx0ICAgICAgICAgIGRlbGV0ZSB0aGlzLmxyYy5pbmZvLm9mZnNldDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfc29ydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoKSB7XG5cdCAgICAgIHRoaXMubHJjLmx5cmljcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0aW1lVXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKHRpbWVzdGFtcCkge1xuXHQgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMubHJjLmx5cmljcy5sZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCAtMSkge1xuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHRoaXMuX2N1cnJlbnRJbmRleCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2ZpbmRJbmRleCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHN0YXJ0SW5kZXgpIHtcblx0ICAgICAgdmFyIGN1ckZyb250VGltZXN0YW1wID0gc3RhcnRJbmRleCA9PSAtMSA/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA6IHRoaXMubHJjLmx5cmljc1tzdGFydEluZGV4XS50aW1lc3RhbXA7XG5cdFxuXHQgICAgICB2YXIgY3VyQmFja1RpbWVzdGFtcCA9IHN0YXJ0SW5kZXggPT0gdGhpcy5scmMubHlyaWNzLmxlbmd0aCAtIDEgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiB0aGlzLmxyYy5seXJpY3Nbc3RhcnRJbmRleCArIDFdLnRpbWVzdGFtcDtcblx0XG5cdCAgICAgIGlmICh0aW1lc3RhbXAgPCBjdXJGcm9udFRpbWVzdGFtcCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4IC0gMSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID09PSBjdXJCYWNrVGltZXN0YW1wKSB7XG5cdCAgICAgICAgaWYgKGN1ckJhY2tUaW1lc3RhbXAgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuXHQgICAgICAgICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ICsgMTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID4gY3VyQmFja1RpbWVzdGFtcCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4ICsgMSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXJ0SW5kZXg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJbmZvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmZvKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5scmMuaW5mbztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMeXJpY3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljcygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubHJjLmx5cmljcztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqICBAcmV0dXJuIHtPYmplY3R9IHsnJ31cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMeXJpYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0THlyaWMoKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRoaXMuY3VySW5kZXgoKSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubHJjLmx5cmljc1tpbmRleF07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBub3QgZXhpc3QnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2N1ckluZGV4Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJJbmRleCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjdXJMeXJpYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3VyTHlyaWMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmdldEx5cmljKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUnVubmVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSdW5uZXI7XG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlcikge3ZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIGNpcmN1bGFyIHJlZmVyZW5jZXMgYnkgZGVmYXVsdCwgYnV0IGlmIHlvdSBhcmUgY2VydGFpblxuXHQgKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcblx0ICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cblx0ICpcblx0ICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcblx0ICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cblx0ICpcblx0ICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcblx0ICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuXHQgKiAgICBjaXJjdWxhciByZWZlcmVuY2VzLiAob3B0aW9uYWwgLSB0cnVlIGJ5IGRlZmF1bHQpXG5cdCAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cblx0ICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcblx0ICogQHBhcmFtIGBwcm90b3R5cGVgIC0gc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIHVzZWQgd2hlbiBjbG9uaW5nIGFuIG9iamVjdC5cblx0ICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG5cdCovXG5cdGZ1bmN0aW9uIGNsb25lKHBhcmVudCwgY2lyY3VsYXIsIGRlcHRoLCBwcm90b3R5cGUpIHtcblx0ICB2YXIgZmlsdGVyO1xuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG5cdCAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuXHQgICAgcHJvdG90eXBlID0gY2lyY3VsYXIucHJvdG90eXBlO1xuXHQgICAgZmlsdGVyID0gY2lyY3VsYXIuZmlsdGVyO1xuXHQgICAgY2lyY3VsYXIgPSBjaXJjdWxhci5jaXJjdWxhclxuXHQgIH1cblx0ICAvLyBtYWludGFpbiB0d28gYXJyYXlzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLCB3aGVyZSBjb3JyZXNwb25kaW5nIHBhcmVudHNcblx0ICAvLyBhbmQgY2hpbGRyZW4gaGF2ZSB0aGUgc2FtZSBpbmRleFxuXHQgIHZhciBhbGxQYXJlbnRzID0gW107XG5cdCAgdmFyIGFsbENoaWxkcmVuID0gW107XG5cdFxuXHQgIHZhciB1c2VCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9ICd1bmRlZmluZWQnO1xuXHRcblx0ICBpZiAodHlwZW9mIGNpcmN1bGFyID09ICd1bmRlZmluZWQnKVxuXHQgICAgY2lyY3VsYXIgPSB0cnVlO1xuXHRcblx0ICBpZiAodHlwZW9mIGRlcHRoID09ICd1bmRlZmluZWQnKVxuXHQgICAgZGVwdGggPSBJbmZpbml0eTtcblx0XG5cdCAgLy8gcmVjdXJzZSB0aGlzIGZ1bmN0aW9uIHNvIHdlIGRvbid0IHJlc2V0IGFsbFBhcmVudHMgYW5kIGFsbENoaWxkcmVuXG5cdCAgZnVuY3Rpb24gX2Nsb25lKHBhcmVudCwgZGVwdGgpIHtcblx0ICAgIC8vIGNsb25pbmcgbnVsbCBhbHdheXMgcmV0dXJucyBudWxsXG5cdCAgICBpZiAocGFyZW50ID09PSBudWxsKVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0XG5cdCAgICBpZiAoZGVwdGggPT0gMClcblx0ICAgICAgcmV0dXJuIHBhcmVudDtcblx0XG5cdCAgICB2YXIgY2hpbGQ7XG5cdCAgICB2YXIgcHJvdG87XG5cdCAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjbG9uZS5fX2lzQXJyYXkocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IFtdO1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgUmVnRXhwKHBhcmVudC5zb3VyY2UsIF9fZ2V0UmVnRXhwRmxhZ3MocGFyZW50KSk7XG5cdCAgICAgIGlmIChwYXJlbnQubGFzdEluZGV4KSBjaGlsZC5sYXN0SW5kZXggPSBwYXJlbnQubGFzdEluZGV4O1xuXHQgICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IERhdGUocGFyZW50LmdldFRpbWUoKSk7XG5cdCAgICB9IGVsc2UgaWYgKHVzZUJ1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG5cdCAgICAgIHBhcmVudC5jb3B5KGNoaWxkKTtcblx0ICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwcm90b3R5cGUgPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuXHQgICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSB7XG5cdCAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG5cdCAgICAgICAgcHJvdG8gPSBwcm90b3R5cGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2lyY3VsYXIpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cdFxuXHQgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcblx0ICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuXHQgICAgICB9XG5cdCAgICAgIGFsbFBhcmVudHMucHVzaChwYXJlbnQpO1xuXHQgICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuXHQgICAgICB2YXIgYXR0cnM7XG5cdCAgICAgIGlmIChwcm90bykge1xuXHQgICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuXHQgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2hpbGQ7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU2ltcGxlIGZsYXQgY2xvbmUgdXNpbmcgcHJvdG90eXBlLCBhY2NlcHRzIG9ubHkgb2JqZWN0cywgdXNlZnVsbCBmb3IgcHJvcGVydHlcblx0ICogb3ZlcnJpZGUgb24gRkxBVCBjb25maWd1cmF0aW9uIG9iamVjdCAobm8gbmVzdGVkIHByb3BzKS5cblx0ICpcblx0ICogVVNFIFdJVEggQ0FVVElPTiEgVGhpcyBtYXkgbm90IGJlaGF2ZSBhcyB5b3Ugd2lzaCBpZiB5b3UgZG8gbm90IGtub3cgaG93IHRoaXNcblx0ICogd29ya3MuXG5cdCAqL1xuXHRjbG9uZS5jbG9uZVByb3RvdHlwZSA9IGZ1bmN0aW9uIGNsb25lUHJvdG90eXBlKHBhcmVudCkge1xuXHQgIGlmIChwYXJlbnQgPT09IG51bGwpXG5cdCAgICByZXR1cm4gbnVsbDtcblx0XG5cdCAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7fTtcblx0ICBjLnByb3RvdHlwZSA9IHBhcmVudDtcblx0ICByZXR1cm4gbmV3IGMoKTtcblx0fTtcblx0XG5cdC8vIHByaXZhdGUgdXRpbGl0eSBmdW5jdGlvbnNcblx0XG5cdGZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG5cdH07XG5cdGNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXHRcblx0ZnVuY3Rpb24gX19pc0RhdGUobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9O1xuXHRjbG9uZS5fX2lzRGF0ZSA9IF9faXNEYXRlO1xuXHRcblx0ZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cdGNsb25lLl9faXNBcnJheSA9IF9faXNBcnJheTtcblx0XG5cdGZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5cdH07XG5cdGNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXHRcblx0ZnVuY3Rpb24gX19nZXRSZWdFeHBGbGFncyhyZSkge1xuXHQgIHZhciBmbGFncyA9ICcnO1xuXHQgIGlmIChyZS5nbG9iYWwpIGZsYWdzICs9ICdnJztcblx0ICBpZiAocmUuaWdub3JlQ2FzZSkgZmxhZ3MgKz0gJ2knO1xuXHQgIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcblx0ICByZXR1cm4gZmxhZ3M7XG5cdH07XG5cdGNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXHRcblx0cmV0dXJuIGNsb25lO1xuXHR9KSgpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzkpLkJ1ZmZlcikpXG5cbi8qKiovIH0sXG4vKiA2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MSlcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2Mylcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LWVlZTRjYWJlXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInNwYW5bZGF0YS12LWVlZTRjYWJlXXtwb3NpdGlvbjpyZWxhdGl2ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL3RtZW51LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWVudXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubWVudSB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9Lm1lbnUgdWwgbGl7d2hpdGUtc3BhY2U6bm93cmFwO2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjI1cHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMTE2MWIzO2N1cnNvcjpwb2ludGVyfS5tZW51IHVsIGxpOmhvdmVye2NvbG9yOiMxMTYxYjM7YmFja2dyb3VuZC1jb2xvcjojZThlMWUxfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF90b29sdGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rvb2x0aXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgZGlyOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBUb29sdGlwOiBfdG9vbHRpcDIuZGVmYXVsdFxuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudG9vbHRpcCAud3JhcHtwYWRkaW5nOjhweDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Y29sb3I6IzExNjFiMztib3JkZXItcmFkaXVzOjhweDtib3gtc2hhZG93Oi41cHggLjVweCAzcHggLjVweCAjY2NjfS50b29sdGlwIC53cmFwIC5hcnJvd3twb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDowO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG99LnRvb2x0aXAgLndyYXAgLmFycm93LmxlZnR7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cucmlnaHR7dG9wOjA7Ym90dG9tOjA7bGVmdDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cudG9we2xlZnQ6MDtyaWdodDowO2JvdHRvbTotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LmJvdHRvbXtsZWZ0OjA7cmlnaHQ6MDt0b3A6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjhweCBzb2xpZCAjZmZmfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2V4dGVuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgdG9wOiAwLFxuXHQgICAgICAgIGxlZnQ6IDAsXG5cdCAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcblx0ICAgICAgfSxcblx0ICAgICAgc2hvdzogZmFsc2UsXG5cdCAgICAgIGRpcjogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcHJvcHM6IHtcblx0ICAgIGVudGVyRGVsYXk6IHtcblx0ICAgICAgdHlwZTogTnVtYmVyLFxuXHQgICAgICBkZWZhdWx0OiAwLjFcblx0ICAgIH0sXG5cdCAgICBsZWF2ZURlbGF5OiB7XG5cdCAgICAgIHR5cGU6IE51bWJlcixcblx0ICAgICAgZGVmYXVsdDogMC41XG5cdCAgICB9LFxuXHQgICAgdGFyZ2V0OiB7XG5cdCAgICAgIHR5cGU6IEVsZW1lbnQsXG5cdCAgICAgIGRlZmF1bHQ6IG51bGxcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwYXJlbnQgPSB0aGlzLnRhcmdldCAhPT0gbnVsbCA/IHRoaXMudGFyZ2V0IDogdGhpcy4kZWw7XG5cdCAgICB2YXIgdGxwUG9zID0gbmV3IF91dGlscy5Ub29sdGlwUG9zaXRpb24ocGFyZW50LCB0aGlzLiRyZWZzLndyYXApO1xuXHQgICAgdmFyIGFycm93U3BhY2UgPSAxMDtcblx0XG5cdCAgICB2YXIgZGhvdmVyID0gbmV3IF91dGlscy5EZWxheUhvdmVyKHBhcmVudCwge1xuXHQgICAgICBlbnRlckRlbGF5OiB0aGlzLmVudGVyRGVsYXksXG5cdCAgICAgIGxlYXZlRGVsYXk6IHRoaXMubGVhdmVEZWxheVxuXHQgICAgfSk7XG5cdCAgICBkaG92ZXIuaG92ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcG9zID0gdGxwUG9zLnBvc2l0aW9uKCk7XG5cdCAgICAgIF90aGlzLmRpciA9IHBvcy5kaXI7XG5cdCAgICAgIHN3aXRjaCAoX3RoaXMuZGlyKSB7XG5cdCAgICAgICAgY2FzZSAnbGVmdCc6XG5cdCAgICAgICAgICAoMCwgX2V4dGVuZDIuZGVmYXVsdCkoX3RoaXMuc3R5bGUsIHtcblx0ICAgICAgICAgICAgdG9wOiBwb3MucmVjdC50b3AgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0IC0gYXJyb3dTcGFjZSArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAncmlnaHQnOlxuXHQgICAgICAgICAgKDAsIF9leHRlbmQyLmRlZmF1bHQpKF90aGlzLnN0eWxlLCB7XG5cdCAgICAgICAgICAgIHRvcDogcG9zLnJlY3QudG9wICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbGVmdDogcG9zLnJlY3QubGVmdCArIGFycm93U3BhY2UgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ3RvcCc6XG5cdCAgICAgICAgICAoMCwgX2V4dGVuZDIuZGVmYXVsdCkoX3RoaXMuc3R5bGUsIHtcblx0ICAgICAgICAgICAgdG9wOiBwb3MucmVjdC50b3AgLSBhcnJvd1NwYWNlICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbGVmdDogcG9zLnJlY3QubGVmdCArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnYm90dG9tJzpcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kMi5kZWZhdWx0KShfdGhpcy5zdHlsZSwge1xuXHQgICAgICAgICAgICB0b3A6IHBvcy5yZWN0LnRvcCArIGFycm93U3BhY2UgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0ICsgJ3B4J1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIGZhbHNlOlxuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnNob3cgPSB0cnVlO1xuXHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICB3YXRjaDoge1xuXHQgICAgc2hvdzoge1xuXHQgICAgICBpbW1lZGlhdGU6IHRydWUsXG5cdCAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG5cdCAgICAgICAgdGhpcy5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5zaG93ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnc3BhbicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInRvb2x0aXBcIlxuXHQgIH0sIFtfdm0uX3QoXCJ0YXJnZXRcIiksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJ3cmFwXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG5cdCAgICBzdHlsZTogKF92bS5zdHlsZSlcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBjbGFzczogJ2Fycm93ICcgKyBfdm0uZGlyXG5cdCAgfSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuXHQgIH0sIFtfdm0uX3QoXCJjb250ZW50XCIpXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICByZWY6IFwibWVudVwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudVwiXG5cdCAgfSwgW192bS5faCgndG9vbHRpcCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZGlyXCI6IF92bS5kaXIsXG5cdCAgICAgIFwidGFyZ2V0XCI6IF92bS4kcmVmcy5tZW51LFxuXHQgICAgICBcImVudGVyLWRlbGF5XCI6IDBcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgfSwgW192bS5fdChcInRhcmdldFwiKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzbG90OiBcImNvbnRlbnRcIlxuXHQgIH0sIFtfdm0uX3QoXCJsaXN0XCIpXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gKF92bS5lZGl0aW5nKSA/IF92bS5faCgndWwnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJlZGl0aW5nIGx5cmljc1wiXG5cdCAgfSwgW192bS5fbCgoX3ZtLnJ1bm5lci5scmMubHlyaWNzKSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcblx0ICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuXHQgICAgICBjbGFzczoge1xuXHQgICAgICAgIGN1cjogaSA9PSBfdm0uaW5kZXhcblx0ICAgICAgfSxcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInRpdGxlXCI6IGx5cmljLnRpbWVzdGFtcFxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiZGJsY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uZWRpdChpKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbKF92bS5lZGl0aW5nSW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChseXJpYy50aW1lc3RhbXApLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwibHlyaWMudGltZXN0YW1wXCJcblx0ICAgICAgfV0sXG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcInRpbWVzdGFtcFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuXHQgICAgICB9LFxuXHQgICAgICBkb21Qcm9wczoge1xuXHQgICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKGx5cmljLnRpbWVzdGFtcClcblx0ICAgICAgfSxcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgIT09IDEzKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgX3ZtLmV4aXRFZGl0KCRldmVudClcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBseXJpYy50aW1lc3RhbXAgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICAgIHZhbHVlOiAobHlyaWMuY29udGVudCksXG5cdCAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy5jb250ZW50XCJcblx0ICAgICAgfV0sXG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIixcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcblx0ICAgICAgfSxcblx0ICAgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhseXJpYy5jb250ZW50KVxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwia2V5ZG93blwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSAhPT0gMTMpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIGx5cmljLmNvbnRlbnQgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcInRpbWVzdGFtcFwiXG5cdCAgICB9LCBbX3ZtLl9zKF92bS5fZihcInRpbWVcIikobHlyaWMudGltZXN0YW1wKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCJcblx0ICAgIH0sIFtfdm0uX3MobHlyaWMuY29udGVudCldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcblx0ICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuXHQgICAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuXHQgICAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG5cdCAgICAgIHNsb3Q6IFwibGlzdFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLnJlbW92ZVRpbWVzdGFtcChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uZWRpdChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5lZGl0JykpICsgXCJcXG4gICAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLmluc2VydChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0ucmVtb3ZlKGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSldKV0pXSldLCBcIiBcIl0pXG5cdCAgfSksIFwiIFwiLCAoX3ZtLmx5cmljQXJyYXkubGVuZ3RoKSA/IF92bS5faCgnbGknLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJkaXZpc2lvblwiXG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5mb2xsb3dpbmdfdW5zb3J0ZWQnKSldKSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9sKChfdm0ubHlyaWNBcnJheSksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG5cdCAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwidW5zb3J0ZWRcIixcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInRyYWNrLWJ5XCI6IFwiaVwiXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5lZGl0VGV4dChpKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbKF92bS5lZGl0aW5nVGV4dEluZGV4ID09IGkpID8gW192bS5faCgnaW5wdXQnLCB7XG5cdCAgICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICAgIHZhbHVlOiAoX3ZtLmx5cmljQXJyYXlbaV0pLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwibHlyaWNBcnJheVtpXVwiXG5cdCAgICAgIH1dLFxuXHQgICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljQXJyYXlbaV0pXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJrZXlkb3duXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIF92bS5leGl0RWRpdCgkZXZlbnQpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgdmFyICQkZXhwID0gX3ZtLmx5cmljQXJyYXksXG5cdCAgICAgICAgICAgICQkaWR4ID0gaTtcblx0ICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgkJGV4cCkpIHtcblx0ICAgICAgICAgICAgX3ZtLmx5cmljQXJyYXlbaV0gPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAkJGV4cC5zcGxpY2UoJCRpZHgsIDEsICRldmVudC50YXJnZXQudmFsdWUpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuXHQgICAgfSwgW192bS5fcyhseXJpYyldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWJ0biBjb25jZWFsXCJcblx0ICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuXHQgICAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuXHQgICAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG5cdCAgICAgIHNsb3Q6IFwibGlzdFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVkaXRcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uaW5zZXJ0VGV4dChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0ucmVtb3ZlVGV4dChpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW192bS5faCgnaScsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG5cdCAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pXSldKV0pXSwgXCIgXCJdKVxuXHQgIH0pXSkgOiBfdm0uX2goJ3VsJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibHlyaWNzXCJcblx0ICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuXHQgICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG5cdCAgICAgIGNsYXNzOiB7XG5cdCAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuXHQgICAgICB9LFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5wbGF5dG8obHlyaWMudGltZXN0YW1wKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgW1wiXFxuICAgIFwiICsgX3ZtLl9zKGx5cmljLmNvbnRlbnQpICsgXCJcXG4gIFwiXSlcblx0ICB9KSwgXCIgXCIsIChfdm0ubHlyaWNBcnJheS5sZW5ndGgpID8gX3ZtLl9oKCdsaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpKV0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2woKF92bS5seXJpY0FycmF5KSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcblx0ICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHJhY2stYnlcIjogXCJpXCJcblx0ICAgICAgfVxuXHQgICAgfSwgW1wiXFxuICAgIFwiICsgX3ZtLl9zKGx5cmljKSArIFwiXFxuICBcIl0pXG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LWExNGM5NmVhXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXBbZGF0YS12LWExNGM5NmVhXTphZnRlciwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFdOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uY292ZXJbZGF0YS12LWExNGM5NmVhXXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC43KTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTAwMDtvdmVyZmxvdzphdXRvfS5tb2RhbFtkYXRhLXYtYTE0Yzk2ZWFde3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjozMHB4IGF1dG87YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6OHB4O292ZXJmbG93OmhpZGRlbn0ubW9kYWwubGdbZGF0YS12LWExNGM5NmVhXXt3aWR0aDo1MCV9Lm1vZGFsLm1kW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6NzAlfS5tb2RhbC5zbVtkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjkwJX0ubW9kYWwgLmJvZHlbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy1sZWZ0OjE0cHg7cGFkZGluZy1yaWdodDoxNHB4fS5tb2RhbCAuYm9keVtkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fS5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtjb2xvcjojMTE2MWIzfS5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U1ZTVlNTtmb250LXdlaWdodDpib2xkZXJ9Lm1vZGFsIC5oZWFkZXIgLmljb24tY2FuY2VsW2RhdGEtdi1hMTRjOTZlYV17ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXJ9Lm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXXtib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1fS5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXAgLmJ0bltkYXRhLXYtYTE0Yzk2ZWFde2Zsb2F0OnJpZ2h0O2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxMTYxYjM7cGFkZGluZzo4cHggMTBweH0ubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwIC5idG5bZGF0YS12LWExNGM5NmVhXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9pbmRleC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCBoM3ttYXJnaW46MTBweCAwfS5tb2RhbCB0ZXh0YXJlYXt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtib3JkZXItcmFkaXVzOjVweDttaW4taGVpZ2h0OjMwMHB4O21hcmdpbjoxMHB4IDB9Lm1vZGFsIHB7bWFyZ2luOjB9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdHZhciBfdnVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfdnVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Z1ZSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX2hlbHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0XG5cdHZhciBfaGVscDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwKTtcblx0XG5cdHZhciBfbHJjRm9ybWF0VXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHR2YXIgX2xyY0Zvcm1hdFVwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmNGb3JtYXRVcGxvYWQpO1xuXHRcblx0dmFyIF9seXJpY1VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXHRcblx0dmFyIF9seXJpY1VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9seXJpY1VwbG9hZCk7XG5cdFxuXHR2YXIgX2xyY1NhdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0XG5cdHZhciBfbHJjU2F2ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmNTYXZlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ09NUE9ORU5UUyA9IHtcblx0ICAnaGVscCc6IF9oZWxwMi5kZWZhdWx0LFxuXHQgICdscmMtZm9ybWF0LXVwbG9hZCc6IF9scmNGb3JtYXRVcGxvYWQyLmRlZmF1bHQsXG5cdCAgJ2x5cmljLXVwbG9hZCc6IF9seXJpY1VwbG9hZDIuZGVmYXVsdCxcblx0ICAnbHJjLXNhdmUnOiBfbHJjU2F2ZTIuZGVmYXVsdFxuXHR9O1xuXHRcblx0d2luZG93Lk1DID0gW107XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHRpdGxlOiAnTW9kYWwnLFxuXHQgICAgICBzaXplOiAnbWQnLFxuXHQgICAgICBjb25maXJtOiBmYWxzZSxcblx0ICAgICAgbW9kYWxOYW1lOiAnJyxcblx0ICAgICAgbW9kYWxDb21wb25lbnQ6IG51bGwsXG5cdCAgICAgIGlzU2hvdzogZmFsc2UsXG5cdCAgICAgIGNvdmVyU2hvdzogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhtb2RhbE5hbWUpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5jb3ZlclNob3cgPSB0cnVlO1xuXHQgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMubW9kYWxOYW1lID0gbW9kYWxOYW1lO1xuXHQgICAgICAgIF90aGlzLm1vZGFsQ29tcG9uZW50ID0gbmV3IF92dWUyLmRlZmF1bHQoX2V4dGVuZHMoe30sIENPTVBPTkVOVFNbX3RoaXMubW9kYWxOYW1lXSkpO1xuXHQgICAgICAgIF90aGlzLm1vZGFsQ29tcG9uZW50LiRtb3VudChfdGhpcy4kcmVmcy5tb2RhbFdyYXBwZXIpO1xuXHRcblx0ICAgICAgICBpZiAoX3RoaXMubW9kYWxDb21wb25lbnQudGl0bGUpIF90aGlzLnRpdGxlID0gX3RoaXMubW9kYWxDb21wb25lbnQudGl0bGU7XG5cdCAgICAgICAgaWYgKF90aGlzLm1vZGFsQ29tcG9uZW50LnNpemUpIF90aGlzLnRpdGxlID0gX3RoaXMubW9kYWxDb21wb25lbnQuc2l6ZTtcblx0ICAgICAgICBpZiAoX3RoaXMubW9kYWxDb21wb25lbnQuY29uZmlybSkgX3RoaXMuY29uZmlybSA9IF90aGlzLm1vZGFsQ29tcG9uZW50LmNvbmZpcm07XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHQgICAgb2s6IGZ1bmN0aW9uIG9rKCkge1xuXHQgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdvaycpO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KCk7XG5cdCAgICB9LFxuXHQgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7XG5cdCAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGVtaXQoJ2NhbmNlbCcpO1xuXHQgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgX3V0aWxzLmdsb2JhbEtleWRvd24ub24oJ2VzY2FwZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKF90aGlzMi5pc1Nob3cpIHtcblx0ICAgICAgICBfdGhpczIuY2FuY2VsKCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIEhlbHA6IF9oZWxwMi5kZWZhdWx0LFxuXHQgICAgTHJjRm9ybWF0VXBsb2FkOiBfbHJjRm9ybWF0VXBsb2FkMi5kZWZhdWx0LFxuXHQgICAgTHlyaWNVcGxvYWQ6IF9seXJpY1VwbG9hZDIuZGVmYXVsdCxcblx0ICAgIExyY1NhdmU6IF9scmNTYXZlMi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NClcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0zZjU3YzFkMFwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTNmNTdjMWQwJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9oZWxwLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmhlbHBbZGF0YS12LTNmNTdjMWQwXXtjb2xvcjojMzMzfS5oZWxwIGFbZGF0YS12LTNmNTdjMWQwXSwuaGVscCBoM1tkYXRhLXYtM2Y1N2MxZDBdLC5oZWxwIGg0W2RhdGEtdi0zZjU3YzFkMF17Y29sb3I6IzExNjFiM30uaGVscCBoM1tkYXRhLXYtM2Y1N2MxZDBde21hcmdpbjo1cHggMH0uaGVscCBoNFtkYXRhLXYtM2Y1N2MxZDBde21hcmdpbjowfS5oZWxwIGFbZGF0YS12LTNmNTdjMWQwXXtmb250LXdlaWdodDpib2xkZXJ9LmhlbHAgdWxbZGF0YS12LTNmNTdjMWQwXXtsaXN0LXN0eWxlLXR5cGU6bm9uZTtwYWRkaW5nOjAgMCAwIDIwcHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wYWNrYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdFxuXHR2YXIgX3BhY2thZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFja2FnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBQS0c6IF9wYWNrYWdlMi5kZWZhdWx0LFxuXHQgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwuaGVscC50aXRsZScpXG5cdCAgICB9O1xuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcIm5hbWVcIjogXCJscmMtbWFrZXJcIixcblx0XHRcInZlcnNpb25cIjogXCIwLjIuMFwiLFxuXHRcdFwiZGVzY3JpcHRpb25cIjogXCJscmMgbWFrZXJcIixcblx0XHRcIm1haW5cIjogXCJpbmRleC5qc1wiLFxuXHRcdFwic2NyaXB0c1wiOiB7XG5cdFx0XHRcInRlc3RcIjogXCJ5YXJuIHJ1biBsaW50XCIsXG5cdFx0XHRcImxpbnRcIjogXCJlc2xpbnQgLS1leHQganMsdnVlIHdlYnBhY2suY29uZmlnLmpzIHNyY1wiLFxuXHRcdFx0XCJkZXZcIjogXCJ3ZWJwYWNrLWRldi1zZXJ2ZXIgLS1ob3N0PScwLjAuMC4wJyAtLXByb2dyZXNzIC0tY29sb3JzIC0taW5saW5lIC0taG90IC0tb3V0cHV0LXB1YmxpYy1wYXRoPScvYXNzZXRzLydcIixcblx0XHRcdFwiYnVpbGRcIjogXCJ5YXJuIHJ1biBidWlsZDpjbGVhbiAmJiB5YXJuIHJ1biBidWlsZDp3ZWJwYWNrICYmIHlhcm4gcnVuIGJ1aWxkOnZpZXdcIixcblx0XHRcdFwiYnVpbGQ6Y2xlYW5cIjogXCJybSAtcmYgYnVpbGRcIixcblx0XHRcdFwiYnVpbGQ6dmlld1wiOiBcIiBjcCBpbmRleC5odG1sIGJ1aWxkL2luZGV4Lmh0bWxcIixcblx0XHRcdFwiYnVpbGQ6d2VicGFja1wiOiBcIndlYnBhY2sgLS1vcHRpbWl6ZS1taW5pbWl6ZSAtLW91dHB1dC1wdWJsaWMtcGF0aD0nLi9hc3NldHMvJ1wiLFxuXHRcdFx0XCJkZXBsb3lcIjogXCJ5YXJuIHJ1biBidWlsZCAmJiBnaC1wYWdlcyAtZCBidWlsZFwiXG5cdFx0fSxcblx0XHRcImtleXdvcmRzXCI6IFtcblx0XHRcdFwibHJjXCJcblx0XHRdLFxuXHRcdFwiYXV0aG9yXCI6IFwiV2Vpcm9uZyBYdSA8d2Vpcm9uZ3h1LnJhaWRvdUBnbWFpbC5jb20+XCIsXG5cdFx0XCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyXCIsXG5cdFx0XCJyZXBvc2l0b3J5XCI6IHtcblx0XHRcdFwidHlwZVwiOiBcImdpdFwiLFxuXHRcdFx0XCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlci5naXRcIlxuXHRcdH0sXG5cdFx0XCJvbmxpbmVQYWdlXCI6IFwiaHR0cHM6Ly93ZWlyb25neHUuZ2l0aHViLmlvL2xyYy1tYWtlci9cIixcblx0XHRcImJ1Z3NcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlci9pc3N1ZXNcIixcblx0XHRcImxpY2Vuc2VcIjogXCJNSVRcIixcblx0XHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XHRcImF1dG9wcmVmaXhlclwiOiBcIl42LjUuM1wiLFxuXHRcdFx0XCJiYWJlbC1jb3JlXCI6IFwiXjYuNy42XCIsXG5cdFx0XHRcImJhYmVsLWVzbGludFwiOiBcIl43LjEuMVwiLFxuXHRcdFx0XCJiYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wc1wiOiBcIl4yLjAuMlwiLFxuXHRcdFx0XCJiYWJlbC1sb2FkZXJcIjogXCJeNi4yLjhcIixcblx0XHRcdFwiYmFiZWwtcGx1Z2luLXN5bnRheC1qc3hcIjogXCJeNi4xOC4wXCIsXG5cdFx0XHRcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tdnVlLWpzeFwiOiBcIl4zLjIuMFwiLFxuXHRcdFx0XCJiYWJlbC1wcmVzZXQtbGF0ZXN0XCI6IFwiXjYuMTYuMFwiLFxuXHRcdFx0XCJiYWJlbC1wcmVzZXQtc3RhZ2UtMFwiOiBcIl42LjE2LjBcIixcblx0XHRcdFwiY3NzLWxvYWRlclwiOiBcIl4wLjI2LjBcIixcblx0XHRcdFwiZXNsaW50XCI6IFwiXjMuMTAuMlwiLFxuXHRcdFx0XCJlc2xpbnQtbG9hZGVyXCI6IFwiXjEuMy4wXCIsXG5cdFx0XHRcImVzbGludC1wbHVnaW4taHRtbFwiOiBcIl4xLjcuMFwiLFxuXHRcdFx0XCJmaWxlLWxvYWRlclwiOiBcIl4wLjkuMFwiLFxuXHRcdFx0XCJnaC1wYWdlc1wiOiBcIl4wLjEyLjBcIixcblx0XHRcdFwianNvbi1sb2FkZXJcIjogXCJeMC41LjRcIixcblx0XHRcdFwibm9kZS1zYXNzXCI6IFwiXjMuMTMuMFwiLFxuXHRcdFx0XCJyZXNvbHZlLXVybC1sb2FkZXJcIjogXCJeMS42LjBcIixcblx0XHRcdFwic2Fzcy1sb2FkZXJcIjogXCJeNC4wLjJcIixcblx0XHRcdFwidXJsLWxvYWRlclwiOiBcIl4wLjUuN1wiLFxuXHRcdFx0XCJ2dWUtbG9hZGVyXCI6IFwiXjEwLjAuMVwiLFxuXHRcdFx0XCJ2dWUtdGVtcGxhdGUtY29tcGlsZXJcIjogXCJeMi4xLjNcIixcblx0XHRcdFwid2VicGFja1wiOiBcIl4xLjEyLjE1XCIsXG5cdFx0XHRcIndlYnBhY2stZGV2LXNlcnZlclwiOiBcIl4xLjE0LjFcIixcblx0XHRcdFwieWFtbC1sb2FkZXJcIjogXCJeMC40LjBcIlxuXHRcdH0sXG5cdFx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFx0XCJjbG9uZVwiOiBcIl4yLjEuMFwiLFxuXHRcdFx0XCJldmVudGVtaXR0ZXIyXCI6IFwiXjIuMi4xXCIsXG5cdFx0XHRcImV4dGVuZFwiOiBcIl4zLjAuMFwiLFxuXHRcdFx0XCJmaWxlc2F2ZXIuanNcIjogXCJeMC4yLjBcIixcblx0XHRcdFwibHJjLWtpdFwiOiBcIl4wLjIuMFwiLFxuXHRcdFx0XCJ1bmlkcmFnZ2VyXCI6IFwiXjIuMS4wXCIsXG5cdFx0XHRcInZ1ZVwiOiBcIl4yLjEuM1wiLFxuXHRcdFx0XCJ2dWUtaTE4blwiOiBcIl40LjcuM1wiXG5cdFx0fVxuXHR9O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImhlbHBcIlxuXHQgIH0sIFtfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykpXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnRpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3VsJywgW192bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wubGVmdF9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmJhY2t3YXJkJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnJpZ2h0X2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wuZm9yd2FyZCcpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndWwnLCBbX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnVwX2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5wcmV2X2x5cmljJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMuZG93bl9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMubmV4dF9seXJpYycpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImxpbmtcIlxuXHQgIH0sIFtfdm0uX2goJ2EnLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImhyZWZcIjogX3ZtLlBLRy5ob21lcGFnZSxcblx0ICAgICAgXCJ0YXJnZXRcIjogXCJfYmxhbmtcIlxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnNvdXJjZV9jb2RlJykpICsgXCI6IGdpdGh1YlwiXSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA4NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF91cGxvYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBsb2FkKTtcblx0XG5cdHZhciBfbHJjS2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnRpdGxlJyksXG5cdCAgICAgIGx5cmljOiAnJyxcblx0ICAgICAgY29uZmlybTogdHJ1ZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMubHlyaWMgPSAkQXBwLmxyY0Zvcm1hdDtcblx0ICAgIHRoaXMuJG9uKCdvaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJEFwcC5scmNGb3JtYXQgPSBfdGhpcy5seXJpYztcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGx5cmljKSB7XG5cdCAgICAgIHRoaXMubHlyaWMgPSBseXJpYztcblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICBseXJpYzogZnVuY3Rpb24gbHlyaWModmFsKSB7fVxuXHQgIH0sXG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgVXBsb2FkOiBfdXBsb2FkMi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ3AnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQuZGVzY3JpcHRpb24nKSldKSwgXCIgXCIsIF92bS5faCgndGV4dGFyZWEnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICB2YWx1ZTogKF92bS5seXJpYyksXG5cdCAgICAgIGV4cHJlc3Npb246IFwibHlyaWNcIlxuXHQgICAgfV0sXG5cdCAgICBkb21Qcm9wczoge1xuXHQgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWMpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgX3ZtLmx5cmljID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSksIFwiIFwiLCBfdm0uX2goJ3VwbG9hZCcsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJ1cGxvYWRlZFwiOiBfdm0udXBsb2FkXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTApXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX3VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGxvYWQpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmx5cmljX3VwbG9hZC50aXRsZScpLFxuXHQgICAgICBseXJpYzogX2NhY2hlMi5kZWZhdWx0Lmx5cmljLFxuXHQgICAgICBjb25maXJtOiB0cnVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy4kb24oJ29rJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAkQXBwLmx5cmljQXJyYXkgPSBfdGhpcy5seXJpYy5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQobHlyaWMpIHtcblx0ICAgICAgdGhpcy5seXJpYyA9IGx5cmljO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgd2F0Y2g6IHtcblx0ICAgIGx5cmljOiBmdW5jdGlvbiBseXJpYyh2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0Lmx5cmljID0gdmFsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgVXBsb2FkOiBfdXBsb2FkMi5kZWZhdWx0XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ3AnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHlyaWNfdXBsb2FkLmRlc2NyaXB0aW9uJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgdmFsdWU6IChfdm0ubHlyaWMpLFxuXHQgICAgICBleHByZXNzaW9uOiBcImx5cmljXCJcblx0ICAgIH1dLFxuXHQgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgIF92bS5seXJpYyA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pLCBcIiBcIiwgX3ZtLl9oKCd1cGxvYWQnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwidXBsb2FkZWRcIjogX3ZtLnVwbG9hZFxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5seXJpY191cGxvYWQudXBsb2FkJykpXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Milcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mylcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHR2YXIgX3BhY2thZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblx0XG5cdHZhciBfcGFja2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWNrYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHRpdGxlOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUudGl0bGUnKSxcblx0ICAgICAgbHlyaWM6ICcnLFxuXHQgICAgICB1c2VyTmFtZTogX2NhY2hlMi5kZWZhdWx0LnVzZXJOYW1lLFxuXHQgICAgICBzYXZlT3B0aW9uczoge1xuXHQgICAgICAgIGNvbWJpbmU6IHRydWUsXG5cdCAgICAgICAgbGluZUZvcm1hdDogJ1xcclxcbicsXG5cdCAgICAgICAgc29ydDogdHJ1ZVxuXHQgICAgICB9LFxuXHQgICAgICBpbmZvRmllbGRzOiBbe1xuXHQgICAgICAgIGtleTogJ3RpJyxcblx0ICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25nX3RpdGxlJylcblx0ICAgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FyJyxcblx0ICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5hcnRpc3QnKVxuXHQgICAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYWwnLFxuXHQgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmFsYnVtJylcblx0ICAgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2F1Jyxcblx0ICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25ndGV4dF9jcmVhdG9yJylcblx0ICAgICAgfV1cblx0ICAgIH07XG5cdCAgfSxcblx0ICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuXHQgICAgdGhpcy5ydW5uZXIgPSAkQXBwLnJ1bm5lcjtcblx0ICAgIHZhciBwbGF5ZXIgPSAkQXBwLiRyZWZzLnBsYXllcjtcblx0XG5cdCAgICB0aGlzLnJ1bm5lci5scmMuaW5mby5yZSA9IF9wYWNrYWdlMi5kZWZhdWx0Lm5hbWUgKyAnICgnICsgX3BhY2thZ2UyLmRlZmF1bHQub25saW5lUGFnZSArICcpJztcblx0ICAgIHRoaXMucnVubmVyLmxyYy5pbmZvLnZlID0gX3BhY2thZ2UyLmRlZmF1bHQudmVyc2lvbjtcblx0XG5cdCAgICBpZiAocGxheWVyLmR1cmF0aW9uKSB0aGlzLnJ1bm5lci5scmMuaW5mby5sZW5ndGggPSAoMCwgX3V0aWxzLnRpbWVzdGFtcDJ0aW1lc3RyKShwbGF5ZXIuZHVyYXRpb24pO1xuXHQgICAgaWYgKHRoaXMudXNlck5hbWUpIHRoaXMucnVubmVyLmxyYy5pbmZvLmJ5ID0gdGhpcy51c2VyTmFtZTtcblx0XG5cdCAgICB0aGlzLmx5cmljVXBkYXRlKCk7XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcblx0ICAgICAgKDAsIF91dGlscy5zYXZlTHJjKSh0aGlzLnJ1bm5lci5scmMudG9TdHJpbmcodGhpcy5zYXZlT3B0aW9ucyksIHRoaXMucnVubmVyLmxyYy5pbmZvLnRpIHx8ICdseXJpYycpO1xuXHQgICAgfSxcblx0ICAgIGx5cmljVXBkYXRlOiBmdW5jdGlvbiBseXJpY1VwZGF0ZSgpIHtcblx0ICAgICAgdGhpcy5seXJpYyA9IHRoaXMucnVubmVyLmxyYy50b1N0cmluZyh0aGlzLnNhdmVPcHRpb25zKTtcblx0ICAgIH0sXG5cdCAgICBjbGVhbkVtcHR5SW5mbzogZnVuY3Rpb24gY2xlYW5FbXB0eUluZm8oKSB7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnJ1bm5lci5scmMuaW5mbykge1xuXHQgICAgICAgIGlmICh0aGlzLnJ1bm5lci5scmMuaW5mb1trZXldLmxlbmd0aCA9PSAwKSB7XG5cdCAgICAgICAgICBkZWxldGUgdGhpcy5ydW5uZXIubHJjLmluZm9ba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICB1c2VyTmFtZTogZnVuY3Rpb24gdXNlck5hbWUobmFtZSkge1xuXHQgICAgICB0aGlzLiRzZXQodGhpcy5ydW5uZXIsICdydW5uZXIubHJjLmluZm8uYnknLCBuYW1lKTtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LnVzZXJOYW1lID0gbmFtZTtcblx0ICAgIH0sXG5cdCAgICBseXJpYzogZnVuY3Rpb24gbHlyaWMoKSB7XG5cdCAgICAgICRBcHAubHJjRm9ybWF0ID0gdGhpcy5seXJpYztcblx0ICAgIH0sXG5cdFxuXHQgICAgc2F2ZU9wdGlvbnM6IHtcblx0ICAgICAgZGVlcDogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICB0aGlzLmx5cmljVXBkYXRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICAncnVubmVyLmxyYy5pbmZvJzoge1xuXHQgICAgICBkZWVwOiB0cnVlLFxuXHQgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuXHQgICAgICAgIHRoaXMuY2xlYW5FbXB0eUluZm8oKTtcblx0ICAgICAgICB0aGlzLmx5cmljVXBkYXRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmluZm9fdGl0bGUnKSldKSwgXCIgXCIsIF92bS5fbCgoX3ZtLmluZm9GaWVsZHMpLCBmdW5jdGlvbihmaWVsZCkge1xuXHQgICAgcmV0dXJuIChmaWVsZC5sYWJlbCkgPyBfdm0uX2goJ2RpdicsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1ncm91cFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsYWJlbCcsIHtcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcImZvclwiOiAnaW5mby0nICsgZmllbGQua2V5XG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ0ZXh0Q29udGVudFwiOiBfdm0uX3MoZmllbGQubGFiZWwpXG5cdCAgICAgIH1cblx0ICAgIH0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChfdm0ucnVubmVyLmxyYy5pbmZvW2ZpZWxkLmtleV0pLFxuXHQgICAgICAgIGV4cHJlc3Npb246IFwicnVubmVyLmxyYy5pbmZvW2ZpZWxkLmtleV1cIlxuXHQgICAgICB9XSxcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcImlkXCI6ICdpbmZvLScgKyBmaWVsZC5rZXksXG5cdCAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLnJ1bm5lci5scmMuaW5mb1tmaWVsZC5rZXldKVxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICB2YXIgJCRleHAgPSBfdm0ucnVubmVyLmxyYy5pbmZvLFxuXHQgICAgICAgICAgICAkJGlkeCA9IGZpZWxkLmtleTtcblx0ICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgkJGV4cCkpIHtcblx0ICAgICAgICAgICAgX3ZtLnJ1bm5lci5scmMuaW5mb1tmaWVsZC5rZXldID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgJCRleHAuc3BsaWNlKCQkaWR4LCAxLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSldKSA6IF92bS5fZSgpXG5cdCAgfSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tZ3JvdXBcIlxuXHQgIH0sIFtfdm0uX2goJ2xhYmVsJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJmb3JcIjogXCJpbmZvLWJ5XCJcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5scmNfY3JlYXRvcicpKV0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLnVzZXJOYW1lKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJ1c2VyTmFtZVwiXG5cdCAgICB9XSxcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiaWRcIjogXCJpbmZvLWJ5XCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuXHQgICAgfSxcblx0ICAgIGRvbVByb3BzOiB7XG5cdCAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS51c2VyTmFtZSlcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICBfdm0udXNlck5hbWUgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuc2F2ZV90aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIFtfdm0uX3MoX3ZtLmx5cmljKV0pLCBcIiBcIiwgX3ZtLl9oKCdsYWJlbCcsIFtcIlxcbiAgICBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5jb21iaW5lJykpICsgXCJcXG4gICAgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuXHQgICAgICB2YWx1ZTogKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJzYXZlT3B0aW9ucy5jb21iaW5lXCJcblx0ICAgIH1dLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0eXBlXCI6IFwiY2hlY2tib3hcIlxuXHQgICAgfSxcblx0ICAgIGRvbVByb3BzOiB7XG5cdCAgICAgIFwiY2hlY2tlZFwiOiBBcnJheS5pc0FycmF5KF92bS5zYXZlT3B0aW9ucy5jb21iaW5lKSA/IF92bS5faShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSwgbnVsbCkgPiAtMSA6IF92bS5fcShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSwgdHJ1ZSlcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNoYW5nZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICB2YXIgJCRhID0gX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsXG5cdCAgICAgICAgICAkJGVsID0gJGV2ZW50LnRhcmdldCxcblx0ICAgICAgICAgICQkYyA9ICQkZWwuY2hlY2tlZCA/ICh0cnVlKSA6IChmYWxzZSk7XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoJCRhKSkge1xuXHQgICAgICAgICAgdmFyICQkdiA9IG51bGwsXG5cdCAgICAgICAgICAgICQkaSA9IF92bS5faSgkJGEsICQkdik7XG5cdCAgICAgICAgICBpZiAoJCRjKSB7XG5cdCAgICAgICAgICAgICQkaSA8IDAgJiYgKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRhLmNvbmNhdCgkJHYpKVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgJCRpID4gLTEgJiYgKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRhLnNsaWNlKDAsICQkaSkuY29uY2F0KCQkYS5zbGljZSgkJGkgKyAxKSkpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRjXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5zYXZlXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tZG93bmxvYWRcIlxuXHQgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5kb3dubG9hZCcpKSArIFwiXFxuICBcIl0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIGNsYXNzOiB7XG5cdCAgICAgIGNvdmVyOiBfdm0uY292ZXJTaG93XG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgndHJhbnNpdGlvbicsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwibmFtZVwiOiBcIm1vZGFsXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImFmdGVyLWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS5jb3ZlclNob3cgPSBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0uaXNTaG93KSA/IF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibW9kYWxcIixcblx0ICAgIGNsYXNzOiBbX3ZtLnNpemVdLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJoZWFkZXJcIlxuXHQgIH0sIFtcIlxcbiAgICAgICAgXCIgKyBfdm0uX3MoX3ZtLnRpdGxlKSArIFwiXFxuICAgICAgICBcIiwgX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuXHQgICAgfVxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJvZHlcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJtb2RhbFdyYXBwZXJcIlxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImZvb3RlclwiXG5cdCAgfSwgWyhfdm0uY29uZmlybSkgPyBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1ncm91cFwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5va1xuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5idXR0b24ub2snKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuYnV0dG9uLmNhbmNlbCcpKV0pXSkgOiBfdm0uX2UoKV0pXSkgOiBfdm0uX2UoKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogOTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oOTYpXG5cdF9fd2VicGFja19yZXF1aXJlX18oOTgpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTUxZWFjMDZiXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDk2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50YXJnZXRbZGF0YS12LTUxZWFjMDZiXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjotOHB4O3BhZGRpbmc6OHB4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDk4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5uYXYtbWVudSAud3JhcHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjRweCA0cHggM3B4IC0ycHggI2NjY30ubmF2LW1lbnUgLndyYXAgdWx7bGlzdC1zdHlsZS10eXBlOm5vbmU7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6IzBkNDg4NH0ubmF2LW1lbnUgLndyYXAgdWwgbGl7cGFkZGluZzowIDVweDtjdXJzb3I6cG9pbnRlcjtsaW5lLWhlaWdodDozMHB4O2ZvbnQtc2l6ZToxMnB4fS5uYXYtbWVudSAud3JhcCB1bCBsaTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMwODJmNTZ9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgZGlyOiBmYWxzZSxcblx0ICAgICAgc3R5bGU6IHtcblx0ICAgICAgICB0b3A6IDAsXG5cdCAgICAgICAgbGVmdDogMFxuXHQgICAgICB9LFxuXHQgICAgICBzaG93OiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBwcm9wczoge1xuXHQgICAgZW50ZXJEZWxheToge1xuXHQgICAgICB0eXBlOiBOdW1iZXIsXG5cdCAgICAgIGRlZmF1bHQ6IDAuMVxuXHQgICAgfSxcblx0ICAgIGxlYXZlRGVsYXk6IHtcblx0ICAgICAgdHlwZTogTnVtYmVyLFxuXHQgICAgICBkZWZhdWx0OiAwLjVcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBtZW51ID0gdGhpcy4kcmVmcy5tZW51O1xuXHQgICAgdmFyIGRob3ZlciA9IG5ldyBfdXRpbHMuRGVsYXlIb3ZlcihtZW51LCB7XG5cdCAgICAgIGVudGVyRGVsYXk6IHRoaXMuZW50ZXJEZWxheSxcblx0ICAgICAgbGVhdmVEZWxheTogdGhpcy5sZWF2ZURlbGF5XG5cdCAgICB9KTtcblx0ICAgIGRob3Zlci5ob3ZlcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnNob3cgPSB0cnVlO1xuXHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgcGFyZW50ID0gdGhpcy4kZWw7XG5cdCAgICB0aGlzLnN0eWxlLnRvcCA9IHBhcmVudC5zdHlsZS5jbGllbnRIZWlnaHQ7XG5cdCAgfVxuXHR9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogMTAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICByZWY6IFwibWVudVwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwibmF2LW1lbnVcIlxuXHQgIH0sIFtfdm0uX2goJ3NwYW4nLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJ0YXJnZXRcIlxuXHQgIH0sIFtfdm0uX3QoXCJ0YXJnZXRcIildKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJzaG93XCIsXG5cdCAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLnNob3cpLFxuXHQgICAgICBleHByZXNzaW9uOiBcInNob3dcIlxuXHQgICAgfV0sXG5cdCAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG5cdCAgICBzdHlsZTogKF92bS5zdHlsZSlcblx0ICB9LCBbX3ZtLl90KFwibGlzdFwiKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJhcHBcIlxuXHQgIH0sIFtfdm0uX2goJ2hlYWRlcicsIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImxlZnRcIlxuXHQgIH0sIFtfdm0uX2goJ25hdi1tZW51Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLnVwbG9hZCcpXG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc2xvdDogXCJ0YXJnZXRcIlxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG5cdCAgICBzbG90OiBcImxpc3RcIlxuXHQgIH0sIFtfdm0uX2goJ2xpJywge1xuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2xyYy1mb3JtYXQtdXBsb2FkJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG5cdCAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubHJjJykpICsgXCJcXG4gICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHlyaWMtdXBsb2FkJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG5cdCAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubHlyaWMnKSkgKyBcIlxcbiAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3VwbG9hZCcsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiYWNjZXB0XCI6IFwiYXVkaW8vKlwiLFxuXHQgICAgICBcInJlYWQtZm9ybWF0XCI6IFwiRGF0YVVSTFwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJ1cGxvYWRlZFwiOiBfdm0udXBsb2FkTXVzaWNcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubXVzaWMnKSldKV0pXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLnNhdmUnKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdscmMtc2F2ZScpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1zYXZlXCJcblx0ICB9KV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInJpZ2h0XCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogX3ZtLmVkaXRpbmcgPyBfdm0uJHQoJ2J1dHRvbi5jbG9zZV9lZGl0JykgOiBfdm0uJHQoJ2J1dHRvbi5vcGVuX2VkaXQnKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLmVkaXRpbmcgPSAhX3ZtLmVkaXRpbmdcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFsoX3ZtLmVkaXRpbmcpID8gW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCJcblx0ICB9KV0gOiBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcblx0ICB9KV0sIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi5oZWxwJylcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnaGVscCcpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1oZWxwLWNpcmNsZWRcIlxuXHQgIH0pXSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdwbGF5ZXInLCB7XG5cdCAgICByZWY6IFwicGxheWVyXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInNyY1wiOiBfdm0ubXVzaWNVcmxcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcInRpbWV1cGRhdGVcIjogX3ZtLnRpbWV1cGRhdGVcblx0ICAgIH1cblx0ICB9KSwgXCIgXCIsIF92bS5faCgnbHlyaWMtZWRpdG9yJywge1xuXHQgICAgcmVmOiBcImx5cmljXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJseXJpYy1lZGl0b3JcIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiZWRpdGluZ1wiOiBfdm0uZWRpdGluZyxcblx0ICAgICAgXCJydW5uZXJcIjogX3ZtLnJ1bm5lcixcblx0ICAgICAgXCJseXJpYy1hcnJheVwiOiBfdm0ubHlyaWNBcnJheSxcblx0ICAgICAgXCJwbGF5dG9cIjogX3ZtLnBsYXl0b1xuXHQgICAgfVxuXHQgIH0sIFtcIlxcbiAgICBseXJpYyBlZGl0b3JcXG4gIFwiXSksIFwiIFwiLCBfdm0uX2goJ2Zvb3RlcicsIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImxlZnRcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0ucmVtb3ZlTHlyaWNcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG5cdCAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnYnV0dG9uLnJlbW92ZV9seXJpYycpKSArIFwiXFxuICAgICAgXCJdKV0pLCBcIiBcIiwgKF92bS5lZGl0aW5nKSA/IF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwicmlnaHRcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBcIltVUF1cIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLmx5cmljLiRlbWl0KCdwcmV2bHlyaWMnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ2J1dHRvbi5wcmV2X2x5cmljJykpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBcIltET1dOXVwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubHlyaWMuJGVtaXQoJ25leHRseXJpYycpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnYnV0dG9uLm5leHRfbHlyaWMnKSldKV0pIDogX3ZtLl9lKCldKSwgXCIgXCIsIF92bS5faCgnbW9kYWxzJywge1xuXHQgICAgcmVmOiBcIm1vZGFsc1wiXG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiAxMDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdnVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfdnVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Z1ZSk7XG5cdFxuXHR2YXIgX3Z1ZUkxOG4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cdFxuXHR2YXIgX3Z1ZUkxOG4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlSTE4bik7XG5cdFxuXHR2YXIgX2xvY2FsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSk7XG5cdFxuXHR2YXIgX2xvY2FsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9jYWxlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGxhbmcgPSAobmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHwgJ2VuJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0XG5cdGlmICghKGxhbmcgaW4gX2xvY2FsZXMyLmRlZmF1bHQpKSB7XG5cdCAgaWYgKGxhbmcuaW5kZXhPZignLScpID49IDApIHtcblx0ICAgIGxhbmcgPSBsYW5nLnNwbGl0KCctJylbMF07XG5cdCAgfVxuXHR9XG5cdFxuXHRfdnVlMi5kZWZhdWx0LnVzZShfdnVlSTE4bjIuZGVmYXVsdCk7XG5cdFxuXHRfdnVlMi5kZWZhdWx0LmNvbmZpZy5sYW5nID0gbGFuZztcblx0X3Z1ZTIuZGVmYXVsdC5sb2NhbGUobGFuZywgX2xvY2FsZXMyLmRlZmF1bHRbbGFuZ10pO1xuXG4vKioqLyB9LFxuLyogMTA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qIVxuXHQgKiB2dWUtaTE4biB2NC43LjNcblx0ICogKGMpIDIwMTYga2F6dXlhIGthd2FndWNoaVxuXHQgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYmFiZWxIZWxwZXJzID0ge307XG5cdGJhYmVsSGVscGVycy50eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gdHlwZW9mIG9iajtcblx0fSA6IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuXHR9O1xuXHRiYWJlbEhlbHBlcnM7XG5cdFxuXHQvKipcblx0ICogd2FyblxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbXNnXG5cdCAqIEBwYXJhbSB7RXJyb3J9IFtlcnJdXG5cdCAqXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gd2Fybihtc2csIGVycikge1xuXHQgIGlmICh3aW5kb3cuY29uc29sZSkge1xuXHQgICAgY29uc29sZS53YXJuKCdbdnVlLWkxOG5dICcgKyBtc2cpO1xuXHQgICAgaWYgKGVycikge1xuXHQgICAgICBjb25zb2xlLndhcm4oZXJyLnN0YWNrKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEFzc2V0IChWdWUsIGxhbmdWTSkge1xuXHQgIC8qKlxuXHQgICAqIFJlZ2lzdGVyIG9yIHJldHJpZXZlIGEgZ2xvYmFsIGxvY2FsZSBkZWZpbml0aW9uLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGlkXG5cdCAgICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IFByb21pc2V9IGRlZmluaXRpb25cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuXHQgICAqL1xuXHRcblx0ICBWdWUubG9jYWxlID0gZnVuY3Rpb24gKGlkLCBkZWZpbml0aW9uLCBjYikge1xuXHQgICAgaWYgKGRlZmluaXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAvLyBnZXR0dGVyXG5cdCAgICAgIHJldHVybiBsYW5nVk0ubG9jYWxlc1tpZF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBzZXR0ZXJcblx0ICAgICAgaWYgKGRlZmluaXRpb24gPT09IG51bGwpIHtcblx0ICAgICAgICBsYW5nVk0ubG9jYWxlc1tpZF0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgZGVsZXRlIGxhbmdWTS5sb2NhbGVzW2lkXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzZXRMb2NhbGUoaWQsIGRlZmluaXRpb24sIGZ1bmN0aW9uIChsb2NhbGUpIHtcblx0ICAgICAgICAgIGlmIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgbGFuZ1ZNLmxvY2FsZXNbaWRdID0gbG9jYWxlO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgd2FybignZmFpbGVkIHNldCBgJyArIGlkICsgJ2AgbG9jYWxlJyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBjYiAmJiBjYigpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TG9jYWxlKGlkLCBkZWZpbml0aW9uLCBjYikge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIGlmICgodHlwZW9mIGRlZmluaXRpb24gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBiYWJlbEhlbHBlcnMudHlwZW9mKGRlZmluaXRpb24pKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIHN5bmNcblx0ICAgIGNiKGRlZmluaXRpb24pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgZnV0dXJlID0gZGVmaW5pdGlvbi5jYWxsKF90aGlzKTtcblx0ICAgICAgaWYgKHR5cGVvZiBmdXR1cmUgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBpZiAoZnV0dXJlLnJlc29sdmVkKSB7XG5cdCAgICAgICAgICAvLyBjYWNoZWRcblx0ICAgICAgICAgIGNiKGZ1dHVyZS5yZXNvbHZlZCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChmdXR1cmUucmVxdWVzdGVkKSB7XG5cdCAgICAgICAgICAvLyBwb29sIGNhbGxiYWNrc1xuXHQgICAgICAgICAgZnV0dXJlLnBlbmRpbmdDYWxsYmFja3MucHVzaChjYik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGZ1dHVyZS5yZXF1ZXN0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgY2JzID0gZnV0dXJlLnBlbmRpbmdDYWxsYmFja3MgPSBbY2JdO1xuXHQgICAgICAgICAgICBmdXR1cmUoZnVuY3Rpb24gKGxvY2FsZSkge1xuXHQgICAgICAgICAgICAgIC8vIHJlc29sdmVcblx0ICAgICAgICAgICAgICBmdXR1cmUucmVzb2x2ZWQgPSBsb2NhbGU7XG5cdCAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBjYnNbaV0obG9jYWxlKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAvLyByZWplY3Rcblx0ICAgICAgICAgICAgICBjYigpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShmdXR1cmUpKSB7XG5cdCAgICAgICAgLy8gcHJvbWlzZVxuXHQgICAgICAgIGZ1dHVyZS50aGVuKGZ1bmN0aW9uIChsb2NhbGUpIHtcblx0ICAgICAgICAgIC8vIHJlc29sdmVcblx0ICAgICAgICAgIGNiKGxvY2FsZSk7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgLy8gcmVqZWN0XG5cdCAgICAgICAgICBjYigpO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0ICAgICAgICAgIGNiKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pKCk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogRm9yZ2l2aW5nIGNoZWNrIGZvciBhIHByb21pc2Vcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHBcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBpc1Byb21pc2UocCkge1xuXHQgIHJldHVybiBwICYmIHR5cGVvZiBwLnRoZW4gPT09ICdmdW5jdGlvbic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIE92ZXJyaWRlIChWdWUsIGxhbmdWTSwgdmVyc2lvbikge1xuXHQgIGZ1bmN0aW9uIHVwZGF0ZSh2bSkge1xuXHQgICAgaWYgKHZlcnNpb24gPiAxKSB7XG5cdCAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGkgPSB2bS5fd2F0Y2hlcnMubGVuZ3RoO1xuXHQgICAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgICAgdm0uX3dhdGNoZXJzW2ldLnVwZGF0ZSh0cnVlKTsgLy8gc2hhbGxvdyB1cGRhdGVzXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIG92ZXJyaWRlIF9pbml0XG5cdCAgdmFyIGluaXQgPSBWdWUucHJvdG90eXBlLl9pbml0O1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICBpbml0LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdFxuXHQgICAgaWYgKCF0aGlzLiRwYXJlbnQpIHtcblx0ICAgICAgLy8gcm9vdFxuXHQgICAgICB0aGlzLiRsYW5nID0gbGFuZ1ZNO1xuXHQgICAgICB0aGlzLl9sYW5nVW53YXRjaCA9IHRoaXMuJGxhbmcuJHdhdGNoKCckZGF0YScsIGZ1bmN0aW9uICh2YWwsIG9sZCkge1xuXHQgICAgICAgIHVwZGF0ZShfdGhpcyk7XG5cdCAgICAgIH0sIHsgZGVlcDogdHJ1ZSB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyBvdmVycmlkZSBfZGVzdHJveVxuXHQgIHZhciBkZXN0cm95ID0gVnVlLnByb3RvdHlwZS5fZGVzdHJveTtcblx0ICBWdWUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF0aGlzLiRwYXJlbnQgJiYgdGhpcy5fbGFuZ1Vud2F0Y2gpIHtcblx0ICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2goKTtcblx0ICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSBudWxsO1xuXHQgICAgICB0aGlzLiRsYW5nID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBkZXN0cm95LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIE9ic2VydmVyXG5cdCAqL1xuXHRcblx0dmFyIFdhdGNoZXIgPSB2b2lkIDA7XG5cdC8qKlxuXHQgKiBnZXRXYXRjaGVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7VnVlfSB2bVxuXHQgKiBAcmV0dXJuIHtXYXRjaGVyfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGdldFdhdGNoZXIodm0pIHtcblx0ICBpZiAoIVdhdGNoZXIpIHtcblx0ICAgIHZhciB1bndhdGNoID0gdm0uJHdhdGNoKCdfX3dhdGNoZXJfXycsIGZ1bmN0aW9uIChhKSB7fSk7XG5cdCAgICBXYXRjaGVyID0gdm0uX3dhdGNoZXJzWzBdLmNvbnN0cnVjdG9yO1xuXHQgICAgdW53YXRjaCgpO1xuXHQgIH1cblx0ICByZXR1cm4gV2F0Y2hlcjtcblx0fVxuXHRcblx0dmFyIERlcCA9IHZvaWQgMDtcblx0LyoqXG5cdCAqIGdldERlcFxuXHQgKlxuXHQgKiBAcGFyYW0ge1Z1ZX0gdm1cblx0ICogQHJldHVybiB7RGVwfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGdldERlcCh2bSkge1xuXHQgIGlmICghRGVwICYmIHZtICYmIHZtLl9kYXRhICYmIHZtLl9kYXRhLl9fb2JfXyAmJiB2bS5fZGF0YS5fX29iX18uZGVwKSB7XG5cdCAgICBEZXAgPSB2bS5fZGF0YS5fX29iX18uZGVwLmNvbnN0cnVjdG9yO1xuXHQgIH1cblx0ICByZXR1cm4gRGVwO1xuXHR9XG5cdFxuXHR2YXIgZmFsbGJhY2sgPSB2b2lkIDA7IC8vIGZhbGxiYWNrIGxhbmdcblx0dmFyIG1pc3NpbmdIYW5kbGVyID0gbnVsbDsgLy8gbWlzc2luZyBoYW5kbGVyXG5cdHZhciBpMThuRm9ybWF0dGVyID0gbnVsbDsgLy8gY3VzdG9tIGZvcm1hdHRlclxuXHRcblx0ZnVuY3Rpb24gQ29uZmlnIChWdWUsIGxhbmdWTSwgbGFuZykge1xuXHQgIHZhciBiaW5kID0gVnVlLnV0aWwuYmluZDtcblx0XG5cdCAgdmFyIFdhdGNoZXIgPSBnZXRXYXRjaGVyKGxhbmdWTSk7XG5cdCAgdmFyIERlcCA9IGdldERlcChsYW5nVk0pO1xuXHRcblx0ICBmdW5jdGlvbiBtYWtlQ29tcHV0ZWRHZXR0ZXIoZ2V0dGVyLCBvd25lcikge1xuXHQgICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcihvd25lciwgZ2V0dGVyLCBudWxsLCB7XG5cdCAgICAgIGxhenk6IHRydWVcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiBjb21wdXRlZEdldHRlcigpIHtcblx0ICAgICAgd2F0Y2hlci5kaXJ0eSAmJiB3YXRjaGVyLmV2YWx1YXRlKCk7XG5cdCAgICAgIERlcCAmJiBEZXAudGFyZ2V0ICYmIHdhdGNoZXIuZGVwZW5kKCk7XG5cdCAgICAgIHJldHVybiB3YXRjaGVyLnZhbHVlO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlZmluZSBWdWUuY29uZmlnLmxhbmcgY29uZmlncmF0aW9uXG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdsYW5nJywge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogbWFrZUNvbXB1dGVkR2V0dGVyKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGxhbmdWTS5sYW5nO1xuXHQgICAgfSwgbGFuZ1ZNKSxcblx0ICAgIHNldDogYmluZChmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgIGxhbmdWTS5sYW5nID0gdmFsO1xuXHQgICAgfSwgbGFuZ1ZNKVxuXHQgIH0pO1xuXHRcblx0ICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5mYWxsYmFja0xhbmcgY29uZmlncmF0aW9uXG5cdCAgZmFsbGJhY2sgPSBsYW5nO1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnZmFsbGJhY2tMYW5nJywge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gZmFsbGJhY2s7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgIGZhbGxiYWNrID0gdmFsO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlciBjb25maWdyYXRpb25cblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ21pc3NpbmdIYW5kbGVyJywge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gbWlzc2luZ0hhbmRsZXI7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgIG1pc3NpbmdIYW5kbGVyID0gdmFsO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5pMThGb3JtYXR0ZXIgY29uZmlncmF0aW9uXG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdpMThuRm9ybWF0dGVyJywge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gaTE4bkZvcm1hdHRlcjtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcblx0ICAgICAgaTE4bkZvcm1hdHRlciA9IHZhbDtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHV0aWxpdGVzXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIGlzTmlsXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gdmFsXG5cdCAqIEByZXR1cm4gQm9vbGVhblxuXHQgKi9cblx0ZnVuY3Rpb24gaXNOaWwodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0LyoqXG5cdCAqICBTdHJpbmcgZm9ybWF0IHRlbXBsYXRlXG5cdCAqICAtIEluc3BpcmVkOlxuXHQgKiAgICBodHRwczovL2dpdGh1Yi5jb20vTWF0dC1Fc2NoL3N0cmluZy10ZW1wbGF0ZS9pbmRleC5qc1xuXHQgKi9cblx0XG5cdHZhciBSRV9OQVJHUyA9IC8oJXwpXFx7KFswLTlhLXpBLVpfXSspXFx9L2c7XG5cdFxuXHRmdW5jdGlvbiBGb3JtYXQgKFZ1ZSkge1xuXHQgIHZhciBoYXNPd24gPSBWdWUudXRpbC5oYXNPd247XG5cdFxuXHQgIC8qKlxuXHQgICAqIHRlbXBsYXRlXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG5cdCAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ31cblx0ICAgKi9cblx0XG5cdCAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGJhYmVsSGVscGVycy50eXBlb2YoYXJnc1swXSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYXJncyA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xuXHQgICAgICBhcmdzID0ge307XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKFJFX05BUkdTLCBmdW5jdGlvbiAobWF0Y2gsIHByZWZpeCwgaSwgaW5kZXgpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcblx0XG5cdCAgICAgIGlmIChzdHJpbmdbaW5kZXggLSAxXSA9PT0gJ3snICYmIHN0cmluZ1tpbmRleCArIG1hdGNoLmxlbmd0aF0gPT09ICd9Jykge1xuXHQgICAgICAgIHJldHVybiBpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc3VsdCA9IGhhc093bihhcmdzLCBpKSA/IGFyZ3NbaV0gOiBtYXRjaDtcblx0ICAgICAgICBpZiAoaXNOaWwocmVzdWx0KSkge1xuXHQgICAgICAgICAgcmV0dXJuICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGVtcGxhdGU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiAgUGF0aCBwYWVyc2VyXG5cdCAqICAtIEluc3BpcmVkOiAgXG5cdCAqICAgIFZ1ZS5qcyBQYXRoIHBhcnNlclxuXHQgKi9cblx0XG5cdC8vIGNhY2hlXG5cdHZhciBwYXRoQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcblx0Ly8gYWN0aW9uc1xuXHR2YXIgQVBQRU5EID0gMDtcblx0dmFyIFBVU0ggPSAxO1xuXHR2YXIgSU5DX1NVQl9QQVRIX0RFUFRIID0gMjtcblx0dmFyIFBVU0hfU1VCX1BBVEggPSAzO1xuXHRcblx0Ly8gc3RhdGVzXG5cdHZhciBCRUZPUkVfUEFUSCA9IDA7XG5cdHZhciBJTl9QQVRIID0gMTtcblx0dmFyIEJFRk9SRV9JREVOVCA9IDI7XG5cdHZhciBJTl9JREVOVCA9IDM7XG5cdHZhciBJTl9TVUJfUEFUSCA9IDQ7XG5cdHZhciBJTl9TSU5HTEVfUVVPVEUgPSA1O1xuXHR2YXIgSU5fRE9VQkxFX1FVT1RFID0gNjtcblx0dmFyIEFGVEVSX1BBVEggPSA3O1xuXHR2YXIgRVJST1IgPSA4O1xuXHRcblx0dmFyIHBhdGhTdGF0ZU1hY2hpbmUgPSBbXTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbQkVGT1JFX1BBVEhdID0ge1xuXHQgICd3cyc6IFtCRUZPUkVfUEFUSF0sXG5cdCAgJ2lkZW50JzogW0lOX0lERU5ULCBBUFBFTkRdLFxuXHQgICdbJzogW0lOX1NVQl9QQVRIXSxcblx0ICAnZW9mJzogW0FGVEVSX1BBVEhdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0lOX1BBVEhdID0ge1xuXHQgICd3cyc6IFtJTl9QQVRIXSxcblx0ICAnLic6IFtCRUZPUkVfSURFTlRdLFxuXHQgICdbJzogW0lOX1NVQl9QQVRIXSxcblx0ICAnZW9mJzogW0FGVEVSX1BBVEhdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9JREVOVF0gPSB7XG5cdCAgJ3dzJzogW0JFRk9SRV9JREVOVF0sXG5cdCAgJ2lkZW50JzogW0lOX0lERU5ULCBBUFBFTkRdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0lOX0lERU5UXSA9IHtcblx0ICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF0sXG5cdCAgJzAnOiBbSU5fSURFTlQsIEFQUEVORF0sXG5cdCAgJ251bWJlcic6IFtJTl9JREVOVCwgQVBQRU5EXSxcblx0ICAnd3MnOiBbSU5fUEFUSCwgUFVTSF0sXG5cdCAgJy4nOiBbQkVGT1JFX0lERU5ULCBQVVNIXSxcblx0ICAnWyc6IFtJTl9TVUJfUEFUSCwgUFVTSF0sXG5cdCAgJ2VvZic6IFtBRlRFUl9QQVRILCBQVVNIXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtJTl9TVUJfUEFUSF0gPSB7XG5cdCAgXCInXCI6IFtJTl9TSU5HTEVfUVVPVEUsIEFQUEVORF0sXG5cdCAgJ1wiJzogW0lOX0RPVUJMRV9RVU9URSwgQVBQRU5EXSxcblx0ICAnWyc6IFtJTl9TVUJfUEFUSCwgSU5DX1NVQl9QQVRIX0RFUFRIXSxcblx0ICAnXSc6IFtJTl9QQVRILCBQVVNIX1NVQl9QQVRIXSxcblx0ICAnZW9mJzogRVJST1IsXG5cdCAgJ2Vsc2UnOiBbSU5fU1VCX1BBVEgsIEFQUEVORF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbSU5fU0lOR0xFX1FVT1RFXSA9IHtcblx0ICBcIidcIjogW0lOX1NVQl9QQVRILCBBUFBFTkRdLFxuXHQgICdlb2YnOiBFUlJPUixcblx0ICAnZWxzZSc6IFtJTl9TSU5HTEVfUVVPVEUsIEFQUEVORF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbSU5fRE9VQkxFX1FVT1RFXSA9IHtcblx0ICAnXCInOiBbSU5fU1VCX1BBVEgsIEFQUEVORF0sXG5cdCAgJ2VvZic6IEVSUk9SLFxuXHQgICdlbHNlJzogW0lOX0RPVUJMRV9RVU9URSwgQVBQRU5EXVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIGFuIGV4cHJlc3Npb24gaXMgYSBsaXRlcmFsIHZhbHVlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXhwXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHRcblx0dmFyIGxpdGVyYWxWYWx1ZVJFID0gL15cXHM/KHRydWV8ZmFsc2V8LT9bXFxkLl0rfCdbXiddKid8XCJbXlwiXSpcIilcXHM/JC87XG5cdGZ1bmN0aW9uIGlzTGl0ZXJhbChleHApIHtcblx0ICByZXR1cm4gbGl0ZXJhbFZhbHVlUkUudGVzdChleHApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU3RyaXAgcXVvdGVzIGZyb20gYSBzdHJpbmdcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJuIHtTdHJpbmcgfCBmYWxzZX1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBzdHJpcFF1b3RlcyhzdHIpIHtcblx0ICB2YXIgYSA9IHN0ci5jaGFyQ29kZUF0KDApO1xuXHQgIHZhciBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xuXHQgIHJldHVybiBhID09PSBiICYmIChhID09PSAweDIyIHx8IGEgPT09IDB4MjcpID8gc3RyLnNsaWNlKDEsIC0xKSA6IHN0cjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSB0aGUgdHlwZSBvZiBhIGNoYXJhY3RlciBpbiBhIGtleXBhdGguXG5cdCAqXG5cdCAqIEBwYXJhbSB7Q2hhcn0gY2hcblx0ICogQHJldHVybiB7U3RyaW5nfSB0eXBlXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGNoKSB7XG5cdCAgaWYgKGNoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAnZW9mJztcblx0ICB9XG5cdFxuXHQgIHZhciBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblx0XG5cdCAgc3dpdGNoIChjb2RlKSB7XG5cdCAgICBjYXNlIDB4NUI6IC8vIFtcblx0ICAgIGNhc2UgMHg1RDogLy8gXVxuXHQgICAgY2FzZSAweDJFOiAvLyAuXG5cdCAgICBjYXNlIDB4MjI6IC8vIFwiXG5cdCAgICBjYXNlIDB4Mjc6IC8vICdcblx0ICAgIGNhc2UgMHgzMDpcblx0ICAgICAgLy8gMFxuXHQgICAgICByZXR1cm4gY2g7XG5cdFxuXHQgICAgY2FzZSAweDVGOiAvLyBfXG5cdCAgICBjYXNlIDB4MjQ6IC8vICRcblx0ICAgIGNhc2UgMHgyRDpcblx0ICAgICAgLy8gLVxuXHQgICAgICByZXR1cm4gJ2lkZW50Jztcblx0XG5cdCAgICBjYXNlIDB4MjA6IC8vIFNwYWNlXG5cdCAgICBjYXNlIDB4MDk6IC8vIFRhYlxuXHQgICAgY2FzZSAweDBBOiAvLyBOZXdsaW5lXG5cdCAgICBjYXNlIDB4MEQ6IC8vIFJldHVyblxuXHQgICAgY2FzZSAweEEwOiAvLyBOby1icmVhayBzcGFjZVxuXHQgICAgY2FzZSAweEZFRkY6IC8vIEJ5dGUgT3JkZXIgTWFya1xuXHQgICAgY2FzZSAweDIwMjg6IC8vIExpbmUgU2VwYXJhdG9yXG5cdCAgICBjYXNlIDB4MjAyOTpcblx0ICAgICAgLy8gUGFyYWdyYXBoIFNlcGFyYXRvclxuXHQgICAgICByZXR1cm4gJ3dzJztcblx0ICB9XG5cdFxuXHQgIC8vIGEteiwgQS1aXG5cdCAgaWYgKGNvZGUgPj0gMHg2MSAmJiBjb2RlIDw9IDB4N0EgfHwgY29kZSA+PSAweDQxICYmIGNvZGUgPD0gMHg1QSkge1xuXHQgICAgcmV0dXJuICdpZGVudCc7XG5cdCAgfVxuXHRcblx0ICAvLyAxLTlcblx0ICBpZiAoY29kZSA+PSAweDMxICYmIGNvZGUgPD0gMHgzOSkge1xuXHQgICAgcmV0dXJuICdudW1iZXInO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuICdlbHNlJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xuXHQgKiBhIGxpdGVyYWwgc3RyaW5nIG9yIG51bWJlci4gT3RoZXJ3aXNlIHByZXBlbmQgdGhlXG5cdCAqIGR5bmFtaWMgaW5kaWNhdG9yICgqKS5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdFN1YlBhdGgocGF0aCkge1xuXHQgIHZhciB0cmltbWVkID0gcGF0aC50cmltKCk7XG5cdCAgLy8gaW52YWxpZCBsZWFkaW5nIDBcblx0ICBpZiAocGF0aC5jaGFyQXQoMCkgPT09ICcwJyAmJiBpc05hTihwYXRoKSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGlzTGl0ZXJhbCh0cmltbWVkKSA/IHN0cmlwUXVvdGVzKHRyaW1tZWQpIDogJyonICsgdHJpbW1lZDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFBhcnNlIGEgc3RyaW5nIHBhdGggaW50byBhbiBhcnJheSBvZiBzZWdtZW50c1xuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuXHQgKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcGFyc2UocGF0aCkge1xuXHQgIHZhciBrZXlzID0gW107XG5cdCAgdmFyIGluZGV4ID0gLTE7XG5cdCAgdmFyIG1vZGUgPSBCRUZPUkVfUEFUSDtcblx0ICB2YXIgc3ViUGF0aERlcHRoID0gMDtcblx0ICB2YXIgYyA9IHZvaWQgMCxcblx0ICAgICAgbmV3Q2hhciA9IHZvaWQgMCxcblx0ICAgICAga2V5ID0gdm9pZCAwLFxuXHQgICAgICB0eXBlID0gdm9pZCAwLFxuXHQgICAgICB0cmFuc2l0aW9uID0gdm9pZCAwLFxuXHQgICAgICBhY3Rpb24gPSB2b2lkIDAsXG5cdCAgICAgIHR5cGVNYXAgPSB2b2lkIDA7XG5cdFxuXHQgIHZhciBhY3Rpb25zID0gW107XG5cdFxuXHQgIGFjdGlvbnNbUFVTSF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAga2V5cy5wdXNoKGtleSk7XG5cdCAgICAgIGtleSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhY3Rpb25zW0FQUEVORF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAga2V5ID0gbmV3Q2hhcjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGtleSArPSBuZXdDaGFyO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFjdGlvbnNbSU5DX1NVQl9QQVRIX0RFUFRIXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGFjdGlvbnNbQVBQRU5EXSgpO1xuXHQgICAgc3ViUGF0aERlcHRoKys7XG5cdCAgfTtcblx0XG5cdCAgYWN0aW9uc1tQVVNIX1NVQl9QQVRIXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChzdWJQYXRoRGVwdGggPiAwKSB7XG5cdCAgICAgIHN1YlBhdGhEZXB0aC0tO1xuXHQgICAgICBtb2RlID0gSU5fU1VCX1BBVEg7XG5cdCAgICAgIGFjdGlvbnNbQVBQRU5EXSgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc3ViUGF0aERlcHRoID0gMDtcblx0ICAgICAga2V5ID0gZm9ybWF0U3ViUGF0aChrZXkpO1xuXHQgICAgICBpZiAoa2V5ID09PSBmYWxzZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBhY3Rpb25zW1BVU0hdKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBmdW5jdGlvbiBtYXliZVVuZXNjYXBlUXVvdGUoKSB7XG5cdCAgICB2YXIgbmV4dENoYXIgPSBwYXRoW2luZGV4ICsgMV07XG5cdCAgICBpZiAobW9kZSA9PT0gSU5fU0lOR0xFX1FVT1RFICYmIG5leHRDaGFyID09PSBcIidcIiB8fCBtb2RlID09PSBJTl9ET1VCTEVfUVVPVEUgJiYgbmV4dENoYXIgPT09ICdcIicpIHtcblx0ICAgICAgaW5kZXgrKztcblx0ICAgICAgbmV3Q2hhciA9ICdcXFxcJyArIG5leHRDaGFyO1xuXHQgICAgICBhY3Rpb25zW0FQUEVORF0oKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB3aGlsZSAobW9kZSAhPSBudWxsKSB7XG5cdCAgICBpbmRleCsrO1xuXHQgICAgYyA9IHBhdGhbaW5kZXhdO1xuXHRcblx0ICAgIGlmIChjID09PSAnXFxcXCcgJiYgbWF5YmVVbmVzY2FwZVF1b3RlKCkpIHtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgdHlwZSA9IGdldFBhdGhDaGFyVHlwZShjKTtcblx0ICAgIHR5cGVNYXAgPSBwYXRoU3RhdGVNYWNoaW5lW21vZGVdO1xuXHQgICAgdHJhbnNpdGlvbiA9IHR5cGVNYXBbdHlwZV0gfHwgdHlwZU1hcFsnZWxzZSddIHx8IEVSUk9SO1xuXHRcblx0ICAgIGlmICh0cmFuc2l0aW9uID09PSBFUlJPUikge1xuXHQgICAgICByZXR1cm47IC8vIHBhcnNlIGVycm9yXG5cdCAgICB9XG5cdFxuXHQgICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XG5cdCAgICBhY3Rpb24gPSBhY3Rpb25zW3RyYW5zaXRpb25bMV1dO1xuXHQgICAgaWYgKGFjdGlvbikge1xuXHQgICAgICBuZXdDaGFyID0gdHJhbnNpdGlvblsyXTtcblx0ICAgICAgbmV3Q2hhciA9IG5ld0NoYXIgPT09IHVuZGVmaW5lZCA/IGMgOiBuZXdDaGFyO1xuXHQgICAgICBpZiAoYWN0aW9uKCkgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG1vZGUgPT09IEFGVEVSX1BBVEgpIHtcblx0ICAgICAga2V5cy5yYXcgPSBwYXRoO1xuXHQgICAgICByZXR1cm4ga2V5cztcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFeHRlcm5hbCBwYXJzZSB0aGF0IGNoZWNrIGZvciBhIGNhY2hlIGhpdCBmaXJzdFxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuXHQgKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcblx0ICB2YXIgaGl0ID0gcGF0aENhY2hlW3BhdGhdO1xuXHQgIGlmICghaGl0KSB7XG5cdCAgICBoaXQgPSBwYXJzZShwYXRoKTtcblx0ICAgIGlmIChoaXQpIHtcblx0ICAgICAgcGF0aENhY2hlW3BhdGhdID0gaGl0O1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gaGl0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBQYXRoIChWdWUpIHtcblx0ICB2YXIgX1Z1ZSR1dGlsID0gVnVlLnV0aWw7XG5cdCAgdmFyIGlzT2JqZWN0ID0gX1Z1ZSR1dGlsLmlzT2JqZWN0O1xuXHQgIHZhciBpc1BsYWluT2JqZWN0ID0gX1Z1ZSR1dGlsLmlzUGxhaW5PYmplY3Q7XG5cdCAgdmFyIGhhc093biA9IF9WdWUkdXRpbC5oYXNPd247XG5cdFxuXHRcblx0ICBmdW5jdGlvbiBlbXB0eSh0YXJnZXQpIHtcblx0ICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuXHQgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRhcmdldC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcblx0ICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXG5cdCAgICAgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcblx0ICAgICAgICBpZiAoaGFzT3duKHRhcmdldCwga2V5KSkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1jb25zdCAqL1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0IHZhbHVlIGZyb20gcGF0aCBzdHJpbmdcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuXHQgICAqIEByZXR1cm4gdmFsdWVcblx0ICAgKi9cblx0XG5cdCAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqLCBwYXRoKSB7XG5cdCAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBhdGhzID0gcGFyc2VQYXRoKHBhdGgpO1xuXHQgICAgaWYgKGVtcHR5KHBhdGhzKSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuXHQgICAgdmFyIHJldCA9IG51bGw7XG5cdCAgICB2YXIgbGFzdCA9IG9iajtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGxhc3RbcGF0aHNbaV1dO1xuXHQgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGxhc3QgPSBudWxsO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICAgIGxhc3QgPSB2YWx1ZTtcblx0ICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldCA9IGxhc3Q7XG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGdldFZhbHVlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZXh0ZW5kXG5cdCAqXG5cdCAqIEBwYXJhbSB7VnVlfSBWdWVcblx0ICogQHJldHVybiB7VnVlfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIEV4dGVuZCAoVnVlKSB7XG5cdCAgdmFyIF9WdWUkdXRpbCA9IFZ1ZS51dGlsO1xuXHQgIHZhciBpc09iamVjdCA9IF9WdWUkdXRpbC5pc09iamVjdDtcblx0ICB2YXIgYmluZCA9IF9WdWUkdXRpbC5iaW5kO1xuXHRcblx0ICB2YXIgZm9ybWF0ID0gRm9ybWF0KFZ1ZSk7XG5cdCAgdmFyIGdldFZhbHVlID0gUGF0aChWdWUpO1xuXHRcblx0ICBmdW5jdGlvbiBwYXJzZUFyZ3MoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsYW5nID0gVnVlLmNvbmZpZy5sYW5nO1xuXHQgICAgdmFyIGZhbGxiYWNrID0gVnVlLmNvbmZpZy5mYWxsYmFja0xhbmc7XG5cdFxuXHQgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIGlmIChpc09iamVjdChhcmdzWzBdKSB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG5cdCAgICAgICAgYXJncyA9IGFyZ3NbMF07XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbGFuZyA9IGFyZ3NbMF07XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGxhbmcgPSBhcmdzWzBdO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc09iamVjdChhcmdzWzFdKSB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMV0pKSB7XG5cdCAgICAgICAgYXJncyA9IGFyZ3NbMV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4geyBsYW5nOiBsYW5nLCBmYWxsYmFjazogZmFsbGJhY2ssIHBhcmFtczogYXJncyB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW50ZXJwb2xhdGUobG9jYWxlLCBrZXksIGFyZ3MpIHtcblx0ICAgIGlmICghbG9jYWxlKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB2YWwgPSBnZXRWYWx1ZShsb2NhbGUsIGtleSk7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdCAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNOaWwodmFsKSkge1xuXHQgICAgICB2YWwgPSBsb2NhbGVba2V5XTtcblx0ICAgIH1cblx0ICAgIGlmIChpc05pbCh2YWwpKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENoZWNrIGZvciB0aGUgZXhpc3RhbmNlIG9mIGxpbmtzIHdpdGhpbiB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcblx0ICAgIGlmICh2YWwuaW5kZXhPZignQDonKSA+PSAwKSB7XG5cdCAgICAgIC8vIE1hdGNoIGFsbCB0aGUgbGlua3Mgd2l0aGluIHRoZSBsb2NhbFxuXHQgICAgICAvLyBXZSBhcmUgZ29pbmcgdG8gcmVwbGFjZSBlYWNoIG9mXG5cdCAgICAgIC8vIHRoZW0gd2l0aCBpdHMgdHJhbnNsYXRpb25cblx0ICAgICAgdmFyIG1hdGNoZXMgPSB2YWwubWF0Y2goLyhAOltcXHd8Ll0rKS9nKTtcblx0ICAgICAgZm9yICh2YXIgaWR4IGluIG1hdGNoZXMpIHtcblx0ICAgICAgICB2YXIgbGluayA9IG1hdGNoZXNbaWR4XTtcblx0ICAgICAgICAvLyBSZW1vdmUgdGhlIGxlYWRpbmcgQDpcblx0ICAgICAgICB2YXIgbGlua1BsYWNlaG9sZGVyID0gbGluay5zdWJzdHIoMik7XG5cdCAgICAgICAgLy8gVHJhbnNsYXRlIHRoZSBsaW5rXG5cdCAgICAgICAgdmFyIHRyYW5zbGF0ZWRzdHJpbmcgPSBpbnRlcnBvbGF0ZShsb2NhbGUsIGxpbmtQbGFjZWhvbGRlciwgYXJncyk7XG5cdCAgICAgICAgLy8gUmVwbGFjZSB0aGUgbGluayB3aXRoIHRoZSB0cmFuc2xhdGVkIHN0cmluZ1xuXHQgICAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKGxpbmssIHRyYW5zbGF0ZWRzdHJpbmcpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICFhcmdzID8gdmFsIDogVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyID8gVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyLmFwcGx5KG51bGwsIFt2YWxdLmNvbmNhdChhcmdzKSkgOiBmb3JtYXQodmFsLCBhcmdzKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHRyYW5zbGF0ZShnZXR0ZXIsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykge1xuXHQgICAgdmFyIHJlcyA9IG51bGw7XG5cdCAgICByZXMgPSBpbnRlcnBvbGF0ZShnZXR0ZXIobGFuZyksIGtleSwgcGFyYW1zKTtcblx0ICAgIGlmICghaXNOaWwocmVzKSkge1xuXHQgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlcyA9IGludGVycG9sYXRlKGdldHRlcihmYWxsYmFjayksIGtleSwgcGFyYW1zKTtcblx0ICAgIGlmICghaXNOaWwocmVzKSkge1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIHdhcm4oJ0ZhbGwgYmFjayB0byB0cmFuc2xhdGUgdGhlIGtleXBhdGggXCInICsga2V5ICsgJ1wiIHdpdGggXCInICsgZmFsbGJhY2sgKyAnXCIgbGFuZ3VhZ2UuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gd2FybkRlZmF1bHQobGFuZywga2V5LCB2bSwgcmVzdWx0KSB7XG5cdCAgICBpZiAoIWlzTmlsKHJlc3VsdCkpIHtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHdhcm4oJ0Nhbm5vdCB0cmFuc2xhdGUgdGhlIHZhbHVlIG9mIGtleXBhdGggXCInICsga2V5ICsgJ1wiLiAnICsgJ1VzZSB0aGUgdmFsdWUgb2Yga2V5cGF0aCBhcyBkZWZhdWx0Jyk7XG5cdCAgICB9XG5cdCAgICBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyICYmIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIuYXBwbHkobnVsbCwgW2xhbmcsIGtleSwgdm1dKTtcblx0ICAgIHJldHVybiBrZXk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXRBc3NldExvY2FsZShsYW5nKSB7XG5cdCAgICByZXR1cm4gVnVlLmxvY2FsZShsYW5nKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldENvbXBvbmVudExvY2FsZShsYW5nKSB7XG5cdCAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5sb2NhbGVzW2xhbmddO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0T2xkQ2hvaWNlSW5kZXhGaXhlZChjaG9pY2UpIHtcblx0ICAgIHJldHVybiBjaG9pY2UgPyBjaG9pY2UgPiAxID8gMSA6IDAgOiAxO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0Q2hvaWNlSW5kZXgoY2hvaWNlLCBjaG9pY2VzTGVuZ3RoKSB7XG5cdCAgICBjaG9pY2UgPSBNYXRoLmFicyhjaG9pY2UpO1xuXHRcblx0ICAgIGlmIChjaG9pY2VzTGVuZ3RoID09PSAyKSB7XG5cdCAgICAgIHJldHVybiBnZXRPbGRDaG9pY2VJbmRleEZpeGVkKGNob2ljZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNob2ljZSA/IE1hdGgubWluKGNob2ljZSwgMikgOiAwO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmV0Y2hDaG9pY2UobG9jYWxlLCBjaG9pY2UpIHtcblx0ICAgIGlmICghbG9jYWxlICYmIHR5cGVvZiBsb2NhbGUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGNob2ljZXMgPSBsb2NhbGUuc3BsaXQoJ3wnKTtcblx0XG5cdCAgICBjaG9pY2UgPSBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXMubGVuZ3RoKTtcblx0ICAgIGlmICghY2hvaWNlc1tjaG9pY2VdKSB7XG5cdCAgICAgIHJldHVybiBsb2NhbGU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY2hvaWNlc1tjaG9pY2VdLnRyaW0oKTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFZ1ZS50XG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG5cdCAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ31cblx0ICAgKi9cblx0XG5cdCAgVnVlLnQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFrZXkpIHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBfcGFyc2VBcmdzID0gcGFyc2VBcmdzLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdFxuXHQgICAgdmFyIGxhbmcgPSBfcGFyc2VBcmdzLmxhbmc7XG5cdCAgICB2YXIgZmFsbGJhY2sgPSBfcGFyc2VBcmdzLmZhbGxiYWNrO1xuXHQgICAgdmFyIHBhcmFtcyA9IF9wYXJzZUFyZ3MucGFyYW1zO1xuXHRcblx0ICAgIHJldHVybiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIG51bGwsIHRyYW5zbGF0ZShnZXRBc3NldExvY2FsZSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSk7XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogVnVlLnRjXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG5cdCAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBjaG9pY2Vcblx0ICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHRcblx0ICBWdWUudGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcblx0ICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcblx0ICAgICAgYXJnc1tfa2V5MyAtIDJdID0gYXJndW1lbnRzW19rZXkzXTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmV0Y2hDaG9pY2UoVnVlLnQuYXBwbHkoVnVlLCBba2V5XS5jb25jYXQoYXJncykpLCBjaG9pY2UpO1xuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqICR0XG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG5cdCAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ31cblx0ICAgKi9cblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kdCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmICgha2V5KSB7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIF9wYXJzZUFyZ3MyID0gcGFyc2VBcmdzLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdFxuXHQgICAgdmFyIGxhbmcgPSBfcGFyc2VBcmdzMi5sYW5nO1xuXHQgICAgdmFyIGZhbGxiYWNrID0gX3BhcnNlQXJnczIuZmFsbGJhY2s7XG5cdCAgICB2YXIgcGFyYW1zID0gX3BhcnNlQXJnczIucGFyYW1zO1xuXHRcblx0ICAgIHZhciByZXMgPSBudWxsO1xuXHQgICAgaWYgKHRoaXMuJG9wdGlvbnMubG9jYWxlcykge1xuXHQgICAgICByZXMgPSB0cmFuc2xhdGUoYmluZChnZXRDb21wb25lbnRMb2NhbGUsIHRoaXMpLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpO1xuXHQgICAgICBpZiAocmVzKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHdhcm5EZWZhdWx0KGxhbmcsIGtleSwgdGhpcywgdHJhbnNsYXRlKGdldEFzc2V0TG9jYWxlLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpKTtcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiAkdGNcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGNob2ljZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3Ncblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJHRjID0gZnVuY3Rpb24gKGtleSwgY2hvaWNlKSB7XG5cdCAgICBpZiAodHlwZW9mIGNob2ljZSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGNob2ljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgcmV0dXJuIGtleTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNSA+IDIgPyBfbGVuNSAtIDIgOiAwKSwgX2tleTUgPSAyOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleTUgLSAyXSA9IGFyZ3VtZW50c1tfa2V5NV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZldGNoQ2hvaWNlKHRoaXMuJHQuYXBwbHkodGhpcywgW2tleV0uY29uY2F0KGFyZ3MpKSwgY2hvaWNlKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVnVlO1xuXHR9XG5cdFxuXHR2YXIgbGFuZ1ZNID0gdm9pZCAwOyAvLyBzaW5nbGV0b25cblx0XG5cdC8qKlxuXHQgKiBwbHVnaW5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IFZ1ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHBsdWdpbihWdWUpIHtcblx0ICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICB2YXIgdmVyc2lvbiA9IFZ1ZS52ZXJzaW9uICYmIE51bWJlcihWdWUudmVyc2lvbi5zcGxpdCgnLicpWzBdKSB8fCAtMTtcblx0XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcGx1Z2luLmluc3RhbGxlZCkge1xuXHQgICAgd2FybignYWxyZWFkeSBpbnN0YWxsZWQuJyk7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB2ZXJzaW9uIDwgMSkge1xuXHQgICAgd2FybigndnVlLWkxOG4gKCcgKyBwbHVnaW4udmVyc2lvbiArICcpIG5lZWQgdG8gdXNlIHZ1ZSB2ZXJzaW9uIDEuMCBvciBsYXRlciAodnVlIHZlcnNpb246ICcgKyBWdWUudmVyc2lvbiArICcpLicpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdmFyIGxhbmcgPSAnZW4nO1xuXHQgIHNldHVwTGFuZ1ZNKFZ1ZSwgbGFuZyk7XG5cdFxuXHQgIEFzc2V0KFZ1ZSwgbGFuZ1ZNKTtcblx0ICBPdmVycmlkZShWdWUsIGxhbmdWTSwgdmVyc2lvbik7XG5cdCAgQ29uZmlnKFZ1ZSwgbGFuZ1ZNLCBsYW5nKTtcblx0ICBFeHRlbmQoVnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0dXBMYW5nVk0oVnVlLCBsYW5nKSB7XG5cdCAgdmFyIHNpbGVudCA9IFZ1ZS5jb25maWcuc2lsZW50O1xuXHQgIFZ1ZS5jb25maWcuc2lsZW50ID0gdHJ1ZTtcblx0ICBpZiAoIWxhbmdWTSkge1xuXHQgICAgbGFuZ1ZNID0gbmV3IFZ1ZSh7IGRhdGE6IHsgbGFuZzogbGFuZywgbG9jYWxlczoge30gfSB9KTtcblx0ICB9XG5cdCAgVnVlLmNvbmZpZy5zaWxlbnQgPSBzaWxlbnQ7XG5cdH1cblx0XG5cdHBsdWdpbi52ZXJzaW9uID0gJzQuNy4zJztcblx0XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVnVlKSB7XG5cdCAgd2luZG93LlZ1ZS51c2UocGx1Z2luKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDEwNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBsb2NhbGVzID0ge307WydlbicsICd6aCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgIGxvY2FsZXNba2V5XSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KShcIi4vXCIgKyBrZXkpO1xuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGxvY2FsZXM7XG5cbi8qKiovIH0sXG4vKiAxMDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBtYXAgPSB7XG5cdFx0XCIuL2VuXCI6IDEwNyxcblx0XHRcIi4vZW4ueW1sXCI6IDEwNyxcblx0XHRcIi4vaW5kZXhcIjogMTA1LFxuXHRcdFwiLi9pbmRleC5qc1wiOiAxMDUsXG5cdFx0XCIuL3poXCI6IDEwOCxcblx0XHRcIi4vemgueW1sXCI6IDEwOFxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDEwNjtcblxuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImJ1dHRvblwiOiB7XG5cdFx0XHRcInVwbG9hZFwiOiBcInVwbG9hZFwiLFxuXHRcdFx0XCJzYXZlXCI6IFwic2F2ZVwiLFxuXHRcdFx0XCJjbG9zZV9lZGl0XCI6IFwiY2xvc2UgZWRpdFwiLFxuXHRcdFx0XCJvcGVuX2VkaXRcIjogXCJvcGVuIGVkaXRcIixcblx0XHRcdFwiaGVscFwiOiBcImhlbHBcIixcblx0XHRcdFwibHJjX2luZm9cIjogXCJpbmZvXCIsXG5cdFx0XHRcInJlbW92ZV9seXJpY1wiOiBcInJlbW92ZSBseXJpY1wiLFxuXHRcdFx0XCJwcmV2X2x5cmljXCI6IFwicHJldiBseXJpY1wiLFxuXHRcdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdFx0fSxcblx0XHRcIm1lbnVcIjoge1xuXHRcdFx0XCJ1cGxvYWRcIjoge1xuXHRcdFx0XHRcImxyY1wiOiBcIkxSQyBmb3JtYXQgbHlyaWNcIixcblx0XHRcdFx0XCJseXJpY1wiOiBcImx5cmljIHRleHRcIixcblx0XHRcdFx0XCJtdXNpY1wiOiBcIm11c2ljXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdFwibW9kYWxcIjoge1xuXHRcdFx0XCJscmNfZm9ybWF0X3NhdmVcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiTHlyaWNzIFNhdmVcIixcblx0XHRcdFx0XCJpbmZvX3RpdGxlXCI6IFwiTHlyaWNzIEluZm9cIixcblx0XHRcdFx0XCJmaWVsZHNcIjoge1xuXHRcdFx0XHRcdFwic29uZ190aXRsZVwiOiBcIlNvbmUgVGl0bGVcIixcblx0XHRcdFx0XHRcImFydGlzdFwiOiBcIkFydGlzdFwiLFxuXHRcdFx0XHRcdFwiYWxidW1cIjogXCJBbGJ1bVwiLFxuXHRcdFx0XHRcdFwic29uZ3RleHRfY3JlYXRvclwiOiBcIlNvbmd0ZXh0IENyZWF0b3JcIixcblx0XHRcdFx0XHRcImxyY19jcmVhdG9yXCI6IFwiTFJDIENyZWF0b3JcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInNhdmVfdGl0bGVcIjogXCJMeXJpY3NcIixcblx0XHRcdFx0XCJjb21iaW5lXCI6IFwiY29tYmluZSBseXJpY3NcIixcblx0XHRcdFx0XCJkb3dubG9hZFwiOiBcImx5cmljcyBmaWxlIGRvd25sb2FkXCJcblx0XHRcdH0sXG5cdFx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIlVwbG9hZCBMUkMgRm9ybWF0XCIsXG5cdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJVcGxvYWQgdGltZXN0YW1wZWQgbHlyaWNzXCIsXG5cdFx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdFx0fSxcblx0XHRcdFwibHlyaWNfdXBsb2FkXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIlVwbG9hZCBUZXh0IEx5cmljc1wiLFxuXHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiUGxhaW4gVGV4dCBseXJpY3MsIGx5cmljcyBkaXZpZGVkIGJ5IGEgbmV3bGluZVwiLFxuXHRcdFx0XHRcInVwbG9hZFwiOiBcIlJlYWQgZnJvbSBmaWxlXCJcblx0XHRcdH0sXG5cdFx0XHRcImhlbHBcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiSGVscFwiLFxuXHRcdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcInNob3J0Y3V0IGtleVwiLFxuXHRcdFx0XHRcInBsYXlfY29udHJvbFwiOiB7XG5cdFx0XHRcdFx0XCJ0aXRsZVwiOiBcInBsYXkgY29udHJvbFwiLFxuXHRcdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XHRcInJpZ2h0X2tleVwiOiBcIjxSaWdodD5cIixcblx0XHRcdFx0XHRcImJhY2t3YXJkXCI6IFwiYmFja3dhcmRcIixcblx0XHRcdFx0XHRcImZvcndhcmRcIjogXCJmb3J3YXJkXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJtYWtlX2xyY1wiOiB7XG5cdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIm1ha2UgbHJjXCIsXG5cdFx0XHRcdFx0XCJ1cF9rZXlcIjogXCI8VXA+XCIsXG5cdFx0XHRcdFx0XCJkb3duX2tleVwiOiBcIjxEb3duPlwiLFxuXHRcdFx0XHRcdFwicHJldl9seXJpY1wiOiBcInByZXYgbHlyaWNcIixcblx0XHRcdFx0XHRcIm5leHRfbHlyaWNcIjogXCJuZXh0IGx5cmljXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJzb3VyY2VfY29kZVwiOiBcInNvdXJjZSBjb2RlXCJcblx0XHRcdH0sXG5cdFx0XHRcImJ1dHRvblwiOiB7XG5cdFx0XHRcdFwib2tcIjogXCJva1wiLFxuXHRcdFx0XHRcImNhbmNlbFwiOiBcImNhbmNlbFwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcImx5cmljX2VkaXRvclwiOiB7XG5cdFx0XHRcImVkaXRcIjogXCJlZGl0XCIsXG5cdFx0XHRcImFkZFwiOiBcImFkZFwiLFxuXHRcdFx0XCJyZW1vdmVcIjogXCJyZW1vdmVcIixcblx0XHRcdFwicmVtb3ZlX3RpbWVzdGFtcFwiOiBcInJlbW92ZSB0aW1lc3RhbXBcIixcblx0XHRcdFwicGxheV90b190aGlzX2x5cmljXCI6IFwicGxheSB0byB0aGlzIGx5cmljXCIsXG5cdFx0XHRcImZvbGxvd2luZ191bnNvcnRlZFwiOiBcIlRoZSBmb2xsb3dpbmcgdW5zb3J0ZWRcIlxuXHRcdH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XCJ1cGxvYWRcIjogXCLkuIrkvKBcIixcblx0XHRcdFwic2F2ZVwiOiBcIuS/neWtmFwiLFxuXHRcdFx0XCJjbG9zZV9lZGl0XCI6IFwi5YWz6Zet57yW6L6RXCIsXG5cdFx0XHRcIm9wZW5fZWRpdFwiOiBcIuaJk+W8gOe8lui+kVwiLFxuXHRcdFx0XCJoZWxwXCI6IFwi5biu5YqpXCIsXG5cdFx0XHRcImxyY19pbmZvXCI6IFwi5L+h5oGvXCIsXG5cdFx0XHRcInJlbW92ZV9seXJpY1wiOiBcIua4hemZpOatjOivjVwiLFxuXHRcdFx0XCJwcmV2X2x5cmljXCI6IFwi5LiK5LiA5p2h5q2M6K+NXCIsXG5cdFx0XHRcIm5leHRfbHlyaWNcIjogXCLkuIvkuIDmnaHmrYzor41cIlxuXHRcdH0sXG5cdFx0XCJtZW51XCI6IHtcblx0XHRcdFwidXBsb2FkXCI6IHtcblx0XHRcdFx0XCJscmNcIjogXCJMUkPmoLzlvI/mrYzor41cIixcblx0XHRcdFx0XCJseXJpY1wiOiBcIuatjOivjeaWh+acrFwiLFxuXHRcdFx0XHRcIm11c2ljXCI6IFwi6Z+z5LmQXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdFwibW9kYWxcIjoge1xuXHRcdFx0XCJscmNfZm9ybWF0X3NhdmVcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5L+d5a2Y5q2M6K+NXCIsXG5cdFx0XHRcdFwiaW5mb190aXRsZVwiOiBcIuatjOivjeS/oeaBr1wiLFxuXHRcdFx0XHRcImZpZWxkc1wiOiB7XG5cdFx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwi5q2M5ZCNXCIsXG5cdFx0XHRcdFx0XCJhcnRpc3RcIjogXCLoibrmnK/lrrZcIixcblx0XHRcdFx0XHRcImFsYnVtXCI6IFwi5LiT6L6RXCIsXG5cdFx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwi5q2M6K+N5L2c6ICFXCIsXG5cdFx0XHRcdFx0XCJscmNfY3JlYXRvclwiOiBcIkxSQyDliJvlu7rogIVcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInNhdmVfdGl0bGVcIjogXCLmrYzor41cIixcblx0XHRcdFx0XCJjb21iaW5lXCI6IFwi5ZCI5bm25q2M6K+NXCIsXG5cdFx0XHRcdFwiZG93bmxvYWRcIjogXCLkuIvovb3mrYzor43mlofku7ZcIlxuXHRcdFx0fSxcblx0XHRcdFwibHJjX2Zvcm1hdF91cGxvYWRcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5LiK5LygTFJD5qC85byP5paH5pysXCIsXG5cdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLkuIrkvKDlt7Lnu4/ljIXlkKvml7bpl7TmiLPnmoTmrYzor41cIixcblx0XHRcdFx0XCJ1cGxvYWRcIjogXCLku47mlofku7bor7vlj5ZcIlxuXHRcdFx0fSxcblx0XHRcdFwibHlyaWNfdXBsb2FkXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuS4iuS8oOatjOivjeaWh+acrFwiLFxuXHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwi57qv5paH5pys5q2M6K+N77yM55So5o2i6KGM5a+55q2M6K+N5YiS5YiGXCIsXG5cdFx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHRcdH0sXG5cdFx0XHRcImhlbHBcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5biu5YqpXCIsXG5cdFx0XHRcdFwic2hvcnRjdXRfa2V5XCI6IFwi5b+r5o236ZSuXCIsXG5cdFx0XHRcdFwicGxheV9jb250cm9sXCI6IHtcblx0XHRcdFx0XHRcInRpdGxlXCI6IFwi5pKt5pS+5o6n5Yi2XCIsXG5cdFx0XHRcdFx0XCJsZWZ0X2tleVwiOiBcIjxMZWZ0PlwiLFxuXHRcdFx0XHRcdFwicmlnaHRfa2V5XCI6IFwiPFJpZ2h0PlwiLFxuXHRcdFx0XHRcdFwiYmFja3dhcmRcIjogXCLlkI7pgIBcIixcblx0XHRcdFx0XHRcImZvcndhcmRcIjogXCLliY3ov5tcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XHRcInRpdGxlXCI6IFwi5Yi25L2c5q2M6K+NXCIsXG5cdFx0XHRcdFx0XCJ1cF9rZXlcIjogXCI8VXA+XCIsXG5cdFx0XHRcdFx0XCJkb3duX2tleVwiOiBcIjxEb3duPlwiLFxuXHRcdFx0XHRcdFwicHJldl9seXJpY1wiOiBcIuS4iuS4gOadoeatjOivjVwiLFxuXHRcdFx0XHRcdFwibmV4dF9seXJpY1wiOiBcIuS4i+S4gOadoeatjOivjVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwic291cmNlX2NvZGVcIjogXCLmupDnoIFcIlxuXHRcdFx0fSxcblx0XHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFx0XCJva1wiOiBcIuehruiupFwiLFxuXHRcdFx0XHRcImNhbmNlbFwiOiBcIuWPlua2iFwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcImx5cmljX2VkaXRvclwiOiB7XG5cdFx0XHRcImVkaXRcIjogXCLnvJbovpFcIixcblx0XHRcdFwiYWRkXCI6IFwi5re75YqgXCIsXG5cdFx0XHRcInJlbW92ZVwiOiBcIuWIoOmZpFwiLFxuXHRcdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwi5Yig6Zmk5pe26Ze06L20XCIsXG5cdFx0XHRcInBsYXlfdG9fdGhpc19seXJpY1wiOiBcIuaSreaUvuWIsOi/meadoeatjOivjVwiLFxuXHRcdFx0XCJmb2xsb3dpbmdfdW5zb3J0ZWRcIjogXCLku6XkuIvmnKrmjpLluo9cIlxuXHRcdH1cblx0fTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG1haW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL2Fzc2V0cy9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzMzk0Yzk2NjdlMjA0YzM2MzBiZSIsImltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IEFwcCBmcm9tICcuL2FwcCdcbmltcG9ydCAnLi9pMThuJ1xuXG5uZXcgVnVlKHtcbiAgZWw6ICcjYm9keScsXG4gIHJlbmRlcjogKGgpID0+IGgoQXBwKVxufSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21haW4uanMiLCIvKiFcbiAqIFZ1ZS5qcyB2Mi4xLjNcbiAqIChjKSAyMDE0LTIwMTYgRXZhbiBZb3VcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKiAgKi9cblxuLyoqXG4gKiBDb252ZXJ0IGEgdmFsdWUgdG8gYSBzdHJpbmcgdGhhdCBpcyBhY3R1YWxseSByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gX3RvU3RyaW5nICh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PSBudWxsXG4gICAgPyAnJ1xuICAgIDogdHlwZW9mIHZhbCA9PT0gJ29iamVjdCdcbiAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCBudWxsLCAyKVxuICAgICAgOiBTdHJpbmcodmFsKVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXG4gKiBJZiB0aGUgY29udmVyc2lvbiBmYWlscywgcmV0dXJuIG9yaWdpbmFsIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkge1xuICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gIHJldHVybiAobiB8fCBuID09PSAwKSA/IG4gOiB2YWxcbn1cblxuLyoqXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcbiAqIGlzIGluIHRoYXQgbWFwLlxuICovXG5mdW5jdGlvbiBtYWtlTWFwIChcbiAgc3RyLFxuICBleHBlY3RzTG93ZXJDYXNlXG4pIHtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2VcbiAgICA/IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG1hcFt2YWwudG9Mb3dlckNhc2UoKV07IH1cbiAgICA6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG1hcFt2YWxdOyB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSB0YWcgaXMgYSBidWlsdC1pbiB0YWcuXG4gKi9cbnZhciBpc0J1aWx0SW5UYWcgPSBtYWtlTWFwKCdzbG90LGNvbXBvbmVudCcsIHRydWUpO1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpdGVtIGZyb20gYW4gYXJyYXlcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlJDEgKGFyciwgaXRlbSkge1xuICBpZiAoYXJyLmxlbmd0aCkge1xuICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS5cbiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdmFsdWUgaXMgcHJpbWl0aXZlXG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjYWNoZWQgKGZuKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiBmdW5jdGlvbiBjYWNoZWRGbiAoc3RyKSB7XG4gICAgdmFyIGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpXG4gIH1cbn1cblxuLyoqXG4gKiBDYW1lbGl6ZSBhIGh5cGhlbi1kZWxtaXRlZCBzdHJpbmcuXG4gKi9cbnZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xudmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pXG59KTtcblxuLyoqXG4gKiBDYXBpdGFsaXplIGEgc3RyaW5nLlxuICovXG52YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSlcbn0pO1xuXG4vKipcbiAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXG4gKi9cbnZhciBoeXBoZW5hdGVSRSA9IC8oW14tXSkoW0EtWl0pL2c7XG52YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0clxuICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuICAgIC50b0xvd2VyQ2FzZSgpXG59KTtcblxuLyoqXG4gKiBTaW1wbGUgYmluZCwgZmFzdGVyIHRoYW4gbmF0aXZlXG4gKi9cbmZ1bmN0aW9uIGJpbmQkMSAoZm4sIGN0eCkge1xuICBmdW5jdGlvbiBib3VuZEZuIChhKSB7XG4gICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJldHVybiBsXG4gICAgICA/IGwgPiAxXG4gICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpXG4gICAgICAgIDogZm4uY2FsbChjdHgsIGEpXG4gICAgICA6IGZuLmNhbGwoY3R4KVxuICB9XG4gIC8vIHJlY29yZCBvcmlnaW5hbCBmbiBsZW5ndGhcbiAgYm91bmRGbi5fbGVuZ3RoID0gZm4ubGVuZ3RoO1xuICByZXR1cm4gYm91bmRGblxufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LlxuICovXG5mdW5jdGlvbiB0b0FycmF5IChsaXN0LCBzdGFydCkge1xuICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gIHZhciBpID0gbGlzdC5sZW5ndGggLSBzdGFydDtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSkge1xuICAgIHJldFtpXSA9IGxpc3RbaSArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBleHRlbmQgKHRvLCBfZnJvbSkge1xuICBmb3IgKHZhciBrZXkgaW4gX2Zyb20pIHtcbiAgICB0b1trZXldID0gX2Zyb21ba2V5XTtcbiAgfVxuICByZXR1cm4gdG9cbn1cblxuLyoqXG4gKiBRdWljayBvYmplY3QgY2hlY2sgLSB0aGlzIGlzIHByaW1hcmlseSB1c2VkIHRvIHRlbGxcbiAqIE9iamVjdHMgZnJvbSBwcmltaXRpdmUgdmFsdWVzIHdoZW4gd2Uga25vdyB0aGUgdmFsdWVcbiAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QgKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG59XG5cbi8qKlxuICogU3RyaWN0IG9iamVjdCB0eXBlIGNoZWNrLiBPbmx5IHJldHVybnMgdHJ1ZVxuICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy5cbiAqL1xudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gT0JKRUNUX1NUUklOR1xufVxuXG4vKipcbiAqIE1lcmdlIGFuIEFycmF5IG9mIE9iamVjdHMgaW50byBhIHNpbmdsZSBPYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHRvT2JqZWN0IChhcnIpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnJbaV0pIHtcbiAgICAgIGV4dGVuZChyZXMsIGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyoqXG4gKiBQZXJmb3JtIG5vIG9wZXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gbm9vcCAoKSB7fVxuXG4vKipcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXG4gKi9cbnZhciBubyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgc3RhdGljIGtleXMgc3RyaW5nIGZyb20gY29tcGlsZXIgbW9kdWxlcy5cbiAqL1xuZnVuY3Rpb24gZ2VuU3RhdGljS2V5cyAobW9kdWxlcykge1xuICByZXR1cm4gbW9kdWxlcy5yZWR1Y2UoZnVuY3Rpb24gKGtleXMsIG0pIHtcbiAgICByZXR1cm4ga2V5cy5jb25jYXQobS5zdGF0aWNLZXlzIHx8IFtdKVxuICB9LCBbXSkuam9pbignLCcpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIHZhbHVlcyBhcmUgbG9vc2VseSBlcXVhbCAtIHRoYXQgaXMsXG4gKiBpZiB0aGV5IGFyZSBwbGFpbiBvYmplY3RzLCBkbyB0aGV5IGhhdmUgdGhlIHNhbWUgc2hhcGU/XG4gKi9cbmZ1bmN0aW9uIGxvb3NlRXF1YWwgKGEsIGIpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gIHJldHVybiBhID09IGIgfHwgKFxuICAgIGlzT2JqZWN0KGEpICYmIGlzT2JqZWN0KGIpXG4gICAgICA/IEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKVxuICAgICAgOiBmYWxzZVxuICApXG4gIC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG59XG5cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZiAoYXJyLCB2YWwpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobG9vc2VFcXVhbChhcnJbaV0sIHZhbCkpIHsgcmV0dXJuIGkgfVxuICB9XG4gIHJldHVybiAtMVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBDaGVjayBpZiBhIHN0cmluZyBzdGFydHMgd2l0aCAkIG9yIF9cbiAqL1xuZnVuY3Rpb24gaXNSZXNlcnZlZCAoc3RyKSB7XG4gIHZhciBjID0gKHN0ciArICcnKS5jaGFyQ29kZUF0KDApO1xuICByZXR1cm4gYyA9PT0gMHgyNCB8fCBjID09PSAweDVGXG59XG5cbi8qKlxuICogRGVmaW5lIGEgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGRlZiAob2JqLCBrZXksIHZhbCwgZW51bWVyYWJsZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICB2YWx1ZTogdmFsLFxuICAgIGVudW1lcmFibGU6ICEhZW51bWVyYWJsZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8qKlxuICogUGFyc2Ugc2ltcGxlIHBhdGguXG4gKi9cbnZhciBiYWlsUkUgPSAvW15cXHcuJF0vO1xuZnVuY3Rpb24gcGFyc2VQYXRoIChwYXRoKSB7XG4gIGlmIChiYWlsUkUudGVzdChwYXRoKSkge1xuICAgIHJldHVyblxuICB9IGVsc2Uge1xuICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW9iaikgeyByZXR1cm4gfVxuICAgICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialxuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cbi8qIGdsb2JhbHMgTXV0YXRpb25PYnNlcnZlciAqL1xuXG4vLyBjYW4gd2UgdXNlIF9fcHJvdG9fXz9cbnZhciBoYXNQcm90byA9ICdfX3Byb3RvX18nIGluIHt9O1xuXG4vLyBCcm93c2VyIGVudmlyb25tZW50IHNuaWZmaW5nXG52YXIgaW5Ccm93c2VyID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdykgIT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXG52YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbnZhciBpc0lFID0gVUEgJiYgL21zaWV8dHJpZGVudC8udGVzdChVQSk7XG52YXIgaXNJRTkgPSBVQSAmJiBVQS5pbmRleE9mKCdtc2llIDkuMCcpID4gMDtcbnZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDtcbnZhciBpc0FuZHJvaWQgPSBVQSAmJiBVQS5pbmRleE9mKCdhbmRyb2lkJykgPiAwO1xudmFyIGlzSU9TID0gVUEgJiYgL2lwaG9uZXxpcGFkfGlwb2R8aW9zLy50ZXN0KFVBKTtcblxuLy8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlXG4vLyB2dWUtc2VydmVyLXJlbmRlcmVyIGNhbiBzZXQgVlVFX0VOVlxudmFyIF9pc1NlcnZlcjtcbnZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKF9pc1NlcnZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFpbkJyb3dzZXIgJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGRldGVjdCBwcmVzZW5jZSBvZiB2dWUtc2VydmVyLXJlbmRlcmVyIGFuZCBhdm9pZFxuICAgICAgLy8gV2VicGFjayBzaGltbWluZyB0aGUgcHJvY2Vzc1xuICAgICAgX2lzU2VydmVyID0gZ2xvYmFsWydwcm9jZXNzJ10uZW52LlZVRV9FTlYgPT09ICdzZXJ2ZXInO1xuICAgIH0gZWxzZSB7XG4gICAgICBfaXNTZXJ2ZXIgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIF9pc1NlcnZlclxufTtcblxuLy8gZGV0ZWN0IGRldnRvb2xzXG52YXIgZGV2dG9vbHMgPSBpbkJyb3dzZXIgJiYgd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBpc05hdGl2ZSAoQ3Rvcikge1xuICByZXR1cm4gL25hdGl2ZSBjb2RlLy50ZXN0KEN0b3IudG9TdHJpbmcoKSlcbn1cblxuLyoqXG4gKiBEZWZlciBhIHRhc2sgdG8gZXhlY3V0ZSBpdCBhc3luY2hyb25vdXNseS5cbiAqL1xudmFyIG5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICB2YXIgcGVuZGluZyA9IGZhbHNlO1xuICB2YXIgdGltZXJGdW5jO1xuXG4gIGZ1bmN0aW9uIG5leHRUaWNrSGFuZGxlciAoKSB7XG4gICAgcGVuZGluZyA9IGZhbHNlO1xuICAgIHZhciBjb3BpZXMgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG4gICAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvcGllc1tpXSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRoZSBuZXh0VGljayBiZWhhdmlvciBsZXZlcmFnZXMgdGhlIG1pY3JvdGFzayBxdWV1ZSwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXG4gIC8vIHZpYSBlaXRoZXIgbmF0aXZlIFByb21pc2UudGhlbiBvciBNdXRhdGlvbk9ic2VydmVyLlxuICAvLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW5cbiAgLy8gVUlXZWJWaWV3IGluIGlPUyA+PSA5LjMuMyB3aGVuIHRyaWdnZXJlZCBpbiB0b3VjaCBldmVudCBoYW5kbGVycy4gSXRcbiAgLy8gY29tcGxldGVseSBzdG9wcyB3b3JraW5nIGFmdGVyIHRyaWdnZXJpbmcgYSBmZXcgdGltZXMuLi4gc28sIGlmIG5hdGl2ZVxuICAvLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb21pc2UpKSB7XG4gICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwLnRoZW4obmV4dFRpY2tIYW5kbGVyKTtcbiAgICAgIC8vIGluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dFxuICAgICAgLy8gaXQgY2FuIGdldCBzdHVjayBpbiBhIHdlaXJkIHN0YXRlIHdoZXJlIGNhbGxiYWNrcyBhcmUgcHVzaGVkIGludG8gdGhlXG4gICAgICAvLyBtaWNyb3Rhc2sgcXVldWUgYnV0IHRoZSBxdWV1ZSBpc24ndCBiZWluZyBmbHVzaGVkLCB1bnRpbCB0aGUgYnJvd3NlclxuICAgICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuXG4gICAgICAvLyBcImZvcmNlXCIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci5cbiAgICAgIGlmIChpc0lPUykgeyBzZXRUaW1lb3V0KG5vb3ApOyB9XG4gICAgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgKFxuICAgIGlzTmF0aXZlKE11dGF0aW9uT2JzZXJ2ZXIpIHx8XG4gICAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54XG4gICAgTXV0YXRpb25PYnNlcnZlci50b1N0cmluZygpID09PSAnW29iamVjdCBNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3JdJ1xuICApKSB7XG4gICAgLy8gdXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSxcbiAgICAvLyBlLmcuIFBoYW50b21KUyBJRTExLCBpT1M3LCBBbmRyb2lkIDQuNFxuICAgIHZhciBjb3VudGVyID0gMTtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihuZXh0VGlja0hhbmRsZXIpO1xuICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhjb3VudGVyKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0ZXh0Tm9kZSwge1xuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICAgIH0pO1xuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjtcbiAgICAgIHRleHROb2RlLmRhdGEgPSBTdHJpbmcoY291bnRlcik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmYWxsYmFjayB0byBzZXRUaW1lb3V0XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KG5leHRUaWNrSGFuZGxlciwgMCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBxdWV1ZU5leHRUaWNrIChjYiwgY3R4KSB7XG4gICAgdmFyIF9yZXNvbHZlO1xuICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChjYikgeyBjYi5jYWxsKGN0eCk7IH1cbiAgICAgIGlmIChfcmVzb2x2ZSkgeyBfcmVzb2x2ZShjdHgpOyB9XG4gICAgfSk7XG4gICAgaWYgKCFwZW5kaW5nKSB7XG4gICAgICBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgIHRpbWVyRnVuYygpO1xuICAgIH1cbiAgICBpZiAoIWNiICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG59KSgpO1xuXG52YXIgX1NldDtcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFNldCkpIHtcbiAgLy8gdXNlIG5hdGl2ZSBTZXQgd2hlbiBhdmFpbGFibGUuXG4gIF9TZXQgPSBTZXQ7XG59IGVsc2Uge1xuICAvLyBhIG5vbi1zdGFuZGFyZCBTZXQgcG9seWZpbGwgdGhhdCBvbmx5IHdvcmtzIHdpdGggcHJpbWl0aXZlIGtleXMuXG4gIF9TZXQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNldCAoKSB7XG4gICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldFtrZXldICE9PSB1bmRlZmluZWRcbiAgICB9O1xuICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChrZXkpIHtcbiAgICAgIHRoaXMuc2V0W2tleV0gPSAxO1xuICAgIH07XG4gICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNldDtcbiAgfSgpKTtcbn1cblxuLyogICovXG5cbnZhciBjb25maWcgPSB7XG4gIC8qKlxuICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucylcbiAgICovXG4gIG9wdGlvbk1lcmdlU3RyYXRlZ2llczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblxuICAvKipcbiAgICogV2hldGhlciB0byBzdXBwcmVzcyB3YXJuaW5ncy5cbiAgICovXG4gIHNpbGVudDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIGRldnRvb2xzXG4gICAqL1xuICBkZXZ0b29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcblxuICAvKipcbiAgICogRXJyb3IgaGFuZGxlciBmb3Igd2F0Y2hlciBlcnJvcnNcbiAgICovXG4gIGVycm9ySGFuZGxlcjogbnVsbCxcblxuICAvKipcbiAgICogSWdub3JlIGNlcnRhaW4gY3VzdG9tIGVsZW1lbnRzXG4gICAqL1xuICBpZ25vcmVkRWxlbWVudHM6IG51bGwsXG5cbiAgLyoqXG4gICAqIEN1c3RvbSB1c2VyIGtleSBhbGlhc2VzIGZvciB2LW9uXG4gICAqL1xuICBrZXlDb2RlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhXG4gICAqIGNvbXBvbmVudC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cbiAgICovXG4gIGlzUmVzZXJ2ZWRUYWc6IG5vLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbiB1bmtub3duIGVsZW1lbnQuXG4gICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cbiAgICovXG4gIGlzVW5rbm93bkVsZW1lbnQ6IG5vLFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50XG4gICAqL1xuICBnZXRUYWdOYW1lc3BhY2U6IG5vb3AsXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlXG4gICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cbiAgICovXG4gIG11c3RVc2VQcm9wOiBubyxcblxuICAvKipcbiAgICogTGlzdCBvZiBhc3NldCB0eXBlcyB0aGF0IGEgY29tcG9uZW50IGNhbiBvd24uXG4gICAqL1xuICBfYXNzZXRUeXBlczogW1xuICAgICdjb21wb25lbnQnLFxuICAgICdkaXJlY3RpdmUnLFxuICAgICdmaWx0ZXInXG4gIF0sXG5cbiAgLyoqXG4gICAqIExpc3Qgb2YgbGlmZWN5Y2xlIGhvb2tzLlxuICAgKi9cbiAgX2xpZmVjeWNsZUhvb2tzOiBbXG4gICAgJ2JlZm9yZUNyZWF0ZScsXG4gICAgJ2NyZWF0ZWQnLFxuICAgICdiZWZvcmVNb3VudCcsXG4gICAgJ21vdW50ZWQnLFxuICAgICdiZWZvcmVVcGRhdGUnLFxuICAgICd1cGRhdGVkJyxcbiAgICAnYmVmb3JlRGVzdHJveScsXG4gICAgJ2Rlc3Ryb3llZCcsXG4gICAgJ2FjdGl2YXRlZCcsXG4gICAgJ2RlYWN0aXZhdGVkJ1xuICBdLFxuXG4gIC8qKlxuICAgKiBNYXggY2lyY3VsYXIgdXBkYXRlcyBhbGxvd2VkIGluIGEgc2NoZWR1bGVyIGZsdXNoIGN5Y2xlLlxuICAgKi9cbiAgX21heFVwZGF0ZUNvdW50OiAxMDBcbn07XG5cbnZhciB3YXJuID0gbm9vcDtcbnZhciBmb3JtYXRDb21wb25lbnROYW1lO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgaGFzQ29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcblxuICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcbiAgICBpZiAoaGFzQ29uc29sZSAmJiAoIWNvbmZpZy5zaWxlbnQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW1Z1ZSB3YXJuXTogXCIgKyBtc2cgKyBcIiBcIiArIChcbiAgICAgICAgdm0gPyBmb3JtYXRMb2NhdGlvbihmb3JtYXRDb21wb25lbnROYW1lKHZtKSkgOiAnJ1xuICAgICAgKSk7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0pIHtcbiAgICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XG4gICAgICByZXR1cm4gJ3Jvb3QgaW5zdGFuY2UnXG4gICAgfVxuICAgIHZhciBuYW1lID0gdm0uX2lzVnVlXG4gICAgICA/IHZtLiRvcHRpb25zLm5hbWUgfHwgdm0uJG9wdGlvbnMuX2NvbXBvbmVudFRhZ1xuICAgICAgOiB2bS5uYW1lO1xuICAgIHJldHVybiAoXG4gICAgICAobmFtZSA/IChcImNvbXBvbmVudCA8XCIgKyBuYW1lICsgXCI+XCIpIDogXCJhbm9ueW1vdXMgY29tcG9uZW50XCIpICtcbiAgICAgICh2bS5faXNWdWUgJiYgdm0uJG9wdGlvbnMuX19maWxlID8gKFwiIGF0IFwiICsgKHZtLiRvcHRpb25zLl9fZmlsZSkpIDogJycpXG4gICAgKVxuICB9O1xuXG4gIHZhciBmb3JtYXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoc3RyID09PSAnYW5vbnltb3VzIGNvbXBvbmVudCcpIHtcbiAgICAgIHN0ciArPSBcIiAtIHVzZSB0aGUgXFxcIm5hbWVcXFwiIG9wdGlvbiBmb3IgYmV0dGVyIGRlYnVnZ2luZyBtZXNzYWdlcy5cIjtcbiAgICB9XG4gICAgcmV0dXJuIChcIlxcbihmb3VuZCBpbiBcIiArIHN0ciArIFwiKVwiKVxuICB9O1xufVxuXG4vKiAgKi9cblxuXG52YXIgdWlkJDEgPSAwO1xuXG4vKipcbiAqIEEgZGVwIGlzIGFuIG9ic2VydmFibGUgdGhhdCBjYW4gaGF2ZSBtdWx0aXBsZVxuICogZGlyZWN0aXZlcyBzdWJzY3JpYmluZyB0byBpdC5cbiAqL1xudmFyIERlcCA9IGZ1bmN0aW9uIERlcCAoKSB7XG4gIHRoaXMuaWQgPSB1aWQkMSsrO1xuICB0aGlzLnN1YnMgPSBbXTtcbn07XG5cbkRlcC5wcm90b3R5cGUuYWRkU3ViID0gZnVuY3Rpb24gYWRkU3ViIChzdWIpIHtcbiAgdGhpcy5zdWJzLnB1c2goc3ViKTtcbn07XG5cbkRlcC5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24gcmVtb3ZlU3ViIChzdWIpIHtcbiAgcmVtb3ZlJDEodGhpcy5zdWJzLCBzdWIpO1xufTtcblxuRGVwLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiBkZXBlbmQgKCkge1xuICBpZiAoRGVwLnRhcmdldCkge1xuICAgIERlcC50YXJnZXQuYWRkRGVwKHRoaXMpO1xuICB9XG59O1xuXG5EZXAucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeSAoKSB7XG4gIC8vIHN0YWJsaXplIHRoZSBzdWJzY3JpYmVyIGxpc3QgZmlyc3RcbiAgdmFyIHN1YnMgPSB0aGlzLnN1YnMuc2xpY2UoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHN1YnNbaV0udXBkYXRlKCk7XG4gIH1cbn07XG5cbi8vIHRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC5cbi8vIHRoaXMgaXMgZ2xvYmFsbHkgdW5pcXVlIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb25seSBvbmVcbi8vIHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkIGF0IGFueSB0aW1lLlxuRGVwLnRhcmdldCA9IG51bGw7XG52YXIgdGFyZ2V0U3RhY2sgPSBbXTtcblxuZnVuY3Rpb24gcHVzaFRhcmdldCAoX3RhcmdldCkge1xuICBpZiAoRGVwLnRhcmdldCkgeyB0YXJnZXRTdGFjay5wdXNoKERlcC50YXJnZXQpOyB9XG4gIERlcC50YXJnZXQgPSBfdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBwb3BUYXJnZXQgKCkge1xuICBEZXAudGFyZ2V0ID0gdGFyZ2V0U3RhY2sucG9wKCk7XG59XG5cbi8qXG4gKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGhcbiAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZVxuICovXG5cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xudmFyIGFycmF5TWV0aG9kcyA9IE9iamVjdC5jcmVhdGUoYXJyYXlQcm90byk7W1xuICAncHVzaCcsXG4gICdwb3AnLFxuICAnc2hpZnQnLFxuICAndW5zaGlmdCcsXG4gICdzcGxpY2UnLFxuICAnc29ydCcsXG4gICdyZXZlcnNlJ1xuXVxuLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAvLyBjYWNoZSBvcmlnaW5hbCBtZXRob2RcbiAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdO1xuICBkZWYoYXJyYXlNZXRob2RzLCBtZXRob2QsIGZ1bmN0aW9uIG11dGF0b3IgKCkge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIC8vIGF2b2lkIGxlYWtpbmcgYXJndW1lbnRzOlxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb3N1cmUtd2l0aC1hcmd1bWVudHNcbiAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50cyQxW2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgdmFyIG9iID0gdGhpcy5fX29iX187XG4gICAgdmFyIGluc2VydGVkO1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdwdXNoJzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzO1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAndW5zaGlmdCc6XG4gICAgICAgIGluc2VydGVkID0gYXJncztcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3NwbGljZSc6XG4gICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTtcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKGluc2VydGVkKSB7IG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7IH1cbiAgICAvLyBub3RpZnkgY2hhbmdlXG4gICAgb2IuZGVwLm5vdGlmeSgpO1xuICAgIHJldHVybiByZXN1bHRcbiAgfSk7XG59KTtcblxuLyogICovXG5cbnZhciBhcnJheUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcnJheU1ldGhvZHMpO1xuXG4vKipcbiAqIEJ5IGRlZmF1bHQsIHdoZW4gYSByZWFjdGl2ZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBuZXcgdmFsdWUgaXNcbiAqIGFsc28gY29udmVydGVkIHRvIGJlY29tZSByZWFjdGl2ZS4gSG93ZXZlciB3aGVuIHBhc3NpbmcgZG93biBwcm9wcyxcbiAqIHdlIGRvbid0IHdhbnQgdG8gZm9yY2UgY29udmVyc2lvbiBiZWNhdXNlIHRoZSB2YWx1ZSBtYXkgYmUgYSBuZXN0ZWQgdmFsdWVcbiAqIHVuZGVyIGEgZnJvemVuIGRhdGEgc3RydWN0dXJlLiBDb252ZXJ0aW5nIGl0IHdvdWxkIGRlZmVhdCB0aGUgb3B0aW1pemF0aW9uLlxuICovXG52YXIgb2JzZXJ2ZXJTdGF0ZSA9IHtcbiAgc2hvdWxkQ29udmVydDogdHJ1ZSxcbiAgaXNTZXR0aW5nUHJvcHM6IGZhbHNlXG59O1xuXG4vKipcbiAqIE9ic2VydmVyIGNsYXNzIHRoYXQgYXJlIGF0dGFjaGVkIHRvIGVhY2ggb2JzZXJ2ZWRcbiAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRhcmdldFxuICogb2JqZWN0J3MgcHJvcGVydHkga2V5cyBpbnRvIGdldHRlci9zZXR0ZXJzIHRoYXRcbiAqIGNvbGxlY3QgZGVwZW5kZW5jaWVzIGFuZCBkaXNwYXRjaGVzIHVwZGF0ZXMuXG4gKi9cbnZhciBPYnNlcnZlciA9IGZ1bmN0aW9uIE9ic2VydmVyICh2YWx1ZSkge1xuICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICB0aGlzLnZtQ291bnQgPSAwO1xuICBkZWYodmFsdWUsICdfX29iX18nLCB0aGlzKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgdmFyIGF1Z21lbnQgPSBoYXNQcm90b1xuICAgICAgPyBwcm90b0F1Z21lbnRcbiAgICAgIDogY29weUF1Z21lbnQ7XG4gICAgYXVnbWVudCh2YWx1ZSwgYXJyYXlNZXRob2RzLCBhcnJheUtleXMpO1xuICAgIHRoaXMub2JzZXJ2ZUFycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndhbGsodmFsdWUpO1xuICB9XG59O1xuXG4vKipcbiAqIFdhbGsgdGhyb3VnaCBlYWNoIHByb3BlcnR5IGFuZCBjb252ZXJ0IHRoZW0gaW50b1xuICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cbiAqL1xuT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0sIG9ialtrZXlzW2ldXSk7XG4gIH1cbn07XG5cbi8qKlxuICogT2JzZXJ2ZSBhIGxpc3Qgb2YgQXJyYXkgaXRlbXMuXG4gKi9cbk9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXkgPSBmdW5jdGlvbiBvYnNlcnZlQXJyYXkgKGl0ZW1zKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgb2JzZXJ2ZShpdGVtc1tpXSk7XG4gIH1cbn07XG5cbi8vIGhlbHBlcnNcblxuLyoqXG4gKiBBdWdtZW50IGFuIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgaW50ZXJjZXB0aW5nXG4gKiB0aGUgcHJvdG90eXBlIGNoYWluIHVzaW5nIF9fcHJvdG9fX1xuICovXG5mdW5jdGlvbiBwcm90b0F1Z21lbnQgKHRhcmdldCwgc3JjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG4gIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcHJvdG8gKi9cbn1cblxuLyoqXG4gKiBBdWdtZW50IGFuIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgZGVmaW5pbmdcbiAqIGhpZGRlbiBwcm9wZXJ0aWVzLlxuICpcbiAqIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gKi9cbmZ1bmN0aW9uIGNvcHlBdWdtZW50ICh0YXJnZXQsIHNyYywga2V5cykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgZGVmKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0IHRvIGNyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZSBmb3IgYSB2YWx1ZSxcbiAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsXG4gKiBvciB0aGUgZXhpc3Rpbmcgb2JzZXJ2ZXIgaWYgdGhlIHZhbHVlIGFscmVhZHkgaGFzIG9uZS5cbiAqL1xuZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2I7XG4gIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuICAgIG9iID0gdmFsdWUuX19vYl9fO1xuICB9IGVsc2UgaWYgKFxuICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCAmJlxuICAgICFpc1NlcnZlclJlbmRlcmluZygpICYmXG4gICAgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUpKSAmJlxuICAgIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpICYmXG4gICAgIXZhbHVlLl9pc1Z1ZVxuICApIHtcbiAgICBvYiA9IG5ldyBPYnNlcnZlcih2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG9iXG59XG5cbi8qKlxuICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LlxuICovXG5mdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZSQkMSAoXG4gIG9iaixcbiAga2V5LFxuICB2YWwsXG4gIGN1c3RvbVNldHRlclxuKSB7XG4gIHZhciBkZXAgPSBuZXcgRGVwKCk7XG5cbiAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG4gIGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBjYXRlciBmb3IgcHJlLWRlZmluZWQgZ2V0dGVyL3NldHRlcnNcbiAgdmFyIGdldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LmdldDtcbiAgdmFyIHNldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnNldDtcblxuICB2YXIgY2hpbGRPYiA9IG9ic2VydmUodmFsKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiByZWFjdGl2ZUdldHRlciAoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xuICAgICAgaWYgKERlcC50YXJnZXQpIHtcbiAgICAgICAgZGVwLmRlcGVuZCgpO1xuICAgICAgICBpZiAoY2hpbGRPYikge1xuICAgICAgICAgIGNoaWxkT2IuZGVwLmRlcGVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGRlcGVuZEFycmF5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlU2V0dGVyIChuZXdWYWwpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cbiAgICAgIGlmIChuZXdWYWwgPT09IHZhbHVlIHx8IChuZXdWYWwgIT09IG5ld1ZhbCAmJiB2YWx1ZSAhPT0gdmFsdWUpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGN1c3RvbVNldHRlcikge1xuICAgICAgICBjdXN0b21TZXR0ZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgc2V0dGVyLmNhbGwob2JqLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gbmV3VmFsO1xuICAgICAgfVxuICAgICAgY2hpbGRPYiA9IG9ic2VydmUobmV3VmFsKTtcbiAgICAgIGRlcC5ub3RpZnkoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdC4gQWRkcyB0aGUgbmV3IHByb3BlcnR5IGFuZFxuICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndFxuICogYWxyZWFkeSBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2V0IChvYmosIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBvYmoubGVuZ3RoID0gTWF0aC5tYXgob2JqLmxlbmd0aCwga2V5KTtcbiAgICBvYmouc3BsaWNlKGtleSwgMSwgdmFsKTtcbiAgICByZXR1cm4gdmFsXG4gIH1cbiAgaWYgKGhhc093bihvYmosIGtleSkpIHtcbiAgICBvYmpba2V5XSA9IHZhbDtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2IgPSBvYmouX19vYl9fO1xuICBpZiAob2JqLl9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAnQXZvaWQgYWRkaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMgdG8gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXG4gICAgICAnYXQgcnVudGltZSAtIGRlY2xhcmUgaXQgdXBmcm9udCBpbiB0aGUgZGF0YSBvcHRpb24uJ1xuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFvYikge1xuICAgIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVyblxuICB9XG4gIGRlZmluZVJlYWN0aXZlJCQxKG9iLnZhbHVlLCBrZXksIHZhbCk7XG4gIG9iLmRlcC5ub3RpZnkoKTtcbiAgcmV0dXJuIHZhbFxufVxuXG4vKipcbiAqIERlbGV0ZSBhIHByb3BlcnR5IGFuZCB0cmlnZ2VyIGNoYW5nZSBpZiBuZWNlc3NhcnkuXG4gKi9cbmZ1bmN0aW9uIGRlbCAob2JqLCBrZXkpIHtcbiAgdmFyIG9iID0gb2JqLl9fb2JfXztcbiAgaWYgKG9iai5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ0F2b2lkIGRlbGV0aW5nIHByb3BlcnRpZXMgb24gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXG4gICAgICAnLSBqdXN0IHNldCBpdCB0byBudWxsLidcbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIGlmICghaGFzT3duKG9iaiwga2V5KSkge1xuICAgIHJldHVyblxuICB9XG4gIGRlbGV0ZSBvYmpba2V5XTtcbiAgaWYgKCFvYikge1xuICAgIHJldHVyblxuICB9XG4gIG9iLmRlcC5ub3RpZnkoKTtcbn1cblxuLyoqXG4gKiBDb2xsZWN0IGRlcGVuZGVuY2llcyBvbiBhcnJheSBlbGVtZW50cyB3aGVuIHRoZSBhcnJheSBpcyB0b3VjaGVkLCBzaW5jZVxuICogd2UgY2Fubm90IGludGVyY2VwdCBhcnJheSBlbGVtZW50IGFjY2VzcyBsaWtlIHByb3BlcnR5IGdldHRlcnMuXG4gKi9cbmZ1bmN0aW9uIGRlcGVuZEFycmF5ICh2YWx1ZSkge1xuICBmb3IgKHZhciBlID0gKHZvaWQgMCksIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZSA9IHZhbHVlW2ldO1xuICAgIGUgJiYgZS5fX29iX18gJiYgZS5fX29iX18uZGVwLmRlcGVuZCgpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBkZXBlbmRBcnJheShlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8qKlxuICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZVxuICogaG93IHRvIG1lcmdlIGEgcGFyZW50IG9wdGlvbiB2YWx1ZSBhbmQgYSBjaGlsZCBvcHRpb25cbiAqIHZhbHVlIGludG8gdGhlIGZpbmFsIHZhbHVlLlxuICovXG52YXIgc3RyYXRzID0gY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztcblxuLyoqXG4gKiBPcHRpb25zIHdpdGggcmVzdHJpY3Rpb25zXG4gKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHN0cmF0cy5lbCA9IHN0cmF0cy5wcm9wc0RhdGEgPSBmdW5jdGlvbiAocGFyZW50LCBjaGlsZCwgdm0sIGtleSkge1xuICAgIGlmICghdm0pIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIFwib3B0aW9uIFxcXCJcIiArIGtleSArIFwiXFxcIiBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBpbnN0YW5jZSBcIiArXG4gICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0U3RyYXQocGFyZW50LCBjaGlsZClcbiAgfTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdGhhdCByZWN1cnNpdmVseSBtZXJnZXMgdHdvIGRhdGEgb2JqZWN0cyB0b2dldGhlci5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VEYXRhICh0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHsgcmV0dXJuIHRvIH1cbiAgdmFyIGtleSwgdG9WYWwsIGZyb21WYWw7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJvbSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgdG9WYWwgPSB0b1trZXldO1xuICAgIGZyb21WYWwgPSBmcm9tW2tleV07XG4gICAgaWYgKCFoYXNPd24odG8sIGtleSkpIHtcbiAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodG9WYWwpICYmIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcbiAgICAgIG1lcmdlRGF0YSh0b1ZhbCwgZnJvbVZhbCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0b1xufVxuXG4vKipcbiAqIERhdGFcbiAqL1xuc3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtXG4pIHtcbiAgaWYgKCF2bSkge1xuICAgIC8vIGluIGEgVnVlLmV4dGVuZCBtZXJnZSwgYm90aCBzaG91bGQgYmUgZnVuY3Rpb25zXG4gICAgaWYgKCFjaGlsZFZhbCkge1xuICAgICAgcmV0dXJuIHBhcmVudFZhbFxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoaWxkVmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICdUaGUgXCJkYXRhXCIgb3B0aW9uIHNob3VsZCBiZSBhIGZ1bmN0aW9uICcgK1xuICAgICAgICAndGhhdCByZXR1cm5zIGEgcGVyLWluc3RhbmNlIHZhbHVlIGluIGNvbXBvbmVudCAnICtcbiAgICAgICAgJ2RlZmluaXRpb25zLicsXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgICAgcmV0dXJuIHBhcmVudFZhbFxuICAgIH1cbiAgICBpZiAoIXBhcmVudFZhbCkge1xuICAgICAgcmV0dXJuIGNoaWxkVmFsXG4gICAgfVxuICAgIC8vIHdoZW4gcGFyZW50VmFsICYgY2hpbGRWYWwgYXJlIGJvdGggcHJlc2VudCxcbiAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbiAgICAvLyBtZXJnZWQgcmVzdWx0IG9mIGJvdGggZnVuY3Rpb25zLi4uIG5vIG5lZWQgdG9cbiAgICAvLyBjaGVjayBpZiBwYXJlbnRWYWwgaXMgYSBmdW5jdGlvbiBoZXJlIGJlY2F1c2VcbiAgICAvLyBpdCBoYXMgdG8gYmUgYSBmdW5jdGlvbiB0byBwYXNzIHByZXZpb3VzIG1lcmdlcy5cbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuICgpIHtcbiAgICAgIHJldHVybiBtZXJnZURhdGEoXG4gICAgICAgIGNoaWxkVmFsLmNhbGwodGhpcyksXG4gICAgICAgIHBhcmVudFZhbC5jYWxsKHRoaXMpXG4gICAgICApXG4gICAgfVxuICB9IGVsc2UgaWYgKHBhcmVudFZhbCB8fCBjaGlsZFZhbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRJbnN0YW5jZURhdGFGbiAoKSB7XG4gICAgICAvLyBpbnN0YW5jZSBtZXJnZVxuICAgICAgdmFyIGluc3RhbmNlRGF0YSA9IHR5cGVvZiBjaGlsZFZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGNoaWxkVmFsLmNhbGwodm0pXG4gICAgICAgIDogY2hpbGRWYWw7XG4gICAgICB2YXIgZGVmYXVsdERhdGEgPSB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gcGFyZW50VmFsLmNhbGwodm0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VEYXRhKGluc3RhbmNlRGF0YSwgZGVmYXVsdERhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdERhdGFcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSG9va3MgYW5kIHBhcmFtIGF0dHJpYnV0ZXMgYXJlIG1lcmdlZCBhcyBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9vayAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWxcbikge1xuICByZXR1cm4gY2hpbGRWYWxcbiAgICA/IHBhcmVudFZhbFxuICAgICAgPyBwYXJlbnRWYWwuY29uY2F0KGNoaWxkVmFsKVxuICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKVxuICAgICAgICA/IGNoaWxkVmFsXG4gICAgICAgIDogW2NoaWxkVmFsXVxuICAgIDogcGFyZW50VmFsXG59XG5cbmNvbmZpZy5fbGlmZWN5Y2xlSG9va3MuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xuICBzdHJhdHNbaG9va10gPSBtZXJnZUhvb2s7XG59KTtcblxuLyoqXG4gKiBBc3NldHNcbiAqXG4gKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvXG4gKiBhIHRocmVlLXdheSBtZXJnZSBiZXR3ZWVuIGNvbnN0cnVjdG9yIG9wdGlvbnMsIGluc3RhbmNlXG4gKiBvcHRpb25zIGFuZCBwYXJlbnQgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VBc3NldHMgKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpO1xuICByZXR1cm4gY2hpbGRWYWxcbiAgICA/IGV4dGVuZChyZXMsIGNoaWxkVmFsKVxuICAgIDogcmVzXG59XG5cbmNvbmZpZy5fYXNzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gIHN0cmF0c1t0eXBlICsgJ3MnXSA9IG1lcmdlQXNzZXRzO1xufSk7XG5cbi8qKlxuICogV2F0Y2hlcnMuXG4gKlxuICogV2F0Y2hlcnMgaGFzaGVzIHNob3VsZCBub3Qgb3ZlcndyaXRlIG9uZVxuICogYW5vdGhlciwgc28gd2UgbWVyZ2UgdGhlbSBhcyBhcnJheXMuXG4gKi9cbnN0cmF0cy53YXRjaCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNoaWxkVmFsKSB7IHJldHVybiBwYXJlbnRWYWwgfVxuICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuICB2YXIgcmV0ID0ge307XG4gIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG4gIGZvciAodmFyIGtleSBpbiBjaGlsZFZhbCkge1xuICAgIHZhciBwYXJlbnQgPSByZXRba2V5XTtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZFZhbFtrZXldO1xuICAgIGlmIChwYXJlbnQgJiYgIUFycmF5LmlzQXJyYXkocGFyZW50KSkge1xuICAgICAgcGFyZW50ID0gW3BhcmVudF07XG4gICAgfVxuICAgIHJldFtrZXldID0gcGFyZW50XG4gICAgICA/IHBhcmVudC5jb25jYXQoY2hpbGQpXG4gICAgICA6IFtjaGlsZF07XG4gIH1cbiAgcmV0dXJuIHJldFxufTtcblxuLyoqXG4gKiBPdGhlciBvYmplY3QgaGFzaGVzLlxuICovXG5zdHJhdHMucHJvcHMgPVxuc3RyYXRzLm1ldGhvZHMgPVxuc3RyYXRzLmNvbXB1dGVkID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gcGFyZW50VmFsIH1cbiAgaWYgKCFwYXJlbnRWYWwpIHsgcmV0dXJuIGNoaWxkVmFsIH1cbiAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG4gIGV4dGVuZChyZXQsIGNoaWxkVmFsKTtcbiAgcmV0dXJuIHJldFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IHN0cmF0ZWd5LlxuICovXG52YXIgZGVmYXVsdFN0cmF0ID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgcmV0dXJuIGNoaWxkVmFsID09PSB1bmRlZmluZWRcbiAgICA/IHBhcmVudFZhbFxuICAgIDogY2hpbGRWYWxcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgY29tcG9uZW50IG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ29tcG9uZW50cyAob3B0aW9ucykge1xuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7XG4gICAgdmFyIGxvd2VyID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGlzQnVpbHRJblRhZyhsb3dlcikgfHwgY29uZmlnLmlzUmVzZXJ2ZWRUYWcobG93ZXIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcbiAgICAgICAgJ2lkOiAnICsga2V5XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEVuc3VyZSBhbGwgcHJvcHMgb3B0aW9uIHN5bnRheCBhcmUgbm9ybWFsaXplZCBpbnRvIHRoZVxuICogT2JqZWN0LWJhc2VkIGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMgKG9wdGlvbnMpIHtcbiAgdmFyIHByb3BzID0gb3B0aW9ucy5wcm9wcztcbiAgaWYgKCFwcm9wcykgeyByZXR1cm4gfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBpLCB2YWwsIG5hbWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BzKSkge1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdmFsID0gcHJvcHNbaV07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XG4gICAgICAgIHJlc1tuYW1lXSA9IHsgdHlwZTogbnVsbCB9O1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIHZhbCA9IHByb3BzW2tleV07XG4gICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTtcbiAgICAgIHJlc1tuYW1lXSA9IGlzUGxhaW5PYmplY3QodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IHsgdHlwZTogdmFsIH07XG4gICAgfVxuICB9XG4gIG9wdGlvbnMucHJvcHMgPSByZXM7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyAob3B0aW9ucykge1xuICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcbiAgaWYgKGRpcnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGlycykge1xuICAgICAgdmFyIGRlZiA9IGRpcnNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRpcnNba2V5XSA9IHsgYmluZDogZGVmLCB1cGRhdGU6IGRlZiB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1lcmdlIHR3byBvcHRpb24gb2JqZWN0cyBpbnRvIGEgbmV3IG9uZS5cbiAqIENvcmUgdXRpbGl0eSB1c2VkIGluIGJvdGggaW5zdGFudGlhdGlvbiBhbmQgaW5oZXJpdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyAoXG4gIHBhcmVudCxcbiAgY2hpbGQsXG4gIHZtXG4pIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjaGVja0NvbXBvbmVudHMoY2hpbGQpO1xuICB9XG4gIG5vcm1hbGl6ZVByb3BzKGNoaWxkKTtcbiAgbm9ybWFsaXplRGlyZWN0aXZlcyhjaGlsZCk7XG4gIHZhciBleHRlbmRzRnJvbSA9IGNoaWxkLmV4dGVuZHM7XG4gIGlmIChleHRlbmRzRnJvbSkge1xuICAgIHBhcmVudCA9IHR5cGVvZiBleHRlbmRzRnJvbSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBtZXJnZU9wdGlvbnMocGFyZW50LCBleHRlbmRzRnJvbS5vcHRpb25zLCB2bSlcbiAgICAgIDogbWVyZ2VPcHRpb25zKHBhcmVudCwgZXh0ZW5kc0Zyb20sIHZtKTtcbiAgfVxuICBpZiAoY2hpbGQubWl4aW5zKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZC5taXhpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbWl4aW4gPSBjaGlsZC5taXhpbnNbaV07XG4gICAgICBpZiAobWl4aW4ucHJvdG90eXBlIGluc3RhbmNlb2YgVnVlJDIpIHtcbiAgICAgICAgbWl4aW4gPSBtaXhpbi5vcHRpb25zO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgbWl4aW4sIHZtKTtcbiAgICB9XG4gIH1cbiAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gcGFyZW50KSB7XG4gICAgbWVyZ2VGaWVsZChrZXkpO1xuICB9XG4gIGZvciAoa2V5IGluIGNoaWxkKSB7XG4gICAgaWYgKCFoYXNPd24ocGFyZW50LCBrZXkpKSB7XG4gICAgICBtZXJnZUZpZWxkKGtleSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1lcmdlRmllbGQgKGtleSkge1xuICAgIHZhciBzdHJhdCA9IHN0cmF0c1trZXldIHx8IGRlZmF1bHRTdHJhdDtcbiAgICBvcHRpb25zW2tleV0gPSBzdHJhdChwYXJlbnRba2V5XSwgY2hpbGRba2V5XSwgdm0sIGtleSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuLyoqXG4gKiBSZXNvbHZlIGFuIGFzc2V0LlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJlY2F1c2UgY2hpbGQgaW5zdGFuY2VzIG5lZWQgYWNjZXNzXG4gKiB0byBhc3NldHMgZGVmaW5lZCBpbiBpdHMgYW5jZXN0b3IgY2hhaW4uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCAoXG4gIG9wdGlvbnMsXG4gIHR5cGUsXG4gIGlkLFxuICB3YXJuTWlzc2luZ1xuKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBhc3NldHMgPSBvcHRpb25zW3R5cGVdO1xuICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fFxuICAgIC8vIGNhbWVsQ2FzZSBJRFxuICAgIGFzc2V0c1tjYW1lbGl6ZShpZCldIHx8XG4gICAgLy8gUGFzY2FsIENhc2UgSURcbiAgICBhc3NldHNbY2FwaXRhbGl6ZShjYW1lbGl6ZShpZCkpXTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgIHdhcm4oXG4gICAgICAnRmFpbGVkIHRvIHJlc29sdmUgJyArIHR5cGUuc2xpY2UoMCwgLTEpICsgJzogJyArIGlkLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wIChcbiAga2V5LFxuICBwcm9wT3B0aW9ucyxcbiAgcHJvcHNEYXRhLFxuICB2bVxuKSB7XG4gIHZhciBwcm9wID0gcHJvcE9wdGlvbnNba2V5XTtcbiAgdmFyIGFic2VudCA9ICFoYXNPd24ocHJvcHNEYXRhLCBrZXkpO1xuICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTtcbiAgLy8gaGFuZGxlIGJvb2xlYW4gcHJvcHNcbiAgaWYgKGlzQm9vbGVhblR5cGUocHJvcC50eXBlKSkge1xuICAgIGlmIChhYnNlbnQgJiYgIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG4gICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkge1xuICAgICAgdmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBnZXRQcm9wRGVmYXVsdFZhbHVlKHZtLCBwcm9wLCBrZXkpO1xuICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSxcbiAgICAvLyBtYWtlIHN1cmUgdG8gb2JzZXJ2ZSBpdC5cbiAgICB2YXIgcHJldlNob3VsZENvbnZlcnQgPSBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQ7XG4gICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcbiAgICBvYnNlcnZlKHZhbHVlKTtcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBwcmV2U2hvdWxkQ29udmVydDtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8qKlxuICogR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcHJvcC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcERlZmF1bHRWYWx1ZSAodm0sIHByb3AsIGtleSkge1xuICAvLyBubyBkZWZhdWx0LCByZXR1cm4gdW5kZWZpbmVkXG4gIGlmICghaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgdmFyIGRlZiA9IHByb3AuZGVmYXVsdDtcbiAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheVxuICBpZiAoaXNPYmplY3QoZGVmKSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdJbnZhbGlkIGRlZmF1bHQgdmFsdWUgZm9yIHByb3AgXCInICsga2V5ICsgJ1wiOiAnICtcbiAgICAgICdQcm9wcyB3aXRoIHR5cGUgT2JqZWN0L0FycmF5IG11c3QgdXNlIGEgZmFjdG9yeSBmdW5jdGlvbiAnICtcbiAgICAgICd0byByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUuJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgfVxuICAvLyB0aGUgcmF3IHByb3AgdmFsdWUgd2FzIGFsc28gdW5kZWZpbmVkIGZyb20gcHJldmlvdXMgcmVuZGVyLFxuICAvLyByZXR1cm4gcHJldmlvdXMgZGVmYXVsdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YXRjaGVyIHRyaWdnZXJcbiAgaWYgKHZtICYmIHZtLiRvcHRpb25zLnByb3BzRGF0YSAmJlxuICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YVtrZXldID09PSB1bmRlZmluZWQgJiZcbiAgICB2bVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdm1ba2V5XVxuICB9XG4gIC8vIGNhbGwgZmFjdG9yeSBmdW5jdGlvbiBmb3Igbm9uLUZ1bmN0aW9uIHR5cGVzXG4gIHJldHVybiB0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nICYmIHByb3AudHlwZSAhPT0gRnVuY3Rpb25cbiAgICA/IGRlZi5jYWxsKHZtKVxuICAgIDogZGVmXG59XG5cbi8qKlxuICogQXNzZXJ0IHdoZXRoZXIgYSBwcm9wIGlzIHZhbGlkLlxuICovXG5mdW5jdGlvbiBhc3NlcnRQcm9wIChcbiAgcHJvcCxcbiAgbmFtZSxcbiAgdmFsdWUsXG4gIHZtLFxuICBhYnNlbnRcbikge1xuICBpZiAocHJvcC5yZXF1aXJlZCAmJiBhYnNlbnQpIHtcbiAgICB3YXJuKFxuICAgICAgJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicsXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgdHlwZSA9IHByb3AudHlwZTtcbiAgdmFyIHZhbGlkID0gIXR5cGUgfHwgdHlwZSA9PT0gdHJ1ZTtcbiAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgaWYgKHR5cGUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHR5cGUgPSBbdHlwZV07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGggJiYgIXZhbGlkOyBpKyspIHtcbiAgICAgIHZhciBhc3NlcnRlZFR5cGUgPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlW2ldKTtcbiAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChhc3NlcnRlZFR5cGUuZXhwZWN0ZWRUeXBlKTtcbiAgICAgIHZhbGlkID0gYXNzZXJ0ZWRUeXBlLnZhbGlkO1xuICAgIH1cbiAgfVxuICBpZiAoIXZhbGlkKSB7XG4gICAgd2FybihcbiAgICAgICdJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyArXG4gICAgICAnIEV4cGVjdGVkICcgKyBleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpICtcbiAgICAgICcsIGdvdCAnICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkgKyAnLicsXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHZhbGlkYXRvciA9IHByb3AudmFsaWRhdG9yO1xuICBpZiAodmFsaWRhdG9yKSB7XG4gICAgaWYgKCF2YWxpZGF0b3IodmFsdWUpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicsXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFzc2VydCB0aGUgdHlwZSBvZiBhIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFR5cGUgKHZhbHVlLCB0eXBlKSB7XG4gIHZhciB2YWxpZDtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09ICdTdHJpbmcnKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnc3RyaW5nJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnTnVtYmVyJykge1xuICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ251bWJlcicpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnYm9vbGVhbicpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0Z1bmN0aW9uJykge1xuICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ2Z1bmN0aW9uJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xuICAgIHZhbGlkID0gaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XG4gICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkOiB2YWxpZCxcbiAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZVxuICB9XG59XG5cbi8qKlxuICogVXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIGJ1aWx0LWluIHR5cGVzLFxuICogYmVjYXVzZSBhIHNpbXBsZSBlcXVhbGl0eSBjaGVjayB3aWxsIGZhaWwgd2hlbiBydW5uaW5nXG4gKiBhY3Jvc3MgZGlmZmVyZW50IHZtcyAvIGlmcmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFR5cGUgKGZuKSB7XG4gIHZhciBtYXRjaCA9IGZuICYmIGZuLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXVxufVxuXG5mdW5jdGlvbiBpc0Jvb2xlYW5UeXBlIChmbikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgcmV0dXJuIGdldFR5cGUoZm4pID09PSAnQm9vbGVhbidcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZm4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZ2V0VHlwZShmbltpXSkgPT09ICdCb29sZWFuJykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlXG59XG5cblxuXG52YXIgdXRpbCA9IE9iamVjdC5mcmVlemUoe1xuXHRkZWZpbmVSZWFjdGl2ZTogZGVmaW5lUmVhY3RpdmUkJDEsXG5cdF90b1N0cmluZzogX3RvU3RyaW5nLFxuXHR0b051bWJlcjogdG9OdW1iZXIsXG5cdG1ha2VNYXA6IG1ha2VNYXAsXG5cdGlzQnVpbHRJblRhZzogaXNCdWlsdEluVGFnLFxuXHRyZW1vdmU6IHJlbW92ZSQxLFxuXHRoYXNPd246IGhhc093bixcblx0aXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuXHRjYWNoZWQ6IGNhY2hlZCxcblx0Y2FtZWxpemU6IGNhbWVsaXplLFxuXHRjYXBpdGFsaXplOiBjYXBpdGFsaXplLFxuXHRoeXBoZW5hdGU6IGh5cGhlbmF0ZSxcblx0YmluZDogYmluZCQxLFxuXHR0b0FycmF5OiB0b0FycmF5LFxuXHRleHRlbmQ6IGV4dGVuZCxcblx0aXNPYmplY3Q6IGlzT2JqZWN0LFxuXHRpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0LFxuXHR0b09iamVjdDogdG9PYmplY3QsXG5cdG5vb3A6IG5vb3AsXG5cdG5vOiBubyxcblx0Z2VuU3RhdGljS2V5czogZ2VuU3RhdGljS2V5cyxcblx0bG9vc2VFcXVhbDogbG9vc2VFcXVhbCxcblx0bG9vc2VJbmRleE9mOiBsb29zZUluZGV4T2YsXG5cdGlzUmVzZXJ2ZWQ6IGlzUmVzZXJ2ZWQsXG5cdGRlZjogZGVmLFxuXHRwYXJzZVBhdGg6IHBhcnNlUGF0aCxcblx0aGFzUHJvdG86IGhhc1Byb3RvLFxuXHRpbkJyb3dzZXI6IGluQnJvd3Nlcixcblx0VUE6IFVBLFxuXHRpc0lFOiBpc0lFLFxuXHRpc0lFOTogaXNJRTksXG5cdGlzRWRnZTogaXNFZGdlLFxuXHRpc0FuZHJvaWQ6IGlzQW5kcm9pZCxcblx0aXNJT1M6IGlzSU9TLFxuXHRpc1NlcnZlclJlbmRlcmluZzogaXNTZXJ2ZXJSZW5kZXJpbmcsXG5cdGRldnRvb2xzOiBkZXZ0b29scyxcblx0bmV4dFRpY2s6IG5leHRUaWNrLFxuXHRnZXQgX1NldCAoKSB7IHJldHVybiBfU2V0OyB9LFxuXHRtZXJnZU9wdGlvbnM6IG1lcmdlT3B0aW9ucyxcblx0cmVzb2x2ZUFzc2V0OiByZXNvbHZlQXNzZXQsXG5cdGdldCB3YXJuICgpIHsgcmV0dXJuIHdhcm47IH0sXG5cdGdldCBmb3JtYXRDb21wb25lbnROYW1lICgpIHsgcmV0dXJuIGZvcm1hdENvbXBvbmVudE5hbWU7IH0sXG5cdHZhbGlkYXRlUHJvcDogdmFsaWRhdGVQcm9wXG59KTtcblxuLyogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoIFByb3h5ICovXG5cbnZhciBpbml0UHJveHk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBhbGxvd2VkR2xvYmFscyA9IG1ha2VNYXAoXG4gICAgJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4sJyArXG4gICAgJ3BhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLGRlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LCcgK1xuICAgICdNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsJyArXG4gICAgJ3JlcXVpcmUnIC8vIGZvciBXZWJwYWNrL0Jyb3dzZXJpZnlcbiAgKTtcblxuICB2YXIgd2Fybk5vblByZXNlbnQgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcbiAgICB3YXJuKFxuICAgICAgXCJQcm9wZXJ0eSBvciBtZXRob2QgXFxcIlwiICsga2V5ICsgXCJcXFwiIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBpbnN0YW5jZSBidXQgXCIgK1xuICAgICAgXCJyZWZlcmVuY2VkIGR1cmluZyByZW5kZXIuIE1ha2Ugc3VyZSB0byBkZWNsYXJlIHJlYWN0aXZlIGRhdGEgXCIgK1xuICAgICAgXCJwcm9wZXJ0aWVzIGluIHRoZSBkYXRhIG9wdGlvbi5cIixcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGhhc1Byb3h5ID1cbiAgICB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgUHJveHkudG9TdHJpbmcoKS5tYXRjaCgvbmF0aXZlIGNvZGUvKTtcblxuICB2YXIgaGFzSGFuZGxlciA9IHtcbiAgICBoYXM6IGZ1bmN0aW9uIGhhcyAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIHZhciBoYXMgPSBrZXkgaW4gdGFyZ2V0O1xuICAgICAgdmFyIGlzQWxsb3dlZCA9IGFsbG93ZWRHbG9iYWxzKGtleSkgfHwga2V5LmNoYXJBdCgwKSA9PT0gJ18nO1xuICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkge1xuICAgICAgICB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzIHx8ICFpc0FsbG93ZWRcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldEhhbmRsZXIgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQgKHRhcmdldCwga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIShrZXkgaW4gdGFyZ2V0KSkge1xuICAgICAgICB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV1cbiAgICB9XG4gIH07XG5cbiAgaW5pdFByb3h5ID0gZnVuY3Rpb24gaW5pdFByb3h5ICh2bSkge1xuICAgIGlmIChoYXNQcm94eSkge1xuICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIHByb3h5IGhhbmRsZXIgdG8gdXNlXG4gICAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xuICAgICAgdmFyIGhhbmRsZXJzID0gb3B0aW9ucy5yZW5kZXIgJiYgb3B0aW9ucy5yZW5kZXIuX3dpdGhTdHJpcHBlZFxuICAgICAgICA/IGdldEhhbmRsZXJcbiAgICAgICAgOiBoYXNIYW5kbGVyO1xuICAgICAgdm0uX3JlbmRlclByb3h5ID0gbmV3IFByb3h5KHZtLCBoYW5kbGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xuICAgIH1cbiAgfTtcbn1cblxuLyogICovXG5cblxudmFyIHF1ZXVlID0gW107XG52YXIgaGFzJDEgPSB7fTtcbnZhciBjaXJjdWxhciA9IHt9O1xudmFyIHdhaXRpbmcgPSBmYWxzZTtcbnZhciBmbHVzaGluZyA9IGZhbHNlO1xudmFyIGluZGV4ID0gMDtcblxuLyoqXG4gKiBSZXNldCB0aGUgc2NoZWR1bGVyJ3Mgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0U2NoZWR1bGVyU3RhdGUgKCkge1xuICBxdWV1ZS5sZW5ndGggPSAwO1xuICBoYXMkMSA9IHt9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNpcmN1bGFyID0ge307XG4gIH1cbiAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogRmx1c2ggYm90aCBxdWV1ZXMgYW5kIHJ1biB0aGUgd2F0Y2hlcnMuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoU2NoZWR1bGVyUXVldWUgKCkge1xuICBmbHVzaGluZyA9IHRydWU7XG5cbiAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXG4gIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxuICAvLyAxLiBDb21wb25lbnRzIGFyZSB1cGRhdGVkIGZyb20gcGFyZW50IHRvIGNoaWxkLiAoYmVjYXVzZSBwYXJlbnQgaXMgYWx3YXlzXG4gIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZClcbiAgLy8gMi4gQSBjb21wb25lbnQncyB1c2VyIHdhdGNoZXJzIGFyZSBydW4gYmVmb3JlIGl0cyByZW5kZXIgd2F0Y2hlciAoYmVjYXVzZVxuICAvLyAgICB1c2VyIHdhdGNoZXJzIGFyZSBjcmVhdGVkIGJlZm9yZSB0aGUgcmVuZGVyIHdhdGNoZXIpXG4gIC8vIDMuIElmIGEgY29tcG9uZW50IGlzIGRlc3Ryb3llZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3Mgd2F0Y2hlciBydW4sXG4gIC8vICAgIGl0cyB3YXRjaGVycyBjYW4gYmUgc2tpcHBlZC5cbiAgcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pO1xuXG4gIC8vIGRvIG5vdCBjYWNoZSBsZW5ndGggYmVjYXVzZSBtb3JlIHdhdGNoZXJzIG1pZ2h0IGJlIHB1c2hlZFxuICAvLyBhcyB3ZSBydW4gZXhpc3Rpbmcgd2F0Y2hlcnNcbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgcXVldWUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIHdhdGNoZXIgPSBxdWV1ZVtpbmRleF07XG4gICAgdmFyIGlkID0gd2F0Y2hlci5pZDtcbiAgICBoYXMkMVtpZF0gPSBudWxsO1xuICAgIHdhdGNoZXIucnVuKCk7XG4gICAgLy8gaW4gZGV2IGJ1aWxkLCBjaGVjayBhbmQgc3RvcCBjaXJjdWxhciB1cGRhdGVzLlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGhhcyQxW2lkXSAhPSBudWxsKSB7XG4gICAgICBjaXJjdWxhcltpZF0gPSAoY2lyY3VsYXJbaWRdIHx8IDApICsgMTtcbiAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBjb25maWcuX21heFVwZGF0ZUNvdW50KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBhbiBpbmZpbml0ZSB1cGRhdGUgbG9vcCAnICsgKFxuICAgICAgICAgICAgd2F0Y2hlci51c2VyXG4gICAgICAgICAgICAgID8gKFwiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXFxcIlwiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyBcIlxcXCJcIilcbiAgICAgICAgICAgICAgOiBcImluIGEgY29tcG9uZW50IHJlbmRlciBmdW5jdGlvbi5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgd2F0Y2hlci52bVxuICAgICAgICApO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGRldnRvb2wgaG9va1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGRldnRvb2xzICYmIGNvbmZpZy5kZXZ0b29scykge1xuICAgIGRldnRvb2xzLmVtaXQoJ2ZsdXNoJyk7XG4gIH1cblxuICByZXNldFNjaGVkdWxlclN0YXRlKCk7XG59XG5cbi8qKlxuICogUHVzaCBhIHdhdGNoZXIgaW50byB0aGUgd2F0Y2hlciBxdWV1ZS5cbiAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQnc1xuICogcHVzaGVkIHdoZW4gdGhlIHF1ZXVlIGlzIGJlaW5nIGZsdXNoZWQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikge1xuICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuICBpZiAoaGFzJDFbaWRdID09IG51bGwpIHtcbiAgICBoYXMkMVtpZF0gPSB0cnVlO1xuICAgIGlmICghZmx1c2hpbmcpIHtcbiAgICAgIHF1ZXVlLnB1c2god2F0Y2hlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGFscmVhZHkgZmx1c2hpbmcsIHNwbGljZSB0aGUgd2F0Y2hlciBiYXNlZCBvbiBpdHMgaWRcbiAgICAgIC8vIGlmIGFscmVhZHkgcGFzdCBpdHMgaWQsIGl0IHdpbGwgYmUgcnVuIG5leHQgaW1tZWRpYXRlbHkuXG4gICAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoaSA+PSAwICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkge1xuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoTWF0aC5tYXgoaSwgaW5kZXgpICsgMSwgMCwgd2F0Y2hlcik7XG4gICAgfVxuICAgIC8vIHF1ZXVlIHRoZSBmbHVzaFxuICAgIGlmICghd2FpdGluZykge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICBuZXh0VGljayhmbHVzaFNjaGVkdWxlclF1ZXVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbnZhciB1aWQkMiA9IDA7XG5cbi8qKlxuICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsXG4gKiBhbmQgZmlyZXMgY2FsbGJhY2sgd2hlbiB0aGUgZXhwcmVzc2lvbiB2YWx1ZSBjaGFuZ2VzLlxuICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXG4gKi9cbnZhciBXYXRjaGVyID0gZnVuY3Rpb24gV2F0Y2hlciAoXG4gIHZtLFxuICBleHBPckZuLFxuICBjYixcbiAgb3B0aW9uc1xuKSB7XG4gIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIHRoaXMudm0gPSB2bTtcbiAgdm0uX3dhdGNoZXJzLnB1c2godGhpcyk7XG4gIC8vIG9wdGlvbnNcbiAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XG4gIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyO1xuICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTtcbiAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XG4gIHRoaXMuZXhwcmVzc2lvbiA9IGV4cE9yRm4udG9TdHJpbmcoKTtcbiAgdGhpcy5jYiA9IGNiO1xuICB0aGlzLmlkID0gKyt1aWQkMjsgLy8gdWlkIGZvciBiYXRjaGluZ1xuICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gIHRoaXMuZGlydHkgPSB0aGlzLmxhenk7IC8vIGZvciBsYXp5IHdhdGNoZXJzXG4gIHRoaXMuZGVwcyA9IFtdO1xuICB0aGlzLm5ld0RlcHMgPSBbXTtcbiAgdGhpcy5kZXBJZHMgPSBuZXcgX1NldCgpO1xuICB0aGlzLm5ld0RlcElkcyA9IG5ldyBfU2V0KCk7XG4gIC8vIHBhcnNlIGV4cHJlc3Npb24gZm9yIGdldHRlclxuICBpZiAodHlwZW9mIGV4cE9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLmdldHRlciA9IGV4cE9yRm47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbik7XG4gICAgaWYgKCF0aGlzLmdldHRlcikge1xuICAgICAgdGhpcy5nZXR0ZXIgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJGYWlsZWQgd2F0Y2hpbmcgcGF0aDogXFxcIlwiICsgZXhwT3JGbiArIFwiXFxcIiBcIiArXG4gICAgICAgICdXYXRjaGVyIG9ubHkgYWNjZXB0cyBzaW1wbGUgZG90LWRlbGltaXRlZCBwYXRocy4gJyArXG4gICAgICAgICdGb3IgZnVsbCBjb250cm9sLCB1c2UgYSBmdW5jdGlvbiBpbnN0ZWFkLicsXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgfVxuICB0aGlzLnZhbHVlID0gdGhpcy5sYXp5XG4gICAgPyB1bmRlZmluZWRcbiAgICA6IHRoaXMuZ2V0KCk7XG59O1xuXG4vKipcbiAqIEV2YWx1YXRlIHRoZSBnZXR0ZXIsIGFuZCByZS1jb2xsZWN0IGRlcGVuZGVuY2llcy5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0ICgpIHtcbiAgcHVzaFRhcmdldCh0aGlzKTtcbiAgdmFyIHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh0aGlzLnZtLCB0aGlzLnZtKTtcbiAgLy8gXCJ0b3VjaFwiIGV2ZXJ5IHByb3BlcnR5IHNvIHRoZXkgYXJlIGFsbCB0cmFja2VkIGFzXG4gIC8vIGRlcGVuZGVuY2llcyBmb3IgZGVlcCB3YXRjaGluZ1xuICBpZiAodGhpcy5kZWVwKSB7XG4gICAgdHJhdmVyc2UodmFsdWUpO1xuICB9XG4gIHBvcFRhcmdldCgpO1xuICB0aGlzLmNsZWFudXBEZXBzKCk7XG4gIHJldHVybiB2YWx1ZVxufTtcblxuLyoqXG4gKiBBZGQgYSBkZXBlbmRlbmN5IHRvIHRoaXMgZGlyZWN0aXZlLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkge1xuICB2YXIgaWQgPSBkZXAuaWQ7XG4gIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGlkKSkge1xuICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7XG4gICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKTtcbiAgICBpZiAoIXRoaXMuZGVwSWRzLmhhcyhpZCkpIHtcbiAgICAgIGRlcC5hZGRTdWIodGhpcyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGZvciBkZXBlbmRlbmN5IGNvbGxlY3Rpb24uXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBkZXAgPSB0aGlzJDEuZGVwc1tpXTtcbiAgICBpZiAoIXRoaXMkMS5uZXdEZXBJZHMuaGFzKGRlcC5pZCkpIHtcbiAgICAgIGRlcC5yZW1vdmVTdWIodGhpcyQxKTtcbiAgICB9XG4gIH1cbiAgdmFyIHRtcCA9IHRoaXMuZGVwSWRzO1xuICB0aGlzLmRlcElkcyA9IHRoaXMubmV3RGVwSWRzO1xuICB0aGlzLm5ld0RlcElkcyA9IHRtcDtcbiAgdGhpcy5uZXdEZXBJZHMuY2xlYXIoKTtcbiAgdG1wID0gdGhpcy5kZXBzO1xuICB0aGlzLmRlcHMgPSB0aGlzLm5ld0RlcHM7XG4gIHRoaXMubmV3RGVwcyA9IHRtcDtcbiAgdGhpcy5uZXdEZXBzLmxlbmd0aCA9IDA7XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZXIgaW50ZXJmYWNlLlxuICogV2lsbCBiZSBjYWxsZWQgd2hlbiBhIGRlcGVuZGVuY3kgY2hhbmdlcy5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHRoaXMubGF6eSkge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9IGVsc2UgaWYgKHRoaXMuc3luYykge1xuICAgIHRoaXMucnVuKCk7XG4gIH0gZWxzZSB7XG4gICAgcXVldWVXYXRjaGVyKHRoaXMpO1xuICB9XG59O1xuXG4vKipcbiAqIFNjaGVkdWxlciBqb2IgaW50ZXJmYWNlLlxuICogV2lsbCBiZSBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlci5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuICgpIHtcbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUgIT09IHRoaXMudmFsdWUgfHxcbiAgICAgIC8vIERlZXAgd2F0Y2hlcnMgYW5kIHdhdGNoZXJzIG9uIE9iamVjdC9BcnJheXMgc2hvdWxkIGZpcmUgZXZlblxuICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heVxuICAgICAgLy8gaGF2ZSBtdXRhdGVkLlxuICAgICAgaXNPYmplY3QodmFsdWUpIHx8XG4gICAgICB0aGlzLmRlZXBcbiAgICApIHtcbiAgICAgIC8vIHNldCBuZXcgdmFsdWVcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodGhpcy51c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICAgICAoXCJFcnJvciBpbiB3YXRjaGVyIFxcXCJcIiArICh0aGlzLmV4cHJlc3Npb24pICsgXCJcXFwiXCIpLFxuICAgICAgICAgICAgdGhpcy52bVxuICAgICAgICAgICk7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGUsIHRoaXMudm0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRXZhbHVhdGUgdGhlIHZhbHVlIG9mIHRoZSB3YXRjaGVyLlxuICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIGV2YWx1YXRlICgpIHtcbiAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gIHRoaXMuZGlydHkgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdGhpcyQxLmRlcHNbaV0uZGVwZW5kKCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVtb3ZlIHNlbGYgZnJvbSBhbGwgZGVwZW5kZW5jaWVzJyBzdWJzY3JpYmVyIGxpc3QuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gdGVhcmRvd24gKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gdm0ncyB3YXRjaGVyIGxpc3RcbiAgICAvLyB0aGlzIGlzIGEgc29tZXdoYXQgZXhwZW5zaXZlIG9wZXJhdGlvbiBzbyB3ZSBza2lwIGl0XG4gICAgLy8gaWYgdGhlIHZtIGlzIGJlaW5nIGRlc3Ryb3llZCBvciBpcyBwZXJmb3JtaW5nIGEgdi1mb3JcbiAgICAvLyByZS1yZW5kZXIgKHRoZSB3YXRjaGVyIGxpc3QgaXMgdGhlbiBmaWx0ZXJlZCBieSB2LWZvcikuXG4gICAgaWYgKCF0aGlzLnZtLl9pc0JlaW5nRGVzdHJveWVkICYmICF0aGlzLnZtLl92Rm9yUmVtb3ZpbmcpIHtcbiAgICAgIHJlbW92ZSQxKHRoaXMudm0uX3dhdGNoZXJzLCB0aGlzKTtcbiAgICB9XG4gICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMkMS5kZXBzW2ldLnJlbW92ZVN1Yih0aGlzJDEpO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXG4gKiBnZXR0ZXJzLCBzbyB0aGF0IGV2ZXJ5IG5lc3RlZCBwcm9wZXJ0eSBpbnNpZGUgdGhlIG9iamVjdFxuICogaXMgY29sbGVjdGVkIGFzIGEgXCJkZWVwXCIgZGVwZW5kZW5jeS5cbiAqL1xudmFyIHNlZW5PYmplY3RzID0gbmV3IF9TZXQoKTtcbmZ1bmN0aW9uIHRyYXZlcnNlICh2YWwpIHtcbiAgc2Vlbk9iamVjdHMuY2xlYXIoKTtcbiAgX3RyYXZlcnNlKHZhbCwgc2Vlbk9iamVjdHMpO1xufVxuXG5mdW5jdGlvbiBfdHJhdmVyc2UgKHZhbCwgc2Vlbikge1xuICB2YXIgaSwga2V5cztcbiAgdmFyIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKTtcbiAgaWYgKCghaXNBICYmICFpc09iamVjdCh2YWwpKSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWwpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZhbC5fX29iX18pIHtcbiAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcbiAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc2Vlbi5hZGQoZGVwSWQpO1xuICB9XG4gIGlmIChpc0EpIHtcbiAgICBpID0gdmFsLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pOyB9XG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG4gICAgaSA9IGtleXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH1cbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdFN0YXRlICh2bSkge1xuICB2bS5fd2F0Y2hlcnMgPSBbXTtcbiAgaW5pdFByb3BzKHZtKTtcbiAgaW5pdERhdGEodm0pO1xuICBpbml0Q29tcHV0ZWQodm0pO1xuICBpbml0TWV0aG9kcyh2bSk7XG4gIGluaXRXYXRjaCh2bSk7XG59XG5cbnZhciBpc1Jlc2VydmVkUHJvcCA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCcpO1xuXG5mdW5jdGlvbiBpbml0UHJvcHMgKHZtKSB7XG4gIHZhciBwcm9wcyA9IHZtLiRvcHRpb25zLnByb3BzO1xuICBpZiAocHJvcHMpIHtcbiAgICB2YXIgcHJvcHNEYXRhID0gdm0uJG9wdGlvbnMucHJvcHNEYXRhIHx8IHt9O1xuICAgIHZhciBrZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICAgIHZhciBpc1Jvb3QgPSAhdm0uJHBhcmVudDtcbiAgICAvLyByb290IGluc3RhbmNlIHByb3BzIHNob3VsZCBiZSBjb252ZXJ0ZWRcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBpc1Jvb3Q7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAoXCJcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGNvbXBvbmVudCBwcm9wLlwiKSxcbiAgICAgICAgICAgIHZtXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wcywgcHJvcHNEYXRhLCB2bSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodm0uJHBhcmVudCAmJiAhb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcykge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgXCJBdm9pZCBtdXRhdGluZyBhIHByb3AgZGlyZWN0bHkgc2luY2UgdGhlIHZhbHVlIHdpbGwgYmUgXCIgK1xuICAgICAgICAgICAgICBcIm92ZXJ3cml0dGVuIHdoZW5ldmVyIHRoZSBwYXJlbnQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcbiAgICAgICAgICAgICAgXCJJbnN0ZWFkLCB1c2UgYSBkYXRhIG9yIGNvbXB1dGVkIHByb3BlcnR5IGJhc2VkIG9uIHRoZSBwcm9wJ3MgXCIgK1xuICAgICAgICAgICAgICBcInZhbHVlLiBQcm9wIGJlaW5nIG11dGF0ZWQ6IFxcXCJcIiArIGtleSArIFwiXFxcIlwiLFxuICAgICAgICAgICAgICB2bVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sIGtleSwgdmFsaWRhdGVQcm9wKGtleSwgcHJvcHMsIHByb3BzRGF0YSwgdm0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0RGF0YSAodm0pIHtcbiAgdmFyIGRhdGEgPSB2bS4kb3B0aW9ucy5kYXRhO1xuICBkYXRhID0gdm0uX2RhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gZGF0YS5jYWxsKHZtKVxuICAgIDogZGF0YSB8fCB7fTtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgZGF0YSA9IHt9O1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdkYXRhIGZ1bmN0aW9ucyBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4nLFxuICAgICAgdm1cbiAgICApO1xuICB9XG4gIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2VcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXlzW2ldKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIlRoZSBkYXRhIHByb3BlcnR5IFxcXCJcIiArIChrZXlzW2ldKSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlY2xhcmVkIGFzIGEgcHJvcC4gXCIgK1xuICAgICAgICBcIlVzZSBwcm9wIGRlZmF1bHQgdmFsdWUgaW5zdGVhZC5cIixcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3h5KHZtLCBrZXlzW2ldKTtcbiAgICB9XG4gIH1cbiAgLy8gb2JzZXJ2ZSBkYXRhXG4gIG9ic2VydmUoZGF0YSk7XG4gIGRhdGEuX19vYl9fICYmIGRhdGEuX19vYl9fLnZtQ291bnQrKztcbn1cblxudmFyIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbiA9IHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBnZXQ6IG5vb3AsXG4gIHNldDogbm9vcFxufTtcblxuZnVuY3Rpb24gaW5pdENvbXB1dGVkICh2bSkge1xuICB2YXIgY29tcHV0ZWQgPSB2bS4kb3B0aW9ucy5jb21wdXRlZDtcbiAgaWYgKGNvbXB1dGVkKSB7XG4gICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7XG4gICAgICB2YXIgdXNlckRlZiA9IGNvbXB1dGVkW2tleV07XG4gICAgICBpZiAodHlwZW9mIHVzZXJEZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLmdldCA9IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLCB2bSk7XG4gICAgICAgIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbi5zZXQgPSBub29wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XG4gICAgICAgICAgPyB1c2VyRGVmLmNhY2hlICE9PSBmYWxzZVxuICAgICAgICAgICAgPyBtYWtlQ29tcHV0ZWRHZXR0ZXIodXNlckRlZi5nZXQsIHZtKVxuICAgICAgICAgICAgOiBiaW5kJDEodXNlckRlZi5nZXQsIHZtKVxuICAgICAgICAgIDogbm9vcDtcbiAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0XG4gICAgICAgICAgPyBiaW5kJDEodXNlckRlZi5zZXQsIHZtKVxuICAgICAgICAgIDogbm9vcDtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2bSwga2V5LCBjb21wdXRlZFNoYXJlZERlZmluaXRpb24pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlQ29tcHV0ZWRHZXR0ZXIgKGdldHRlciwgb3duZXIpIHtcbiAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcihvd25lciwgZ2V0dGVyLCBub29wLCB7XG4gICAgbGF6eTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyICgpIHtcbiAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xuICAgICAgd2F0Y2hlci5ldmFsdWF0ZSgpO1xuICAgIH1cbiAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgd2F0Y2hlci5kZXBlbmQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdhdGNoZXIudmFsdWVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0TWV0aG9kcyAodm0pIHtcbiAgdmFyIG1ldGhvZHMgPSB2bS4kb3B0aW9ucy5tZXRob2RzO1xuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAodmFyIGtleSBpbiBtZXRob2RzKSB7XG4gICAgICB2bVtrZXldID0gbWV0aG9kc1trZXldID09IG51bGwgPyBub29wIDogYmluZCQxKG1ldGhvZHNba2V5XSwgdm0pO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbWV0aG9kc1trZXldID09IG51bGwpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcIm1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaGFzIGFuIHVuZGVmaW5lZCB2YWx1ZSBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIFwiICtcbiAgICAgICAgICBcIkRpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/XCIsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFdhdGNoICh2bSkge1xuICB2YXIgd2F0Y2ggPSB2bS4kb3B0aW9ucy53YXRjaDtcbiAgaWYgKHdhdGNoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHdhdGNoKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IHdhdGNoW2tleV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXJbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyICh2bSwga2V5LCBoYW5kbGVyKSB7XG4gIHZhciBvcHRpb25zO1xuICBpZiAoaXNQbGFpbk9iamVjdChoYW5kbGVyKSkge1xuICAgIG9wdGlvbnMgPSBoYW5kbGVyO1xuICAgIGhhbmRsZXIgPSBoYW5kbGVyLmhhbmRsZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnc3RyaW5nJykge1xuICAgIGhhbmRsZXIgPSB2bVtoYW5kbGVyXTtcbiAgfVxuICB2bS4kd2F0Y2goa2V5LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gc3RhdGVNaXhpbiAoVnVlKSB7XG4gIC8vIGZsb3cgc29tZWhvdyBoYXMgcHJvYmxlbXMgd2l0aCBkaXJlY3RseSBkZWNsYXJlZCBkZWZpbml0aW9uIG9iamVjdFxuICAvLyB3aGVuIHVzaW5nIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgc28gd2UgaGF2ZSB0byBwcm9jZWR1cmFsbHkgYnVpbGQgdXBcbiAgLy8gdGhlIG9iamVjdCBoZXJlLlxuICB2YXIgZGF0YURlZiA9IHt9O1xuICBkYXRhRGVmLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YVxuICB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGRhdGFEZWYuc2V0ID0gZnVuY3Rpb24gKG5ld0RhdGEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXG4gICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRkYXRhJywgZGF0YURlZik7XG5cbiAgVnVlLnByb3RvdHlwZS4kc2V0ID0gc2V0O1xuICBWdWUucHJvdG90eXBlLiRkZWxldGUgPSBkZWw7XG5cbiAgVnVlLnByb3RvdHlwZS4kd2F0Y2ggPSBmdW5jdGlvbiAoXG4gICAgZXhwT3JGbixcbiAgICBjYixcbiAgICBvcHRpb25zXG4gICkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy51c2VyID0gdHJ1ZTtcbiAgICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuaW1tZWRpYXRlKSB7XG4gICAgICBjYi5jYWxsKHZtLCB3YXRjaGVyLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVud2F0Y2hGbiAoKSB7XG4gICAgICB3YXRjaGVyLnRlYXJkb3duKCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBwcm94eSAodm0sIGtleSkge1xuICBpZiAoIWlzUmVzZXJ2ZWQoa2V5KSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2bSwga2V5LCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBwcm94eUdldHRlciAoKSB7XG4gICAgICAgIHJldHVybiB2bS5fZGF0YVtrZXldXG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBwcm94eVNldHRlciAodmFsKSB7XG4gICAgICAgIHZtLl9kYXRhW2tleV0gPSB2YWw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlIChcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgdGV4dCxcbiAgZWxtLFxuICBucyxcbiAgY29udGV4dCxcbiAgY29tcG9uZW50T3B0aW9uc1xuKSB7XG4gIHRoaXMudGFnID0gdGFnO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMudGV4dCA9IHRleHQ7XG4gIHRoaXMuZWxtID0gZWxtO1xuICB0aGlzLm5zID0gbnM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMuZnVuY3Rpb25hbENvbnRleHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMua2V5ID0gZGF0YSAmJiBkYXRhLmtleTtcbiAgdGhpcy5jb21wb25lbnRPcHRpb25zID0gY29tcG9uZW50T3B0aW9ucztcbiAgdGhpcy5jaGlsZCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gIHRoaXMucmF3ID0gZmFsc2U7XG4gIHRoaXMuaXNTdGF0aWMgPSBmYWxzZTtcbiAgdGhpcy5pc1Jvb3RJbnNlcnQgPSB0cnVlO1xuICB0aGlzLmlzQ29tbWVudCA9IGZhbHNlO1xuICB0aGlzLmlzQ2xvbmVkID0gZmFsc2U7XG4gIHRoaXMuaXNPbmNlID0gZmFsc2U7XG59O1xuXG52YXIgZW1wdHlWTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5vZGUgPSBuZXcgVk5vZGUoKTtcbiAgbm9kZS50ZXh0ID0gJyc7XG4gIG5vZGUuaXNDb21tZW50ID0gdHJ1ZTtcbiAgcmV0dXJuIG5vZGVcbn07XG5cbi8vIG9wdGltaXplZCBzaGFsbG93IGNsb25lXG4vLyB1c2VkIGZvciBzdGF0aWMgbm9kZXMgYW5kIHNsb3Qgbm9kZXMgYmVjYXVzZSB0aGV5IG1heSBiZSByZXVzZWQgYWNyb3NzXG4vLyBtdWx0aXBsZSByZW5kZXJzLCBjbG9uaW5nIHRoZW0gYXZvaWRzIGVycm9ycyB3aGVuIERPTSBtYW5pcHVsYXRpb25zIHJlbHlcbi8vIG9uIHRoZWlyIGVsbSByZWZlcmVuY2UuXG5mdW5jdGlvbiBjbG9uZVZOb2RlICh2bm9kZSkge1xuICB2YXIgY2xvbmVkID0gbmV3IFZOb2RlKFxuICAgIHZub2RlLnRhZyxcbiAgICB2bm9kZS5kYXRhLFxuICAgIHZub2RlLmNoaWxkcmVuLFxuICAgIHZub2RlLnRleHQsXG4gICAgdm5vZGUuZWxtLFxuICAgIHZub2RlLm5zLFxuICAgIHZub2RlLmNvbnRleHQsXG4gICAgdm5vZGUuY29tcG9uZW50T3B0aW9uc1xuICApO1xuICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcbiAgY2xvbmVkLmtleSA9IHZub2RlLmtleTtcbiAgY2xvbmVkLmlzQ2xvbmVkID0gdHJ1ZTtcbiAgcmV0dXJuIGNsb25lZFxufVxuXG5mdW5jdGlvbiBjbG9uZVZOb2RlcyAodm5vZGVzKSB7XG4gIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzW2ldID0gY2xvbmVWTm9kZSh2bm9kZXNbaV0pO1xuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG1lcmdlVk5vZGVIb29rIChkZWYsIGhvb2tLZXksIGhvb2ssIGtleSkge1xuICBrZXkgPSBrZXkgKyBob29rS2V5O1xuICB2YXIgaW5qZWN0ZWRIYXNoID0gZGVmLl9faW5qZWN0ZWQgfHwgKGRlZi5fX2luamVjdGVkID0ge30pO1xuICBpZiAoIWluamVjdGVkSGFzaFtrZXldKSB7XG4gICAgaW5qZWN0ZWRIYXNoW2tleV0gPSB0cnVlO1xuICAgIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldO1xuICAgIGlmIChvbGRIb29rKSB7XG4gICAgICBkZWZbaG9va0tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9sZEhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmW2hvb2tLZXldID0gaG9vaztcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHVwZGF0ZUxpc3RlbmVycyAoXG4gIG9uLFxuICBvbGRPbixcbiAgYWRkLFxuICByZW1vdmUkJDEsXG4gIHZtXG4pIHtcbiAgdmFyIG5hbWUsIGN1ciwgb2xkLCBmbiwgZXZlbnQsIGNhcHR1cmU7XG4gIGZvciAobmFtZSBpbiBvbikge1xuICAgIGN1ciA9IG9uW25hbWVdO1xuICAgIG9sZCA9IG9sZE9uW25hbWVdO1xuICAgIGlmICghY3VyKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiSW52YWxpZCBoYW5kbGVyIGZvciBldmVudCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiOiBnb3QgXCIgKyBTdHJpbmcoY3VyKSxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghb2xkKSB7XG4gICAgICBjYXB0dXJlID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJztcbiAgICAgIGV2ZW50ID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VyKSkge1xuICAgICAgICBhZGQoZXZlbnQsIChjdXIuaW52b2tlciA9IGFyckludm9rZXIoY3VyKSksIGNhcHR1cmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFjdXIuaW52b2tlcikge1xuICAgICAgICAgIGZuID0gY3VyO1xuICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0ge307XG4gICAgICAgICAgY3VyLmZuID0gZm47XG4gICAgICAgICAgY3VyLmludm9rZXIgPSBmbkludm9rZXIoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICBhZGQoZXZlbnQsIGN1ci5pbnZva2VyLCBjYXB0dXJlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1ciAhPT0gb2xkKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvbGQpKSB7XG4gICAgICAgIG9sZC5sZW5ndGggPSBjdXIubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykgeyBvbGRbaV0gPSBjdXJbaV07IH1cbiAgICAgICAgb25bbmFtZV0gPSBvbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbGQuZm4gPSBjdXI7XG4gICAgICAgIG9uW25hbWVdID0gb2xkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gb2xkT24pIHtcbiAgICBpZiAoIW9uW25hbWVdKSB7XG4gICAgICBldmVudCA9IG5hbWUuY2hhckF0KDApID09PSAnIScgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcbiAgICAgIHJlbW92ZSQkMShldmVudCwgb2xkT25bbmFtZV0uaW52b2tlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFyckludm9rZXIgKGFycikge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIHNpbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNpbmdsZSA/IGFycltpXShldikgOiBhcnJbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzJDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmbkludm9rZXIgKG8pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldikge1xuICAgIHZhciBzaW5nbGUgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxO1xuICAgIHNpbmdsZSA/IG8uZm4oZXYpIDogby5mbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbiAoXG4gIGNoaWxkcmVuLFxuICBucyxcbiAgbmVzdGVkSW5kZXhcbikge1xuICBpZiAoaXNQcmltaXRpdmUoY2hpbGRyZW4pKSB7XG4gICAgcmV0dXJuIFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTtcbiAgICAgIHZhciBsYXN0ID0gcmVzW3Jlcy5sZW5ndGggLSAxXTtcbiAgICAgIC8vICBuZXN0ZWRcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICAgIHJlcy5wdXNoLmFwcGx5KHJlcywgbm9ybWFsaXplQ2hpbGRyZW4oYywgbnMsICgobmVzdGVkSW5kZXggfHwgJycpICsgXCJfXCIgKyBpKSkpO1xuICAgICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZShjKSkge1xuICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnRleHQpIHtcbiAgICAgICAgICBsYXN0LnRleHQgKz0gU3RyaW5nKGMpO1xuICAgICAgICB9IGVsc2UgaWYgKGMgIT09ICcnKSB7XG4gICAgICAgICAgLy8gY29udmVydCBwcmltaXRpdmUgdG8gdm5vZGVcbiAgICAgICAgICByZXMucHVzaChjcmVhdGVUZXh0Vk5vZGUoYykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBWTm9kZSkge1xuICAgICAgICBpZiAoYy50ZXh0ICYmIGxhc3QgJiYgbGFzdC50ZXh0KSB7XG4gICAgICAgICAgaWYgKCFsYXN0LmlzQ2xvbmVkKSB7XG4gICAgICAgICAgICBsYXN0LnRleHQgKz0gYy50ZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpbmhlcml0IHBhcmVudCBuYW1lc3BhY2VcbiAgICAgICAgICBpZiAobnMpIHtcbiAgICAgICAgICAgIGFwcGx5TlMoYywgbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBkZWZhdWx0IGtleSBmb3IgbmVzdGVkIGFycmF5IGNoaWxkcmVuIChsaWtlbHkgZ2VuZXJhdGVkIGJ5IHYtZm9yKVxuICAgICAgICAgIGlmIChjLnRhZyAmJiBjLmtleSA9PSBudWxsICYmIG5lc3RlZEluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGMua2V5ID0gXCJfX3ZsaXN0XCIgKyBuZXN0ZWRJbmRleCArIFwiX1wiICsgaSArIFwiX19cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSAodmFsKSB7XG4gIHJldHVybiBuZXcgVk5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgU3RyaW5nKHZhbCkpXG59XG5cbmZ1bmN0aW9uIGFwcGx5TlMgKHZub2RlLCBucykge1xuICBpZiAodm5vZGUudGFnICYmICF2bm9kZS5ucykge1xuICAgIHZub2RlLm5zID0gbnM7XG4gICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBhcHBseU5TKHZub2RlLmNoaWxkcmVuW2ldLCBucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBnZXRGaXJzdENvbXBvbmVudENoaWxkIChjaGlsZHJlbikge1xuICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjICYmIGMuY29tcG9uZW50T3B0aW9uczsgfSlbMF1cbn1cblxuLyogICovXG5cbnZhciBhY3RpdmVJbnN0YW5jZSA9IG51bGw7XG5cbmZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7XG4gIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG5cbiAgLy8gbG9jYXRlIGZpcnN0IG5vbi1hYnN0cmFjdCBwYXJlbnRcbiAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgd2hpbGUgKHBhcmVudC4kb3B0aW9ucy5hYnN0cmFjdCAmJiBwYXJlbnQuJHBhcmVudCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XG4gICAgfVxuICAgIHBhcmVudC4kY2hpbGRyZW4ucHVzaCh2bSk7XG4gIH1cblxuICB2bS4kcGFyZW50ID0gcGFyZW50O1xuICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtO1xuXG4gIHZtLiRjaGlsZHJlbiA9IFtdO1xuICB2bS4kcmVmcyA9IHt9O1xuXG4gIHZtLl93YXRjaGVyID0gbnVsbDtcbiAgdm0uX2luYWN0aXZlID0gZmFsc2U7XG4gIHZtLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgdm0uX2lzRGVzdHJveWVkID0gZmFsc2U7XG4gIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpZmVjeWNsZU1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS5fbW91bnQgPSBmdW5jdGlvbiAoXG4gICAgZWwsXG4gICAgaHlkcmF0aW5nXG4gICkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uJGVsID0gZWw7XG4gICAgaWYgKCF2bS4kb3B0aW9ucy5yZW5kZXIpIHtcbiAgICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGVtcHR5Vk5vZGU7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICtcbiAgICAgICAgICAgICdvcHRpb24gaXMgbm90IGF2YWlsYWJsZS4gRWl0aGVyIHByZS1jb21waWxlIHRoZSB0ZW1wbGF0ZXMgaW50byAnICtcbiAgICAgICAgICAgICdyZW5kZXIgZnVuY3Rpb25zLCBvciB1c2UgdGhlIGNvbXBpbGVyLWluY2x1ZGVkIGJ1aWxkLicsXG4gICAgICAgICAgICB2bVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgICdGYWlsZWQgdG8gbW91bnQgY29tcG9uZW50OiB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24gbm90IGRlZmluZWQuJyxcbiAgICAgICAgICAgIHZtXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZU1vdW50Jyk7XG4gICAgdm0uX3dhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZnVuY3Rpb24gKCkge1xuICAgICAgdm0uX3VwZGF0ZSh2bS5fcmVuZGVyKCksIGh5ZHJhdGluZyk7XG4gICAgfSwgbm9vcCk7XG4gICAgaHlkcmF0aW5nID0gZmFsc2U7XG4gICAgLy8gbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSwgY2FsbCBtb3VudGVkIG9uIHNlbGZcbiAgICAvLyBtb3VudGVkIGlzIGNhbGxlZCBmb3IgcmVuZGVyLWNyZWF0ZWQgY2hpbGQgY29tcG9uZW50cyBpbiBpdHMgaW5zZXJ0ZWQgaG9va1xuICAgIGlmICh2bS4kdm5vZGUgPT0gbnVsbCkge1xuICAgICAgdm0uX2lzTW91bnRlZCA9IHRydWU7XG4gICAgICBjYWxsSG9vayh2bSwgJ21vdW50ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG4gICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgIH1cbiAgICB2YXIgcHJldkVsID0gdm0uJGVsO1xuICAgIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTtcbiAgICBhY3RpdmVJbnN0YW5jZSA9IHZtO1xuICAgIHZhciBwcmV2Vm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgdm0uX3Zub2RlID0gdm5vZGU7XG4gICAgaWYgKCFwcmV2Vm5vZGUpIHtcbiAgICAgIC8vIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fIGlzIGluamVjdGVkIGluIGVudHJ5IHBvaW50c1xuICAgICAgLy8gYmFzZWQgb24gdGhlIHJlbmRlcmluZyBiYWNrZW5kIHVzZWQuXG4gICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18odm0uJGVsLCB2bm9kZSwgaHlkcmF0aW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHByZXZWbm9kZSwgdm5vZGUpO1xuICAgIH1cbiAgICBhY3RpdmVJbnN0YW5jZSA9IHByZXZBY3RpdmVJbnN0YW5jZTtcbiAgICAvLyB1cGRhdGUgX192dWVfXyByZWZlcmVuY2VcbiAgICBpZiAocHJldkVsKSB7XG4gICAgICBwcmV2RWwuX192dWVfXyA9IG51bGw7XG4gICAgfVxuICAgIGlmICh2bS4kZWwpIHtcbiAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gdm07XG4gICAgfVxuICAgIC8vIGlmIHBhcmVudCBpcyBhbiBIT0MsIHVwZGF0ZSBpdHMgJGVsIGFzIHdlbGxcbiAgICBpZiAodm0uJHZub2RlICYmIHZtLiRwYXJlbnQgJiYgdm0uJHZub2RlID09PSB2bS4kcGFyZW50Ll92bm9kZSkge1xuICAgICAgdm0uJHBhcmVudC4kZWwgPSB2bS4kZWw7XG4gICAgfVxuICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG4gICAgICBjYWxsSG9vayh2bSwgJ3VwZGF0ZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS5fdXBkYXRlRnJvbVBhcmVudCA9IGZ1bmN0aW9uIChcbiAgICBwcm9wc0RhdGEsXG4gICAgbGlzdGVuZXJzLFxuICAgIHBhcmVudFZub2RlLFxuICAgIHJlbmRlckNoaWxkcmVuXG4gICkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIGhhc0NoaWxkcmVuID0gISEodm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuIHx8IHJlbmRlckNoaWxkcmVuKTtcbiAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcbiAgICB2bS4kdm5vZGUgPSBwYXJlbnRWbm9kZTsgLy8gdXBkYXRlIHZtJ3MgcGxhY2Vob2xkZXIgbm9kZSB3aXRob3V0IHJlLXJlbmRlclxuICAgIGlmICh2bS5fdm5vZGUpIHsgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcbiAgICAgIHZtLl92bm9kZS5wYXJlbnQgPSBwYXJlbnRWbm9kZTtcbiAgICB9XG4gICAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuID0gcmVuZGVyQ2hpbGRyZW47XG4gICAgLy8gdXBkYXRlIHByb3BzXG4gICAgaWYgKHByb3BzRGF0YSAmJiB2bS4kb3B0aW9ucy5wcm9wcykge1xuICAgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gZmFsc2U7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wS2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyB8fCBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BLZXlzW2ldO1xuICAgICAgICB2bVtrZXldID0gdmFsaWRhdGVQcm9wKGtleSwgdm0uJG9wdGlvbnMucHJvcHMsIHByb3BzRGF0YSwgdm0pO1xuICAgICAgfVxuICAgICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ID0gdHJ1ZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIG9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YSA9IHByb3BzRGF0YTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIGxpc3RlbmVyc1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICAgICAgdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICAgIHZtLl91cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpO1xuICAgIH1cbiAgICAvLyByZXNvbHZlIHNsb3RzICsgZm9yY2UgdXBkYXRlIGlmIGhhcyBjaGlsZHJlblxuICAgIGlmIChoYXNDaGlsZHJlbikge1xuICAgICAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKHJlbmRlckNoaWxkcmVuLCB2bS5fcmVuZGVyQ29udGV4dCk7XG4gICAgICB2bS4kZm9yY2VVcGRhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX3dhdGNoZXIpIHtcbiAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRkZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHZtLl9pc0JlaW5nRGVzdHJveWVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY2FsbEhvb2sodm0sICdiZWZvcmVEZXN0cm95Jyk7XG4gICAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSB0cnVlO1xuICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gcGFyZW50XG4gICAgdmFyIHBhcmVudCA9IHZtLiRwYXJlbnQ7XG4gICAgaWYgKHBhcmVudCAmJiAhcGFyZW50Ll9pc0JlaW5nRGVzdHJveWVkICYmICF2bS4kb3B0aW9ucy5hYnN0cmFjdCkge1xuICAgICAgcmVtb3ZlJDEocGFyZW50LiRjaGlsZHJlbiwgdm0pO1xuICAgIH1cbiAgICAvLyB0ZWFyZG93biB3YXRjaGVyc1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gICAgdmFyIGkgPSB2bS5fd2F0Y2hlcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpO1xuICAgIH1cbiAgICAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gZGF0YSBvYlxuICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLlxuICAgIGlmICh2bS5fZGF0YS5fX29iX18pIHtcbiAgICAgIHZtLl9kYXRhLl9fb2JfXy52bUNvdW50LS07XG4gICAgfVxuICAgIC8vIGNhbGwgdGhlIGxhc3QgaG9vay4uLlxuICAgIHZtLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgY2FsbEhvb2sodm0sICdkZXN0cm95ZWQnKTtcbiAgICAvLyB0dXJuIG9mZiBhbGwgaW5zdGFuY2UgbGlzdGVuZXJzLlxuICAgIHZtLiRvZmYoKTtcbiAgICAvLyByZW1vdmUgX192dWVfXyByZWZlcmVuY2VcbiAgICBpZiAodm0uJGVsKSB7XG4gICAgICB2bS4kZWwuX192dWVfXyA9IG51bGw7XG4gICAgfVxuICAgIC8vIGludm9rZSBkZXN0cm95IGhvb2tzIG9uIGN1cnJlbnQgcmVuZGVyZWQgdHJlZVxuICAgIHZtLl9fcGF0Y2hfXyh2bS5fdm5vZGUsIG51bGwpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjYWxsSG9vayAodm0sIGhvb2spIHtcbiAgdmFyIGhhbmRsZXJzID0gdm0uJG9wdGlvbnNbaG9va107XG4gIGlmIChoYW5kbGVycykge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBoYW5kbGVyc1tpXS5jYWxsKHZtKTtcbiAgICB9XG4gIH1cbiAgdm0uJGVtaXQoJ2hvb2s6JyArIGhvb2spO1xufVxuXG4vKiAgKi9cblxudmFyIGhvb2tzID0geyBpbml0OiBpbml0LCBwcmVwYXRjaDogcHJlcGF0Y2gsIGluc2VydDogaW5zZXJ0LCBkZXN0cm95OiBkZXN0cm95JDEgfTtcbnZhciBob29rc1RvTWVyZ2UgPSBPYmplY3Qua2V5cyhob29rcyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAoXG4gIEN0b3IsXG4gIGRhdGEsXG4gIGNvbnRleHQsXG4gIGNoaWxkcmVuLFxuICB0YWdcbikge1xuICBpZiAoIUN0b3IpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBiYXNlQ3RvciA9IGNvbnRleHQuJG9wdGlvbnMuX2Jhc2U7XG4gIGlmIChpc09iamVjdChDdG9yKSkge1xuICAgIEN0b3IgPSBiYXNlQ3Rvci5leHRlbmQoQ3Rvcik7XG4gIH1cblxuICBpZiAodHlwZW9mIEN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybigoXCJJbnZhbGlkIENvbXBvbmVudCBkZWZpbml0aW9uOiBcIiArIChTdHJpbmcoQ3RvcikpKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gYXN5bmMgY29tcG9uZW50XG4gIGlmICghQ3Rvci5jaWQpIHtcbiAgICBpZiAoQ3Rvci5yZXNvbHZlZCkge1xuICAgICAgQ3RvciA9IEN0b3IucmVzb2x2ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIEN0b3IgPSByZXNvbHZlQXN5bmNDb21wb25lbnQoQ3RvciwgYmFzZUN0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaXQncyBvayB0byBxdWV1ZSB0aGlzIG9uIGV2ZXJ5IHJlbmRlciBiZWNhdXNlXG4gICAgICAgIC8vICRmb3JjZVVwZGF0ZSBpcyBidWZmZXJlZCBieSB0aGUgc2NoZWR1bGVyLlxuICAgICAgICBjb250ZXh0LiRmb3JjZVVwZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAoIUN0b3IpIHtcbiAgICAgICAgLy8gcmV0dXJuIG5vdGhpbmcgaWYgdGhpcyBpcyBpbmRlZWQgYW4gYXN5bmMgY29tcG9uZW50XG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHBhcmVudCB1cGRhdGUuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHJlc29sdmUgY29uc3RydWN0b3Igb3B0aW9ucyBpbiBjYXNlIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgYWZ0ZXJcbiAgLy8gY29tcG9uZW50IGNvbnN0cnVjdG9yIGNyZWF0aW9uXG4gIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7XG5cbiAgZGF0YSA9IGRhdGEgfHwge307XG5cbiAgLy8gZXh0cmFjdCBwcm9wc1xuICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzKGRhdGEsIEN0b3IpO1xuXG4gIC8vIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gIGlmIChDdG9yLm9wdGlvbnMuZnVuY3Rpb25hbCkge1xuICAgIHJldHVybiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50KEN0b3IsIHByb3BzRGF0YSwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pXG4gIH1cblxuICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhc1xuICAvLyBjaGlsZCBjb21wb25lbnQgbGlzdGVuZXJzIGluc3RlYWQgb2YgRE9NIGxpc3RlbmVyc1xuICB2YXIgbGlzdGVuZXJzID0gZGF0YS5vbjtcbiAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXJcbiAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247XG5cbiAgaWYgKEN0b3Iub3B0aW9ucy5hYnN0cmFjdCkge1xuICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmdcbiAgICAvLyBvdGhlciB0aGFuIHByb3BzICYgbGlzdGVuZXJzXG4gICAgZGF0YSA9IHt9O1xuICB9XG5cbiAgLy8gbWVyZ2UgY29tcG9uZW50IG1hbmFnZW1lbnQgaG9va3Mgb250byB0aGUgcGxhY2Vob2xkZXIgbm9kZVxuICBtZXJnZUhvb2tzKGRhdGEpO1xuXG4gIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIHZub2RlXG4gIHZhciBuYW1lID0gQ3Rvci5vcHRpb25zLm5hbWUgfHwgdGFnO1xuICB2YXIgdm5vZGUgPSBuZXcgVk5vZGUoXG4gICAgKFwidnVlLWNvbXBvbmVudC1cIiArIChDdG9yLmNpZCkgKyAobmFtZSA/IChcIi1cIiArIG5hbWUpIDogJycpKSxcbiAgICBkYXRhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsXG4gICAgeyBDdG9yOiBDdG9yLCBwcm9wc0RhdGE6IHByb3BzRGF0YSwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsIHRhZzogdGFnLCBjaGlsZHJlbjogY2hpbGRyZW4gfVxuICApO1xuICByZXR1cm4gdm5vZGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCAoXG4gIEN0b3IsXG4gIHByb3BzRGF0YSxcbiAgZGF0YSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW5cbikge1xuICB2YXIgcHJvcHMgPSB7fTtcbiAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xuICBpZiAocHJvcE9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcE9wdGlvbnMpIHtcbiAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhKTtcbiAgICB9XG4gIH1cbiAgdmFyIHZub2RlID0gQ3Rvci5vcHRpb25zLnJlbmRlci5jYWxsKFxuICAgIG51bGwsXG4gICAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuICAgIC8vIGdldHMgYSB1bmlxdWUgY29udGV4dCAtIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBjb3JyZWN0IG5hbWVkIHNsb3QgY2hlY2tcbiAgICBiaW5kJDEoY3JlYXRlRWxlbWVudCwgeyBfc2VsZjogT2JqZWN0LmNyZWF0ZShjb250ZXh0KSB9KSxcbiAgICB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgcGFyZW50OiBjb250ZXh0LFxuICAgICAgY2hpbGRyZW46IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSxcbiAgICAgIHNsb3RzOiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIGNvbnRleHQpOyB9XG4gICAgfVxuICApO1xuICBpZiAodm5vZGUgaW5zdGFuY2VvZiBWTm9kZSkge1xuICAgIHZub2RlLmZ1bmN0aW9uYWxDb250ZXh0ID0gY29udGV4dDtcbiAgICBpZiAoZGF0YS5zbG90KSB7XG4gICAgICAodm5vZGUuZGF0YSB8fCAodm5vZGUuZGF0YSA9IHt9KSkuc2xvdCA9IGRhdGEuc2xvdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZub2RlXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUgKFxuICB2bm9kZSwgLy8gd2Uga25vdyBpdCdzIE1vdW50ZWRDb21wb25lbnRWTm9kZSBidXQgZmxvdyBkb2Vzbid0XG4gIHBhcmVudCAvLyBhY3RpdmVJbnN0YW5jZSBpbiBsaWZlY3ljbGUgc3RhdGVcbikge1xuICB2YXIgdm5vZGVDb21wb25lbnRPcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgX2lzQ29tcG9uZW50OiB0cnVlLFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIHByb3BzRGF0YTogdm5vZGVDb21wb25lbnRPcHRpb25zLnByb3BzRGF0YSxcbiAgICBfY29tcG9uZW50VGFnOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnLFxuICAgIF9wYXJlbnRWbm9kZTogdm5vZGUsXG4gICAgX3BhcmVudExpc3RlbmVyczogdm5vZGVDb21wb25lbnRPcHRpb25zLmxpc3RlbmVycyxcbiAgICBfcmVuZGVyQ2hpbGRyZW46IHZub2RlQ29tcG9uZW50T3B0aW9ucy5jaGlsZHJlblxuICB9O1xuICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9uc1xuICB2YXIgaW5saW5lVGVtcGxhdGUgPSB2bm9kZS5kYXRhLmlubGluZVRlbXBsYXRlO1xuICBpZiAoaW5saW5lVGVtcGxhdGUpIHtcbiAgICBvcHRpb25zLnJlbmRlciA9IGlubGluZVRlbXBsYXRlLnJlbmRlcjtcbiAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IGlubGluZVRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcbiAgfVxuICByZXR1cm4gbmV3IHZub2RlQ29tcG9uZW50T3B0aW9ucy5DdG9yKG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIGluaXQgKHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgaWYgKCF2bm9kZS5jaGlsZCB8fCB2bm9kZS5jaGlsZC5faXNEZXN0cm95ZWQpIHtcbiAgICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUodm5vZGUsIGFjdGl2ZUluc3RhbmNlKTtcbiAgICBjaGlsZC4kbW91bnQoaHlkcmF0aW5nID8gdm5vZGUuZWxtIDogdW5kZWZpbmVkLCBoeWRyYXRpbmcpO1xuICB9IGVsc2UgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoXG4gICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3dcbiAgICBwcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBhdGNoIChcbiAgb2xkVm5vZGUsXG4gIHZub2RlXG4pIHtcbiAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZCA9IG9sZFZub2RlLmNoaWxkO1xuICBjaGlsZC5fdXBkYXRlRnJvbVBhcmVudChcbiAgICBvcHRpb25zLnByb3BzRGF0YSwgLy8gdXBkYXRlZCBwcm9wc1xuICAgIG9wdGlvbnMubGlzdGVuZXJzLCAvLyB1cGRhdGVkIGxpc3RlbmVyc1xuICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlXG4gICAgb3B0aW9ucy5jaGlsZHJlbiAvLyBuZXcgY2hpbGRyZW5cbiAgKTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0ICh2bm9kZSkge1xuICBpZiAoIXZub2RlLmNoaWxkLl9pc01vdW50ZWQpIHtcbiAgICB2bm9kZS5jaGlsZC5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ21vdW50ZWQnKTtcbiAgfVxuICBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcbiAgICB2bm9kZS5jaGlsZC5faW5hY3RpdmUgPSBmYWxzZTtcbiAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2FjdGl2YXRlZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3kkMSAodm5vZGUpIHtcbiAgaWYgKCF2bm9kZS5jaGlsZC5faXNEZXN0cm95ZWQpIHtcbiAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgICB2bm9kZS5jaGlsZC4kZGVzdHJveSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bm9kZS5jaGlsZC5faW5hY3RpdmUgPSB0cnVlO1xuICAgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdkZWFjdGl2YXRlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQgKFxuICBmYWN0b3J5LFxuICBiYXNlQ3RvcixcbiAgY2Jcbikge1xuICBpZiAoZmFjdG9yeS5yZXF1ZXN0ZWQpIHtcbiAgICAvLyBwb29sIGNhbGxiYWNrc1xuICAgIGZhY3RvcnkucGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5LnJlcXVlc3RlZCA9IHRydWU7XG4gICAgdmFyIGNicyA9IGZhY3RvcnkucGVuZGluZ0NhbGxiYWNrcyA9IFtjYl07XG4gICAgdmFyIHN5bmMgPSB0cnVlO1xuXG4gICAgdmFyIHJlc29sdmUgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuICAgICAgICByZXMgPSBiYXNlQ3Rvci5leHRlbmQocmVzKTtcbiAgICAgIH1cbiAgICAgIC8vIGNhY2hlIHJlc29sdmVkXG4gICAgICBmYWN0b3J5LnJlc29sdmVkID0gcmVzO1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZVxuICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY2JzW2ldKHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6IFwiICsgKFN0cmluZyhmYWN0b3J5KSkgK1xuICAgICAgICAocmVhc29uID8gKFwiXFxuUmVhc29uOiBcIiArIHJlYXNvbikgOiAnJylcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7XG5cbiAgICAvLyBoYW5kbGUgcHJvbWlzZVxuICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcy50aGVuID09PSAnZnVuY3Rpb24nICYmICFmYWN0b3J5LnJlc29sdmVkKSB7XG4gICAgICByZXMudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cblxuICAgIHN5bmMgPSBmYWxzZTtcbiAgICAvLyByZXR1cm4gaW4gY2FzZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5XG4gICAgcmV0dXJuIGZhY3RvcnkucmVzb2x2ZWRcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0UHJvcHMgKGRhdGEsIEN0b3IpIHtcbiAgLy8gd2UgYXJlIG9ubHkgZXh0cmFjdGluZyByYXcgdmFsdWVzIGhlcmUuXG4gIC8vIHZhbGlkYXRpb24gYW5kIGRlZmF1bHQgdmFsdWVzIGFyZSBoYW5kbGVkIGluIHRoZSBjaGlsZFxuICAvLyBjb21wb25lbnQgaXRzZWxmLlxuICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XG4gIGlmICghcHJvcE9wdGlvbnMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBhdHRycyA9IGRhdGEuYXR0cnM7XG4gIHZhciBwcm9wcyA9IGRhdGEucHJvcHM7XG4gIHZhciBkb21Qcm9wcyA9IGRhdGEuZG9tUHJvcHM7XG4gIGlmIChhdHRycyB8fCBwcm9wcyB8fCBkb21Qcm9wcykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuICAgICAgdmFyIGFsdEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgY2hlY2tQcm9wKHJlcywgcHJvcHMsIGtleSwgYWx0S2V5LCB0cnVlKSB8fFxuICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5KSB8fFxuICAgICAgY2hlY2tQcm9wKHJlcywgZG9tUHJvcHMsIGtleSwgYWx0S2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBjaGVja1Byb3AgKFxuICByZXMsXG4gIGhhc2gsXG4gIGtleSxcbiAgYWx0S2V5LFxuICBwcmVzZXJ2ZVxuKSB7XG4gIGlmIChoYXNoKSB7XG4gICAgaWYgKGhhc093bihoYXNoLCBrZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGhhc2hba2V5XTtcbiAgICAgIGlmICghcHJlc2VydmUpIHtcbiAgICAgICAgZGVsZXRlIGhhc2hba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIGlmIChoYXNPd24oaGFzaCwgYWx0S2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBoYXNoW2FsdEtleV07XG4gICAgICBpZiAoIXByZXNlcnZlKSB7XG4gICAgICAgIGRlbGV0ZSBoYXNoW2FsdEtleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gbWVyZ2VIb29rcyAoZGF0YSkge1xuICBpZiAoIWRhdGEuaG9vaykge1xuICAgIGRhdGEuaG9vayA9IHt9O1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3NUb01lcmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGhvb2tzVG9NZXJnZVtpXTtcbiAgICB2YXIgZnJvbVBhcmVudCA9IGRhdGEuaG9va1trZXldO1xuICAgIHZhciBvdXJzID0gaG9va3Nba2V5XTtcbiAgICBkYXRhLmhvb2tba2V5XSA9IGZyb21QYXJlbnQgPyBtZXJnZUhvb2skMShvdXJzLCBmcm9tUGFyZW50KSA6IG91cnM7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVyZ2VIb29rJDEgKGEsIGIpIHtcbiAgLy8gc2luY2UgYWxsIGhvb2tzIGhhdmUgYXQgbW9zdCB0d28gYXJncywgdXNlIGZpeGVkIGFyZ3NcbiAgLy8gdG8gYXZvaWQgaGF2aW5nIHRvIHVzZSBmbi5hcHBseSgpLlxuICByZXR1cm4gZnVuY3Rpb24gKF8sIF9fKSB7XG4gICAgYShfLCBfXyk7XG4gICAgYihfLCBfXyk7XG4gIH1cbn1cblxuLyogICovXG5cbi8vIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHByb3ZpZGluZyBhIG1vcmUgZmxleGlibGUgaW50ZXJmYWNlXG4vLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3dcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuXG4pIHtcbiAgaWYgKGRhdGEgJiYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSkge1xuICAgIGNoaWxkcmVuID0gZGF0YTtcbiAgICBkYXRhID0gdW5kZWZpbmVkO1xuICB9XG4gIC8vIG1ha2Ugc3VyZSB0byB1c2UgcmVhbCBpbnN0YW5jZSBpbnN0ZWFkIG9mIHByb3h5IGFzIGNvbnRleHRcbiAgcmV0dXJuIF9jcmVhdGVFbGVtZW50KHRoaXMuX3NlbGYsIHRhZywgZGF0YSwgY2hpbGRyZW4pXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50IChcbiAgY29udGV4dCxcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlblxuKSB7XG4gIGlmIChkYXRhICYmIGRhdGEuX19vYl9fKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgXCJBdm9pZCB1c2luZyBvYnNlcnZlZCBkYXRhIG9iamVjdCBhcyB2bm9kZSBkYXRhOiBcIiArIChKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIlxcblwiICtcbiAgICAgICdBbHdheXMgY3JlYXRlIGZyZXNoIHZub2RlIGRhdGEgb2JqZWN0cyBpbiBlYWNoIHJlbmRlciEnLFxuICAgICAgY29udGV4dFxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCF0YWcpIHtcbiAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlXG4gICAgcmV0dXJuIGVtcHR5Vk5vZGUoKVxuICB9XG4gIC8vIHN1cHBvcnQgc2luZ2xlIGZ1bmN0aW9uIGNoaWxkcmVuIGFzIGRlZmF1bHQgc2NvcGVkIHNsb3RcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmXG4gICAgICB0eXBlb2YgY2hpbGRyZW5bMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgICBkYXRhLnNjb3BlZFNsb3RzID0geyBkZWZhdWx0OiBjaGlsZHJlblswXSB9O1xuICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIEN0b3I7XG4gICAgdmFyIG5zID0gY29uZmlnLmdldFRhZ05hbWVzcGFjZSh0YWcpO1xuICAgIGlmIChjb25maWcuaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG4gICAgICAvLyBwbGF0Zm9ybSBidWlsdC1pbiBlbGVtZW50c1xuICAgICAgcmV0dXJuIG5ldyBWTm9kZShcbiAgICAgICAgdGFnLCBkYXRhLCBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiwgbnMpLFxuICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbnMsIGNvbnRleHRcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKChDdG9yID0gcmVzb2x2ZUFzc2V0KGNvbnRleHQuJG9wdGlvbnMsICdjb21wb25lbnRzJywgdGFnKSkpIHtcbiAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1bmtub3duIG9yIHVubGlzdGVkIG5hbWVzcGFjZWQgZWxlbWVudHNcbiAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzXG4gICAgICAvLyBwYXJlbnQgbm9ybWFsaXplcyBjaGlsZHJlblxuICAgICAgdmFyIGNoaWxkTnMgPSB0YWcgPT09ICdmb3JlaWduT2JqZWN0JyA/ICd4aHRtbCcgOiBucztcbiAgICAgIHJldHVybiBuZXcgVk5vZGUoXG4gICAgICAgIHRhZywgZGF0YSwgbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4sIGNoaWxkTnMpLFxuICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbnMsIGNvbnRleHRcbiAgICAgIClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZGlyZWN0IGNvbXBvbmVudCBvcHRpb25zIC8gY29uc3RydWN0b3JcbiAgICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pXG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRSZW5kZXIgKHZtKSB7XG4gIHZtLiR2bm9kZSA9IG51bGw7IC8vIHRoZSBwbGFjZWhvbGRlciBub2RlIGluIHBhcmVudCB0cmVlXG4gIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXG4gIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7XG4gIHZtLl9yZW5kZXJDb250ZXh0ID0gdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlICYmIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZS5jb250ZXh0O1xuICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHModm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLCB2bS5fcmVuZGVyQ29udGV4dCk7XG4gIHZtLiRzY29wZWRTbG90cyA9IHt9O1xuICAvLyBiaW5kIHRoZSBwdWJsaWMgY3JlYXRlRWxlbWVudCBmbiB0byB0aGlzIGluc3RhbmNlXG4gIC8vIHNvIHRoYXQgd2UgZ2V0IHByb3BlciByZW5kZXIgY29udGV4dCBpbnNpZGUgaXQuXG4gIHZtLiRjcmVhdGVFbGVtZW50ID0gYmluZCQxKGNyZWF0ZUVsZW1lbnQsIHZtKTtcbiAgaWYgKHZtLiRvcHRpb25zLmVsKSB7XG4gICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuJG5leHRUaWNrID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIG5leHRUaWNrKGZuLCB0aGlzKVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciByZWYgPSB2bS4kb3B0aW9ucztcbiAgICB2YXIgcmVuZGVyID0gcmVmLnJlbmRlcjtcbiAgICB2YXIgc3RhdGljUmVuZGVyRm5zID0gcmVmLnN0YXRpY1JlbmRlckZucztcbiAgICB2YXIgX3BhcmVudFZub2RlID0gcmVmLl9wYXJlbnRWbm9kZTtcblxuICAgIGlmICh2bS5faXNNb3VudGVkKSB7XG4gICAgICAvLyBjbG9uZSBzbG90IG5vZGVzIG9uIHJlLXJlbmRlcnNcbiAgICAgIGZvciAodmFyIGtleSBpbiB2bS4kc2xvdHMpIHtcbiAgICAgICAgdm0uJHNsb3RzW2tleV0gPSBjbG9uZVZOb2Rlcyh2bS4kc2xvdHNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKF9wYXJlbnRWbm9kZSAmJiBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cykge1xuICAgICAgdm0uJHNjb3BlZFNsb3RzID0gX3BhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHM7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRpY1JlbmRlckZucyAmJiAhdm0uX3N0YXRpY1RyZWVzKSB7XG4gICAgICB2bS5fc3RhdGljVHJlZXMgPSBbXTtcbiAgICB9XG4gICAgLy8gc2V0IHBhcmVudCB2bm9kZS4gdGhpcyBhbGxvd3MgcmVuZGVyIGZ1bmN0aW9ucyB0byBoYXZlIGFjY2Vzc1xuICAgIC8vIHRvIHRoZSBkYXRhIG9uIHRoZSBwbGFjZWhvbGRlciBub2RlLlxuICAgIHZtLiR2bm9kZSA9IF9wYXJlbnRWbm9kZTtcbiAgICAvLyByZW5kZXIgc2VsZlxuICAgIHZhciB2bm9kZTtcbiAgICB0cnkge1xuICAgICAgdm5vZGUgPSByZW5kZXIuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuKChcIkVycm9yIHdoZW4gcmVuZGVyaW5nIFwiICsgKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSArIFwiOlwiKSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcbiAgICAgICAgY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGUsIHZtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1NlcnZlclJlbmRlcmluZygpKSB7XG4gICAgICAgICAgdGhyb3cgZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHJldHVybiBwcmV2aW91cyB2bm9kZSB0byBwcmV2ZW50IHJlbmRlciBlcnJvciBjYXVzaW5nIGJsYW5rIGNvbXBvbmVudFxuICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgfVxuICAgIC8vIHJldHVybiBlbXB0eSB2bm9kZSBpbiBjYXNlIHRoZSByZW5kZXIgZnVuY3Rpb24gZXJyb3JlZCBvdXRcbiAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnTXVsdGlwbGUgcm9vdCBub2RlcyByZXR1cm5lZCBmcm9tIHJlbmRlciBmdW5jdGlvbi4gUmVuZGVyIGZ1bmN0aW9uICcgK1xuICAgICAgICAgICdzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHJvb3Qgbm9kZS4nLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2bm9kZSA9IGVtcHR5Vk5vZGUoKTtcbiAgICB9XG4gICAgLy8gc2V0IHBhcmVudFxuICAgIHZub2RlLnBhcmVudCA9IF9wYXJlbnRWbm9kZTtcbiAgICByZXR1cm4gdm5vZGVcbiAgfTtcblxuICAvLyBzaG9ydGhhbmRzIHVzZWQgaW4gcmVuZGVyIGZ1bmN0aW9uc1xuICBWdWUucHJvdG90eXBlLl9oID0gY3JlYXRlRWxlbWVudDtcbiAgLy8gdG9TdHJpbmcgZm9yIG11c3RhY2hlc1xuICBWdWUucHJvdG90eXBlLl9zID0gX3RvU3RyaW5nO1xuICAvLyBudW1iZXIgY29udmVyc2lvblxuICBWdWUucHJvdG90eXBlLl9uID0gdG9OdW1iZXI7XG4gIC8vIGVtcHR5IHZub2RlXG4gIFZ1ZS5wcm90b3R5cGUuX2UgPSBlbXB0eVZOb2RlO1xuICAvLyBsb29zZSBlcXVhbFxuICBWdWUucHJvdG90eXBlLl9xID0gbG9vc2VFcXVhbDtcbiAgLy8gbG9vc2UgaW5kZXhPZlxuICBWdWUucHJvdG90eXBlLl9pID0gbG9vc2VJbmRleE9mO1xuXG4gIC8vIHJlbmRlciBzdGF0aWMgdHJlZSBieSBpbmRleFxuICBWdWUucHJvdG90eXBlLl9tID0gZnVuY3Rpb24gcmVuZGVyU3RhdGljIChcbiAgICBpbmRleCxcbiAgICBpc0luRm9yXG4gICkge1xuICAgIHZhciB0cmVlID0gdGhpcy5fc3RhdGljVHJlZXNbaW5kZXhdO1xuICAgIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLFxuICAgIC8vIHdlIGNhbiByZXVzZSB0aGUgc2FtZSB0cmVlIGJ5IGRvaW5nIGEgc2hhbGxvdyBjbG9uZS5cbiAgICBpZiAodHJlZSAmJiAhaXNJbkZvcikge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodHJlZSlcbiAgICAgICAgPyBjbG9uZVZOb2Rlcyh0cmVlKVxuICAgICAgICA6IGNsb25lVk5vZGUodHJlZSlcbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLlxuICAgIHRyZWUgPSB0aGlzLl9zdGF0aWNUcmVlc1tpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbCh0aGlzLl9yZW5kZXJQcm94eSk7XG4gICAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX3N0YXRpY19fXCIgKyBpbmRleCksIGZhbHNlKTtcbiAgICByZXR1cm4gdHJlZVxuICB9O1xuXG4gIC8vIG1hcmsgbm9kZSBhcyBzdGF0aWMgKHYtb25jZSlcbiAgVnVlLnByb3RvdHlwZS5fbyA9IGZ1bmN0aW9uIG1hcmtPbmNlIChcbiAgICB0cmVlLFxuICAgIGluZGV4LFxuICAgIGtleVxuICApIHtcbiAgICBtYXJrU3RhdGljKHRyZWUsIChcIl9fb25jZV9fXCIgKyBpbmRleCArIChrZXkgPyAoXCJfXCIgKyBrZXkpIDogXCJcIikpLCB0cnVlKTtcbiAgICByZXR1cm4gdHJlZVxuICB9O1xuXG4gIGZ1bmN0aW9uIG1hcmtTdGF0aWMgKHRyZWUsIGtleSwgaXNPbmNlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBtYXJrU3RhdGljTm9kZSh0cmVlW2ldLCAoa2V5ICsgXCJfXCIgKyBpKSwgaXNPbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXJrU3RhdGljTm9kZSh0cmVlLCBrZXksIGlzT25jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFya1N0YXRpY05vZGUgKG5vZGUsIGtleSwgaXNPbmNlKSB7XG4gICAgbm9kZS5pc1N0YXRpYyA9IHRydWU7XG4gICAgbm9kZS5rZXkgPSBrZXk7XG4gICAgbm9kZS5pc09uY2UgPSBpc09uY2U7XG4gIH1cblxuICAvLyBmaWx0ZXIgcmVzb2x1dGlvbiBoZWxwZXJcbiAgdmFyIGlkZW50aXR5ID0gZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH07XG4gIFZ1ZS5wcm90b3R5cGUuX2YgPSBmdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQodGhpcy4kb3B0aW9ucywgJ2ZpbHRlcnMnLCBpZCwgdHJ1ZSkgfHwgaWRlbnRpdHlcbiAgfTtcblxuICAvLyByZW5kZXIgdi1mb3JcbiAgVnVlLnByb3RvdHlwZS5fbCA9IGZ1bmN0aW9uIHJlbmRlckxpc3QgKFxuICAgIHZhbCxcbiAgICByZW5kZXJcbiAgKSB7XG4gICAgdmFyIHJldCwgaSwgbCwga2V5cywga2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB2YWwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxbaV0sIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHZhbDsgaSsrKSB7XG4gICAgICAgIHJldFtpXSA9IHJlbmRlcihpICsgMSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtrZXldLCBrZXksIGkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0XG4gIH07XG5cbiAgLy8gcmVuZGVyU2xvdFxuICBWdWUucHJvdG90eXBlLl90ID0gZnVuY3Rpb24gKFxuICAgIG5hbWUsXG4gICAgZmFsbGJhY2ssXG4gICAgcHJvcHNcbiAgKSB7XG4gICAgdmFyIHNjb3BlZFNsb3RGbiA9IHRoaXMuJHNjb3BlZFNsb3RzW25hbWVdO1xuICAgIGlmIChzY29wZWRTbG90Rm4pIHsgLy8gc2NvcGVkIHNsb3RcbiAgICAgIHJldHVybiBzY29wZWRTbG90Rm4ocHJvcHMgfHwge30pIHx8IGZhbGxiYWNrXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzbG90Tm9kZXMgPSB0aGlzLiRzbG90c1tuYW1lXTtcbiAgICAgIC8vIHdhcm4gZHVwbGljYXRlIHNsb3QgdXNhZ2VcbiAgICAgIGlmIChzbG90Tm9kZXMgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBzbG90Tm9kZXMuX3JlbmRlcmVkICYmIHdhcm4oXG4gICAgICAgICAgXCJEdXBsaWNhdGUgcHJlc2VuY2Ugb2Ygc2xvdCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGZvdW5kIGluIHRoZSBzYW1lIHJlbmRlciB0cmVlIFwiICtcbiAgICAgICAgICBcIi0gdGhpcyB3aWxsIGxpa2VseSBjYXVzZSByZW5kZXIgZXJyb3JzLlwiLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgICAgc2xvdE5vZGVzLl9yZW5kZXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xvdE5vZGVzIHx8IGZhbGxiYWNrXG4gICAgfVxuICB9O1xuXG4gIC8vIGFwcGx5IHYtYmluZCBvYmplY3RcbiAgVnVlLnByb3RvdHlwZS5fYiA9IGZ1bmN0aW9uIGJpbmRQcm9wcyAoXG4gICAgZGF0YSxcbiAgICB0YWcsXG4gICAgdmFsdWUsXG4gICAgYXNQcm9wXG4gICkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICAgICd2LWJpbmQgd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCBvciBBcnJheSB2YWx1ZScsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b09iamVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gYXNQcm9wIHx8IGNvbmZpZy5tdXN0VXNlUHJvcCh0YWcsIGtleSlcbiAgICAgICAgICAgICAgPyBkYXRhLmRvbVByb3BzIHx8IChkYXRhLmRvbVByb3BzID0ge30pXG4gICAgICAgICAgICAgIDogZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTtcbiAgICAgICAgICAgIGhhc2hba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhXG4gIH07XG5cbiAgLy8gZXhwb3NlIHYtb24ga2V5Q29kZXNcbiAgVnVlLnByb3RvdHlwZS5fayA9IGZ1bmN0aW9uIGdldEtleUNvZGVzIChrZXkpIHtcbiAgICByZXR1cm4gY29uZmlnLmtleUNvZGVzW2tleV1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVNsb3RzIChcbiAgcmVuZGVyQ2hpbGRyZW4sXG4gIGNvbnRleHRcbikge1xuICB2YXIgc2xvdHMgPSB7fTtcbiAgaWYgKCFyZW5kZXJDaGlsZHJlbikge1xuICAgIHJldHVybiBzbG90c1xuICB9XG4gIHZhciBjaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKHJlbmRlckNoaWxkcmVuKSB8fCBbXTtcbiAgdmFyIGRlZmF1bHRTbG90ID0gW107XG4gIHZhciBuYW1lLCBjaGlsZDtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIC8vIG5hbWVkIHNsb3RzIHNob3VsZCBvbmx5IGJlIHJlc3BlY3RlZCBpZiB0aGUgdm5vZGUgd2FzIHJlbmRlcmVkIGluIHRoZVxuICAgIC8vIHNhbWUgY29udGV4dC5cbiAgICBpZiAoKGNoaWxkLmNvbnRleHQgPT09IGNvbnRleHQgfHwgY2hpbGQuZnVuY3Rpb25hbENvbnRleHQgPT09IGNvbnRleHQpICYmXG4gICAgICAgIGNoaWxkLmRhdGEgJiYgKG5hbWUgPSBjaGlsZC5kYXRhLnNsb3QpKSB7XG4gICAgICB2YXIgc2xvdCA9IChzbG90c1tuYW1lXSB8fCAoc2xvdHNbbmFtZV0gPSBbXSkpO1xuICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICBzbG90LnB1c2guYXBwbHkoc2xvdCwgY2hpbGQuY2hpbGRyZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xvdC5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFNsb3QucHVzaChjaGlsZCk7XG4gICAgfVxuICB9XG4gIC8vIGlnbm9yZSBzaW5nbGUgd2hpdGVzcGFjZVxuICBpZiAoZGVmYXVsdFNsb3QubGVuZ3RoICYmICEoXG4gICAgZGVmYXVsdFNsb3QubGVuZ3RoID09PSAxICYmXG4gICAgKGRlZmF1bHRTbG90WzBdLnRleHQgPT09ICcgJyB8fCBkZWZhdWx0U2xvdFswXS5pc0NvbW1lbnQpXG4gICkpIHtcbiAgICBzbG90cy5kZWZhdWx0ID0gZGVmYXVsdFNsb3Q7XG4gIH1cbiAgcmV0dXJuIHNsb3RzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0RXZlbnRzICh2bSkge1xuICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzXG4gIHZhciBsaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICB2YXIgb24gPSBiaW5kJDEodm0uJG9uLCB2bSk7XG4gIHZhciBvZmYgPSBiaW5kJDEodm0uJG9mZiwgdm0pO1xuICB2bS5fdXBkYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKSB7XG4gICAgdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzIHx8IHt9LCBvbiwgb2ZmLCB2bSk7XG4gIH07XG4gIGlmIChsaXN0ZW5lcnMpIHtcbiAgICB2bS5fdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRzTWl4aW4gKFZ1ZSkge1xuICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzOyh2bS5fZXZlbnRzW2V2ZW50XSB8fCAodm0uX2V2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJG9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBmdW5jdGlvbiBvbiAoKSB7XG4gICAgICB2bS4kb2ZmKGV2ZW50LCBvbik7XG4gICAgICBmbi5hcHBseSh2bSwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgb24uZm4gPSBmbjtcbiAgICB2bS4kb24oZXZlbnQsIG9uKTtcbiAgICByZXR1cm4gdm1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRvZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICAvLyBhbGxcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGV2ZW50XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmICghY2JzKSB7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZtLl9ldmVudHNbZXZlbnRdID0gbnVsbDtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICAvLyBzcGVjaWZpYyBoYW5kbGVyXG4gICAgdmFyIGNiO1xuICAgIHZhciBpID0gY2JzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjYiA9IGNic1tpXTtcbiAgICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XG4gICAgICAgIGNicy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTtcbiAgICBpZiAoY2JzKSB7XG4gICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNicztcbiAgICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNic1tpXS5hcHBseSh2bSwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIHVpZCA9IDA7XG5cbmZ1bmN0aW9uIGluaXRNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgLy8gYSB1aWRcbiAgICB2bS5fdWlkID0gdWlkKys7XG4gICAgLy8gYSBmbGFnIHRvIGF2b2lkIHRoaXMgYmVpbmcgb2JzZXJ2ZWRcbiAgICB2bS5faXNWdWUgPSB0cnVlO1xuICAgIC8vIG1lcmdlIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLl9pc0NvbXBvbmVudCkge1xuICAgICAgLy8gb3B0aW1pemUgaW50ZXJuYWwgY29tcG9uZW50IGluc3RhbnRpYXRpb25cbiAgICAgIC8vIHNpbmNlIGR5bmFtaWMgb3B0aW9ucyBtZXJnaW5nIGlzIHByZXR0eSBzbG93LCBhbmQgbm9uZSBvZiB0aGVcbiAgICAgIC8vIGludGVybmFsIGNvbXBvbmVudCBvcHRpb25zIG5lZWRzIHNwZWNpYWwgdHJlYXRtZW50LlxuICAgICAgaW5pdEludGVybmFsQ29tcG9uZW50KHZtLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uJG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG4gICAgICAgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnModm0uY29uc3RydWN0b3IpLFxuICAgICAgICBvcHRpb25zIHx8IHt9LFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaW5pdFByb3h5KHZtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG4gICAgfVxuICAgIC8vIGV4cG9zZSByZWFsIHNlbGZcbiAgICB2bS5fc2VsZiA9IHZtO1xuICAgIGluaXRMaWZlY3ljbGUodm0pO1xuICAgIGluaXRFdmVudHModm0pO1xuICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlQ3JlYXRlJyk7XG4gICAgaW5pdFN0YXRlKHZtKTtcbiAgICBjYWxsSG9vayh2bSwgJ2NyZWF0ZWQnKTtcbiAgICBpbml0UmVuZGVyKHZtKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5pdEludGVybmFsQ29tcG9uZW50ICh2bSwgb3B0aW9ucykge1xuICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zID0gT2JqZWN0LmNyZWF0ZSh2bS5jb25zdHJ1Y3Rvci5vcHRpb25zKTtcbiAgLy8gZG9pbmcgdGhpcyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZHluYW1pYyBlbnVtZXJhdGlvbi5cbiAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcbiAgb3B0cy5wcm9wc0RhdGEgPSBvcHRpb25zLnByb3BzRGF0YTtcbiAgb3B0cy5fcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcbiAgb3B0cy5fcGFyZW50TGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBvcHRzLl9yZW5kZXJDaGlsZHJlbiA9IG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuO1xuICBvcHRzLl9jb21wb25lbnRUYWcgPSBvcHRpb25zLl9jb21wb25lbnRUYWc7XG4gIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgIG9wdHMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgb3B0cy5zdGF0aWNSZW5kZXJGbnMgPSBvcHRpb25zLnN0YXRpY1JlbmRlckZucztcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zIChDdG9yKSB7XG4gIHZhciBvcHRpb25zID0gQ3Rvci5vcHRpb25zO1xuICBpZiAoQ3Rvci5zdXBlcikge1xuICAgIHZhciBzdXBlck9wdGlvbnMgPSBDdG9yLnN1cGVyLm9wdGlvbnM7XG4gICAgdmFyIGNhY2hlZFN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXJPcHRpb25zO1xuICAgIHZhciBleHRlbmRPcHRpb25zID0gQ3Rvci5leHRlbmRPcHRpb25zO1xuICAgIGlmIChzdXBlck9wdGlvbnMgIT09IGNhY2hlZFN1cGVyT3B0aW9ucykge1xuICAgICAgLy8gc3VwZXIgb3B0aW9uIGNoYW5nZWRcbiAgICAgIEN0b3Iuc3VwZXJPcHRpb25zID0gc3VwZXJPcHRpb25zO1xuICAgICAgZXh0ZW5kT3B0aW9ucy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICAgIGV4dGVuZE9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnM7XG4gICAgICBleHRlbmRPcHRpb25zLl9zY29wZUlkID0gb3B0aW9ucy5fc2NvcGVJZDtcbiAgICAgIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoc3VwZXJPcHRpb25zLCBleHRlbmRPcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgb3B0aW9ucy5jb21wb25lbnRzW29wdGlvbnMubmFtZV0gPSBDdG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG5mdW5jdGlvbiBWdWUkMiAob3B0aW9ucykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICEodGhpcyBpbnN0YW5jZW9mIFZ1ZSQyKSkge1xuICAgIHdhcm4oJ1Z1ZSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBuZXdgIGtleXdvcmQnKTtcbiAgfVxuICB0aGlzLl9pbml0KG9wdGlvbnMpO1xufVxuXG5pbml0TWl4aW4oVnVlJDIpO1xuc3RhdGVNaXhpbihWdWUkMik7XG5ldmVudHNNaXhpbihWdWUkMik7XG5saWZlY3ljbGVNaXhpbihWdWUkMik7XG5yZW5kZXJNaXhpbihWdWUkMik7XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0VXNlIChWdWUpIHtcbiAgVnVlLnVzZSA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocGx1Z2luLmluc3RhbGxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1ldGVyc1xuICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICBpZiAodHlwZW9mIHBsdWdpbi5pbnN0YWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwbHVnaW4uaW5zdGFsbC5hcHBseShwbHVnaW4sIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfVxuICAgIHBsdWdpbi5pbnN0YWxsZWQgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0TWl4aW4kMSAoVnVlKSB7XG4gIFZ1ZS5taXhpbiA9IGZ1bmN0aW9uIChtaXhpbikge1xuICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTtcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRFeHRlbmQgKFZ1ZSkge1xuICAvKipcbiAgICogRWFjaCBpbnN0YW5jZSBjb25zdHJ1Y3RvciwgaW5jbHVkaW5nIFZ1ZSwgaGFzIGEgdW5pcXVlXG4gICAqIGNpZC4gVGhpcyBlbmFibGVzIHVzIHRvIGNyZWF0ZSB3cmFwcGVkIFwiY2hpbGRcbiAgICogY29uc3RydWN0b3JzXCIgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgYW5kIGNhY2hlIHRoZW0uXG4gICAqL1xuICBWdWUuY2lkID0gMDtcbiAgdmFyIGNpZCA9IDE7XG5cbiAgLyoqXG4gICAqIENsYXNzIGluaGVyaXRhbmNlXG4gICAqL1xuICBWdWUuZXh0ZW5kID0gZnVuY3Rpb24gKGV4dGVuZE9wdGlvbnMpIHtcbiAgICBleHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgU3VwZXIgPSB0aGlzO1xuICAgIHZhciBTdXBlcklkID0gU3VwZXIuY2lkO1xuICAgIHZhciBjYWNoZWRDdG9ycyA9IGV4dGVuZE9wdGlvbnMuX0N0b3IgfHwgKGV4dGVuZE9wdGlvbnMuX0N0b3IgPSB7fSk7XG4gICAgaWYgKGNhY2hlZEN0b3JzW1N1cGVySWRdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkQ3RvcnNbU3VwZXJJZF1cbiAgICB9XG4gICAgdmFyIG5hbWUgPSBleHRlbmRPcHRpb25zLm5hbWUgfHwgU3VwZXIub3B0aW9ucy5uYW1lO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIS9eW2EtekEtWl1bXFx3LV0qJC8udGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdJbnZhbGlkIGNvbXBvbmVudCBuYW1lOiBcIicgKyBuYW1lICsgJ1wiLiBDb21wb25lbnQgbmFtZXMgJyArXG4gICAgICAgICAgJ2NhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY2F0ZXJzIGFuZCB0aGUgaHlwaGVuLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFN1YiA9IGZ1bmN0aW9uIFZ1ZUNvbXBvbmVudCAob3B0aW9ucykge1xuICAgICAgdGhpcy5faW5pdChvcHRpb25zKTtcbiAgICB9O1xuICAgIFN1Yi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN1cGVyLnByb3RvdHlwZSk7XG4gICAgU3ViLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YjtcbiAgICBTdWIuY2lkID0gY2lkKys7XG4gICAgU3ViLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG4gICAgICBTdXBlci5vcHRpb25zLFxuICAgICAgZXh0ZW5kT3B0aW9uc1xuICAgICk7XG4gICAgU3ViWydzdXBlciddID0gU3VwZXI7XG4gICAgLy8gYWxsb3cgZnVydGhlciBleHRlbnNpb24vbWl4aW4vcGx1Z2luIHVzYWdlXG4gICAgU3ViLmV4dGVuZCA9IFN1cGVyLmV4dGVuZDtcbiAgICBTdWIubWl4aW4gPSBTdXBlci5taXhpbjtcbiAgICBTdWIudXNlID0gU3VwZXIudXNlO1xuICAgIC8vIGNyZWF0ZSBhc3NldCByZWdpc3RlcnMsIHNvIGV4dGVuZGVkIGNsYXNzZXNcbiAgICAvLyBjYW4gaGF2ZSB0aGVpciBwcml2YXRlIGFzc2V0cyB0b28uXG4gICAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdO1xuICAgIH0pO1xuICAgIC8vIGVuYWJsZSByZWN1cnNpdmUgc2VsZi1sb29rdXBcbiAgICBpZiAobmFtZSkge1xuICAgICAgU3ViLm9wdGlvbnMuY29tcG9uZW50c1tuYW1lXSA9IFN1YjtcbiAgICB9XG4gICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgc3VwZXIgb3B0aW9ucyBhdCBleHRlbnNpb24gdGltZS5cbiAgICAvLyBsYXRlciBhdCBpbnN0YW50aWF0aW9uIHdlIGNhbiBjaGVjayBpZiBTdXBlcidzIG9wdGlvbnMgaGF2ZVxuICAgIC8vIGJlZW4gdXBkYXRlZC5cbiAgICBTdWIuc3VwZXJPcHRpb25zID0gU3VwZXIub3B0aW9ucztcbiAgICBTdWIuZXh0ZW5kT3B0aW9ucyA9IGV4dGVuZE9wdGlvbnM7XG4gICAgLy8gY2FjaGUgY29uc3RydWN0b3JcbiAgICBjYWNoZWRDdG9yc1tTdXBlcklkXSA9IFN1YjtcbiAgICByZXR1cm4gU3ViXG4gIH07XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0QXNzZXRSZWdpc3RlcnMgKFZ1ZSkge1xuICAvKipcbiAgICogQ3JlYXRlIGFzc2V0IHJlZ2lzdHJhdGlvbiBtZXRob2RzLlxuICAgKi9cbiAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBWdWVbdHlwZV0gPSBmdW5jdGlvbiAoXG4gICAgICBpZCxcbiAgICAgIGRlZmluaXRpb25cbiAgICApIHtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdjb21wb25lbnQnICYmIGNvbmZpZy5pc1Jlc2VydmVkVGFnKGlkKSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgJyArXG4gICAgICAgICAgICAgICdpZDogJyArIGlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkge1xuICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IGRlZmluaXRpb24ubmFtZSB8fCBpZDtcbiAgICAgICAgICBkZWZpbml0aW9uID0gdGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChkZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2RpcmVjdGl2ZScgJiYgdHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBkZWZpbml0aW9uID0geyBiaW5kOiBkZWZpbml0aW9uLCB1cGRhdGU6IGRlZmluaXRpb24gfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdID0gZGVmaW5pdGlvbjtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb25cbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuLyogICovXG5cbnZhciBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHBdO1xuXG5mdW5jdGlvbiBtYXRjaGVzIChwYXR0ZXJuLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSlcbiAgfVxufVxuXG52YXIgS2VlcEFsaXZlID0ge1xuICBuYW1lOiAna2VlcC1hbGl2ZScsXG4gIGFic3RyYWN0OiB0cnVlLFxuICBwcm9wczoge1xuICAgIGluY2x1ZGU6IHBhdHRlcm5UeXBlcyxcbiAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXNcbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCAoKSB7XG4gICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyICgpIHtcbiAgICB2YXIgdm5vZGUgPSBnZXRGaXJzdENvbXBvbmVudENoaWxkKHRoaXMuJHNsb3RzLmRlZmF1bHQpO1xuICAgIGlmICh2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zKSB7XG4gICAgICB2YXIgb3B0cyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gICAgICAvLyBjaGVjayBwYXR0ZXJuXG4gICAgICB2YXIgbmFtZSA9IG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWc7XG4gICAgICBpZiAobmFtZSAmJiAoXG4gICAgICAgICh0aGlzLmluY2x1ZGUgJiYgIW1hdGNoZXModGhpcy5pbmNsdWRlLCBuYW1lKSkgfHxcbiAgICAgICAgKHRoaXMuZXhjbHVkZSAmJiBtYXRjaGVzKHRoaXMuZXhjbHVkZSwgbmFtZSkpXG4gICAgICApKSB7XG4gICAgICAgIHJldHVybiB2bm9kZVxuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHZub2RlLmtleSA9PSBudWxsXG4gICAgICAgIC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzXG4gICAgICAgIC8vIHNvIGNpZCBhbG9uZSBpcyBub3QgZW5vdWdoICgjMzI2OSlcbiAgICAgICAgPyBvcHRzLkN0b3IuY2lkICsgKG9wdHMudGFnID8gKFwiOjpcIiArIChvcHRzLnRhZykpIDogJycpXG4gICAgICAgIDogdm5vZGUua2V5O1xuICAgICAgaWYgKHRoaXMuY2FjaGVba2V5XSkge1xuICAgICAgICB2bm9kZS5jaGlsZCA9IHRoaXMuY2FjaGVba2V5XS5jaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IHZub2RlO1xuICAgICAgfVxuICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGVcbiAgfSxcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGUpIHtcbiAgICAgIHZhciB2bm9kZSA9IHRoaXMkMS5jYWNoZVtrZXldO1xuICAgICAgY2FsbEhvb2sodm5vZGUuY2hpbGQsICdkZWFjdGl2YXRlZCcpO1xuICAgICAgdm5vZGUuY2hpbGQuJGRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBidWlsdEluQ29tcG9uZW50cyA9IHtcbiAgS2VlcEFsaXZlOiBLZWVwQWxpdmVcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0R2xvYmFsQVBJIChWdWUpIHtcbiAgLy8gY29uZmlnXG4gIHZhciBjb25maWdEZWYgPSB7fTtcbiAgY29uZmlnRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmZpZzsgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25maWdEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJ1xuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICdjb25maWcnLCBjb25maWdEZWYpO1xuICBWdWUudXRpbCA9IHV0aWw7XG4gIFZ1ZS5zZXQgPSBzZXQ7XG4gIFZ1ZS5kZWxldGUgPSBkZWw7XG4gIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xuXG4gIFZ1ZS5vcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBWdWUub3B0aW9uc1t0eXBlICsgJ3MnXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH0pO1xuXG4gIC8vIHRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgXCJiYXNlXCIgY29uc3RydWN0b3IgdG8gZXh0ZW5kIGFsbCBwbGFpbi1vYmplY3RcbiAgLy8gY29tcG9uZW50cyB3aXRoIGluIFdlZXgncyBtdWx0aS1pbnN0YW5jZSBzY2VuYXJpb3MuXG4gIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlO1xuXG4gIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7XG5cbiAgaW5pdFVzZShWdWUpO1xuICBpbml0TWl4aW4kMShWdWUpO1xuICBpbml0RXh0ZW5kKFZ1ZSk7XG4gIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpO1xufVxuXG5pbml0R2xvYmFsQVBJKFZ1ZSQyKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSQyLnByb3RvdHlwZSwgJyRpc1NlcnZlcicsIHtcbiAgZ2V0OiBpc1NlcnZlclJlbmRlcmluZ1xufSk7XG5cblZ1ZSQyLnZlcnNpb24gPSAnMi4xLjMnO1xuXG4vKiAgKi9cblxuLy8gYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSB1c2luZyBwcm9wcyBmb3IgYmluZGluZ1xudmFyIG11c3RVc2VQcm9wID0gZnVuY3Rpb24gKHRhZywgYXR0cikge1xuICByZXR1cm4gKFxuICAgIChhdHRyID09PSAndmFsdWUnICYmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnIHx8IHRhZyA9PT0gJ29wdGlvbicpKSB8fFxuICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8XG4gICAgKGF0dHIgPT09ICdjaGVja2VkJyAmJiB0YWcgPT09ICdpbnB1dCcpIHx8XG4gICAgKGF0dHIgPT09ICdtdXRlZCcgJiYgdGFnID09PSAndmlkZW8nKVxuICApXG59O1xuXG52YXIgaXNFbnVtZXJhdGVkQXR0ciA9IG1ha2VNYXAoJ2NvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjaycpO1xuXG52YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoXG4gICdhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLCcgK1xuICAnZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLCcgK1xuICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICtcbiAgJ211dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHksJyArXG4gICdyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLCcgK1xuICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZSdcbik7XG5cbnZhciBpc0F0dHIgPSBtYWtlTWFwKFxuICAnYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWx0LGFzeW5jLGF1dG9jb21wbGV0ZSwnICtcbiAgJ2F1dG9mb2N1cyxhdXRvcGxheSxhdXRvc2F2ZSxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjaGFsbGVuZ2UsY2hhcnNldCwnICtcbiAgJ2NoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGh0dHAtZXF1aXYsJyArXG4gICduYW1lLGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsZGF0YSxkYXRldGltZSxkZWZhdWx0LCcgK1xuICAnZGVmZXIsZGlyLGRpcm5hbWUsZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsbWV0aG9kLGZvciwnICtcbiAgJ2Zvcm0sZm9ybWFjdGlvbixoZWFkZXJzLDx0aD4saGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdiwnICtcbiAgJ2ljb24saWQsaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbGlzdCxsb29wLGxvdywnICtcbiAgJ21hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWVkaWEsbWV0aG9kLEdFVCxQT1NULG1pbixtdWx0aXBsZSxlbWFpbCxmaWxlLCcgK1xuICAnbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLCcgK1xuICAncHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCwnICtcbiAgJ3Njb3BlLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzaGFwZSxzaXplLHR5cGUsdGV4dCxwYXNzd29yZCxzaXplcyxzcGFuLCcgK1xuICAnc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCwnICtcbiAgJ3RhcmdldCx0aXRsZSx0eXBlLHVzZW1hcCx2YWx1ZSx3aWR0aCx3cmFwJ1xuKTtcblxuXG5cbnZhciB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXG52YXIgaXNYbGluayA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCg1KSA9PT0gJzonICYmIG5hbWUuc2xpY2UoMCwgNSkgPT09ICd4bGluaydcbn07XG5cbnZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gaXNYbGluayhuYW1lKSA/IG5hbWUuc2xpY2UoNiwgbmFtZS5sZW5ndGgpIDogJydcbn07XG5cbnZhciBpc0ZhbHN5QXR0clZhbHVlID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGdlbkNsYXNzRm9yVm5vZGUgKHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuICB3aGlsZSAoY2hpbGROb2RlLmNoaWxkKSB7XG4gICAgY2hpbGROb2RlID0gY2hpbGROb2RlLmNoaWxkLl92bm9kZTtcbiAgICBpZiAoY2hpbGROb2RlLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShjaGlsZE5vZGUuZGF0YSwgZGF0YSk7XG4gICAgfVxuICB9XG4gIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkge1xuICAgIGlmIChwYXJlbnROb2RlLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShkYXRhLCBwYXJlbnROb2RlLmRhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2VuQ2xhc3NGcm9tRGF0YShkYXRhKVxufVxuXG5mdW5jdGlvbiBtZXJnZUNsYXNzRGF0YSAoY2hpbGQsIHBhcmVudCkge1xuICByZXR1cm4ge1xuICAgIHN0YXRpY0NsYXNzOiBjb25jYXQoY2hpbGQuc3RhdGljQ2xhc3MsIHBhcmVudC5zdGF0aWNDbGFzcyksXG4gICAgY2xhc3M6IGNoaWxkLmNsYXNzXG4gICAgICA/IFtjaGlsZC5jbGFzcywgcGFyZW50LmNsYXNzXVxuICAgICAgOiBwYXJlbnQuY2xhc3NcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5DbGFzc0Zyb21EYXRhIChkYXRhKSB7XG4gIHZhciBkeW5hbWljQ2xhc3MgPSBkYXRhLmNsYXNzO1xuICB2YXIgc3RhdGljQ2xhc3MgPSBkYXRhLnN0YXRpY0NsYXNzO1xuICBpZiAoc3RhdGljQ2xhc3MgfHwgZHluYW1pY0NsYXNzKSB7XG4gICAgcmV0dXJuIGNvbmNhdChzdGF0aWNDbGFzcywgc3RyaW5naWZ5Q2xhc3MoZHluYW1pY0NsYXNzKSlcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gJydcbn1cblxuZnVuY3Rpb24gY29uY2F0IChhLCBiKSB7XG4gIHJldHVybiBhID8gYiA/IChhICsgJyAnICsgYikgOiBhIDogKGIgfHwgJycpXG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUNsYXNzICh2YWx1ZSkge1xuICB2YXIgcmVzID0gJyc7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gcmVzXG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICB2YXIgc3RyaW5naWZpZWQ7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZVtpXSkge1xuICAgICAgICBpZiAoKHN0cmluZ2lmaWVkID0gc3RyaW5naWZ5Q2xhc3ModmFsdWVbaV0pKSkge1xuICAgICAgICAgIHJlcyArPSBzdHJpbmdpZmllZCArICcgJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKVxuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZVtrZXldKSB7IHJlcyArPSBrZXkgKyAnICc7IH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSlcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG52YXIgbmFtZXNwYWNlTWFwID0ge1xuICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG4gIG1hdGg6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJyxcbiAgeGh0bWw6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJ1xufTtcblxudmFyIGlzSFRNTFRhZyA9IG1ha2VNYXAoXG4gICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSwnICtcbiAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbiwnICtcbiAgJ2RpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCwnICtcbiAgJ2EsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSwnICtcbiAgJ3Msc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLCcgK1xuICAnZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsJyArXG4gICdjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0ciwnICtcbiAgJ2J1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sJyArXG4gICdvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLCcgK1xuICAnZGV0YWlscyxkaWFsb2csbWVudSxtZW51aXRlbSxzdW1tYXJ5LCcgK1xuICAnY29udGVudCxlbGVtZW50LHNoYWRvdyx0ZW1wbGF0ZSdcbik7XG5cbnZhciBpc1VuYXJ5VGFnID0gbWFrZU1hcChcbiAgJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsZnJhbWUsaHIsaW1nLGlucHV0LGlzaW5kZXgsa2V5Z2VuLCcgK1xuICAnbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInLFxuICB0cnVlXG4pO1xuXG4vLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW5cbi8vIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcbnZhciBjYW5CZUxlZnRPcGVuVGFnID0gbWFrZU1hcChcbiAgJ2NvbGdyb3VwLGRkLGR0LGxpLG9wdGlvbnMscCx0ZCx0Zm9vdCx0aCx0aGVhZCx0cixzb3VyY2UnLFxuICB0cnVlXG4pO1xuXG4vLyBIVE1MNSB0YWdzIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbCNlbGVtZW50cy0zXG4vLyBQaHJhc2luZyBDb250ZW50IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI3BocmFzaW5nLWNvbnRlbnRcbnZhciBpc05vblBocmFzaW5nVGFnID0gbWFrZU1hcChcbiAgJ2FkZHJlc3MsYXJ0aWNsZSxhc2lkZSxiYXNlLGJsb2NrcXVvdGUsYm9keSxjYXB0aW9uLGNvbCxjb2xncm91cCxkZCwnICtcbiAgJ2RldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSwnICtcbiAgJ2gxLGgyLGgzLGg0LGg1LGg2LGhlYWQsaGVhZGVyLGhncm91cCxocixodG1sLGxlZ2VuZCxsaSxtZW51aXRlbSxtZXRhLCcgK1xuICAnb3B0Z3JvdXAsb3B0aW9uLHBhcmFtLHJwLHJ0LHNvdXJjZSxzdHlsZSxzdW1tYXJ5LHRib2R5LHRkLHRmb290LHRoLHRoZWFkLCcgK1xuICAndGl0bGUsdHIsdHJhY2snLFxuICB0cnVlXG4pO1xuXG4vLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXlcbi8vIGNvbnRhaW4gY2hpbGQgZWxlbWVudHMuXG52YXIgaXNTVkcgPSBtYWtlTWFwKFxuICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udCwnICtcbiAgJ2ZvbnQtZmFjZSxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4sJyArXG4gICdwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3JyxcbiAgdHJ1ZVxuKTtcblxuXG5cbnZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICByZXR1cm4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkcodGFnKVxufTtcblxuZnVuY3Rpb24gZ2V0VGFnTmFtZXNwYWNlICh0YWcpIHtcbiAgaWYgKGlzU1ZHKHRhZykpIHtcbiAgICByZXR1cm4gJ3N2ZydcbiAgfVxuICAvLyBiYXNpYyBzdXBwb3J0IGZvciBNYXRoTUxcbiAgLy8gbm90ZSBpdCBkb2Vzbid0IHN1cHBvcnQgb3RoZXIgTWF0aE1MIGVsZW1lbnRzIGJlaW5nIGNvbXBvbmVudCByb290c1xuICBpZiAodGFnID09PSAnbWF0aCcpIHtcbiAgICByZXR1cm4gJ21hdGgnXG4gIH1cbn1cblxudmFyIHVua25vd25FbGVtZW50Q2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCAodGFnKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWluQnJvd3Nlcikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKGlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHRhZyA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHVua25vd25FbGVtZW50Q2FjaGVbdGFnXVxuICB9XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgaWYgKHRhZy5pbmRleE9mKCctJykgPiAtMSkge1xuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4MjEwMzY0LzEwNzAyNDRcbiAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IChcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTFVua25vd25FbGVtZW50IHx8XG4gICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxFbGVtZW50XG4gICAgKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpXG4gIH1cbn1cblxuLyogICovXG5cbi8qKlxuICogUXVlcnkgYW4gZWxlbWVudCBzZWxlY3RvciBpZiBpdCdzIG5vdCBhbiBlbGVtZW50IGFscmVhZHkuXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5IChlbCkge1xuICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzZWxlY3RvciA9IGVsO1xuICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XG4gICAgaWYgKCFlbCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICAnQ2Fubm90IGZpbmQgZWxlbWVudDogJyArIHNlbGVjdG9yXG4gICAgICApO1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgfVxuICB9XG4gIHJldHVybiBlbFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxICh0YWdOYW1lLCB2bm9kZSkge1xuICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKHRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG4gICAgcmV0dXJuIGVsbVxuICB9XG4gIGlmICh2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEuYXR0cnMgJiYgJ211bHRpcGxlJyBpbiB2bm9kZS5kYXRhLmF0dHJzKSB7XG4gICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcbiAgfVxuICByZXR1cm4gZWxtXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50ICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpXG59XG5cbmZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG4gIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRDaGlsZCAobm9kZSwgY2hpbGQpIHtcbiAgbm9kZS5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZVxufVxuXG5mdW5jdGlvbiBuZXh0U2libGluZyAobm9kZSkge1xuICByZXR1cm4gbm9kZS5uZXh0U2libGluZ1xufVxuXG5mdW5jdGlvbiB0YWdOYW1lIChub2RlKSB7XG4gIHJldHVybiBub2RlLnRhZ05hbWVcbn1cblxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmZ1bmN0aW9uIGNoaWxkTm9kZXMgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1xufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUgKG5vZGUsIGtleSwgdmFsKSB7XG4gIG5vZGUuc2V0QXR0cmlidXRlKGtleSwgdmFsKTtcbn1cblxuXG52YXIgbm9kZU9wcyA9IE9iamVjdC5mcmVlemUoe1xuXHRjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50JDEsXG5cdGNyZWF0ZUVsZW1lbnROUzogY3JlYXRlRWxlbWVudE5TLFxuXHRjcmVhdGVUZXh0Tm9kZTogY3JlYXRlVGV4dE5vZGUsXG5cdGNyZWF0ZUNvbW1lbnQ6IGNyZWF0ZUNvbW1lbnQsXG5cdGluc2VydEJlZm9yZTogaW5zZXJ0QmVmb3JlLFxuXHRyZW1vdmVDaGlsZDogcmVtb3ZlQ2hpbGQsXG5cdGFwcGVuZENoaWxkOiBhcHBlbmRDaGlsZCxcblx0cGFyZW50Tm9kZTogcGFyZW50Tm9kZSxcblx0bmV4dFNpYmxpbmc6IG5leHRTaWJsaW5nLFxuXHR0YWdOYW1lOiB0YWdOYW1lLFxuXHRzZXRUZXh0Q29udGVudDogc2V0VGV4dENvbnRlbnQsXG5cdGNoaWxkTm9kZXM6IGNoaWxkTm9kZXMsXG5cdHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlXG59KTtcblxuLyogICovXG5cbnZhciByZWYgPSB7XG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICAgIGlmIChvbGRWbm9kZS5kYXRhLnJlZiAhPT0gdm5vZGUuZGF0YS5yZWYpIHtcbiAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcbiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7XG4gICAgcmVnaXN0ZXJSZWYodm5vZGUsIHRydWUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkge1xuICB2YXIga2V5ID0gdm5vZGUuZGF0YS5yZWY7XG4gIGlmICgha2V5KSB7IHJldHVybiB9XG5cbiAgdmFyIHZtID0gdm5vZGUuY29udGV4dDtcbiAgdmFyIHJlZiA9IHZub2RlLmNoaWxkIHx8IHZub2RlLmVsbTtcbiAgdmFyIHJlZnMgPSB2bS4kcmVmcztcbiAgaWYgKGlzUmVtb3ZhbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlZnNba2V5XSkpIHtcbiAgICAgIHJlbW92ZSQxKHJlZnNba2V5XSwgcmVmKTtcbiAgICB9IGVsc2UgaWYgKHJlZnNba2V5XSA9PT0gcmVmKSB7XG4gICAgICByZWZzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh2bm9kZS5kYXRhLnJlZkluRm9yKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pICYmIHJlZnNba2V5XS5pbmRleE9mKHJlZikgPCAwKSB7XG4gICAgICAgIHJlZnNba2V5XS5wdXNoKHJlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWZzW2tleV0gPSBbcmVmXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmc1trZXldID0gcmVmO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieVxuICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBtb2RpZmllZCBieSBFdmFuIFlvdSAoQHl5eDk5MDgwMylcbiAqXG5cbi8qXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGJlY2F1c2UgdGhpcyBmaWxlIGlzIHBlcmYtY3JpdGljYWwgYW5kIHRoZSBjb3N0XG4gKiBvZiBtYWtpbmcgZmxvdyB1bmRlcnN0YW5kIGl0IGlzIG5vdCB3b3J0aCBpdC5cbiAqL1xuXG52YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pO1xuXG52YXIgaG9va3MkMSA9IFsnY3JlYXRlJywgJ3VwZGF0ZScsICdyZW1vdmUnLCAnZGVzdHJveSddO1xuXG5mdW5jdGlvbiBpc1VuZGVmIChzKSB7XG4gIHJldHVybiBzID09IG51bGxcbn1cblxuZnVuY3Rpb24gaXNEZWYgKHMpIHtcbiAgcmV0dXJuIHMgIT0gbnVsbFxufVxuXG5mdW5jdGlvbiBzYW1lVm5vZGUgKHZub2RlMSwgdm5vZGUyKSB7XG4gIHJldHVybiAoXG4gICAgdm5vZGUxLmtleSA9PT0gdm5vZGUyLmtleSAmJlxuICAgIHZub2RlMS50YWcgPT09IHZub2RlMi50YWcgJiZcbiAgICB2bm9kZTEuaXNDb21tZW50ID09PSB2bm9kZTIuaXNDb21tZW50ICYmXG4gICAgIXZub2RlMS5kYXRhID09PSAhdm5vZGUyLmRhdGFcbiAgKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHtcbiAgdmFyIGksIGtleTtcbiAgdmFyIG1hcCA9IHt9O1xuICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkge1xuICAgIGtleSA9IGNoaWxkcmVuW2ldLmtleTtcbiAgICBpZiAoaXNEZWYoa2V5KSkgeyBtYXBba2V5XSA9IGk7IH1cbiAgfVxuICByZXR1cm4gbWFwXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhdGNoRnVuY3Rpb24gKGJhY2tlbmQpIHtcbiAgdmFyIGksIGo7XG4gIHZhciBjYnMgPSB7fTtcblxuICB2YXIgbW9kdWxlcyA9IGJhY2tlbmQubW9kdWxlcztcbiAgdmFyIG5vZGVPcHMgPSBiYWNrZW5kLm5vZGVPcHM7XG5cbiAgZm9yIChpID0gMDsgaSA8IGhvb2tzJDEubGVuZ3RoOyArK2kpIHtcbiAgICBjYnNbaG9va3MkMVtpXV0gPSBbXTtcbiAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikge1xuICAgICAgaWYgKG1vZHVsZXNbal1baG9va3MkMVtpXV0gIT09IHVuZGVmaW5lZCkgeyBjYnNbaG9va3MkMVtpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzJDFbaV1dKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtcHR5Tm9kZUF0IChlbG0pIHtcbiAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGVPcHMudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCksIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSbUNiIChjaGlsZEVsbSwgbGlzdGVuZXJzKSB7XG4gICAgZnVuY3Rpb24gcmVtb3ZlJCQxICgpIHtcbiAgICAgIGlmICgtLXJlbW92ZSQkMS5saXN0ZW5lcnMgPT09IDApIHtcbiAgICAgICAgcmVtb3ZlRWxlbWVudChjaGlsZEVsbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSQkMS5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG4gICAgcmV0dXJuIHJlbW92ZSQkMVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCAoZWwpIHtcbiAgICB2YXIgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsKTtcbiAgICAvLyBlbGVtZW50IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkIGR1ZSB0byB2LWh0bWxcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudCwgZWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsbSAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmVzdGVkKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZub2RlLmlzUm9vdEluc2VydCA9ICFuZXN0ZWQ7XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsgaSh2bm9kZSk7IH1cbiAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50XG4gICAgICAvLyBpdCBzaG91bGQndmUgY3JlYXRlZCBhIGNoaWxkIGluc3RhbmNlIGFuZCBtb3VudGVkIGl0LiB0aGUgY2hpbGRcbiAgICAgIC8vIGNvbXBvbmVudCBhbHNvIGhhcyBzZXQgdGhlIHBsYWNlaG9sZGVyIHZub2RlJ3MgZWxtLlxuICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS5cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGQpKSB7XG4gICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIHJldHVybiB2bm9kZS5lbG1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICBpZiAoaXNEZWYodGFnKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICF2bm9kZS5ucyAmJlxuICAgICAgICAgICEoY29uZmlnLmlnbm9yZWRFbGVtZW50cyAmJiBjb25maWcuaWdub3JlZEVsZW1lbnRzLmluZGV4T2YodGFnKSA+IC0xKSAmJlxuICAgICAgICAgIGNvbmZpZy5pc1Vua25vd25FbGVtZW50KHRhZylcbiAgICAgICAgKSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgICdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArIHRhZyArICc+IC0gZGlkIHlvdSAnICtcbiAgICAgICAgICAgICdyZWdpc3RlciB0aGUgY29tcG9uZW50IGNvcnJlY3RseT8gRm9yIHJlY3Vyc2l2ZSBjb21wb25lbnRzLCAnICtcbiAgICAgICAgICAgICdtYWtlIHN1cmUgdG8gcHJvdmlkZSB0aGUgXCJuYW1lXCIgb3B0aW9uLicsXG4gICAgICAgICAgICB2bm9kZS5jb250ZXh0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm5vZGUuZWxtID0gdm5vZGUubnNcbiAgICAgICAgPyBub2RlT3BzLmNyZWF0ZUVsZW1lbnROUyh2bm9kZS5ucywgdGFnKVxuICAgICAgICA6IG5vZGVPcHMuY3JlYXRlRWxlbWVudCh0YWcsIHZub2RlKTtcbiAgICAgIHNldFNjb3BlKHZub2RlKTtcbiAgICAgIGNyZWF0ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLmlzQ29tbWVudCkge1xuICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVDb21tZW50KHZub2RlLnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGUuZWxtXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZHJlbiAodm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIGNyZWF0ZUVsbShjaGlsZHJlbltpXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkge1xuICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUGF0Y2hhYmxlICh2bm9kZSkge1xuICAgIHdoaWxlICh2bm9kZS5jaGlsZCkge1xuICAgICAgdm5vZGUgPSB2bm9kZS5jaGlsZC5fdm5vZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpXG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VDcmVhdGVIb29rcyAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kkMSkge1xuICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgdm5vZGUpO1xuICAgIH1cbiAgICBpID0gdm5vZGUuZGF0YS5ob29rOyAvLyBSZXVzZSB2YXJpYWJsZVxuICAgIGlmIChpc0RlZihpKSkge1xuICAgICAgaWYgKGkuY3JlYXRlKSB7IGkuY3JlYXRlKGVtcHR5Tm9kZSwgdm5vZGUpOyB9XG4gICAgICBpZiAoaS5pbnNlcnQpIHsgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmICh2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpIHtcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTtcbiAgICB9XG4gICAgdm5vZGUuZWxtID0gdm5vZGUuY2hpbGQuJGVsO1xuICAgIGlmIChpc1BhdGNoYWJsZSh2bm9kZSkpIHtcbiAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgc2V0U2NvcGUodm5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbXB0eSBjb21wb25lbnQgcm9vdC5cbiAgICAgIC8vIHNraXAgYWxsIGVsZW1lbnQtcmVsYXRlZCBtb2R1bGVzIGV4Y2VwdCBmb3IgcmVmICgjMzQ1NSlcbiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbnZva2UgdGhlIGluc2VydCBob29rXG4gICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IHNjb3BlIGlkIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIENTUy5cbiAgLy8gdGhpcyBpcyBpbXBsZW1lbnRlZCBhcyBhIHNwZWNpYWwgY2FzZSB0byBhdm9pZCB0aGUgb3ZlcmhlYWRcbiAgLy8gb2YgZ29pbmcgdGhyb3VnaCB0aGUgbm9ybWFsIGF0dHJpYnV0ZSBwYXRjaGluZyBwcm9jZXNzLlxuICBmdW5jdGlvbiBzZXRTY29wZSAodm5vZGUpIHtcbiAgICB2YXIgaTtcbiAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNvbnRleHQpICYmIGlzRGVmKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKSkge1xuICAgICAgbm9kZU9wcy5zZXRBdHRyaWJ1dGUodm5vZGUuZWxtLCBpLCAnJyk7XG4gICAgfVxuICAgIGlmIChpc0RlZihpID0gYWN0aXZlSW5zdGFuY2UpICYmXG4gICAgICAgIGkgIT09IHZub2RlLmNvbnRleHQgJiZcbiAgICAgICAgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG4gICAgICBub2RlT3BzLnNldEF0dHJpYnV0ZSh2bm9kZS5lbG0sIGksICcnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRWbm9kZXMgKHBhcmVudEVsbSwgYmVmb3JlLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSksIGJlZm9yZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sgKHZub2RlKSB7XG4gICAgdmFyIGksIGo7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmRlc3Ryb3kpKSB7IGkodm5vZGUpOyB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsgY2JzLmRlc3Ryb3lbaV0odm5vZGUpOyB9XG4gICAgfVxuICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgaW52b2tlRGVzdHJveUhvb2sodm5vZGUuY2hpbGRyZW5bal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVZub2RlcyAocGFyZW50RWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgpIHtcbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICB2YXIgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgICAgaWYgKGlzRGVmKGNoKSkge1xuICAgICAgICBpZiAoaXNEZWYoY2gudGFnKSkge1xuICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soY2gpO1xuICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKGNoKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gVGV4dCBub2RlXG4gICAgICAgICAgbm9kZU9wcy5yZW1vdmVDaGlsZChwYXJlbnRFbG0sIGNoLmVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rICh2bm9kZSwgcm0pIHtcbiAgICBpZiAocm0gfHwgaXNEZWYodm5vZGUuZGF0YSkpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG4gICAgICBpZiAoIXJtKSB7XG4gICAgICAgIC8vIGRpcmVjdGx5IHJlbW92aW5nXG4gICAgICAgIHJtID0gY3JlYXRlUm1DYih2bm9kZS5lbG0sIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBoYXZlIGEgcmVjdXJzaXZlbHkgcGFzc2VkIGRvd24gcm0gY2FsbGJhY2tcbiAgICAgICAgLy8gaW5jcmVhc2UgdGhlIGxpc3RlbmVycyBjb3VudFxuICAgICAgICBybS5saXN0ZW5lcnMgKz0gbGlzdGVuZXJzO1xuICAgICAgfVxuICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY2hpbGQpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkge1xuICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGksIHJtKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNicy5yZW1vdmVbaV0odm5vZGUsIHJtKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7XG4gICAgICAgIGkodm5vZGUsIHJtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJtKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUVsZW1lbnQodm5vZGUuZWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIHZhciBvbGRTdGFydElkeCA9IDA7XG4gICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcbiAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIGVsbVRvTW92ZSwgYmVmb3JlO1xuXG4gICAgLy8gcmVtb3ZlT25seSBpcyBhIHNwZWNpYWwgZmxhZyB1c2VkIG9ubHkgYnkgPHRyYW5zaXRpb24tZ3JvdXA+XG4gICAgLy8gdG8gZW5zdXJlIHJlbW92ZWQgZWxlbWVudHMgc3RheSBpbiBjb3JyZWN0IHJlbGF0aXZlIHBvc2l0aW9uc1xuICAgIC8vIGR1cmluZyBsZWF2aW5nIHRyYW5zaXRpb25zXG4gICAgdmFyIGNhbk1vdmUgPSAhcmVtb3ZlT25seTtcblxuICAgIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgICBpZiAoaXNVbmRlZihvbGRTdGFydFZub2RlKSkge1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIGhhcyBiZWVuIG1vdmVkIGxlZnRcbiAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZihvbGRFbmRWbm9kZSkpIHtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7IC8vIFZub2RlIG1vdmVkIHJpZ2h0XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRTdGFydFZub2RlLmVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhvbGRFbmRWbm9kZS5lbG0pKTtcbiAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCBsZWZ0XG4gICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfVxuICAgICAgICBpZHhJbk9sZCA9IGlzRGVmKG5ld1N0YXJ0Vm5vZGUua2V5KSA/IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5XSA6IG51bGw7XG4gICAgICAgIGlmIChpc1VuZGVmKGlkeEluT2xkKSkgeyAvLyBOZXcgZWxlbWVudFxuICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxtVG9Nb3ZlID0gb2xkQ2hbaWR4SW5PbGRdO1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFlbG1Ub01vdmUpIHtcbiAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICdJdCBzZWVtcyB0aGVyZSBhcmUgZHVwbGljYXRlIGtleXMgdGhhdCBpcyBjYXVzaW5nIGFuIHVwZGF0ZSBlcnJvci4gJyArXG4gICAgICAgICAgICAgICdNYWtlIHN1cmUgZWFjaCB2LWZvciBpdGVtIGhhcyBhIHVuaXF1ZSBrZXkuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsbVRvTW92ZS50YWcgIT09IG5ld1N0YXJ0Vm5vZGUudGFnKSB7XG4gICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XG4gICAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpLCBvbGRTdGFydFZub2RlLmVsbSk7XG4gICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoVm5vZGUoZWxtVG9Nb3ZlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG5ld1N0YXJ0Vm5vZGUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XG4gICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkge1xuICAgICAgYmVmb3JlID0gaXNVbmRlZihuZXdDaFtuZXdFbmRJZHggKyAxXSkgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uZWxtO1xuICAgICAgYWRkVm5vZGVzKHBhcmVudEVsbSwgYmVmb3JlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XG4gICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpIHtcbiAgICBpZiAob2xkVm5vZGUgPT09IHZub2RlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmV1c2UgZWxlbWVudCBmb3Igc3RhdGljIHRyZWVzLlxuICAgIC8vIG5vdGUgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgLVxuICAgIC8vIGlmIHRoZSBuZXcgbm9kZSBpcyBub3QgY2xvbmVkIGl0IG1lYW5zIHRoZSByZW5kZXIgZnVuY3Rpb25zIGhhdmUgYmVlblxuICAgIC8vIHJlc2V0IGJ5IHRoZSBob3QtcmVsb2FkLWFwaSBhbmQgd2UgbmVlZCB0byBkbyBhIHByb3BlciByZS1yZW5kZXIuXG4gICAgaWYgKHZub2RlLmlzU3RhdGljICYmXG4gICAgICAgIG9sZFZub2RlLmlzU3RhdGljICYmXG4gICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmXG4gICAgICAgICh2bm9kZS5pc0Nsb25lZCB8fCB2bm9kZS5pc09uY2UpKSB7XG4gICAgICB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07XG4gICAgICB2bm9kZS5jaGlsZCA9IG9sZFZub2RlLmNoaWxkO1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHZhciBpO1xuICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICB2YXIgaGFzRGF0YSA9IGlzRGVmKGRhdGEpO1xuICAgIGlmIChoYXNEYXRhICYmIGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnByZXBhdGNoKSkge1xuICAgICAgaShvbGRWbm9kZSwgdm5vZGUpO1xuICAgIH1cbiAgICB2YXIgZWxtID0gdm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtO1xuICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuO1xuICAgIHZhciBjaCA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGlmIChoYXNEYXRhICYmIGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy51cGRhdGUubGVuZ3RoOyArK2kpIHsgY2JzLnVwZGF0ZVtpXShvbGRWbm9kZSwgdm5vZGUpOyB9XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkudXBkYXRlKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICB9XG4gICAgaWYgKGlzVW5kZWYodm5vZGUudGV4dCkpIHtcbiAgICAgIGlmIChpc0RlZihvbGRDaCkgJiYgaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChvbGRDaCAhPT0gY2gpIHsgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7IH1cbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgeyBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpOyB9XG4gICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRDaCkpIHtcbiAgICAgICAgcmVtb3ZlVm5vZGVzKGVsbSwgb2xkQ2gsIDAsIG9sZENoLmxlbmd0aCAtIDEpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkge1xuICAgICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2xkVm5vZGUudGV4dCAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sIHZub2RlLnRleHQpO1xuICAgIH1cbiAgICBpZiAoaGFzRGF0YSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnBvc3RwYXRjaCkpIHsgaShvbGRWbm9kZSwgdm5vZGUpOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlSW5zZXJ0SG9vayAodm5vZGUsIHF1ZXVlLCBpbml0aWFsKSB7XG4gICAgLy8gZGVsYXkgaW5zZXJ0IGhvb2tzIGZvciBjb21wb25lbnQgcm9vdCBub2RlcywgaW52b2tlIHRoZW0gYWZ0ZXIgdGhlXG4gICAgLy8gZWxlbWVudCBpcyByZWFsbHkgaW5zZXJ0ZWRcbiAgICBpZiAoaW5pdGlhbCAmJiB2bm9kZS5wYXJlbnQpIHtcbiAgICAgIHZub2RlLnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQgPSBxdWV1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBxdWV1ZVtpXS5kYXRhLmhvb2suaW5zZXJ0KHF1ZXVlW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgYmFpbGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIWFzc2VydE5vZGVNYXRjaChlbG0sIHZub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgdm5vZGUuZWxtID0gZWxtO1xuICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7IGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTsgfVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkpIHtcbiAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXG4gICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RlZih0YWcpKSB7XG4gICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7XG4gICAgICAgIHZhciBjaGlsZE5vZGVzID0gbm9kZU9wcy5jaGlsZE5vZGVzKGVsbSk7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnQsIGFsbG93IGNsaWVudCB0byBwaWNrIHVwIGFuZCBwb3B1bGF0ZSBjaGlsZHJlblxuICAgICAgICBpZiAoIWNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjaGlsZHJlbk1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGggIT09IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBjaGlsZHJlbi5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICAgICAgICAgIGlmICghaHlkcmF0ZShjaGlsZE5vZGVzW2kkMV0sIGNoaWxkcmVuW2kkMV0sIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWNoaWxkcmVuTWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgIWJhaWxlZCkge1xuICAgICAgICAgICAgICBiYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNtYXRjaGluZyBjaGlsZE5vZGVzIHZzLiBWTm9kZXM6ICcsIGNoaWxkTm9kZXMsIGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm9kZU1hdGNoIChub2RlLCB2bm9kZSkge1xuICAgIGlmICh2bm9kZS50YWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHZub2RlLnRhZy5pbmRleE9mKCd2dWUtY29tcG9uZW50JykgPT09IDAgfHxcbiAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVPcHMudGFnTmFtZShub2RlKS50b0xvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBfdG9TdHJpbmcodm5vZGUudGV4dCkgPT09IG5vZGUuZGF0YVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwYXRjaCAob2xkVm5vZGUsIHZub2RlLCBoeWRyYXRpbmcsIHJlbW92ZU9ubHkpIHtcbiAgICBpZiAoIXZub2RlKSB7XG4gICAgICBpZiAob2xkVm5vZGUpIHsgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOyB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgZWxtLCBwYXJlbnQ7XG4gICAgdmFyIGlzSW5pdGlhbFBhdGNoID0gZmFsc2U7XG4gICAgdmFyIGluc2VydGVkVm5vZGVRdWV1ZSA9IFtdO1xuXG4gICAgaWYgKCFvbGRWbm9kZSkge1xuICAgICAgLy8gZW1wdHkgbW91bnQsIGNyZWF0ZSBuZXcgcm9vdCBlbGVtZW50XG4gICAgICBpc0luaXRpYWxQYXRjaCA9IHRydWU7XG4gICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpc1JlYWxFbGVtZW50ID0gaXNEZWYob2xkVm5vZGUubm9kZVR5cGUpO1xuICAgICAgaWYgKCFpc1JlYWxFbGVtZW50ICYmIHNhbWVWbm9kZShvbGRWbm9kZSwgdm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzUmVhbEVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb3VudGluZyB0byBhIHJlYWwgZWxlbWVudFxuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGlmIHdlIGNhbiBwZXJmb3JtXG4gICAgICAgICAgLy8gYSBzdWNjZXNzZnVsIGh5ZHJhdGlvbi5cbiAgICAgICAgICBpZiAob2xkVm5vZGUubm9kZVR5cGUgPT09IDEgJiYgb2xkVm5vZGUuaGFzQXR0cmlidXRlKCdzZXJ2ZXItcmVuZGVyZWQnKSkge1xuICAgICAgICAgICAgb2xkVm5vZGUucmVtb3ZlQXR0cmlidXRlKCdzZXJ2ZXItcmVuZGVyZWQnKTtcbiAgICAgICAgICAgIGh5ZHJhdGluZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoeWRyYXRpbmcpIHtcbiAgICAgICAgICAgIGlmIChoeWRyYXRlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkge1xuICAgICAgICAgICAgICBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHRydWUpO1xuICAgICAgICAgICAgICByZXR1cm4gb2xkVm5vZGVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICAgICdUaGUgY2xpZW50LXNpZGUgcmVuZGVyZWQgdmlydHVhbCBET00gdHJlZSBpcyBub3QgbWF0Y2hpbmcgJyArXG4gICAgICAgICAgICAgICAgJ3NlcnZlci1yZW5kZXJlZCBjb250ZW50LiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgaW5jb3JyZWN0ICcgK1xuICAgICAgICAgICAgICAgICdIVE1MIG1hcmt1cCwgZm9yIGV4YW1wbGUgbmVzdGluZyBibG9jay1sZXZlbCBlbGVtZW50cyBpbnNpZGUgJyArXG4gICAgICAgICAgICAgICAgJzxwPiwgb3IgbWlzc2luZyA8dGJvZHk+LiBCYWlsaW5nIGh5ZHJhdGlvbiBhbmQgcGVyZm9ybWluZyAnICtcbiAgICAgICAgICAgICAgICAnZnVsbCBjbGllbnQtc2lkZSByZW5kZXIuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlaXRoZXIgbm90IHNlcnZlci1yZW5kZXJlZCwgb3IgaHlkcmF0aW9uIGZhaWxlZC5cbiAgICAgICAgICAvLyBjcmVhdGUgYW4gZW1wdHkgbm9kZSBhbmQgcmVwbGFjZSBpdFxuICAgICAgICAgIG9sZFZub2RlID0gZW1wdHlOb2RlQXQob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsbSA9IG9sZFZub2RlLmVsbTtcbiAgICAgICAgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsbSk7XG5cbiAgICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXG4gICAgICAgIC8vIGNvbXBvbmVudCByb290IGVsZW1lbnQgcmVwbGFjZWQuXG4gICAgICAgIC8vIHVwZGF0ZSBwYXJlbnQgcGxhY2Vob2xkZXIgbm9kZSBlbGVtZW50LCByZWN1cnNpdmVseVxuICAgICAgICBpZiAodm5vZGUucGFyZW50KSB7XG4gICAgICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGUucGFyZW50O1xuICAgICAgICAgIHdoaWxlIChhbmNlc3Rvcikge1xuICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtO1xuICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1BhdGNoYWJsZSh2bm9kZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICBjYnMuY3JlYXRlW2ldKGVtcHR5Tm9kZSwgdm5vZGUucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50LCB2bm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcoZWxtKSk7XG4gICAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudCwgW29sZFZub2RlXSwgMCwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGFnKSkge1xuICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKG9sZFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaXNJbml0aWFsUGF0Y2gpO1xuICAgIHJldHVybiB2bm9kZS5lbG1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIGRpcmVjdGl2ZXMgPSB7XG4gIGNyZWF0ZTogdXBkYXRlRGlyZWN0aXZlcyxcbiAgdXBkYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICBkZXN0cm95OiBmdW5jdGlvbiB1bmJpbmREaXJlY3RpdmVzICh2bm9kZSkge1xuICAgIHVwZGF0ZURpcmVjdGl2ZXModm5vZGUsIGVtcHR5Tm9kZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZURpcmVjdGl2ZXMgKFxuICBvbGRWbm9kZSxcbiAgdm5vZGVcbikge1xuICBpZiAoIW9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcyAmJiAhdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGlzQ3JlYXRlID0gb2xkVm5vZGUgPT09IGVtcHR5Tm9kZTtcbiAgdmFyIG9sZERpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcbiAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEodm5vZGUuZGF0YS5kaXJlY3RpdmVzLCB2bm9kZS5jb250ZXh0KTtcblxuICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcbiAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107XG5cbiAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XG4gIGZvciAoa2V5IGluIG5ld0RpcnMpIHtcbiAgICBvbGREaXIgPSBvbGREaXJzW2tleV07XG4gICAgZGlyID0gbmV3RGlyc1trZXldO1xuICAgIGlmICghb2xkRGlyKSB7XG4gICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXG4gICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xuICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXG4gICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XG4gICAgICBjYWxsSG9vayQxKGRpciwgJ3VwZGF0ZScsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmNvbXBvbmVudFVwZGF0ZWQpIHtcbiAgICAgICAgZGlyc1dpdGhQb3N0cGF0Y2gucHVzaChkaXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJzV2l0aEluc2VydC5sZW5ndGgpIHtcbiAgICB2YXIgY2FsbEluc2VydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpcnNXaXRoSW5zZXJ0LmZvckVhY2goZnVuY3Rpb24gKGRpcikge1xuICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2luc2VydGVkJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKGlzQ3JlYXRlKSB7XG4gICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ2luc2VydCcsIGNhbGxJbnNlcnQsICdkaXItaW5zZXJ0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxJbnNlcnQoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGlyc1dpdGhQb3N0cGF0Y2gubGVuZ3RoKSB7XG4gICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdwb3N0cGF0Y2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkaXJzV2l0aFBvc3RwYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkaXIpIHtcbiAgICAgICAgY2FsbEhvb2skMShkaXIsICdjb21wb25lbnRVcGRhdGVkJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIH0pO1xuICAgIH0sICdkaXItcG9zdHBhdGNoJyk7XG4gIH1cblxuICBpZiAoIWlzQ3JlYXRlKSB7XG4gICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xuICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcbiAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxuICAgICAgICBjYWxsSG9vayQxKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGVtcHR5TW9kaWZpZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyQxIChcbiAgZGlycyxcbiAgdm1cbikge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaWYgKCFkaXJzKSB7XG4gICAgcmV0dXJuIHJlc1xuICB9XG4gIHZhciBpLCBkaXI7XG4gIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGlyID0gZGlyc1tpXTtcbiAgICBpZiAoIWRpci5tb2RpZmllcnMpIHtcbiAgICAgIGRpci5tb2RpZmllcnMgPSBlbXB0eU1vZGlmaWVycztcbiAgICB9XG4gICAgcmVzW2dldFJhd0Rpck5hbWUoZGlyKV0gPSBkaXI7XG4gICAgZGlyLmRlZiA9IHJlc29sdmVBc3NldCh2bS4kb3B0aW9ucywgJ2RpcmVjdGl2ZXMnLCBkaXIubmFtZSwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnZXRSYXdEaXJOYW1lIChkaXIpIHtcbiAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgXCIuXCIgKyAoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSlcbn1cblxuZnVuY3Rpb24gY2FsbEhvb2skMSAoZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUpIHtcbiAgdmFyIGZuID0gZGlyLmRlZiAmJiBkaXIuZGVmW2hvb2tdO1xuICBpZiAoZm4pIHtcbiAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlKTtcbiAgfVxufVxuXG52YXIgYmFzZU1vZHVsZXMgPSBbXG4gIHJlZixcbiAgZGlyZWN0aXZlc1xuXTtcblxuLyogICovXG5cbmZ1bmN0aW9uIHVwZGF0ZUF0dHJzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgaWYgKCFvbGRWbm9kZS5kYXRhLmF0dHJzICYmICF2bm9kZS5kYXRhLmF0dHJzKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyLCBvbGQ7XG4gIHZhciBlbG0gPSB2bm9kZS5lbG07XG4gIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIHZhciBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuICBpZiAoYXR0cnMuX19vYl9fKSB7XG4gICAgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzID0gZXh0ZW5kKHt9LCBhdHRycyk7XG4gIH1cblxuICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgIGN1ciA9IGF0dHJzW2tleV07XG4gICAgb2xkID0gb2xkQXR0cnNba2V5XTtcbiAgICBpZiAob2xkICE9PSBjdXIpIHtcbiAgICAgIHNldEF0dHIoZWxtLCBrZXksIGN1cik7XG4gICAgfVxuICB9XG4gIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG4gICAgaWYgKGF0dHJzW2tleV0gPT0gbnVsbCkge1xuICAgICAgaWYgKGlzWGxpbmsoa2V5KSkge1xuICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuICAgICAgfSBlbHNlIGlmICghaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XG4gICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0QXR0ciAoZWwsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXG4gICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBrZXkpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJyA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICB9IGVsc2UgaWYgKGlzWGxpbmsoa2V5KSkge1xuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgYXR0cnMgPSB7XG4gIGNyZWF0ZTogdXBkYXRlQXR0cnMsXG4gIHVwZGF0ZTogdXBkYXRlQXR0cnNcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVDbGFzcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcbiAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XG4gIGlmICghZGF0YS5zdGF0aWNDbGFzcyAmJiAhZGF0YS5jbGFzcyAmJlxuICAgICAgKCFvbGREYXRhIHx8ICghb2xkRGF0YS5zdGF0aWNDbGFzcyAmJiAhb2xkRGF0YS5jbGFzcykpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY2xzID0gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSk7XG5cbiAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xuICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzO1xuICBpZiAodHJhbnNpdGlvbkNsYXNzKSB7XG4gICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7XG4gIH1cblxuICAvLyBzZXQgdGhlIGNsYXNzXG4gIGlmIChjbHMgIT09IGVsLl9wcmV2Q2xhc3MpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xzKTtcbiAgICBlbC5fcHJldkNsYXNzID0gY2xzO1xuICB9XG59XG5cbnZhciBrbGFzcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVDbGFzcyxcbiAgdXBkYXRlOiB1cGRhdGVDbGFzc1xufTtcblxuLy8gc2tpcCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIHdlIG5lZWQgdG8gYXR0YWNoIHByaXZhdGUgcHJvcGVydGllc1xuLy8gdG8gZWxlbWVudHNcblxuZnVuY3Rpb24gdXBkYXRlRE9NTGlzdGVuZXJzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgaWYgKCFvbGRWbm9kZS5kYXRhLm9uICYmICF2bm9kZS5kYXRhLm9uKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIG9uID0gdm5vZGUuZGF0YS5vbiB8fCB7fTtcbiAgdmFyIG9sZE9uID0gb2xkVm5vZGUuZGF0YS5vbiB8fCB7fTtcbiAgdmFyIGFkZCA9IHZub2RlLmVsbS5fdl9hZGQgfHwgKHZub2RlLmVsbS5fdl9hZGQgPSBmdW5jdGlvbiAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICB2bm9kZS5lbG0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgY2FwdHVyZSk7XG4gIH0pO1xuICB2YXIgcmVtb3ZlID0gdm5vZGUuZWxtLl92X3JlbW92ZSB8fCAodm5vZGUuZWxtLl92X3JlbW92ZSA9IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlcikge1xuICAgIHZub2RlLmVsbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgfSk7XG4gIHVwZGF0ZUxpc3RlbmVycyhvbiwgb2xkT24sIGFkZCwgcmVtb3ZlLCB2bm9kZS5jb250ZXh0KTtcbn1cblxudmFyIGV2ZW50cyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMsXG4gIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoIW9sZFZub2RlLmRhdGEuZG9tUHJvcHMgJiYgIXZub2RlLmRhdGEuZG9tUHJvcHMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIga2V5LCBjdXI7XG4gIHZhciBlbG0gPSB2bm9kZS5lbG07XG4gIHZhciBvbGRQcm9wcyA9IG9sZFZub2RlLmRhdGEuZG9tUHJvcHMgfHwge307XG4gIHZhciBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgfHwge307XG4gIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuICBpZiAocHJvcHMuX19vYl9fKSB7XG4gICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7XG4gIH1cblxuICBmb3IgKGtleSBpbiBvbGRQcm9wcykge1xuICAgIGlmIChwcm9wc1trZXldID09IG51bGwpIHtcbiAgICAgIGVsbVtrZXldID0gJyc7XG4gICAgfVxuICB9XG4gIGZvciAoa2V5IGluIHByb3BzKSB7XG4gICAgY3VyID0gcHJvcHNba2V5XTtcbiAgICAvLyBpZ25vcmUgY2hpbGRyZW4gaWYgdGhlIG5vZGUgaGFzIHRleHRDb250ZW50IG9yIGlubmVySFRNTCxcbiAgICAvLyBhcyB0aGVzZSB3aWxsIHRocm93IGF3YXkgZXhpc3RpbmcgRE9NIG5vZGVzIGFuZCBjYXVzZSByZW1vdmFsIGVycm9yc1xuICAgIC8vIG9uIHN1YnNlcXVlbnQgcGF0Y2hlcyAoIzMzNjApXG4gICAgaWYgKGtleSA9PT0gJ3RleHRDb250ZW50JyB8fCBrZXkgPT09ICdpbm5lckhUTUwnKSB7XG4gICAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHsgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoID0gMDsgfVxuICAgICAgaWYgKGN1ciA9PT0gb2xkUHJvcHNba2V5XSkgeyBjb250aW51ZSB9XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScpIHtcbiAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXG4gICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkXG4gICAgICBlbG0uX3ZhbHVlID0gY3VyO1xuICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lXG4gICAgICB2YXIgc3RyQ3VyID0gY3VyID09IG51bGwgPyAnJyA6IFN0cmluZyhjdXIpO1xuICAgICAgaWYgKGVsbS52YWx1ZSAhPT0gc3RyQ3VyICYmICFlbG0uY29tcG9zaW5nKSB7XG4gICAgICAgIGVsbS52YWx1ZSA9IHN0ckN1cjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWxtW2tleV0gPSBjdXI7XG4gICAgfVxuICB9XG59XG5cbnZhciBkb21Qcm9wcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcyxcbiAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xufTtcblxuLyogICovXG5cbnZhciBwYXJzZVN0eWxlVGV4dCA9IGNhY2hlZChmdW5jdGlvbiAoY3NzVGV4dCkge1xuICB2YXIgcmVzID0ge307XG4gIHZhciBoYXNCYWNrZ3JvdW5kID0gY3NzVGV4dC5pbmRleE9mKCdiYWNrZ3JvdW5kJykgPj0gMDtcbiAgLy8gbWF5YmUgd2l0aCBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cDovL3h4eCkgb3IgYmFzZTY0IGltZ1xuICB2YXIgbGlzdERlbGltaXRlciA9IGhhc0JhY2tncm91bmQgPyAvOyg/IVteKF0qXFwpKS9nIDogJzsnO1xuICB2YXIgcHJvcGVydHlEZWxpbWl0ZXIgPSBoYXNCYWNrZ3JvdW5kID8gLzooLispLyA6ICc6JztcbiAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlRGF0YSAoZGF0YSkge1xuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcoZGF0YS5zdHlsZSk7XG4gIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvblxuICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxuICByZXR1cm4gZGF0YS5zdGF0aWNTdHlsZVxuICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKVxuICAgIDogc3R5bGVcbn1cblxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmluZGluZ1N0eWxlKSkge1xuICAgIHJldHVybiB0b09iamVjdChiaW5kaW5nU3R5bGUpXG4gIH1cbiAgaWYgKHR5cGVvZiBiaW5kaW5nU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVUZXh0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICByZXR1cm4gYmluZGluZ1N0eWxlXG59XG5cbi8qKlxuICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQnc1xuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIHN0eWxlRGF0YTtcblxuICBpZiAoY2hlY2tDaGlsZCkge1xuICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoY2hpbGROb2RlLmNoaWxkKSB7XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY2hpbGQuX3Zub2RlO1xuICAgICAgaWYgKGNoaWxkTm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEoY2hpbGROb2RlLmRhdGEpKSkge1xuICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICgoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHZub2RlLmRhdGEpKSkge1xuICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG4gIH1cblxuICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xuICB3aGlsZSAoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcbiAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHtcbiAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbnZhciBjc3NWYXJSRSA9IC9eLS0vO1xudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGNzc1ZhclJFLnRlc3QobmFtZSkpIHtcbiAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICB9IGVsc2Uge1xuICAgIGVsLnN0eWxlW25vcm1hbGl6ZShuYW1lKV0gPSB2YWw7XG4gIH1cbn07XG5cbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuXG52YXIgdGVzdEVsO1xudmFyIG5vcm1hbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAocHJvcCkge1xuICB0ZXN0RWwgPSB0ZXN0RWwgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByb3AgPSBjYW1lbGl6ZShwcm9wKTtcbiAgaWYgKHByb3AgIT09ICdmaWx0ZXInICYmIChwcm9wIGluIHRlc3RFbC5zdHlsZSkpIHtcbiAgICByZXR1cm4gcHJvcFxuICB9XG4gIHZhciB1cHBlciA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyB1cHBlcjtcbiAgICBpZiAocHJlZml4ZWQgaW4gdGVzdEVsLnN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVTdHlsZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXG4gIGlmICghZGF0YS5zdGF0aWNTdHlsZSAmJiAhZGF0YS5zdHlsZSAmJlxuICAgICAgIW9sZERhdGEuc3RhdGljU3R5bGUgJiYgIW9sZERhdGEuc3R5bGUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjdXIsIG5hbWU7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcbiAgdmFyIG9sZFN0YXRpY1N0eWxlID0gb2xkVm5vZGUuZGF0YS5zdGF0aWNTdHlsZTtcbiAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZFZub2RlLmRhdGEuc3R5bGUgfHwge307XG5cbiAgLy8gaWYgc3RhdGljIHN0eWxlIGV4aXN0cywgc3R5bGViaW5kaW5nIGFscmVhZHkgbWVyZ2VkIGludG8gaXQgd2hlbiBkb2luZyBub3JtYWxpemVTdHlsZURhdGFcbiAgdmFyIG9sZFN0eWxlID0gb2xkU3RhdGljU3R5bGUgfHwgb2xkU3R5bGVCaW5kaW5nO1xuXG4gIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyh2bm9kZS5kYXRhLnN0eWxlKSB8fCB7fTtcblxuICB2bm9kZS5kYXRhLnN0eWxlID0gc3R5bGUuX19vYl9fID8gZXh0ZW5kKHt9LCBzdHlsZSkgOiBzdHlsZTtcblxuICB2YXIgbmV3U3R5bGUgPSBnZXRTdHlsZSh2bm9kZSwgdHJ1ZSk7XG5cbiAgZm9yIChuYW1lIGluIG9sZFN0eWxlKSB7XG4gICAgaWYgKG5ld1N0eWxlW25hbWVdID09IG51bGwpIHtcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsICcnKTtcbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7XG4gICAgY3VyID0gbmV3U3R5bGVbbmFtZV07XG4gICAgaWYgKGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcbiAgICAgIC8vIGllOSBzZXR0aW5nIHRvIG51bGwgaGFzIG5vIGVmZmVjdCwgbXVzdCB1c2UgZW1wdHkgc3RyaW5nXG4gICAgICBzZXRQcm9wKGVsLCBuYW1lLCBjdXIgPT0gbnVsbCA/ICcnIDogY3VyKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHN0eWxlID0ge1xuICBjcmVhdGU6IHVwZGF0ZVN0eWxlLFxuICB1cGRhdGU6IHVwZGF0ZVN0eWxlXG59O1xuXG4vKiAgKi9cblxuLyoqXG4gKiBBZGQgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cbiAqIFNWRyBlbGVtZW50cyBpbiBJRVxuICovXG5mdW5jdGlvbiBhZGRDbGFzcyAoZWwsIGNscykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFjbHMgfHwgIWNscy50cmltKCkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuYWRkKGMpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VyID0gJyAnICsgZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnO1xuICAgIGlmIChjdXIuaW5kZXhPZignICcgKyBjbHMgKyAnICcpIDwgMCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIChjdXIgKyBjbHMpLnRyaW0oKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uXG4gKiBTVkcgZWxlbWVudHMgaW4gSUVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MgKGVsLCBjbHMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghY2xzIHx8ICFjbHMudHJpbSgpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1ciA9ICcgJyArIGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSArICcgJztcbiAgICB2YXIgdGFyID0gJyAnICsgY2xzICsgJyAnO1xuICAgIHdoaWxlIChjdXIuaW5kZXhPZih0YXIpID49IDApIHtcbiAgICAgIGN1ciA9IGN1ci5yZXBsYWNlKHRhciwgJyAnKTtcbiAgICB9XG4gICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1ci50cmltKCkpO1xuICB9XG59XG5cbi8qICAqL1xuXG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XG52YXIgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbnZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcblxuLy8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xudmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcbnZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcbmlmIChoYXNUcmFuc2l0aW9uKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdHJhbnNpdGlvblByb3AgPSAnV2Via2l0VHJhbnNpdGlvbic7XG4gICAgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdFRyYW5zaXRpb25FbmQnO1xuICB9XG4gIGlmICh3aW5kb3cub25hbmltYXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJlxuICAgIHdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYW5pbWF0aW9uUHJvcCA9ICdXZWJraXRBbmltYXRpb24nO1xuICAgIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCc7XG4gIH1cbn1cblxudmFyIHJhZiA9IChpbkJyb3dzZXIgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgfHwgc2V0VGltZW91dDtcbmZ1bmN0aW9uIG5leHRGcmFtZSAoZm4pIHtcbiAgcmFmKGZ1bmN0aW9uICgpIHtcbiAgICByYWYoZm4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzIChlbCwgY2xzKSB7XG4gIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgfHwgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyA9IFtdKSkucHVzaChjbHMpO1xuICBhZGRDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzIChlbCwgY2xzKSB7XG4gIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICByZW1vdmUkMShlbC5fdHJhbnNpdGlvbkNsYXNzZXMsIGNscyk7XG4gIH1cbiAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7XG59XG5cbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyAoXG4gIGVsLFxuICBleHBlY3RlZFR5cGUsXG4gIGNiXG4pIHtcbiAgdmFyIHJlZiA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuICB2YXIgdHlwZSA9IHJlZi50eXBlO1xuICB2YXIgdGltZW91dCA9IHJlZi50aW1lb3V0O1xuICB2YXIgcHJvcENvdW50ID0gcmVmLnByb3BDb3VudDtcbiAgaWYgKCF0eXBlKSB7IHJldHVybiBjYigpIH1cbiAgdmFyIGV2ZW50ID0gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25FbmRFdmVudCA6IGFuaW1hdGlvbkVuZEV2ZW50O1xuICB2YXIgZW5kZWQgPSAwO1xuICB2YXIgZW5kID0gZnVuY3Rpb24gKCkge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRW5kKTtcbiAgICBjYigpO1xuICB9O1xuICB2YXIgb25FbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZWwpIHtcbiAgICAgIGlmICgrK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgICBlbmQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9LCB0aW1lb3V0ICsgMSk7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRW5kKTtcbn1cblxudmFyIHRyYW5zZm9ybVJFID0gL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLztcblxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8gKGVsLCBleHBlY3RlZFR5cGUpIHtcbiAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgdmFyIHRyYW5zaXRpb25lRGVsYXlzID0gc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0RlbGF5J10uc3BsaXQoJywgJyk7XG4gIHZhciB0cmFuc2l0aW9uRHVyYXRpb25zID0gc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10uc3BsaXQoJywgJyk7XG4gIHZhciB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbmVEZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRGVsYXknXS5zcGxpdCgnLCAnKTtcbiAgdmFyIGFuaW1hdGlvbkR1cmF0aW9ucyA9IHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10uc3BsaXQoJywgJyk7XG4gIHZhciBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XG5cbiAgdmFyIHR5cGU7XG4gIHZhciB0aW1lb3V0ID0gMDtcbiAgdmFyIHByb3BDb3VudCA9IDA7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG4gICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcbiAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBBTklNQVRJT047XG4gICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG4gICAgdHlwZSA9IHRpbWVvdXQgPiAwXG4gICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxuICAgICAgICA/IFRSQU5TSVRJT05cbiAgICAgICAgOiBBTklNQVRJT05cbiAgICAgIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlXG4gICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cbiAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgIDogMDtcbiAgfVxuICB2YXIgaGFzVHJhbnNmb3JtID1cbiAgICB0eXBlID09PSBUUkFOU0lUSU9OICYmXG4gICAgdHJhbnNmb3JtUkUudGVzdChzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnUHJvcGVydHknXSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogdHlwZSxcbiAgICB0aW1lb3V0OiB0aW1lb3V0LFxuICAgIHByb3BDb3VudDogcHJvcENvdW50LFxuICAgIGhhc1RyYW5zZm9ybTogaGFzVHJhbnNmb3JtXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGltZW91dCAoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICB9XG5cbiAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGR1cmF0aW9ucy5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcbiAgICByZXR1cm4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKVxuICB9KSlcbn1cblxuZnVuY3Rpb24gdG9NcyAocykge1xuICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpKSAqIDEwMDBcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGVudGVyICh2bm9kZSkge1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cbiAgLy8gY2FsbCBsZWF2ZSBjYWxsYmFjayBub3dcbiAgaWYgKGVsLl9sZWF2ZUNiKSB7XG4gICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBlbC5fbGVhdmVDYigpO1xuICB9XG5cbiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZWwuX2VudGVyQ2IgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjc3MgPSBkYXRhLmNzcztcbiAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzO1xuICB2YXIgZW50ZXJBY3RpdmVDbGFzcyA9IGRhdGEuZW50ZXJBY3RpdmVDbGFzcztcbiAgdmFyIGFwcGVhckNsYXNzID0gZGF0YS5hcHBlYXJDbGFzcztcbiAgdmFyIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVyID0gZGF0YS5lbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXI7XG4gIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7XG4gIHZhciBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhcjtcbiAgdmFyIGFwcGVhciA9IGRhdGEuYXBwZWFyO1xuICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyO1xuICB2YXIgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQ7XG5cbiAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xuICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcbiAgLy8gYXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNoaWxkIGNvbXBvbmVudC4gSW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gY2hlY2tcbiAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXG4gIHZhciB0cmFuc2l0aW9uTm9kZSA9IGFjdGl2ZUluc3RhbmNlLiR2bm9kZTtcbiAgdmFyIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZSAmJiB0cmFuc2l0aW9uTm9kZS5wYXJlbnRcbiAgICA/IHRyYW5zaXRpb25Ob2RlLnBhcmVudC5jb250ZXh0XG4gICAgOiBhY3RpdmVJbnN0YW5jZTtcblxuICB2YXIgaXNBcHBlYXIgPSAhY29udGV4dC5faXNNb3VudGVkIHx8ICF2bm9kZS5pc1Jvb3RJbnNlcnQ7XG5cbiAgaWYgKGlzQXBwZWFyICYmICFhcHBlYXIgJiYgYXBwZWFyICE9PSAnJykge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN0YXJ0Q2xhc3MgPSBpc0FwcGVhciA/IGFwcGVhckNsYXNzIDogZW50ZXJDbGFzcztcbiAgdmFyIGFjdGl2ZUNsYXNzID0gaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3M7XG4gIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhciA/IChiZWZvcmVBcHBlYXIgfHwgYmVmb3JlRW50ZXIpIDogYmVmb3JlRW50ZXI7XG4gIHZhciBlbnRlckhvb2sgPSBpc0FwcGVhciA/ICh0eXBlb2YgYXBwZWFyID09PSAnZnVuY3Rpb24nID8gYXBwZWFyIDogZW50ZXIpIDogZW50ZXI7XG4gIHZhciBhZnRlckVudGVySG9vayA9IGlzQXBwZWFyID8gKGFmdGVyQXBwZWFyIHx8IGFmdGVyRW50ZXIpIDogYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyID8gKGFwcGVhckNhbmNlbGxlZCB8fCBlbnRlckNhbmNlbGxlZCkgOiBlbnRlckNhbmNlbGxlZDtcblxuICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xuICB2YXIgdXNlcldhbnRzQ29udHJvbCA9XG4gICAgZW50ZXJIb29rICYmXG4gICAgLy8gZW50ZXJIb29rIG1heSBiZSBhIGJvdW5kIG1ldGhvZCB3aGljaCBleHBvc2VzXG4gICAgLy8gdGhlIGxlbmd0aCBvZiBvcmlnaW5hbCBmbiBhcyBfbGVuZ3RoXG4gICAgKGVudGVySG9vay5fbGVuZ3RoIHx8IGVudGVySG9vay5sZW5ndGgpID4gMTtcblxuICB2YXIgY2IgPSBlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkge1xuICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XG4gICAgfVxuICAgIGVsLl9lbnRlckNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGVuZGluZ05vZGUgPSBwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nICYmIHBhcmVudC5fcGVuZGluZ1t2bm9kZS5rZXldO1xuICAgICAgaWYgKHBlbmRpbmdOb2RlICYmIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYikge1xuICAgICAgICBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IoKTtcbiAgICAgIH1cbiAgICAgIGVudGVySG9vayAmJiBlbnRlckhvb2soZWwsIGNiKTtcbiAgICB9LCAndHJhbnNpdGlvbi1pbnNlcnQnKTtcbiAgfVxuXG4gIC8vIHN0YXJ0IGVudGVyIHRyYW5zaXRpb25cbiAgYmVmb3JlRW50ZXJIb29rICYmIGJlZm9yZUVudGVySG9vayhlbCk7XG4gIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcbiAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICAgIGlmICghY2IuY2FuY2VsbGVkICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHZub2RlLmRhdGEuc2hvdykge1xuICAgIGVudGVySG9vayAmJiBlbnRlckhvb2soZWwsIGNiKTtcbiAgfVxuXG4gIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuICAgIGNiKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbGVhdmUgKHZub2RlLCBybSkge1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cbiAgLy8gY2FsbCBlbnRlciBjYWxsYmFjayBub3dcbiAgaWYgKGVsLl9lbnRlckNiKSB7XG4gICAgZWwuX2VudGVyQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBlbC5fZW50ZXJDYigpO1xuICB9XG5cbiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm4gcm0oKVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChlbC5fbGVhdmVDYiB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGNzcyA9IGRhdGEuY3NzO1xuICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgdmFyIGxlYXZlQ2xhc3MgPSBkYXRhLmxlYXZlQ2xhc3M7XG4gIHZhciBsZWF2ZUFjdGl2ZUNsYXNzID0gZGF0YS5sZWF2ZUFjdGl2ZUNsYXNzO1xuICB2YXIgYmVmb3JlTGVhdmUgPSBkYXRhLmJlZm9yZUxlYXZlO1xuICB2YXIgbGVhdmUgPSBkYXRhLmxlYXZlO1xuICB2YXIgYWZ0ZXJMZWF2ZSA9IGRhdGEuYWZ0ZXJMZWF2ZTtcbiAgdmFyIGxlYXZlQ2FuY2VsbGVkID0gZGF0YS5sZWF2ZUNhbmNlbGxlZDtcbiAgdmFyIGRlbGF5TGVhdmUgPSBkYXRhLmRlbGF5TGVhdmU7XG5cbiAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTtcbiAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPVxuICAgIGxlYXZlICYmXG4gICAgLy8gbGVhdmUgaG9vayBtYXkgYmUgYSBib3VuZCBtZXRob2Qgd2hpY2ggZXhwb3Nlc1xuICAgIC8vIHRoZSBsZW5ndGggb2Ygb3JpZ2luYWwgZm4gYXMgX2xlbmd0aFxuICAgIChsZWF2ZS5fbGVuZ3RoIHx8IGxlYXZlLmxlbmd0aCkgPiAxO1xuXG4gIHZhciBjYiA9IGVsLl9sZWF2ZUNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5fcGVuZGluZykge1xuICAgICAgZWwucGFyZW50Tm9kZS5fcGVuZGluZ1t2bm9kZS5rZXldID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgfVxuICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcbiAgICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICB9XG4gICAgICBsZWF2ZUNhbmNlbGxlZCAmJiBsZWF2ZUNhbmNlbGxlZChlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJtKCk7XG4gICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoZWwpO1xuICAgIH1cbiAgICBlbC5fbGVhdmVDYiA9IG51bGw7XG4gIH0pO1xuXG4gIGlmIChkZWxheUxlYXZlKSB7XG4gICAgZGVsYXlMZWF2ZShwZXJmb3JtTGVhdmUpO1xuICB9IGVsc2Uge1xuICAgIHBlcmZvcm1MZWF2ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybUxlYXZlICgpIHtcbiAgICAvLyB0aGUgZGVsYXllZCBsZWF2ZSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkXG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHJlY29yZCBsZWF2aW5nIGVsZW1lbnRcbiAgICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuICAgICAgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgfHwgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgPSB7fSkpW3Zub2RlLmtleV0gPSB2bm9kZTtcbiAgICB9XG4gICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xuICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICAgIGlmICghY2IuY2FuY2VsbGVkICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xuICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb24gKGRlZiQkMSkge1xuICBpZiAoIWRlZiQkMSkge1xuICAgIHJldHVyblxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0eXBlb2YgZGVmJCQxID09PSAnb2JqZWN0Jykge1xuICAgIHZhciByZXMgPSB7fTtcbiAgICBpZiAoZGVmJCQxLmNzcyAhPT0gZmFsc2UpIHtcbiAgICAgIGV4dGVuZChyZXMsIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMS5uYW1lIHx8ICd2JykpO1xuICAgIH1cbiAgICBleHRlbmQocmVzLCBkZWYkJDEpO1xuICAgIHJldHVybiByZXNcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmJCQxID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEpXG4gIH1cbn1cblxudmFyIGF1dG9Dc3NUcmFuc2l0aW9uID0gY2FjaGVkKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiB7XG4gICAgZW50ZXJDbGFzczogKG5hbWUgKyBcIi1lbnRlclwiKSxcbiAgICBsZWF2ZUNsYXNzOiAobmFtZSArIFwiLWxlYXZlXCIpLFxuICAgIGFwcGVhckNsYXNzOiAobmFtZSArIFwiLWVudGVyXCIpLFxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmUtYWN0aXZlXCIpLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiAobmFtZSArIFwiLWVudGVyLWFjdGl2ZVwiKVxuICB9XG59KTtcblxuZnVuY3Rpb24gb25jZSAoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZm4oKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHRyYW5zaXRpb24gPSBpbkJyb3dzZXIgPyB7XG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG4gICAgICBlbnRlcih2bm9kZSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSAodm5vZGUsIHJtKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuICAgICAgbGVhdmUodm5vZGUsIHJtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICB9XG4gIH1cbn0gOiB7fTtcblxudmFyIHBsYXRmb3JtTW9kdWxlcyA9IFtcbiAgYXR0cnMsXG4gIGtsYXNzLFxuICBldmVudHMsXG4gIGRvbVByb3BzLFxuICBzdHlsZSxcbiAgdHJhbnNpdGlvblxuXTtcblxuLyogICovXG5cbi8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbFxuLy8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cbnZhciBtb2R1bGVzID0gcGxhdGZvcm1Nb2R1bGVzLmNvbmNhdChiYXNlTW9kdWxlcyk7XG5cbnZhciBwYXRjaCQxID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMgfSk7XG5cbi8qKlxuICogTm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IGxpa2UgYXR0YWNoaW5nXG4gKiBwcm9wZXJ0aWVzIHRvIEVsZW1lbnRzLlxuICovXG5cbnZhciBtb2RlbGFibGVUYWdSRSA9IC9eaW5wdXR8c2VsZWN0fHRleHRhcmVhfHZ1ZS1jb21wb25lbnQtWzAtOV0rKC1bMC05YS16QS1aXy1dKik/JC87XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKGlzSUU5KSB7XG4gIC8vIGh0dHA6Ly93d3cubWF0dHM0MTEuY29tL3Bvc3QvaW50ZXJuZXQtZXhwbG9yZXItOS1vbmlucHV0L1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoZWwgJiYgZWwudm1vZGVsKSB7XG4gICAgICB0cmlnZ2VyKGVsLCAnaW5wdXQnKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgbW9kZWwgPSB7XG4gIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZCAoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghbW9kZWxhYmxlVGFnUkUudGVzdCh2bm9kZS50YWcpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgXCJ2LW1vZGVsIGlzIG5vdCBzdXBwb3J0ZWQgb24gZWxlbWVudCB0eXBlOiA8XCIgKyAodm5vZGUudGFnKSArIFwiPi4gXCIgK1xuICAgICAgICAgICdJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBjb250ZW50ZWRpdGFibGUsIGl0XFwncyByZWNvbW1lbmRlZCB0byAnICtcbiAgICAgICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLFxuICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgfTtcbiAgICAgIGNiKCk7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpc0lFIHx8IGlzRWRnZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGNiLCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgKHZub2RlLnRhZyA9PT0gJ3RleHRhcmVhJyB8fCBlbC50eXBlID09PSAndGV4dCcpICYmXG4gICAgICAhYmluZGluZy5tb2RpZmllcnMubGF6eVxuICAgICkge1xuICAgICAgaWYgKCFpc0FuZHJvaWQpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpc0lFOSkge1xuICAgICAgICBlbC52bW9kZWwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50VXBkYXRlZDogZnVuY3Rpb24gY29tcG9uZW50VXBkYXRlZCAoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTtcbiAgICAgIC8vIGluIGNhc2UgdGhlIG9wdGlvbnMgcmVuZGVyZWQgYnkgdi1mb3IgaGF2ZSBjaGFuZ2VkLFxuICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSB2YWx1ZSBpcyBvdXQtb2Ytc3luYyB3aXRoIHRoZSByZW5kZXJlZCBvcHRpb25zLlxuICAgICAgLy8gZGV0ZWN0IHN1Y2ggY2FzZXMgYW5kIGZpbHRlciBvdXQgdmFsdWVzIHRoYXQgbm8gbG9uZ2VyIGhhcyBhIG1hdGNoaW5nXG4gICAgICAvLyBvcHRpb24gaW4gdGhlIERPTS5cbiAgICAgIHZhciBuZWVkUmVzZXQgPSBlbC5tdWx0aXBsZVxuICAgICAgICA/IGJpbmRpbmcudmFsdWUuc29tZShmdW5jdGlvbiAodikgeyByZXR1cm4gaGFzTm9NYXRjaGluZ09wdGlvbih2LCBlbC5vcHRpb25zKTsgfSlcbiAgICAgICAgOiBiaW5kaW5nLnZhbHVlICE9PSBiaW5kaW5nLm9sZFZhbHVlICYmIGhhc05vTWF0Y2hpbmdPcHRpb24oYmluZGluZy52YWx1ZSwgZWwub3B0aW9ucyk7XG4gICAgICBpZiAobmVlZFJlc2V0KSB7XG4gICAgICAgIHRyaWdnZXIoZWwsICdjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHtcbiAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTtcbiAgdmFyIGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgXCI8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw9XFxcIlwiICsgKGJpbmRpbmcuZXhwcmVzc2lvbikgKyBcIlxcXCI+IFwiICtcbiAgICAgIFwiZXhwZWN0cyBhbiBBcnJheSB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGJ1dCBnb3QgXCIgKyAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkpLFxuICAgICAgdm1cbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIHZhciBzZWxlY3RlZCwgb3B0aW9uO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIGdldFZhbHVlKG9wdGlvbikpID4gLTE7XG4gICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKSB7XG4gICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNOb01hdGNoaW5nT3B0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IG9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uc1tpXSksIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlIChvcHRpb24pIHtcbiAgcmV0dXJuICdfdmFsdWUnIGluIG9wdGlvblxuICAgID8gb3B0aW9uLl92YWx1ZVxuICAgIDogb3B0aW9uLnZhbHVlXG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydCAoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kIChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICB0cmlnZ2VyKGUudGFyZ2V0LCAnaW5wdXQnKTtcbn1cblxuZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChlKTtcbn1cblxuLyogICovXG5cbi8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3RcbmZ1bmN0aW9uIGxvY2F0ZU5vZGUgKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5jaGlsZCAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcbiAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY2hpbGQuX3Zub2RlKVxuICAgIDogdm5vZGVcbn1cblxudmFyIHNob3cgPSB7XG4gIGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXG4gICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcbiAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uICYmICFpc0lFOSkge1xuICAgICAgZW50ZXIodm5vZGUpO1xuICAgIH1cbiAgICB2YXIgb3JpZ2luYWxEaXNwbGF5ID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IG9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcbiAgICBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgPSBvcmlnaW5hbERpc3BsYXk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChlbCwgcmVmLCB2bm9kZSkge1xuICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbiAgICB2YXIgb2xkVmFsdWUgPSByZWYub2xkVmFsdWU7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSB7IHJldHVybiB9XG4gICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcbiAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuICAgIGlmICh0cmFuc2l0aW9uICYmICFpc0lFOSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGVudGVyKHZub2RlKTtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGVsLl9fdk9yaWdpbmFsRGlzcGxheTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl9fdk9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcbiAgICB9XG4gIH1cbn07XG5cbnZhciBwbGF0Zm9ybURpcmVjdGl2ZXMgPSB7XG4gIG1vZGVsOiBtb2RlbCxcbiAgc2hvdzogc2hvd1xufTtcblxuLyogICovXG5cbi8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgYSBzaW5nbGUgZWxlbWVudC9jb21wb25lbnQuXG4vLyBzdXBwb3J0cyB0cmFuc2l0aW9uIG1vZGUgKG91dC1pbiAvIGluLW91dClcblxudmFyIHRyYW5zaXRpb25Qcm9wcyA9IHtcbiAgbmFtZTogU3RyaW5nLFxuICBhcHBlYXI6IEJvb2xlYW4sXG4gIGNzczogQm9vbGVhbixcbiAgbW9kZTogU3RyaW5nLFxuICB0eXBlOiBTdHJpbmcsXG4gIGVudGVyQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVDbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZ1xufTtcblxuLy8gaW4gY2FzZSB0aGUgY2hpbGQgaXMgYWxzbyBhbiBhYnN0cmFjdCBjb21wb25lbnQsIGUuZy4gPGtlZXAtYWxpdmU+XG4vLyB3ZSB3YW50IHRvIHJlY3Vyc2l2ZWx5IHJldHJpZXZlIHRoZSByZWFsIGNvbXBvbmVudCB0byBiZSByZW5kZXJlZFxuZnVuY3Rpb24gZ2V0UmVhbENoaWxkICh2bm9kZSkge1xuICB2YXIgY29tcE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICBpZiAoY29tcE9wdGlvbnMgJiYgY29tcE9wdGlvbnMuQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XG4gICAgcmV0dXJuIGdldFJlYWxDaGlsZChnZXRGaXJzdENvbXBvbmVudENoaWxkKGNvbXBPcHRpb25zLmNoaWxkcmVuKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdm5vZGVcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0VHJhbnNpdGlvbkRhdGEgKGNvbXApIHtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgdmFyIG9wdGlvbnMgPSBjb21wLiRvcHRpb25zO1xuICAvLyBwcm9wc1xuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5wcm9wc0RhdGEpIHtcbiAgICBkYXRhW2tleV0gPSBjb21wW2tleV07XG4gIH1cbiAgLy8gZXZlbnRzLlxuICAvLyBleHRyYWN0IGxpc3RlbmVycyBhbmQgcGFzcyB0aGVtIGRpcmVjdGx5IHRvIHRoZSB0cmFuc2l0aW9uIG1ldGhvZHNcbiAgdmFyIGxpc3RlbmVycyA9IG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcbiAgZm9yICh2YXIga2V5JDEgaW4gbGlzdGVuZXJzKSB7XG4gICAgZGF0YVtjYW1lbGl6ZShrZXkkMSldID0gbGlzdGVuZXJzW2tleSQxXS5mbjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG5mdW5jdGlvbiBwbGFjZWhvbGRlciAoaCwgcmF3Q2hpbGQpIHtcbiAgcmV0dXJuIC9cXGQta2VlcC1hbGl2ZSQvLnRlc3QocmF3Q2hpbGQudGFnKVxuICAgID8gaCgna2VlcC1hbGl2ZScpXG4gICAgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24gKHZub2RlKSB7XG4gIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbn1cblxudmFyIFRyYW5zaXRpb24gPSB7XG4gIG5hbWU6ICd0cmFuc2l0aW9uJyxcbiAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcyxcbiAgYWJzdHJhY3Q6IHRydWUsXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0O1xuICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGZpbHRlciBvdXQgdGV4dCBub2RlcyAocG9zc2libGUgd2hpdGVzcGFjZXMpXG4gICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudGFnOyB9KTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXG4gICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcblxuICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgbW9kZSAmJiBtb2RlICE9PSAnaW4tb3V0JyAmJiBtb2RlICE9PSAnb3V0LWluJykge1xuICAgICAgd2FybihcbiAgICAgICAgJ2ludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICcgKyBtb2RlLFxuICAgICAgICB0aGlzLiRwYXJlbnRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHJhd0NoaWxkID0gY2hpbGRyZW5bMF07XG5cbiAgICAvLyBpZiB0aGlzIGlzIGEgY29tcG9uZW50IHJvb3Qgbm9kZSBhbmQgdGhlIGNvbXBvbmVudCdzXG4gICAgLy8gcGFyZW50IGNvbnRhaW5lciBub2RlIGFsc28gaGFzIHRyYW5zaXRpb24sIHNraXAuXG4gICAgaWYgKGhhc1BhcmVudFRyYW5zaXRpb24odGhpcy4kdm5vZGUpKSB7XG4gICAgICByZXR1cm4gcmF3Q2hpbGRcbiAgICB9XG5cbiAgICAvLyBhcHBseSB0cmFuc2l0aW9uIGRhdGEgdG8gY2hpbGRcbiAgICAvLyB1c2UgZ2V0UmVhbENoaWxkKCkgdG8gaWdub3JlIGFic3RyYWN0IGNvbXBvbmVudHMgZS5nLiBrZWVwLWFsaXZlXG4gICAgdmFyIGNoaWxkID0gZ2V0UmVhbENoaWxkKHJhd0NoaWxkKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNoaWxkKSB7XG4gICAgICByZXR1cm4gcmF3Q2hpbGRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGVhdmluZykge1xuICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKVxuICAgIH1cblxuICAgIHZhciBrZXkgPSBjaGlsZC5rZXkgPSBjaGlsZC5rZXkgPT0gbnVsbCB8fCBjaGlsZC5pc1N0YXRpY1xuICAgICAgPyAoXCJfX3ZcIiArIChjaGlsZC50YWcgKyB0aGlzLl91aWQpICsgXCJfX1wiKVxuICAgICAgOiBjaGlsZC5rZXk7XG4gICAgdmFyIGRhdGEgPSAoY2hpbGQuZGF0YSB8fCAoY2hpbGQuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcbiAgICB2YXIgb2xkUmF3Q2hpbGQgPSB0aGlzLl92bm9kZTtcbiAgICB2YXIgb2xkQ2hpbGQgPSBnZXRSZWFsQ2hpbGQob2xkUmF3Q2hpbGQpO1xuXG4gICAgLy8gbWFyayB2LXNob3dcbiAgICAvLyBzbyB0aGF0IHRoZSB0cmFuc2l0aW9uIG1vZHVsZSBjYW4gaGFuZCBvdmVyIHRoZSBjb250cm9sIHRvIHRoZSBkaXJlY3RpdmVcbiAgICBpZiAoY2hpbGQuZGF0YS5kaXJlY3RpdmVzICYmIGNoaWxkLmRhdGEuZGlyZWN0aXZlcy5zb21lKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfSkpIHtcbiAgICAgIGNoaWxkLmRhdGEuc2hvdyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9sZENoaWxkICYmIG9sZENoaWxkLmRhdGEgJiYgb2xkQ2hpbGQua2V5ICE9PSBrZXkpIHtcbiAgICAgIC8vIHJlcGxhY2Ugb2xkIGNoaWxkIHRyYW5zaXRpb24gZGF0YSB3aXRoIGZyZXNoIG9uZVxuICAgICAgLy8gaW1wb3J0YW50IGZvciBkeW5hbWljIHRyYW5zaXRpb25zIVxuICAgICAgdmFyIG9sZERhdGEgPSBvbGRDaGlsZC5kYXRhLnRyYW5zaXRpb24gPSBleHRlbmQoe30sIGRhdGEpO1xuXG4gICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXG4gICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xuICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnYWZ0ZXJMZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzJDEuX2xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0sIGtleSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcpIHtcbiAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHsgZGVsYXllZExlYXZlKCk7IH07XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlLCBrZXkpO1xuICAgICAgICBtZXJnZVZOb2RlSG9vayhkYXRhLCAnZW50ZXJDYW5jZWxsZWQnLCBwZXJmb3JtTGVhdmUsIGtleSk7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdkZWxheUxlYXZlJywgZnVuY3Rpb24gKGxlYXZlKSB7XG4gICAgICAgICAgZGVsYXllZExlYXZlID0gbGVhdmU7XG4gICAgICAgIH0sIGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhd0NoaWxkXG4gIH1cbn07XG5cbi8qICAqL1xuXG4vLyBQcm92aWRlcyB0cmFuc2l0aW9uIHN1cHBvcnQgZm9yIGxpc3QgaXRlbXMuXG4vLyBzdXBwb3J0cyBtb3ZlIHRyYW5zaXRpb25zIHVzaW5nIHRoZSBGTElQIHRlY2huaXF1ZS5cblxuLy8gQmVjYXVzZSB0aGUgdmRvbSdzIGNoaWxkcmVuIHVwZGF0ZSBhbGdvcml0aG0gaXMgXCJ1bnN0YWJsZVwiIC0gaS5lLlxuLy8gaXQgZG9lc24ndCBndWFyYW50ZWUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uaW5nIG9mIHJlbW92ZWQgZWxlbWVudHMsXG4vLyB3ZSBmb3JjZSB0cmFuc2l0aW9uLWdyb3VwIHRvIHVwZGF0ZSBpdHMgY2hpbGRyZW4gaW50byB0d28gcGFzc2VzOlxuLy8gaW4gdGhlIGZpcnN0IHBhc3MsIHdlIHJlbW92ZSBhbGwgbm9kZXMgdGhhdCBuZWVkIHRvIGJlIHJlbW92ZWQsXG4vLyB0cmlnZ2VyaW5nIHRoZWlyIGxlYXZpbmcgdHJhbnNpdGlvbjsgaW4gdGhlIHNlY29uZCBwYXNzLCB3ZSBpbnNlcnQvbW92ZVxuLy8gaW50byB0aGUgZmluYWwgZGlzaXJlZCBzdGF0ZS4gVGhpcyB3YXkgaW4gdGhlIHNlY29uZCBwYXNzIHJlbW92ZWRcbi8vIG5vZGVzIHdpbGwgcmVtYWluIHdoZXJlIHRoZXkgc2hvdWxkIGJlLlxuXG52YXIgcHJvcHMgPSBleHRlbmQoe1xuICB0YWc6IFN0cmluZyxcbiAgbW92ZUNsYXNzOiBTdHJpbmdcbn0sIHRyYW5zaXRpb25Qcm9wcyk7XG5cbmRlbGV0ZSBwcm9wcy5tb2RlO1xuXG52YXIgVHJhbnNpdGlvbkdyb3VwID0ge1xuICBwcm9wczogcHJvcHMsXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGFnID0gdGhpcy50YWcgfHwgdGhpcy4kdm5vZGUuZGF0YS50YWcgfHwgJ3NwYW4nO1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLnByZXZDaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgdmFyIHJhd0NoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgdmFyIHRyYW5zaXRpb25EYXRhID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGMgPSByYXdDaGlsZHJlbltpXTtcbiAgICAgIGlmIChjLnRhZykge1xuICAgICAgICBpZiAoYy5rZXkgIT0gbnVsbCAmJiBTdHJpbmcoYy5rZXkpLmluZGV4T2YoJ19fdmxpc3QnKSAhPT0gMCkge1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7XG4gICAgICAgICAgbWFwW2Mua2V5XSA9IGNcbiAgICAgICAgICA7KGMuZGF0YSB8fCAoYy5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBvcHRzID0gYy5jb21wb25lbnRPcHRpb25zO1xuICAgICAgICAgIHZhciBuYW1lID0gb3B0c1xuICAgICAgICAgICAgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZylcbiAgICAgICAgICAgIDogYy50YWc7XG4gICAgICAgICAgd2FybigoXCI8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZDogPFwiICsgbmFtZSArIFwiPlwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldkNoaWxkcmVuKSB7XG4gICAgICB2YXIga2VwdCA9IFtdO1xuICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICAgIHZhciBjJDEgPSBwcmV2Q2hpbGRyZW5baSQxXTtcbiAgICAgICAgYyQxLmRhdGEudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuICAgICAgICBjJDEuZGF0YS5wb3MgPSBjJDEuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAobWFwW2MkMS5rZXldKSB7XG4gICAgICAgICAga2VwdC5wdXNoKGMkMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlZC5wdXNoKGMkMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMua2VwdCA9IGgodGFnLCBudWxsLCBrZXB0KTtcbiAgICAgIHRoaXMucmVtb3ZlZCA9IHJlbW92ZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgodGFnLCBudWxsLCBjaGlsZHJlbilcbiAgfSxcblxuICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSAoKSB7XG4gICAgLy8gZm9yY2UgcmVtb3ZpbmcgcGFzc1xuICAgIHRoaXMuX19wYXRjaF9fKFxuICAgICAgdGhpcy5fdm5vZGUsXG4gICAgICB0aGlzLmtlcHQsXG4gICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nXG4gICAgICB0cnVlIC8vIHJlbW92ZU9ubHkgKCFpbXBvcnRhbnQsIGF2b2lkcyB1bm5lY2Vzc2FyeSBtb3ZlcylcbiAgICApO1xuICAgIHRoaXMuX3Zub2RlID0gdGhpcy5rZXB0O1xuICB9LFxuXG4gIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQgKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuO1xuICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7XG4gICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XG5cbiAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cbiAgICB2YXIgZiA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoYy5kYXRhLm1vdmVkKSB7XG4gICAgICAgIHZhciBlbCA9IGMuZWxtO1xuICAgICAgICB2YXIgcyA9IGVsLnN0eWxlO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgZWwuX21vdmVDYiA9IGZ1bmN0aW9uIGNiIChlKSB7XG4gICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGNiKTtcbiAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGhhc01vdmU6IGZ1bmN0aW9uIGhhc01vdmUgKGVsLCBtb3ZlQ2xhc3MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFoYXNUcmFuc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2hhc01vdmUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzTW92ZVxuICAgICAgfVxuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgdmFyIGluZm8gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCk7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICByZXR1cm4gKHRoaXMuX2hhc01vdmUgPSBpbmZvLmhhc1RyYW5zZm9ybSlcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzIChjKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX21vdmVDYikge1xuICAgIGMuZWxtLl9tb3ZlQ2IoKTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGMuZWxtLl9lbnRlckNiKSB7XG4gICAgYy5lbG0uX2VudGVyQ2IoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbiAoYykge1xuICBjLmRhdGEubmV3UG9zID0gYy5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24gKGMpIHtcbiAgdmFyIG9sZFBvcyA9IGMuZGF0YS5wb3M7XG4gIHZhciBuZXdQb3MgPSBjLmRhdGEubmV3UG9zO1xuICB2YXIgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xuICB2YXIgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgYy5kYXRhLm1vdmVkID0gdHJ1ZTtcbiAgICB2YXIgcyA9IGMuZWxtLnN0eWxlO1xuICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIGR4ICsgXCJweCxcIiArIGR5ICsgXCJweClcIjtcbiAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XG4gIH1cbn1cblxudmFyIHBsYXRmb3JtQ29tcG9uZW50cyA9IHtcbiAgVHJhbnNpdGlvbjogVHJhbnNpdGlvbixcbiAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXBcbn07XG5cbi8qICAqL1xuXG4vLyBpbnN0YWxsIHBsYXRmb3JtIHNwZWNpZmljIHV0aWxzXG5WdWUkMi5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XG5WdWUkMi5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XG5WdWUkMi5jb25maWcuZ2V0VGFnTmFtZXNwYWNlID0gZ2V0VGFnTmFtZXNwYWNlO1xuVnVlJDIuY29uZmlnLm11c3RVc2VQcm9wID0gbXVzdFVzZVByb3A7XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xuZXh0ZW5kKFZ1ZSQyLm9wdGlvbnMuZGlyZWN0aXZlcywgcGxhdGZvcm1EaXJlY3RpdmVzKTtcbmV4dGVuZChWdWUkMi5vcHRpb25zLmNvbXBvbmVudHMsIHBsYXRmb3JtQ29tcG9uZW50cyk7XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gcGF0Y2ggZnVuY3Rpb25cblZ1ZSQyLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCQxIDogbm9vcDtcblxuLy8gd3JhcCBtb3VudFxuVnVlJDIucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uIChcbiAgZWwsXG4gIGh5ZHJhdGluZ1xuKSB7XG4gIGVsID0gZWwgJiYgaW5Ccm93c2VyID8gcXVlcnkoZWwpIDogdW5kZWZpbmVkO1xuICByZXR1cm4gdGhpcy5fbW91bnQoZWwsIGh5ZHJhdGluZylcbn07XG5cbi8vIGRldnRvb2xzIGdsb2JhbCBob29rXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gIGlmIChjb25maWcuZGV2dG9vbHMpIHtcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgIGRldnRvb2xzLmVtaXQoJ2luaXQnLCBWdWUkMik7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIGluQnJvd3NlciAmJiAvQ2hyb21lXFwvXFxkKy8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICApIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnRG93bmxvYWQgdGhlIFZ1ZSBEZXZ0b29scyBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcbiAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtZGV2dG9vbHMnXG4gICAgICApO1xuICAgIH1cbiAgfVxufSwgMCk7XG5cbm1vZHVsZS5leHBvcnRzID0gVnVlJDI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS9kaXN0L3Z1ZS5ydW50aW1lLmNvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtNGQ2NjcwMjAhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaW5kZXgudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi00ZDY2NzAyMCF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9pbmRleC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2Fzcy9mb250ZWxsby9jc3MvZm9udGVsbG8uY3NzXCIpLCBcIlwiKTtcblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJmb290ZXI6YWZ0ZXIsaGVhZGVyOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZXhwYW5kLXktZW50ZXItYWN0aXZlLC5leHBhbmQteS1sZWF2ZS1hY3RpdmUsLm1vZGFsLWVudGVyLWFjdGl2ZSwubW9kYWwtbGVhdmUtYWN0aXZlLC5wbGF5ZXItbW9yZS1lbnRlci1hY3RpdmUsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZX0uZXhwYW5kLXktZW50ZXIsLmV4cGFuZC15LWxlYXZlLWFjdGl2ZSwubW9kYWwtZW50ZXIsLm1vZGFsLWxlYXZlLWFjdGl2ZSwucGxheWVyLW1vcmUtZW50ZXIsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2Zvcm06c2NhbGVZKDApfS5wbGF5ZXItbW9yZS1lbnRlciwucGxheWVyLW1vcmUtZW50ZXItYWN0aXZlLC5wbGF5ZXItbW9yZS1sZWF2ZS1hY3RpdmV7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgdG9wfSNib2R5LC5hcHAsYm9keSxodG1se3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWFyZ2luOjB9Ym9keXtmb250LXNpemU6MTRweDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtsaW5lLWhlaWdodDoxOHB4fSp7Ym94LXNpemluZzpib3JkZXItYm94fS5hcHB7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1mb290ZXIsaGVhZGVye3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfWZvb3RlciAubGVmdCxoZWFkZXIgLmxlZnR7ZmxvYXQ6bGVmdH1mb290ZXIgLnJpZ2h0LGhlYWRlciAucmlnaHR7ZmxvYXQ6cmlnaHR9Zm9vdGVyIC5jZW50ZXIsaGVhZGVyIC5jZW50ZXJ7bWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXJ9Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3tkaXNwbGF5OmlubGluZS1ibG9ja31AbWVkaWEgKG1heC13aWR0aDo1NDBweCl7Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3twYWRkaW5nLWJvdHRvbToxMHB4O2Rpc3BsYXk6YmxvY2t9Zm9vdGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGQsaGVhZGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH19Lmx5cmljLWVkaXRvcntmbGV4OjE7b3ZlcmZsb3c6YXV0b30uZm9ybS1ncm91cHtkaXNwbGF5OmZsZXg7cGFkZGluZzo1cHggMDthbGlnbi1pdGVtczpjZW50ZXJ9LmZvcm0tZ3JvdXAgbGFiZWx7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmctcmlnaHQ6MTBweH0uZm9ybS1ncm91cCBpbnB1dHtmbGV4OjE7aGVpZ2h0OjMwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O3BhZGRpbmc6MCAzcHg7Ym9yZGVyLXJhZGl1czo1cHh9Lm1lbnUtaXRlbXtkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojZmZmO2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHg7cGFkZGluZzowIDhweDtjdXJzb3I6cG9pbnRlcn0ubWVudS1pdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzBkNDg4NH0uYnRue2JvcmRlci1yYWRpdXM6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6NnB4O2ZvbnQtd2VpZ2h0OmJvbGRlcjtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQ6IzExNjFiMztjb2xvcjojZmZmfS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTI0Yjg2fS5idG4ud2hpdGUsZm9vdGVyIC5idG4saGVhZGVyIC5idG57YmFja2dyb3VuZDojZmZmO2NvbG9yOiMxMTYxYjN9LmJ0bi53aGl0ZTpob3Zlcixmb290ZXIgLmJ0bjpob3ZlcixoZWFkZXIgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGZvbnQtZmFjZXtmb250LWZhbWlseTpmb250ZWxsbztzcmM6dXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uZW90PzQwMzU4MjY3XCIpICsgXCIpO3NyYzp1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby5lb3Q/NDAzNTgyNjdcIikgKyBcIiNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLndvZmYyPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSx1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby53b2ZmPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZicpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLnR0Zj80MDM1ODI2N1wiKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uc3ZnPzQwMzU4MjY3XCIpICsgXCIjZm9udGVsbG8pIGZvcm1hdCgnc3ZnJyk7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3R5bGU6bm9ybWFsfVtjbGFzcyo9XFxcIiBpY29uLVxcXCJdOmJlZm9yZSxbY2xhc3NePWljb24tXTpiZWZvcmV7Zm9udC1mYW1pbHk6Zm9udGVsbG87Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO3NwZWFrOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2lkdGg6MWVtO21hcmdpbi1yaWdodDouMmVtO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtdmFyaWFudDpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtsaW5lLWhlaWdodDoxZW07bWFyZ2luLWxlZnQ6LjJlbTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX0uaWNvbi1lZGl0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwMCd9Lmljb24tc2F2ZTpiZWZvcmV7Y29udGVudDonXFxcXEU4MDEnfS5pY29uLXRyYXNoOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMid9Lmljb24tZG93bmxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAzJ30uaWNvbi11cGxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA0J30uaWNvbi1yaWdodDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDUnfS5pY29uLWxlZnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA2J30uaWNvbi11cDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDcnfS5pY29uLWRvd246YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA4J30uaWNvbi12b2x1bWUtb2ZmOmJlZm9yZXtjb250ZW50OidcXFxcRTgwOSd9Lmljb24tdm9sdW1lLXVwOmJlZm9yZXtjb250ZW50OidcXFxcRTgwQSd9Lmljb24tcGx1czpiZWZvcmV7Y29udGVudDonXFxcXEU4MEQnfS5pY29uLWNhbmNlbDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEUnfS5pY29uLWVsbGlwc2lzLXZlcnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBGJ30uaWNvbi1pbmZvOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMCd9Lmljb24taGVscC1jaXJjbGVkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMSd9Lmljb24tcGxheTpiZWZvcmV7Y29udGVudDonXFxcXEU4MTInfS5pY29uLXBhdXNlOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMyd9Lmljb24tZm9yd2FyZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTQnfS5pY29uLWJhY2t3YXJkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNSd9Lmljb24tc3RvcDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTYnfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuL2FwcC9zYXNzL2ZvbnRlbGxvL2Nzcy9mb250ZWxsby5jc3Ncbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmJiNGFlMDgwODRiN2E5MDBiZmUxYzcwM2M5ODhmMzQuZW90XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLmVvdD80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMzEzYTBmOTg3NjcyZGM3N2E4YzI0MzM4MGUyMDg5ZS53b2ZmMlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmMj80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0Y2M5MzAxNjNmNmQ1MDg4ZGZhNWZlZjYxOWQ4N2NiOS53b2ZmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLndvZmY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI0ODM1NDQzMDNmY2ZjN2UxZTM0MTU5YTQxMWZjZGNiLnR0ZlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby50dGY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY0MDM3ZjhkMTZmNDMzNzliMTgwMjA3MDZiZGM5NTY3LnN2Z1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby5zdmc/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW87XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gbWVtbztcblx0XHR9O1xuXHR9LFxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdH0pLFxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblx0fSksXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG5cdFx0aWYobmV3T2JqKSB7XG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlcztcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdGlmIChtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2phdmFzY3JpcHQtZGVidWdnaW5nXG5cdFx0Ly8gdGhpcyBtYWtlcyBzb3VyY2UgbWFwcyBpbnNpZGUgc3R5bGUgdGFncyB3b3JrIHByb3Blcmx5IGluIENocm9tZVxuXHRcdGNzcyArPSAnXFxuLyojIHNvdXJjZVVSTD0nICsgc291cmNlTWFwLnNvdXJjZXNbMF0gKyAnICovJztcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiYXBwXCI+XG4gICAgPGhlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxuYXYtbWVudSBjbGFzcz1cIm1lbnUtaXRlbVwiIDp0aXRsZT1cIiR0KCdidXR0b24udXBsb2FkJylcIj5cbiAgICAgICAgICA8ZGl2IHNsb3Q9XCJ0YXJnZXRcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi11cGxvYWRcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIHNsb3Q9XCJsaXN0XCI+XG4gICAgICAgICAgICA8bGkgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2xyYy1mb3JtYXQtdXBsb2FkJylcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXVwbG9hZFwiPjwvaT4ge3sgJHQoJ21lbnUudXBsb2FkLmxyYycpIH19XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIEBjbGljaz1cIiRyZWZzLm1vZGFscy5zaG93KCdseXJpYy11cGxvYWQnKVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPiB7eyAkdCgnbWVudS51cGxvYWQubHlyaWMnKSB9fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPHVwbG9hZCBhY2NlcHQ9XCJhdWRpby8qXCIgcmVhZC1mb3JtYXQ9XCJEYXRhVVJMXCIgQHVwbG9hZGVkPVwidXBsb2FkTXVzaWNcIj57eyAkdCgnbWVudS51cGxvYWQubXVzaWMnKX19PC91cGxvYWQ+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbmF2LW1lbnU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCIkcmVmcy5tb2RhbHMuc2hvdygnbHJjLXNhdmUnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uc2F2ZScpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXNhdmVcIj48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIEBjbGljaz1cImVkaXRpbmc9IWVkaXRpbmdcIiA6dGl0bGU9XCJlZGl0aW5nID8gJHQoJ2J1dHRvbi5jbG9zZV9lZGl0JykgOiAkdCgnYnV0dG9uLm9wZW5fZWRpdCcpXCI+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1pdGVtXCIgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2hlbHAnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uaGVscCcpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWhlbHAtY2lyY2xlZFwiPjwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2hlYWRlcj5cblxuICAgIDxwbGF5ZXJcbiAgICAgIDpzcmM9XCJtdXNpY1VybFwiXG4gICAgICBAdGltZXVwZGF0ZT1cInRpbWV1cGRhdGVcIlxuICAgICAgcmVmPVwicGxheWVyXCI+XG4gICAgPC9wbGF5ZXI+XG5cbiAgICA8bHlyaWMtZWRpdG9yXG4gICAgICBjbGFzcz1cImx5cmljLWVkaXRvclwiXG4gICAgICA6ZWRpdGluZz1cImVkaXRpbmdcIlxuICAgICAgOnJ1bm5lcj1cInJ1bm5lclwiXG4gICAgICA6bHlyaWMtYXJyYXk9XCJseXJpY0FycmF5XCJcbiAgICAgIDpwbGF5dG89XCJwbGF5dG9cIlxuICAgICAgcmVmPVwibHlyaWNcIj5cbiAgICAgIGx5cmljIGVkaXRvclxuICAgIDwvbHlyaWMtZWRpdG9yPlxuXG4gICAgPGZvb3Rlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCJyZW1vdmVMeXJpY1wiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2J1dHRvbi5yZW1vdmVfbHlyaWMnKSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0XCIgdi1pZj1cImVkaXRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIHRpdGxlPVwiW1VQXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCdwcmV2bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ucHJldl9seXJpYycpIH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiB0aXRsZT1cIltET1dOXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCduZXh0bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ubmV4dF9seXJpYycpIH19PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvb3Rlcj5cblxuICAgIDxtb2RhbHMgcmVmPVwibW9kYWxzXCI+PC9tb2RhbHM+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2luZGV4JztcblxuaHRtbCwgYm9keSwgI2JvZHksIC5hcHAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDA7XG59XG5cbmJvZHkge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBsaW5lLWhlaWdodDogMThweDtcbn1cblxuKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5hcHAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG5oZWFkZXIsIGZvb3RlciB7XG4gIEBleHRlbmQgJXJvdztcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWNvbG9yO1xuICAubGVmdCB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gIH1cbiAgLmNlbnRlciB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAubW9iaWxlLXJvdyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIEBpbmNsdWRlIG1vYmlsZSB7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi5seXJpYy1lZGl0b3Ige1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiA1cHggMDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbGFiZWwge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgfVxuICBpbnB1dCB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI0Q2RDZENjtcbiAgICBwYWRkaW5nOiAwIDNweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIH1cbn1cblxuLm1lbnUtaXRlbSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgY29sb3I6IHdoaXRlO1xuICAkaGVpZ2h0OiA0MHB4O1xuICBoZWlnaHQ6ICRoZWlnaHQ7XG4gIGxpbmUtaGVpZ2h0OiAkaGVpZ2h0O1xuICBwYWRkaW5nOiAwIDhweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oJGJsdWUtY29sb3IsIDEwJSk7XG4gIH1cbn1cblxuLmJ0biB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICBiYWNrZ3JvdW5kOiAjMTE2MUIzO1xuICBjb2xvcjogd2hpdGU7XG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjRCODY7XG4gIH1cblxuICBoZWFkZXIgJixcbiAgZm9vdGVyICYsXG4gICYud2hpdGUsXG4gIHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBjb2xvcjogIzExNjFCMztcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFOEUxRTE7XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgVXBsb2FkIGZyb20gJy4vdXBsb2FkJ1xuICBpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJ1xuICBpbXBvcnQgTHlyaWNFZGl0b3IgZnJvbSAnLi9seXJpYy1lZGl0b3InXG4gIGltcG9ydCBNb2RhbHMgZnJvbSAnLi9tb2RhbHMnXG4gIC8vIGltcG9ydCBNZW51IGZyb20gJy4vbWVudSdcbiAgaW1wb3J0IE5hdk1lbnUgZnJvbSAnLi9uYXYtbWVudSdcbiAgaW1wb3J0IHtMcmMsIFJ1bm5lcn0gZnJvbSAnbHJjLWtpdCdcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUnXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICB2YXIgbHJjRm9ybWF0ID0gY2FjaGUubHJjRm9ybWF0XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG11c2ljVXJsOiAnJyxcbiAgICAgICAgZWRpdGluZzogY2FjaGUuZWRpdGluZyxcblxuICAgICAgICBscmNGb3JtYXQ6IGxyY0Zvcm1hdCxcbiAgICAgICAgcnVubmVyOiBuZXcgUnVubmVyKExyYy5wYXJzZShscmNGb3JtYXQpKSxcbiAgICAgICAgbHlyaWNBcnJheTogY2FjaGUubHlyaWNBcnJheVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHdpbmRvdy4kQXBwID0gdGhpc1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdXBsb2FkTXVzaWMobXVzaWMpIHtcbiAgICAgICAgLy8gY2FjaGUubXVzaWMgPSBtdXNpY1xuICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmMgPSBtdXNpY1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUx5cmljKCkge1xuICAgICAgICB0aGlzLmxyY0Zvcm1hdCA9ICcnXG4gICAgICAgIHRoaXMubHlyaWNBcnJheSA9IFtdXG4gICAgICAgIHRoaXMucnVubmVyID0gbmV3IFJ1bm5lcigpXG4gICAgICB9LFxuICAgICAgcGxheXRvKHRpbWUpIHtcbiAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheXRvKHRpbWUpXG4gICAgICB9LFxuICAgICAgdGltZXVwZGF0ZSh0aW1lc3RhbXApIHtcbiAgICAgICAgdGhpcy4kcmVmcy5seXJpYy4kZW1pdCgndGltZXVwZGF0ZScsIHRpbWVzdGFtcClcbiAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgZWRpdGluZyh2YWwpIHtcbiAgICAgICAgY2FjaGUuZWRpdGluZyA9IHZhbFxuICAgICAgfSxcbiAgICAgIGxyY0Zvcm1hdCh2YWwpIHtcbiAgICAgICAgY2FjaGUubHJjRm9ybWF0ID0gdmFsXG4gICAgICAgIHRoaXMucnVubmVyID0gbmV3IFJ1bm5lcihMcmMucGFyc2UodGhpcy5scmNGb3JtYXQpKVxuICAgICAgfSxcbiAgICAgIGx5cmljQXJyYXk6IHtcbiAgICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICBjYWNoZS5seXJpY0FycmF5ID0gdGhpcy5seXJpY0FycmF5XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgVXBsb2FkLFxuICAgICAgUGxheWVyLFxuICAgICAgTHlyaWNFZGl0b3IsXG4gICAgICBNb2RhbHMsXG4gICAgICAvLyBNZW51LFxuICAgICAgTmF2TWVudSxcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC52dWU/YjA5YTU3NmEiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtMjcwMjQxMjMhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtMjcwMjQxMjNcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC91cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0W3R5cGU9ZmlsZV1bZGF0YS12LTI3MDI0MTIzXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3VwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBAY2xpY2s9XCJ1cGxvYWRcIj5cbiAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPlxuICAgIDxzbG90Pjwvc2xvdD5cbiAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiA6YWNjZXB0PVwiYWNjZXB0XCIgcmVmPVwidXBsb2FkXCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5pbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuZXhwb3J0IGRlZmF1bHQge1xuICBtb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdXBsb2FkID0gdGhpcy4kcmVmcy51cGxvYWRcbiAgICB1cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy4kZW1pdCgndXBsb2FkZWQnLCBldmVudC50YXJnZXQucmVzdWx0KVxuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZC5maWxlcy5sZW5ndGggPiAwICYmIHRoaXMudHlwZV9tYXRjaCgpKSB7XG4gICAgICAgIHJlYWRlclsncmVhZEFzJyArIHRoaXMucmVhZEZvcm1hdF0odXBsb2FkLmZpbGVzWzBdKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgcmVhZEZvcm1hdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ1RleHQnLFxuICAgIH0sXG4gICAgYWNjZXB0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgdXBsb2FkKCkge1xuICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xpY2soKVxuICAgIH0sXG4gICAgdHlwZV9tYXRjaCgpIHtcbiAgICAgIGlmICh0aGlzLnR5cGUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gbmV3IFJlZ0V4cChgXiR7dGhpcy50eXBlfS9gKVxuICAgICAgICByZXR1cm4gbWF0Y2gudGVzdCh0aGlzLiRyZWZzLnVwbG9hZC5maWxlc1swXS50eXBlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB1cGxvYWQudnVlPzRiN2VkZTU3IiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0udXBsb2FkXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcbiAgfSksIFwiIFwiLCBfdm0uX3QoXCJkZWZhdWx0XCIpLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICByZWY6IFwidXBsb2FkXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidHlwZVwiOiBcImZpbGVcIixcbiAgICAgIFwiYWNjZXB0XCI6IF92bS5hY2NlcHRcbiAgICB9XG4gIH0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC91cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtOWIyOTQzZmEhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtOWIyOTQzZmFcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9wbGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5yb290W2RhdGEtdi05YjI5NDNmYV17aGVpZ2h0OjMwcHh9LnJvb3QubW9iaWxlW2RhdGEtdi05YjI5NDNmYV17aGVpZ2h0OjYwcHh9Lm1vcmVbZGF0YS12LTliMjk0M2ZhXSwucGxheWVyW2RhdGEtdi05YjI5NDNmYV0sLnNvdW5kW2RhdGEtdi05YjI5NDNmYV17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ubW9yZVtkYXRhLXYtOWIyOTQzZmFdLC5wbGF5ZXJbZGF0YS12LTliMjk0M2ZhXXtiYWNrZ3JvdW5kOiNkMGRhZTQ7Y29sb3I6IzExNjFiMztoZWlnaHQ6MzBweH0uY3RybC1idG5bZGF0YS12LTliMjk0M2ZhXXtmb250LXNpemU6MjBweDtwYWRkaW5nOjAgMXB4fS5yYW5nZVtkYXRhLXYtOWIyOTQzZmFde21hcmdpbi1sZWZ0OjRweDttYXJnaW4tcmlnaHQ6NHB4fS5yYW5nZS5tdXNpY1tkYXRhLXYtOWIyOTQzZmFde2ZsZXg6MX10aW1lLXBhbmVsW2RhdGEtdi05YjI5NDNmYV17cGFkZGluZzowIDVweH0ubW9yZVtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDozMHB4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjEwfS5tb2JpbGUgLm1vcmVbZGF0YS12LTliMjk0M2ZhXXtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uc291bmRbZGF0YS12LTliMjk0M2ZhXXtwYWRkaW5nOjAgNXB4O3dpZHRoOjMwJX0uc291bmQgLnJhbmdlLnZvbHVtZVtkYXRhLXYtOWIyOTQzZmFde2ZsZXg6MX0uc291bmQgLmN0cmwtbXV0ZS1idG5bZGF0YS12LTliMjk0M2ZhXXt3aWR0aDoyNnB4O2ZvbnQtc2l6ZToxOHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9wbGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJyb290XCIgOmNsYXNzPVwie21vYmlsZTogaXNNb2JpbGV9XCIgdi1zaG93PVwic3JjLmxlbmd0aFwiIEBtb3VzZW92ZXI9XCJob3Zlcj10cnVlXCIgQG1vdXNlbGVhdmU9XCJob3Zlcj1mYWxzZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjdHJsLWJ0blwiIHRpdGxlPVwiW1NQQUNFXVwiIEBjbGljaz1cInBhdXNlZCA9ICFwYXVzZWRcIj5cbiAgICAgICAgPGkgdi1pZj1cInBhdXNlZFwiIGNsYXNzPVwiaWNvbi1wbGF5XCI+PC9pPlxuICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XCJpY29uLXBhdXNlXCI+PC9pPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3RybC1idG5cIiB0aXRsZT1cIltMRUZUXVwiIEBjbGljaz1cIiRlbWl0KCdiYWNrd2FyZCcpXCI+XG4gICAgICAgIDxpIGNsYXNzPVwiaWNvbi1iYWNrd2FyZFwiPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImN0cmwtYnRuXCIgdGl0bGU9XCJbUklHSFRdXCIgQGNsaWNrPVwiJGVtaXQoJ2ZvcndhcmQnKVwiPlxuICAgICAgICA8aSBjbGFzcz1cImljb24tZm9yd2FyZFwiPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgICAgPHJhbmdlIGNsYXNzPVwicmFuZ2UgbXVzaWNcIiA6dmFsdWU9XCJwcm9jZXNzXCIgQHNlZWs9XCJzZWVrXCIgcmVmPVwibXVzaWNSYW5nZVwiPjwvcmFuZ2U+XG4gICAgICA8dGltZS1wYW5lbCB2LWlmPVwiIWlzTW9iaWxlXCIgOmR1cmF0aW9uPVwiZHVyYXRpb25cIiA6Y3VycmVudC10aW1lPVwiY3VycmVudFRpbWVcIj48L3RpbWUtcGFuZWw+XG4gICAgPC9kaXY+XG4gICAgPHRyYW5zaXRpb24gbmFtZT1cInBsYXllci1tb3JlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9yZVwiIHYtc2hvdz1cImlzTW9iaWxlIHx8IGhvdmVyXCI+XG4gICAgICAgIDx0aW1lLXBhbmVsIHYtaWY9XCJpc01vYmlsZVwiIDpkdXJhdGlvbj1cImR1cmF0aW9uXCIgOmN1cnJlbnQtdGltZT1cImN1cnJlbnRUaW1lXCI+PC90aW1lLXBhbmVsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic291bmRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3RybC1idG5cIiBAY2xpY2s9XCJtdXRlZCA9ICFtdXRlZFwiPlxuICAgICAgICAgICAgPGkgdi1pZj1cIm11dGVkIHx8IHZvbHVtZSA9PSAwXCIgY2xhc3M9XCJpY29uLXZvbHVtZS1vZmZcIj48L2k+XG4gICAgICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XCJpY29uLXZvbHVtZS11cFwiPjwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cmFuZ2UgY2xhc3M9XCJyYW5nZSB2b2x1bWVcIiA6dmFsdWU9XCJ2b2x1bWVcIiBAc2Vlaz1cInZvbHVtZVNlZWtcIiBAZHJhZy1zZWVrPVwidm9sdW1lU2Vla1wiIHJlZj1cInNvdW5kUmFuZ2VcIj48L3JhbmdlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5AaW1wb3J0IFwic2Fzcy9iYXNlXCI7XG5cbiRsaW5lLWhlaWdodDogMzBweDtcblxuLnJvb3Qge1xuICBoZWlnaHQ6ICRsaW5lLWhlaWdodDtcbiAgJi5tb2JpbGUge1xuICAgIGhlaWdodDogJGxpbmUtaGVpZ2h0ICogMjtcbiAgfVxufVxuXG4lZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuJWxpbmUge1xuICBAZXh0ZW5kICVmbGV4O1xuICBiYWNrZ3JvdW5kOiAjRDBEQUU0O1xuICBjb2xvcjogJGJsdWUtY29sb3I7XG4gIGhlaWdodDogJGxpbmUtaGVpZ2h0O1xufVxuXG4ucGxheWVyIHtcbiAgQGV4dGVuZCAlbGluZTtcbn1cblxuLmN0cmwtYnRuIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBwYWRkaW5nOiAwIDFweDtcbn1cblxuLnJhbmdlIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbi5yYW5nZS5tdXNpYyB7XG4gIGZsZXg6IDE7XG59XG5cbnRpbWUtcGFuZWwge1xuICBwYWRkaW5nOiAwIDVweDtcbn1cblxuLm1vcmUge1xuICBAZXh0ZW5kICVsaW5lO1xuICBoZWlnaHQ6ICRsaW5lLWhlaWdodDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgLm1vYmlsZSAmIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxMDtcbn1cblxuLnNvdW5kIHtcbiAgQGV4dGVuZCAlZmxleDtcbiAgcGFkZGluZzogMCA1cHg7XG4gIHdpZHRoOiAzMCU7XG4gIC5yYW5nZS52b2x1bWUge1xuICAgIGZsZXg6IDE7XG4gIH1cbiAgLmN0cmwtbXV0ZS1idG4ge1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxufVxuXG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IFJhbmdlIGZyb20gJy4vcmFuZ2UnXG5pbXBvcnQgVGltZVBhbmVsIGZyb20gJy4vdGltZS1wYW5lbCdcbmltcG9ydCB7Z2xvYmFsS2V5ZG93biwgaXNNb2JpbGV9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaG92ZXI6IGZhbHNlLFxuICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuXG4gICAgICBwcm9jZXNzOiAwLFxuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIHZvbHVtZTogMCxcbiAgICAgIHNyYzogJycsXG4gICAgICBhdWRpbzogbnVsbCxcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZWVrKHBlcmNlbnQpIHtcbiAgICAgIHRoaXMucGxheXRvKHBhcnNlRmxvYXQocGVyY2VudCAqIHRoaXMuYXVkaW8uZHVyYXRpb24pKVxuICAgIH0sXG4gICAgdm9sdW1lU2VlayhwZXJjZW50KSB7XG4gICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lID0gcGVyY2VudFxuICAgIH0sXG4gICAgcGxheXRvKHRpbWUpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgICAvLyBNYXliZSBub3QgdW5kZXJzdGFuZCB3aHkgaGVyZSB1c2UgYG5leHRUaWNrYFxuICAgICAgLy8gVGhpcydzIGJ1ZyBvZiBjaHJvbWUsIGRhdGFVUkwgbXVzaWMgd2lsbCBvdmVybGFwIHBsYXkgd2hlbiBjaGFuZ2UgY3VycmVudFRpbWUgYmVmb3JlIGNhbGwgYGF1ZGlvLnBsYXkoKWBcbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSB0aW1lXG4gICAgICB9KVxuICAgIH0sXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJylcbiAgICB0aGlzLmF1ZGlvLnByZWxvYWQgPSAnbWV0YWRhdGEnXG4gICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsICgpID0+IHtcbiAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmF1ZGlvLmR1cmF0aW9uXG4gICAgfSlcbiAgICAvLyBUT0RPIG9uIHByb2dyZXNzXG4gICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWVcbiAgICAgIHRoaXMucHJvY2VzcyA9IHRoaXMuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uXG4gICAgICB0aGlzLiRlbWl0KCd0aW1ldXBkYXRlJywgdGhpcy5jdXJyZW50VGltZSlcbiAgICB9KVxuICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLiRlbWl0KCd0aW1ldXBkYXRlJywgdGhpcy5jdXJyZW50VGltZSlcbiAgICAgIHRoaXMucHJvY2VzcyA9IDBcbiAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZVxuICAgIH0pXG4gICAgZ2xvYmFsS2V5ZG93blxuICAgIC5vbignc3BhY2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLnBhdXNlZCA9ICF0aGlzLnBhdXNlZFxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcbiAgICAub24oJ2Fycm93bGVmdCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy4kZW1pdCgnYmFja3dhcmQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcbiAgICAub24oJ2Fycm93cmlnaHQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuJGVtaXQoJ2ZvcndhcmQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcblxuXG4gICAgdGhpc1xuICAgICAgLiRvbignYmFja3dhcmQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucGxheXRvKHRoaXMuYXVkaW8uY3VycmVudFRpbWUgLSA1KVxuICAgICAgfSlcbiAgICAgIC4kb24oJ2ZvcndhcmQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucGxheXRvKHRoaXMuYXVkaW8uY3VycmVudFRpbWUgKyA1KVxuICAgICAgfSlcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBzcmM6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXIoc3JjKSB7XG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHNyY1xuICAgICAgICAgIHRoaXMucHJvY2VzcyA9IDBcbiAgICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuYXVkaW8udm9sdW1lXG4gICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWVcbiAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5hdWRpby5kdXJhdGlvblxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgcHJvY2Vzcyh2YWwpIHtcbiAgICAgIHRoaXMuJHJlZnMubXVzaWNSYW5nZS5jaGFuZ2VWYWx1ZSh0aGlzLnByb2Nlc3MpXG4gICAgfSxcbiAgICB2b2x1bWUodmFsKSB7XG4gICAgICB0aGlzLiRyZWZzLnNvdW5kUmFuZ2UuY2hhbmdlVmFsdWUodGhpcy52b2x1bWUpXG4gICAgfSxcbiAgICBtdXRlZCh2YWwpIHtcbiAgICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSB2YWxcbiAgICB9LFxuICAgIHBhdXNlZCgpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFJhbmdlLFxuICAgIFRpbWVQYW5lbCxcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHBsYXllci52dWU/OGE1ODAyMGEiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9yYW5nZS52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTUwYmI1MzBiIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtNTBiYjUzMGJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvcmFuZ2UudnVlXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTBiYjUzMGImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3JhbmdlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYmFyW2RhdGEtdi01MGJiNTMwYl17cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwcHh9LndyYXBbZGF0YS12LTUwYmI1MzBiXXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6IzEyM2I1ZDtib3JkZXItcmFkaXVzOjVweDtvdmVyZmxvdzpoaWRkZW59LnZhbHVlW2RhdGEtdi01MGJiNTMwYl17aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfS50aHVtYltkYXRhLXYtNTBiYjUzMGJde2N1cnNvcjptb3ZlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotM3B4O3dpZHRoOjEwcHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwYjIwMzE7Ym9yZGVyLXJhZGl1czoxNnB4O3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9yYW5nZS52dWVcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImJhclwiIEBjbGljaz1cImNsaWNrXCIgcmVmPVwiYmFyXCI+XG4gICAgPGRpdiBjbGFzcz1cIndyYXBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiIDpzdHlsZT1cInt3aWR0aDogc2VsZlZhbHVlKjEwMCArICclJ31cIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidGh1bWJcIiA6c3R5bGU9XCJ7bGVmdDogc2VsZlZhbHVlKjEwMCArICclJ31cIiByZWY9XCJ0aHVtYlwiPjwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbkBpbXBvcnQgXCJzYXNzL2Jhc2VcIjtcblxuJHJvb3QtaGVpZ2h0OiAxMHB4O1xuXG4uYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6ICRyb290LWhlaWdodDtcbn1cblxuLndyYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTIzQjVEO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi52YWx1ZSB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJsdWUtY29sb3I7XG59XG5cbi50aHVtYiB7XG4gICR3aWR0aDogMTBweDtcbiAgJGhlaWdodDogMTZweDtcblxuICBjdXJzb3I6IG1vdmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtKCRoZWlnaHQgLSAkcm9vdC1oZWlnaHQpIC8gMjtcbiAgd2lkdGg6ICR3aWR0aDtcbiAgaGVpZ2h0OiAkaGVpZ2h0O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm94LXNoYWRvdzogaW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwQjIwMzE7XG4gIGJvcmRlci1yYWRpdXM6ICRoZWlnaHQ7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtJHdpZHRoIC8gMik7XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHtEcmFnZ2VyfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGZWYWx1ZTogMCxcbiAgICAgIGRyYWdpbmc6IGZhbHNlLFxuICAgICAgZHJhZ1ZhbHVlOiAwLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICAgIHZhbGlkYXRvcjogKHZhbCkgPT4ge1xuICAgICAgICByZXR1cm4gdmFsID49IDAgJiYgdmFsIDw9IDFcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLiRyZWZzLnRodW1iKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShldmVudC5vZmZzZXRYKVxuICAgICAgdGhpcy5lbWl0U2VlaygpXG4gICAgfSxcbiAgICBlbWl0U2VlaygpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3NlZWsnLCB0aGlzLnNlbGZWYWx1ZSlcbiAgICB9LFxuICAgIGVtaXREcmFnU2VlaygpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2RyYWctc2VlaycsIHRoaXMuc2VsZlZhbHVlKVxuICAgIH0sXG4gICAgb2Zmc2V0MnZhbHVlKG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCAvIHRoaXMuJHJlZnMuYmFyLmNsaWVudFdpZHRoXG4gICAgfSxcbiAgICBjaGFuZ2VWYWx1ZSh2YWx1ZSkge1xuICAgICAgaWYgKCEgdGhpcy5kcmFnaW5nKSB7XG4gICAgICAgIHRoaXMuc2VsZlZhbHVlID0gdmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYlxuICAgIHZhciBiYXIgPSB0aGlzLiRyZWZzLmJhclxuXG4gICAgdmFyIGRyYWdnZXIgPSBuZXcgRHJhZ2dlcih0aHVtYiwgYmFyKVxuICAgIGRyYWdnZXJcbiAgICAub24oJ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gdHJ1ZVxuICAgIH0pXG4gICAgLm9uKCdtb3ZlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShkcmFnZ2VyLm9mZnNldClcbiAgICAgIHRoaXMuZW1pdERyYWdTZWVrKClcbiAgICB9KVxuICAgIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuc2VsZlZhbHVlID0gdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpXG4gICAgICB0aGlzLmVtaXRTZWVrKClcbiAgICB9KVxuICAgIGRyYWdnZXIuY3JlYXRlKClcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJhbmdlLnZ1ZT8wMTMwYjRjNSIsImltcG9ydCBFdmVudEVtaXR0ZXIyIGZyb20gJ2V2ZW50ZW1pdHRlcjInXG5pbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGVzYXZlci5qcydcbmltcG9ydCBVbmlkcmFnZ2VyIGZyb20gJ3VuaWRyYWdnZXInXG5pbXBvcnQgaXMgZnJvbSAnaXNfanMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2V4dGVuZCdcbmltcG9ydCBjbG9uZSBmcm9tICdjbG9uZSdcblxuZXhwb3J0IHZhciBpc01vYmlsZSA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpXG5cbmV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIyIHtcbiAgb24oZXZlbnRzLCAuLi5hcmdzKSB7XG4gICAgaWYgKGlzLmFycmF5KGV2ZW50cykpIHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgICBzdXBlci5vbihpdCwgLi4uYXJncylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLm9uKGV2ZW50cywgLi4uYXJncylcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2Nyb2xsZXIge1xuICB0aW1lciA9IFtdXG4gIHNjcm9sbGFibGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpXG5cbiAgY29uc3RydWN0b3Iodmlld3BvcnQsIGNvbmZpZz17fSkge1xuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuICAgIHRoaXMuY29uZmlnID0gZXh0ZW5kKHtkZWxheTogMywgdGltZToxLCBzdGVwOiAxMDB9LCBjb25maWcpXG5cbiAgICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGlmICghIHRoaXMuaXNDYW5TY3JvbGwoKSkge1xuICAgICAgICB0aGlzLmxldERlbGF5KClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgbGV0RGVsYXkoKSB7XG4gICAgdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lID0gRGF0ZS5ub3coKSArIHRoaXMuY29uZmlnLmRlbGF5ICogMTAwMFxuICB9XG5cbiAgY2xlYXJUaW1lcigpIHtcbiAgICB0aGlzLnRpbWVyLmZvckVhY2goKGl0KSA9PiBjbGVhclRpbWVvdXQoaXQpKVxuICAgIHRoaXMudGltZXIgPSBbXVxuICB9XG5cbiAgaXNDYW5TY3JvbGwoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgPiB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWVcbiAgfVxuXG4gIHNjcm9sbFRvKHRhcmdldFRvcCwgZm9yY2U9ZmFsc2UpIHtcbiAgICBpZiAoISB0aGlzLmlzQ2FuU2Nyb2xsKCkgJiYgZm9yY2UgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgdGhpcy5jbGVhclRpbWVyKClcblxuICAgIHZhciBzdGFydFRvcCA9IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wXG4gICAgdmFyIGVuZFRvcCA9IHRhcmdldFRvcFxuICAgIHZhciBkaWZmVG9wID0gZW5kVG9wIC0gc3RhcnRUb3BcbiAgICBpZiAoZGlmZlRvcCA9PT0gMClcbiAgICAgIHJldHVyblxuXG4gICAgdmFyIHBlclN0ZXAgPSBkaWZmVG9wIC8gdGhpcy5jb25maWcuc3RlcFxuXG4gICAgdmFyIGN1clRvcCA9IHN0YXJ0VG9wXG4gICAgZm9yICh2YXIgaT0xOyBpIDwgdGhpcy5jb25maWcuc3RlcDsgKytpKSB7XG4gICAgICAoKGkpID0+IHtcbiAgICAgICAgdGhpcy50aW1lci5wdXNoKHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChjdXJUb3AgIT09IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKVxuICAgICAgICAgICAgdGhpcy5sZXREZWxheSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wID0gc3RhcnRUb3AgKyBwZXJTdGVwICogaVxuICAgICAgICAgICAgY3VyVG9wID0gdGhpcy52aWV3cG9ydC5zY3JvbGxUb3BcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuY29uZmlnLnRpbWUgKiAxMDAwICogaSAvIHRoaXMuY29uZmlnLnN0ZXApKVxuICAgICAgfSkoaSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGF5SG92ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBzdGF0aWMgTGFzdEhvdmVyID0gbnVsbFxuICBlbnRlclRpbWVyID0gbnVsbFxuICBsZWF2ZVRpbWVyID0gbnVsbFxuICBzaG93ID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWc9e30pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuY2ZnID0gZXh0ZW5kKHtcbiAgICAgIGVudGVyRGVsYXk6IDAuNSxcbiAgICAgIGxlYXZlRGVsYXk6IDAuMyxcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICB9LCBjb25maWcpXG5cbiAgICB0aGlzLmhvdmVyKCgpID0+IHtcbiAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3cgPSBmYWxzZVxuICAgIH0pXG5cbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdykge1xuICAgICAgICAgIHRoaXMuZW1pdCgnbGVhdmUnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xvc2VMYXN0SG92ZXIoKVxuICAgICAgICAgIHRoaXMuZW1pdCgnZW50ZXInKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGVhckxlYXZlVGltZXIoKVxuICAgICAgICB0aGlzLmVudGVyVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlTGFzdEhvdmVyKClcbiAgICAgICAgICBEZWxheUhvdmVyLkxhc3RIb3ZlciA9IHRoaXNcbiAgICAgICAgICB0aGlzLmVtaXQoJ2VudGVyJylcbiAgICAgICAgfSwgMTAwMCAqIHRoaXMuY2ZnLmVudGVyRGVsYXkpXG4gICAgICB9KVxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJFbnRlclRpbWVyKClcbiAgICAgICAgdGhpcy5sZWF2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdsZWF2ZScpXG4gICAgICAgIH0sIDEwMDAgKiB0aGlzLmNmZy5sZWF2ZURlbGF5KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjbG9zZUxhc3RIb3ZlcigpIHtcbiAgICBpZiAodGhpcy5jZmcudW5pcXVlXG4gICAgICAgICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyXG4gICAgICAgICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyICE9IHRoaXNcbiAgICAgICApIHtcbiAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyLmVtaXQoJ2xlYXZlJylcbiAgICB9XG4gIH1cblxuICBjbGVhckxlYXZlVGltZXIoKSB7XG4gICAgaWYgKHRoaXMubGVhdmVUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lcilcbiAgICAgIHRoaXMubGVhdmVUaW1lciA9IG51bGxcbiAgICB9XG4gIH1cblxuICBjbGVhckVudGVyVGltZXIoKSB7XG4gICAgaWYgKHRoaXMuZW50ZXJUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lcilcbiAgICAgIHRoaXMuZW50ZXJUaW1lciA9IG51bGxcbiAgICB9XG4gIH1cblxuICBob3ZlcihlbnRlciwgbGVhdmUpIHtcbiAgICB0aGlzXG4gICAgLm9uKCdlbnRlcicsIGVudGVyKVxuICAgIC5vbignbGVhdmUnLCBsZWF2ZSlcbiAgfVxufVxuXG52YXIgaXNGaWxlU2F2ZXJTdXBwb3J0ZWRcbnRyeSB7XG4gIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gISFuZXcgQmxvYlxufSBjYXRjaCAoZSkge1xuICBpc0ZpbGVTYXZlclN1cHBvcnRlZCA9IGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlTHJjKHN0ciwgbmFtZSkge1xuICBpZiAoaXNGaWxlU2F2ZXJTdXBwb3J0ZWQpIHtcbiAgICBGaWxlU2F2ZXIuc2F2ZUFzKFxuICAgICAgbmV3IEJsb2IoW3N0cl0sIHt0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04J30pLFxuICAgICAgYCR7bmFtZX0ubHJjYFxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBhbGVydCgnUGxlYXNlIHVwZ3JhZGUgeW91ciBicm93c2VyJylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FjaGUge1xuICB2ZXJzaW9uID0gMlxuXG4gIGNvbnN0cnVjdG9yKHByZWZpeCA9ICdscmMnKSB7XG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXhcbiAgfVxuXG4gIHJlYWQoKSB7XG4gICAgdmFyIGRhdGFcbiAgICBpZiAodGhpcy5wcmVmaXggaW4gbG9jYWxTdG9yYWdlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICB9XG4gICAgICBpZiAoZGF0YS4kdmVyc2lvbiA9PT0gdGhpcy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7fVxuICB9XG5cbiAgd3JpdGUoZGF0YSkge1xuICAgIGRhdGEuJHZlcnNpb24gPSB0aGlzLnZlcnNpb25cbiAgICBsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgfVxuXG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKClcbiAgICByZXR1cm4gKGtleSBpbiBkYXRhKSA/IGRhdGFba2V5XSA6IGRlZmF1bHRWYWx1ZVxuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMucmVhZCgpXG4gICAgZGF0YVtrZXldID0gdmFsdWVcbiAgICB0cnkge1xuICAgICAgdGhpcy53cml0ZShkYXRhKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdmFyIGNhY2hlID0gbmV3IENhY2hlKClcblxuZXhwb3J0IHZhciBnbG9iYWxLZXlkb3duID0gbmV3IEV2ZW50RW1pdHRlcigpXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICBpZiAoLyhpbnB1dHxzZWxlY3R8b3B0aW9ufHRleHRhcmVhKS8udGVzdChcbiAgICBldmVudC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuICApIHJldHVyblxuXG4gIHZhciBjb2RlID0gZXZlbnQuY29kZS50b0xvd2VyQ2FzZSgpXG4gIHZhciByZXN1bHRzID0gZ2xvYmFsS2V5ZG93bi5saXN0ZW5lcnMoY29kZSkubWFwKChmbikgPT4ge1xuICAgIHJldHVybiBmbihldmVudCkgPT09IGZhbHNlXG4gIH0pXG4gIGlmIChyZXN1bHRzLmxlbmd0aCkge1xuICAgIHZhciBoYXNGYWxzZSA9IGZhbHNlXG4gICAgcmVzdWx0cy5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgaWYgKGl0KSBoYXNGYWxzZSA9IHRydWVcbiAgICB9KVxuICAgIGlmIChoYXNGYWxzZSkgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG59KVxuXG5cbmV4cG9ydCBjbGFzcyBEcmFnZ2VyIGV4dGVuZHMgVW5pZHJhZ2dlciB7XG4gIGNvbnN0cnVjdG9yKGVsZW0sIGNvbnRhaW5lcikge1xuICAgIHN1cGVyKGVsZW0pXG4gICAgdGhpcy5lZSA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICB9XG5cbiAgb24oLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmVlLm9uKC4uLmFyZ3MpXG4gIH1cblxuICBlbWl0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lZS5lbWl0KC4uLmFyZ3MpXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdGhpcy5oYW5kbGVzID0gWyB0aGlzLmVsZW1lbnQgXVxuICAgIHRoaXMuYmluZEhhbmRsZXMoKVxuICB9XG5cbiAgZHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ID0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnRcbiAgICB0aGlzLmVtaXQoJ3N0YXJ0JywgZXZlbnQpXG4gIH1cblxuICBkcmFnTW92ZShldmVudCwgcG9pbnRlciwgbW92ZVZlY3Rvcikge1xuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ICsgbW92ZVZlY3Rvci54XG4gICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkge1xuICAgICAgdGhpcy5vZmZzZXQgPSAwXG4gICAgfSBlbHNlIGlmICh0aGlzLm9mZnNldCA+IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoXG4gICAgfVxuICAgIHRoaXMuZW1pdCgnbW92ZScsIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKVxuICB9XG5cbiAgZHJhZ0VuZChldmVudCwgcG9pbnRlcikge1xuICAgIHRoaXMuZW1pdCgnZW5kJywgZXZlbnQsIHBvaW50ZXIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcDJ0aW1lc3RyKHRpbWUsIG9ubHlJbnRlZ2VyPWZhbHNlKSB7XG4gIGlmICghIHRpbWUpXG4gICAgdGltZSA9IDBcbiAgdmFyIHBhZFplcm8gPSAobnVtLCBzaXplPTIpID0+IHtcbiAgICBudW0gPSBudW0udG9TdHJpbmcoKVxuICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSBudW0gPSAnMCcgKyBudW1cbiAgICByZXR1cm4gbnVtXG4gIH1cbiAgaWYgKG9ubHlJbnRlZ2VyKSB7XG4gICAgcmV0dXJuIGAke3BhZFplcm8ocGFyc2VJbnQodGltZS82MCwgMTApKX06JHtwYWRaZXJvKHBhcnNlSW50KHRpbWUlNjAsIDEwKSl9YFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHtwYWRaZXJvKHBhcnNlSW50KHRpbWUvNjAsIDEwKSl9OiR7cGFkWmVybygodGltZSU2MCkudG9GaXhlZCgyKSwgMil9YFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lc3RyMnRpbWVzdGFtcChzdHIpIHtcbiAgdmFyIFttaW51dGUsIHNlY29uZF0gPSBzdHIuc3BsaXQoJzonKVxuICByZXR1cm4gcGFyc2VJbnQobWludXRlLCAxMCkgKiA2MCArIHBhcnNlRmxvYXQoc2Vjb25kKVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbHRpcFBvc2l0aW9uIHtcbiAgZGlycyA9IFtcbiAgICAnYm90dG9tJyxcbiAgICAncmlnaHQnLFxuICAgICd0b3AnLFxuICAgICdsZWZ0JyxcbiAgXVxuXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgdG9vbHRpcCwgZGlyPSdib3R0b20nKSB7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLnRvb2x0aXAgPSB0b29sdGlwXG4gICAgdGhpcy52aWV3cG9ydCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIHRoaXMuZ2VuZXJhdGVEaXJzKGRpcilcbiAgfVxuXG4gIGdlbmVyYXRlRGlycyhkaXIpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5kaXJzLmluZGV4T2YoZGlyKVxuICAgIHRoaXMuZGlycy5zcGxpY2UoaWR4LCAxKVxuICAgIHRoaXMuZGlycy51bnNoaWZ0KGRpcilcbiAgfVxuXG4gIGNoZWNrUmVjdE92ZXJmbG93KHJlY3QpIHtcbiAgICByZXR1cm4gcmVjdC5sZWZ0ID49IDBcbiAgICAgICYmIHJlY3QudG9wID49IDBcbiAgICAgICYmIHJlY3QucmlnaHQgPD0gdGhpcy52aWV3cG9ydC5jbGllbnRXaWR0aFxuICAgICAgJiYgcmVjdC5ib3R0b20gPD0gdGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHRcbiAgfVxuXG4gIHJlY3RPdmVyZmxvd0NvdW50KHJlY3QpIHtcbiAgICB2YXIgbmVnYXRpdmUgPSAodmFsKSA9PiB2YWwgPCAwID8gdmFsIDogMFxuICAgIHJldHVybiBuZWdhdGl2ZShyZWN0LmxlZnQpICtcbiAgICAgIG5lZ2F0aXZlKHJlY3QudG9wKSArXG4gICAgICBuZWdhdGl2ZSh0aGlzLnZpZXdwb3J0LmNsaWVudFdpZHRoIC0gcmVjdC5yaWdodCkgK1xuICAgICAgbmVnYXRpdmUodGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQgLSByZWN0LmJvdHRvbSlcbiAgfVxuXG4gIHBvc2l0aW9uKCkge1xuICAgIHZhciByZWN0ID0gdGhpcy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB2YXIgd2lkdGggPSB0aGlzLnRvb2x0aXAuY2xpZW50V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy50b29sdGlwLmNsaWVudEhlaWdodFxuXG4gICAgdmFyIHRvb2x0aXBSZWN0ID0ge1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgfVxuXG4gICAgdmFyIG92ZXJmbG93VmFsdWVzID0gW11cblxuICAgIGZvciAodmFyIGk9MDsgaSA8IHRoaXMuZGlycy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGRpciA9IHRoaXMuZGlyc1tpXVxuICAgICAgc3dpdGNoKHRoaXMuZGlyc1tpXSkge1xuICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGgvMiAtIHdpZHRoLzJcbiAgICAgICAgdG9vbHRpcFJlY3QucmlnaHQgPSB0b29sdGlwUmVjdC5sZWZ0ICsgd2lkdGhcbiAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC5ib3R0b21cbiAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gKyBoZWlnaHRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoLzIgLSB3aWR0aC8yXG4gICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoXG4gICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QudG9wIC0gaGVpZ2h0XG4gICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHJlY3QudG9wXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCAtIHdpZHRoXG4gICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0XG4gICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQvMiAtIGhlaWdodC8yXG4gICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHRvb2x0aXBSZWN0LnRvcCArIGhlaWdodFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5yaWdodFxuICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHJlY3QucmlnaHQgKyB3aWR0aFxuICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LzIgLSBoZWlnaHQvMlxuICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSB0b29sdGlwUmVjdC50b3AgKyBoZWlnaHRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgb3ZlcmZsb3dWYWx1ZXMucHVzaChbdGhpcy5yZWN0T3ZlcmZsb3dDb3VudCh0b29sdGlwUmVjdCksIGRpciwgY2xvbmUodG9vbHRpcFJlY3QpXSlcbiAgICB9XG5cbiAgICBvdmVyZmxvd1ZhbHVlcy5zb3J0KChhLCBiKSA9PiBiWzBdIC0gYVswXSlcblxuICAgIHJldHVybiB7XG4gICAgICBkaXI6IG92ZXJmbG93VmFsdWVzWzBdWzFdLFxuICAgICAgcmVjdDogb3ZlcmZsb3dWYWx1ZXNbMF1bMl0sXG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvdXRpbHMuanMiLCIvKiFcclxuICogRXZlbnRFbWl0dGVyMlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGlqMW54L0V2ZW50RW1pdHRlcjJcclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIGhpajFueFxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG47IWZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgPyBBcnJheS5pc0FycmF5IDogZnVuY3Rpb24gX2lzQXJyYXkob2JqKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuICB9O1xyXG4gIHZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgIGlmICh0aGlzLl9jb25mKSB7XHJcbiAgICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIHRoaXMuX2NvbmYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcclxuICAgIGlmIChjb25mKSB7XHJcbiAgICAgIHRoaXMuX2NvbmYgPSBjb25mO1xyXG5cclxuICAgICAgY29uZi5kZWxpbWl0ZXIgJiYgKHRoaXMuZGVsaW1pdGVyID0gY29uZi5kZWxpbWl0ZXIpO1xyXG4gICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID0gY29uZi5tYXhMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCA/IGNvbmYubWF4TGlzdGVuZXJzIDogZGVmYXVsdE1heExpc3RlbmVycztcclxuICAgICAgY29uZi53aWxkY2FyZCAmJiAodGhpcy53aWxkY2FyZCA9IGNvbmYud2lsZGNhcmQpO1xyXG4gICAgICBjb25mLm5ld0xpc3RlbmVyICYmICh0aGlzLm5ld0xpc3RlbmVyID0gY29uZi5uZXdMaXN0ZW5lcik7XHJcbiAgICAgIGNvbmYudmVyYm9zZU1lbW9yeUxlYWsgJiYgKHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBjb25mLnZlcmJvc2VNZW1vcnlMZWFrKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lclRyZWUgPSB7fTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xyXG4gICAgdmFyIGVycm9yTXNnID0gJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xyXG4gICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xyXG4gICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nO1xyXG5cclxuICAgIGlmKHRoaXMudmVyYm9zZU1lbW9yeUxlYWspe1xyXG4gICAgICBlcnJvck1zZyArPSAnIEV2ZW50IG5hbWU6ICVzLic7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGNvdW50LCBldmVudE5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25zb2xlLnRyYWNlKXtcclxuICAgICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGNvbmYpIHtcclxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgdGhpcy5uZXdMaXN0ZW5lciA9IGZhbHNlO1xyXG4gICAgdGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGZhbHNlO1xyXG4gICAgY29uZmlndXJlLmNhbGwodGhpcywgY29uZik7XHJcbiAgfVxyXG4gIEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgZXhwb3J0aW5nIEV2ZW50RW1pdHRlciBwcm9wZXJ0eVxyXG5cclxuICAvL1xyXG4gIC8vIEF0dGVudGlvbiwgZnVuY3Rpb24gcmV0dXJuIHR5cGUgbm93IGlzIGFycmF5LCBhbHdheXMgIVxyXG4gIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxyXG4gIC8vIGVsZW1lbnRzIChsZWFmcykgaWYgdGhlcmUgYXJlIG1hdGNoZXNcclxuICAvL1xyXG4gIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSkge1xyXG4gICAgaWYgKCF0cmVlKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHZhciBsaXN0ZW5lcnM9W10sIGxlYWYsIGxlbiwgYnJhbmNoLCB4VHJlZSwgeHhUcmVlLCBpc29sYXRlZEJyYW5jaCwgZW5kUmVhY2hlZCxcclxuICAgICAgICB0eXBlTGVuZ3RoID0gdHlwZS5sZW5ndGgsIGN1cnJlbnRUeXBlID0gdHlwZVtpXSwgbmV4dFR5cGUgPSB0eXBlW2krMV07XHJcbiAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gSWYgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQocykgbGlzdCBhbmQgdGhlIHRyZWUgaGFzIGxpc3RlbmVyc1xyXG4gICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxyXG4gICAgICAvL1xyXG4gICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzKTtcclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGVhZiA9IDAsIGxlbiA9IHRyZWUuX2xpc3RlbmVycy5sZW5ndGg7IGxlYWYgPCBsZW47IGxlYWYrKykge1xyXG4gICAgICAgICAgaGFuZGxlcnMgJiYgaGFuZGxlcnMucHVzaCh0cmVlLl9saXN0ZW5lcnNbbGVhZl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChjdXJyZW50VHlwZSA9PT0gJyonIHx8IGN1cnJlbnRUeXBlID09PSAnKionKSB8fCB0cmVlW2N1cnJlbnRUeXBlXSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgZXZlbnQgZW1pdHRlZCBpcyAnKicgYXQgdGhpcyBwYXJ0XHJcbiAgICAgIC8vIG9yIHRoZXJlIGlzIGEgY29uY3JldGUgbWF0Y2ggYXQgdGhpcyBwYXRjaFxyXG4gICAgICAvL1xyXG4gICAgICBpZiAoY3VycmVudFR5cGUgPT09ICcqJykge1xyXG4gICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB0cmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsxKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcbiAgICAgIH0gZWxzZSBpZihjdXJyZW50VHlwZSA9PT0gJyoqJykge1xyXG4gICAgICAgIGVuZFJlYWNoZWQgPSAoaSsxID09PSB0eXBlTGVuZ3RoIHx8IChpKzIgPT09IHR5cGVMZW5ndGggJiYgbmV4dFR5cGUgPT09ICcqJykpO1xyXG4gICAgICAgIGlmKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBUaGUgbmV4dCBlbGVtZW50IGhhcyBhIF9saXN0ZW5lcnMsIGFkZCBpdCB0byB0aGUgaGFuZGxlcnMuXHJcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG4gICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG4gICAgICAgICAgICBpZihicmFuY2ggPT09ICcqJyB8fCBicmFuY2ggPT09ICcqKicpIHtcclxuICAgICAgICAgICAgICBpZih0cmVlW2JyYW5jaF0uX2xpc3RlbmVycyAmJiAhZW5kUmVhY2hlZCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsyKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcclxuICAgICAgfVxyXG5cclxuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbY3VycmVudFR5cGVdLCBpKzEpKTtcclxuICAgIH1cclxuXHJcbiAgICB4VHJlZSA9IHRyZWVbJyonXTtcclxuICAgIGlmICh4VHJlZSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgdHJlZSB3aWxsIGFsbG93IGFueSBtYXRjaCBmb3IgdGhpcyBwYXJ0LFxyXG4gICAgICAvLyB0aGVuIHJlY3Vyc2l2ZWx5IGV4cGxvcmUgYWxsIGJyYW5jaGVzIG9mIHRoZSB0cmVlXHJcbiAgICAgIC8vXHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeFRyZWUsIGkrMSk7XHJcbiAgICB9XHJcblxyXG4gICAgeHhUcmVlID0gdHJlZVsnKionXTtcclxuICAgIGlmKHh4VHJlZSkge1xyXG4gICAgICBpZihpIDwgdHlwZUxlbmd0aCkge1xyXG4gICAgICAgIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxyXG4gICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGQgYXJyYXlzIG9mIG1hdGNoaW5nIG5leHQgYnJhbmNoZXMgYW5kIG90aGVycy5cclxuICAgICAgICBmb3IoYnJhbmNoIGluIHh4VHJlZSkge1xyXG4gICAgICAgICAgaWYoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgeHhUcmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgaWYoYnJhbmNoID09PSBuZXh0VHlwZSkge1xyXG4gICAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIG5leHQgZWxlbWVudCB3aWxsIG1hdGNoLCBzbyBqdW1wIHR3aWNlLlxyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IGN1cnJlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgLy8gQ3VycmVudCBub2RlIG1hdGNoZXMsIG1vdmUgaW50byB0aGUgdHJlZS5cclxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoID0ge307XHJcbiAgICAgICAgICAgICAgaXNvbGF0ZWRCcmFuY2hbYnJhbmNoXSA9IHh4VHJlZVticmFuY2hdO1xyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeyAnKionOiBpc29sYXRlZEJyYW5jaCB9LCBpKzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXHJcbiAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlWycqJ10gJiYgeHhUcmVlWycqJ10uX2xpc3RlbmVycykge1xyXG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpc3RlbmVycztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdyb3dMaXN0ZW5lclRyZWUodHlwZSwgbGlzdGVuZXIpIHtcclxuXHJcbiAgICB0eXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxyXG4gICAgLy9cclxuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHR5cGUubGVuZ3RoOyBpKzEgPCBsZW47IGkrKykge1xyXG4gICAgICBpZih0eXBlW2ldID09PSAnKionICYmIHR5cGVbaSsxXSA9PT0gJyoqJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmVlID0gdGhpcy5saXN0ZW5lclRyZWU7XHJcbiAgICB2YXIgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHJcbiAgICB3aGlsZSAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICBpZiAoIXRyZWVbbmFtZV0pIHtcclxuICAgICAgICB0cmVlW25hbWVdID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyZWUgPSB0cmVlW25hbWVdO1xyXG5cclxuICAgICAgaWYgKHR5cGUubGVuZ3RoID09PSAwKSB7XHJcblxyXG4gICAgICAgIGlmICghdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBbdHJlZS5fbGlzdGVuZXJzXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdHJlZS5fbGlzdGVuZXJzLndhcm5lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoID4gdGhpcy5fZXZlbnRzLm1heExpc3RlbmVyc1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsb2dQb3NzaWJsZU1lbW9yeUxlYWsuY2FsbCh0aGlzLCB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoLCBuYW1lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhblxyXG4gIC8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaFxyXG4gIC8vIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxyXG4gIC8vXHJcbiAgLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXHJcbiAgLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZGVsaW1pdGVyID0gJy4nO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IG47XHJcbiAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xyXG4gICAgICB0aGlzLl9jb25mLm1heExpc3RlbmVycyA9IG47XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudCA9ICcnO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pIHtcclxuICAgIHRoaXMubWFueShldmVudCwgMSwgZm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XHJcbiAgICAgIGlmICgtLXR0bCA9PT0gMCkge1xyXG4gICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgIH1cclxuICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0ZW5lci5fb3JpZ2luID0gZm47XHJcblxyXG4gICAgdGhpcy5vbihldmVudCwgbGlzdGVuZXIpO1xyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgaWYgKCF0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgdmFyIGFyZ3MsbCxpLGo7XHJcbiAgICB2YXIgaGFuZGxlcjtcclxuXHJcbiAgICBpZiAodGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGgpIHtcclxuICAgICAgaGFuZGxlciA9IHRoaXMuX2FsbC5zbGljZSgpO1xyXG4gICAgICBpZiAoYWwgPiAzKSB7XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCk7XHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFsOyBqKyspIGFyZ3Nbal0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICBoYW5kbGVyID0gW107XHJcbiAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcbiAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgLy8gbmVlZCB0byBtYWtlIGNvcHkgb2YgaGFuZGxlcnMgYmVjYXVzZSBsaXN0IGNhbiBjaGFuZ2UgaW4gdGhlIG1pZGRsZVxyXG4gICAgICAgIC8vIG9mIGVtaXQgY2FsbFxyXG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGFuZGxlciAmJiBoYW5kbGVyLmxlbmd0aCkge1xyXG4gICAgICBpZiAoYWwgPiAzKSB7XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgYXJndW1lbnRzWzFdOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICEhdGhpcy5fYWxsO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdEFzeW5jID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ25ld0xpc3RlbmVyJyAmJiAhdGhpcy5uZXdMaXN0ZW5lcikge1xyXG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoW2ZhbHNlXSk7IH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJvbWlzZXM9IFtdO1xyXG5cclxuICAgIHZhciBhbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICB2YXIgYXJncyxsLGksajtcclxuICAgIHZhciBoYW5kbGVyO1xyXG5cclxuICAgIGlmICh0aGlzLl9hbGwpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLl9hbGwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgaGFuZGxlciA9IFtdO1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGFyZ3VtZW50c1sxXSk7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkICdlcnJvcicgZXZlbnQuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcclxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9uQW55KHR5cGUpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb24gb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09IFwibmV3TGlzdGVuZXJzXCIhIEJlZm9yZVxyXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lcnNcIi5cclxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgZ3Jvd0xpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHtcclxuICAgICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXHJcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gQ2hhbmdlIHRvIGFycmF5LlxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXHJcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCAmJlxyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPiAwICYmXHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnNcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCwgdHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbkFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9hbGwpIHtcclxuICAgICAgdGhpcy5fYWxsID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgZXZlbnQgbGlzdGVuZXIgY29sbGVjdGlvbi5cclxuICAgIHRoaXMuX2FsbC5wdXNoKGZuKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XHJcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlTGlzdGVuZXIgb25seSB0YWtlcyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaGFuZGxlcnMsbGVhZnM9W107XHJcblxyXG4gICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgbGVhZnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBudWxsLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIGRvZXMgbm90IHVzZSBsaXN0ZW5lcnMoKSwgc28gbm8gc2lkZSBlZmZlY3Qgb2YgY3JlYXRpbmcgX2V2ZW50c1t0eXBlXVxyXG4gICAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgcmV0dXJuIHRoaXM7XHJcbiAgICAgIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICBsZWFmcy5wdXNoKHtfbGlzdGVuZXJzOmhhbmRsZXJzfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaUxlYWY9MDsgaUxlYWY8bGVhZnMubGVuZ3RoOyBpTGVhZisrKSB7XHJcbiAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG4gICAgICBoYW5kbGVycyA9IGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgaWYgKGlzQXJyYXkoaGFuZGxlcnMpKSB7XHJcblxyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IC0xO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PT0gbGlzdGVuZXIgfHxcclxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLmxpc3RlbmVyICYmIGhhbmRsZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikgfHxcclxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLl9vcmlnaW4gJiYgaGFuZGxlcnNbaV0uX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgIGxlYWYuX2xpc3RlbmVycy5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgbGVhZi5fbGlzdGVuZXJzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGhhbmRsZXJzID09PSBsaXN0ZW5lciB8fFxyXG4gICAgICAgIChoYW5kbGVycy5saXN0ZW5lciAmJiBoYW5kbGVycy5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcbiAgICAgICAgKGhhbmRsZXJzLl9vcmlnaW4gJiYgaGFuZGxlcnMuX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XHJcbiAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdChyb290KSB7XHJcbiAgICAgIGlmIChyb290ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyb290KTtcclxuICAgICAgZm9yICh2YXIgaSBpbiBrZXlzKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgdmFyIG9iaiA9IHJvb3Rba2V5XTtcclxuICAgICAgICBpZiAoKG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgfHwgKG9iaiA9PT0gbnVsbCkpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3Rba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgZGVsZXRlIHJvb3Rba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3QodGhpcy5saXN0ZW5lclRyZWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHZhciBpID0gMCwgbCA9IDAsIGZucztcclxuICAgIGlmIChmbiAmJiB0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG4gICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYoZm4gPT09IGZuc1tpXSkge1xyXG4gICAgICAgICAgZm5zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG4gICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKVxyXG4gICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuc1tpXSk7XHJcbiAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICF0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgdmFyIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG4gICAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG4gICAgICAgIGxlYWYuX2xpc3RlbmVycyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50cykge1xyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXJzLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgICByZXR1cm4gaGFuZGxlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgdGhpcy5fZXZlbnRzW3R5cGVdID0gW107XHJcbiAgICBpZiAoIWlzQXJyYXkodGhpcy5fZXZlbnRzW3R5cGVdKSkge1xyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyc0FueSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGlmKHRoaXMuX2FsbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAvLyBDb21tb25KU1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgLy8gQnJvd3NlciBnbG9iYWwuXHJcbiAgICB3aW5kb3cuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjtcclxuICB9XHJcbn0oKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9ldmVudGVtaXR0ZXIyL2xpYi9ldmVudGVtaXR0ZXIyLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBGaWxlU2F2ZXIuanNcbiAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuICogMS4xLjIwMTUwNzE2XG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogTGljZW5zZTogWDExL01JVFxuICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbiAqL1xuXG4vKmdsb2JhbCBzZWxmICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXG4vKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xuXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXJcblx0XHQgIGRvYyA9IHZpZXcuZG9jdW1lbnRcblx0XHQgIC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHR9XG5cdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHQsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xuXHRcdCwgY2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xuXHRcdFx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHR9XG5cdFx0LCB3ZWJraXRfcmVxX2ZzID0gdmlldy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbVxuXHRcdCwgcmVxX2ZzID0gdmlldy5yZXF1ZXN0RmlsZVN5c3RlbSB8fCB3ZWJraXRfcmVxX2ZzIHx8IHZpZXcubW96UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xuXHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRocm93IGV4O1xuXHRcdFx0fSwgMCk7XG5cdFx0fVxuXHRcdCwgZm9yY2Vfc2F2ZWFibGVfdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcblx0XHQsIGZzX21pbl9zaXplID0gMFxuXHRcdC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc1Mjk3I2M3IGFuZFxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9jb21taXQvNDg1OTMwYSNjb21taXRjb21tZW50LTg3NjgwNDdcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdCwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gNTAwIC8vIGluIG1zXG5cdFx0LCByZXZva2UgPSBmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXG5cdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHZpZXcuY2hyb21lKSB7XG5cdFx0XHRcdHJldm9rZXIoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0LCBkaXNwYXRjaCA9IGZ1bmN0aW9uKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XG5cdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG5cdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJsb2I7XG5cdFx0fVxuXHRcdCwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdHZhclxuXHRcdFx0XHQgIGZpbGVzYXZlciA9IHRoaXNcblx0XHRcdFx0LCB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2Vcblx0XHRcdFx0LCBvYmplY3RfdXJsXG5cdFx0XHRcdCwgdGFyZ2V0X3ZpZXdcblx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcblx0XHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRpZiAobmV3X3RhYiA9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNhZmFyaSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHQvL0FwcGxlIGRvIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHA6Ly9iaXQubHkvMWtaZmZSSVxuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgYWJvcnRhYmxlID0gZnVuY3Rpb24oZnVuYykge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgY3JlYXRlX2lmX25vdF9mb3VuZCA9IHtjcmVhdGU6IHRydWUsIGV4Y2x1c2l2ZTogZmFsc2V9XG5cdFx0XHRcdCwgc2xpY2Vcblx0XHRcdDtcblx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdFx0bmFtZSA9IFwiZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0c2F2ZV9saW5rLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0Ly8gdmlld2VkIGluIGEgdGFiLCBzbyBJIGZvcmNlIHNhdmUgd2l0aCBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cblx0XHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkxMTU4XG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4OTY0MlxuXHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcblx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcblx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XG5cdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcblx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XG5cdFx0XHRcdGZzLnJvb3QuZ2V0RGlyZWN0b3J5KFwic2F2ZWRcIiwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGRpcikge1xuXHRcdFx0XHRcdHZhciBzYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRmaWxlLmNyZWF0ZVdyaXRlcihhYm9ydGFibGUoZnVuY3Rpb24od3JpdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVlbmRcIiwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChlcnJvci5jb2RlICE9PSBlcnJvci5BQk9SVF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSBhYm9ydFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIud3JpdGUoYmxvYik7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5XUklUSU5HO1xuXHRcdFx0XHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGRpci5nZXRGaWxlKG5hbWUsIHtjcmVhdGU6IGZhbHNlfSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZpbGUpIHtcblx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXG5cdFx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0XHRcdGlmIChleC5jb2RlID09PSBleC5OT1RfRk9VTkRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHR9XG5cdFx0LCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcblx0XHQsIHNhdmVBcyA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0fVxuXHQ7XG5cdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcblx0XHR9O1xuXHR9XG5cblx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZmlsZXNhdmVyID0gdGhpcztcblx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJhYm9ydFwiKTtcblx0fTtcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRGU19wcm90by5XUklUSU5HID0gMTtcblx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cblx0RlNfcHJvdG8uZXJyb3IgPVxuXHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRGU19wcm90by5vbnByb2dyZXNzID1cblx0RlNfcHJvdG8ub253cml0ZSA9XG5cdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRGU19wcm90by5vbmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZWVuZCA9XG5cdFx0bnVsbDtcblxuXHRyZXR1cm4gc2F2ZUFzO1xufShcblx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHR8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xuXHR8fCB0aGlzLmNvbnRlbnRcbikpO1xuLy8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcbi8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCkgJiYgKGRlZmluZS5hbWQgIT0gbnVsbCkpIHtcbiAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2F2ZUFzO1xuICB9KTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vZmlsZXNhdmVyLmpzL0ZpbGVTYXZlci5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi93ZWJwYWNrL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vd2VicGFjay9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIFVuaWRyYWdnZXIgdjIuMS4wXG4gKiBEcmFnZ2FibGUgYmFzZSBjbGFzc1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ3VuaXBvaW50ZXIvdW5pcG9pbnRlcidcbiAgICBdLCBmdW5jdGlvbiggVW5pcG9pbnRlciApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIFVuaXBvaW50ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ3VuaXBvaW50ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuVW5pZHJhZ2dlciA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuVW5pcG9pbnRlclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIFVuaXBvaW50ZXIgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVbmlkcmFnZ2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIFVuaWRyYWdnZXIoKSB7fVxuXG4vLyBpbmhlcml0IFVuaXBvaW50ZXIgJiBFdkVtaXR0ZXJcbnZhciBwcm90byA9IFVuaWRyYWdnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVW5pcG9pbnRlci5wcm90b3R5cGUgKTtcblxuLy8gLS0tLS0gYmluZCBzdGFydCAtLS0tLSAvL1xuXG5wcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggdHJ1ZSApO1xufTtcblxucHJvdG8udW5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggZmFsc2UgKTtcbn07XG5cbnZhciBuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yO1xuLyoqXG4gKiB3b3JrcyBhcyB1bmJpbmRlciwgYXMgeW91IGNhbiAuYmluZEhhbmRsZXMoIGZhbHNlICkgdG8gdW5iaW5kXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluZCAtIHdpbGwgdW5iaW5kIGlmIGZhbHNleVxuICovXG5wcm90by5fYmluZEhhbmRsZXMgPSBmdW5jdGlvbiggaXNCaW5kICkge1xuICAvLyBtdW5nZSBpc0JpbmQsIGRlZmF1bHQgdG8gdHJ1ZVxuICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcbiAgLy8gZXh0cmEgYmluZCBsb2dpY1xuICB2YXIgYmluZGVyRXh0cmE7XG4gIGlmICggbmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuICAgIGJpbmRlckV4dHJhID0gZnVuY3Rpb24oIGhhbmRsZSApIHtcbiAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBlbGVtZW50XG4gICAgICBoYW5kbGUuc3R5bGUudG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcbiAgICB9O1xuICB9IGVsc2UgaWYgKCBuYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCApIHtcbiAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG4gICAgICAvLyBkaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZWxlbWVudFxuICAgICAgaGFuZGxlLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGJpbmRlckV4dHJhID0gbm9vcDtcbiAgfVxuICAvLyBiaW5kIGVhY2ggaGFuZGxlXG4gIHZhciBiaW5kTWV0aG9kID0gaXNCaW5kID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5oYW5kbGVzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBoYW5kbGUgPSB0aGlzLmhhbmRsZXNbaV07XG4gICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGhhbmRsZSwgaXNCaW5kICk7XG4gICAgYmluZGVyRXh0cmEoIGhhbmRsZSApO1xuICAgIGhhbmRsZVsgYmluZE1ldGhvZCBdKCAnY2xpY2snLCB0aGlzICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cbi8qKlxuICogcG9pbnRlciBzdGFydFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqL1xucHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGRpc21pc3MgcmFuZ2Ugc2xpZGVyc1xuICBpZiAoIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAnSU5QVVQnICYmIGV2ZW50LnRhcmdldC50eXBlID09ICdyYW5nZScgKSB7XG4gICAgLy8gcmVzZXQgcG9pbnRlckRvd24gbG9naWNcbiAgICB0aGlzLmlzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9kcmFnUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG4gIC8vIGtsdWRnZSB0byBibHVyIGZvY3VzZWQgaW5wdXRzIGluIGRyYWdnZXJcbiAgdmFyIGZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICBpZiAoIGZvY3VzZWQgJiYgZm9jdXNlZC5ibHVyICkge1xuICAgIGZvY3VzZWQuYmx1cigpO1xuICB9XG4gIC8vIGJpbmQgbW92ZSBhbmQgZW5kIGV2ZW50c1xuICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyBiYXNlIHBvaW50ZXIgZG93biBsb2dpY1xucHJvdG8uX2RyYWdQb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gdHJhY2sgdG8gc2VlIHdoZW4gZHJhZ2dpbmcgc3RhcnRzXG4gIHRoaXMucG9pbnRlckRvd25Qb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG5cbiAgdmFyIGNhblByZXZlbnREZWZhdWx0ID0gdGhpcy5jYW5QcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG4gIGlmICggY2FuUHJldmVudERlZmF1bHQgKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuLy8gb3ZlcndyaXRlYWJsZSBtZXRob2Qgc28gRmxpY2tpdHkgY2FuIHByZXZlbnQgZm9yIHNjcm9sbGluZ1xucHJvdG8uY2FuUHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyBwcmV2ZW50IGRlZmF1bHQsIHVubGVzcyB0b3VjaHN0YXJ0IG9yIDxzZWxlY3Q+XG4gIHJldHVybiBldmVudC50YXJnZXQubm9kZU5hbWUgIT0gJ1NFTEVDVCc7XG59O1xuXG4vLyAtLS0tLSBtb3ZlIGV2ZW50IC0tLS0tIC8vXG5cbi8qKlxuICogZHJhZyBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVWZWN0b3IgPSB0aGlzLl9kcmFnUG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlck1vdmUnLCBbIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yIF0gKTtcbiAgdGhpcy5fZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG4vLyBiYXNlIHBvaW50ZXIgbW92ZSBsb2dpY1xucHJvdG8uX2RyYWdQb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG4gIHZhciBtb3ZlVmVjdG9yID0ge1xuICAgIHg6IG1vdmVQb2ludC54IC0gdGhpcy5wb2ludGVyRG93blBvaW50LngsXG4gICAgeTogbW92ZVBvaW50LnkgLSB0aGlzLnBvaW50ZXJEb3duUG9pbnQueVxuICB9O1xuICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgJiYgdGhpcy5oYXNEcmFnU3RhcnRlZCggbW92ZVZlY3RvciApICkge1xuICAgIHRoaXMuX2RyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfVxuICByZXR1cm4gbW92ZVZlY3Rvcjtcbn07XG5cbi8vIGNvbmRpdGlvbiBpZiBwb2ludGVyIGhhcyBtb3ZlZCBmYXIgZW5vdWdoIHRvIHN0YXJ0IGRyYWdcbnByb3RvLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24oIG1vdmVWZWN0b3IgKSB7XG4gIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG59O1xuXG5cbi8vIC0tLS0tIGVuZCBldmVudCAtLS0tLSAvL1xuXG4vKipcbiAqIHBvaW50ZXIgdXBcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKi9cbnByb3RvLnBvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbiAgdGhpcy5fZHJhZ1BvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLl9kcmFnUG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICBpZiAoIHRoaXMuaXNEcmFnZ2luZyApIHtcbiAgICB0aGlzLl9kcmFnRW5kKCBldmVudCwgcG9pbnRlciApO1xuICB9IGVsc2Uge1xuICAgIC8vIHBvaW50ZXIgZGlkbid0IG1vdmUgZW5vdWdoIGZvciBkcmFnIHRvIHN0YXJ0XG4gICAgdGhpcy5fc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRyYWcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZHJhZ1N0YXJ0XG5wcm90by5fZHJhZ1N0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICB0aGlzLmRyYWdTdGFydFBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcbiAgLy8gcHJldmVudCBjbGlja3NcbiAgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgPSB0cnVlO1xuXG4gIHRoaXMuZHJhZ1N0YXJ0KCBldmVudCwgcG9pbnRlciApO1xufTtcblxucHJvdG8uZHJhZ1N0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdTdGFydCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gZHJhZ01vdmVcbnByb3RvLl9kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcbiAgLy8gZG8gbm90IGRyYWcgaWYgbm90IGRyYWdnaW5nIHlldFxuICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5kcmFnTW92ZSggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKTtcbn07XG5cbnByb3RvLmRyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG59O1xuXG4vLyBkcmFnRW5kXG5wcm90by5fZHJhZ0VuZCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gc2V0IGZsYWdzXG4gIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAvLyByZS1lbmFibGUgY2xpY2tpbmcgYXN5bmNcbiAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgZGVsZXRlIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzO1xuICB9LmJpbmQoIHRoaXMgKSApO1xuXG4gIHRoaXMuZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLmRyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAnZHJhZ0VuZCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gb25jbGljayAtLS0tLSAvL1xuXG4vLyBoYW5kbGUgYWxsIGNsaWNrcyBhbmQgcHJldmVudCBjbGlja3Mgd2hlbiBkcmFnZ2luZ1xucHJvdG8ub25jbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyApIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59O1xuXG4vLyAtLS0tLSBzdGF0aWNDbGljayAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyZWQgYWZ0ZXIgcG9pbnRlciBkb3duICYgdXAgd2l0aCBuby90aW55IG1vdmVtZW50XG5wcm90by5fc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGlnbm9yZSBlbXVsYXRlZCBtb3VzZSB1cCBjbGlja3NcbiAgaWYgKCB0aGlzLmlzSWdub3JpbmdNb3VzZVVwICYmIGV2ZW50LnR5cGUgPT0gJ21vdXNldXAnICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGFsbG93IGNsaWNrIGluIDxpbnB1dD5zIGFuZCA8dGV4dGFyZWE+c1xuICB2YXIgbm9kZU5hbWUgPSBldmVudC50YXJnZXQubm9kZU5hbWU7XG4gIGlmICggbm9kZU5hbWUgPT0gJ0lOUFVUJyB8fCBub2RlTmFtZSA9PSAnVEVYVEFSRUEnICkge1xuICAgIGV2ZW50LnRhcmdldC5mb2N1cygpO1xuICB9XG4gIHRoaXMuc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG5cbiAgLy8gc2V0IGZsYWcgZm9yIGVtdWxhdGVkIGNsaWNrcyAzMDBtcyBhZnRlciB0b3VjaGVuZFxuICBpZiAoIGV2ZW50LnR5cGUgIT0gJ21vdXNldXAnICkge1xuICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSB0cnVlO1xuICAgIC8vIHJlc2V0IGZsYWcgYWZ0ZXIgMzAwbXNcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmlzSWdub3JpbmdNb3VzZVVwO1xuICAgIH0uYmluZCggdGhpcyApLCA0MDAgKTtcbiAgfVxufTtcblxucHJvdG8uc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAnc3RhdGljQ2xpY2snLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIHV0aWxzIC0tLS0tIC8vXG5cblVuaWRyYWdnZXIuZ2V0UG9pbnRlclBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQ7XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gVW5pZHJhZ2dlcjtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi91bmlkcmFnZ2VyL3VuaWRyYWdnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogVW5pcG9pbnRlciB2Mi4xLjBcbiAqIGJhc2UgY2xhc3MgZm9yIGRvaW5nIG9uZSB0aGluZyB3aXRoIHBvaW50ZXIgZXZlbnRcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFsIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuVW5pcG9pbnRlciA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuRXZFbWl0dGVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBVbmlwb2ludGVyKCkge31cblxuLy8gaW5oZXJpdCBFdkVtaXR0ZXJcbnZhciBwcm90byA9IFVuaXBvaW50ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5wcm90by5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB0aGlzLl9iaW5kU3RhcnRFdmVudCggZWxlbSwgdHJ1ZSApO1xufTtcblxucHJvdG8udW5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB0aGlzLl9iaW5kU3RhcnRFdmVudCggZWxlbSwgZmFsc2UgKTtcbn07XG5cbi8qKlxuICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLl9iaW5kU3RhcnQoIGZhbHNlICkgdG8gdW5iaW5kXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluZCAtIHdpbGwgdW5iaW5kIGlmIGZhbHNleVxuICovXG5wcm90by5fYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgaXNCaW5kICkge1xuICAvLyBtdW5nZSBpc0JpbmQsIGRlZmF1bHQgdG8gdHJ1ZVxuICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcbiAgdmFyIGJpbmRNZXRob2QgPSBpc0JpbmQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cbiAgaWYgKCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuICAgIC8vIFczQyBQb2ludGVyIEV2ZW50cywgSUUxMS4gU2VlIGh0dHBzOi8vY29kZXJ3YWxsLmNvbS9wL21mcmVjYVxuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ3BvaW50ZXJkb3duJywgdGhpcyApO1xuICB9IGVsc2UgaWYgKCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG4gICAgLy8gSUUxMCBQb2ludGVyIEV2ZW50c1xuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ01TUG9pbnRlckRvd24nLCB0aGlzICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbGlzdGVuIGZvciBib3RoLCBmb3IgZGV2aWNlcyBsaWtlIENocm9tZSBQaXhlbFxuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ21vdXNlZG93bicsIHRoaXMgKTtcbiAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICd0b3VjaHN0YXJ0JywgdGhpcyApO1xuICB9XG59O1xuXG4vLyB0cmlnZ2VyIGhhbmRsZXIgbWV0aG9kcyBmb3IgZXZlbnRzXG5wcm90by5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG4vLyByZXR1cm5zIHRoZSB0b3VjaCB0aGF0IHdlJ3JlIGtlZXBpbmcgdHJhY2sgb2ZcbnByb3RvLmdldFRvdWNoID0gZnVuY3Rpb24oIHRvdWNoZXMgKSB7XG4gIGZvciAoIHZhciBpPTA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciB0b3VjaCA9IHRvdWNoZXNbaV07XG4gICAgaWYgKCB0b3VjaC5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgICByZXR1cm4gdG91Y2g7XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXG5wcm90by5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gZGlzbWlzcyBjbGlja3MgZnJvbSByaWdodCBvciBtaWRkbGUgYnV0dG9uc1xuICB2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICBpZiAoIGJ1dHRvbiAmJiAoIGJ1dHRvbiAhPT0gMCAmJiBidXR0b24gIT09IDEgKSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLl9wb2ludGVyRG93biggZXZlbnQsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdICk7XG59O1xuXG5wcm90by5vbk1TUG9pbnRlckRvd24gPVxucHJvdG8ub25wb2ludGVyZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxuLyoqXG4gKiBwb2ludGVyIHN0YXJ0XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5fcG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGRpc21pc3Mgb3RoZXIgcG9pbnRlcnNcbiAgaWYgKCB0aGlzLmlzUG9pbnRlckRvd24gKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5pc1BvaW50ZXJEb3duID0gdHJ1ZTtcbiAgLy8gc2F2ZSBwb2ludGVyIGlkZW50aWZpZXIgdG8gbWF0Y2ggdXAgdG91Y2ggZXZlbnRzXG4gIHRoaXMucG9pbnRlcklkZW50aWZpZXIgPSBwb2ludGVyLnBvaW50ZXJJZCAhPT0gdW5kZWZpbmVkID9cbiAgICAvLyBwb2ludGVySWQgZm9yIHBvaW50ZXIgZXZlbnRzLCB0b3VjaC5pbmRlbnRpZmllciBmb3IgdG91Y2ggZXZlbnRzXG4gICAgcG9pbnRlci5wb2ludGVySWQgOiBwb2ludGVyLmlkZW50aWZpZXI7XG5cbiAgdGhpcy5wb2ludGVyRG93biggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLnBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyBoYXNoIG9mIGV2ZW50cyB0byBiZSBib3VuZCBhZnRlciBzdGFydCBldmVudFxudmFyIHBvc3RTdGFydEV2ZW50cyA9IHtcbiAgbW91c2Vkb3duOiBbICdtb3VzZW1vdmUnLCAnbW91c2V1cCcgXSxcbiAgdG91Y2hzdGFydDogWyAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJyBdLFxuICBwb2ludGVyZG93bjogWyAncG9pbnRlcm1vdmUnLCAncG9pbnRlcnVwJywgJ3BvaW50ZXJjYW5jZWwnIF0sXG4gIE1TUG9pbnRlckRvd246IFsgJ01TUG9pbnRlck1vdmUnLCAnTVNQb2ludGVyVXAnLCAnTVNQb2ludGVyQ2FuY2VsJyBdXG59O1xuXG5wcm90by5fYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCAhZXZlbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGdldCBwcm9wZXIgZXZlbnRzIHRvIG1hdGNoIHN0YXJ0IGV2ZW50XG4gIHZhciBldmVudHMgPSBwb3N0U3RhcnRFdmVudHNbIGV2ZW50LnR5cGUgXTtcbiAgLy8gYmluZCBldmVudHMgdG8gbm9kZVxuICBldmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCB0aGlzICk7XG4gIH0sIHRoaXMgKTtcbiAgLy8gc2F2ZSB0aGVzZSBhcmd1bWVudHNcbiAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzID0gZXZlbnRzO1xufTtcblxucHJvdG8uX3VuYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBmb3IgX2JvdW5kRXZlbnRzLCBpbiBjYXNlIGRyYWdFbmQgdHJpZ2dlcmVkIHR3aWNlIChvbGQgSUU4IGJ1ZylcbiAgaWYgKCAhdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCB0aGlzICk7XG4gIH0sIHRoaXMgKTtcblxuICBkZWxldGUgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzO1xufTtcblxuLy8gLS0tLS0gbW92ZSBldmVudCAtLS0tLSAvL1xuXG5wcm90by5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25NU1BvaW50ZXJNb3ZlID1cbnByb3RvLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG5wcm90by5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICogQHByaXZhdGVcbiAqL1xucHJvdG8uX3BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLnBvaW50ZXJNb3ZlKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cblxucHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25NU1BvaW50ZXJVcCA9XG5wcm90by5vbnBvaW50ZXJ1cCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG5wcm90by5vbnRvdWNoZW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuICBpZiAoIHRvdWNoICkge1xuICAgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciB1cFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuX3BvaW50ZXJEb25lKCk7XG4gIHRoaXMucG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlclVwJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSBwb2ludGVyIGRvbmUgLS0tLS0gLy9cblxuLy8gdHJpZ2dlcmVkIG9uIHBvaW50ZXIgdXAgJiBwb2ludGVyIGNhbmNlbFxucHJvdG8uX3BvaW50ZXJEb25lID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJlc2V0IHByb3BlcnRpZXNcbiAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gIGRlbGV0ZSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyO1xuICAvLyByZW1vdmUgZXZlbnRzXG4gIHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpO1xuICB0aGlzLnBvaW50ZXJEb25lKCk7XG59O1xuXG5wcm90by5wb2ludGVyRG9uZSA9IG5vb3A7XG5cbi8vIC0tLS0tIHBvaW50ZXIgY2FuY2VsIC0tLS0tIC8vXG5cbnByb3RvLm9uTVNQb2ludGVyQ2FuY2VsID1cbnByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgdG91Y2ggKTtcbiAgfVxufTtcblxuLyoqXG4gKiBwb2ludGVyIGNhbmNlbFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB0aGlzLnBvaW50ZXJDYW5jZWwoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG4vLyBwdWJsaWNcbnByb3RvLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckNhbmNlbCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gZm9yIGdldHRpbmcgeC95IGNvb3JkcyBmcm9tIGV2ZW50XG5Vbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCA9IGZ1bmN0aW9uKCBwb2ludGVyICkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50ZXIucGFnZVgsXG4gICAgeTogcG9pbnRlci5wYWdlWVxuICB9O1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBVbmlwb2ludGVyO1xuXG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3VuaXBvaW50ZXIvdW5pcG9pbnRlci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMC4zXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpID0gMDtcbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgd2hpbGUgKCBsaXN0ZW5lciApIHtcbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAvLyBnZXQgbmV4dCBsaXN0ZW5lclxuICAgIGkgKz0gaXNPbmNlID8gMCA6IDE7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBpcy5qcyAwLjguMFxuLy8gQXV0aG9yOiBBcmFzIEF0YXNheWdpblxuXG4vLyBBTUQgd2l0aCBnbG9iYWwsIE5vZGUsIG9yIGdsb2JhbFxuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQWxzbyBjcmVhdGUgYSBnbG9iYWwgaW4gY2FzZSBzb21lIHNjcmlwdHNcbiAgICAgICAgICAgIC8vIHRoYXQgYXJlIGxvYWRlZCBzdGlsbCBhcmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIC8vIGEgZ2xvYmFsIGV2ZW4gd2hlbiBhbiBBTUQgbG9hZGVyIGlzIGluIHVzZS5cbiAgICAgICAgICAgIHJldHVybiAocm9vdC5pcyA9IGZhY3RvcnkoKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5pcyA9IGZhY3RvcnkoKTtcbiAgICB9XG59ICh0aGlzLCBmdW5jdGlvbigpIHtcblxuICAgIC8vIEJhc2VsaW5lXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIHZhciByb290ID0gdGhpcyB8fCBnbG9iYWw7XG4gICAgdmFyIHByZXZpb3VzSXMgPSByb290LmlzO1xuXG4gICAgLy8gZGVmaW5lICdpcycgb2JqZWN0IGFuZCBjdXJyZW50IHZlcnNpb25cbiAgICB2YXIgaXMgPSB7fTtcbiAgICBpcy5WRVJTSU9OID0gJzAuOC4wJztcblxuICAgIC8vIGRlZmluZSBpbnRlcmZhY2VzXG4gICAgaXMubm90ID0ge307XG4gICAgaXMuYWxsID0ge307XG4gICAgaXMuYW55ID0ge307XG5cbiAgICAvLyBjYWNoZSBzb21lIG1ldGhvZHMgdG8gY2FsbCBsYXRlciBvblxuICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgdmFyIGFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCByZXZlcnNlcyB0aGUgc2Vuc2Ugb2YgcHJlZGljYXRlIHJlc3VsdFxuICAgIGZ1bmN0aW9uIG5vdChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhZnVuYy5hcHBseShudWxsLCBhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uIHdoaWNoIGNhbGwgcHJlZGljYXRlIGZ1bmN0aW9uIHBlciBwYXJhbWV0ZXIgYW5kIHJldHVybiB0cnVlIGlmIGFsbCBwYXNzXG4gICAgZnVuY3Rpb24gYWxsKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmKGxlbmd0aCA9PT0gMSAmJiBpcy5hcnJheShwYXJhbWV0ZXJzWzBdKSkgeyAgICAvLyBzdXBwb3J0IGFycmF5XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnNbMF07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbnkgcGFzc1xuICAgIGZ1bmN0aW9uIGFueShmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICBpZihsZW5ndGggPT09IDEgJiYgaXMuYXJyYXkocGFyYW1ldGVyc1swXSkpIHsgICAgLy8gc3VwcG9ydCBhcnJheVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFR5cGUgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQXJndW1lbnRzP1xuICAgIGlzLmFyZ3VtZW50cyA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuICAgICAgICByZXR1cm4gaXMubm90Lm51bGwodmFsdWUpICYmICh0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXScgfHwgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ2NhbGxlZScgaW4gdmFsdWUpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBBcnJheT9cbiAgICBpcy5hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gY2hlY2sgbmF0aXZlIGlzQXJyYXkgZmlyc3RcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEJvb2xlYW4/XG4gICAgaXMuYm9vbGVhbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBEYXRlIE9iamVjdD9cbiAgICBpcy5kYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBEYXRlXSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgRXJyb3Igb2JqZWN0P1xuICAgIGlzLmVycm9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBFcnJvcl0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZ1bmN0aW9uP1xuICAgIGlzLmZ1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gZmFsbGJhY2sgY2hlY2sgaXMgZm9yIElFXG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgTmFOP1xuICAgIGlzLm5hbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIE5hTiBpcyBudW1iZXIgOikgQWxzbyBpdCBpcyB0aGUgb25seSB2YWx1ZSB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGZcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBudWxsP1xuICAgIGlzLm51bGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVtYmVyP1xuICAgIGlzLm51bWJlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5ub3QubmFuKHZhbHVlKSAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgb2JqZWN0P1xuICAgIGlzLm9iamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBpcyBnaXZlbiB2YWx1ZSBhIHB1cmUgSlNPTiBvYmplY3Q/XG4gICAgaXMuanNvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgUmVnRXhwP1xuICAgIGlzLnJlZ2V4cCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG4gICAgfTtcblxuICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgc2FtZSB0eXBlP1xuICAgIC8vIHByZXZlbnQgTmFOLCBOdW1iZXIgc2FtZSB0eXBlIGNoZWNrXG4gICAgaXMuc2FtZVR5cGUgPSBmdW5jdGlvbih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBpZihpcy5uYW4odmFsdWUxKSB8fCBpcy5uYW4odmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLm5hbih2YWx1ZTEpID09PSBpcy5uYW4odmFsdWUyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZTEpID09PSB0b1N0cmluZy5jYWxsKHZhbHVlMik7XG4gICAgfTtcbiAgICAvLyBzYW1lVHlwZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnNhbWVUeXBlLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIFN0cmluZz9cbiAgICBpcy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIENoYXI/XG4gICAgaXMuY2hhciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5zdHJpbmcodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB1bmRlZmluZWQ/XG4gICAgaXMudW5kZWZpbmVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDA7XG4gICAgfTtcblxuICAgIC8vIFByZXNlbmNlIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvL2lzIGEgZ2l2ZW4gdmFsdWUgZW1wdHk/IE9iamVjdHMsIGFycmF5cywgc3RyaW5nc1xuICAgIGlzLmVtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYoaXMub2JqZWN0KHZhbHVlKSl7XG4gICAgICAgICAgICB2YXIgbnVtID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmKG51bSA9PT0gMCB8fCAobnVtID09PSAxICYmIGlzLmFycmF5KHZhbHVlKSkgfHwgKG51bSA9PT0gMiAmJiBpcy5hcmd1bWVudHModmFsdWUpKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICcnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZXhpc3R5P1xuICAgIGlzLmV4aXN0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHRydXRoeT9cbiAgICBpcy50cnV0aHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMuZXhpc3R5KHZhbHVlKSAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgaXMubm90Lm5hbih2YWx1ZSkgJiYgdmFsdWUgIT09IFwiXCIgJiYgdmFsdWUgIT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZmFsc3k/XG4gICAgaXMuZmFsc3kgPSBub3QoaXMudHJ1dGh5KTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgc3BhY2U/XG4gICAgLy8gaG9yaXphbnRhbCB0YWI6IDksIGxpbmUgZmVlZDogMTAsIHZlcnRpY2FsIHRhYjogMTEsIGZvcm0gZmVlZDogMTIsIGNhcnJpYWdlIHJldHVybjogMTMsIHNwYWNlOiAzMlxuICAgIGlzLnNwYWNlID0gIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmKGlzLmNoYXIodmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgY2hhcmFjdGVyQ29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICByZXR1cm4gKGNoYXJhY3RlckNvZGUgPiAgOCAmJiBjaGFyYWN0ZXJDb2RlIDwgMTQpIHx8IGNoYXJhY3RlckNvZGUgPT09IDMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFyaXRobWV0aWMgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgZXF1YWw/IHN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MsIHJlZ2V4cHMsIGJvb2xlYW5zXG4gICAgLy8gVE9ETzogQWRkIG9iamVjdCBhbmQgYXJyYXkgc3VwcG9ydFxuICAgIGlzLmVxdWFsID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgLy8gY2hlY2sgMCBhbmQgLTAgZXF1aXR5IHdpdGggSW5maW5pdHkgYW5kIC1JbmZpbml0eVxuICAgICAgICBpZihpcy5hbGwubnVtYmVyKHZhbHVlMSwgdmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlMSA9PT0gdmFsdWUyICYmIDEgLyB2YWx1ZTEgPT09IDEgLyB2YWx1ZTI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgcmVnZXhwcyBhcyBzdHJpbmdzIHRvb1xuICAgICAgICBpZihpcy5hbGwuc3RyaW5nKHZhbHVlMSwgdmFsdWUyKSB8fCBpcy5hbGwucmVnZXhwKHZhbHVlMSwgdmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsdWUxID09PSAnJyArIHZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgICBpZihpcy5hbGwuYm9vbGVhbih2YWx1ZTEsIHZhbHVlMikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBlcXVhbCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLmVxdWFsLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBldmVuP1xuICAgIGlzLmV2ZW4gPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG9kZD9cbiAgICBpcy5vZGQgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDE7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHBvc2l0aXZlP1xuICAgIGlzLnBvc2l0aXZlID0gZnVuY3Rpb24obnVtYikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgPiAwO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBuZWdhdGl2ZT9cbiAgICBpcy5uZWdhdGl2ZSA9IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iIDwgMDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWluaW11bSBwYXJhbWV0ZXI/XG4gICAgaXMuYWJvdmUgPSBmdW5jdGlvbihudW1iLCBtaW4pIHtcbiAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWluKSAmJiBudW1iID4gbWluO1xuICAgIH07XG4gICAgLy8gYWJvdmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5hYm92ZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWF4aW11bSBwYXJhbWV0ZXI/XG4gICAgaXMudW5kZXIgPSBmdW5jdGlvbihudW1iLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWF4KSAmJiBudW1iIDwgbWF4O1xuICAgIH07XG4gICAgLy8gbGVhc3QgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy51bmRlci5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgd2l0aGluIG1pbmltdW0gYW5kIG1heGltdW0gcGFyYW1ldGVycz9cbiAgICBpcy53aXRoaW4gPSBmdW5jdGlvbihudW1iLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gaXMuYWxsLm51bWJlcihudW1iLCBtaW4sIG1heCkgJiYgbnVtYiA+IG1pbiAmJiBudW1iIDwgbWF4O1xuICAgIH07XG4gICAgLy8gd2l0aGluIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMud2l0aGluLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBkZWNpbWFsP1xuICAgIGlzLmRlY2ltYWwgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDEgIT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGludGVnZXI/XG4gICAgaXMuaW50ZWdlciA9IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iICUgMSA9PT0gMDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgZmluaXRlP1xuICAgIGlzLmZpbml0ZSA9IGlzRmluaXRlIHx8IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIG51bWIgIT09IEluZmluaXR5ICYmIG51bWIgIT09IC1JbmZpbml0eSAmJiBpcy5ub3QubmFuKG51bWIpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbmZpbml0ZT9cbiAgICBpcy5pbmZpbml0ZSA9IG5vdChpcy5maW5pdGUpO1xuXG4gICAgLy8gUmVnZXhwIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgLy8gU3RldmVuIExldml0aGFuLCBKYW4gR295dmFlcnRzOiBSZWd1bGFyIEV4cHJlc3Npb25zIENvb2tib29rXG4gICAgLy8gU2NvdHQgR29uemFsZXo6IEVtYWlsIGFkZHJlc3MgdmFsaWRhdGlvblxuXG4gICAgLy8gZXBwUGhvbmUgbWF0Y2ggZXh0ZW5zaWJsZSBwcm92aXNpb25pbmcgcHJvdG9jb2wgZm9ybWF0XG4gICAgLy8gbmFucFBob25lIG1hdGNoIG5vcnRoIGFtZXJpY2FuIG51bWJlciBwbGFuIGZvcm1hdFxuICAgIC8vIGRhdGVTdHJpbmcgbWF0Y2ggbS9kL3l5IGFuZCBtbS9kZC95eXl5LCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2Ygb25lIG9yIHR3byBkaWdpdHMgZm9yIHRoZSBkYXkgYW5kIG1vbnRoLCBhbmQgdHdvIG9yIGZvdXIgZGlnaXRzIGZvciB0aGUgeWVhclxuICAgIC8vIHRpbWUgbWF0Y2ggaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLCAyNC1ob3VyIGNsb2NrXG4gICAgdmFyIHJlZ2V4cHMgPSB7XG4gICAgICAgIHVybDogL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSg/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9cXFMqKT8kL2ksXG4gICAgICAgIGVtYWlsOiAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2ksXG4gICAgICAgIGNyZWRpdENhcmQ6IC9eKD86KDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pKSQvLFxuICAgICAgICBhbHBoYU51bWVyaWM6IC9eW0EtWmEtejAtOV0rJC8sXG4gICAgICAgIHRpbWVTdHJpbmc6IC9eKDJbMC0zXXxbMDFdP1swLTldKTooWzAtNV0/WzAtOV0pOihbMC01XT9bMC05XSkkLyxcbiAgICAgICAgZGF0ZVN0cmluZzogL14oMVswLTJdfDA/WzEtOV0pXFwvKDNbMDFdfFsxMl1bMC05XXwwP1sxLTldKVxcLyg/OlswLTldezJ9KT9bMC05XXsyfSQvLFxuICAgICAgICB1c1ppcENvZGU6IC9eWzAtOV17NX0oPzotWzAtOV17NH0pPyQvLFxuICAgICAgICBjYVBvc3RhbENvZGU6IC9eKD8hLipbREZJT1FVXSlbQS1WWFldWzAtOV1bQS1aXVxccz9bMC05XVtBLVpdWzAtOV0kLyxcbiAgICAgICAgdWtQb3N0Q29kZTogL15bQS1aXXsxLDJ9WzAtOVJDSE5RXVswLTlBLVpdP1xccz9bMC05XVtBQkQtSEpMTlAtVVctWl17Mn0kfF5bQS1aXXsyfS0/WzAtOV17NH0kLyxcbiAgICAgICAgbmFucFBob25lOiAvXlxcKD8oWzAtOV17M30pXFwpP1stLiBdPyhbMC05XXszfSlbLS4gXT8oWzAtOV17NH0pJC8sXG4gICAgICAgIGVwcFBob25lOiAvXlxcK1swLTldezEsM31cXC5bMC05XXs0LDE0fSg/OnguKyk/JC8sXG4gICAgICAgIHNvY2lhbFNlY3VyaXR5TnVtYmVyOiAvXig/ITAwMHw2NjYpWzAtOF1bMC05XXsyfS0oPyEwMClbMC05XXsyfS0oPyEwMDAwKVswLTldezR9JC8sXG4gICAgICAgIGFmZmlybWF0aXZlOiAvXig/OjF8dCg/OnJ1ZSk/fHkoPzplcyk/fG9rKD86YXkpPykkLyxcbiAgICAgICAgaGV4YWRlY2ltYWw6IC9eWzAtOWEtZkEtRl0rJC8sXG4gICAgICAgIGhleENvbG9yOiAvXiM/KFswLTlhLWZBLUZdezN9fFswLTlhLWZBLUZdezZ9KSQvLFxuICAgICAgICBpcHY0OiAvXig/Oig/OlxcZHxbMS05XVxcZHwxXFxkezJ9fDJbMC00XVxcZHwyNVswLTVdKVxcLil7M30oPzpcXGR8WzEtOV1cXGR8MVxcZHsyfXwyWzAtNF1cXGR8MjVbMC01XSkkLyxcbiAgICAgICAgaXB2NjogL14oKFthLXpBLVpdfFthLXpBLVpdW2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pXFwuKSooW0EtWmEtel18W0EtWmEtel1bQS1aYS16MC05XFwtXSpbQS1aYS16MC05XSkkfF5cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLFxuICAgICAgICBpcDogL14oKFswLTldfFsxLTldWzAtOV18MVswLTldezJ9fDJbMC00XVswLTldfDI1WzAtNV0pXFwuKXszfShbMC05XXxbMS05XVswLTldfDFbMC05XXsyfXwyWzAtNF1bMC05XXwyNVswLTVdKSR8XigoW2EtekEtWl18W2EtekEtWl1bYS16QS1aMC05XFwtXSpbYS16QS1aMC05XSlcXC4pKihbQS1aYS16XXxbQS1aYS16XVtBLVphLXowLTlcXC1dKltBLVphLXowLTldKSR8XlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC9cbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIHJlZ2V4cCBjaGVja3MgbWV0aG9kcyBmcm9tICdyZWdleHAnIG9iamVjdFxuICAgIGZvcih2YXIgcmVnZXhwIGluIHJlZ2V4cHMpIHtcbiAgICAgICAgaWYocmVnZXhwcy5oYXNPd25Qcm9wZXJ0eShyZWdleHApKSB7XG4gICAgICAgICAgICByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhwQ2hlY2socmVnZXhwLCByZWdleHBzKSB7XG4gICAgICAgIGlzW3JlZ2V4cF0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cHNbcmVnZXhwXS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTdHJpbmcgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGlzIGEgZ2l2ZW4gc3RyaW5nIGluY2x1ZGUgcGFyYW1ldGVyIHN1YnN0cmluZz9cbiAgICBpcy5pbmNsdWRlID0gZnVuY3Rpb24oc3RyLCBzdWJzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1YnN0cikgPiAtMTtcbiAgICB9O1xuICAgIC8vIGluY2x1ZGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbmNsdWRlLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBhbGwgdXBwZXJjYXNlP1xuICAgIGlzLnVwcGVyQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyID09PSBzdHIudG9VcHBlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgYWxsIGxvd2VyY2FzZT9cbiAgICBpcy5sb3dlckNhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIC8vIGlzIHN0cmluZyBzdGFydCB3aXRoIGEgZ2l2ZW4gc3RhcnRXaXRoIHBhcmFtZXRlcj9cbiAgICBpcy5zdGFydFdpdGggPSBmdW5jdGlvbihzdHIsIHN0YXJ0V2l0aCkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2Yoc3RhcnRXaXRoKSA9PT0gMDtcbiAgICB9O1xuICAgIC8vIHN0YXJ0V2l0aCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnN0YXJ0V2l0aC5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgc3RyaW5nIGVuZCB3aXRoIGEgZ2l2ZW4gZW5kV2l0aCBwYXJhbWV0ZXI/XG4gICAgaXMuZW5kV2l0aCA9IGZ1bmN0aW9uKHN0ciwgZW5kV2l0aCkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2YoZW5kV2l0aCkgPiAtMSAmJiBzdHIuaW5kZXhPZihlbmRXaXRoKSA9PT0gc3RyLmxlbmd0aCAtICBlbmRXaXRoLmxlbmd0aDtcbiAgICB9O1xuICAgIC8vIGVuZFdpdGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5lbmRXaXRoLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBvciBzZW50ZW5jZSBjYXBpdGFsaXplZD9cbiAgICBpcy5jYXBpdGFsaXplZCA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZihpcy5ub3Quc3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd29yZHMgPSBzdHIuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIGNhcGl0YWxpemVkID0gW107XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FwaXRhbGl6ZWQucHVzaCh3b3Jkc1tpXVswXSA9PT0gd29yZHNbaV1bMF0udG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzLmFsbC50cnV0aHkuYXBwbHkobnVsbCwgY2FwaXRhbGl6ZWQpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBwYWxpbmRyb21lP1xuICAgIGlzLnBhbGluZHJvbWUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PSBzdHIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9O1xuXG4gICAgLy8gVGltZSBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgdmFyIGRheXMgPSBbJ3N1bmRheScsICdtb25kYXknLCAndHVlc2RheScsICd3ZWRuZXNkYXknLCAndGh1cnNkYXknLCAnZnJpZGF5JywgJ3NhdHVyZGF5J107XG4gICAgdmFyIG1vbnRocyA9IFsnamFudWFyeScsICdmZWJydWFyeScsICdtYXJjaCcsICdhcHJpbCcsICdtYXknLCAnanVuZScsICdqdWx5JywgJ2F1Z3VzdCcsICdzZXB0ZW1iZXInLCAnb2N0b2JlcicsICdub3ZlbWJlcicsICdkZWNlbWJlciddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHRvZGF5P1xuICAgIGlzLnRvZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgdG9kYXlTdHJpbmcgPSBub3cudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b2RheVN0cmluZztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHllc3RlcmRheT9cbiAgICBpcy55ZXN0ZXJkYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciB5ZXN0ZXJkYXlTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSkpLnRvRGF0ZVN0cmluZygpO1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0geWVzdGVyZGF5U3RyaW5nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW5kaWNhdGUgdG9tb3Jyb3c/XG4gICAgaXMudG9tb3Jyb3cgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciB0b21vcnJvd1N0cmluZyA9IG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgKyAxKSkudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b21vcnJvd1N0cmluZztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIHBhc3Q/XG4gICAgaXMucGFzdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmouZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGZ1dHVyZT9cbiAgICBpcy5mdXR1cmUgPSBub3QoaXMucGFzdCk7XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIGRheSBlcXVhbCBnaXZlbiBkYXlTdHJpbmcgcGFyYW1ldGVyP1xuICAgIGlzLmRheSA9IGZ1bmN0aW9uKG9iaiwgZGF5U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgZGF5U3RyaW5nLnRvTG93ZXJDYXNlKCkgPT09IGRheXNbb2JqLmdldERheSgpXTtcbiAgICB9O1xuICAgIC8vIGRheSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLmRheS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBtb250aCBlcXVhbCBnaXZlbiBtb250aFN0cmluZyBwYXJhbWV0ZXI/XG4gICAgaXMubW9udGggPSBmdW5jdGlvbihvYmosIG1vbnRoU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgbW9udGhTdHJpbmcudG9Mb3dlckNhc2UoKSA9PT0gbW9udGhzW29iai5nZXRNb250aCgpXTtcbiAgICB9O1xuICAgIC8vIG1vbnRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMubW9udGguYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZXMgeWVhciBlcXVhbCBnaXZlbiB5ZWFyIHBhcmFtZXRlcj9cbiAgICBpcy55ZWFyID0gZnVuY3Rpb24ob2JqLCB5ZWFyKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHllYXIpICYmIHllYXIgPT09IG9iai5nZXRGdWxsWWVhcigpO1xuICAgIH07XG4gICAgLy8geWVhciBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnllYXIuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIHRoZSBnaXZlbiB5ZWFyIGEgbGVhcCB5ZWFyP1xuICAgIGlzLmxlYXBZZWFyID0gZnVuY3Rpb24oeWVhcikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKHllYXIpICYmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSB3ZWVrZW5kP1xuICAgIC8vIDY6IFNhdHVyZGF5LCAwOiBTdW5kYXlcbiAgICBpcy53ZWVrZW5kID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgKG9iai5nZXREYXkoKSA9PT0gNiB8fCBvYmouZ2V0RGF5KCkgPT09IDApO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgd2Vla2RheT9cbiAgICBpcy53ZWVrZGF5ID0gbm90KGlzLndlZWtlbmQpO1xuXG4gICAgLy8gaXMgZGF0ZSB3aXRoaW4gZ2l2ZW4gcmFuZ2U/XG4gICAgaXMuaW5EYXRlUmFuZ2UgPSBmdW5jdGlvbihvYmosIHN0YXJ0T2JqLCBlbmRPYmopIHtcbiAgICAgICAgaWYoaXMubm90LmRhdGUob2JqKSB8fCBpcy5ub3QuZGF0ZShzdGFydE9iaikgfHwgaXMubm90LmRhdGUoZW5kT2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnaXZlbkRhdGUgPSBvYmouZ2V0VGltZSgpO1xuICAgICAgICB2YXIgc3RhcnQgPSBzdGFydE9iai5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBlbmQgPSBlbmRPYmouZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gZ2l2ZW5EYXRlID4gc3RhcnQgJiYgZ2l2ZW5EYXRlIDwgZW5kO1xuICAgIH07XG4gICAgLy8gaW5EYXRlUmFuZ2UgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbkRhdGVSYW5nZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3Qgd2VlayByYW5nZT9cbiAgICBpcy5pbkxhc3RXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSwgbmV3IERhdGUoKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IG1vbnRoIHJhbmdlP1xuICAgIGlzLmluTGFzdE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgeWVhciByYW5nZT9cbiAgICBpcy5pbkxhc3RZZWFyID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgd2VlayByYW5nZT9cbiAgICBpcy5pbk5leHRXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDcpKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IG1vbnRoIHJhbmdlP1xuICAgIGlzLmluTmV4dE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSkpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgeWVhciByYW5nZT9cbiAgICBpcy5pbk5leHRZZWFyID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgMSkpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIHRoZSBwYXJhbWV0ZXIgcXVhcnRlcj9cbiAgICBpcy5xdWFydGVyT2ZZZWFyID0gZnVuY3Rpb24ob2JqLCBxdWFydGVyTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHF1YXJ0ZXJOdW1iZXIpICYmIHF1YXJ0ZXJOdW1iZXIgPT09IE1hdGguZmxvb3IoKG9iai5nZXRNb250aCgpICsgMykgLyAzKTtcbiAgICB9O1xuICAgIC8vIHF1YXJ0ZXJPZlllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5xdWFydGVyT2ZZZWFyLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gZGF5bGlnaHQgc2F2aW5nIHRpbWU/XG4gICAgaXMuZGF5TGlnaHRTYXZpbmdUaW1lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBqYW51YXJ5ID0gbmV3IERhdGUob2JqLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgICB2YXIganVseSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCA2LCAxKTtcbiAgICAgICAgdmFyIHN0ZFRpbWV6b25lT2Zmc2V0ID0gTWF0aC5tYXgoamFudWFyeS5nZXRUaW1lem9uZU9mZnNldCgpLCBqdWx5LmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgICAgICByZXR1cm4gb2JqLmdldFRpbWV6b25lT2Zmc2V0KCkgPCBzdGRUaW1lem9uZU9mZnNldDtcbiAgICB9O1xuXG4gICAgLy8gRW52aXJvbm1lbnQgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGNoZWNrIGlmIGxpYnJhcnkgaXMgdXNlZCBhcyBhIE5vZGUuanMgbW9kdWxlXG4gICAgaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgICAgICAvLyBzdG9yZSBuYXZpZ2F0b3IgcHJvcGVydGllcyB0byB1c2UgbGF0ZXJcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndXNlckFnZW50JyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgICB2YXIgdmVuZG9yID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICd2ZW5kb3InIGluIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudmVuZG9yLnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgICAgIHZhciBhcHBWZXJzaW9uID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICdhcHBWZXJzaW9uJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKSB8fCAnJztcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgY2hyb21lP1xuICAgICAgICBpcy5jaHJvbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvY2hyb21lfGNocm9taXVtL2kudGVzdCh1c2VyQWdlbnQpICYmIC9nb29nbGUgaW5jLy50ZXN0KHZlbmRvcik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNocm9tZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5jaHJvbWUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZmlyZWZveD9cbiAgICAgICAgaXMuZmlyZWZveCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBmaXJlZm94IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmZpcmVmb3guYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZWRnZT9cbiAgICAgICAgaXMuZWRnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9lZGdlL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBlZGdlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmVkZ2UuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgaW50ZXJuZXQgZXhwbG9yZXI/XG4gICAgICAgIC8vIHBhcmFtZXRlciBpcyBvcHRpb25hbFxuICAgICAgICBpcy5pZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgICAgICAgICAgIGlmKCF2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9tc2llL2kudGVzdCh1c2VyQWdlbnQpIHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZlcnNpb24gPj0gMTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ21zaWUgJyArIHZlcnNpb24pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuaWUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgb3BlcmE/XG4gICAgICAgIGlzLm9wZXJhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL15PcGVyYVxcLy8udGVzdCh1c2VyQWdlbnQpIHx8IC8vIE9wZXJhIDEyIGFuZCBvbGRlciB2ZXJzaW9uc1xuICAgICAgICAgICAgICAgIC9cXHgyME9QUlxcLy8udGVzdCh1c2VyQWdlbnQpOyAvLyBPcGVyYSAxNStcbiAgICAgICAgfTtcbiAgICAgICAgLy8gb3BlcmEgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMub3BlcmEuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgc2FmYXJpP1xuICAgICAgICBpcy5zYWZhcmkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvc2FmYXJpL2kudGVzdCh1c2VyQWdlbnQpICYmIC9hcHBsZSBjb21wdXRlci9pLnRlc3QodmVuZG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc2FmYXJpIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLnNhZmFyaS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlvcz9cbiAgICAgICAgaXMuaW9zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXMuaXBob25lKCkgfHwgaXMuaXBhZCgpIHx8IGlzLmlwb2QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaW9zIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlvcy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwaG9uZT9cbiAgICAgICAgaXMuaXBob25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2lwaG9uZS9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXBob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlwaG9uZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwYWQ/XG4gICAgICAgIGlzLmlwYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvaXBhZC9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXBhZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5pcGFkLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBvZD9cbiAgICAgICAgaXMuaXBvZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pcG9kL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBpcG9kIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlwb2QuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkP1xuICAgICAgICBpcy5hbmRyb2lkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGFuZHJvaWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuYW5kcm9pZC5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQgcGhvbmU/XG4gICAgICAgIGlzLmFuZHJvaWRQaG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpICYmIC9tb2JpbGUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGFuZHJvaWRQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5hbmRyb2lkUGhvbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHRhYmxldD9cbiAgICAgICAgaXMuYW5kcm9pZFRhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpICYmICEvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBhbmRyb2lkVGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmFuZHJvaWRUYWJsZXQuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBibGFja2JlcnJ5P1xuICAgICAgICBpcy5ibGFja2JlcnJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2JsYWNrYmVycnkvaS50ZXN0KHVzZXJBZ2VudCkgfHwgL0JCMTAvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGJsYWNrYmVycnkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuYmxhY2tiZXJyeS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGRlc2t0b3A/XG4gICAgICAgIGlzLmRlc2t0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy5ub3QubW9iaWxlKCkgJiYgaXMubm90LnRhYmxldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZXNrdG9wIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmRlc2t0b3AuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbGludXg/XG4gICAgICAgIGlzLmxpbnV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2xpbnV4L2kudGVzdChhcHBWZXJzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbGludXggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMubGludXguYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbWFjP1xuICAgICAgICBpcy5tYWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvbWFjL2kudGVzdChhcHBWZXJzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbWFjIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLm1hYy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSB3aW5kb3dzP1xuICAgICAgICBpcy53aW5kb3dzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL3dpbi9pLnRlc3QoYXBwVmVyc2lvbik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHdpbmRvd3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMud2luZG93cy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgcGhvbmU/XG4gICAgICAgIGlzLndpbmRvd3NQaG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiAvcGhvbmUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHdpbmRvd3NQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy53aW5kb3dzUGhvbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB3aW5kb3dzIHRhYmxldD9cbiAgICAgICAgaXMud2luZG93c1RhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiBpcy5ub3Qud2luZG93c1Bob25lKCkgJiYgL3RvdWNoL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB3aW5kb3dzVGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLndpbmRvd3NUYWJsZXQuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBtb2JpbGU/XG4gICAgICAgIGlzLm1vYmlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLmlwaG9uZSgpIHx8IGlzLmlwb2QoKSB8fCBpcy5hbmRyb2lkUGhvbmUoKSB8fCBpcy5ibGFja2JlcnJ5KCkgfHwgaXMud2luZG93c1Bob25lKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG1vYmlsZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5tb2JpbGUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB0YWJsZXQ/XG4gICAgICAgIGlzLnRhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLmlwYWQoKSB8fCBpcy5hbmRyb2lkVGFibGV0KCkgfHwgaXMud2luZG93c1RhYmxldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0YWJsZXQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMudGFibGV0LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBzdGF0ZSBvbmxpbmU/XG4gICAgICAgIGlzLm9ubGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG9ubGluZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5vbmxpbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IHN0YXRlIG9mZmxpbmU/XG4gICAgICAgIGlzLm9mZmxpbmUgPSBub3QoaXMub25saW5lKTtcbiAgICAgICAgLy8gb2ZmbGluZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5vZmZsaW5lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2Ugc3VwcG9ydHMgdG91Y2g/XG4gICAgICAgIGlzLnRvdWNoRGV2aWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8J0RvY3VtZW50VG91Y2gnIGluIHdpbmRvdyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRvdWNoRGV2aWNlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLnRvdWNoRGV2aWNlLmFwaSA9IFsnbm90J107XG4gICAgfVxuXG4gICAgLy8gT2JqZWN0IGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBoYXMgYSBnaXZlbiBvYmplY3QgZ290IHBhcmFtZXRlcml6ZWQgY291bnQgcHJvcGVydHk/XG4gICAgaXMucHJvcGVydHlDb3VudCA9IGZ1bmN0aW9uKG9iaiwgY291bnQpIHtcbiAgICAgICAgaWYoIWlzLm9iamVjdChvYmopIHx8ICFpcy5udW1iZXIoY291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgICAgICAgIHByb3BlcnR5O1xuICAgICAgICBmb3IocHJvcGVydHkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMubGVuZ3RoID09PSBjb3VudDtcbiAgICB9O1xuICAgIC8vIHByb3BlcnR5Q291bnQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5wcm9wZXJ0eUNvdW50LmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBnaXZlbiBvYmplY3QgaGFzIHBhcmFtZXRlcml6ZWQgcHJvcGVydHk/XG4gICAgaXMucHJvcGVydHlEZWZpbmVkID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gaXMub2JqZWN0KG9iaikgJiYgaXMuc3RyaW5nKHByb3BlcnR5KSAmJiBwcm9wZXJ0eSBpbiBvYmo7XG4gICAgfTtcbiAgICAvLyBwcm9wZXJ0eURlZmluZWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5wcm9wZXJ0eURlZmluZWQuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gb2JqZWN0IHdpbmRvdz9cbiAgICAvLyBzZXRJbnRlcnZhbCBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgZm9yIHdpbmRvdyBvYmplY3RcbiAgICBpcy53aW5kb3dPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdzZXRJbnRlcnZhbCcgaW4gb2JqO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG9iamVjdCBhIERPTSBub2RlP1xuICAgIGlzLmRvbU5vZGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIGlzLm9iamVjdChvYmopICYmIG9iai5ub2RlVHlwZSA+IDA7XG4gICAgfTtcblxuICAgIC8vIEFycmF5IGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBpcyBhIGdpdmVuIGl0ZW0gaW4gYW4gYXJyYXk/XG4gICAgaXMuaW5BcnJheSA9IGZ1bmN0aW9uKHZhbCwgYXJyKXtcbiAgICAgICAgaWYoaXMubm90LmFycmF5KGFycikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSB2YWwpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vIGluQXJyYXkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbkFycmF5LmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIGFycmF5IHNvcnRlZD9cbiAgICBpcy5zb3J0ZWQgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYoaXMubm90LmFycmF5KGFycikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZihhcnJbaV0gPiBhcnJbaSArIDFdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8vIEFQSVxuICAgIC8vIFNldCAnbm90JywgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXMgdG8gbWV0aG9kcyBiYXNlZCBvbiB0aGVpciBhcGkgcHJvcGVydHlcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJmYWNlcygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpcztcbiAgICAgICAgZm9yKHZhciBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIGlzLmZ1bmN0aW9uKG9wdGlvbnNbb3B0aW9uXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJmYWNlcyA9IG9wdGlvbnNbb3B0aW9uXS5hcGkgfHwgWydub3QnLCAnYWxsJywgJ2FueSddO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnbm90Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMubm90W29wdGlvbl0gPSBub3QoaXNbb3B0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzLmFsbFtvcHRpb25dID0gYWxsKGlzW29wdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcy5hbnlbb3B0aW9uXSA9IGFueShpc1tvcHRpb25dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRJbnRlcmZhY2VzKCk7XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgICAvLyBJbnRlbnRpb25hbGx5IGFkZGVkIGFmdGVyIHNldEludGVyZmFjZXMgZnVuY3Rpb25cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy8gc2V0IG9wdGlvbmFsIHJlZ2V4cHMgdG8gbWV0aG9kcyBpZiB5b3UgdGhpbmsgdGhleSBzdWNrXG4gICAgaXMuc2V0UmVnZXhwID0gZnVuY3Rpb24ocmVnZXhwLCByZWdleHBOYW1lKSB7XG4gICAgICAgIGZvcih2YXIgciBpbiByZWdleHBzKSB7XG4gICAgICAgICAgICBpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZ2V4cHMsIHIpICYmIChyZWdleHBOYW1lID09PSByKSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4cHNbcl0gPSByZWdleHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gY2hhbmdlIG5hbWVzcGFjZSBvZiBsaWJyYXJ5IHRvIHByZXZlbnQgbmFtZSBjb2xsaXNpb25zXG4gICAgLy8gdmFyIHByZWZlcnJlZE5hbWUgPSBpcy5zZXROYW1lc3BhY2UoKTtcbiAgICAvLyBwcmVmZXJyZWROYW1lLm9kZCgzKTtcbiAgICAvLyA9PiB0cnVlXG4gICAgaXMuc2V0TmFtZXNwYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJvb3QuaXMgPSBwcmV2aW91c0lzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIGlzO1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9pc19qcy9pcy5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbnZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcblx0aWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKTtcblx0fVxuXG5cdHJldHVybiB0b1N0ci5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG52YXIgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG5cdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgaGFzT3duQ29uc3RydWN0b3IgPSBoYXNPd24uY2FsbChvYmosICdjb25zdHJ1Y3RvcicpO1xuXHR2YXIgaGFzSXNQcm90b3R5cGVPZiA9IG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IucHJvdG90eXBlICYmIGhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG5cdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0aWYgKG9iai5jb25zdHJ1Y3RvciAmJiAhaGFzT3duQ29uc3RydWN0b3IgJiYgIWhhc0lzUHJvdG90eXBlT2YpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdHZhciBrZXk7XG5cdGZvciAoa2V5IGluIG9iaikgey8qKi99XG5cblx0cmV0dXJuIHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IGhhc093bi5jYWxsKG9iaiwga2V5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuXHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRpID0gMjtcblx0fSBlbHNlIGlmICgodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJykgfHwgdGFyZ2V0ID09IG51bGwpIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuXHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zW25hbWVdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKHRhcmdldCAhPT0gY29weSkge1xuXHRcdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoY29weUlzQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBleHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvcHkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBjb3B5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2V4dGVuZC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGNsb25lID0gKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmF0aXZlTWFwO1xudHJ5IHtcbiAgbmF0aXZlTWFwID0gTWFwO1xufSBjYXRjaChfKSB7XG4gIC8vIG1heWJlIGEgcmVmZXJlbmNlIGVycm9yIGJlY2F1c2Ugbm8gYE1hcGAuIEdpdmUgaXQgYSBkdW1teSB2YWx1ZSB0aGF0IG5vXG4gIC8vIHZhbHVlIHdpbGwgZXZlciBiZSBhbiBpbnN0YW5jZW9mLlxuICBuYXRpdmVNYXAgPSBmdW5jdGlvbigpIHt9O1xufVxuXG52YXIgbmF0aXZlU2V0O1xudHJ5IHtcbiAgbmF0aXZlU2V0ID0gU2V0O1xufSBjYXRjaChfKSB7XG4gIG5hdGl2ZVNldCA9IGZ1bmN0aW9uKCkge307XG59XG5cbnZhciBuYXRpdmVQcm9taXNlO1xudHJ5IHtcbiAgbmF0aXZlUHJvbWlzZSA9IFByb21pc2U7XG59IGNhdGNoKF8pIHtcbiAgbmF0aXZlUHJvbWlzZSA9IGZ1bmN0aW9uKCkge307XG59XG5cbi8qKlxuICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGRlZmF1bHQsIGJ1dCBpZiB5b3UgYXJlIGNlcnRhaW5cbiAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cbiAqXG4gKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuICogICAgY2lyY3VsYXIgcmVmZXJlbmNlcy4gKG9wdGlvbmFsIC0gdHJ1ZSBieSBkZWZhdWx0KVxuICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcbiAqIEBwYXJhbSBgcHJvdG90eXBlYCAtIHNldHMgdGhlIHByb3RvdHlwZSB0byBiZSB1c2VkIHdoZW4gY2xvbmluZyBhbiBvYmplY3QuXG4gKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cbiAqIEBwYXJhbSBgaW5jbHVkZU5vbkVudW1lcmFibGVgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAqICAgIHNob3VsZCBiZSBjbG9uZWQgYXMgd2VsbC4gTm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlXG4gKiAgICBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuIChvcHRpb25hbCAtIGZhbHNlIGJ5IGRlZmF1bHQpXG4qL1xuZnVuY3Rpb24gY2xvbmUocGFyZW50LCBjaXJjdWxhciwgZGVwdGgsIHByb3RvdHlwZSwgaW5jbHVkZU5vbkVudW1lcmFibGUpIHtcbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PT0gJ29iamVjdCcpIHtcbiAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuICAgIHByb3RvdHlwZSA9IGNpcmN1bGFyLnByb3RvdHlwZTtcbiAgICBpbmNsdWRlTm9uRW51bWVyYWJsZSA9IGNpcmN1bGFyLmluY2x1ZGVOb25FbnVtZXJhYmxlO1xuICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXI7XG4gIH1cbiAgLy8gbWFpbnRhaW4gdHdvIGFycmF5cyBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcywgd2hlcmUgY29ycmVzcG9uZGluZyBwYXJlbnRzXG4gIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG4gIHZhciBhbGxQYXJlbnRzID0gW107XG4gIHZhciBhbGxDaGlsZHJlbiA9IFtdO1xuXG4gIHZhciB1c2VCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9ICd1bmRlZmluZWQnO1xuXG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG4gICAgY2lyY3VsYXIgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG4gICAgZGVwdGggPSBJbmZpbml0eTtcblxuICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cbiAgZnVuY3Rpb24gX2Nsb25lKHBhcmVudCwgZGVwdGgpIHtcbiAgICAvLyBjbG9uaW5nIG51bGwgYWx3YXlzIHJldHVybnMgbnVsbFxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIGlmIChkZXB0aCA9PT0gMClcbiAgICAgIHJldHVybiBwYXJlbnQ7XG5cbiAgICB2YXIgY2hpbGQ7XG4gICAgdmFyIHByb3RvO1xuICAgIGlmICh0eXBlb2YgcGFyZW50ICE9ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcbiAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZU1hcCgpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlU2V0KSB7XG4gICAgICBjaGlsZCA9IG5ldyBuYXRpdmVTZXQoKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVByb21pc2UpIHtcbiAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBwYXJlbnQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJlc29sdmUoX2Nsb25lKHZhbHVlLCBkZXB0aCAtIDEpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KF9jbG9uZShlcnIsIGRlcHRoIC0gMSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gW107XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlTWFwKSB7XG4gICAgICB2YXIga2V5SXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuICAgICAgd2hpbGUodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IGtleUl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuICAgICAgICB2YXIgdmFsdWVDaGlsZCA9IF9jbG9uZShwYXJlbnQuZ2V0KG5leHQudmFsdWUpLCBkZXB0aCAtIDEpO1xuICAgICAgICBjaGlsZC5zZXQoa2V5Q2hpbGQsIHZhbHVlQ2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlU2V0KSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuICAgICAgd2hpbGUodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeUNoaWxkID0gX2Nsb25lKG5leHQudmFsdWUsIGRlcHRoIC0gMSk7XG4gICAgICAgIGNoaWxkLmFkZChlbnRyeUNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHBhcmVudCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gRG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBjbG9uaW5nIGEgc3ltYm9sIGJlY2F1c2UgaXQgaXMgYSBwcmltaXRpdmUsXG4gICAgICAgIC8vIGxpa2UgYSBudW1iZXIgb3Igc3RyaW5nLlxuICAgICAgICB2YXIgc3ltYm9sID0gc3ltYm9sc1tpXTtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudCwgc3ltYm9sKTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3IuZW51bWVyYWJsZSAmJiAhaW5jbHVkZU5vbkVudW1lcmFibGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZFtzeW1ib2xdID0gX2Nsb25lKHBhcmVudFtzeW1ib2xdLCBkZXB0aCAtIDEpO1xuICAgICAgICBpZiAoIWRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgc3ltYm9sLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG4gICAgICB2YXIgYWxsUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBhcmVudCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGFsbFByb3BlcnR5TmFtZXNbaV07XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkW3Byb3BlcnR5TmFtZV0gPSBfY2xvbmUocGFyZW50W3Byb3BlcnR5TmFtZV0sIGRlcHRoIC0gMSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG5cbiAgcmV0dXJuIF9jbG9uZShwYXJlbnQsIGRlcHRoKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuICogb3ZlcnJpZGUgb24gRkxBVCBjb25maWd1cmF0aW9uIG9iamVjdCAobm8gbmVzdGVkIHByb3BzKS5cbiAqXG4gKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuICogd29ya3MuXG4gKi9cbmNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG4gIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7fTtcbiAgYy5wcm90b3R5cGUgPSBwYXJlbnQ7XG4gIHJldHVybiBuZXcgYygpO1xufTtcblxuLy8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBfX29ialRvU3RyKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuY2xvbmUuX19pc0RhdGUgPSBfX2lzRGF0ZTtcblxuZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuY2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXG5mdW5jdGlvbiBfX2lzUmVnRXhwKG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufVxuY2xvbmUuX19nZXRSZWdFeHBGbGFncyA9IF9fZ2V0UmVnRXhwRmxhZ3M7XG5cbnJldHVybiBjbG9uZTtcbn0pKCk7XG5cbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jbG9uZS9jbG9uZS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9idWZmZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIHBsYWNlSG9sZGVyc0NvdW50IChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIHRoZSBudW1iZXIgb2YgZXF1YWwgc2lnbnMgKHBsYWNlIGhvbGRlcnMpXG4gIC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcbiAgLy8gcmVwcmVzZW50IG9uZSBieXRlXG4gIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lLCB0aGVuIHRoZSB0aHJlZSBjaGFyYWN0ZXJzIGJlZm9yZSBpdCByZXByZXNlbnQgMiBieXRlc1xuICAvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG4gIHJldHVybiBiNjRbbGVuIC0gMl0gPT09ICc9JyA/IDIgOiBiNjRbbGVuIC0gMV0gPT09ICc9JyA/IDEgOiAwXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICAvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbiAgcmV0dXJuIGI2NC5sZW5ndGggKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0NvdW50KGI2NClcbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBwbGFjZUhvbGRlcnMgPSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cbiAgYXJyID0gbmV3IEFycihsZW4gKiAzIC8gNCAtIHBsYWNlSG9sZGVycylcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gbGVuIC0gNCA6IGxlblxuXG4gIHZhciBMID0gMFxuXG4gIGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICsgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9ICh1aW50OFtpXSA8PCAxNikgKyAodWludDhbaSArIDFdIDw8IDgpICsgKHVpbnQ4W2kgKyAyXSlcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIG91dHB1dCA9ICcnXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXVxuICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdXG4gICAgb3V0cHV0ICs9ICc9PSdcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgKHVpbnQ4W2xlbiAtIDFdKVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDEwXVxuICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz0nXG4gIH1cblxuICBwYXJ0cy5wdXNoKG91dHB1dClcblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vYmFzZTY0LWpzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vaWVlZTc1NC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2lzYXJyYXkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcImJhclwiLFxuICAgIHN0YXRpY0NsYXNzOiBcImJhclwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5jbGlja1xuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidmFsdWVcIixcbiAgICBzdHlsZTogKHtcbiAgICAgIHdpZHRoOiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG4gICAgfSlcbiAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJ0aHVtYlwiLFxuICAgIHN0YXRpY0NsYXNzOiBcInRodW1iXCIsXG4gICAgc3R5bGU6ICh7XG4gICAgICBsZWZ0OiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG4gICAgfSlcbiAgfSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3JhbmdlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtN2Y1NmM3YTYhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtN2Y1NmM3YTYhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdGltZS1wYW5lbC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3RpbWUtcGFuZWwudnVlXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3RpbWUtcGFuZWwudnVlXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8c3BhbiBAY2xpY2s9XCJyZW1haW4gPSAhcmVtYWluXCI+XG4gICAgPHRlbXBsYXRlIHYtaWY9XCJyZW1haW5cIj5cbiAgICAgIC17eyhkdXJhdGlvbiAtIGN1cnJlbnRUaW1lKSB8IHRpbWV9fVxuICAgIDwvdGVtcGxhdGU+XG4gICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgIHt7Y3VycmVudFRpbWUgfCB0aW1lfX1cbiAgICA8L3RlbXBsYXRlPlxuICA8L3NwYW4+XG4gIC8ge3tkdXJhdGlvbiB8IHRpbWV9fVxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHt0aW1lc3RhbXAydGltZXN0cn0gZnJvbSAnLi91dGlscydcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbWFpbjogY2FjaGUudGltZVJlbWFpbixcbiAgICB9XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgZHVyYXRpb246IHtcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgICBjdXJyZW50VGltZToge1xuICAgICAgZGVmYXVsdDogMCxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICB9LFxuICB9LFxuICBmaWx0ZXJzOiB7XG4gICAgdGltZSh0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiB0aW1lc3RhbXAydGltZXN0cih0aW1lc3RhbXAsIHRydWUpXG4gICAgfSxcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICByZW1haW4odmFsKSB7XG4gICAgICBjYWNoZS50aW1lUmVtYWluID0gdmFsXG4gICAgfSxcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHRpbWUtcGFuZWwudnVlPzI2ZjQ0MzllIiwiaW1wb3J0IHtjYWNoZX0gZnJvbSAnLi91dGlscydcblxuY29uc3QgY2FjaGVNYXAgPSB7XG4gIGxyY0Zvcm1hdDoge30sXG4gIGx5cmljOiB7fSxcbiAgZWRpdGluZzoge1xuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgbHlyaWNBcnJheToge1xuICAgIGRlZmF1bHQ6IFtdXG4gIH0sXG4gIHRpbWVSZW1haW46IHtcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgfSxcbiAgdXNlck5hbWU6IHtcbiAgICBkZWZhdWx0OiAnJyxcbiAgfSxcbn1cblxudmFyIGNhY2hlT2JqID0ge31cbk9iamVjdC5rZXlzKGNhY2hlTWFwKS5mb3JFYWNoKChwcm9wKSA9PiB7XG4gIGxldCBjb25maWcgPSBjYWNoZU1hcFtwcm9wXVxuICBjYWNoZU9ialtwcm9wXSA9IGNhY2hlLmdldChjb25maWcubmFtZSB8fCBwcm9wLCBjb25maWcuZGVmYXVsdCB8fCAnJylcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQcm94eShjYWNoZU9iaiwge1xuICBzZXQ6IGZ1bmN0aW9uKG9iaiwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgbGV0IGNvbmZpZyA9IGNhY2hlTWFwW3Byb3BdXG4gICAgY2FjaGUuc2V0KGNvbmZpZy5uYW1lIHx8IHByb3AsIHZhbHVlKVxuICAgIG9ialtwcm9wXSA9IHZhbHVlXG4gICAgcmV0dXJuIHRydWVcbiAgfSxcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY2FjaGUuanMiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnc3BhbicsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLnJlbWFpbiA9ICFfdm0ucmVtYWluXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5yZW1haW4pID8gW1wiXFxuICAgIC1cIiArIF92bS5fcyhfdm0uX2YoXCJ0aW1lXCIpKChfdm0uZHVyYXRpb24gLSBfdm0uY3VycmVudFRpbWUpKSkgKyBcIlxcbiAgXCJdIDogW1wiXFxuICAgIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmN1cnJlbnRUaW1lKSkgKyBcIlxcbiAgXCJdLCBcIiBcIl0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvdGltZS1wYW5lbC52dWVcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgIHZhbHVlOiAoX3ZtLnNyYy5sZW5ndGgpLFxuICAgICAgZXhwcmVzc2lvbjogXCJzcmMubGVuZ3RoXCJcbiAgICB9XSxcbiAgICBzdGF0aWNDbGFzczogXCJyb290XCIsXG4gICAgY2xhc3M6IHtcbiAgICAgIG1vYmlsZTogX3ZtLmlzTW9iaWxlXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJtb3VzZW92ZXJcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5ob3ZlciA9IHRydWVcbiAgICAgIH0sXG4gICAgICBcIm1vdXNlbGVhdmVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5ob3ZlciA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwicGxheWVyXCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImN0cmwtYnRuXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogXCJbU1BBQ0VdXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0ucGF1c2VkID0gIV92bS5wYXVzZWRcbiAgICAgIH1cbiAgICB9XG4gIH0sIFsoX3ZtLnBhdXNlZCkgPyBfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbGF5XCJcbiAgfSkgOiBfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wYXVzZVwiXG4gIH0pLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltMRUZUXVwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRlbWl0KCdiYWNrd2FyZCcpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tYmFja3dhcmRcIlxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltSSUdIVF1cIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kZW1pdCgnZm9yd2FyZCcpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tZm9yd2FyZFwiXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ3JhbmdlJywge1xuICAgIHJlZjogXCJtdXNpY1JhbmdlXCIsXG4gICAgc3RhdGljQ2xhc3M6IFwicmFuZ2UgbXVzaWNcIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ2YWx1ZVwiOiBfdm0ucHJvY2Vzc1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwic2Vla1wiOiBfdm0uc2Vla1xuICAgIH1cbiAgfSksIFwiIFwiLCAoIV92bS5pc01vYmlsZSkgPyBfdm0uX2goJ3RpbWUtcGFuZWwnLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwiZHVyYXRpb25cIjogX3ZtLmR1cmF0aW9uLFxuICAgICAgXCJjdXJyZW50LXRpbWVcIjogX3ZtLmN1cnJlbnRUaW1lXG4gICAgfVxuICB9KSA6IF92bS5fZSgpXSksIFwiIFwiLCBfdm0uX2goJ3RyYW5zaXRpb24nLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwibmFtZVwiOiBcInBsYXllci1tb3JlXCJcbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgdmFsdWU6IChfdm0uaXNNb2JpbGUgfHwgX3ZtLmhvdmVyKSxcbiAgICAgIGV4cHJlc3Npb246IFwiaXNNb2JpbGUgfHwgaG92ZXJcIlxuICAgIH1dLFxuICAgIHN0YXRpY0NsYXNzOiBcIm1vcmVcIlxuICB9LCBbKF92bS5pc01vYmlsZSkgPyBfdm0uX2goJ3RpbWUtcGFuZWwnLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwiZHVyYXRpb25cIjogX3ZtLmR1cmF0aW9uLFxuICAgICAgXCJjdXJyZW50LXRpbWVcIjogX3ZtLmN1cnJlbnRUaW1lXG4gICAgfVxuICB9KSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwic291bmRcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLm11dGVkID0gIV92bS5tdXRlZFxuICAgICAgfVxuICAgIH1cbiAgfSwgWyhfdm0ubXV0ZWQgfHwgX3ZtLnZvbHVtZSA9PSAwKSA/IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXZvbHVtZS1vZmZcIlxuICB9KSA6IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXZvbHVtZS11cFwiXG4gIH0pLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdyYW5nZScsIHtcbiAgICByZWY6IFwic291bmRSYW5nZVwiLFxuICAgIHN0YXRpY0NsYXNzOiBcInJhbmdlIHZvbHVtZVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS52b2x1bWVcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcInNlZWtcIjogX3ZtLnZvbHVtZVNlZWssXG4gICAgICBcImRyYWctc2Vla1wiOiBfdm0udm9sdW1lU2Vla1xuICAgIH1cbiAgfSldKV0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3BsYXllci52dWVcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi0xY2FjZjUzZCF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0xY2FjZjUzZFwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9seXJpYy1lZGl0b3IudnVlXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9seXJpYy1lZGl0b3IudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwidWwubHlyaWNzW2RhdGEtdi0xY2FjZjUzZF17bGlzdC1zdHlsZS10eXBlOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQtY29sb3I6I2YxZjFmMX11bC5seXJpY3M+bGlbZGF0YS12LTFjYWNmNTNkXXttaW4taGVpZ2h0OjQwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzA0NGQ5ODtwYWRkaW5nOjEwcHggMH11bC5seXJpY3M+bGkuY3VyW2RhdGEtdi0xY2FjZjUzZF17Y29sb3I6IzA0NGQ5ODt0ZXh0LXNoYWRvdzoxcHggMXB4IDFweCAjYWFhO2JhY2tncm91bmQtY29sb3I6I2ZiZmJmYn11bC5seXJpY3M+bGk6aG92ZXIgLmNvbmNlYWxbZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5OmlubGluZS1ibG9ja311bC5seXJpY3M+bGkgLmNvbmNlYWxbZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5Om5vbmV9dWwubHlyaWNzPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzPmxpLnVuc29ydGVkW2RhdGEtdi0xY2FjZjUzZF17YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxfXVsLmx5cmljcz5saS5kaXZpc2lvbltkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTttaW4taGVpZ2h0OmF1dG87cGFkZGluZzoycHggMDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcn11bC5seXJpY3MuZWRpdGluZz5saVtkYXRhLXYtMWNhY2Y1M2Rde3BhZGRpbmc6MDtkaXNwbGF5OmZsZXh9dWwubHlyaWNzLmVkaXRpbmc+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NHB4IDB9dWwubHlyaWNzLmVkaXRpbmc+bGkgLnRpbWVzdGFtcFtkYXRhLXYtMWNhY2Y1M2Rde2NvbG9yOiM3YzlmYmI7d2lkdGg6NjBweDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzonLid9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmNvbnRlbnRbZGF0YS12LTFjYWNmNTNkXXtmbGV4OjF9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmljb24tYnRuW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZy1sZWZ0OjRweDtwYWRkaW5nLXJpZ2h0OjRweH11bC5seXJpY3MuZWRpdGluZz5saSAuY29udGVudFtkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC5pY29uLWJ0bltkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC50aW1lc3RhbXBbZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHh9dWwubHlyaWNzLmVkaXRpbmc+bGkgaW5wdXRbZGF0YS12LTFjYWNmNTNkXXt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNkMGRhZTR9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPHVsIHYtaWY9XCJlZGl0aW5nXCIgY2xhc3M9XCJlZGl0aW5nIGx5cmljc1wiPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIHJ1bm5lci5scmMubHlyaWNzXCJcbiAgICAgIDp0aXRsZT1cImx5cmljLnRpbWVzdGFtcFwiXG4gICAgICA6Y2xhc3M9XCJ7Y3VyOiBpID09IGluZGV4fVwiXG4gICAgICBAZGJsY2xpY2s9XCJlZGl0KGkpXCJcbiAgICAgIEBjb250ZXh0bWVudS5wcmV2ZW50PVwiZWRpdE1lbnUoaSlcIlxuICAgID5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiZWRpdGluZ0luZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwidGltZXN0YW1wXCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwibHlyaWMudGltZXN0YW1wXCIgQGtleWRvd24uZW50ZXI9XCJleGl0RWRpdFwiLz5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljLmNvbnRlbnRcIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lc3RhbXBcIj57e2x5cmljLnRpbWVzdGFtcCB8IHRpbWV9fTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPnt7bHlyaWMuY29udGVudH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wVGV4dChpKVwiPiAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUaW1lc3RhbXAoaSlcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiZWRpdChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXBsdXNcIj48L2k+IHt7ICR0KCdseXJpY19lZGl0b3IuYWRkJykgfX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIEBjbGljaz1cInJlbW92ZShpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L3RtZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9saT5cbiAgICA8bGkgdi1pZj1cImx5cmljQXJyYXkubGVuZ3RoXCIgY2xhc3M9XCJkaXZpc2lvblwiPnt7ICR0KCdseXJpY19lZGl0b3IuZm9sbG93aW5nX3Vuc29ydGVkJykgfX08L2xpPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIGx5cmljQXJyYXlcIlxuICAgICAgdHJhY2stYnk9XCJpXCJcbiAgICAgIGNsYXNzPVwidW5zb3J0ZWRcIlxuICAgICAgQGRibGNsaWNrPVwiZWRpdFRleHQoaSlcIlxuICAgICAgQGNvbnRleHRtZW51LnByZXZlbnQ9XCJlZGl0TWVudShpKVwiXG4gICAgPlxuICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nVGV4dEluZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljQXJyYXlbaV1cIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+e3tseXJpY319PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wKGkpXCI+ICAgICAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJlZGl0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmFkZCcpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUZXh0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXRyYXNoXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvdG1lbnU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L2xpPlxuICA8L3VsPlxuICA8dWwgdi1lbHNlIGNsYXNzPVwibHlyaWNzXCI+XG4gICAgPGxpXG4gICAgICB2LWZvcj1cIihseXJpYywgaSkgaW4gcnVubmVyLmxyYy5seXJpY3NcIlxuICAgICAgQGNsaWNrPVwicGxheXRvKGx5cmljLnRpbWVzdGFtcClcIlxuICAgICAgOnRpdGxlPVwibHlyaWMudGltZXN0YW1wXCJcbiAgICAgIDpjbGFzcz1cIntjdXI6IGkgPT0gaW5kZXh9XCJcbiAgICA+XG4gICAgICB7e2x5cmljLmNvbnRlbnR9fVxuICAgIDwvbGk+XG4gICAgPGxpIHYtaWY9XCJseXJpY0FycmF5Lmxlbmd0aFwiIGNsYXNzPVwiZGl2aXNpb25cIj57eyAkdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpIH19PC9saT5cbiAgICA8bGlcbiAgICAgIHYtZm9yPVwiKGx5cmljLCBpKSBpbiBseXJpY0FycmF5XCJcbiAgICAgIHRyYWNrLWJ5PVwiaVwiXG4gICAgICBjbGFzcz1cInVuc29ydGVkXCJcbiAgICA+XG4gICAgICB7e2x5cmljfX1cbiAgICA8L2xpPlxuICA8L3VsPlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxudWwubHlyaWNzIHtcbiAgJGRhcmstY29sb3I6ICNmMWYxZjE7XG4gICRsaWdodC1jb2xvcjogI2ZiZmJmYjtcbiAgJGZhY2UtY29sb3I6ICMwNDRkOTg7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGFyay1jb2xvcjtcbiAgPiBsaSB7XG4gICAgbWluLWhlaWdodDogNDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICMwNDRkOTg7XG4gICAgcGFkZGluZzogMTBweCAwO1xuICAgICYuY3VyIHtcbiAgICAgIGNvbG9yOiAjMDQ0ZDk4O1xuICAgICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNhYWE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbGlnaHQtY29sb3I7XG4gICAgfVxuICAgICY6aG92ZXIge1xuICAgICAgLmNvbmNlYWwge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG4gICAgfVxuICAgIC5jb25jZWFsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICYudW5zb3J0ZWQsXG4gICAgJi5kaXZpc2lvbixcbiAgICB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGFyay1jb2xvcjtcbiAgICB9XG4gICAgJi5kaXZpc2lvbiB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWluLWhlaWdodDogYXV0bztcbiAgICAgIHBhZGRpbmc6IDJweCAwO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgfVxuICAmLmVkaXRpbmcge1xuICAgID4gbGkge1xuICAgICAgcGFkZGluZzogMDtcblxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICYuZGl2aXNpb24ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZzogNHB4IDA7XG4gICAgICB9XG4gICAgICAudGltZXN0YW1wIHtcbiAgICAgICAgY29sb3I6ICM3QzlGQkI7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiAnLic7XG4gICAgICB9XG4gICAgICAuY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG4gICAgICAuaWNvbi1idG4ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDRweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogNHB4O1xuICAgICAgfVxuICAgICAgLnRpbWVzdGFtcCxcbiAgICAgIC5jb250ZW50LFxuICAgICAgLmljb24tYnRuLFxuICAgICAge1xuICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICB9XG4gICAgICBpbnB1dCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDBEQUU0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7UnVubmVyfSBmcm9tICdscmMta2l0J1xuaW1wb3J0IHtTY3JvbGxlciwgZ2xvYmFsS2V5ZG93biwgdGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSdcbmltcG9ydCBUbWVudSBmcm9tICcuL3RtZW51J1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiAtMSxcbiAgICAgIGVkaXRpbmdJbmRleDogLTEsXG4gICAgICBlZGl0aW5nVGV4dEluZGV4OiAtMSxcbiAgICAgIHNjcm9sbGVyOiBudWxsLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBydW5uZXI6IHtcbiAgICAgIHR5cGU6IFJ1bm5lcixcbiAgICAgIGRlZmF1bHQ6IG5ldyBSdW5uZXIoKSxcbiAgICB9LFxuICAgIHBsYXl0bzoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fSxcbiAgICB9LFxuICAgIGVkaXRpbmc6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBjYWNoZS5lZGl0aW5nLFxuICAgIH0sXG4gICAgbHlyaWNBcnJheToge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBbXSxcbiAgICB9LFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZWRpdE1lbnUoaW5kZXgpIHtcbiAgICAgIC8vIFRPRE9cbiAgICB9LFxuICAgIGV4aXRFZGl0KCkge1xuICAgICAgdGhpcy5lZGl0aW5nSW5kZXggPSAtMVxuICAgICAgdGhpcy5lZGl0aW5nVGV4dEluZGV4ID0gLTFcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBlZGl0KGluZGV4KSB7XG4gICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IGluZGV4XG4gICAgfSxcbiAgICBlZGl0VGV4dChpbmRleCkge1xuICAgICAgdGhpcy5lZGl0aW5nVGV4dEluZGV4ID0gaW5kZXhcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3Muc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICB9LFxuICAgIHJlbW92ZVRleHQoaW5kZXgpIHtcbiAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgaW5zZXJ0KGluZGV4KSB7XG4gICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnNwbGljZShpbmRleCsxLCAwLCB7XG4gICAgICAgIHRpbWVzdGFtcDogdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wLFxuICAgICAgICBjb250ZW50OiB0aGlzLnJ1bm5lci5scmMubHlyaWNzW2luZGV4XS5jb250ZW50LFxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBpbnNlcnRUZXh0KGluZGV4KSB7XG4gICAgICB0aGlzLmx5cmljQXJyYXkuc3BsaWNlKGluZGV4KzEsIDAsIHRoaXMubHlyaWNBcnJheVtpbmRleF0pXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgcmVtb3ZlVGltZXN0YW1wKGluZGV4KSB7XG4gICAgICB2YXIgbHlyaWNzID0gdGhpcy5ydW5uZXIubHJjLmx5cmljc1xuICAgICAgdmFyIHJlbW92ZUx5cmljcyA9IGx5cmljc1xuICAgICAgLnNwbGljZShpbmRleCwgbHlyaWNzLmxlbmd0aCAtIGluZGV4KVxuICAgICAgLm1hcCgobHlyaWMpID0+IHsgcmV0dXJuIGx5cmljLmNvbnRlbnQgfSlcbiAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoMCwgMCwgLi4ucmVtb3ZlTHlyaWNzKVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICB9LFxuICAgIHNldFRpbWVzdGFtcChpbmRleCkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy4kcGFyZW50LiRyZWZzLnBsYXllci5jdXJyZW50VGltZVxuICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCA9IGN1cnJlbnRUaW1lXG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUaW1lc3RhbXBUZXh0KGluZGV4KSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lXG4gICAgICBpZiAoY3VycmVudFRpbWUgIT09IDAgJiYgdGhpcy5seXJpY0FycmF5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnB1c2goe1xuICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudFRpbWUsXG4gICAgICAgICAgY29udGVudDogdGhpcy5seXJpY0FycmF5W2luZGV4XSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZW1vdmVUZXh0KGluZGV4KVxuICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgICAgfVxuICAgIH0sXG4gICAgc2Nyb2xsVG9DdXJyZW50THlyaWMoZm9yY2U9ZmFsc2UpIHtcbiAgICAgIHZhciByb290ID0gdGhpcy4kZWxcbiAgICAgIHZhciBjdXIgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jdXInKVxuICAgICAgaWYgKGN1cikge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5jbGllbnRIZWlnaHRcbiAgICAgICAgdmFyIHRvcCA9IGN1ci5vZmZzZXRUb3AgLSBoZWlnaHQgLyAyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8odG9wLCBmb3JjZSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBmaWx0ZXJzOiB7XG4gICAgdGltZTogdGltZXN0YW1wMnRpbWVzdHIsXG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy4kb24oJ3RpbWV1cGRhdGUnLCAodGltZXN0YW1wKSA9PiB7XG4gICAgICB0aGlzLnJ1bm5lci50aW1lVXBkYXRlKHRpbWVzdGFtcClcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnJ1bm5lci5jdXJJbmRleCgpXG4gICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudEx5cmljKClcbiAgICB9KS4kb24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICAgIHRoaXMucnVubmVyLmxyY1VwZGF0ZSgpXG4gICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMucnVubmVyLmxyYy50b1N0cmluZygpXG4gICAgICAkQXBwLmx5cmljQXJyYXkgPSB0aGlzLmx5cmljQXJyYXlcbiAgICB9KS4kb24oJ3ByZXZseXJpYycsICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlVGltZXN0YW1wKHRoaXMucnVubmVyLmxyYy5seXJpY3MubGVuZ3RoIC0gMSlcbiAgICB9KS4kb24oJ25leHRseXJpYycsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0VGltZXN0YW1wVGV4dCgwKVxuICAgIH0pXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zY3JvbGxlciA9IG5ldyBTY3JvbGxlcih0aGlzLiRlbClcblxuICAgIGdsb2JhbEtleWRvd25cbiAgICAub24oWydlbnRlcicsICdlc2NhcGUnXSwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2Fycm93dXAnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3ByZXZseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdhcnJvd2Rvd24nLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ25leHRseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZWRpdGluZygpIHtcbiAgICAgIGlmICghIHRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgVG1lbnUsXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBseXJpYy1lZGl0b3IudnVlPzYxOWVmYWNmIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5SdW5uZXIgPSBleHBvcnRzLkxyYyA9IGV4cG9ydHMuTGluZVBhcnNlciA9IHVuZGVmaW5lZDtcblxudmFyIF9saW5lUGFyc2VyID0gcmVxdWlyZSgnLi9saW5lLXBhcnNlcicpO1xuXG52YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9ydW5uZXIgPSByZXF1aXJlKCcuL3J1bm5lcicpO1xuXG52YXIgX3J1bm5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5uZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLkxpbmVQYXJzZXIgPSBfbGluZVBhcnNlcjIuZGVmYXVsdDtcbmV4cG9ydHMuTHJjID0gX2xyYzIuZGVmYXVsdDtcbmV4cG9ydHMuUnVubmVyID0gX3J1bm5lcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2xyYy1raXQvbGliL2xyYy1raXQuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTGluZVBhcnNlciA9IGZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIG51bGwsIFt7XG4gICAga2V5OiAncGFyc2VUYWdzJyxcblxuICAgIC8vIG1hdGNoIGBbdGk6IFRoZSBUaXRsZV1gXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlVGFncyhsaW5lKSB7XG4gICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5UQUdTX1JFR0VYUC5leGVjKGxpbmUpO1xuICAgICAgdmFyIHRhZyA9IG1hdGNoc1swXTtcbiAgICAgIHZhciBjb250ZW50ID0gbGluZS5zdWJzdHIodGFnLmxlbmd0aCk7XG4gICAgICByZXR1cm4gW3RhZy5zbGljZSgxLCAtMSkuc3BsaXQoL1xcXVxccypcXFsvKSwgY29udGVudF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGluZSBwYXJzZSBscmMgb2YgdGltZXN0YW1wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignW3RpOiBTb25nIHRpdGxlXScpXG4gICAgICogbHAudHlwZSA9PT0gTGluZVBhcnNlci5UWVBFLklORk9cbiAgICAgKiBscC5rZXkgPT09ICd0aSdcbiAgICAgKiBscC52YWx1ZSA9PT0gJ1NvbmcgdGl0bGUnXG4gICAgICpcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignWzEwOjEwLjEwXWhlbGxvJylcbiAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuVElNRVxuICAgICAqIGxwLnRpbWVzdGFtcHMgPT09IFsxMCo2MCsxMC4xMF1cbiAgICAgKiBscC5jb250ZW50ID09PSAnaGVsbG8nXG4gICAgICogQGNvbnN0cnVjdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZVxuICAgICAqL1xuXG4gICAgLy8gbWF0Y2ggYFs1MTI6MzQuMV0gbHlyaWMgY29udGVudGBcblxuICAgIC8vIG1hdGNoIGBbMTI6MzAuMV1bMTI6MzAuMl1gXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIExpbmVQYXJzZXIobGluZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lUGFyc2VyKTtcblxuICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfTGluZVBhcnNlciRwYXJzZVRhZ3MgPSBMaW5lUGFyc2VyLnBhcnNlVGFncyhsaW5lKTtcblxuICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFnczIgPSBfc2xpY2VkVG9BcnJheShfTGluZVBhcnNlciRwYXJzZVRhZ3MsIDIpO1xuXG4gICAgICB2YXIgdGFncyA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMF07XG4gICAgICB2YXIgY29udGVudCA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMV07XG5cbiAgICAgIGlmIChMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcbiAgICAgICAgdGhpcy5wYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoTGluZVBhcnNlci5JTkZPX1JFR0VYUC50ZXN0KHRhZ3NbMF0pKSB7XG4gICAgICAgIHRoaXMucGFyc2VBc0luZm8odGFnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGluZVBhcnNlciwgW3tcbiAgICBrZXk6ICdwYXJzZUFzVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNUaW1lKHRhZ3MsIGNvbnRlbnQpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBzID0gW107XG4gICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5USU1FX1JFR0VYUC5leGVjKHRhZyk7XG4gICAgICAgIHZhciBtaW51dGVzID0gcGFyc2VGbG9hdChtYXRjaHNbMV0pO1xuICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzJdLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoJzonLCAnLicpKTtcbiAgICAgICAgdGltZXN0YW1wcy5wdXNoKG1pbnV0ZXMgKiA2MCArIHNlY29uZHMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzO1xuICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudC50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuVElNRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZUFzSW5mbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNJbmZvKHRhZykge1xuICAgICAgdmFyIG1hdGNocyA9IExpbmVQYXJzZXIuSU5GT19SRUdFWFAuZXhlYyh0YWcpO1xuICAgICAgdGhpcy5rZXkgPSBtYXRjaHNbMV0udHJpbSgpO1xuICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoc1syXS50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5GTztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGluZVBhcnNlcjtcbn0oKTtcblxuTGluZVBhcnNlci5UQUdTX1JFR0VYUCA9IC9eKFxcWy4rXFxdKSsvO1xuTGluZVBhcnNlci5JTkZPX1JFR0VYUCA9IC9eXFxzKihcXHcrKVxccyo6KC4qKSQvO1xuTGluZVBhcnNlci5USU1FX1JFR0VYUCA9IC9eXFxzKihcXGQrKVxccyo6XFxzKihcXGQrKFxccypbXFwuOl1cXHMqXFxkKyk/KVxccyokLztcbkxpbmVQYXJzZXIuVFlQRSA9IHtcbiAgSU5WQUxJRDogMCxcbiAgSU5GTzogMSxcbiAgVElNRTogMlxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IExpbmVQYXJzZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2lzX2pzID0gcmVxdWlyZSgnaXNfanMnKTtcblxudmFyIF9pc19qczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc19qcyk7XG5cbnZhciBfbGluZVBhcnNlciA9IHJlcXVpcmUoJy4vbGluZS1wYXJzZXInKTtcblxudmFyIF9saW5lUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmVQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTHJjID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMcmMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExyYyk7XG5cbiAgICB0aGlzLmluZm8gPSB7fTtcbiAgICB0aGlzLmx5cmljcyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExyYywgW3tcbiAgICBrZXk6ICdvZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZzZXQob2Zmc2V0VGltZSkge1xuICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgbHlyaWMudGltZXN0YW1wICs9IG9mZnNldFRpbWU7XG4gICAgICAgIGlmIChseXJpYy50aW1lc3RhbXAgPCAwKSB7XG4gICAgICAgICAgbHlyaWMudGltZXN0YW1wID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IGxyYyB0ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5jb21iaW5lIGx5cmljcyBjb21iaW5lIGJ5IHNhbWUgY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5zb3J0IGx5cmljcyBzb3J0IGJ5IHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxpbmVGb3JtYXQgbmV3bGluZSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBvcHRzLmNvbWJpbmUgPSAnY29tYmluZScgaW4gb3B0cyA/IG9wdHMuY29tYmluZSA6IHRydWU7XG4gICAgICBvcHRzLmxpbmVGb3JtYXQgPSAnbGluZUZvcm1hdCcgaW4gb3B0cyA/IG9wdHMubGluZUZvcm1hdCA6ICdcXHJcXG4nO1xuICAgICAgb3B0cy5zb3J0ID0gJ3NvcnQnIGluIG9wdHMgPyBvcHRzLnNvcnQgOiB0cnVlO1xuICAgICAgdmFyIGxpbmVzID0gW10sXG4gICAgICAgICAgbHlyaWNzTWFwID0ge30sXG4gICAgICAgICAgbHlyaWNzTGlzdCA9IFtdO1xuXG4gICAgICAvLyBnZW5lcmF0ZSBpbmZvXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG4gICAgICAgIGxpbmVzLnB1c2goJ1snICsga2V5ICsgJzonICsgdGhpcy5pbmZvW2tleV0gKyAnXScpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5jb21iaW5lKSB7XG4gICAgICAgIC8vIHVuaXF1ZW5lc3NcbiAgICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBpZiAobHlyaWMuY29udGVudCBpbiBseXJpY3NNYXApIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XS5wdXNoKGx5cmljLnRpbWVzdGFtcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XSA9IFtseXJpYy50aW1lc3RhbXBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNvcnRlZFxuICAgICAgICBmb3IgKHZhciBjb250ZW50IGluIGx5cmljc01hcCkge1xuICAgICAgICAgIGlmIChvcHRzLnNvcnQpIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtjb250ZW50XS5zb3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGx5cmljc0xpc3QucHVzaCh7XG4gICAgICAgICAgICB0aW1lc3RhbXBzOiBseXJpY3NNYXBbY29udGVudF0sXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG4gICAgICAgICAgbHlyaWNzTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXBzWzBdIC0gYi50aW1lc3RhbXBzWzBdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgbHlyaWNzXG4gICAgICAgIGx5cmljc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBsaW5lcy5wdXNoKCdbJyArIGx5cmljLnRpbWVzdGFtcHMubWFwKGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBMcmMudGltZXN0YW1wVG9TdHJpbmcodGltZXN0YW1wKTtcbiAgICAgICAgICB9KS5qb2luKCddWycpICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmx5cmljcy5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuICAgICAgICAgIGxpbmVzLnB1c2goJ1snICsgTHJjLnRpbWVzdGFtcFRvU3RyaW5nKGx5cmljLnRpbWVzdGFtcCkgKyAnXScgKyAobHlyaWMuY29udGVudCB8fCAnJykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4ob3B0cy5saW5lRm9ybWF0KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ3BhcnNlJyxcblxuXG4gICAgLyoqXG4gICAgICogcGFyc2UgbHJjIHRleHQgYW5kIHJldHVybiBhIExyYyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm4ge0xyY31cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICAgICAgdmFyIGx5cmljcyA9IFtdO1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIHRleHQuc3BsaXQoL1xcclxcbnxbXFxuXFxyXS9nKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfbGluZVBhcnNlcjIuZGVmYXVsdChsaW5lKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgc3dpdGNoIChsaW5lLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuSU5GTzpcbiAgICAgICAgICAgIGluZm9bbGluZS5rZXldID0gbGluZS52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgX2xpbmVQYXJzZXIyLmRlZmF1bHQuVFlQRS5USU1FOlxuICAgICAgICAgICAgbGluZS50aW1lc3RhbXBzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBseXJpY3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgY29udGVudDogbGluZS5jb250ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGxyYyA9IG5ldyB0aGlzKCk7XG4gICAgICBscmMubHlyaWNzID0gbHlyaWNzO1xuICAgICAgbHJjLmluZm8gPSBpbmZvO1xuICAgICAgcmV0dXJuIGxyYztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja0x5cmljT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tMeXJpY09iamVjdChseXJpYykge1xuICAgICAgcmV0dXJuIF9pc19qczIuZGVmYXVsdC5vYmplY3QobHlyaWMpICYmICd0aW1lc3RhbXAnIGluIGx5cmljICYmIF9pc19qczIuZGVmYXVsdC5udW1iZXIobHlyaWMudGltZXN0YW1wKSAmJiAnY29udGVudCcgaW4gbHlyaWMgJiYgX2lzX2pzMi5kZWZhdWx0LnN0cmluZyhseXJpYy5jb250ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYWRaZXJvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFkWmVybyhudW0pIHtcbiAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKF9pc19qczIuZGVmYXVsdC5udW1iZXIobnVtKSkge1xuICAgICAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSB7XG4gICAgICAgIG51bSA9ICcwJyArIG51bTtcbiAgICAgIH1yZXR1cm4gbnVtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBscmMgdGltZSBzdHJpbmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIExyYy50aW1lc3RhbXBUb1N0cmluZygxNDMuNTQpXG4gICAgICogLy8gcmV0dXJuICcwMjoyMy41NCc6XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCBzZWNvbmQgdGltZXN0YW1wXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0aW1lc3RhbXBUb1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFkWmVybyhwYXJzZUludCh0aW1lc3RhbXAgLyA2MCkpICsgJzonICsgdGhpcy5wYWRaZXJvKCh0aW1lc3RhbXAgJSA2MCkudG9GaXhlZCgyKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExyYztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTHJjO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvbHJjLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9jbG9uZSA9IHJlcXVpcmUoJ2Nsb25lJyk7XG5cbnZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUnVubmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtMcmN9IGxyY1xuICAgKi9cblxuICBmdW5jdGlvbiBSdW5uZXIoKSB7XG4gICAgdmFyIGxyYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5ldyBfbHJjMi5kZWZhdWx0KCkgOiBhcmd1bWVudHNbMF07XG4gICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVubmVyKTtcblxuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuICAgIHRoaXMuc2V0THJjKGxyYyk7XG4gIH1cblxuICAvKipcbiAgICogIEBwYXJhbSB7THJjfSBscmNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUnVubmVyLCBbe1xuICAgIGtleTogJ3NldExyYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExyYyhscmMpIHtcbiAgICAgIHRoaXMubHJjID0gKDAsIF9jbG9uZTIuZGVmYXVsdCkobHJjKTtcbiAgICAgIHRoaXMubHJjVXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbHJjVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbHJjVXBkYXRlKCkge1xuICAgICAgaWYgKHRoaXMub2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuX29mZnNldEFsaWduKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zb3J0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX29mZnNldEFsaWduJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29mZnNldEFsaWduKCkge1xuICAgICAgaWYgKCdvZmZzZXQnIGluIHRoaXMubHJjLmluZm8pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMubHJjLmluZm8ub2Zmc2V0KSAvIDEwMDA7XG4gICAgICAgIGlmICghaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICAgIHRoaXMubHJjLm9mZnNldChvZmZzZXQpO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmxyYy5pbmZvLm9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19zb3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoKSB7XG4gICAgICB0aGlzLmxyYy5seXJpY3Muc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RpbWVVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKHRpbWVzdGFtcCkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA+PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCAtMSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHRoaXMuX2N1cnJlbnRJbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2ZpbmRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4KSB7XG4gICAgICB2YXIgY3VyRnJvbnRUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IC0xID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXhdLnRpbWVzdGFtcDtcblxuICAgICAgdmFyIGN1ckJhY2tUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXggKyAxXS50aW1lc3RhbXA7XG5cbiAgICAgIGlmICh0aW1lc3RhbXAgPCBjdXJGcm9udFRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluZEluZGV4KHRpbWVzdGFtcCwgc3RhcnRJbmRleCAtIDEpO1xuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPT09IGN1ckJhY2tUaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGN1ckJhY2tUaW1lc3RhbXAgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPiBjdXJCYWNrVGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4ICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5mbygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5pbmZvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEx5cmljcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5seXJpY3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEByZXR1cm4ge09iamVjdH0geycnfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMeXJpYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljKCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jdXJJbmRleCgpIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5scmMubHlyaWNzW2luZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggbm90IGV4aXN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VySW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VyTHlyaWMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJMeXJpYygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEx5cmljKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJ1bm5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUnVubmVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2xvbmUgPSAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGRlZmF1bHQsIGJ1dCBpZiB5b3UgYXJlIGNlcnRhaW5cbiAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cbiAqXG4gKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuICogICAgY2lyY3VsYXIgcmVmZXJlbmNlcy4gKG9wdGlvbmFsIC0gdHJ1ZSBieSBkZWZhdWx0KVxuICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcbiAqIEBwYXJhbSBgcHJvdG90eXBlYCAtIHNldHMgdGhlIHByb3RvdHlwZSB0byBiZSB1c2VkIHdoZW4gY2xvbmluZyBhbiBvYmplY3QuXG4gKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cbiovXG5mdW5jdGlvbiBjbG9uZShwYXJlbnQsIGNpcmN1bGFyLCBkZXB0aCwgcHJvdG90eXBlKSB7XG4gIHZhciBmaWx0ZXI7XG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG4gICAgZGVwdGggPSBjaXJjdWxhci5kZXB0aDtcbiAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG4gICAgZmlsdGVyID0gY2lyY3VsYXIuZmlsdGVyO1xuICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXJcbiAgfVxuICAvLyBtYWludGFpbiB0d28gYXJyYXlzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLCB3aGVyZSBjb3JyZXNwb25kaW5nIHBhcmVudHNcbiAgLy8gYW5kIGNoaWxkcmVuIGhhdmUgdGhlIHNhbWUgaW5kZXhcbiAgdmFyIGFsbFBhcmVudHMgPSBbXTtcbiAgdmFyIGFsbENoaWxkcmVuID0gW107XG5cbiAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PSAndW5kZWZpbmVkJylcbiAgICBjaXJjdWxhciA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBkZXB0aCA9PSAndW5kZWZpbmVkJylcbiAgICBkZXB0aCA9IEluZmluaXR5O1xuXG4gIC8vIHJlY3Vyc2UgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCByZXNldCBhbGxQYXJlbnRzIGFuZCBhbGxDaGlsZHJlblxuICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuICAgIC8vIGNsb25pbmcgbnVsbCBhbHdheXMgcmV0dXJucyBudWxsXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGRlcHRoID09IDApXG4gICAgICByZXR1cm4gcGFyZW50O1xuXG4gICAgdmFyIGNoaWxkO1xuICAgIHZhciBwcm90bztcbiAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gW107XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cblxuICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBmbGF0IGNsb25lIHVzaW5nIHByb3RvdHlwZSwgYWNjZXB0cyBvbmx5IG9iamVjdHMsIHVzZWZ1bGwgZm9yIHByb3BlcnR5XG4gKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuICpcbiAqIFVTRSBXSVRIIENBVVRJT04hIFRoaXMgbWF5IG5vdCBiZWhhdmUgYXMgeW91IHdpc2ggaWYgeW91IGRvIG5vdCBrbm93IGhvdyB0aGlzXG4gKiB3b3Jrcy5cbiAqL1xuY2xvbmUuY2xvbmVQcm90b3R5cGUgPSBmdW5jdGlvbiBjbG9uZVByb3RvdHlwZShwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gbnVsbDtcblxuICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuICBjLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgcmV0dXJuIG5ldyBjKCk7XG59O1xuXG4vLyBwcml2YXRlIHV0aWxpdHkgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufTtcbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufTtcbmNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cbmZ1bmN0aW9uIF9faXNBcnJheShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5jbG9uZS5fX2lzQXJyYXkgPSBfX2lzQXJyYXk7XG5cbmZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufTtcbmNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXG5yZXR1cm4gY2xvbmU7XG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9+L2Nsb25lL2Nsb25lLmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LWVlZTRjYWJlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTEhLi90bWVudS52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3RtZW51LnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtZWVlNGNhYmUhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi1lZWU0Y2FiZVwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInNwYW5bZGF0YS12LWVlZTRjYWJlXXtwb3NpdGlvbjpyZWxhdGl2ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL3RtZW51LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL3RtZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWVudXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubWVudSB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9Lm1lbnUgdWwgbGl7d2hpdGUtc3BhY2U6bm93cmFwO2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjI1cHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMTE2MWIzO2N1cnNvcjpwb2ludGVyfS5tZW51IHVsIGxpOmhvdmVye2NvbG9yOiMxMTYxYjM7YmFja2dyb3VuZC1jb2xvcjojZThlMWUxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cIm1lbnVcIiByZWY9XCJtZW51XCI+XG4gICAgPHRvb2x0aXAgOmRpcj1cImRpclwiIDp0YXJnZXQ9XCIkcmVmcy5tZW51XCIgOmVudGVyLWRlbGF5PVwiMFwiPlxuICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJ0YXJnZXRcIj5cbiAgICAgICAgPC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHNsb3Q9XCJjb250ZW50XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJsaXN0XCI+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgIDwvdG9vbHRpcD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5zcGFuIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4ubWVudSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB1bCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGxpIHtcbiAgICAgICRib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgaGVpZ2h0OiAyNXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICRibHVlLWNvbG9yO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThFMUUxO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkaXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFRvb2x0aXAsXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0bWVudS52dWU/NGY0NmJjMmMiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1hMzNjZmQ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi1hMzNjZmQ1ZSF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi90b29sdGlwLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRvb2x0aXAgLndyYXB7cGFkZGluZzo4cHg7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbG9yOiMxMTYxYjM7Ym9yZGVyLXJhZGl1czo4cHg7Ym94LXNoYWRvdzouNXB4IC41cHggM3B4IC41cHggI2NjY30udG9vbHRpcCAud3JhcCAuYXJyb3d7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvfS50b29sdGlwIC53cmFwIC5hcnJvdy5sZWZ0e3RvcDowO2JvdHRvbTowO3JpZ2h0Oi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LnJpZ2h0e3RvcDowO2JvdHRvbTowO2xlZnQ6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LnRvcHtsZWZ0OjA7cmlnaHQ6MDtib3R0b206LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItdG9wOjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy5ib3R0b217bGVmdDowO3JpZ2h0OjA7dG9wOi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo4cHggc29saWQgI2ZmZn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPHNwYW4gY2xhc3M9XCJ0b29sdGlwXCI+XG4gICAgPHNsb3QgbmFtZT1cInRhcmdldFwiPjwvc2xvdD5cbiAgICA8ZGl2IGNsYXNzPVwid3JhcFwiIDpzdHlsZT1cInN0eWxlXCIgcmVmPVwid3JhcFwiPlxuICAgICAgPGRpdiA6Y2xhc3M9XCInYXJyb3cgJyArIGRpclwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImNvbnRlbnRcIj48L3Nsb3Q+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4udG9vbHRpcCB7XG4gIC53cmFwIHtcbiAgICAkYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogMTAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcbiAgICBib3gtc2hhZG93OiAuNXB4IC41cHggM3B4IC41cHggI2NjYztcblxuICAgIC5hcnJvdyB7XG4gICAgICAkd2lkdGg6IDhweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAwO1xuICAgICAgaGVpZ2h0OiAwO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICAgIEBtaXhpbiBhcnJvdygkZGlyKSB7XG4gICAgICAgIGJvcmRlcjogJHdpZHRoIHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItI3skZGlyfTogJHdpZHRoIHNvbGlkIHdoaXRlO1xuICAgICAgfVxuXG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgICAmLmxlZnQge1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgcmlnaHQ6IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ2xlZnQnKTtcbiAgICAgIH1cbiAgICAgICYucmlnaHQge1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogLSAkd2lkdGggKiAyO1xuICAgICAgICBAaW5jbHVkZSBhcnJvdygncmlnaHQnKTtcbiAgICAgIH1cbiAgICAgICYudG9wIHtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogLSAkd2lkdGggKiAyO1xuICAgICAgICBAaW5jbHVkZSBhcnJvdygndG9wJyk7XG4gICAgICB9XG4gICAgICAmLmJvdHRvbSB7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICB0b3A6IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ2JvdHRvbScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7RGVsYXlIb3ZlciwgVG9vbHRpcFBvc2l0aW9ufSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdleHRlbmQnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICAgIGRpcjogZmFsc2UsXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGVudGVyRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuMSxcbiAgICB9LFxuICAgIGxlYXZlRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogRWxlbWVudCxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy50YXJnZXQgIT09IG51bGwgPyB0aGlzLnRhcmdldCA6IHRoaXMuJGVsXG4gICAgdmFyIHRscFBvcyA9IG5ldyBUb29sdGlwUG9zaXRpb24ocGFyZW50LCB0aGlzLiRyZWZzLndyYXApXG4gICAgdmFyIGFycm93U3BhY2UgPSAxMFxuXG4gICAgdmFyIGRob3ZlciA9IG5ldyBEZWxheUhvdmVyKHBhcmVudCwge1xuICAgICAgZW50ZXJEZWxheTogdGhpcy5lbnRlckRlbGF5LFxuICAgICAgbGVhdmVEZWxheTogdGhpcy5sZWF2ZURlbGF5LFxuICAgIH0pXG4gICAgZGhvdmVyLmhvdmVyKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB2YXIgcG9zID0gdGxwUG9zLnBvc2l0aW9uKClcbiAgICAgICAgdGhpcy5kaXIgPSBwb3MuZGlyXG4gICAgICAgIHN3aXRjaCh0aGlzLmRpcikge1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICBleHRlbmQodGhpcy5zdHlsZSwge1xuICAgICAgICAgICAgdG9wOiBgJHtwb3MucmVjdC50b3B9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdCAtIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcH1weGAsXG4gICAgICAgICAgICBsZWZ0OiBgJHtwb3MucmVjdC5sZWZ0ICsgYXJyb3dTcGFjZX1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcCAtIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdH1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcCArIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdH1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlXG4gICAgICB9XG4gICAgKVxuICB9LFxuICB3YXRjaDoge1xuICAgIHNob3c6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuc2hvdyA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0b29sdGlwLnZ1ZT8yNzMyZmRkZSIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdzcGFuJywge1xuICAgIHN0YXRpY0NsYXNzOiBcInRvb2x0aXBcIlxuICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIndyYXBcIixcbiAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG4gICAgc3R5bGU6IChfdm0uc3R5bGUpXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBjbGFzczogJ2Fycm93ICcgKyBfdm0uZGlyXG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiXG4gIH0sIFtfdm0uX3QoXCJjb250ZW50XCIpXSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIm1lbnVcIixcbiAgICBzdGF0aWNDbGFzczogXCJtZW51XCJcbiAgfSwgW192bS5faCgndG9vbHRpcCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkaXJcIjogX3ZtLmRpcixcbiAgICAgIFwidGFyZ2V0XCI6IF92bS4kcmVmcy5tZW51LFxuICAgICAgXCJlbnRlci1kZWxheVwiOiAwXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc2xvdDogXCJ0YXJnZXRcIlxuICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzbG90OiBcImNvbnRlbnRcIlxuICB9LCBbX3ZtLl90KFwibGlzdFwiKV0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3RtZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiAoX3ZtLmVkaXRpbmcpID8gX3ZtLl9oKCd1bCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJlZGl0aW5nIGx5cmljc1wiXG4gIH0sIFtfdm0uX2woKF92bS5ydW5uZXIubHJjLmx5cmljcyksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG4gICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG4gICAgICBjbGFzczoge1xuICAgICAgICBjdXI6IGkgPT0gX3ZtLmluZGV4XG4gICAgICB9LFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBseXJpYy50aW1lc3RhbXBcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImRibGNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5lZGl0KGkpXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dG1lbnVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbKF92bS5lZGl0aW5nSW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAobHlyaWMudGltZXN0YW1wKSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy50aW1lc3RhbXBcIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJ0aW1lc3RhbXBcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuICAgICAgfSxcbiAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKGx5cmljLnRpbWVzdGFtcClcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cbiAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgICBseXJpYy50aW1lc3RhbXAgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICB2YWx1ZTogKGx5cmljLmNvbnRlbnQpLFxuICAgICAgICBleHByZXNzaW9uOiBcImx5cmljLmNvbnRlbnRcIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhseXJpYy5jb250ZW50KVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwia2V5ZG93blwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgIT09IDEzKSB7IHJldHVybjsgfVxuICAgICAgICAgIF92bS5leGl0RWRpdCgkZXZlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICAgIGx5cmljLmNvbnRlbnQgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJ0aW1lc3RhbXBcIlxuICAgIH0sIFtfdm0uX3MoX3ZtLl9mKFwidGltZVwiKShseXJpYy50aW1lc3RhbXApKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCJcbiAgICB9LCBbX3ZtLl9zKGx5cmljLmNvbnRlbnQpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuICAgICAgc2xvdDogXCJ0YXJnZXRcIlxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuICAgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuICAgICAgc2xvdDogXCJsaXN0XCJcbiAgICB9LCBbX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnJlbW92ZVRpbWVzdGFtcChpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlX3RpbWVzdGFtcCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5lZGl0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZWRpdCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5pbnNlcnQoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsdXNcIlxuICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0ucmVtb3ZlKGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpKSArIFwiXFxuICAgICAgICAgICAgXCJdKV0pXSldKV0sIFwiIFwiXSlcbiAgfSksIFwiIFwiLCAoX3ZtLmx5cmljQXJyYXkubGVuZ3RoKSA/IF92bS5faCgnbGknLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiZGl2aXNpb25cIlxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpKV0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2woKF92bS5seXJpY0FycmF5KSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcbiAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInVuc29ydGVkXCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInRyYWNrLWJ5XCI6IFwiaVwiXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uZWRpdFRleHQoaSlcbiAgICAgICAgfSxcbiAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdm0uZWRpdE1lbnUoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFsoX3ZtLmVkaXRpbmdUZXh0SW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAoX3ZtLmx5cmljQXJyYXlbaV0pLFxuICAgICAgICBleHByZXNzaW9uOiBcImx5cmljQXJyYXlbaV1cIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWNBcnJheVtpXSlcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cbiAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgICB2YXIgJCRleHAgPSBfdm0ubHlyaWNBcnJheSxcbiAgICAgICAgICAgICQkaWR4ID0gaTtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoJCRleHApKSB7XG4gICAgICAgICAgICBfdm0ubHlyaWNBcnJheVtpXSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCRleHAuc3BsaWNlKCQkaWR4LCAxLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXSA6IFtfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuICAgIH0sIFtfdm0uX3MobHlyaWMpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuICAgICAgc2xvdDogXCJ0YXJnZXRcIlxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuICAgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuICAgICAgc2xvdDogXCJsaXN0XCJcbiAgICB9LCBbX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZWRpdCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5pbnNlcnRUZXh0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuYWRkJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnJlbW92ZVRleHQoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pXSldKV0pXSwgXCIgXCJdKVxuICB9KV0pIDogX3ZtLl9oKCd1bCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJseXJpY3NcIlxuICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuICAgICAgY2xhc3M6IHtcbiAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuICAgICAgfSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0ucGxheXRvKGx5cmljLnRpbWVzdGFtcClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtcIlxcbiAgICBcIiArIF92bS5fcyhseXJpYy5jb250ZW50KSArIFwiXFxuICBcIl0pXG4gIH0pLCBcIiBcIiwgKF92bS5seXJpY0FycmF5Lmxlbmd0aCkgPyBfdm0uX2goJ2xpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcbiAgfSwgW192bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5mb2xsb3dpbmdfdW5zb3J0ZWQnKSldKSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9sKChfdm0ubHlyaWNBcnJheSksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG4gICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0cmFjay1ieVwiOiBcImlcIlxuICAgICAgfVxuICAgIH0sIFtcIlxcbiAgICBcIiArIF92bS5fcyhseXJpYykgKyBcIlxcbiAgXCJdKVxuICB9KV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2QhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1hMTRjOTZlYSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LWExNGM5NmVhIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtYTE0Yzk2ZWFcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXBbZGF0YS12LWExNGM5NmVhXTphZnRlciwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFdOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uY292ZXJbZGF0YS12LWExNGM5NmVhXXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC43KTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTAwMDtvdmVyZmxvdzphdXRvfS5tb2RhbFtkYXRhLXYtYTE0Yzk2ZWFde3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjozMHB4IGF1dG87YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6OHB4O292ZXJmbG93OmhpZGRlbn0ubW9kYWwubGdbZGF0YS12LWExNGM5NmVhXXt3aWR0aDo1MCV9Lm1vZGFsLm1kW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6NzAlfS5tb2RhbC5zbVtkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjkwJX0ubW9kYWwgLmJvZHlbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy1sZWZ0OjE0cHg7cGFkZGluZy1yaWdodDoxNHB4fS5tb2RhbCAuYm9keVtkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fS5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtjb2xvcjojMTE2MWIzfS5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U1ZTVlNTtmb250LXdlaWdodDpib2xkZXJ9Lm1vZGFsIC5oZWFkZXIgLmljb24tY2FuY2VsW2RhdGEtdi1hMTRjOTZlYV17ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXJ9Lm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXXtib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1fS5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXAgLmJ0bltkYXRhLXYtYTE0Yzk2ZWFde2Zsb2F0OnJpZ2h0O2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxMTYxYjM7cGFkZGluZzo4cHggMTBweH0ubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwIC5idG5bZGF0YS12LWExNGM5NmVhXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL21vZGFscy9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1vZGFsIGgze21hcmdpbjoxMHB4IDB9Lm1vZGFsIHRleHRhcmVhe3dpZHRoOjEwMCU7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O2JvcmRlci1yYWRpdXM6NXB4O21pbi1oZWlnaHQ6MzAwcHg7bWFyZ2luOjEwcHggMH0ubW9kYWwgcHttYXJnaW46MH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IDpjbGFzcz1cIntjb3ZlcjogY292ZXJTaG93fVwiIEBjbGljaz1cImNhbmNlbFwiPlxuICAgIDx0cmFuc2l0aW9uIG5hbWU9XCJtb2RhbFwiIEBhZnRlci1sZWF2ZT1cImNvdmVyU2hvdyA9IGZhbHNlXCI+XG4gICAgICA8ZGl2IHYtaWY9XCJpc1Nob3dcIiBjbGFzcz1cIm1vZGFsXCIgOmNsYXNzPVwiW3NpemVdXCIgQGNsaWNrLnN0b3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICB7e3RpdGxlfX1cbiAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCIgQGNsaWNrPVwiY2FuY2VsXCI+PC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAgICAgICAgICA8ZGl2IHJlZj1cIm1vZGFsV3JhcHBlclwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgdi1pZj1cImNvbmZpcm1cIiBjbGFzcz1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiIEBjbGljaz1cIm9rXCI+e3sgJHQoJ21vZGFsLmJ1dHRvbi5vaycpIH19PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuXCIgQGNsaWNrPVwiY2FuY2VsXCI+e3sgJHQoJ21vZGFsLmJ1dHRvbi5jYW5jZWwnKSB9fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5AaW1wb3J0IFwiLi4vc2Fzcy9iYXNlXCI7XG5cbiRwcmltYXJ5LWNvbG9yOiAjNEY5OUU0O1xuXG4uY292ZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiAxMDAwO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLm1vZGFsIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW46IDMwcHggYXV0bztcblxuICAmLmxnIHtcbiAgICB3aWR0aDogNTAlO1xuICB9XG5cbiAgJi5tZCB7XG4gICAgd2lkdGg6IDcwJTtcbiAgfVxuXG4gICYuc20ge1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cblxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC5oZWFkZXIsXG4gIC5ib2R5LFxuICAuZm9vdGVyLFxuICB7XG4gICAgcGFkZGluZy1sZWZ0OiAxNHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDE0cHg7XG4gIH1cblxuICAuaGVhZGVyLFxuICAuYm9keSxcbiAge1xuICAgIHBhZGRpbmctdG9wOiAxNHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxNHB4O1xuICB9XG5cbiAgLmhlYWRlcixcbiAgLmZvb3RlcixcbiAge1xuICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgfVxuXG4gIC5oZWFkZXIge1xuICAgIEBleHRlbmQgJXJvdztcblxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRTVFNUU1O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG5cbiAgICAuaWNvbi1jYW5jZWwge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgfVxuXG4gIC5mb290ZXIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRTVFNUU1O1xuXG4gICAgLmJ0bi1ncm91cCB7XG4gICAgICBAZXh0ZW5kICVyb3c7XG5cbiAgICAgIC5idG4ge1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuXG4gICAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG4gIC5tb2RhbCB7XG4gICAgaDMge1xuICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgfVxuICAgIHRleHRhcmVhIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0Q2RDZENjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgfVxuICAgIHAge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgfVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG4gIGltcG9ydCB7Z2xvYmFsS2V5ZG93bn0gZnJvbSAnLi4vdXRpbHMnXG4gIGltcG9ydCBIZWxwIGZyb20gJy4vaGVscCdcbiAgaW1wb3J0IExyY0Zvcm1hdFVwbG9hZCBmcm9tICcuL2xyYy1mb3JtYXQtdXBsb2FkJ1xuICBpbXBvcnQgTHlyaWNVcGxvYWQgZnJvbSAnLi9seXJpYy11cGxvYWQnXG4gIGltcG9ydCBMcmNTYXZlIGZyb20gJy4vbHJjLXNhdmUnXG5cbiAgdmFyIENPTVBPTkVOVFMgPSB7XG4gICAgJ2hlbHAnOiBIZWxwLFxuICAgICdscmMtZm9ybWF0LXVwbG9hZCc6IExyY0Zvcm1hdFVwbG9hZCxcbiAgICAnbHlyaWMtdXBsb2FkJzogTHlyaWNVcGxvYWQsXG4gICAgJ2xyYy1zYXZlJzogTHJjU2F2ZSxcbiAgfVxuXG4gIHdpbmRvdy5NQyA9IFtdXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogJ01vZGFsJyxcbiAgICAgICAgc2l6ZTogJ21kJyxcbiAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgIG1vZGFsTmFtZTogJycsXG4gICAgICAgIG1vZGFsQ29tcG9uZW50OiBudWxsLFxuICAgICAgICBpc1Nob3c6IGZhbHNlLFxuICAgICAgICBjb3ZlclNob3c6IGZhbHNlLFxuICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgc2hvdyhtb2RhbE5hbWUpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlXG4gICAgICAgIHRoaXMuY292ZXJTaG93ID0gdHJ1ZVxuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tb2RhbE5hbWUgPSBtb2RhbE5hbWVcbiAgICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50ID0gbmV3IFZ1ZSh7XG4gICAgICAgICAgICAuLi5DT01QT05FTlRTW3RoaXMubW9kYWxOYW1lXVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5tb2RhbENvbXBvbmVudC4kbW91bnQodGhpcy4kcmVmcy5tb2RhbFdyYXBwZXIpXG5cbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC50aXRsZSlcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLm1vZGFsQ29tcG9uZW50LnRpdGxlXG4gICAgICAgICAgaWYgKHRoaXMubW9kYWxDb21wb25lbnQuc2l6ZSlcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLm1vZGFsQ29tcG9uZW50LnNpemVcbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtKVxuICAgICAgICAgICAgdGhpcy5jb25maXJtID0gdGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH0sXG4gICAgICBvaygpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdvaycpXG4gICAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGRlc3Ryb3koKVxuICAgICAgfSxcbiAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdjYW5jZWwnKVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtb3VudGVkKCkge1xuICAgICAgZ2xvYmFsS2V5ZG93bi5vbignZXNjYXBlJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1Nob3cpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBIZWxwLFxuICAgICAgTHJjRm9ybWF0VXBsb2FkLFxuICAgICAgTHlyaWNVcGxvYWQsXG4gICAgICBMcmNTYXZlLFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LnZ1ZT84MzdjNDM5NiIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTNmNTdjMWQwJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9oZWxwLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaGVscC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTNmNTdjMWQwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2hlbHAudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0zZjU3YzFkMFwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbW9kYWxzL2hlbHAudnVlXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5oZWxwW2RhdGEtdi0zZjU3YzFkMF17Y29sb3I6IzMzM30uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF0sLmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXSwuaGVscCBoNFtkYXRhLXYtM2Y1N2MxZDBde2NvbG9yOiMxMTYxYjN9LmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46NXB4IDB9LmhlbHAgaDRbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46MH0uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF17Zm9udC13ZWlnaHQ6Ym9sZGVyfS5oZWxwIHVsW2RhdGEtdi0zZjU3YzFkMF17bGlzdC1zdHlsZS10eXBlOm5vbmU7cGFkZGluZzowIDAgMCAyMHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICA8aDM+e3sgJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykgfX08L2gzPlxuICAgIDxoND57eyAkdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmxlZnRfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5iYWNrd2FyZCcpIH19PC9saT5cbiAgICAgIDxsaT48c3Ryb25nPnt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5yaWdodF9rZXknKSB9fTo8L3N0cm9uZz4ge3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmZvcndhcmQnKSB9fTwvbGk+XG4gICAgPC91bD5cbiAgICA8aDQ+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudXBfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnByZXZfbHlyaWMnKSB9fTwvbGk+XG4gICAgICA8bGk+PHN0cm9uZz57eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5kb3duX2tleScpIH19Ojwvc3Ryb25nPiB7eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5uZXh0X2x5cmljJykgfX08L2xpPlxuICAgIDwvdWw+XG4gICAgPGRpdiBjbGFzcz1cImxpbmtcIj5cbiAgICAgIDxhIDpocmVmPVwiUEtHLmhvbWVwYWdlXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3sgJHQoJ21vZGFsLmhlbHAuc291cmNlX2NvZGUnKSB9fTogZ2l0aHViPC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbiAgQGltcG9ydCAnLi4vc2Fzcy9iYXNlJztcblxuICAuaGVscCB7XG4gICAgY29sb3I6ICMzMzM7XG4gICAgaDMsIGg0LCBhIHtcbiAgICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgICB9XG4gICAgaDMge1xuICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgICBhIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgfVxuICAgIHVsIHtcbiAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDAgMCAwIDIwcHg7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgUEtHIGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbidcblxuICBleHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFBLRzogUEtHLFxuICAgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwuaGVscC50aXRsZScpLFxuICAgICAgfVxuICAgIH1cbiAgfVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaGVscC52dWU/MzBhYmNmYmIiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJuYW1lXCI6IFwibHJjLW1ha2VyXCIsXG5cdFwidmVyc2lvblwiOiBcIjAuMi4wXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJscmMgbWFrZXJcIixcblx0XCJtYWluXCI6IFwiaW5kZXguanNcIixcblx0XCJzY3JpcHRzXCI6IHtcblx0XHRcInRlc3RcIjogXCJ5YXJuIHJ1biBsaW50XCIsXG5cdFx0XCJsaW50XCI6IFwiZXNsaW50IC0tZXh0IGpzLHZ1ZSB3ZWJwYWNrLmNvbmZpZy5qcyBzcmNcIixcblx0XHRcImRldlwiOiBcIndlYnBhY2stZGV2LXNlcnZlciAtLWhvc3Q9JzAuMC4wLjAnIC0tcHJvZ3Jlc3MgLS1jb2xvcnMgLS1pbmxpbmUgLS1ob3QgLS1vdXRwdXQtcHVibGljLXBhdGg9Jy9hc3NldHMvJ1wiLFxuXHRcdFwiYnVpbGRcIjogXCJ5YXJuIHJ1biBidWlsZDpjbGVhbiAmJiB5YXJuIHJ1biBidWlsZDp3ZWJwYWNrICYmIHlhcm4gcnVuIGJ1aWxkOnZpZXdcIixcblx0XHRcImJ1aWxkOmNsZWFuXCI6IFwicm0gLXJmIGJ1aWxkXCIsXG5cdFx0XCJidWlsZDp2aWV3XCI6IFwiIGNwIGluZGV4Lmh0bWwgYnVpbGQvaW5kZXguaHRtbFwiLFxuXHRcdFwiYnVpbGQ6d2VicGFja1wiOiBcIndlYnBhY2sgLS1vcHRpbWl6ZS1taW5pbWl6ZSAtLW91dHB1dC1wdWJsaWMtcGF0aD0nLi9hc3NldHMvJ1wiLFxuXHRcdFwiZGVwbG95XCI6IFwieWFybiBydW4gYnVpbGQgJiYgZ2gtcGFnZXMgLWQgYnVpbGRcIlxuXHR9LFxuXHRcImtleXdvcmRzXCI6IFtcblx0XHRcImxyY1wiXG5cdF0sXG5cdFwiYXV0aG9yXCI6IFwiV2Vpcm9uZyBYdSA8d2Vpcm9uZ3h1LnJhaWRvdUBnbWFpbC5jb20+XCIsXG5cdFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlclwiLFxuXHRcInJlcG9zaXRvcnlcIjoge1xuXHRcdFwidHlwZVwiOiBcImdpdFwiLFxuXHRcdFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXIuZ2l0XCJcblx0fSxcblx0XCJvbmxpbmVQYWdlXCI6IFwiaHR0cHM6Ly93ZWlyb25neHUuZ2l0aHViLmlvL2xyYy1tYWtlci9cIixcblx0XCJidWdzXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXIvaXNzdWVzXCIsXG5cdFwibGljZW5zZVwiOiBcIk1JVFwiLFxuXHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJhdXRvcHJlZml4ZXJcIjogXCJeNi41LjNcIixcblx0XHRcImJhYmVsLWNvcmVcIjogXCJeNi43LjZcIixcblx0XHRcImJhYmVsLWVzbGludFwiOiBcIl43LjEuMVwiLFxuXHRcdFwiYmFiZWwtaGVscGVyLXZ1ZS1qc3gtbWVyZ2UtcHJvcHNcIjogXCJeMi4wLjJcIixcblx0XHRcImJhYmVsLWxvYWRlclwiOiBcIl42LjIuOFwiLFxuXHRcdFwiYmFiZWwtcGx1Z2luLXN5bnRheC1qc3hcIjogXCJeNi4xOC4wXCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXZ1ZS1qc3hcIjogXCJeMy4yLjBcIixcblx0XHRcImJhYmVsLXByZXNldC1sYXRlc3RcIjogXCJeNi4xNi4wXCIsXG5cdFx0XCJiYWJlbC1wcmVzZXQtc3RhZ2UtMFwiOiBcIl42LjE2LjBcIixcblx0XHRcImNzcy1sb2FkZXJcIjogXCJeMC4yNi4wXCIsXG5cdFx0XCJlc2xpbnRcIjogXCJeMy4xMC4yXCIsXG5cdFx0XCJlc2xpbnQtbG9hZGVyXCI6IFwiXjEuMy4wXCIsXG5cdFx0XCJlc2xpbnQtcGx1Z2luLWh0bWxcIjogXCJeMS43LjBcIixcblx0XHRcImZpbGUtbG9hZGVyXCI6IFwiXjAuOS4wXCIsXG5cdFx0XCJnaC1wYWdlc1wiOiBcIl4wLjEyLjBcIixcblx0XHRcImpzb24tbG9hZGVyXCI6IFwiXjAuNS40XCIsXG5cdFx0XCJub2RlLXNhc3NcIjogXCJeMy4xMy4wXCIsXG5cdFx0XCJyZXNvbHZlLXVybC1sb2FkZXJcIjogXCJeMS42LjBcIixcblx0XHRcInNhc3MtbG9hZGVyXCI6IFwiXjQuMC4yXCIsXG5cdFx0XCJ1cmwtbG9hZGVyXCI6IFwiXjAuNS43XCIsXG5cdFx0XCJ2dWUtbG9hZGVyXCI6IFwiXjEwLjAuMVwiLFxuXHRcdFwidnVlLXRlbXBsYXRlLWNvbXBpbGVyXCI6IFwiXjIuMS4zXCIsXG5cdFx0XCJ3ZWJwYWNrXCI6IFwiXjEuMTIuMTVcIixcblx0XHRcIndlYnBhY2stZGV2LXNlcnZlclwiOiBcIl4xLjE0LjFcIixcblx0XHRcInlhbWwtbG9hZGVyXCI6IFwiXjAuNC4wXCJcblx0fSxcblx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFwiY2xvbmVcIjogXCJeMi4xLjBcIixcblx0XHRcImV2ZW50ZW1pdHRlcjJcIjogXCJeMi4yLjFcIixcblx0XHRcImV4dGVuZFwiOiBcIl4zLjAuMFwiLFxuXHRcdFwiZmlsZXNhdmVyLmpzXCI6IFwiXjAuMi4wXCIsXG5cdFx0XCJscmMta2l0XCI6IFwiXjAuMi4wXCIsXG5cdFx0XCJ1bmlkcmFnZ2VyXCI6IFwiXjIuMS4wXCIsXG5cdFx0XCJ2dWVcIjogXCJeMi4xLjNcIixcblx0XHRcInZ1ZS1pMThuXCI6IFwiXjQuNy4zXCJcblx0fVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9wYWNrYWdlLmpzb25cbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaGVscFwiXG4gIH0sIFtfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykpXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnRpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3VsJywgW192bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wubGVmdF9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmJhY2t3YXJkJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnJpZ2h0X2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wuZm9yd2FyZCcpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndWwnLCBbX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnVwX2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5wcmV2X2x5cmljJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMuZG93bl9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMubmV4dF9seXJpYycpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJsaW5rXCJcbiAgfSwgW192bS5faCgnYScsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJocmVmXCI6IF92bS5QS0cuaG9tZXBhZ2UsXG4gICAgICBcInRhcmdldFwiOiBcIl9ibGFua1wiXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5zb3VyY2VfY29kZScpKSArIFwiOiBnaXRodWJcIl0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTNmNTdjMWQwIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9oZWxwLnZ1ZVxuLy8gbW9kdWxlIGlkID0gODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vbHJjLWZvcm1hdC11cGxvYWQudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi0wZTIyN2EyMCF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9scmMtZm9ybWF0LXVwbG9hZC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL21vZGFscy9scmMtZm9ybWF0LXVwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdj5cbiAgICA8cD57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQuZGVzY3JpcHRpb24nKSB9fTwvcD5cbiAgICA8dGV4dGFyZWEgdi1tb2RlbD1cImx5cmljXCI+PC90ZXh0YXJlYT5cbiAgICA8dXBsb2FkIGNsYXNzPVwiYnRuXCIgQHVwbG9hZGVkPVwidXBsb2FkXCI+e3sgJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpIH19PC91cGxvYWQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFVwbG9hZCBmcm9tICcuLi91cGxvYWQnXG4gIGltcG9ydCB7THJjLCBSdW5uZXJ9IGZyb20gJ2xyYy1raXQnXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQudGl0bGUnKSxcbiAgICAgICAgbHlyaWM6ICcnLFxuICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHRoaXMubHlyaWMgPSAkQXBwLmxyY0Zvcm1hdFxuICAgICAgdGhpcy4kb24oJ29rJywgKCkgPT4ge1xuICAgICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMubHlyaWNcbiAgICAgIH0pXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB1cGxvYWQobHlyaWMpIHtcbiAgICAgICAgdGhpcy5seXJpYyA9IGx5cmljXG4gICAgICB9LFxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgIGx5cmljKHZhbCkge1xuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgIFVwbG9hZCxcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBscmMtZm9ybWF0LXVwbG9hZC52dWU/M2E0ZWE3N2IiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgncCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC5kZXNjcmlwdGlvbicpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICB2YWx1ZTogKF92bS5seXJpYyksXG4gICAgICBleHByZXNzaW9uOiBcImx5cmljXCJcbiAgICB9XSxcbiAgICBkb21Qcm9wczoge1xuICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgX3ZtLmx5cmljID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfSksIFwiIFwiLCBfdm0uX2goJ3VwbG9hZCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG5cIixcbiAgICBvbjoge1xuICAgICAgXCJ1cGxvYWRlZFwiOiBfdm0udXBsb2FkXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQudXBsb2FkJykpXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTBlMjI3YTIwIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9scmMtZm9ybWF0LXVwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL2x5cmljLXVwbG9hZC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTg2YWIxNWY0IXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2x5cmljLXVwbG9hZC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL21vZGFscy9seXJpYy11cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSA4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxkaXY+XG4gICAgPHA+e3sgJHQoJ21vZGFsLmx5cmljX3VwbG9hZC5kZXNjcmlwdGlvbicpIH19PC9wPlxuICAgIDx0ZXh0YXJlYSB2LW1vZGVsPVwibHlyaWNcIj48L3RleHRhcmVhPlxuICAgIDx1cGxvYWQgY2xhc3M9XCJidG5cIiBAdXBsb2FkZWQ9XCJ1cGxvYWRcIj57eyAkdCgnbW9kYWwubHlyaWNfdXBsb2FkLnVwbG9hZCcpIH19PC91cGxvYWQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFVwbG9hZCBmcm9tICcuLi91cGxvYWQnXG4gIGltcG9ydCBjYWNoZSBmcm9tICcuLi9jYWNoZSdcblxuICBleHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiB0aGlzLiR0KCdtb2RhbC5seXJpY191cGxvYWQudGl0bGUnKSxcbiAgICAgICAgbHlyaWM6IGNhY2hlLmx5cmljLFxuICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHRoaXMuJG9uKCdvaycsICgpID0+IHtcbiAgICAgICAgJEFwcC5seXJpY0FycmF5ID0gdGhpcy5seXJpYy5zcGxpdCgvXFxyXFxufFtcXG5cXHJdL2cpXG4gICAgICB9KVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdXBsb2FkKGx5cmljKSB7XG4gICAgICAgIHRoaXMubHlyaWMgPSBseXJpY1xuICAgICAgfSxcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICBseXJpYyh2YWwpIHtcbiAgICAgICAgY2FjaGUubHlyaWMgPSB2YWxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBVcGxvYWRcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBseXJpYy11cGxvYWQudnVlPzRiZWUyNDc4IiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIFtfdm0uX2goJ3AnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHlyaWNfdXBsb2FkLmRlc2NyaXB0aW9uJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgIHZhbHVlOiAoX3ZtLmx5cmljKSxcbiAgICAgIGV4cHJlc3Npb246IFwibHlyaWNcIlxuICAgIH1dLFxuICAgIGRvbVByb3BzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWMpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICBfdm0ubHlyaWMgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9KSwgXCIgXCIsIF92bS5faCgndXBsb2FkJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcInVwbG9hZGVkXCI6IF92bS51cGxvYWRcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5seXJpY191cGxvYWQudXBsb2FkJykpXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTg2YWIxNWY0IS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9seXJpYy11cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9scmMtc2F2ZS52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTQwZmUzYzA0IXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2xyYy1zYXZlLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2xyYy1zYXZlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxoMz57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmluZm9fdGl0bGUnKSB9fTwvaDM+XG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiB2LWZvcj1cImZpZWxkIGluIGluZm9GaWVsZHNcIiB2LWlmPVwiZmllbGQubGFiZWxcIj5cbiAgICAgIDxsYWJlbCA6Zm9yPVwiJ2luZm8tJyArIGZpZWxkLmtleVwiIHYtdGV4dD1cImZpZWxkLmxhYmVsXCI+PC9sYWJlbD5cbiAgICAgIDxpbnB1dCA6aWQ9XCInaW5mby0nICsgZmllbGQua2V5XCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwicnVubmVyLmxyYy5pbmZvW2ZpZWxkLmtleV1cIiAvPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICA8bGFiZWwgZm9yPVwiaW5mby1ieVwiPnt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmxyY19jcmVhdG9yJykgfX08L2xhYmVsPlxuICAgICAgPGlucHV0IGlkPVwiaW5mby1ieVwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cInVzZXJOYW1lXCIgLz5cbiAgICA8L2Rpdj5cblxuICAgIDxoMz57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnNhdmVfdGl0bGUnKSB9fTwvaDM+XG4gICAgPHRleHRhcmVhPnt7IGx5cmljIH19PC90ZXh0YXJlYT5cbiAgICA8bGFiZWw+XG4gICAgICB7eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmNvbWJpbmUnKSB9fVxuICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHYtbW9kZWw9XCJzYXZlT3B0aW9ucy5jb21iaW5lXCIgLz5cbiAgICA8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJidG5cIiBAY2xpY2s9XCJzYXZlXCI+XG4gICAgICA8aSBjbGFzcz1cImljb24tZG93bmxvYWRcIj48L2k+IHt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZG93bmxvYWQnKSB9fVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gIGltcG9ydCB7c2F2ZUxyYywgdGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4uL3V0aWxzJ1xuICBpbXBvcnQgY2FjaGUgZnJvbSAnLi4vY2FjaGUnXG4gIGltcG9ydCBQS0cgZnJvbSAnLi4vLi4vLi4vcGFja2FnZS5qc29uJ1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS50aXRsZScpLFxuICAgICAgICBseXJpYzogJycsXG4gICAgICAgIHVzZXJOYW1lOiBjYWNoZS51c2VyTmFtZSxcbiAgICAgICAgc2F2ZU9wdGlvbnM6IHtcbiAgICAgICAgICBjb21iaW5lOiB0cnVlLFxuICAgICAgICAgIGxpbmVGb3JtYXQ6ICdcXHJcXG4nLFxuICAgICAgICAgIHNvcnQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGluZm9GaWVsZHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICd0aScsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25nX3RpdGxlJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdhcicsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5hcnRpc3QnKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2FsJyxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmFsYnVtJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdhdScsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25ndGV4dF9jcmVhdG9yJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZWQoKSB7XG4gICAgICB0aGlzLnJ1bm5lciA9ICRBcHAucnVubmVyXG4gICAgICBsZXQgcGxheWVyID0gJEFwcC4kcmVmcy5wbGF5ZXJcblxuICAgICAgdGhpcy5ydW5uZXIubHJjLmluZm8ucmUgPSBgJHtQS0cubmFtZX0gKCR7UEtHLm9ubGluZVBhZ2V9KWBcbiAgICAgIHRoaXMucnVubmVyLmxyYy5pbmZvLnZlID0gUEtHLnZlcnNpb25cblxuICAgICAgaWYgKHBsYXllci5kdXJhdGlvbilcbiAgICAgICAgdGhpcy5ydW5uZXIubHJjLmluZm8ubGVuZ3RoID0gdGltZXN0YW1wMnRpbWVzdHIocGxheWVyLmR1cmF0aW9uKVxuICAgICAgaWYgKHRoaXMudXNlck5hbWUpXG4gICAgICAgIHRoaXMucnVubmVyLmxyYy5pbmZvLmJ5ID0gdGhpcy51c2VyTmFtZVxuXG4gICAgICB0aGlzLmx5cmljVXBkYXRlKClcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHNhdmUoKSB7XG4gICAgICAgIHNhdmVMcmModGhpcy5ydW5uZXIubHJjLnRvU3RyaW5nKHRoaXMuc2F2ZU9wdGlvbnMpLCB0aGlzLnJ1bm5lci5scmMuaW5mby50aSB8fCAnbHlyaWMnKVxuICAgICAgfSxcbiAgICAgIGx5cmljVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmx5cmljID0gdGhpcy5ydW5uZXIubHJjLnRvU3RyaW5nKHRoaXMuc2F2ZU9wdGlvbnMpXG4gICAgICB9LFxuICAgICAgY2xlYW5FbXB0eUluZm8oKSB7XG4gICAgICAgIGZvcih2YXIga2V5IGluIHRoaXMucnVubmVyLmxyYy5pbmZvKSB7XG4gICAgICAgICAgaWYgKHRoaXMucnVubmVyLmxyYy5pbmZvW2tleV0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJ1bm5lci5scmMuaW5mb1trZXldXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgdXNlck5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLiRzZXQodGhpcy5ydW5uZXIsICdydW5uZXIubHJjLmluZm8uYnknLCBuYW1lKVxuICAgICAgICBjYWNoZS51c2VyTmFtZSA9IG5hbWVcbiAgICAgIH0sXG4gICAgICBseXJpYygpe1xuICAgICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMubHlyaWNcbiAgICAgIH0sXG4gICAgICBzYXZlT3B0aW9uczoge1xuICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgIHRoaXMubHlyaWNVcGRhdGUoKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgICdydW5uZXIubHJjLmluZm8nOiB7XG4gICAgICAgIGRlZXA6IHRydWUsXG4gICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgdGhpcy5jbGVhbkVtcHR5SW5mbygpXG4gICAgICAgICAgdGhpcy5seXJpY1VwZGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxyYy1zYXZlLnZ1ZT8zODQ2Y2FjMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuaW5mb190aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9sKChfdm0uaW5mb0ZpZWxkcyksIGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIChmaWVsZC5sYWJlbCkgPyBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tZ3JvdXBcIlxuICAgIH0sIFtfdm0uX2goJ2xhYmVsJywge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJmb3JcIjogJ2luZm8tJyArIGZpZWxkLmtleVxuICAgICAgfSxcbiAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgIFwidGV4dENvbnRlbnRcIjogX3ZtLl9zKGZpZWxkLmxhYmVsKVxuICAgICAgfVxuICAgIH0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAoX3ZtLnJ1bm5lci5scmMuaW5mb1tmaWVsZC5rZXldKSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJydW5uZXIubHJjLmluZm9bZmllbGQua2V5XVwiXG4gICAgICB9XSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwiaWRcIjogJ2luZm8tJyArIGZpZWxkLmtleSxcbiAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLnJ1bm5lci5scmMuaW5mb1tmaWVsZC5rZXldKVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICAgIHZhciAkJGV4cCA9IF92bS5ydW5uZXIubHJjLmluZm8sXG4gICAgICAgICAgICAkJGlkeCA9IGZpZWxkLmtleTtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoJCRleHApKSB7XG4gICAgICAgICAgICBfdm0ucnVubmVyLmxyYy5pbmZvW2ZpZWxkLmtleV0gPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQkZXhwLnNwbGljZSgkJGlkeCwgMSwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KV0pIDogX3ZtLl9lKClcbiAgfSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJmb3JtLWdyb3VwXCJcbiAgfSwgW192bS5faCgnbGFiZWwnLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwiZm9yXCI6IFwiaW5mby1ieVwiXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5scmNfY3JlYXRvcicpKV0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICB2YWx1ZTogKF92bS51c2VyTmFtZSksXG4gICAgICBleHByZXNzaW9uOiBcInVzZXJOYW1lXCJcbiAgICB9XSxcbiAgICBhdHRyczoge1xuICAgICAgXCJpZFwiOiBcImluZm8tYnlcIixcbiAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuICAgIH0sXG4gICAgZG9tUHJvcHM6IHtcbiAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS51c2VyTmFtZSlcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgIF92bS51c2VyTmFtZSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5zYXZlX3RpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywgW192bS5fcyhfdm0ubHlyaWMpXSksIFwiIFwiLCBfdm0uX2goJ2xhYmVsJywgW1wiXFxuICAgIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmNvbWJpbmUnKSkgKyBcIlxcbiAgICBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICB2YWx1ZTogKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lKSxcbiAgICAgIGV4cHJlc3Npb246IFwic2F2ZU9wdGlvbnMuY29tYmluZVwiXG4gICAgfV0sXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidHlwZVwiOiBcImNoZWNrYm94XCJcbiAgICB9LFxuICAgIGRvbVByb3BzOiB7XG4gICAgICBcImNoZWNrZWRcIjogQXJyYXkuaXNBcnJheShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSkgPyBfdm0uX2koX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsIG51bGwpID4gLTEgOiBfdm0uX3EoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUsIHRydWUpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjaGFuZ2VcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIHZhciAkJGEgPSBfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSxcbiAgICAgICAgICAkJGVsID0gJGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAkJGMgPSAkJGVsLmNoZWNrZWQgPyAodHJ1ZSkgOiAoZmFsc2UpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSgkJGEpKSB7XG4gICAgICAgICAgdmFyICQkdiA9IG51bGwsXG4gICAgICAgICAgICAkJGkgPSBfdm0uX2koJCRhLCAkJHYpO1xuICAgICAgICAgIGlmICgkJGMpIHtcbiAgICAgICAgICAgICQkaSA8IDAgJiYgKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lID0gJCRhLmNvbmNhdCgkJHYpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkJGkgPiAtMSAmJiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGEuc2xpY2UoMCwgJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSArIDEpKSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5zYXZlXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tZG93bmxvYWRcIlxuICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZG93bmxvYWQnKSkgKyBcIlxcbiAgXCJdKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtNDBmZTNjMDQhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbW9kYWxzL2xyYy1zYXZlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBjbGFzczoge1xuICAgICAgY292ZXI6IF92bS5jb3ZlclNob3dcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcbiAgICB9XG4gIH0sIFtfdm0uX2goJ3RyYW5zaXRpb24nLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwibmFtZVwiOiBcIm1vZGFsXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImFmdGVyLWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uY292ZXJTaG93ID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0sIFsoX3ZtLmlzU2hvdykgPyBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtb2RhbFwiLFxuICAgIGNsYXNzOiBbX3ZtLnNpemVdLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaGVhZGVyXCJcbiAgfSwgW1wiXFxuICAgICAgICBcIiArIF92bS5fcyhfdm0udGl0bGUpICsgXCJcXG4gICAgICAgIFwiLCBfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG4gICAgfVxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYm9keVwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICByZWY6IFwibW9kYWxXcmFwcGVyXCJcbiAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImZvb3RlclwiXG4gIH0sIFsoX3ZtLmNvbmZpcm0pID8gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuLWdyb3VwXCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5va1xuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmJ1dHRvbi5vaycpKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmJ1dHRvbi5jYW5jZWwnKSldKV0pIDogX3ZtLl9lKCldKV0pIDogX3ZtLl9lKCldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKVxucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi01MWVhYzA2YiFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9uYXYtbWVudS52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTUxZWFjMDZiIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtNTFlYWMwNmJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIudGFyZ2V0W2RhdGEtdi01MWVhYzA2Yl17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46LThweDtwYWRkaW5nOjhweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubmF2LW1lbnUgLndyYXB7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzo0cHggNHB4IDNweCAtMnB4ICNjY2N9Lm5hdi1tZW51IC53cmFwIHVse2xpc3Qtc3R5bGUtdHlwZTpub25lO3BhZGRpbmc6MDttYXJnaW46MDtiYWNrZ3JvdW5kLWNvbG9yOiMwZDQ4ODR9Lm5hdi1tZW51IC53cmFwIHVsIGxpe3BhZGRpbmc6MCA1cHg7Y3Vyc29yOnBvaW50ZXI7bGluZS1oZWlnaHQ6MzBweDtmb250LXNpemU6MTJweH0ubmF2LW1lbnUgLndyYXAgdWwgbGk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDgyZjU2fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cIm5hdi1tZW51XCIgcmVmPVwibWVudVwiPlxuICAgIDxzcGFuIGNsYXNzPVwidGFyZ2V0XCI+XG4gICAgICA8c2xvdCBuYW1lPVwidGFyZ2V0XCI+PC9zbG90PlxuICAgIDwvc3Bhbj5cbiAgICA8ZGl2IGNsYXNzPVwid3JhcFwiIDpzdHlsZT1cInN0eWxlXCIgdi1zaG93PVwic2hvd1wiPlxuICAgICAgPHNsb3QgbmFtZT1cImxpc3RcIj48L3Nsb3Q+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxuLnRhcmdldCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogLThweDtcbiAgcGFkZGluZzogOHB4O1xufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4ubmF2LW1lbnUge1xuICAud3JhcCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDEwMDtcbiAgICBib3gtc2hhZG93OiA0cHggNHB4IDNweCAtMnB4ICNjY2M7XG4gICAgdWwge1xuICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtlbigkYmx1ZS1jb2xvciwgMTAlKTtcbiAgICAgIGxpIHtcbiAgICAgICAgcGFkZGluZzogMCA1cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKCRibHVlLWNvbG9yLCAyMCUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHtEZWxheUhvdmVyfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpcjogZmFsc2UsXG4gICAgICBzdHlsZToge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICB9LFxuICAgICAgc2hvdzogZmFsc2UsXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGVudGVyRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuMSxcbiAgICB9LFxuICAgIGxlYXZlRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICB9LFxuICBtb3VudGVkKCkge1xuICAgIHZhciBtZW51ID0gdGhpcy4kcmVmcy5tZW51XG4gICAgdmFyIGRob3ZlciA9IG5ldyBEZWxheUhvdmVyKG1lbnUsIHtcbiAgICAgIGVudGVyRGVsYXk6IHRoaXMuZW50ZXJEZWxheSxcbiAgICAgIGxlYXZlRGVsYXk6IHRoaXMubGVhdmVEZWxheSxcbiAgICB9KVxuICAgIGRob3Zlci5ob3ZlcihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2VcbiAgICAgIH1cbiAgICApXG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy4kZWxcbiAgICB0aGlzLnN0eWxlLnRvcCA9IHBhcmVudC5zdHlsZS5jbGllbnRIZWlnaHRcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5hdi1tZW51LnZ1ZT9jZDg4ODc4MCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIm1lbnVcIixcbiAgICBzdGF0aWNDbGFzczogXCJuYXYtbWVudVwiXG4gIH0sIFtfdm0uX2goJ3NwYW4nLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidGFyZ2V0XCJcbiAgfSwgW192bS5fdChcInRhcmdldFwiKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgIHZhbHVlOiAoX3ZtLnNob3cpLFxuICAgICAgZXhwcmVzc2lvbjogXCJzaG93XCJcbiAgICB9XSxcbiAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG4gICAgc3R5bGU6IChfdm0uc3R5bGUpXG4gIH0sIFtfdm0uX3QoXCJsaXN0XCIpXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYXBwXCJcbiAgfSwgW192bS5faCgnaGVhZGVyJywgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImxlZnRcIlxuICB9LCBbX3ZtLl9oKCduYXYtbWVudScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi51cGxvYWQnKVxuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHNsb3Q6IFwidGFyZ2V0XCJcbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuICAgIHNsb3Q6IFwibGlzdFwiXG4gIH0sIFtfdm0uX2goJ2xpJywge1xuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2xyYy1mb3JtYXQtdXBsb2FkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5scmMnKSkgKyBcIlxcbiAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdseXJpYy11cGxvYWQnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG4gIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLmx5cmljJykpICsgXCJcXG4gICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCd1cGxvYWQnLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIFwiYWNjZXB0XCI6IFwiYXVkaW8vKlwiLFxuICAgICAgXCJyZWFkLWZvcm1hdFwiOiBcIkRhdGFVUkxcIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwidXBsb2FkZWRcIjogX3ZtLnVwbG9hZE11c2ljXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubXVzaWMnKSldKV0pXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLnNhdmUnKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHJjLXNhdmUnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXNhdmVcIlxuICB9KV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJyaWdodFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBfdm0uZWRpdGluZyA/IF92bS4kdCgnYnV0dG9uLmNsb3NlX2VkaXQnKSA6IF92bS4kdCgnYnV0dG9uLm9wZW5fZWRpdCcpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmVkaXRpbmcgPSAhX3ZtLmVkaXRpbmdcbiAgICAgIH1cbiAgICB9XG4gIH0sIFsoX3ZtLmVkaXRpbmcpID8gW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiXG4gIH0pXSA6IFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcbiAgfSldLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24uaGVscCcpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdoZWxwJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1oZWxwLWNpcmNsZWRcIlxuICB9KV0pXSldKSwgXCIgXCIsIF92bS5faCgncGxheWVyJywge1xuICAgIHJlZjogXCJwbGF5ZXJcIixcbiAgICBhdHRyczoge1xuICAgICAgXCJzcmNcIjogX3ZtLm11c2ljVXJsXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJ0aW1ldXBkYXRlXCI6IF92bS50aW1ldXBkYXRlXG4gICAgfVxuICB9KSwgXCIgXCIsIF92bS5faCgnbHlyaWMtZWRpdG9yJywge1xuICAgIHJlZjogXCJseXJpY1wiLFxuICAgIHN0YXRpY0NsYXNzOiBcImx5cmljLWVkaXRvclwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcImVkaXRpbmdcIjogX3ZtLmVkaXRpbmcsXG4gICAgICBcInJ1bm5lclwiOiBfdm0ucnVubmVyLFxuICAgICAgXCJseXJpYy1hcnJheVwiOiBfdm0ubHlyaWNBcnJheSxcbiAgICAgIFwicGxheXRvXCI6IF92bS5wbGF5dG9cbiAgICB9XG4gIH0sIFtcIlxcbiAgICBseXJpYyBlZGl0b3JcXG4gIFwiXSksIFwiIFwiLCBfdm0uX2goJ2Zvb3RlcicsIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJsZWZ0XCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5yZW1vdmVMeXJpY1xuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcbiAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnYnV0dG9uLnJlbW92ZV9seXJpYycpKSArIFwiXFxuICAgICAgXCJdKV0pLCBcIiBcIiwgKF92bS5lZGl0aW5nKSA/IF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcInJpZ2h0XCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW1VQXVwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLmx5cmljLiRlbWl0KCdwcmV2bHlyaWMnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ2J1dHRvbi5wcmV2X2x5cmljJykpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltET1dOXVwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLmx5cmljLiRlbWl0KCduZXh0bHlyaWMnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ2J1dHRvbi5uZXh0X2x5cmljJykpXSldKSA6IF92bS5fZSgpXSksIFwiIFwiLCBfdm0uX2goJ21vZGFscycsIHtcbiAgICByZWY6IFwibW9kYWxzXCJcbiAgfSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IGkxOG4gZnJvbSAndnVlLWkxOG4nXG5pbXBvcnQgbG9jYWxlcyBmcm9tICcuL2xvY2FsZXMnXG5cbnZhciBsYW5nID0gKG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8ICdlbicpLnRvTG9jYWxlTG93ZXJDYXNlKClcblxuaWYgKCEgKGxhbmcgaW4gbG9jYWxlcykpIHtcbiAgaWYgKGxhbmcuaW5kZXhPZignLScpID49IDApIHtcbiAgICBsYW5nID0gbGFuZy5zcGxpdCgnLScpWzBdXG4gIH1cbn1cblxuVnVlLnVzZShpMThuKVxuXG5WdWUuY29uZmlnLmxhbmcgPSBsYW5nXG5WdWUubG9jYWxlKGxhbmcsIGxvY2FsZXNbbGFuZ10pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9pMThuLmpzIiwiLyohXG4gKiB2dWUtaTE4biB2NC43LjNcbiAqIChjKSAyMDE2IGthenV5YSBrYXdhZ3VjaGlcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmFiZWxIZWxwZXJzID0ge307XG5iYWJlbEhlbHBlcnMudHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5iYWJlbEhlbHBlcnM7XG5cbi8qKlxuICogd2FyblxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAqIEBwYXJhbSB7RXJyb3J9IFtlcnJdXG4gKlxuICovXG5cbmZ1bmN0aW9uIHdhcm4obXNnLCBlcnIpIHtcbiAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdbdnVlLWkxOG5dICcgKyBtc2cpO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBBc3NldCAoVnVlLCBsYW5nVk0pIHtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIG9yIHJldHJpZXZlIGEgZ2xvYmFsIGxvY2FsZSBkZWZpbml0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IFByb21pc2V9IGRlZmluaXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICovXG5cbiAgVnVlLmxvY2FsZSA9IGZ1bmN0aW9uIChpZCwgZGVmaW5pdGlvbiwgY2IpIHtcbiAgICBpZiAoZGVmaW5pdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBnZXR0dGVyXG4gICAgICByZXR1cm4gbGFuZ1ZNLmxvY2FsZXNbaWRdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXR0ZXJcbiAgICAgIGlmIChkZWZpbml0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVsZXRlIGxhbmdWTS5sb2NhbGVzW2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldExvY2FsZShpZCwgZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IGxvY2FsZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FybignZmFpbGVkIHNldCBgJyArIGlkICsgJ2AgbG9jYWxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2V0TG9jYWxlKGlkLCBkZWZpbml0aW9uLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICgodHlwZW9mIGRlZmluaXRpb24gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBiYWJlbEhlbHBlcnMudHlwZW9mKGRlZmluaXRpb24pKSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBzeW5jXG4gICAgY2IoZGVmaW5pdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmdXR1cmUgPSBkZWZpbml0aW9uLmNhbGwoX3RoaXMpO1xuICAgICAgaWYgKHR5cGVvZiBmdXR1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKGZ1dHVyZS5yZXNvbHZlZCkge1xuICAgICAgICAgIC8vIGNhY2hlZFxuICAgICAgICAgIGNiKGZ1dHVyZS5yZXNvbHZlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnV0dXJlLnJlcXVlc3RlZCkge1xuICAgICAgICAgIC8vIHBvb2wgY2FsbGJhY2tzXG4gICAgICAgICAgZnV0dXJlLnBlbmRpbmdDYWxsYmFja3MucHVzaChjYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1dHVyZS5yZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNicyA9IGZ1dHVyZS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcbiAgICAgICAgICAgIGZ1dHVyZShmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgIC8vIHJlc29sdmVcbiAgICAgICAgICAgICAgZnV0dXJlLnJlc29sdmVkID0gbG9jYWxlO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjYnNbaV0obG9jYWxlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyByZWplY3RcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKGZ1dHVyZSkpIHtcbiAgICAgICAgLy8gcHJvbWlzZVxuICAgICAgICBmdXR1cmUudGhlbihmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgLy8gcmVzb2x2ZVxuICAgICAgICAgIGNiKGxvY2FsZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyByZWplY3RcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3JnaXZpbmcgY2hlY2sgZm9yIGEgcHJvbWlzZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZShwKSB7XG4gIHJldHVybiBwICYmIHR5cGVvZiBwLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIE92ZXJyaWRlIChWdWUsIGxhbmdWTSwgdmVyc2lvbikge1xuICBmdW5jdGlvbiB1cGRhdGUodm0pIHtcbiAgICBpZiAodmVyc2lvbiA+IDEpIHtcbiAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHZtLl93YXRjaGVyc1tpXS51cGRhdGUodHJ1ZSk7IC8vIHNoYWxsb3cgdXBkYXRlc1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG92ZXJyaWRlIF9pbml0XG4gIHZhciBpbml0ID0gVnVlLnByb3RvdHlwZS5faW5pdDtcbiAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmICghdGhpcy4kcGFyZW50KSB7XG4gICAgICAvLyByb290XG4gICAgICB0aGlzLiRsYW5nID0gbGFuZ1ZNO1xuICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSB0aGlzLiRsYW5nLiR3YXRjaCgnJGRhdGEnLCBmdW5jdGlvbiAodmFsLCBvbGQpIHtcbiAgICAgICAgdXBkYXRlKF90aGlzKTtcbiAgICAgIH0sIHsgZGVlcDogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gb3ZlcnJpZGUgX2Rlc3Ryb3lcbiAgdmFyIGRlc3Ryb3kgPSBWdWUucHJvdG90eXBlLl9kZXN0cm95O1xuICBWdWUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kcGFyZW50ICYmIHRoaXMuX2xhbmdVbndhdGNoKSB7XG4gICAgICB0aGlzLl9sYW5nVW53YXRjaCgpO1xuICAgICAgdGhpcy5fbGFuZ1Vud2F0Y2ggPSBudWxsO1xuICAgICAgdGhpcy4kbGFuZyA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIE9ic2VydmVyXG4gKi9cblxudmFyIFdhdGNoZXIgPSB2b2lkIDA7XG4vKipcbiAqIGdldFdhdGNoZXJcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqIEByZXR1cm4ge1dhdGNoZXJ9XG4gKi9cblxuZnVuY3Rpb24gZ2V0V2F0Y2hlcih2bSkge1xuICBpZiAoIVdhdGNoZXIpIHtcbiAgICB2YXIgdW53YXRjaCA9IHZtLiR3YXRjaCgnX193YXRjaGVyX18nLCBmdW5jdGlvbiAoYSkge30pO1xuICAgIFdhdGNoZXIgPSB2bS5fd2F0Y2hlcnNbMF0uY29uc3RydWN0b3I7XG4gICAgdW53YXRjaCgpO1xuICB9XG4gIHJldHVybiBXYXRjaGVyO1xufVxuXG52YXIgRGVwID0gdm9pZCAwO1xuLyoqXG4gKiBnZXREZXBcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqIEByZXR1cm4ge0RlcH1cbiAqL1xuXG5mdW5jdGlvbiBnZXREZXAodm0pIHtcbiAgaWYgKCFEZXAgJiYgdm0gJiYgdm0uX2RhdGEgJiYgdm0uX2RhdGEuX19vYl9fICYmIHZtLl9kYXRhLl9fb2JfXy5kZXApIHtcbiAgICBEZXAgPSB2bS5fZGF0YS5fX29iX18uZGVwLmNvbnN0cnVjdG9yO1xuICB9XG4gIHJldHVybiBEZXA7XG59XG5cbnZhciBmYWxsYmFjayA9IHZvaWQgMDsgLy8gZmFsbGJhY2sgbGFuZ1xudmFyIG1pc3NpbmdIYW5kbGVyID0gbnVsbDsgLy8gbWlzc2luZyBoYW5kbGVyXG52YXIgaTE4bkZvcm1hdHRlciA9IG51bGw7IC8vIGN1c3RvbSBmb3JtYXR0ZXJcblxuZnVuY3Rpb24gQ29uZmlnIChWdWUsIGxhbmdWTSwgbGFuZykge1xuICB2YXIgYmluZCA9IFZ1ZS51dGlsLmJpbmQ7XG5cbiAgdmFyIFdhdGNoZXIgPSBnZXRXYXRjaGVyKGxhbmdWTSk7XG4gIHZhciBEZXAgPSBnZXREZXAobGFuZ1ZNKTtcblxuICBmdW5jdGlvbiBtYWtlQ29tcHV0ZWRHZXR0ZXIoZ2V0dGVyLCBvd25lcikge1xuICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIob3duZXIsIGdldHRlciwgbnVsbCwge1xuICAgICAgbGF6eTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyKCkge1xuICAgICAgd2F0Y2hlci5kaXJ0eSAmJiB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgICBEZXAgJiYgRGVwLnRhcmdldCAmJiB3YXRjaGVyLmRlcGVuZCgpO1xuICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGRlZmluZSBWdWUuY29uZmlnLmxhbmcgY29uZmlncmF0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbGFuZycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IG1ha2VDb21wdXRlZEdldHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbGFuZ1ZNLmxhbmc7XG4gICAgfSwgbGFuZ1ZNKSxcbiAgICBzZXQ6IGJpbmQoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgbGFuZ1ZNLmxhbmcgPSB2YWw7XG4gICAgfSwgbGFuZ1ZNKVxuICB9KTtcblxuICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5mYWxsYmFja0xhbmcgY29uZmlncmF0aW9uXG4gIGZhbGxiYWNrID0gbGFuZztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdmYWxsYmFja0xhbmcnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIGZhbGxiYWNrID0gdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVmaW5lIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIgY29uZmlncmF0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbWlzc2luZ0hhbmRsZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbWlzc2luZ0hhbmRsZXI7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIG1pc3NpbmdIYW5kbGVyID0gdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVmaW5lIFZ1ZS5jb25maWcuaTE4Rm9ybWF0dGVyIGNvbmZpZ3JhdGlvblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2kxOG5Gb3JtYXR0ZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaTE4bkZvcm1hdHRlcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgaTE4bkZvcm1hdHRlciA9IHZhbDtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIHV0aWxpdGVzXG4gKi9cblxuLyoqXG4gKiBpc05pbFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIEJvb2xlYW5cbiAqL1xuZnVuY3Rpb24gaXNOaWwodmFsKSB7XG4gIHJldHVybiB2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogIFN0cmluZyBmb3JtYXQgdGVtcGxhdGVcbiAqICAtIEluc3BpcmVkOlxuICogICAgaHR0cHM6Ly9naXRodWIuY29tL01hdHQtRXNjaC9zdHJpbmctdGVtcGxhdGUvaW5kZXguanNcbiAqL1xuXG52YXIgUkVfTkFSR1MgPSAvKCV8KVxceyhbMC05YS16QS1aX10rKVxcfS9nO1xuXG5mdW5jdGlvbiBGb3JtYXQgKFZ1ZSkge1xuICB2YXIgaGFzT3duID0gVnVlLnV0aWwuaGFzT3duO1xuXG4gIC8qKlxuICAgKiB0ZW1wbGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBiYWJlbEhlbHBlcnMudHlwZW9mKGFyZ3NbMF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcbiAgICAgIGFyZ3MgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoUkVfTkFSR1MsIGZ1bmN0aW9uIChtYXRjaCwgcHJlZml4LCBpLCBpbmRleCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcblxuICAgICAgaWYgKHN0cmluZ1tpbmRleCAtIDFdID09PSAneycgJiYgc3RyaW5nW2luZGV4ICsgbWF0Y2gubGVuZ3RoXSA9PT0gJ30nKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gaGFzT3duKGFyZ3MsIGkpID8gYXJnc1tpXSA6IG1hdGNoO1xuICAgICAgICBpZiAoaXNOaWwocmVzdWx0KSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogIFBhdGggcGFlcnNlclxuICogIC0gSW5zcGlyZWQ6ICBcbiAqICAgIFZ1ZS5qcyBQYXRoIHBhcnNlclxuICovXG5cbi8vIGNhY2hlXG52YXIgcGF0aENhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gYWN0aW9uc1xudmFyIEFQUEVORCA9IDA7XG52YXIgUFVTSCA9IDE7XG52YXIgSU5DX1NVQl9QQVRIX0RFUFRIID0gMjtcbnZhciBQVVNIX1NVQl9QQVRIID0gMztcblxuLy8gc3RhdGVzXG52YXIgQkVGT1JFX1BBVEggPSAwO1xudmFyIElOX1BBVEggPSAxO1xudmFyIEJFRk9SRV9JREVOVCA9IDI7XG52YXIgSU5fSURFTlQgPSAzO1xudmFyIElOX1NVQl9QQVRIID0gNDtcbnZhciBJTl9TSU5HTEVfUVVPVEUgPSA1O1xudmFyIElOX0RPVUJMRV9RVU9URSA9IDY7XG52YXIgQUZURVJfUEFUSCA9IDc7XG52YXIgRVJST1IgPSA4O1xuXG52YXIgcGF0aFN0YXRlTWFjaGluZSA9IFtdO1xuXG5wYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9QQVRIXSA9IHtcbiAgJ3dzJzogW0JFRk9SRV9QQVRIXSxcbiAgJ2lkZW50JzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnWyc6IFtJTl9TVUJfUEFUSF0sXG4gICdlb2YnOiBbQUZURVJfUEFUSF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fUEFUSF0gPSB7XG4gICd3cyc6IFtJTl9QQVRIXSxcbiAgJy4nOiBbQkVGT1JFX0lERU5UXSxcbiAgJ1snOiBbSU5fU1VCX1BBVEhdLFxuICAnZW9mJzogW0FGVEVSX1BBVEhdXG59O1xuXG5wYXRoU3RhdGVNYWNoaW5lW0JFRk9SRV9JREVOVF0gPSB7XG4gICd3cyc6IFtCRUZPUkVfSURFTlRdLFxuICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fSURFTlRdID0ge1xuICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF0sXG4gICcwJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnbnVtYmVyJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuICAnd3MnOiBbSU5fUEFUSCwgUFVTSF0sXG4gICcuJzogW0JFRk9SRV9JREVOVCwgUFVTSF0sXG4gICdbJzogW0lOX1NVQl9QQVRILCBQVVNIXSxcbiAgJ2VvZic6IFtBRlRFUl9QQVRILCBQVVNIXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9TVUJfUEFUSF0gPSB7XG4gIFwiJ1wiOiBbSU5fU0lOR0xFX1FVT1RFLCBBUFBFTkRdLFxuICAnXCInOiBbSU5fRE9VQkxFX1FVT1RFLCBBUFBFTkRdLFxuICAnWyc6IFtJTl9TVUJfUEFUSCwgSU5DX1NVQl9QQVRIX0RFUFRIXSxcbiAgJ10nOiBbSU5fUEFUSCwgUFVTSF9TVUJfUEFUSF0sXG4gICdlb2YnOiBFUlJPUixcbiAgJ2Vsc2UnOiBbSU5fU1VCX1BBVEgsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fU0lOR0xFX1FVT1RFXSA9IHtcbiAgXCInXCI6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXSxcbiAgJ2VvZic6IEVSUk9SLFxuICAnZWxzZSc6IFtJTl9TSU5HTEVfUVVPVEUsIEFQUEVORF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbSU5fRE9VQkxFX1FVT1RFXSA9IHtcbiAgJ1wiJzogW0lOX1NVQl9QQVRILCBBUFBFTkRdLFxuICAnZW9mJzogRVJST1IsXG4gICdlbHNlJzogW0lOX0RPVUJMRV9RVU9URSwgQVBQRU5EXVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhbiBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXhwXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbnZhciBsaXRlcmFsVmFsdWVSRSA9IC9eXFxzPyh0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xuZnVuY3Rpb24gaXNMaXRlcmFsKGV4cCkge1xuICByZXR1cm4gbGl0ZXJhbFZhbHVlUkUudGVzdChleHApO1xufVxuXG4vKipcbiAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nIHwgZmFsc2V9XG4gKi9cblxuZnVuY3Rpb24gc3RyaXBRdW90ZXMoc3RyKSB7XG4gIHZhciBhID0gc3RyLmNoYXJDb2RlQXQoMCk7XG4gIHZhciBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gYSA9PT0gYiAmJiAoYSA9PT0gMHgyMiB8fCBhID09PSAweDI3KSA/IHN0ci5zbGljZSgxLCAtMSkgOiBzdHI7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgY2hhcmFjdGVyIGluIGEga2V5cGF0aC5cbiAqXG4gKiBAcGFyYW0ge0NoYXJ9IGNoXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHR5cGVcbiAqL1xuXG5mdW5jdGlvbiBnZXRQYXRoQ2hhclR5cGUoY2gpIHtcbiAgaWYgKGNoID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJ2VvZic7XG4gIH1cblxuICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG5cbiAgc3dpdGNoIChjb2RlKSB7XG4gICAgY2FzZSAweDVCOiAvLyBbXG4gICAgY2FzZSAweDVEOiAvLyBdXG4gICAgY2FzZSAweDJFOiAvLyAuXG4gICAgY2FzZSAweDIyOiAvLyBcIlxuICAgIGNhc2UgMHgyNzogLy8gJ1xuICAgIGNhc2UgMHgzMDpcbiAgICAgIC8vIDBcbiAgICAgIHJldHVybiBjaDtcblxuICAgIGNhc2UgMHg1RjogLy8gX1xuICAgIGNhc2UgMHgyNDogLy8gJFxuICAgIGNhc2UgMHgyRDpcbiAgICAgIC8vIC1cbiAgICAgIHJldHVybiAnaWRlbnQnO1xuXG4gICAgY2FzZSAweDIwOiAvLyBTcGFjZVxuICAgIGNhc2UgMHgwOTogLy8gVGFiXG4gICAgY2FzZSAweDBBOiAvLyBOZXdsaW5lXG4gICAgY2FzZSAweDBEOiAvLyBSZXR1cm5cbiAgICBjYXNlIDB4QTA6IC8vIE5vLWJyZWFrIHNwYWNlXG4gICAgY2FzZSAweEZFRkY6IC8vIEJ5dGUgT3JkZXIgTWFya1xuICAgIGNhc2UgMHgyMDI4OiAvLyBMaW5lIFNlcGFyYXRvclxuICAgIGNhc2UgMHgyMDI5OlxuICAgICAgLy8gUGFyYWdyYXBoIFNlcGFyYXRvclxuICAgICAgcmV0dXJuICd3cyc7XG4gIH1cblxuICAvLyBhLXosIEEtWlxuICBpZiAoY29kZSA+PSAweDYxICYmIGNvZGUgPD0gMHg3QSB8fCBjb2RlID49IDB4NDEgJiYgY29kZSA8PSAweDVBKSB7XG4gICAgcmV0dXJuICdpZGVudCc7XG4gIH1cblxuICAvLyAxLTlcbiAgaWYgKGNvZGUgPj0gMHgzMSAmJiBjb2RlIDw9IDB4MzkpIHtcbiAgICByZXR1cm4gJ251bWJlcic7XG4gIH1cblxuICByZXR1cm4gJ2Vsc2UnO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xuICogYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuIE90aGVyd2lzZSBwcmVwZW5kIHRoZVxuICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0U3ViUGF0aChwYXRoKSB7XG4gIHZhciB0cmltbWVkID0gcGF0aC50cmltKCk7XG4gIC8vIGludmFsaWQgbGVhZGluZyAwXG4gIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJzAnICYmIGlzTmFOKHBhdGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGlzTGl0ZXJhbCh0cmltbWVkKSA/IHN0cmlwUXVvdGVzKHRyaW1tZWQpIDogJyonICsgdHJpbW1lZDtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIHN0cmluZyBwYXRoIGludG8gYW4gYXJyYXkgb2Ygc2VnbWVudHNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHZhciBtb2RlID0gQkVGT1JFX1BBVEg7XG4gIHZhciBzdWJQYXRoRGVwdGggPSAwO1xuICB2YXIgYyA9IHZvaWQgMCxcbiAgICAgIG5ld0NoYXIgPSB2b2lkIDAsXG4gICAgICBrZXkgPSB2b2lkIDAsXG4gICAgICB0eXBlID0gdm9pZCAwLFxuICAgICAgdHJhbnNpdGlvbiA9IHZvaWQgMCxcbiAgICAgIGFjdGlvbiA9IHZvaWQgMCxcbiAgICAgIHR5cGVNYXAgPSB2b2lkIDA7XG5cbiAgdmFyIGFjdGlvbnMgPSBbXTtcblxuICBhY3Rpb25zW1BVU0hdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICBrZXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIGFjdGlvbnNbQVBQRU5EXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleSA9IG5ld0NoYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSArPSBuZXdDaGFyO1xuICAgIH1cbiAgfTtcblxuICBhY3Rpb25zW0lOQ19TVUJfUEFUSF9ERVBUSF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgYWN0aW9uc1tBUFBFTkRdKCk7XG4gICAgc3ViUGF0aERlcHRoKys7XG4gIH07XG5cbiAgYWN0aW9uc1tQVVNIX1NVQl9QQVRIXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3ViUGF0aERlcHRoID4gMCkge1xuICAgICAgc3ViUGF0aERlcHRoLS07XG4gICAgICBtb2RlID0gSU5fU1VCX1BBVEg7XG4gICAgICBhY3Rpb25zW0FQUEVORF0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ViUGF0aERlcHRoID0gMDtcbiAgICAgIGtleSA9IGZvcm1hdFN1YlBhdGgoa2V5KTtcbiAgICAgIGlmIChrZXkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnNbUFVTSF0oKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gbWF5YmVVbmVzY2FwZVF1b3RlKCkge1xuICAgIHZhciBuZXh0Q2hhciA9IHBhdGhbaW5kZXggKyAxXTtcbiAgICBpZiAobW9kZSA9PT0gSU5fU0lOR0xFX1FVT1RFICYmIG5leHRDaGFyID09PSBcIidcIiB8fCBtb2RlID09PSBJTl9ET1VCTEVfUVVPVEUgJiYgbmV4dENoYXIgPT09ICdcIicpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgICBuZXdDaGFyID0gJ1xcXFwnICsgbmV4dENoYXI7XG4gICAgICBhY3Rpb25zW0FQUEVORF0oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChtb2RlICE9IG51bGwpIHtcbiAgICBpbmRleCsrO1xuICAgIGMgPSBwYXRoW2luZGV4XTtcblxuICAgIGlmIChjID09PSAnXFxcXCcgJiYgbWF5YmVVbmVzY2FwZVF1b3RlKCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHR5cGUgPSBnZXRQYXRoQ2hhclR5cGUoYyk7XG4gICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XG4gICAgdHJhbnNpdGlvbiA9IHR5cGVNYXBbdHlwZV0gfHwgdHlwZU1hcFsnZWxzZSddIHx8IEVSUk9SO1xuXG4gICAgaWYgKHRyYW5zaXRpb24gPT09IEVSUk9SKSB7XG4gICAgICByZXR1cm47IC8vIHBhcnNlIGVycm9yXG4gICAgfVxuXG4gICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XG4gICAgYWN0aW9uID0gYWN0aW9uc1t0cmFuc2l0aW9uWzFdXTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBuZXdDaGFyID0gdHJhbnNpdGlvblsyXTtcbiAgICAgIG5ld0NoYXIgPSBuZXdDaGFyID09PSB1bmRlZmluZWQgPyBjIDogbmV3Q2hhcjtcbiAgICAgIGlmIChhY3Rpb24oKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb2RlID09PSBBRlRFUl9QQVRIKSB7XG4gICAgICBrZXlzLnJhdyA9IHBhdGg7XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRlcm5hbCBwYXJzZSB0aGF0IGNoZWNrIGZvciBhIGNhY2hlIGhpdCBmaXJzdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9XG4gKi9cblxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIGhpdCA9IHBhdGhDYWNoZVtwYXRoXTtcbiAgaWYgKCFoaXQpIHtcbiAgICBoaXQgPSBwYXJzZShwYXRoKTtcbiAgICBpZiAoaGl0KSB7XG4gICAgICBwYXRoQ2FjaGVbcGF0aF0gPSBoaXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBoaXQ7XG59XG5cbmZ1bmN0aW9uIFBhdGggKFZ1ZSkge1xuICB2YXIgX1Z1ZSR1dGlsID0gVnVlLnV0aWw7XG4gIHZhciBpc09iamVjdCA9IF9WdWUkdXRpbC5pc09iamVjdDtcbiAgdmFyIGlzUGxhaW5PYmplY3QgPSBfVnVlJHV0aWwuaXNQbGFpbk9iamVjdDtcbiAgdmFyIGhhc093biA9IF9WdWUkdXRpbC5oYXNPd247XG5cblxuICBmdW5jdGlvbiBlbXB0eSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICBpZiAoaGFzT3duKHRhcmdldCwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItY29uc3QgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmFsdWUgZnJvbSBwYXRoIHN0cmluZ1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gICAqIEByZXR1cm4gdmFsdWVcbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcGF0aHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgaWYgKGVtcHR5KHBhdGhzKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICB2YXIgbGFzdCA9IG9iajtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGxhc3RbcGF0aHNbaV1dO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGFzdCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHZhbHVlO1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldCA9IGxhc3Q7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIHJldHVybiBnZXRWYWx1ZTtcbn1cblxuLyoqXG4gKiBleHRlbmRcbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gVnVlXG4gKiBAcmV0dXJuIHtWdWV9XG4gKi9cblxuZnVuY3Rpb24gRXh0ZW5kIChWdWUpIHtcbiAgdmFyIF9WdWUkdXRpbCA9IFZ1ZS51dGlsO1xuICB2YXIgaXNPYmplY3QgPSBfVnVlJHV0aWwuaXNPYmplY3Q7XG4gIHZhciBiaW5kID0gX1Z1ZSR1dGlsLmJpbmQ7XG5cbiAgdmFyIGZvcm1hdCA9IEZvcm1hdChWdWUpO1xuICB2YXIgZ2V0VmFsdWUgPSBQYXRoKFZ1ZSk7XG5cbiAgZnVuY3Rpb24gcGFyc2VBcmdzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBsYW5nID0gVnVlLmNvbmZpZy5sYW5nO1xuICAgIHZhciBmYWxsYmFjayA9IFZ1ZS5jb25maWcuZmFsbGJhY2tMYW5nO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXJnc1swXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGxhbmcgPSBhcmdzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGFuZyA9IGFyZ3NbMF07XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QoYXJnc1sxXSkgfHwgQXJyYXkuaXNBcnJheShhcmdzWzFdKSkge1xuICAgICAgICBhcmdzID0gYXJnc1sxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBsYW5nOiBsYW5nLCBmYWxsYmFjazogZmFsbGJhY2ssIHBhcmFtczogYXJncyB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaW50ZXJwb2xhdGUobG9jYWxlLCBrZXksIGFyZ3MpIHtcbiAgICBpZiAoIWxvY2FsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbCA9IGdldFZhbHVlKGxvY2FsZSwga2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAoaXNOaWwodmFsKSkge1xuICAgICAgdmFsID0gbG9jYWxlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05pbCh2YWwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgdGhlIGV4aXN0YW5jZSBvZiBsaW5rcyB3aXRoaW4gdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG4gICAgaWYgKHZhbC5pbmRleE9mKCdAOicpID49IDApIHtcbiAgICAgIC8vIE1hdGNoIGFsbCB0aGUgbGlua3Mgd2l0aGluIHRoZSBsb2NhbFxuICAgICAgLy8gV2UgYXJlIGdvaW5nIHRvIHJlcGxhY2UgZWFjaCBvZlxuICAgICAgLy8gdGhlbSB3aXRoIGl0cyB0cmFuc2xhdGlvblxuICAgICAgdmFyIG1hdGNoZXMgPSB2YWwubWF0Y2goLyhAOltcXHd8Ll0rKS9nKTtcbiAgICAgIGZvciAodmFyIGlkeCBpbiBtYXRjaGVzKSB7XG4gICAgICAgIHZhciBsaW5rID0gbWF0Y2hlc1tpZHhdO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGxlYWRpbmcgQDpcbiAgICAgICAgdmFyIGxpbmtQbGFjZWhvbGRlciA9IGxpbmsuc3Vic3RyKDIpO1xuICAgICAgICAvLyBUcmFuc2xhdGUgdGhlIGxpbmtcbiAgICAgICAgdmFyIHRyYW5zbGF0ZWRzdHJpbmcgPSBpbnRlcnBvbGF0ZShsb2NhbGUsIGxpbmtQbGFjZWhvbGRlciwgYXJncyk7XG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGxpbmsgd2l0aCB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcbiAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UobGluaywgdHJhbnNsYXRlZHN0cmluZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICFhcmdzID8gdmFsIDogVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyID8gVnVlLmNvbmZpZy5pMThuRm9ybWF0dGVyLmFwcGx5KG51bGwsIFt2YWxdLmNvbmNhdChhcmdzKSkgOiBmb3JtYXQodmFsLCBhcmdzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZShnZXR0ZXIsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykge1xuICAgIHZhciByZXMgPSBudWxsO1xuICAgIHJlcyA9IGludGVycG9sYXRlKGdldHRlcihsYW5nKSwga2V5LCBwYXJhbXMpO1xuICAgIGlmICghaXNOaWwocmVzKSkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICByZXMgPSBpbnRlcnBvbGF0ZShnZXR0ZXIoZmFsbGJhY2spLCBrZXksIHBhcmFtcyk7XG4gICAgaWYgKCFpc05pbChyZXMpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuKCdGYWxsIGJhY2sgdG8gdHJhbnNsYXRlIHRoZSBrZXlwYXRoIFwiJyArIGtleSArICdcIiB3aXRoIFwiJyArIGZhbGxiYWNrICsgJ1wiIGxhbmd1YWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gd2FybkRlZmF1bHQobGFuZywga2V5LCB2bSwgcmVzdWx0KSB7XG4gICAgaWYgKCFpc05pbChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybignQ2Fubm90IHRyYW5zbGF0ZSB0aGUgdmFsdWUgb2Yga2V5cGF0aCBcIicgKyBrZXkgKyAnXCIuICcgKyAnVXNlIHRoZSB2YWx1ZSBvZiBrZXlwYXRoIGFzIGRlZmF1bHQnKTtcbiAgICB9XG4gICAgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlciAmJiBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyLmFwcGx5KG51bGwsIFtsYW5nLCBrZXksIHZtXSk7XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFzc2V0TG9jYWxlKGxhbmcpIHtcbiAgICByZXR1cm4gVnVlLmxvY2FsZShsYW5nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbXBvbmVudExvY2FsZShsYW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJG9wdGlvbnMubG9jYWxlc1tsYW5nXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE9sZENob2ljZUluZGV4Rml4ZWQoY2hvaWNlKSB7XG4gICAgcmV0dXJuIGNob2ljZSA/IGNob2ljZSA+IDEgPyAxIDogMCA6IDE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcbiAgICBjaG9pY2UgPSBNYXRoLmFicyhjaG9pY2UpO1xuXG4gICAgaWYgKGNob2ljZXNMZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBnZXRPbGRDaG9pY2VJbmRleEZpeGVkKGNob2ljZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZSA/IE1hdGgubWluKGNob2ljZSwgMikgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hDaG9pY2UobG9jYWxlLCBjaG9pY2UpIHtcbiAgICBpZiAoIWxvY2FsZSAmJiB0eXBlb2YgbG9jYWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjaG9pY2VzID0gbG9jYWxlLnNwbGl0KCd8Jyk7XG5cbiAgICBjaG9pY2UgPSBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXMubGVuZ3RoKTtcbiAgICBpZiAoIWNob2ljZXNbY2hvaWNlXSkge1xuICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG4gICAgcmV0dXJuIGNob2ljZXNbY2hvaWNlXS50cmltKCk7XG4gIH1cblxuICAvKipcbiAgICogVnVlLnRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG5cbiAgVnVlLnQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VBcmdzID0gcGFyc2VBcmdzLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cbiAgICB2YXIgbGFuZyA9IF9wYXJzZUFyZ3MubGFuZztcbiAgICB2YXIgZmFsbGJhY2sgPSBfcGFyc2VBcmdzLmZhbGxiYWNrO1xuICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzLnBhcmFtcztcblxuICAgIHJldHVybiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIG51bGwsIHRyYW5zbGF0ZShnZXRBc3NldExvY2FsZSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZ1ZS50Y1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gY2hvaWNlXG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBWdWUudGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHJldHVybiBmZXRjaENob2ljZShWdWUudC5hcHBseShWdWUsIFtrZXldLmNvbmNhdChhcmdzKSksIGNob2ljZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICR0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuXG4gIFZ1ZS5wcm90b3R5cGUuJHQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VBcmdzMiA9IHBhcnNlQXJncy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuXG4gICAgdmFyIGxhbmcgPSBfcGFyc2VBcmdzMi5sYW5nO1xuICAgIHZhciBmYWxsYmFjayA9IF9wYXJzZUFyZ3MyLmZhbGxiYWNrO1xuICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzMi5wYXJhbXM7XG5cbiAgICB2YXIgcmVzID0gbnVsbDtcbiAgICBpZiAodGhpcy4kb3B0aW9ucy5sb2NhbGVzKSB7XG4gICAgICByZXMgPSB0cmFuc2xhdGUoYmluZChnZXRDb21wb25lbnRMb2NhbGUsIHRoaXMpLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gd2FybkRlZmF1bHQobGFuZywga2V5LCB0aGlzLCB0cmFuc2xhdGUoZ2V0QXNzZXRMb2NhbGUsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAkdGNcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGNob2ljZVxuICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG5cbiAgVnVlLnByb3RvdHlwZS4kdGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcbiAgICBpZiAodHlwZW9mIGNob2ljZSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGNob2ljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjUgPiAyID8gX2xlbjUgLSAyIDogMCksIF9rZXk1ID0gMjsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgYXJnc1tfa2V5NSAtIDJdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmV0Y2hDaG9pY2UodGhpcy4kdC5hcHBseSh0aGlzLCBba2V5XS5jb25jYXQoYXJncykpLCBjaG9pY2UpO1xuICB9O1xuXG4gIHJldHVybiBWdWU7XG59XG5cbnZhciBsYW5nVk0gPSB2b2lkIDA7IC8vIHNpbmdsZXRvblxuXG4vKipcbiAqIHBsdWdpblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBWdWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cblxuZnVuY3Rpb24gcGx1Z2luKFZ1ZSkge1xuICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gIHZhciB2ZXJzaW9uID0gVnVlLnZlcnNpb24gJiYgTnVtYmVyKFZ1ZS52ZXJzaW9uLnNwbGl0KCcuJylbMF0pIHx8IC0xO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHBsdWdpbi5pbnN0YWxsZWQpIHtcbiAgICB3YXJuKCdhbHJlYWR5IGluc3RhbGxlZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB2ZXJzaW9uIDwgMSkge1xuICAgIHdhcm4oJ3Z1ZS1pMThuICgnICsgcGx1Z2luLnZlcnNpb24gKyAnKSBuZWVkIHRvIHVzZSB2dWUgdmVyc2lvbiAxLjAgb3IgbGF0ZXIgKHZ1ZSB2ZXJzaW9uOiAnICsgVnVlLnZlcnNpb24gKyAnKS4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbGFuZyA9ICdlbic7XG4gIHNldHVwTGFuZ1ZNKFZ1ZSwgbGFuZyk7XG5cbiAgQXNzZXQoVnVlLCBsYW5nVk0pO1xuICBPdmVycmlkZShWdWUsIGxhbmdWTSwgdmVyc2lvbik7XG4gIENvbmZpZyhWdWUsIGxhbmdWTSwgbGFuZyk7XG4gIEV4dGVuZChWdWUpO1xufVxuXG5mdW5jdGlvbiBzZXR1cExhbmdWTShWdWUsIGxhbmcpIHtcbiAgdmFyIHNpbGVudCA9IFZ1ZS5jb25maWcuc2lsZW50O1xuICBWdWUuY29uZmlnLnNpbGVudCA9IHRydWU7XG4gIGlmICghbGFuZ1ZNKSB7XG4gICAgbGFuZ1ZNID0gbmV3IFZ1ZSh7IGRhdGE6IHsgbGFuZzogbGFuZywgbG9jYWxlczoge30gfSB9KTtcbiAgfVxuICBWdWUuY29uZmlnLnNpbGVudCA9IHNpbGVudDtcbn1cblxucGx1Z2luLnZlcnNpb24gPSAnNC43LjMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZ1ZSkge1xuICB3aW5kb3cuVnVlLnVzZShwbHVnaW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1pMThuL2Rpc3QvdnVlLWkxOG4uY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGxvY2FsZXMgPSB7fVxuXG47W1xuICAnZW4nLFxuICAnemgnLFxuXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgbG9jYWxlc1trZXldID0gcmVxdWlyZSgnLi8nICsga2V5KVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxlc1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbG9jYWxlcy9pbmRleC5qcyIsInZhciBtYXAgPSB7XG5cdFwiLi9lblwiOiAxMDcsXG5cdFwiLi9lbi55bWxcIjogMTA3LFxuXHRcIi4vaW5kZXhcIjogMTA1LFxuXHRcIi4vaW5kZXguanNcIjogMTA1LFxuXHRcIi4vemhcIjogMTA4LFxuXHRcIi4vemgueW1sXCI6IDEwOFxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxMDY7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xvY2FsZXMgXlxcLlxcLy4qJFxuLy8gbW9kdWxlIGlkID0gMTA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImJ1dHRvblwiOiB7XG5cdFx0XCJ1cGxvYWRcIjogXCJ1cGxvYWRcIixcblx0XHRcInNhdmVcIjogXCJzYXZlXCIsXG5cdFx0XCJjbG9zZV9lZGl0XCI6IFwiY2xvc2UgZWRpdFwiLFxuXHRcdFwib3Blbl9lZGl0XCI6IFwib3BlbiBlZGl0XCIsXG5cdFx0XCJoZWxwXCI6IFwiaGVscFwiLFxuXHRcdFwibHJjX2luZm9cIjogXCJpbmZvXCIsXG5cdFx0XCJyZW1vdmVfbHlyaWNcIjogXCJyZW1vdmUgbHlyaWNcIixcblx0XHRcInByZXZfbHlyaWNcIjogXCJwcmV2IGx5cmljXCIsXG5cdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdH0sXG5cdFwibWVudVwiOiB7XG5cdFx0XCJ1cGxvYWRcIjoge1xuXHRcdFx0XCJscmNcIjogXCJMUkMgZm9ybWF0IGx5cmljXCIsXG5cdFx0XHRcImx5cmljXCI6IFwibHlyaWMgdGV4dFwiLFxuXHRcdFx0XCJtdXNpY1wiOiBcIm11c2ljXCJcblx0XHR9XG5cdH0sXG5cdFwibW9kYWxcIjoge1xuXHRcdFwibHJjX2Zvcm1hdF9zYXZlXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJMeXJpY3MgU2F2ZVwiLFxuXHRcdFx0XCJpbmZvX3RpdGxlXCI6IFwiTHlyaWNzIEluZm9cIixcblx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwiU29uZSBUaXRsZVwiLFxuXHRcdFx0XHRcImFydGlzdFwiOiBcIkFydGlzdFwiLFxuXHRcdFx0XHRcImFsYnVtXCI6IFwiQWxidW1cIixcblx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwiU29uZ3RleHQgQ3JlYXRvclwiLFxuXHRcdFx0XHRcImxyY19jcmVhdG9yXCI6IFwiTFJDIENyZWF0b3JcIlxuXHRcdFx0fSxcblx0XHRcdFwic2F2ZV90aXRsZVwiOiBcIkx5cmljc1wiLFxuXHRcdFx0XCJjb21iaW5lXCI6IFwiY29tYmluZSBseXJpY3NcIixcblx0XHRcdFwiZG93bmxvYWRcIjogXCJseXJpY3MgZmlsZSBkb3dubG9hZFwiXG5cdFx0fSxcblx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJVcGxvYWQgTFJDIEZvcm1hdFwiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlVwbG9hZCB0aW1lc3RhbXBlZCBseXJpY3NcIixcblx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdH0sXG5cdFx0XCJseXJpY191cGxvYWRcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIlVwbG9hZCBUZXh0IEx5cmljc1wiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlBsYWluIFRleHQgbHlyaWNzLCBseXJpY3MgZGl2aWRlZCBieSBhIG5ld2xpbmVcIixcblx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdH0sXG5cdFx0XCJoZWxwXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCJIZWxwXCIsXG5cdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcInNob3J0Y3V0IGtleVwiLFxuXHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwicGxheSBjb250cm9sXCIsXG5cdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFwiYmFja3dhcmRcIjogXCJiYWNrd2FyZFwiLFxuXHRcdFx0XHRcImZvcndhcmRcIjogXCJmb3J3YXJkXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIm1ha2UgbHJjXCIsXG5cdFx0XHRcdFwidXBfa2V5XCI6IFwiPFVwPlwiLFxuXHRcdFx0XHRcImRvd25fa2V5XCI6IFwiPERvd24+XCIsXG5cdFx0XHRcdFwicHJldl9seXJpY1wiOiBcInByZXYgbHlyaWNcIixcblx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwibmV4dCBseXJpY1wiXG5cdFx0XHR9LFxuXHRcdFx0XCJzb3VyY2VfY29kZVwiOiBcInNvdXJjZSBjb2RlXCJcblx0XHR9LFxuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwib2tcIjogXCJva1wiLFxuXHRcdFx0XCJjYW5jZWxcIjogXCJjYW5jZWxcIlxuXHRcdH1cblx0fSxcblx0XCJseXJpY19lZGl0b3JcIjoge1xuXHRcdFwiZWRpdFwiOiBcImVkaXRcIixcblx0XHRcImFkZFwiOiBcImFkZFwiLFxuXHRcdFwicmVtb3ZlXCI6IFwicmVtb3ZlXCIsXG5cdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwicmVtb3ZlIHRpbWVzdGFtcFwiLFxuXHRcdFwicGxheV90b190aGlzX2x5cmljXCI6IFwicGxheSB0byB0aGlzIGx5cmljXCIsXG5cdFx0XCJmb2xsb3dpbmdfdW5zb3J0ZWRcIjogXCJUaGUgZm9sbG93aW5nIHVuc29ydGVkXCJcblx0fVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xvY2FsZXMvZW4ueW1sXG4vLyBtb2R1bGUgaWQgPSAxMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiYnV0dG9uXCI6IHtcblx0XHRcInVwbG9hZFwiOiBcIuS4iuS8oFwiLFxuXHRcdFwic2F2ZVwiOiBcIuS/neWtmFwiLFxuXHRcdFwiY2xvc2VfZWRpdFwiOiBcIuWFs+mXree8lui+kVwiLFxuXHRcdFwib3Blbl9lZGl0XCI6IFwi5omT5byA57yW6L6RXCIsXG5cdFx0XCJoZWxwXCI6IFwi5biu5YqpXCIsXG5cdFx0XCJscmNfaW5mb1wiOiBcIuS/oeaBr1wiLFxuXHRcdFwicmVtb3ZlX2x5cmljXCI6IFwi5riF6Zmk5q2M6K+NXCIsXG5cdFx0XCJwcmV2X2x5cmljXCI6IFwi5LiK5LiA5p2h5q2M6K+NXCIsXG5cdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0fSxcblx0XCJtZW51XCI6IHtcblx0XHRcInVwbG9hZFwiOiB7XG5cdFx0XHRcImxyY1wiOiBcIkxSQ+agvOW8j+atjOivjVwiLFxuXHRcdFx0XCJseXJpY1wiOiBcIuatjOivjeaWh+acrFwiLFxuXHRcdFx0XCJtdXNpY1wiOiBcIumfs+S5kFwiXG5cdFx0fVxuXHR9LFxuXHRcIm1vZGFsXCI6IHtcblx0XHRcImxyY19mb3JtYXRfc2F2ZVwiOiB7XG5cdFx0XHRcInRpdGxlXCI6IFwi5L+d5a2Y5q2M6K+NXCIsXG5cdFx0XHRcImluZm9fdGl0bGVcIjogXCLmrYzor43kv6Hmga9cIixcblx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwi5q2M5ZCNXCIsXG5cdFx0XHRcdFwiYXJ0aXN0XCI6IFwi6Im65pyv5a62XCIsXG5cdFx0XHRcdFwiYWxidW1cIjogXCLkuJPovpFcIixcblx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwi5q2M6K+N5L2c6ICFXCIsXG5cdFx0XHRcdFwibHJjX2NyZWF0b3JcIjogXCJMUkMg5Yib5bu66ICFXCJcblx0XHRcdH0sXG5cdFx0XHRcInNhdmVfdGl0bGVcIjogXCLmrYzor41cIixcblx0XHRcdFwiY29tYmluZVwiOiBcIuWQiOW5tuatjOivjVwiLFxuXHRcdFx0XCJkb3dubG9hZFwiOiBcIuS4i+i9veatjOivjeaWh+S7tlwiXG5cdFx0fSxcblx0XHRcImxyY19mb3JtYXRfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKBMUkPmoLzlvI/mlofmnKxcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLkuIrkvKDlt7Lnu4/ljIXlkKvml7bpl7TmiLPnmoTmrYzor41cIixcblx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHR9LFxuXHRcdFwibHlyaWNfdXBsb2FkXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKDmrYzor43mlofmnKxcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLnuq/mlofmnKzmrYzor43vvIznlKjmjaLooYzlr7nmrYzor43liJLliIZcIixcblx0XHRcdFwidXBsb2FkXCI6IFwi5LuO5paH5Lu26K+75Y+WXCJcblx0XHR9LFxuXHRcdFwiaGVscFwiOiB7XG5cdFx0XHRcInRpdGxlXCI6IFwi5biu5YqpXCIsXG5cdFx0XHRcInNob3J0Y3V0X2tleVwiOiBcIuW/q+aNt+mUrlwiLFxuXHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5pKt5pS+5o6n5Yi2XCIsXG5cdFx0XHRcdFwibGVmdF9rZXlcIjogXCI8TGVmdD5cIixcblx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFwiYmFja3dhcmRcIjogXCLlkI7pgIBcIixcblx0XHRcdFx0XCJmb3J3YXJkXCI6IFwi5YmN6L+bXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIuWItuS9nOatjOivjVwiLFxuXHRcdFx0XHRcInVwX2tleVwiOiBcIjxVcD5cIixcblx0XHRcdFx0XCJkb3duX2tleVwiOiBcIjxEb3duPlwiLFxuXHRcdFx0XHRcInByZXZfbHlyaWNcIjogXCLkuIrkuIDmnaHmrYzor41cIixcblx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0XHRcdH0sXG5cdFx0XHRcInNvdXJjZV9jb2RlXCI6IFwi5rqQ56CBXCJcblx0XHR9LFxuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwib2tcIjogXCLnoa7orqRcIixcblx0XHRcdFwiY2FuY2VsXCI6IFwi5Y+W5raIXCJcblx0XHR9XG5cdH0sXG5cdFwibHlyaWNfZWRpdG9yXCI6IHtcblx0XHRcImVkaXRcIjogXCLnvJbovpFcIixcblx0XHRcImFkZFwiOiBcIua3u+WKoFwiLFxuXHRcdFwicmVtb3ZlXCI6IFwi5Yig6ZmkXCIsXG5cdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwi5Yig6Zmk5pe26Ze06L20XCIsXG5cdFx0XCJwbGF5X3RvX3RoaXNfbHlyaWNcIjogXCLmkq3mlL7liLDov5nmnaHmrYzor41cIixcblx0XHRcImZvbGxvd2luZ191bnNvcnRlZFwiOiBcIuS7peS4i+acquaOkuW6j1wiXG5cdH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9sb2NhbGVzL3poLnltbFxuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=