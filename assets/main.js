!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="./assets/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(3),s=r(a);n(103),new o.default({el:"#body",render:function(t){return t(s.default)}})},function(t,e,n){(function(e,n){/*!
	 * Vue.js v2.1.3
	 * (c) 2014-2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function r(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function i(t){var e=parseFloat(t,10);return e||0===e?e:t}function o(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function a(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function s(t,e){return pn.call(t,e)}function u(t){return"string"==typeof t||"number"==typeof t}function c(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}function l(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function f(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t){return null!==t&&"object"==typeof t}function h(t){return _n.call(t)===bn}function v(t){for(var e={},n=0;n<t.length;n++)t[n]&&d(e,t[n]);return e}function m(){}function y(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function g(t,e){return t==e||!(!p(t)||!p(e))&&JSON.stringify(t)===JSON.stringify(e)}function _(t,e){for(var n=0;n<t.length;n++)if(g(t[n],e))return n;return-1}function b(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function w(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function x(t){if(!xn.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function E(t){return/native code/.test(t.toString())}function k(t){Un.target&&Bn.push(Un.target),Un.target=t}function A(){Un.target=Bn.pop()}function O(t,e){t.__proto__=e}function C(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];w(t,o,e[o])}}function D(t){if(p(t)){var e;return s(t,"__ob__")&&t.__ob__ instanceof Zn?e=t.__ob__:Hn.shouldConvert&&!Fn()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(e=new Zn(t)),e}}function T(t,e,r,i){var o=new Un,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,u=a&&a.set,c=D(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return Un.target&&(o.depend(),c&&c.dep.depend(),Array.isArray(e)&&P(e)),e},set:function(e){var a=s?s.call(t):r;e===a||e!==e&&a!==a||("production"!==n.env.NODE_ENV&&i&&i(),u?u.call(t,e):r=e,c=D(e),o.notify())}})}}function $(t,e,r){if(Array.isArray(t))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(s(t,e))return void(t[e]=r);var i=t.__ob__;return t._isVue||i&&i.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option.")):i?(T(i.value,e,r),i.dep.notify(),r):void(t[e]=r)}function F(t,e){var r=t.__ob__;return t._isVue||r&&r.vmCount?void("production"!==n.env.NODE_ENV&&Rn("Avoid deleting properties on a Vue instance or its root $data - just set it to null.")):void(s(t,e)&&(delete t[e],r&&r.dep.notify()))}function P(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&P(e)}function S(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)n=o[a],r=t[n],i=e[n],s(t,n)?h(r)&&h(i)&&S(r,i):$(t,n,i);return t}function N(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function j(t,e){var n=Object.create(t||null);return e?d(n,e):n}function R(t){for(var e in t.components){var n=e.toLowerCase();(dn(n)||jn.isReservedTag(n))&&Rn("Do not use built-in or reserved HTML elements as component id: "+e)}}function L(t){var e=t.props;if(e){var r,i,o,a={};if(Array.isArray(e))for(r=e.length;r--;)i=e[r],"string"==typeof i?(o=vn(i),a[o]={type:null}):"production"!==n.env.NODE_ENV&&Rn("props must be strings when using array syntax.");else if(h(e))for(var s in e)i=e[s],o=vn(s),a[o]=h(i)?i:{type:i};t.props=a}}function I(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function M(t,e,r){function i(n){var i=qn[n]||Gn;f[n]=i(t[n],e[n],r,n)}"production"!==n.env.NODE_ENV&&R(e),L(e),I(e);var o=e.extends;if(o&&(t="function"==typeof o?M(t,o.options,r):M(t,o,r)),e.mixins)for(var a=0,u=e.mixins.length;a<u;a++){var c=e.mixins[a];c.prototype instanceof zt&&(c=c.options),t=M(t,c,r)}var l,f={};for(l in t)i(l);for(l in e)s(t,l)||i(l);return f}function U(t,e,r,i){if("string"==typeof r){var o=t[e],a=o[r]||o[vn(r)]||o[mn(vn(r))];return"production"!==n.env.NODE_ENV&&i&&!a&&Rn("Failed to resolve "+e.slice(0,-1)+": "+r,t),a}}function B(t,e,r,i){var o=e[t],a=!s(r,t),u=r[t];if(Z(o.type)&&(a&&!s(o,"default")?u=!1:""!==u&&u!==gn(t)||(u=!0)),void 0===u){u=V(i,o,t);var c=Hn.shouldConvert;Hn.shouldConvert=!0,D(u),Hn.shouldConvert=c}return"production"!==n.env.NODE_ENV&&z(o,t,u,i,a),u}function V(t,e,r){if(s(e,"default")){var i=e.default;return p(i)&&"production"!==n.env.NODE_ENV&&Rn('Invalid default value for prop "'+r+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t[r]?t[r]:"function"==typeof i&&e.type!==Function?i.call(t):i}}function z(t,e,n,r,i){if(t.required&&i)return void Rn('Missing required prop: "'+e+'"',r);if(null!=n||t.required){var o=t.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length&&!a;u++){var c=Y(n,o[u]);s.push(c.expectedType),a=c.valid}}if(!a)return void Rn('Invalid prop: type check failed for prop "'+e+'". Expected '+s.map(mn).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",r);var l=t.validator;l&&(l(n)||Rn('Invalid prop: custom validator check failed for prop "'+e+'".',r))}}function Y(t,e){var n,r=H(e);return n="String"===r?typeof t==(r="string"):"Number"===r?typeof t==(r="number"):"Boolean"===r?typeof t==(r="boolean"):"Function"===r?typeof t==(r="function"):"Object"===r?h(t):"Array"===r?Array.isArray(t):t instanceof e,{valid:n,expectedType:r}}function H(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e&&e[1]}function Z(t){if(!Array.isArray(t))return"Boolean"===H(t);for(var e=0,n=t.length;e<n;e++)if("Boolean"===H(t[e]))return!0;return!1}function q(){nr.length=0,rr={},"production"!==n.env.NODE_ENV&&(ir={}),or=ar=!1}function W(){for(ar=!0,nr.sort(function(t,e){return t.id-e.id}),sr=0;sr<nr.length;sr++){var t=nr[sr],e=t.id;if(rr[e]=null,t.run(),"production"!==n.env.NODE_ENV&&null!=rr[e]&&(ir[e]=(ir[e]||0)+1,ir[e]>jn._maxUpdateCount)){Rn("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}}Pn&&jn.devtools&&Pn.emit("flush"),q()}function G(t){var e=t.id;if(null==rr[e]){if(rr[e]=!0,ar){for(var n=nr.length-1;n>=0&&nr[n].id>t.id;)n--;nr.splice(Math.max(n,sr)+1,0,t)}else nr.push(t);or||(or=!0,Sn(W))}}function X(t){lr.clear(),K(t,lr)}function K(t,e){var n,r,i=Array.isArray(t);if((i||p(t))&&Object.isExtensible(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)K(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)K(t[r[n]],e)}}function J(t){t._watchers=[],Q(t),tt(t),et(t),rt(t),it(t)}function Q(t){var e=t.$options.props;if(e){var r=t.$options.propsData||{},i=t.$options._propKeys=Object.keys(e),o=!t.$parent;Hn.shouldConvert=o;for(var a=function(o){var a=i[o];"production"!==n.env.NODE_ENV?(fr(a)&&Rn('"'+a+'" is a reserved attribute and cannot be used as component prop.',t),T(t,a,B(a,e,r,t),function(){t.$parent&&!Hn.isSettingProps&&Rn("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',t)})):T(t,a,B(a,e,r,t))},s=0;s<i.length;s++)a(s);Hn.shouldConvert=!0}}function tt(t){var e=t.$options.data;e=t._data="function"==typeof e?e.call(t):e||{},h(e)||(e={},"production"!==n.env.NODE_ENV&&Rn("data functions should return an object.",t));for(var r=Object.keys(e),i=t.$options.props,o=r.length;o--;)i&&s(i,r[o])?"production"!==n.env.NODE_ENV&&Rn('The data property "'+r[o]+'" is already declared as a prop. Use prop default value instead.',t):st(t,r[o]);D(e),e.__ob__&&e.__ob__.vmCount++}function et(t){var e=t.$options.computed;if(e)for(var n in e){var r=e[n];"function"==typeof r?(dr.get=nt(r,t),dr.set=m):(dr.get=r.get?r.cache!==!1?nt(r.get,t):l(r.get,t):m,dr.set=r.set?l(r.set,t):m),Object.defineProperty(t,n,dr)}}function nt(t,e){var n=new cr(e,t,m,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Un.target&&n.depend(),n.value}}function rt(t){var e=t.$options.methods;if(e)for(var r in e)t[r]=null==e[r]?m:l(e[r],t),"production"!==n.env.NODE_ENV&&null==e[r]&&Rn('method "'+r+'" has an undefined value in the component definition. Did you reference the function correctly?',t)}function it(t){var e=t.$options.watch;if(e)for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)ot(t,n,r[i]);else ot(t,n,r)}}function ot(t,e,n){var r;h(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function at(t){var e={};e.get=function(){return this._data},"production"!==n.env.NODE_ENV&&(e.set=function(t){Rn("Avoid replacing instance root $data. Use nested data properties instead.",this)}),Object.defineProperty(t.prototype,"$data",e),t.prototype.$set=$,t.prototype.$delete=F,t.prototype.$watch=function(t,e,n){var r=this;n=n||{},n.user=!0;var i=new cr(r,t,e,n);return n.immediate&&e.call(r,i.value),function(){i.teardown()}}}function st(t,e){b(e)||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}function ut(t){var e=new pr(t.tag,t.data,t.children,t.text,t.elm,t.ns,t.context,t.componentOptions);return e.isStatic=t.isStatic,e.key=t.key,e.isCloned=!0,e}function ct(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=ut(t[n]);return e}function lt(t,e,n,r){r+=e;var i=t.__injected||(t.__injected={});if(!i[r]){i[r]=!0;var o=t[e];o?t[e]=function(){o.apply(this,arguments),n.apply(this,arguments)}:t[e]=n}}function ft(t,e,r,i,o){var a,s,u,c,l,f;for(a in t)if(s=t[a],u=e[a],s)if(u){if(s!==u)if(Array.isArray(u)){u.length=s.length;for(var d=0;d<u.length;d++)u[d]=s[d];t[a]=u}else u.fn=s,t[a]=u}else f="!"===a.charAt(0),l=f?a.slice(1):a,Array.isArray(s)?r(l,s.invoker=dt(s),f):(s.invoker||(c=s,s=t[a]={},s.fn=c,s.invoker=pt(s)),r(l,s.invoker,f));else"production"!==n.env.NODE_ENV&&Rn('Invalid handler for event "'+a+'": got '+String(s),o);for(a in e)t[a]||(l="!"===a.charAt(0)?a.slice(1):a,i(l,e[a].invoker))}function dt(t){return function(e){for(var n=arguments,r=1===arguments.length,i=0;i<t.length;i++)r?t[i](e):t[i].apply(null,n)}}function pt(t){return function(e){var n=1===arguments.length;n?t.fn(e):t.fn.apply(null,arguments)}}function ht(t,e,n){if(u(t))return[vt(t)];if(Array.isArray(t)){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i],s=r[r.length-1];Array.isArray(a)?r.push.apply(r,ht(a,e,(n||"")+"_"+i)):u(a)?s&&s.text?s.text+=String(a):""!==a&&r.push(vt(a)):a instanceof pr&&(a.text&&s&&s.text?s.isCloned||(s.text+=a.text):(e&&mt(a,e),a.tag&&null==a.key&&null!=n&&(a.key="__vlist"+n+"_"+i+"__"),r.push(a)))}return r}}function vt(t){return new pr(void 0,void 0,void 0,String(t))}function mt(t,e){if(t.tag&&!t.ns&&(t.ns=e,t.children))for(var n=0,r=t.children.length;n<r;n++)mt(t.children[n],e)}function yt(t){return t&&t.filter(function(t){return t&&t.componentOptions})[0]}function gt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function _t(t){t.prototype._mount=function(t,e){var r=this;return r.$el=t,r.$options.render||(r.$options.render=hr,"production"!==n.env.NODE_ENV&&(r.$options.template&&"#"!==r.$options.template.charAt(0)?Rn("You are using the runtime-only build of Vue where the template option is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",r):Rn("Failed to mount component: template or render function not defined.",r))),bt(r,"beforeMount"),r._watcher=new cr(r,function(){r._update(r._render(),e)},m),e=!1,null==r.$vnode&&(r._isMounted=!0,bt(r,"mounted")),r},t.prototype._update=function(t,e){var n=this;n._isMounted&&bt(n,"beforeUpdate");var r=n.$el,i=vr;vr=n;var o=n._vnode;n._vnode=t,o?n.$el=n.__patch__(o,t):n.$el=n.__patch__(n.$el,t,e),vr=i,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el),n._isMounted&&bt(n,"updated")},t.prototype._updateFromParent=function(t,e,r,i){var o=this,a=!(!o.$options._renderChildren&&!i);if(o.$options._parentVnode=r,o.$vnode=r,o._vnode&&(o._vnode.parent=r),o.$options._renderChildren=i,t&&o.$options.props){Hn.shouldConvert=!1,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!0);for(var s=o.$options._propKeys||[],u=0;u<s.length;u++){var c=s[u];o[c]=B(c,o.$options.props,t,o)}Hn.shouldConvert=!0,"production"!==n.env.NODE_ENV&&(Hn.isSettingProps=!1),o.$options.propsData=t}if(e){var l=o.$options._parentListeners;o.$options._parentListeners=e,o._updateListeners(e,l)}a&&(o.$slots=Lt(i,o._renderContext),o.$forceUpdate())},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){bt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||a(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,bt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.__patch__(t._vnode,null)}}}function bt(t,e){var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)n[r].call(t);t.$emit("hook:"+e)}function wt(t,e,r,i,o){if(t){var a=r.$options._base;if(p(t)&&(t=a.extend(t)),"function"!=typeof t)return void("production"!==n.env.NODE_ENV&&Rn("Invalid Component definition: "+String(t),r));if(!t.cid)if(t.resolved)t=t.resolved;else if(t=Dt(t,a,function(){r.$forceUpdate()}),!t)return;Vt(t),e=e||{};var s=Tt(e,t);if(t.options.functional)return xt(t,s,e,r,i);var u=e.on;e.on=e.nativeOn,t.options.abstract&&(e={}),Ft(e);var c=t.options.name||o,l=new pr("vue-component-"+t.cid+(c?"-"+c:""),e,void 0,void 0,void 0,void 0,r,{Ctor:t,propsData:s,listeners:u,tag:o,children:i});return l}}function xt(t,e,n,r,i){var o={},a=t.options.props;if(a)for(var s in a)o[s]=B(s,a,e);var u=t.options.render.call(null,l(St,{_self:Object.create(r)}),{props:o,data:n,parent:r,children:ht(i),slots:function(){return Lt(i,r)}});return u instanceof pr&&(u.functionalContext=r,n.slot&&((u.data||(u.data={})).slot=n.slot)),u}function Et(t,e){var n=t.componentOptions,r={_isComponent:!0,parent:e,propsData:n.propsData,_componentTag:n.tag,_parentVnode:t,_parentListeners:n.listeners,_renderChildren:n.children},i=t.data.inlineTemplate;return i&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new n.Ctor(r)}function kt(t,e){if(!t.child||t.child._isDestroyed){var n=t.child=Et(t,vr);n.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;At(r,r)}}function At(t,e){var n=e.componentOptions,r=e.child=t.child;r._updateFromParent(n.propsData,n.listeners,e,n.children)}function Ot(t){t.child._isMounted||(t.child._isMounted=!0,bt(t.child,"mounted")),t.data.keepAlive&&(t.child._inactive=!1,bt(t.child,"activated"))}function Ct(t){t.child._isDestroyed||(t.data.keepAlive?(t.child._inactive=!0,bt(t.child,"deactivated")):t.child.$destroy())}function Dt(t,e,r){if(!t.requested){t.requested=!0;var i=t.pendingCallbacks=[r],o=!0,a=function(n){if(p(n)&&(n=e.extend(n)),t.resolved=n,!o)for(var r=0,a=i.length;r<a;r++)i[r](n)},s=function(e){"production"!==n.env.NODE_ENV&&Rn("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""))},u=t(a,s);return u&&"function"==typeof u.then&&!t.resolved&&u.then(a,s),o=!1,t.resolved}t.pendingCallbacks.push(r)}function Tt(t,e){var n=e.options.props;if(n){var r={},i=t.attrs,o=t.props,a=t.domProps;if(i||o||a)for(var s in n){var u=gn(s);$t(r,o,s,u,!0)||$t(r,i,s,u)||$t(r,a,s,u)}return r}}function $t(t,e,n,r,i){if(e){if(s(e,n))return t[n]=e[n],i||delete e[n],!0;if(s(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ft(t){t.hook||(t.hook={});for(var e=0;e<yr.length;e++){var n=yr[e],r=t.hook[n],i=mr[n];t.hook[n]=r?Pt(i,r):i}}function Pt(t,e){return function(n,r){t(n,r),e(n,r)}}function St(t,e,n){return e&&(Array.isArray(e)||"object"!=typeof e)&&(n=e,e=void 0),Nt(this._self,t,e,n)}function Nt(t,e,r,i){if(r&&r.__ob__)return void("production"!==n.env.NODE_ENV&&Rn("Avoid using observed data object as vnode data: "+JSON.stringify(r)+"\nAlways create fresh vnode data objects in each render!",t));if(!e)return hr();if(Array.isArray(i)&&"function"==typeof i[0]&&(r=r||{},r.scopedSlots={default:i[0]},i.length=0),"string"==typeof e){var o,a=jn.getTagNamespace(e);if(jn.isReservedTag(e))return new pr(e,r,ht(i,a),void 0,void 0,a,t);if(o=U(t.$options,"components",e))return wt(o,r,t,i,e);var s="foreignObject"===e?"xhtml":a;return new pr(e,r,ht(i,s),void 0,void 0,a,t)}return wt(e,r,t,i)}function jt(t){t.$vnode=null,t._vnode=null,t._staticTrees=null,t._renderContext=t.$options._parentVnode&&t.$options._parentVnode.context,t.$slots=Lt(t.$options._renderChildren,t._renderContext),t.$scopedSlots={},t.$createElement=l(St,t),t.$options.el&&t.$mount(t.$options.el)}function Rt(t){function e(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&o(t[r],e+"_"+r,n);else o(t,e,n)}function o(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}t.prototype.$nextTick=function(t){return Sn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,r=e.render,i=e.staticRenderFns,o=e._parentVnode;if(t._isMounted)for(var a in t.$slots)t.$slots[a]=ct(t.$slots[a]);o&&o.data.scopedSlots&&(t.$scopedSlots=o.data.scopedSlots),i&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=o;var s;try{s=r.call(t._renderProxy,t.$createElement)}catch(e){if("production"!==n.env.NODE_ENV&&Rn("Error when rendering "+Nn(t)+":"),jn.errorHandler)jn.errorHandler.call(null,e,t);else{if(Fn())throw e;console.error(e)}s=t._vnode}return s instanceof pr||("production"!==n.env.NODE_ENV&&Array.isArray(s)&&Rn("Multiple root nodes returned from render function. Render function should return a single root node.",t),s=hr()),s.parent=o,s},t.prototype._h=St,t.prototype._s=r,t.prototype._n=i,t.prototype._e=hr,t.prototype._q=g,t.prototype._i=_,t.prototype._m=function(t,n){var r=this._staticTrees[t];return r&&!n?Array.isArray(r)?ct(r):ut(r):(r=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),e(r,"__static__"+t,!1),r)},t.prototype._o=function(t,n,r){return e(t,"__once__"+n+(r?"_"+r:""),!0),t};var a=function(t){return t};t.prototype._f=function(t){return U(this.$options,"filters",t,!0)||a},t.prototype._l=function(t,e){var n,r,i,o,a;if(Array.isArray(t))for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(p(t))for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return n},t.prototype._t=function(t,e,r){var i=this.$scopedSlots[t];if(i)return i(r||{})||e;var o=this.$slots[t];return o&&"production"!==n.env.NODE_ENV&&(o._rendered&&Rn('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||e},t.prototype._b=function(t,e,r,i){if(r)if(p(r)){Array.isArray(r)&&(r=v(r));for(var o in r)if("class"===o||"style"===o)t[o]=r[o];else{var a=i||jn.mustUseProp(e,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={});a[o]=r[o]}}else"production"!==n.env.NODE_ENV&&Rn("v-bind without argument expects an Object or Array value",this);return t},t.prototype._k=function(t){return jn.keyCodes[t]}}function Lt(t,e){var n={};if(!t)return n;for(var r,i,o=ht(t)||[],a=[],s=0,u=o.length;s<u;s++)if(i=o[s],(i.context===e||i.functionalContext===e)&&i.data&&(r=i.data.slot)){var c=n[r]||(n[r]=[]);"template"===i.tag?c.push.apply(c,i.children):c.push(i)}else a.push(i);return a.length&&(1!==a.length||" "!==a[0].text&&!a[0].isComment)&&(n.default=a),n}function It(t){t._events=Object.create(null);var e=t.$options._parentListeners,n=l(t.$on,t),r=l(t.$off,t);t._updateListeners=function(e,i){ft(e,i||{},n,r,t)},e&&t._updateListeners(e)}function Mt(t){t.prototype.$on=function(t,e){var n=this;return(n._events[t]||(n._events[t]=[])).push(e),n},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var r=n._events[t];if(!r)return n;if(1===arguments.length)return n._events[t]=null,n;for(var i,o=r.length;o--;)if(i=r[o],i===e||i.fn===e){r.splice(o,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?f(n):n;for(var r=f(arguments,1),i=0,o=n.length;i<o;i++)n[i].apply(e,r)}return e}}function Ut(t){t.prototype._init=function(t){var e=this;e._uid=gr++,e._isVue=!0,t&&t._isComponent?Bt(e,t):e.$options=M(Vt(e.constructor),t||{},e),"production"!==n.env.NODE_ENV?Wn(e):e._renderProxy=e,e._self=e,gt(e),It(e),bt(e,"beforeCreate"),J(e),bt(e,"created"),jt(e)}}function Bt(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Vt(t){var e=t.options;if(t.super){var n=t.super.options,r=t.superOptions,i=t.extendOptions;n!==r&&(t.superOptions=n,i.render=e.render,i.staticRenderFns=e.staticRenderFns,i._scopeId=e._scopeId,e=t.options=M(n,i),e.name&&(e.components[e.name]=t))}return e}function zt(t){"production"===n.env.NODE_ENV||this instanceof zt||Rn("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function Yt(t){t.use=function(t){if(!t.installed){var e=f(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}}}function Ht(t){t.mixin=function(t){this.options=M(this.options,t)}}function Zt(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,o=t._Ctor||(t._Ctor={});if(o[i])return o[i];var a=t.name||r.options.name;"production"!==n.env.NODE_ENV&&(/^[a-zA-Z][\w-]*$/.test(a)||Rn('Invalid component name: "'+a+'". Component names can only contain alphanumeric characaters and the hyphen.'));var s=function(t){this._init(t)};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.cid=e++,s.options=M(r.options,t),s.super=r,s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,jn._assetTypes.forEach(function(t){s[t]=r[t]}),a&&(s.options.components[a]=s),s.superOptions=r.options,s.extendOptions=t,o[i]=s,s}}function qt(t){jn._assetTypes.forEach(function(e){t[e]=function(t,r){return r?("production"!==n.env.NODE_ENV&&"component"===e&&jn.isReservedTag(t)&&Rn("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&h(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function Wt(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:t.test(e)}function Gt(t){var e={};e.get=function(){return jn},"production"!==n.env.NODE_ENV&&(e.set=function(){Rn("Do not replace the Vue.config object, set individual fields instead.")}),Object.defineProperty(t,"config",e),t.util=Xn,t.set=$,t.delete=F,t.nextTick=Sn,t.options=Object.create(null),jn._assetTypes.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,d(t.options.components,wr),Yt(t),Ht(t),Zt(t),qt(t)}function Xt(t){for(var e=t.data,n=t,r=t;r.child;)r=r.child._vnode,r.data&&(e=Kt(r.data,e));for(;n=n.parent;)n.data&&(e=Kt(e,n.data));return Jt(e)}function Kt(t,e){return{staticClass:Qt(t.staticClass,e.staticClass),class:t.class?[t.class,e.class]:e.class}}function Jt(t){var e=t.class,n=t.staticClass;return n||e?Qt(n,te(e)):""}function Qt(t,e){return t?e?t+" "+e:t:e||""}function te(t){var e="";if(!t)return e;if("string"==typeof t)return t;if(Array.isArray(t)){for(var n,r=0,i=t.length;r<i;r++)t[r]&&(n=te(t[r]))&&(e+=n+" ");return e.slice(0,-1)}if(p(t)){for(var o in t)t[o]&&(e+=o+" ");return e.slice(0,-1)}return e}function ee(t){return Pr(t)?"svg":"math"===t?"math":void 0}function ne(t){if(!kn)return!0;if(Sr(t))return!1;if(t=t.toLowerCase(),null!=Nr[t])return Nr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Nr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Nr[t]=/HTMLUnknownElement/.test(e.toString())}function re(t){if("string"==typeof t){var e=t;if(t=document.querySelector(t),!t)return"production"!==n.env.NODE_ENV&&Rn("Cannot find element: "+e),document.createElement("div")}return t}function ie(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&"multiple"in e.data.attrs&&n.setAttribute("multiple","multiple"),n)}function oe(t,e){return document.createElementNS($r[t],e)}function ae(t){return document.createTextNode(t)}function se(t){return document.createComment(t)}function ue(t,e,n){t.insertBefore(e,n)}function ce(t,e){t.removeChild(e)}function le(t,e){t.appendChild(e)}function fe(t){return t.parentNode}function de(t){return t.nextSibling}function pe(t){return t.tagName}function he(t,e){t.textContent=e}function ve(t){return t.childNodes}function me(t,e,n){t.setAttribute(e,n)}function ye(t,e){var n=t.data.ref;if(n){var r=t.context,i=t.child||t.elm,o=r.$refs;e?Array.isArray(o[n])?a(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])&&o[n].indexOf(i)<0?o[n].push(i):o[n]=[i]:o[n]=i}}function ge(t){return null==t}function _e(t){return null!=t}function be(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&!t.data==!e.data}function we(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,_e(i)&&(o[i]=r);return o}function xe(t){function e(t){return new pr(O.tagName(t).toLowerCase(),{},[],void 0,t)}function i(t,e){function n(){0===--n.listeners&&o(t)}return n.listeners=e,n}function o(t){var e=O.parentNode(t);e&&O.removeChild(e,t)}function a(t,e,r){var i,o=t.data;if(t.isRootInsert=!r,_e(o)&&(_e(i=o.hook)&&_e(i=i.init)&&i(t),_e(i=t.child)))return f(t,e),t.elm;var a=t.children,u=t.tag;return _e(u)?("production"!==n.env.NODE_ENV&&(t.ns||jn.ignoredElements&&jn.ignoredElements.indexOf(u)>-1||!jn.isUnknownElement(u)||Rn("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context)),t.elm=t.ns?O.createElementNS(t.ns,u):O.createElement(u,t),d(t),s(t,a,e),_e(o)&&l(t,e)):t.isComment?t.elm=O.createComment(t.text):t.elm=O.createTextNode(t.text),t.elm}function s(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)O.appendChild(t.elm,a(e[r],n,!0));else u(t.text)&&O.appendChild(t.elm,O.createTextNode(t.text))}function c(t){for(;t.child;)t=t.child._vnode;return _e(t.tag)}function l(t,e){for(var n=0;n<k.create.length;++n)k.create[n](Lr,t);x=t.data.hook,_e(x)&&(x.create&&x.create(Lr,t),x.insert&&e.push(t))}function f(t,e){t.data.pendingInsert&&e.push.apply(e,t.data.pendingInsert),t.elm=t.child.$el,c(t)?(l(t,e),d(t)):(ye(t),e.push(t))}function d(t){var e;_e(e=t.context)&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,""),_e(e=vr)&&e!==t.context&&_e(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,"")}function p(t,e,n,r,i,o){for(;r<=i;++r)O.insertBefore(t,a(n[r],o),e)}function h(t){var e,n,r=t.data;if(_e(r))for(_e(e=r.hook)&&_e(e=e.destroy)&&e(t),e=0;e<k.destroy.length;++e)k.destroy[e](t);if(_e(e=t.children))for(n=0;n<t.children.length;++n)h(t.children[n])}function v(t,e,n,r){for(;n<=r;++n){var i=e[n];_e(i)&&(_e(i.tag)?(m(i),h(i)):O.removeChild(t,i.elm))}}function m(t,e){if(e||_e(t.data)){var n=k.remove.length+1;for(e?e.listeners+=n:e=i(t.elm,n),_e(x=t.child)&&_e(x=x._vnode)&&_e(x.data)&&m(x,e),x=0;x<k.remove.length;++x)k.remove[x](t,e);_e(x=t.data.hook)&&_e(x=x.remove)?x(t,e):e()}else o(t.elm)}function y(t,e,r,i,o){for(var s,u,c,l,f=0,d=0,h=e.length-1,m=e[0],y=e[h],_=r.length-1,b=r[0],w=r[_],x=!o;f<=h&&d<=_;)ge(m)?m=e[++f]:ge(y)?y=e[--h]:be(m,b)?(g(m,b,i),m=e[++f],b=r[++d]):be(y,w)?(g(y,w,i),y=e[--h],w=r[--_]):be(m,w)?(g(m,w,i),x&&O.insertBefore(t,m.elm,O.nextSibling(y.elm)),m=e[++f],w=r[--_]):be(y,b)?(g(y,b,i),x&&O.insertBefore(t,y.elm,m.elm),y=e[--h],b=r[++d]):(ge(s)&&(s=we(e,f,h)),u=_e(b.key)?s[b.key]:null,ge(u)?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(c=e[u],"production"===n.env.NODE_ENV||c||Rn("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),c.tag!==b.tag?(O.insertBefore(t,a(b,i),m.elm),b=r[++d]):(g(c,b,i),e[u]=void 0,x&&O.insertBefore(t,b.elm,m.elm),b=r[++d])));f>h?(l=ge(r[_+1])?null:r[_+1].elm,p(t,l,r,d,_,i)):d>_&&v(t,e,f,h)}function g(t,e,n,r){if(t!==e){if(e.isStatic&&t.isStatic&&e.key===t.key&&(e.isCloned||e.isOnce))return e.elm=t.elm,void(e.child=t.child);var i,o=e.data,a=_e(o);a&&_e(i=o.hook)&&_e(i=i.prepatch)&&i(t,e);var s=e.elm=t.elm,u=t.children,l=e.children;if(a&&c(e)){for(i=0;i<k.update.length;++i)k.update[i](t,e);_e(i=o.hook)&&_e(i=i.update)&&i(t,e)}ge(e.text)?_e(u)&&_e(l)?u!==l&&y(s,u,l,n,r):_e(l)?(_e(t.text)&&O.setTextContent(s,""),p(s,null,l,0,l.length-1,n)):_e(u)?v(s,u,0,u.length-1):_e(t.text)&&O.setTextContent(s,""):t.text!==e.text&&O.setTextContent(s,e.text),a&&_e(i=o.hook)&&_e(i=i.postpatch)&&i(t,e)}}function _(t,e,n){if(n&&t.parent)t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function b(t,e,r){if("production"!==n.env.NODE_ENV&&!w(t,e))return!1;e.elm=t;var i=e.tag,o=e.data,a=e.children;if(_e(o)&&(_e(x=o.hook)&&_e(x=x.init)&&x(e,!0),_e(x=e.child)))return f(e,r),!0;if(_e(i)){if(_e(a)){var u=O.childNodes(t);if(u.length){var c=!0;if(u.length!==a.length)c=!1;else for(var d=0;d<a.length;d++)if(!b(u[d],a[d],r)){c=!1;break}if(!c)return"production"===n.env.NODE_ENV||"undefined"==typeof console||C||(C=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",u,a)),!1}else s(e,a,r)}_e(o)&&l(e,r)}return!0}function w(t,e){return e.tag?0===e.tag.indexOf("vue-component")||e.tag.toLowerCase()===O.tagName(t).toLowerCase():r(e.text)===t.data}var x,E,k={},A=t.modules,O=t.nodeOps;for(x=0;x<Ir.length;++x)for(k[Ir[x]]=[],E=0;E<A.length;++E)void 0!==A[E][Ir[x]]&&k[Ir[x]].push(A[E][Ir[x]]);var C=!1;return function(t,r,i,o){if(!r)return void(t&&h(t));var s,u,l=!1,f=[];if(t){var d=_e(t.nodeType);if(!d&&be(t,r))g(t,r,f,o);else{if(d){if(1===t.nodeType&&t.hasAttribute("server-rendered")&&(t.removeAttribute("server-rendered"),i=!0),i){if(b(t,r,f))return _(r,f,!0),t;"production"!==n.env.NODE_ENV&&Rn("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}t=e(t)}if(s=t.elm,u=O.parentNode(s),a(r,f),r.parent){for(var p=r.parent;p;)p.elm=r.elm,p=p.parent;if(c(r))for(var m=0;m<k.create.length;++m)k.create[m](Lr,r.parent)}null!==u?(O.insertBefore(u,r.elm,O.nextSibling(s)),v(u,[t],0,0)):_e(t.tag)&&h(t)}}else l=!0,a(r,f);return _(r,f,l),r.elm}}function Ee(t,e){if(t.data.directives||e.data.directives){var n,r,i,o=t===Lr,a=ke(t.data.directives,t.context),s=ke(e.data.directives,e.context),u=[],c=[];for(n in s)r=a[n],i=s[n],r?(i.oldValue=r.value,Oe(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(Oe(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var l=function(){u.forEach(function(n){Oe(n,"inserted",e,t)})};o?lt(e.data.hook||(e.data.hook={}),"insert",l,"dir-insert"):l()}if(c.length&&lt(e.data.hook||(e.data.hook={}),"postpatch",function(){
c.forEach(function(n){Oe(n,"componentUpdated",e,t)})},"dir-postpatch"),!o)for(n in a)s[n]||Oe(a[n],"unbind",t)}}function ke(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Ur),n[Ae(i)]=i,i.def=U(e.$options,"directives",i.name,!0);return n}function Ae(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Oe(t,e,n,r){var i=t.def&&t.def[e];i&&i(n.elm,t,n,r)}function Ce(t,e){if(t.data.attrs||e.data.attrs){var n,r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};s.__ob__&&(s=e.data.attrs=d({},s));for(n in s)r=s[n],i=a[n],i!==r&&De(o,n,r);for(n in a)null==s[n]&&(Cr(n)?o.removeAttributeNS(Or,Dr(n)):kr(n)||o.removeAttribute(n))}}function De(t,e,n){Ar(e)?Tr(n)?t.removeAttribute(e):t.setAttribute(e,e):kr(e)?t.setAttribute(e,Tr(n)||"false"===n?"false":"true"):Cr(e)?Tr(n)?t.removeAttributeNS(Or,Dr(e)):t.setAttributeNS(Or,e,n):Tr(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Te(t,e){var n=e.elm,r=e.data,i=t.data;if(r.staticClass||r.class||i&&(i.staticClass||i.class)){var o=Xt(e),a=n._transitionClasses;a&&(o=Qt(o,te(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function $e(t,e){if(t.data.on||e.data.on){var n=e.data.on||{},r=t.data.on||{},i=e.elm._v_add||(e.elm._v_add=function(t,n,r){e.elm.addEventListener(t,n,r)}),o=e.elm._v_remove||(e.elm._v_remove=function(t,n){e.elm.removeEventListener(t,n)});ft(n,r,i,o,e.context)}}function Fe(t,e){if(t.data.domProps||e.data.domProps){var n,r,i=e.elm,o=t.data.domProps||{},a=e.data.domProps||{};a.__ob__&&(a=e.data.domProps=d({},a));for(n in o)null==a[n]&&(i[n]="");for(n in a)if(r=a[n],"textContent"!==n&&"innerHTML"!==n||(e.children&&(e.children.length=0),r!==o[n]))if("value"===n){i._value=r;var s=null==r?"":String(r);i.value===s||i.composing||(i.value=s)}else i[n]=r}}function Pe(t){var e=Se(t.style);return t.staticStyle?d(t.staticStyle,e):e}function Se(t){return Array.isArray(t)?v(t):"string"==typeof t?Zr(t):t}function Ne(t,e){var n,r={};if(e)for(var i=t;i.child;)i=i.child._vnode,i.data&&(n=Pe(i.data))&&d(r,n);(n=Pe(t.data))&&d(r,n);for(var o=t;o=o.parent;)o.data&&(n=Pe(o.data))&&d(r,n);return r}function je(t,e){var n=e.data,r=t.data;if(n.staticStyle||n.style||r.staticStyle||r.style){var i,o,a=e.elm,s=t.data.staticStyle,u=t.data.style||{},c=s||u,l=Se(e.data.style)||{};e.data.style=l.__ob__?d({},l):l;var f=Ne(e,!0);for(o in c)null==f[o]&&Wr(a,o,"");for(o in f)i=f[o],i!==c[o]&&Wr(a,o,null==i?"":i)}}function Re(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+t.getAttribute("class")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Le(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var n=" "+t.getAttribute("class")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");t.setAttribute("class",n.trim())}}function Ie(t){oi(function(){oi(t)})}function Me(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Re(t,e)}function Ue(t,e){t._transitionClasses&&a(t._transitionClasses,e),Le(t,e)}function Be(t,e,n){var r=Ve(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Qr?ni:ii,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}function Ve(t,e){var n,r=window.getComputedStyle(t),i=r[ei+"Delay"].split(", "),o=r[ei+"Duration"].split(", "),a=ze(i,o),s=r[ri+"Delay"].split(", "),u=r[ri+"Duration"].split(", "),c=ze(s,u),l=0,f=0;e===Qr?a>0&&(n=Qr,l=a,f=o.length):e===ti?c>0&&(n=ti,l=c,f=u.length):(l=Math.max(a,c),n=l>0?a>c?Qr:ti:null,f=n?n===Qr?o.length:u.length:0);var d=n===Qr&&ai.test(r[ei+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:d}}function ze(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Ye(e)+Ye(t[n])}))}function Ye(t){return 1e3*Number(t.slice(0,-1))}function He(t){var e=t.elm;e._leaveCb&&(e._leaveCb.cancelled=!0,e._leaveCb());var n=qe(t.data.transition);if(n&&!e._enterCb&&1===e.nodeType){var r=n.css,i=n.type,o=n.enterClass,a=n.enterActiveClass,s=n.appearClass,u=n.appearActiveClass,c=n.beforeEnter,l=n.enter,f=n.afterEnter,d=n.enterCancelled,p=n.beforeAppear,h=n.appear,v=n.afterAppear,m=n.appearCancelled,y=vr.$vnode,g=y&&y.parent?y.parent.context:vr,_=!g._isMounted||!t.isRootInsert;if(!_||h||""===h){var b=_?s:o,w=_?u:a,x=_?p||c:c,E=_&&"function"==typeof h?h:l,k=_?v||f:f,A=_?m||d:d,O=r!==!1&&!Cn,C=E&&(E._length||E.length)>1,D=e._enterCb=We(function(){O&&Ue(e,w),D.cancelled?(O&&Ue(e,b),A&&A(e)):k&&k(e),e._enterCb=null});t.data.show||lt(t.data.hook||(t.data.hook={}),"insert",function(){var n=e.parentNode,r=n&&n._pending&&n._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),E&&E(e,D)},"transition-insert"),x&&x(e),O&&(Me(e,b),Me(e,w),Ie(function(){Ue(e,b),D.cancelled||C||Be(e,i,D)})),t.data.show&&E&&E(e,D),O||C||D()}}}function Ze(t,e){function n(){m.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),c&&c(r),h&&(Me(r,s),Me(r,u),Ie(function(){Ue(r,s),m.cancelled||v||Be(r,a,m)})),l&&l(r,m),h||v||m())}var r=t.elm;r._enterCb&&(r._enterCb.cancelled=!0,r._enterCb());var i=qe(t.data.transition);if(!i)return e();if(!r._leaveCb&&1===r.nodeType){var o=i.css,a=i.type,s=i.leaveClass,u=i.leaveActiveClass,c=i.beforeLeave,l=i.leave,f=i.afterLeave,d=i.leaveCancelled,p=i.delayLeave,h=o!==!1&&!Cn,v=l&&(l._length||l.length)>1,m=r._leaveCb=We(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),h&&Ue(r,u),m.cancelled?(h&&Ue(r,s),d&&d(r)):(e(),f&&f(r)),r._leaveCb=null});p?p(n):n()}}function qe(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&d(e,si(t.name||"v")),d(e,t),e}return"string"==typeof t?si(t):void 0}}function We(t){var e=!1;return function(){e||(e=!0,t())}}function Ge(t,e,r){var i=e.value,o=t.multiple;if(o&&!Array.isArray(i))return void("production"!==n.env.NODE_ENV&&Rn('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),r));for(var a,s,u=0,c=t.options.length;u<c;u++)if(s=t.options[u],o)a=_(i,Ke(s))>-1,s.selected!==a&&(s.selected=a);else if(g(Ke(s),i))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}function Xe(t,e){for(var n=0,r=e.length;n<r;n++)if(g(Ke(e[n]),t))return!1;return!0}function Ke(t){return"_value"in t?t._value:t.value}function Je(t){t.target.composing=!0}function Qe(t){t.target.composing=!1,tn(t.target,"input")}function tn(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function en(t){return!t.child||t.data&&t.data.transition?t:en(t.child._vnode)}function nn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?nn(yt(e.children)):t}function rn(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[vn(o)]=i[o].fn;return e}function on(t,e){return/\d-keep-alive$/.test(e.tag)?t("keep-alive"):null}function an(t){for(;t=t.parent;)if(t.data.transition)return!0}function sn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function un(t){t.data.newPos=t.elm.getBoundingClientRect()}function cn(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var ln,fn,dn=o("slot,component",!0),pn=Object.prototype.hasOwnProperty,hn=/-(\w)/g,vn=c(function(t){return t.replace(hn,function(t,e){return e?e.toUpperCase():""})}),mn=c(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),yn=/([^-])([A-Z])/g,gn=c(function(t){return t.replace(yn,"$1-$2").replace(yn,"$1-$2").toLowerCase()}),_n=Object.prototype.toString,bn="[object Object]",wn=function(){return!1},xn=/[^\w.$]/,En="__proto__"in{},kn="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),An=kn&&window.navigator.userAgent.toLowerCase(),On=An&&/msie|trident/.test(An),Cn=An&&An.indexOf("msie 9.0")>0,Dn=An&&An.indexOf("edge/")>0,Tn=An&&An.indexOf("android")>0,$n=An&&/iphone|ipad|ipod|ios/.test(An),Fn=function(){return void 0===ln&&(ln=!kn&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),ln},Pn=kn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Sn=function(){function t(){r=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],r=!1;if("undefined"!=typeof Promise&&E(Promise)){var i=Promise.resolve();e=function(){i.then(t),$n&&setTimeout(m)}}else if("undefined"==typeof MutationObserver||!E(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var o=1,a=new MutationObserver(t),s=document.createTextNode(String(o));a.observe(s,{characterData:!0}),e=function(){o=(o+1)%2,s.data=String(o)}}return function(t,i){var o;if(n.push(function(){t&&t.call(i),o&&o(i)}),r||(r=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){o=t})}}();fn="undefined"!=typeof Set&&E(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return void 0!==this.set[t]},t.prototype.add=function(t){this.set[t]=1},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Nn,jn={optionMergeStrategies:Object.create(null),silent:!1,devtools:"production"!==n.env.NODE_ENV,errorHandler:null,ignoredElements:null,keyCodes:Object.create(null),isReservedTag:wn,isUnknownElement:wn,getTagNamespace:m,mustUseProp:wn,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Rn=m;if("production"!==n.env.NODE_ENV){var Ln="undefined"!=typeof console;Rn=function(t,e){Ln&&!jn.silent&&console.error("[Vue warn]: "+t+" "+(e?In(Nn(e)):""))},Nn=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")};var In=function(t){return"anonymous component"===t&&(t+=' - use the "name" option for better debugging messages.'),"\n(found in "+t+")"}}var Mn=0,Un=function(){this.id=Mn++,this.subs=[]};Un.prototype.addSub=function(t){this.subs.push(t)},Un.prototype.removeSub=function(t){a(this.subs,t)},Un.prototype.depend=function(){Un.target&&Un.target.addDep(this)},Un.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Un.target=null;var Bn=[],Vn=Array.prototype,zn=Object.create(Vn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Vn[t];w(zn,t,function(){for(var n=arguments,r=arguments.length,i=new Array(r);r--;)i[r]=n[r];var o,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":o=i;break;case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Yn=Object.getOwnPropertyNames(zn),Hn={shouldConvert:!0,isSettingProps:!1},Zn=function(t){if(this.value=t,this.dep=new Un,this.vmCount=0,w(t,"__ob__",this),Array.isArray(t)){var e=En?O:C;e(t,zn,Yn),this.observeArray(t)}else this.walk(t)};Zn.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)T(t,e[n],t[e[n]])},Zn.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)D(t[e])};var qn=jn.optionMergeStrategies;"production"!==n.env.NODE_ENV&&(qn.el=qn.propsData=function(t,e,n,r){return n||Rn('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Gn(t,e)}),qn.data=function(t,e,r){return r?t||e?function(){var n="function"==typeof e?e.call(r):e,i="function"==typeof t?t.call(r):void 0;return n?S(n,i):i}:void 0:e?"function"!=typeof e?("production"!==n.env.NODE_ENV&&Rn('The "data" option should be a function that returns a per-instance value in component definitions.',r),t):t?function(){return S(e.call(this),t.call(this))}:e:t},jn._lifecycleHooks.forEach(function(t){qn[t]=N}),jn._assetTypes.forEach(function(t){qn[t+"s"]=j}),qn.watch=function(t,e){if(!e)return t;if(!t)return e;var n={};d(n,t);for(var r in e){var i=n[r],o=e[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):[o]}return n},qn.props=qn.methods=qn.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return d(n,t),d(n,e),n};var Wn,Gn=function(t,e){return void 0===e?t:e},Xn=Object.freeze({defineReactive:T,_toString:r,toNumber:i,makeMap:o,isBuiltInTag:dn,remove:a,hasOwn:s,isPrimitive:u,cached:c,camelize:vn,capitalize:mn,hyphenate:gn,bind:l,toArray:f,extend:d,isObject:p,isPlainObject:h,toObject:v,noop:m,no:wn,genStaticKeys:y,looseEqual:g,looseIndexOf:_,isReserved:b,def:w,parsePath:x,hasProto:En,inBrowser:kn,UA:An,isIE:On,isIE9:Cn,isEdge:Dn,isAndroid:Tn,isIOS:$n,isServerRendering:Fn,devtools:Pn,nextTick:Sn,get _Set(){return fn},mergeOptions:M,resolveAsset:U,get warn(){return Rn},get formatComponentName(){return Nn},validateProp:B});if("production"!==n.env.NODE_ENV){var Kn=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Jn=function(t,e){Rn('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',t)},Qn="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/),tr={has:function t(e,n){var t=n in e,r=Kn(n)||"_"===n.charAt(0);return t||r||Jn(e,n),t||!r}},er={get:function(t,e){return"string"!=typeof e||e in t||Jn(t,e),t[e]}};Wn=function(t){if(Qn){var e=t.$options,n=e.render&&e.render._withStripped?er:tr;t._renderProxy=new Proxy(t,n)}else t._renderProxy=t}}var nr=[],rr={},ir={},or=!1,ar=!1,sr=0,ur=0,cr=function(t,e,r,i){void 0===i&&(i={}),this.vm=t,t._watchers.push(this),this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.expression=e.toString(),this.cb=r,this.id=++ur,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fn,this.newDepIds=new fn,"function"==typeof e?this.getter=e:(this.getter=x(e),this.getter||(this.getter=function(){},"production"!==n.env.NODE_ENV&&Rn('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};cr.prototype.get=function(){k(this);var t=this.getter.call(this.vm,this.vm);return this.deep&&X(t),A(),this.cleanupDeps(),t},cr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},cr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},cr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():G(this)},cr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||p(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){if("production"!==n.env.NODE_ENV&&Rn('Error in watcher "'+this.expression+'"',this.vm),!jn.errorHandler)throw t;jn.errorHandler.call(null,t,this.vm)}else this.cb.call(this.vm,t,e)}}},cr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},cr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||a(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var lr=new fn,fr=o("key,ref,slot"),dr={enumerable:!0,configurable:!0,get:m,set:m},pr=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=o,this.context=a,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=s,this.child=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},hr=function(){var t=new pr;return t.text="",t.isComment=!0,t},vr=null,mr={init:kt,prepatch:At,insert:Ot,destroy:Ct},yr=Object.keys(mr),gr=0;Ut(zt),at(zt),Mt(zt),_t(zt),Rt(zt);var _r=[String,RegExp],br={name:"keep-alive",abstract:!0,props:{include:_r,exclude:_r},created:function(){this.cache=Object.create(null)},render:function(){var t=yt(this.$slots.default);if(t&&t.componentOptions){var e=t.componentOptions,n=e.Ctor.options.name||e.tag;if(n&&(this.include&&!Wt(this.include,n)||this.exclude&&Wt(this.exclude,n)))return t;var r=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[r]?t.child=this.cache[r].child:this.cache[r]=t,t.data.keepAlive=!0}return t},destroyed:function(){var t=this;for(var e in this.cache){var n=t.cache[e];bt(n.child,"deactivated"),n.child.$destroy()}}},wr={KeepAlive:br};Gt(zt),Object.defineProperty(zt.prototype,"$isServer",{get:Fn}),zt.version="2.1.3";var xr,Er=function(t,e){return"value"===e&&("input"===t||"textarea"===t||"option"===t)||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},kr=o("contenteditable,draggable,spellcheck"),Ar=o("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Or=(o("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,<th>,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap"),"http://www.w3.org/1999/xlink"),Cr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Dr=function(t){return Cr(t)?t.slice(6,t.length):""},Tr=function(t){return null==t||t===!1},$r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML",xhtml:"http://www.w3.org/1999/xhtml"},Fr=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Pr=(o("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr",!0),o("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source",!0),o("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track",!0),o("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0)),Sr=function(t){return Fr(t)||Pr(t)},Nr=Object.create(null),jr=Object.freeze({createElement:ie,createElementNS:oe,createTextNode:ae,createComment:se,insertBefore:ue,removeChild:ce,appendChild:le,parentNode:fe,nextSibling:de,tagName:pe,setTextContent:he,childNodes:ve,setAttribute:me}),Rr={create:function(t,e){ye(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ye(t,!0),ye(e))},destroy:function(t){ye(t,!0)}},Lr=new pr("",{},[]),Ir=["create","update","remove","destroy"],Mr={create:Ee,update:Ee,destroy:function(t){Ee(t,Lr)}},Ur=Object.create(null),Br=[Rr,Mr],Vr={create:Ce,update:Ce},zr={create:Te,update:Te},Yr={create:$e,update:$e},Hr={create:Fe,update:Fe},Zr=c(function(t){var e={},n=t.indexOf("background")>=0,r=n?/;(?![^(]*\))/g:";",i=n?/:(.+)/:":";return t.split(r).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),qr=/^--/,Wr=function(t,e,n){qr.test(e)?t.style.setProperty(e,n):t.style[Xr(e)]=n},Gr=["Webkit","Moz","ms"],Xr=c(function(t){if(xr=xr||document.createElement("div"),t=vn(t),"filter"!==t&&t in xr.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Gr.length;n++){var r=Gr[n]+e;if(r in xr.style)return r}}),Kr={create:je,update:je},Jr=kn&&!Cn,Qr="transition",ti="animation",ei="transition",ni="transitionend",ri="animation",ii="animationend";Jr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ei="WebkitTransition",ni="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ri="WebkitAnimation",ii="webkitAnimationEnd"));var oi=kn&&window.requestAnimationFrame||setTimeout,ai=/\b(transform|all)(,|$)/,si=c(function(t){return{enterClass:t+"-enter",leaveClass:t+"-leave",appearClass:t+"-enter",enterActiveClass:t+"-enter-active",leaveActiveClass:t+"-leave-active",appearActiveClass:t+"-enter-active"}}),ui=kn?{create:function(t,e){e.data.show||He(e)},remove:function(t,e){t.data.show?e():Ze(t,e)}}:{},ci=[Vr,zr,Yr,Hr,Kr,ui],li=ci.concat(Br),fi=xe({nodeOps:jr,modules:li}),di=/^input|select|textarea|vue-component-[0-9]+(-[0-9a-zA-Z_-]*)?$/;Cn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&tn(t,"input")});var pi={inserted:function(t,e,r){if("production"!==n.env.NODE_ENV&&(di.test(r.tag)||Rn("v-model is not supported on element type: <"+r.tag+">. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",r.context)),"select"===r.tag){var i=function(){Ge(t,e,r.context)};i(),(On||Dn)&&setTimeout(i,0)}else"textarea"!==r.tag&&"text"!==t.type||e.modifiers.lazy||(Tn||(t.addEventListener("compositionstart",Je),t.addEventListener("compositionend",Qe)),Cn&&(t.vmodel=!0))},componentUpdated:function(t,e,n){if("select"===n.tag){Ge(t,e,n.context);var r=t.multiple?e.value.some(function(e){return Xe(e,t.options)}):e.value!==e.oldValue&&Xe(e.value,t.options);r&&tn(t,"change")}}},hi={bind:function(t,e,n){var r=e.value;n=en(n);var i=n.data&&n.data.transition;r&&i&&!Cn&&He(n);var o="none"===t.style.display?"":t.style.display;t.style.display=r?o:"none",t.__vOriginalDisplay=o},update:function(t,e,n){var r=e.value,i=e.oldValue;if(r!==i){n=en(n);var o=n.data&&n.data.transition;o&&!Cn?r?(He(n),t.style.display=t.__vOriginalDisplay):Ze(n,function(){t.style.display="none"}):t.style.display=r?t.__vOriginalDisplay:"none"}}},vi={model:pi,show:hi},mi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String},yi={name:"transition",props:mi,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag}),r.length)){"production"!==n.env.NODE_ENV&&r.length>1&&Rn("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;"production"!==n.env.NODE_ENV&&i&&"in-out"!==i&&"out-in"!==i&&Rn("invalid <transition> mode: "+i,this.$parent);var o=r[0];if(an(this.$vnode))return o;var a=nn(o);if(!a)return o;if(this._leaving)return on(t,o);var s=a.key=null==a.key||a.isStatic?"__v"+(a.tag+this._uid)+"__":a.key,u=(a.data||(a.data={})).transition=rn(this),c=this._vnode,l=nn(c);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),l&&l.data&&l.key!==s){var f=l.data.transition=d({},u);if("out-in"===i)return this._leaving=!0,lt(f,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()},s),on(t,o);if("in-out"===i){var p,h=function(){p()};lt(u,"afterEnter",h,s),lt(u,"enterCancelled",h,s),lt(f,"delayLeave",function(t){p=t},s)}}return o}}},gi=d({tag:String,moveClass:String},mi);delete gi.mode;var _i={props:gi,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=rn(this),u=0;u<o.length;u++){var c=o[u];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))a.push(c),r[c.key]=c,(c.data||(c.data={})).transition=s;else if("production"!==n.env.NODE_ENV){var l=c.componentOptions,f=l?l.Ctor.options.name||l.tag:c.tag;Rn("<transition-group> children must be keyed: <"+f+">")}}if(i){for(var d=[],p=[],h=0;h<i.length;h++){var v=i[h];v.data.transition=s,v.data.pos=v.elm.getBoundingClientRect(),r[v.key]?d.push(v):p.push(v)}this.kept=t(e,null,d),this.removed=p}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(sn),t.forEach(un),t.forEach(cn);document.body.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Me(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ni,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ni,t),n._moveCb=null,Ue(n,e))})}})}},methods:{hasMove:function(t,e){if(!Jr)return!1;if(null!=this._hasMove)return this._hasMove;Me(t,e);var n=Ve(t);return Ue(t,e),this._hasMove=n.hasTransform}}},bi={Transition:yi,TransitionGroup:_i};zt.config.isUnknownElement=ne,zt.config.isReservedTag=Sr,zt.config.getTagNamespace=ee,zt.config.mustUseProp=Er,d(zt.options.directives,vi),d(zt.options.components,bi),zt.prototype.__patch__=kn?fi:m,zt.prototype.$mount=function(t,e){return t=t&&kn?re(t):void 0,this._mount(t,e)},setTimeout(function(){jn.devtools&&(Pn?Pn.emit("init",zt):"production"!==n.env.NODE_ENV&&kn&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console.log("Download the Vue Devtools for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0),t.exports=zt}).call(e,function(){return this}(),n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=h.length;e;){for(p=h,h=[];++m<e;)p&&p[m].run();m=-1,e=h.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r,i;n(4),r=n(14);var o=n(102);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.i(n(7),""),e.push([t.id,"footer:after,header:after{content:' ';display:table;clear:both}.expand-y-enter-active,.expand-y-leave-active,.modal-enter-active,.modal-leave-active,.player-more-enter-active,.player-more-leave-active{transition:transform .3s ease}.expand-y-enter,.expand-y-leave-active,.modal-enter,.modal-leave-active,.player-more-enter,.player-more-leave-active{transform:scaleY(0)}.player-more-enter,.player-more-enter-active,.player-more-leave-active{transform-origin:center top}#body,.app,body,html{width:100%;height:100%;margin:0}body{font-size:14px;font-family:Arial,Helvetica,sans-serif;line-height:18px}*{box-sizing:border-box}.app{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}footer,header{width:100%;background-color:#1161b3}footer .left,header .left{float:left}footer .right,header .right{float:right}footer .center,header .center{margin:auto;text-align:center}footer .mobile-row,header .mobile-row{display:inline-block}@media (max-width:540px){footer .mobile-row,header .mobile-row{padding-bottom:10px;display:block}footer .mobile-row:last-child,header .mobile-row:last-child{padding-bottom:0}}.lyric-editor{-ms-flex:1;flex:1;overflow:auto}.form-group{display:-ms-flexbox;display:flex;padding:5px 0;-ms-flex-align:center;align-items:center}.form-group label{vertical-align:middle;padding-right:10px}.form-group input{-ms-flex:1;flex:1;height:30px;border:1px solid #d6d6d6;padding:0 3px;border-radius:5px}.menu-item{display:inline-block;color:#fff;height:40px;line-height:40px;padding:0 8px;cursor:pointer}.menu-item:hover{background-color:#0d4884}.btn{border-radius:5px;display:inline-block;padding:6px;font-weight:bolder;cursor:pointer;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#1161b3;color:#fff}.btn:hover{background-color:#124b86}.btn.white,footer .btn,header .btn{background:#fff;color:#1161b3}.btn.white:hover,footer .btn:hover,header .btn:hover{background-color:#e8e1e1}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"@font-face{font-family:fontello;src:url("+n(8)+");src:url("+n(8)+"#iefix) format('embedded-opentype'),url("+n(9)+") format('woff2'),url("+n(10)+") format('woff'),url("+n(11)+") format('truetype'),url("+n(12)+"#fontello) format('svg');font-weight:400;font-style:normal}[class*=\" icon-\"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-edit:before{content:'\\E800'}.icon-save:before{content:'\\E801'}.icon-trash:before{content:'\\E802'}.icon-download:before{content:'\\E803'}.icon-upload:before{content:'\\E804'}.icon-right:before{content:'\\E805'}.icon-left:before{content:'\\E806'}.icon-up:before{content:'\\E807'}.icon-down:before{content:'\\E808'}.icon-volume-off:before{content:'\\E809'}.icon-volume-up:before{content:'\\E80A'}.icon-plus:before{content:'\\E80D'}.icon-cancel:before{content:'\\E80E'}.icon-ellipsis-vert:before{content:'\\E80F'}.icon-info:before{content:'\\E810'}.icon-help-circled:before{content:'\\E811'}.icon-play:before{content:'\\E812'}.icon-pause:before{content:'\\E813'}.icon-forward:before{content:'\\E814'}.icon-backward:before{content:'\\E815'}.icon-stop:before{content:'\\E816'}",""]);
},function(t,e,n){t.exports=n.p+"2bb4ae08084b7a900bfe1c703c988f34.eot"},function(t,e,n){t.exports=n.p+"f313a0f987672dc77a8c243380e2089e.woff2"},function(t,e,n){t.exports=n.p+"4cc930163f6d5088dfa5fef619d87cb9.woff"},function(t,e,n){t.exports=n.p+"b483544303fcfc7e1e34159a411fcdcb.ttf"},function(t,e,n){t.exports=n.p+"f4037f8d16f43379b18020706bdc9567.svg"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=h(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var n,r,i;if(e.singleton){var o=m++;n=v||(v=s(e)),r=c.bind(null,n,o,!1),i=c.bind(null,n,o,!0)}else n=s(e),r=l.bind(null,n),i=function(){a(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function c(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function l(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=f[s.id];u.refs--,o.push(u)}if(t){var c=i(t);r(c,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(20),s=r(a),u=n(51),c=r(u),l=n(73),f=r(l),d=n(95),p=r(d),h=n(55),v=n(48),m=r(v);e.default={data:function(){var t=m.default.lrcFormat;return{musicUrl:"",editing:m.default.editing,lrcFormat:t,runner:new h.Runner(h.Lrc.parse(t)),lyricArray:m.default.lyricArray}},created:function(){window.$App=this},methods:{uploadMusic:function(t){this.$refs.player.src=t},removeLyric:function(){this.lrcFormat="",this.lyricArray=[],this.runner=new h.Runner},playto:function(t){this.$refs.player.playto(t)},timeupdate:function(t){this.$refs.lyric.$emit("timeupdate",t)}},watch:{editing:function(t){m.default.editing=t},lrcFormat:function(t){m.default.lrcFormat=t,this.runner=new h.Runner(h.Lrc.parse(this.lrcFormat))},lyricArray:{deep:!0,handler:function(){m.default.lyricArray=this.lyricArray}}},components:{Upload:o.default,Player:s.default,LyricEditor:c.default,Modals:f.default,NavMenu:p.default}}},function(t,e,n){var r,i;n(16),r=n(18);var o=n(19);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-27024123",t.exports=r},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"input[type=file][data-v-27024123]{display:none}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this,e=this.$refs.upload;e.addEventListener("change",function(){var n=new FileReader;n.onload=function(e){t.$emit("uploaded",e.target.result)},e.files.length>0&&t.type_match()&&n["readAs"+t.readFormat](e.files[0])})},props:{type:{type:String},readFormat:{type:String,default:"Text"},accept:{type:String,default:""}},methods:{upload:function(){this.$refs.upload.click()},type_match:function(){if(this.type){var t=new RegExp("^"+this.type+"/");return t.test(this.$refs.upload.files[0].type)}return!0}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{on:{click:t.upload}},[t._h("i",{staticClass:"icon-upload"})," ",t._t("default")," ",t._h("input",{ref:"upload",attrs:{type:"file",accept:t.accept}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(21),r=n(23);var o=n(50);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-9b2943fa",t.exports=r},function(t,e,n){var r=n(22);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".root[data-v-9b2943fa]{height:30px}.root.mobile[data-v-9b2943fa]{height:60px}.more[data-v-9b2943fa],.player[data-v-9b2943fa],.sound[data-v-9b2943fa]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.more[data-v-9b2943fa],.player[data-v-9b2943fa]{background:#d0dae4;color:#1161b3;height:30px}.ctrl-btn[data-v-9b2943fa]{font-size:20px;padding:0 1px}.range[data-v-9b2943fa]{margin-left:4px;margin-right:4px}.range.music[data-v-9b2943fa]{-ms-flex:1;flex:1}time-panel[data-v-9b2943fa]{padding:0 5px}.more[data-v-9b2943fa]{height:30px;-ms-flex-pack:end;justify-content:flex-end;position:relative;z-index:10}.mobile .more[data-v-9b2943fa]{-ms-flex-pack:justify;justify-content:space-between}.sound[data-v-9b2943fa]{padding:0 5px;width:30%}.sound .range.volume[data-v-9b2943fa]{-ms-flex:1;flex:1}.sound .ctrl-mute-btn[data-v-9b2943fa]{width:26px;font-size:18px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),a=n(44),s=r(a),u=n(28);e.default={data:function(){return{hover:!1,isMobile:u.isMobile,process:0,muted:!1,paused:!0,currentTime:0,duration:0,volume:0,src:"",audio:null}},methods:{seek:function(t){this.playto(parseFloat(t*this.audio.duration))},volumeSeek:function(t){this.audio.volume=this.volume=t},playto:function(t){var e=this;this.paused&&(this.paused=!1),this.$nextTick(function(){e.currentTime=e.audio.currentTime=t})}},mounted:function(){var t=this;this.audio=document.createElement("video"),this.audio.preload="metadata",this.audio.addEventListener("durationchange",function(){t.duration=t.audio.duration}),this.audio.addEventListener("timeupdate",function(){t.currentTime=t.audio.currentTime,t.process=t.currentTime/t.duration,t.$emit("timeupdate",t.currentTime)}),this.audio.addEventListener("ended",function(){t.$emit("timeupdate",t.currentTime),t.process=0,t.paused=!0}),u.globalKeydown.on("space",function(){return t.paused=!t.paused,!1}).on("arrowleft",function(){return t.$emit("backward"),!1}).on("arrowright",function(){return t.$emit("forward"),!1}),this.$on("backward",function(){t.playto(t.audio.currentTime-5)}).$on("forward",function(){t.playto(t.audio.currentTime+5)})},watch:{src:{immediate:!0,handler:function(t){t&&(this.paused=!0,this.audio.src=t,this.process=0,this.volume=this.audio.volume,this.currentTime=this.audio.currentTime,this.duration=this.audio.duration)}},process:function(t){this.$refs.musicRange.changeValue(t)},volume:function(t){this.$refs.soundRange.changeValue(t)},muted:function(t){this.audio.muted=t},paused:function(){this.paused?this.audio.pause():this.audio.play()}},components:{Range:o.default,TimePanel:s.default}}},function(t,e,n){var r,i;n(25),r=n(27);var o=n(43);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-50bb530b",t.exports=r},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".bar[data-v-50bb530b]{position:relative;height:10px}.wrap[data-v-50bb530b]{width:100%;height:100%;background-color:#123b5d;border-radius:5px;overflow:hidden}.value[data-v-50bb530b]{height:100%;background-color:#1161b3}.thumb[data-v-50bb530b]{cursor:move;position:absolute;top:-3px;width:10px;height:16px;background:#fff;box-shadow:inset -1px -1px 5px -2px #0b2031;border-radius:16px;transform:translateX(-5px)}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{selfValue:0,draging:!1,dragValue:0}},props:{value:{type:Number,default:0,validator:function(t){return t>=0&&t<=1}}},methods:{click:function(t){t.target!==this.$refs.thumb&&(this.selfValue=this.offset2value(t.offsetX),this.emitSeek())},emitSeek:function(){this.$emit("seek",this.selfValue)},emitDragSeek:function(){this.$emit("drag-seek",this.selfValue)},offset2value:function(t){return t/this.$refs.bar.clientWidth},changeValue:function(t){this.draging||(this.selfValue=t)}},mounted:function(){var t=this,e=this.$refs.thumb,n=this.$refs.bar,i=new r.Dragger(e,n);i.on("start",function(){t.draging=!0}).on("move",function(){t.selfValue=t.offset2value(i.offset),t.emitDragSeek()}).on("end",function(){t.draging=!1,t.selfValue=t.offset2value(i.offset),t.emitSeek()}),i.create()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){D?m.default.saveAs(new Blob([t],{type:"text/plain;charset=utf-8"}),e+".lrc"):alert("Please upgrade your browser")}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(t=0);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(t=t.toString();t.split(".")[0].length<e;)t="0"+t;return t};return e?n(parseInt(t/60,10))+":"+n(parseInt(t%60,10)):n(parseInt(t/60,10))+":"+n((t%60).toFixed(2),2)}function c(t){var e=t.split(":"),n=l(e,2),r=n[0],i=n[1];return 60*parseInt(r,10)+parseFloat(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipPosition=e.Dragger=e.globalKeydown=e.cache=e.Cache=e.DelayHover=e.Scroller=e.EventEmitter=e.isMobile=void 0;var l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};e.saveLrc=s,e.timestamp2timestr=u,e.timestr2timestamp=c;var p=n(29),h=r(p),v=n(30),m=r(v),y=n(33),g=r(y),_=n(36),b=r(_),w=n(37),x=r(w),E=n(38),k=r(E),A=e.isMobile="ontouchstart"in window,O=e.EventEmitter=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),f(e,[{key:"on",value:function(t){for(var n=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(b.default.array(t))t.forEach(function(t){var r;(r=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",n)).call.apply(r,[n,t].concat(i))});else{var a;(a=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on",this)).call.apply(a,[this,t].concat(i))}return this}}]),e}(h.default),C=(e.Scroller=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.timer=[],this.scrollableStartTime=new Date,this.viewport=e,this.config=(0,x.default)({delay:3,time:1,step:100},r),this.viewport.addEventListener("scroll",function(){n.isCanScroll()||n.letDelay()})}return f(t,[{key:"letDelay",value:function(){this.scrollableStartTime=Date.now()+1e3*this.config.delay}},{key:"clearTimer",value:function(){this.timer.forEach(function(t){return clearTimeout(t)}),this.timer=[]}},{key:"isCanScroll",value:function(){return Date.now()>this.scrollableStartTime}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isCanScroll()||n!==!1){this.clearTimer();var r=this.viewport.scrollTop,i=t,o=i-r;if(0!==o)for(var a=o/this.config.step,s=r,u=1;u<this.config.step;++u)!function(t){e.timer.push(setTimeout(function(){s!==e.viewport.scrollTop?(e.clearTimer(),e.letDelay()):(e.viewport.scrollTop=r+a*t,s=e.viewport.scrollTop)},1e3*e.config.time*t/e.config.step))}(u)}}}]),t}(),e.DelayHover=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.enterTimer=null,r.leaveTimer=null,r.show=!1,r.element=t,r.cfg=(0,x.default)({enterDelay:.5,leaveDelay:.3,unique:!0},n),r.hover(function(){r.show=!0},function(){r.show=!1}),A?r.element.addEventListener("click",function(){r.show?r.emit("leave"):(r.closeLastHover(),r.emit("enter"))}):(r.element.addEventListener("mouseenter",function(){r.clearLeaveTimer(),r.enterTimer=setTimeout(function(){r.closeLastHover(),e.LastHover=r,r.emit("enter")},1e3*r.cfg.enterDelay)}),r.element.addEventListener("mouseleave",function(){r.clearEnterTimer(),r.leaveTimer=setTimeout(function(){r.emit("leave")},1e3*r.cfg.leaveDelay)})),r}return a(e,t),f(e,[{key:"closeLastHover",value:function(){this.cfg.unique&&e.LastHover&&e.LastHover!=this&&e.LastHover.emit("leave")}},{key:"clearLeaveTimer",value:function(){null!==this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null)}},{key:"clearEnterTimer",value:function(){null!==this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=null)}},{key:"hover",value:function(t,e){this.on("enter",t).on("leave",e)}}]),e}(O));C.LastHover=null;var D;try{D=!!new Blob}catch(t){D=!1}var T=e.Cache=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lrc";i(this,t),this.version=2,this.prefix=e}return f(t,[{key:"read",value:function(){var t;if(this.prefix in localStorage){try{t=JSON.parse(localStorage[this.prefix])}catch(t){console.error(t)}if(t.$version===this.version)return t}return{}}},{key:"write",value:function(t){t.$version=this.version,localStorage[this.prefix]=JSON.stringify(t)}},{key:"get",value:function(t,e){var n=this.read();return t in n?n[t]:e}},{key:"set",value:function(t,e){var n=this.read();n[t]=e;try{this.write(n)}catch(t){console.error(t)}}}]),t}(),$=(e.cache=new T,e.globalKeydown=new O);window.addEventListener("keydown",function(t){if(!/(input|select|option|textarea)/.test(t.target.tagName.toLowerCase())){var e=t.code.toLowerCase(),n=$.listeners(e).map(function(e){return e(t)===!1});if(n.length){var r=!1;n.forEach(function(t){t&&(r=!0)}),r&&t.preventDefault()}}});e.Dragger=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.ee=new O,r.element=t,r.container=n,r}return a(e,t),f(e,[{key:"on",value:function(){var t;return(t=this.ee).on.apply(t,arguments)}},{key:"emit",value:function(){var t;return(t=this.ee).emit.apply(t,arguments)}},{key:"create",value:function(){this.handles=[this.element],this.bindHandles()}},{key:"dragStart",value:function(t){this.dragStartPoint.left=this.element.offsetLeft,this.emit("start",t)}},{key:"dragMove",value:function(t,e,n){this.offset=this.dragStartPoint.left+n.x,this.offset<0?this.offset=0:this.offset>this.container.clientWidth&&(this.offset=this.container.clientWidth),this.emit("move",t,e,n)}},{key:"dragEnd",value:function(t,e){this.emit("end",t,e)}}]),e}(g.default),e.TooltipPosition=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";i(this,t),this.dirs=["bottom","right","top","left"],this.target=e,this.tooltip=n,this.viewport=document.documentElement,this.generateDirs(r)}return f(t,[{key:"generateDirs",value:function(t){var e=this.dirs.indexOf(t);this.dirs.splice(e,1),this.dirs.unshift(t)}},{key:"checkRectOverflow",value:function(t){return t.left>=0&&t.top>=0&&t.right<=this.viewport.clientWidth&&t.bottom<=this.viewport.clientHeight}},{key:"rectOverflowCount",value:function(t){var e=function(t){return t<0?t:0};return e(t.left)+e(t.top)+e(this.viewport.clientWidth-t.right)+e(this.viewport.clientHeight-t.bottom)}},{key:"position",value:function(){for(var t=this.target.getBoundingClientRect(),e=this.tooltip.clientWidth,n=this.tooltip.clientHeight,r={width:e,height:n},i=[],o=0;o<this.dirs.length;++o){var a=this.dirs[o];switch(this.dirs[o]){case"bottom":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.bottom,r.bottom=t.bottom+n;break;case"top":r.left=t.left+t.width/2-e/2,r.right=r.left+e,r.top=t.top-n,r.bottom=t.top;break;case"left":r.left=t.left-e,r.right=t.left,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n;break;case"right":r.left=t.right,r.right=t.right+e,r.top=t.top+t.height/2-n/2,r.bottom=r.top+n}i.push([this.rectOverflowCount(r),a,(0,k.default)(r)])}return i.sort(function(t,e){return e[0]-t[0]}),{dir:i[0][1],rect:i[0][2]}}}]),t}()},function(t,e,n){var r;!function(i){function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==i?t.maxListeners:d,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=d}function s(t,e){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,t,e)):console.error(n,t),console.trace&&console.trace()}function u(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function c(t,e,n,r){if(!n)return[];var i,o,a,s,u,l,f,d=[],p=e.length,h=e[r],v=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(c(t,e,n[a],r+1)));return d}if("**"===h){f=r+1===p||r+2===p&&"*"===v,f&&n._listeners&&(d=d.concat(c(t,e,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(d=d.concat(c(t,e,n[a],p))),d=d.concat(c(t,e,n[a],r))):d=a===v?d.concat(c(t,e,n[a],r+2)):d.concat(c(t,e,n[a],r)));return d}d=d.concat(c(t,e,n[h],r+1))}if(s=n["*"],s&&c(t,e,s,r+1),u=n["**"])if(r<p){u._listeners&&c(t,e,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?c(t,e,u[a],r+2):a===h?c(t,e,u[a],r+1):(l={},l[a]=u[a],c(t,e,{"**":l},r+1)))}else u._listeners?c(t,e,u,p):u["*"]&&u["*"]._listeners&&c(t,e,u["*"],p);return d}function l(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;n+1<r;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,a=t.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===t.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(e),!o._listeners.warned&&this._events.maxListeners>0&&o._listeners.length>this._events.maxListeners&&(o._listeners.warned=!0,s.call(this,o._listeners.length,a))):o._listeners=e,!0;a=t.shift()}return!0}var f=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==i&&(this._events||o.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(t,e){return this.many(t,1,e),this},u.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},u.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,r,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this,t);break;case 2:a[r].call(this,t,arguments[1]);break;case 3:a[r].call(this,t,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}}if(this.wildcard){a=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,a,u,this.listenerTree,0)}else{if(a=this._events[t],"function"==typeof a){switch(this.event=t,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];a.apply(this,e)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,r,i,a,s=[],u=arguments.length;if(this._all){if(u>3)for(e=new Array(u),i=1;i<u;i++)e[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=t,u){case 1:s.push(this._all[r].call(this,t));break;case 2:s.push(this._all[r].call(this,t,arguments[1]));break;case 3:s.push(this._all[r].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,e))}}if(this.wildcard){a=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,a,l,this.listenerTree,0)}else a=this._events[t];if("function"==typeof a)switch(this.event=t,u){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];s.push(a.apply(this,e))}else if(a&&a.length){if(u>3)for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=t,u){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(l.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),this._events[t].push(e),!this._events[t].warned&&this._events.maxListeners>0&&this._events[t].length>this._events.maxListeners&&(this._events[t].warned=!0,s.call(this,this._events[t].length,t))):this._events[t]=e,this)},u.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,e){function n(t){if(t!==i){var e=Object.keys(t);for(var r in e){var o=e[r],a=t[o];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&n(t[o]),0===Object.keys(a).length&&delete t[o])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,o=[];if(this.wildcard){var a="string"==typeof t?t.split(this.delimiter):t.slice();o=c.call(this,null,a,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],o.push({_listeners:r})}for(var s=0;s<o.length;s++){var u=o[s];if(r=u._listeners,f(r)){for(var l=-1,d=0,p=r.length;d<p;d++)if(r[d]===e||r[d].listener&&r[d].listener===e||r[d]._origin&&r[d]._origin===e){l=d;break}if(l<0)continue;return this.wildcard?u._listeners.splice(l,1):this._events[t].splice(l,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete u._listeners:delete this._events[t],this.emit("removeListener",t,e))}return n(this.listenerTree),this},u.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;n<r;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,r=e.length;n<r;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=c.call(this,null,e,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[t]=null);return this},u.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return c.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),f(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},u.prototype.listenerCount=function(t){return this.listeners(t).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(e,n,e,t),!(r!==i&&(t.exports=r))}()},function(t,e,n){var r,i,o=o||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=0,f=500,d=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,f)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){u(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},v=function(e,u,f){f||(e=h(e));var v,m,y,g=this,_=e.type,b=!1,w=function(){p(g,"writestart progress write writeend".split(" "))},x=function(){if(!b&&v||(v=n().createObjectURL(e)),m)m.location.href=v;else{var r=t.open(v,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=v)}g.readyState=g.DONE,w(),d(v)},E=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};return g.readyState=g.INIT,u||(u="download"),i?(v=n().createObjectURL(e),r.href=v,r.download=u,void setTimeout(function(){o(r),w(),d(v),g.readyState=g.DONE})):(t.chrome&&_&&_!==c&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,c),b=!0),a&&"download"!==u&&(u+=".download"),(_===c||a)&&(m=t),s?(l+=e.size,void s(t.TEMPORARY,l,E(function(t){t.root.getDirectory("saved",k,E(function(t){var n=function(){t.getFile(u,k,E(function(t){t.createWriter(E(function(n){n.onwriteend=function(e){m.location.href=t.toURL(),g.readyState=g.DONE,p(g,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};t.getFile(u,{create:!1},E(function(t){t.remove(),n()}),E(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},m=v.prototype,y=function(t,e,n){return new v(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(m.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=o:null!==n(31)&&null!=n(32)&&(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r,i;/*!
	 * Unidragger v2.1.0
	 * Draggable base class
	 * MIT license
	 */
!function(o,a){r=[n(34)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)};var o=t.navigator;return i._bindHandles=function(t){t=void 0===t||!!t;var e;e=o.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:o.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:n;for(var r=t?"addEventListener":"removeEventListener",i=0;i<this.handles.length;i++){var a=this.handles[i];this._bindStartEvent(a,t),e(a),a[r]("click",this)}},i.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},i._dragPointerDown=function(t,n){this.pointerDownPoint=e.getPointerPoint(n);var r=this.canPreventDefaultOnPointerDown(t,n);r&&t.preventDefault()},i.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},i.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},i._dragPointerMove=function(t,n){var r=e.getPointerPoint(n),i={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,n),i},i.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,n){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(t,n)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},i.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var n=t.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},r.getPointerPoint=e.getPointerPoint,r})},function(t,e,n){var r,i;/*!
	 * Unipointer v2.1.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(o,a){r=[n(35)],i=function(t){return a(o,t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function r(){}var i=r.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var r=n?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[r]("pointerdown",this):t.navigator.msPointerEnabled?e[r]("MSPointerDown",this):(e[r]("mousedown",this),e[r]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onMSPointerDown=i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return i._bindPostStartEvents=function(e){if(e){var n=o[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onMSPointerMove=i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onMSPointerUp=i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onMSPointerCancel=i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},r.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},r})},function(t,e,n){var r,i;!function(o,a){r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return r.indexOf(e)==-1&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},r=n[t]=n[t]||{};return r[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return r!=-1&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=0,i=n[r];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];i;){var a=o&&o[i];a&&(this.off(t,i),delete o[i]),i.apply(this,e),r+=a?0:1,i=n[r]}return this}},t})},function(t,e,n){var r;(function(i){!function(i,o){r=function(){return i.is=o()}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this,function(){function t(t){return function(){return!t.apply(null,l.call(arguments))}}function e(t){return function(){var e=l.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(!t.call(null,e[r]))return!1;return!0}}function n(t){return function(){var e=l.call(arguments),n=e.length;1===n&&u.array(e[0])&&(e=e[0],n=e.length);for(var r=0;r<n;r++)if(t.call(null,e[r]))return!0;return!1}}function r(t,e){u[t]=function(n){return e[t].test(n)}}function o(){var r=u;for(var i in r)if(f.call(r,i)&&u.function(r[i]))for(var o=r[i].api||["not","all","any"],a=0;a<o.length;a++)"not"===o[a]&&(u.not[i]=t(u[i])),"all"===o[a]&&(u.all[i]=e(u[i])),"any"===o[a]&&(u.any[i]=n(u[i]))}var a=this||i,s=a.is,u={};u.VERSION="0.8.0",u.not={},u.all={},u.any={};var c=Object.prototype.toString,l=Array.prototype.slice,f=Object.prototype.hasOwnProperty;u.arguments=function(t){return u.not.null(t)&&("[object Arguments]"===c.call(t)||"object"==typeof t&&"callee"in t)},u.array=Array.isArray||function(t){return"[object Array]"===c.call(t)},u.boolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},u.date=function(t){return"[object Date]"===c.call(t)},u.error=function(t){return"[object Error]"===c.call(t)},u.function=function(t){return"[object Function]"===c.call(t)||"function"==typeof t},u.nan=function(t){return t!==t},u.null=function(t){return null===t},u.number=function(t){return u.not.nan(t)&&"[object Number]"===c.call(t)},u.object=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},u.json=function(t){return"[object Object]"===c.call(t)},u.regexp=function(t){return"[object RegExp]"===c.call(t)},u.sameType=function(t,e){return u.nan(t)||u.nan(e)?u.nan(t)===u.nan(e):c.call(t)===c.call(e)},u.sameType.api=["not"],u.string=function(t){return"[object String]"===c.call(t)},u.char=function(t){return u.string(t)&&1===t.length},u.undefined=function(t){return void 0===t},u.empty=function(t){if(u.object(t)){var e=Object.getOwnPropertyNames(t).length;return!!(0===e||1===e&&u.array(t)||2===e&&u.arguments(t))}return""===t},u.existy=function(t){return null!==t&&void 0!==t},u.truthy=function(t){return u.existy(t)&&t!==!1&&u.not.nan(t)&&""!==t&&0!==t},u.falsy=t(u.truthy),u.space=function(t){if(u.char(t)){var e=t.charCodeAt(0);return e>8&&e<14||32===e}return!1},u.equal=function(t,e){return u.all.number(t,e)?t===e&&1/t===1/e:u.all.string(t,e)||u.all.regexp(t,e)?""+t==""+e:!!u.all.boolean(t,e)&&t===e},u.equal.api=["not"],u.even=function(t){return u.number(t)&&t%2===0},u.odd=function(t){return u.number(t)&&t%2===1},u.positive=function(t){return u.number(t)&&t>0},u.negative=function(t){return u.number(t)&&t<0},u.above=function(t,e){return u.all.number(t,e)&&t>e},u.above.api=["not"],u.under=function(t,e){return u.all.number(t,e)&&t<e},u.under.api=["not"],u.within=function(t,e,n){return u.all.number(t,e,n)&&t>e&&t<n},u.within.api=["not"],u.decimal=function(t){return u.number(t)&&t%1!==0},u.integer=function(t){return u.number(t)&&t%1===0},u.finite=isFinite||function(t){return t!==1/0&&t!==-(1/0)&&u.not.nan(t)},u.infinite=t(u.finite);var d={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/};for(var p in d)d.hasOwnProperty(p)&&r(p,d);u.include=function(t,e){return t.indexOf(e)>-1},u.include.api=["not"],u.upperCase=function(t){return u.string(t)&&t===t.toUpperCase()},u.lowerCase=function(t){return u.string(t)&&t===t.toLowerCase()},u.startWith=function(t,e){return u.string(t)&&0===t.indexOf(e)},u.startWith.api=["not"],u.endWith=function(t,e){return u.string(t)&&t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},u.endWith.api=["not"],u.capitalized=function(t){if(u.not.string(t))return!1;for(var e=t.split(" "),n=[],r=0;r<e.length;r++)n.push(e[r][0]===e[r][0].toUpperCase());return u.all.truthy.apply(null,n)},u.palindrome=function(t){return u.string(t)&&t==t.split("").reverse().join("")};var h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],v=["january","february","march","april","may","june","july","august","september","october","november","december"];if(u.today=function(t){var e=new Date,n=e.toDateString();return u.date(t)&&t.toDateString()===n},u.yesterday=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()-1)).toDateString();return u.date(t)&&t.toDateString()===n},u.tomorrow=function(t){var e=new Date,n=new Date(e.setDate(e.getDate()+1)).toDateString();return u.date(t)&&t.toDateString()===n},u.past=function(t){var e=new Date;return u.date(t)&&t.getTime()<e.getTime()},u.future=t(u.past),u.day=function(t,e){return u.date(t)&&e.toLowerCase()===h[t.getDay()]},u.day.api=["not"],u.month=function(t,e){return u.date(t)&&e.toLowerCase()===v[t.getMonth()]},u.month.api=["not"],u.year=function(t,e){return u.date(t)&&u.number(e)&&e===t.getFullYear()},u.year.api=["not"],u.leapYear=function(t){return u.number(t)&&(t%4===0&&t%100!==0||t%400===0)},u.weekend=function(t){return u.date(t)&&(6===t.getDay()||0===t.getDay())},u.weekday=t(u.weekend),u.inDateRange=function(t,e,n){if(u.not.date(t)||u.not.date(e)||u.not.date(n))return!1;var r=t.getTime(),i=e.getTime(),o=n.getTime();return r>i&&r<o},u.inDateRange.api=["not"],u.inLastWeek=function(t){return u.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},u.inLastMonth=function(t){return u.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},u.inLastYear=function(t){return u.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},u.inNextWeek=function(t){return u.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},u.inNextMonth=function(t){return u.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},u.inNextYear=function(t){return u.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},u.quarterOfYear=function(t,e){return u.date(t)&&u.number(e)&&e===Math.floor((t.getMonth()+3)/3)},u.quarterOfYear.api=["not"],u.dayLightSavingTime=function(t){var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1),r=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()<r},"undefined"!=typeof window){var m="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",y="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",g="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";u.chrome=function(){return/chrome|chromium/i.test(m)&&/google inc/.test(y)},u.chrome.api=["not"],u.firefox=function(){return/firefox/i.test(m)},u.firefox.api=["not"],u.edge=function(){return/edge/i.test(m)},u.edge.api=["not"],u.ie=function(t){return t?t>=11?"ActiveXObject"in window:new RegExp("msie "+t).test(m):/msie/i.test(m)||"ActiveXObject"in window},u.ie.api=["not"],u.opera=function(){return/^Opera\//.test(m)||/\x20OPR\//.test(m)},u.opera.api=["not"],u.safari=function(){return/safari/i.test(m)&&/apple computer/i.test(y)},u.safari.api=["not"],u.ios=function(){return u.iphone()||u.ipad()||u.ipod()},u.ios.api=["not"],u.iphone=function(){return/iphone/i.test(m)},u.iphone.api=["not"],u.ipad=function(){return/ipad/i.test(m)},u.ipad.api=["not"],u.ipod=function(){return/ipod/i.test(m)},u.ipod.api=["not"],u.android=function(){return/android/i.test(m)},u.android.api=["not"],u.androidPhone=function(){return/android/i.test(m)&&/mobile/i.test(m)},u.androidPhone.api=["not"],u.androidTablet=function(){return/android/i.test(m)&&!/mobile/i.test(m)},u.androidTablet.api=["not"],u.blackberry=function(){return/blackberry/i.test(m)||/BB10/i.test(m)},u.blackberry.api=["not"],u.desktop=function(){return u.not.mobile()&&u.not.tablet()},u.desktop.api=["not"],u.linux=function(){return/linux/i.test(g)},u.linux.api=["not"],u.mac=function(){return/mac/i.test(g)},u.mac.api=["not"],u.windows=function(){return/win/i.test(g)},u.windows.api=["not"],u.windowsPhone=function(){return u.windows()&&/phone/i.test(m)},u.windowsPhone.api=["not"],u.windowsTablet=function(){return u.windows()&&u.not.windowsPhone()&&/touch/i.test(m)},u.windowsTablet.api=["not"],u.mobile=function(){return u.iphone()||u.ipod()||u.androidPhone()||u.blackberry()||u.windowsPhone()},u.mobile.api=["not"],u.tablet=function(){return u.ipad()||u.androidTablet()||u.windowsTablet()},u.tablet.api=["not"],u.online=function(){return navigator.onLine},u.online.api=["not"],u.offline=t(u.online),u.offline.api=["not"],u.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch},u.touchDevice.api=["not"]}return u.propertyCount=function(t,e){if(!u.object(t)||!u.number(e))return!1;if(Object.keys)return Object.keys(t).length===e;var n,r=[];for(n in t)f.call(t,n)&&r.push(n);return r.length===e},u.propertyCount.api=["not"],u.propertyDefined=function(t,e){return u.object(t)&&u.string(e)&&e in t},u.propertyDefined.api=["not"],u.windowObject=function(t){return"object"==typeof t&&"setInterval"in t},u.domNode=function(t){return u.object(t)&&t.nodeType>0},u.inArray=function(t,e){if(u.not.array(e))return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},u.inArray.api=["not"],u.sorted=function(t){if(u.not.array(t))return!1;for(var e=0;e<t.length;e++)if(t[e]>t[e+1])return!1;return!0},o(),u.setRegexp=function(t,e){for(var n in d)f.call(d,n)&&e===n&&(d[n]=t)},u.setNamespace=function(){return a.is=s,this},u})}).call(e,function(){return this}())},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},o=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var o;for(o in t);return"undefined"==typeof o||n.call(t,o)};t.exports=function t(){var e,n,r,a,s,u,c=arguments[0],l=1,f=arguments.length,d=!1;for("boolean"==typeof c?(d=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});l<f;++l)if(e=arguments[l],null!=e)for(n in e)r=c[n],a=e[n],c!==a&&(d&&a&&(o(a)||(s=i(a)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&o(r)?r:{},c[n]=t(d,u,a)):"undefined"!=typeof a&&(c[n]=a));return c}},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o,l){function f(n,i){if(null===n)return null;if(0===i)return n;var v,m;if("object"!=typeof n)return n;if(n instanceof s)v=new s;else if(n instanceof u)v=new u;else if(n instanceof c)v=new c(function(t,e){n.then(function(e){t(f(e,i-1))},function(t){e(f(t,i-1))})});else if(t.__isArray(n))v=[];else if(t.__isRegExp(n))v=new RegExp(n.source,a(n)),n.lastIndex&&(v.lastIndex=n.lastIndex);else if(t.__isDate(n))v=new Date(n.getTime());else{if(h&&e.isBuffer(n))return v=new e(n.length),n.copy(v),v;n instanceof Error?v=Object.create(n):"undefined"==typeof o?(m=Object.getPrototypeOf(n),v=Object.create(m)):(v=Object.create(o),m=o)}if(r){var y=d.indexOf(n);if(y!=-1)return p[y];d.push(n),p.push(v)}if(n instanceof s)for(var g=n.keys();;){var _=g.next();if(_.done)break;var b=f(_.value,i-1),w=f(n.get(_.value),i-1);v.set(b,w)}if(n instanceof u)for(var x=n.keys();;){var _=x.next();if(_.done)break;var E=f(_.value,i-1);v.add(E)}for(var k in n){var A;m&&(A=Object.getOwnPropertyDescriptor(m,k)),A&&null==A.set||(v[k]=f(n[k],i-1))}if(Object.getOwnPropertySymbols)for(var O=Object.getOwnPropertySymbols(n),k=0;k<O.length;k++){var C=O[k],D=Object.getOwnPropertyDescriptor(n,C);(!D||D.enumerable||l)&&(v[C]=f(n[C],i-1),D.enumerable||Object.defineProperty(v,C,{enumerable:!1}))}if(l)for(var T=Object.getOwnPropertyNames(n),k=0;k<T.length;k++){var $=T[k],D=Object.getOwnPropertyDescriptor(n,$);D&&D.enumerable||(v[$]=f(n[$],i-1),Object.defineProperty(v,$,{enumerable:!1}))}return v}"object"==typeof r&&(i=r.depth,o=r.prototype,l=r.includeNonEnumerable,r=r.circular);var d=[],p=[],h="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),f(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map}catch(t){s=function(){}}var u;try{u=Set}catch(t){u=function(){}}var c;try{c=Promise}catch(t){c=function(){}}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):h(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function l(e,n){if(u(n),e=a(e,n<0?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);e=a(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function d(t,e){var n=e.length<0?0:0|v(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=d(e,n),e}function h(e,n){if(t.isBuffer(n)){var r=0|v(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||X(n.length)?a(e,0):d(e,n);if("Buffer"===n.type&&Q(n.data))return d(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e){return+e!=e&&(e=0),t.alloc(+e)}function y(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return H(e).length;n=(""+n).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return F(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:w(e,n,r,i,o);if("number"==typeof n)return n&=255,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):w(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,d=0;d<u;d++)if(o(t,c+d)!==o(e,d)){f=!1;break}if(f)return c}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function k(t,e,n,r){return G(Z(e),t,n,r)}function A(t,e,n,r){return k(t,e,n,r)}function O(t,e,n,r){return G(W(e),t,n,r)}function C(t,e,n,r){return G(q(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return $(r)}function $(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function F(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function V(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return K.toByteArray(V(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t){return t!==t}var K=n(40),J=n(41),Q=n(42);e.Buffer=t,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=y,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),c=this.slice(i,o),l=e.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):I(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):I(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):I(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:H(new t(e,i).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(39).Buffer,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,a,s,u=t.length;a=n(t),s=new l(3*u/4-a),i=a>0?u-4:u;var f=0;for(e=0,r=0;e<i;e+=4,r+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[f++]=o>>16&255,s[f++]=o>>8&255,s[f++]=255&o;return 2===a?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[f++]=255&o):1===a&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[f++]=o>>8&255,s[f++]=255&o),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],s=16383,c=0,l=n-r;c<l;c+=s)o.push(a(t,c,c+s>l?l:c+s));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=s;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)u[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?d/u:d*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=h,a/=256,c-=8);t[n+p-h]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"bar",staticClass:"bar",on:{click:t.click}},[t._h("div",{staticClass:"wrap"},[t._h("div",{staticClass:"value",style:{width:100*t.selfValue+"%"}})])," ",t._h("div",{ref:"thumb",staticClass:"thumb",style:{left:100*t.selfValue+"%"}})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(45),r=n(47);var o=n(49);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(46);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(48),a=r(o);e.default={data:function(){return{remain:a.default.timeRemain}},props:{duration:{default:0,type:Number},currentTime:{default:0,type:Number}},filters:{time:function(t){return(0,i.timestamp2timestr)(t,!0)}},watch:{remain:function(t){a.default.timeRemain=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),i={lrcFormat:{},lyric:{},editing:{default:!0},lyricArray:{default:[]},timeRemain:{default:!1},userName:{default:""}},o={};Object.keys(i).forEach(function(t){var e=i[t];o[t]=r.cache.get(e.name||t,e.default||"")}),e.default=new Proxy(o,{set:function(t,e,n){var o=i[e];return r.cache.set(o.name||e,n),t[e]=n,!0}})},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("span",{on:{click:function(e){t.remain=!t.remain}}},[t.remain?["\n      -"+t._s(t._f("time")(t.duration-t.currentTime))+"\n    "]:["\n      "+t._s(t._f("time")(t.currentTime))+"\n    "]," "]),"\n  / "+t._s(t._f("time")(t.duration))+"\n"])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.src.length,expression:"src.length"}],staticClass:"root",class:{mobile:t.isMobile},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t._h("div",{staticClass:"player"},[t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[SPACE]"},on:{click:function(e){t.paused=!t.paused}}},[t.paused?t._h("i",{staticClass:"icon-play"}):t._h("i",{staticClass:"icon-pause"})," "])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[LEFT]"},on:{click:function(e){t.$emit("backward")}}},[t._h("i",{staticClass:"icon-backward"})])," ",t._h("div",{staticClass:"ctrl-btn",attrs:{title:"[RIGHT]"},on:{click:function(e){t.$emit("forward")}}},[t._h("i",{staticClass:"icon-forward"})])," ",t._h("range",{ref:"musicRange",staticClass:"range music",attrs:{value:t.process},on:{seek:t.seek}})," ",t.isMobile?t._e():t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}})])," ",t._h("transition",{attrs:{name:"player-more"}},[t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.isMobile||t.hover,expression:"isMobile || hover"}],staticClass:"more"},[t.isMobile?t._h("time-panel",{attrs:{duration:t.duration,"current-time":t.currentTime}}):t._e()," ",t._h("div",{staticClass:"sound"},[t._h("div",{staticClass:"ctrl-btn",on:{click:function(e){t.muted=!t.muted}}},[t.muted||0==t.volume?t._h("i",{staticClass:"icon-volume-off"}):t._h("i",{staticClass:"icon-volume-up"})," "])," ",t._h("range",{ref:"soundRange",staticClass:"range volume",attrs:{value:t.volume},on:{seek:t.volumeSeek,"drag-seek":t.volumeSeek}})])])])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(52),r=n(54);var o=n(72);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-1cacf53d",t.exports=r},function(t,e,n){var r=n(53);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"ul.lyrics[data-v-1cacf53d]{list-style-type:none;margin:0;padding:0;background-color:#f1f1f1}ul.lyrics>li[data-v-1cacf53d]{min-height:40px;text-align:center;color:#044d98;padding:10px 0}ul.lyrics>li.cur[data-v-1cacf53d]{color:#044d98;text-shadow:1px 1px 1px #aaa;background-color:#fbfbfb}ul.lyrics>li:hover .conceal[data-v-1cacf53d]{display:inline-block}ul.lyrics>li .conceal[data-v-1cacf53d]{display:none}ul.lyrics>li.division[data-v-1cacf53d],ul.lyrics>li.unsorted[data-v-1cacf53d]{background-color:#f1f1f1}ul.lyrics>li.division[data-v-1cacf53d]{display:block;width:100%;min-height:auto;padding:2px 0;font-size:12px;text-align:center}ul.lyrics.editing>li[data-v-1cacf53d]{padding:0;display:-ms-flexbox;display:flex}ul.lyrics.editing>li.division[data-v-1cacf53d]{display:block;padding:4px 0}ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{color:#7c9fbb;width:60px;overflow:hidden;text-overflow:'.'}ul.lyrics.editing>li .content[data-v-1cacf53d]{-ms-flex:1;flex:1}ul.lyrics.editing>li .icon-btn[data-v-1cacf53d]{padding-left:4px;padding-right:4px}ul.lyrics.editing>li .content[data-v-1cacf53d],ul.lyrics.editing>li .icon-btn[data-v-1cacf53d],ul.lyrics.editing>li .timestamp[data-v-1cacf53d]{padding-top:10px;padding-bottom:10px}ul.lyrics.editing>li input[data-v-1cacf53d]{text-align:center;border:none;background-color:#d0dae4}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(55),a=n(28),s=n(48),u=r(s),c=n(60),l=r(c);e.default={data:function(){return{index:-1,editingIndex:-1,editingTextIndex:-1,scroller:null}},props:{runner:{type:o.Runner,default:new o.Runner},playto:{type:Function,default:function(){}},editing:{type:Boolean,default:u.default.editing},lyricArray:{type:Array,default:[]}},methods:{editMenu:function(t){},exitEdit:function(){this.editingIndex=-1,this.editingTextIndex=-1,this.$emit("update")},edit:function(t){this.editingIndex=t},editText:function(t){this.editingTextIndex=t,this.$emit("update")},remove:function(t){this.runner.lrc.lyrics.splice(t,1),this.$emit("update")},removeText:function(t){this.lyricArray.splice(t,1),this.$emit("update")},insert:function(t){this.runner.lrc.lyrics.splice(t+1,0,{timestamp:this.runner.lrc.lyrics[t].timestamp,content:this.runner.lrc.lyrics[t].content}),this.$emit("update")},insertText:function(t){this.lyricArray.splice(t+1,0,this.lyricArray[t]),this.$emit("update")},removeTimestamp:function(t){var e,n=this.runner.lrc.lyrics,r=n.splice(t,n.length-t).map(function(t){return t.content});(e=this.lyricArray).splice.apply(e,[0,0].concat(i(r))),this.$emit("update")},setTimestamp:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&(this.runner.lrc.lyrics[t].timestamp=e,this.$emit("update"))},setTimestampText:function(t){var e=this.$parent.$refs.player.currentTime;0!==e&&this.lyricArray.length&&(this.runner.lrc.lyrics.push({timestamp:e,content:this.lyricArray[t]}),this.removeText(t),this.$emit("update"))},scrollToCurrentLyric:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$el,n=e.querySelector(".cur");if(n){var r=e.clientHeight,i=n.offsetTop-r/2;this.scroller.scrollTo(i,t)}}},filters:{time:a.timestamp2timestr},created:function(){var t=this;this.$on("timeupdate",function(e){t.runner.timeUpdate(e),t.index=t.runner.curIndex(),t.scrollToCurrentLyric()}).$on("update",function(){t.runner.lrcUpdate(),$App.lrcFormat=t.runner.lrc.toString(),$App.lyricArray=t.lyricArray}).$on("prevlyric",function(){t.removeTimestamp(t.runner.lrc.lyrics.length-1)}).$on("nextlyric",function(){t.setTimestampText(0)})},mounted:function(){var t=this;this.scroller=new a.Scroller(this.$el),a.globalKeydown.on(["enter","escape"],function(){if(t.editing)return t.exitEdit(),!1}).on("arrowup",function(){if(t.editing)return t.$emit("prevlyric"),!1}).on("arrowdown",function(){if(t.editing)return t.$emit("nextlyric"),!1})},watch:{editing:function(){this.editing||this.exitEdit()}},components:{Tmenu:l.default}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Runner=e.Lrc=e.LineParser=void 0;var i=n(56),o=r(i),a=n(57),s=r(a),u=n(58),c=r(u);e.LineParser=o.default,e.Lrc=s.default,e.Runner=c.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){n(this,t),this.type=t.TYPE.INVALID;try{var i=t.parseTags(e),o=r(i,2),a=o[0],s=o[1];t.TIME_REGEXP.test(a[0])?this.parseAsTime(a,s):t.INFO_REGEXP.test(a[0])?this.parseAsInfo(a[0]):this.type=t.TYPE.INVALID}catch(e){this.type=t.TYPE.INVALID}}return i(t,null,[{key:"parseTags",value:function(e){e=e.trim();var n=t.TAGS_REGEXP.exec(e),r=n[0],i=e.substr(r.length);return[r.slice(1,-1).split(/\]\s*\[/),i]}}]),i(t,[{key:"parseAsTime",value:function(e,n){var r=[];e.forEach(function(e){
var n=t.TIME_REGEXP.exec(e),i=parseFloat(n[1]),o=parseFloat(n[2].replace(/\s+/g,"").replace(":","."));r.push(60*i+o)}),this.timestamps=r,this.content=n.trim(),this.type=t.TYPE.TIME}},{key:"parseAsInfo",value:function(e){var n=t.INFO_REGEXP.exec(e);this.key=n[1].trim(),this.value=n[2].trim(),this.type=t.TYPE.INFO}}]),t}();o.TAGS_REGEXP=/^(\[.+\])+/,o.INFO_REGEXP=/^\s*(\w+)\s*:(.*)$/,o.TIME_REGEXP=/^\s*(\d+)\s*:\s*(\d+(\s*[\.:]\s*\d+)?)\s*$/,o.TYPE={INVALID:0,INFO:1,TIME:2},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(36),s=r(a),u=n(56),c=r(u),l=function(){function t(){i(this,t),this.info={},this.lyrics=[]}return o(t,[{key:"offset",value:function(t){this.lyrics.forEach(function(e){e.timestamp+=t,e.timestamp<0&&(e.timestamp=0)})}},{key:"toString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.combine=!("combine"in e)||e.combine,e.lineFormat="lineFormat"in e?e.lineFormat:"\r\n",e.sort=!("sort"in e)||e.sort;var n=[],r={},i=[];for(var o in this.info)n.push("["+o+":"+this.info[o]+"]");if(e.combine){this.lyrics.forEach(function(t){t.content in r?r[t.content].push(t.timestamp):r[t.content]=[t.timestamp]});for(var a in r)e.sort&&r[a].sort(),i.push({timestamps:r[a],content:a});e.sort&&i.sort(function(t,e){return t.timestamps[0]-e.timestamps[0]}),i.forEach(function(e){n.push("["+e.timestamps.map(function(e){return t.timestampToString(e)}).join("][")+"]"+(e.content||""))})}else this.lyrics.forEach(function(e){n.push("["+t.timestampToString(e.timestamp)+"]"+(e.content||""))});return n.join(e.lineFormat)}}],[{key:"parse",value:function(t){var e=[],n={};t.split(/\r\n|[\n\r]/g).map(function(t){return new c.default(t)}).forEach(function(t){switch(t.type){case c.default.TYPE.INFO:n[t.key]=t.value;break;case c.default.TYPE.TIME:t.timestamps.forEach(function(n){e.push({timestamp:n,content:t.content})})}});var r=new this;return r.lyrics=e,r.info=n,r}},{key:"checkLyricObject",value:function(t){return s.default.object(t)&&"timestamp"in t&&s.default.number(t.timestamp)&&"content"in t&&s.default.string(t.content)}},{key:"padZero",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?2:arguments[1];for(s.default.number(t)&&(t=t.toString());t.split(".")[0].length<e;)t="0"+t;return t}},{key:"timestampToString",value:function(t){return this.padZero(parseInt(t/60))+":"+this.padZero((t%60).toFixed(2))}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(57),s=r(a),u=n(59),c=r(u),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?new s.default:arguments[0],n=arguments.length<=1||void 0===arguments[1]||arguments[1];i(this,t),this.offset=n,this._currentIndex=-1,this.setLrc(e)}return o(t,[{key:"setLrc",value:function(t){this.lrc=(0,c.default)(t),this.lrcUpdate()}},{key:"lrcUpdate",value:function(){this.offset&&this._offsetAlign(),this._sort()}},{key:"_offsetAlign",value:function(){if("offset"in this.lrc.info){var t=parseInt(this.lrc.info.offset)/1e3;isNaN(t)||(this.lrc.offset(t),delete this.lrc.info.offset)}}},{key:"_sort",value:function(){this.lrc.lyrics.sort(function(t,e){return t.timestamp-e.timestamp})}},{key:"timeUpdate",value:function(t){this._currentIndex>=this.lrc.lyrics.length?this._currentIndex=this.lrc.lyrics.length-1:this._currentIndex<-1&&(this._currentIndex=-1),this._currentIndex=this._findIndex(t,this._currentIndex)}},{key:"_findIndex",value:function(t,e){var n=e==-1?Number.NEGATIVE_INFINITY:this.lrc.lyrics[e].timestamp,r=e==this.lrc.lyrics.length-1?Number.POSITIVE_INFINITY:this.lrc.lyrics[e+1].timestamp;return t<n?this._findIndex(t,e-1):t===r?r===Number.POSITIVE_INFINITY?e:e+1:t>r?this._findIndex(t,e+1):e}},{key:"getInfo",value:function(){return this.lrc.info}},{key:"getLyrics",value:function(){return this.lrc.lyrics}},{key:"getLyric",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.curIndex():arguments[0];if(t>=0&&t<=this.lrc.lyrics.length-1)return this.lrc.lyrics[t];throw new Error("Index not exist")}},{key:"curIndex",value:function(){return this._currentIndex}},{key:"curLyric",value:function(){return this.getLyric()}}]),t}();e.default=l},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,i,o){function s(n,i){if(null===n)return null;if(0==i)return n;var u,d;if("object"!=typeof n)return n;if(t.__isArray(n))u=[];else if(t.__isRegExp(n))u=new RegExp(n.source,a(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(t.__isDate(n))u=new Date(n.getTime());else{if(f&&e.isBuffer(n))return u=new e(n.length),n.copy(u),u;"undefined"==typeof o?(d=Object.getPrototypeOf(n),u=Object.create(d)):(u=Object.create(o),d=o)}if(r){var p=c.indexOf(n);if(p!=-1)return l[p];c.push(n),l.push(u)}for(var h in n){var v;d&&(v=Object.getOwnPropertyDescriptor(d,h)),v&&null==v.set||(u[h]=s(n[h],i-1))}return u}var u;"object"==typeof r&&(i=r.depth,o=r.prototype,u=r.filter,r=r.circular);var c=[],l=[],f="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),s(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=i,t.__isRegExp=o,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){var r,i;n(61),n(63),r=n(65);var o=n(71);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-eee4cabe",t.exports=r},function(t,e,n){var r=n(62);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,"span[data-v-eee4cabe]{position:relative}",""])},function(t,e,n){var r=n(64);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".menu{display:inline-block;position:relative}.menu ul{list-style-type:none;margin:0;padding:0}.menu ul li{white-space:nowrap;height:25px;line-height:25px;text-align:left;background-color:#fff;color:#1161b3;cursor:pointer}.menu ul li:hover{color:#1161b3;background-color:#e8e1e1}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(66),o=r(i);e.default={data:function(){return{dir:!1}},components:{Tooltip:o.default}}},function(t,e,n){var r,i;n(67),r=n(69);var o=n(70);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r=n(68);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".tooltip .wrap{padding:8px;position:fixed;z-index:100;background-color:#fff;color:#1161b3;border-radius:8px;box-shadow:.5px .5px 3px .5px #ccc}.tooltip .wrap .arrow{position:absolute;width:0;height:0;display:block;margin:auto}.tooltip .wrap .arrow.left{top:0;bottom:0;right:-16px;border:8px solid transparent;border-left:8px solid #fff}.tooltip .wrap .arrow.right{top:0;bottom:0;left:-16px;border:8px solid transparent;border-right:8px solid #fff}.tooltip .wrap .arrow.top{left:0;right:0;bottom:-16px;border:8px solid transparent;border-top:8px solid #fff}.tooltip .wrap .arrow.bottom{left:0;right:0;top:-16px;border:8px solid transparent;border-bottom:8px solid #fff}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(37),a=r(o);e.default={data:function(){return{style:{top:0,left:0,visibility:"hidden"},show:!1,dir:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5},target:{type:Element,default:null}},mounted:function(){var t=this,e=null!==this.target?this.target:this.$el,n=new i.TooltipPosition(e,this.$refs.wrap),r=10,o=new i.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});o.hover(function(){var e=n.position();switch(t.dir=e.dir,t.dir){case"left":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left-r+"px"});break;case"right":(0,a.default)(t.style,{top:e.rect.top+"px",left:e.rect.left+r+"px"});break;case"top":(0,a.default)(t.style,{top:e.rect.top-r+"px",left:e.rect.left+"px"});break;case"bottom":(0,a.default)(t.style,{top:e.rect.top+r+"px",left:e.rect.left+"px"});break;case!1:return}t.show=!0},function(){t.show=!1})},watch:{show:{immediate:!0,handler:function(){this.style.visibility=this.show?"visible":"hidden"}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("span",{staticClass:"tooltip"},[t._t("target")," ",t._h("div",{ref:"wrap",staticClass:"wrap",style:t.style},[t._h("div",{class:"arrow "+t.dir})," ",t._h("div",{staticClass:"content"},[t._t("content")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"menu"},[t._h("tooltip",{attrs:{dir:t.dir,target:t.$refs.menu,"enter-delay":0}},[t._h("div",{slot:"target"},[t._t("target")])," ",t._h("div",{slot:"content"},[t._t("list")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t.editing?t._h("ul",{staticClass:"editing lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{dblclick:function(e){t.edit(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.timestamp,expression:"lyric.timestamp"}],staticClass:"timestamp",attrs:{type:"text"},domProps:{value:t._s(e.timestamp)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.timestamp=t.target.value)}}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"lyric.content"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(e.content)},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(t){t.target.composing||(e.content=t.target.value)}}})]:[t._h("div",{staticClass:"timestamp"},[t._s(t._f("time")(e.timestamp))])," ",t._h("div",{staticClass:"content"},[t._s(e.content)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.removeTimestamp(n)}}},[t._h("i",{staticClass:"icon-cancel"})," "+t._s(t.$t("lyric_editor.remove_timestamp"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.edit(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insert(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.remove(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"},on:{dblclick:function(e){t.editText(n)},contextmenu:function(e){e.preventDefault(),t.editMenu(n)}}},[t.editingTextIndex==n?[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.lyricArray[n],expression:"lyricArray[i]"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t._s(t.lyricArray[n])},on:{keydown:function(e){13===e.keyCode&&t.exitEdit(e)},input:function(e){if(!e.target.composing){var r=t.lyricArray,i=n;Array.isArray(r)?r.splice(i,1,e.target.value):t.lyricArray[n]=e.target.value}}}})]:[t._h("div",{staticClass:"content"},[t._s(e)])," ",t._h("div",{staticClass:"icon-btn conceal"},[t._h("tmenu",[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-ellipsis-vert"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.editText(n)}}},[t._h("i",{staticClass:"icon-edit"})," "+t._s(t.$t("lyric_editor.edit"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.insertText(n)}}},[t._h("i",{staticClass:"icon-plus"})," "+t._s(t.$t("lyric_editor.add"))+"\n            "])," ",t._h("li",{on:{click:function(e){t.removeText(n)}}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("lyric_editor.remove"))+"\n            "])])])])]," "])})]):t._h("ul",{staticClass:"lyrics"},[t._l(t.runner.lrc.lyrics,function(e,n){return t._h("li",{class:{cur:n==t.index},attrs:{title:e.timestamp},on:{click:function(n){t.playto(e.timestamp)}}},["\n    "+t._s(e.content)+"\n  "])})," ",t.lyricArray.length?t._h("li",{staticClass:"division"},[t._s(t.$t("lyric_editor.following_unsorted"))]):t._e()," ",t._l(t.lyricArray,function(e,n){return t._h("li",{staticClass:"unsorted",attrs:{"track-by":"i"}},["\n    "+t._s(e)+"\n  "])})])},staticRenderFns:[]}},function(t,e,n){var r,i;n(74),n(76),r=n(78);var o=n(94);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-a14c96ea",t.exports=r},function(t,e,n){var r=n(75);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal .footer .btn-group[data-v-a14c96ea]:after,.modal .header[data-v-a14c96ea]:after{content:' ';display:table;clear:both}.cover[data-v-a14c96ea]{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.7);width:100%;height:100%;z-index:1000;overflow:auto}.modal[data-v-a14c96ea]{position:relative;margin:30px auto;background:#fff;border-radius:8px;overflow:hidden}.modal.lg[data-v-a14c96ea]{width:50%}.modal.md[data-v-a14c96ea]{width:70%}.modal.sm[data-v-a14c96ea]{width:90%}.modal .body[data-v-a14c96ea],.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-left:14px;padding-right:14px}.modal .body[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{padding-top:14px;padding-bottom:14px}.modal .footer[data-v-a14c96ea],.modal .header[data-v-a14c96ea]{color:#1161b3}.modal .header[data-v-a14c96ea]{border-bottom:1px solid #e5e5e5;font-weight:bolder}.modal .header .icon-cancel[data-v-a14c96ea]{float:right;cursor:pointer}.modal .footer[data-v-a14c96ea]{border-top:1px solid #e5e5e5}.modal .footer .btn-group .btn[data-v-a14c96ea]{float:right;border-radius:0;background-color:transparent;color:#1161b3;padding:8px 10px}.modal .footer .btn-group .btn[data-v-a14c96ea]:hover{background-color:rgba(0,0,0,.1)}",""])},function(t,e,n){var r=n(77);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".modal h3{margin:10px 0}.modal textarea{width:100%;border:1px solid #d6d6d6;border-radius:5px;min-height:300px;margin:10px 0}.modal p{margin:0}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),a=r(o),s=n(28),u=n(79),c=r(u),l=n(85),f=r(l),d=n(88),p=r(d),h=n(91),v=r(h),m={help:c.default,"lrc-format-upload":f.default,"lyric-upload":p.default,"lrc-save":v.default};window.MC=[],e.default={data:function(){return{title:"Modal",size:"md",confirm:!1,modalName:"",modalComponent:null,isShow:!1,coverShow:!1}},methods:{show:function(t){var e=this;return this.isShow=!0,this.coverShow=!0,this.$nextTick(function(){e.modalName=t,e.modalComponent=new a.default(i({},m[e.modalName])),e.modalComponent.$mount(e.$refs.modalWrapper),e.modalComponent.title&&(e.title=e.modalComponent.title),e.modalComponent.size&&(e.title=e.modalComponent.size),e.modalComponent.confirm&&(e.confirm=e.modalComponent.confirm)}),this},ok:function(){this.isShow=!1,this.modalComponent.$emit("ok"),this.modalComponent.$destroy()},cancel:function(){this.isShow=!1,this.modalComponent.$emit("cancel"),this.modalComponent.$destroy()}},mounted:function(){var t=this;s.globalKeydown.on("escape",function(){t.isShow&&t.cancel()})},components:{Help:c.default,LrcFormatUpload:f.default,LyricUpload:p.default,LrcSave:v.default}}},function(t,e,n){var r,i;n(80),r=n(82);var o=n(84);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-3f57c1d0",t.exports=r},function(t,e,n){var r=n(81);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".help[data-v-3f57c1d0]{color:#333}.help a[data-v-3f57c1d0],.help h3[data-v-3f57c1d0],.help h4[data-v-3f57c1d0]{color:#1161b3}.help h3[data-v-3f57c1d0]{margin:5px 0}.help h4[data-v-3f57c1d0]{margin:0}.help a[data-v-3f57c1d0]{font-weight:bolder}.help ul[data-v-3f57c1d0]{list-style-type:none;padding:0 0 0 20px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(83),o=r(i);e.default={data:function(){return{PKG:o.default,title:this.$t("modal.help.title")}}}},function(t,e){t.exports={name:"lrc-maker",version:"0.2.2",description:"lrc maker",main:"index.js",scripts:{test:"yarn run lint",lint:"eslint --ext js,vue webpack.config.js src",dev:"webpack-dev-server --host='0.0.0.0' --progress --colors --inline --hot --output-public-path='/assets/'",build:"yarn run build:clean && yarn run build:webpack && yarn run build:view","build:clean":"rm -rf build","build:view":" cp index.html build/index.html","build:webpack":"webpack --optimize-minimize --output-public-path='./assets/'",deploy:"yarn run build && gh-pages -d build"},keywords:["lrc"],author:"Weirong Xu <weirongxu.raidou@gmail.com>",homepage:"https://github.com/weirongxu/lrc-maker",repository:{type:"git",url:"https://github.com/weirongxu/lrc-maker.git"},onlinePage:"https://weirongxu.github.io/lrc-maker/",bugs:"https://github.com/weirongxu/lrc-maker/issues",license:"MIT",devDependencies:{autoprefixer:"^6.5.3","babel-core":"^6.7.6","babel-eslint":"^7.1.1","babel-helper-vue-jsx-merge-props":"^2.0.2","babel-loader":"^6.2.8","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-vue-jsx":"^3.2.0","babel-preset-latest":"^6.16.0","babel-preset-stage-0":"^6.16.0","css-loader":"^0.26.0",eslint:"^3.10.2","eslint-loader":"^1.3.0","eslint-plugin-html":"^1.7.0","file-loader":"^0.9.0","gh-pages":"^0.12.0","json-loader":"^0.5.4","node-sass":"^3.13.0","resolve-url-loader":"^1.6.0","sass-loader":"^4.0.2","url-loader":"^0.5.7","vue-loader":"^10.0.1","vue-template-compiler":"^2.1.3",webpack:"^1.12.15","webpack-dev-server":"^1.14.1","yaml-loader":"^0.4.0"},dependencies:{clone:"^2.1.0",eventemitter2:"^2.2.1",extend:"^3.0.0","filesaver.js":"^0.2.0","lrc-kit":"^0.2.0",unidragger:"^2.1.0",vue:"^2.1.3","vue-i18n":"^4.7.3"}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"help"},[t._h("h3",[t._s(t.$t("modal.help.shortcut_key"))])," ",t._h("h4",[t._s(t.$t("modal.help.play_control.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.left_key"))+":"])," "+t._s(t.$t("modal.help.play_control.backward"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.play_control.right_key"))+":"])," "+t._s(t.$t("modal.help.play_control.forward"))])])," ",t._h("h4",[t._s(t.$t("modal.help.make_lrc.title"))])," ",t._h("ul",[t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.up_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.prev_lyric"))])," ",t._h("li",[t._h("strong",[t._s(t.$t("modal.help.make_lrc.down_key"))+":"])," "+t._s(t.$t("modal.help.make_lrc.next_lyric"))])])," ",t._h("div",{staticClass:"link"},[t._h("a",{attrs:{href:t.PKG.homepage,target:"_blank"}},[t._s(t.$t("modal.help.source_code"))+": github"])])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(86);var o=n(87);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i);e.default={data:function(){return{title:this.$t("modal.lrc_format_upload.title"),lyric:"",confirm:!0}},created:function(){var t=this;this.lyric=$App.lrcFormat,this.$on("ok",function(){$App.lrcFormat=t.lyric})},methods:{upload:function(t){this.lyric=t}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lrc_format_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{uploaded:t.upload}},[t._s(t.$t("modal.lrc_format_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(89);var o=n(90);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i),a=n(48),s=r(a);e.default={data:function(){return{title:this.$t("modal.lyric_upload.title"),lyric:s.default.lyric,confirm:!0}},created:function(){var t=this;this.$on("ok",function(){$App.lyricArray=t.lyric.split(/\r\n|[\n\r]/g)})},methods:{upload:function(t){this.lyric=t}},watch:{lyric:function(t){s.default.lyric=t}},components:{Upload:o.default}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("p",[t._s(t.$t("modal.lyric_upload.description"))])," ",t._h("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],domProps:{value:t._s(t.lyric)},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}})," ",t._h("upload",{staticClass:"btn",on:{uploaded:t.upload}},[t._s(t.$t("modal.lyric_upload.upload"))])])},staticRenderFns:[]}},function(t,e,n){var r,i;r=n(92);var o=n(93);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=n(48),a=r(o),s=n(83),u=r(s);e.default={data:function(){return{title:this.$t("modal.lrc_format_save.title"),lyric:"",userName:a.default.userName,saveOptions:{combine:!0,lineFormat:"\r\n",sort:!0},infoFields:[{key:"ti",label:this.$t("modal.lrc_format_save.fields.song_title")},{key:"ar",label:this.$t("modal.lrc_format_save.fields.artist")},{key:"al",label:this.$t("modal.lrc_format_save.fields.album")},{key:"au",label:this.$t("modal.lrc_format_save.fields.songtext_creator")}],info:{}}},mounted:function(){var t=this;this.runner=$App.runner;var e=$App.$refs.player,n={};this.infoFields.forEach(function(e){e.key in t.runner.lrc.info?n[e.key]=t.runner.lrc.info[e.key]:n[e.key]=""}),e.duration&&(n.length=(0,i.timestamp2timestr)(e.duration)),this.userName&&(n.by=this.userName),n.re=u.default.name+" ("+u.default.onlinePage+")",n.ve=u.default.version,this.info=n,this.lyricUpdate()},methods:{save:function(){(0,i.saveLrc)(this.runner.lrc.toString(this.saveOptions),this.runner.lrc.info.ti||"lyric")},infoUpdate:function(){for(var t in this.info)0!==this.info[t].length?this.runner.lrc.info[t]=this.info[t]:delete this.runner.lrc.info[t];this.lyricUpdate()},lyricUpdate:function(){this.lyric=this.runner.lrc.toString(this.saveOptions)}},watch:{userName:function(t){this.$set(this.info,"by",t),a.default.userName=t},lyric:function(){$App.lrcFormat=this.lyric},saveOptions:{deep:!0,handler:function(){this.lyricUpdate()}},info:{deep:!0,handler:function(){console.log("info"),this.infoUpdate()}}}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("h3",[t._s(t.$t("modal.lrc_format_save.info_title"))])," ",t._l(t.infoFields,function(e){return e.label?t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-"+e.key},domProps:{textContent:t._s(e.label)}})," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.info[e.key],expression:"info[field.key]"}],attrs:{id:"info-"+e.key,type:"text"},domProps:{value:t._s(t.info[e.key])},on:{input:function(n){if(!n.target.composing){var r=t.info,i=e.key;Array.isArray(r)?r.splice(i,1,n.target.value):t.info[e.key]=n.target.value}}}})]):t._e()})," ",t._h("div",{staticClass:"form-group"},[t._h("label",{attrs:{for:"info-by"}},[t._s(t.$t("modal.lrc_format_save.fields.lrc_creator"))])," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{id:"info-by",type:"text"},domProps:{value:t._s(t.userName)},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})])," ",t._h("h3",[t._s(t.$t("modal.lrc_format_save.save_title"))])," ",t._h("textarea",[t._s(t.lyric)])," ",t._h("label",["\n    "+t._s(t.$t("modal.lrc_format_save.combine"))+"\n    ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.saveOptions.combine,expression:"saveOptions.combine"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.saveOptions.combine)?t._i(t.saveOptions.combine,null)>-1:t._q(t.saveOptions.combine,!0)},on:{change:function(e){var n=t.saveOptions.combine,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i?a<0&&(t.saveOptions.combine=n.concat(o)):a>-1&&(t.saveOptions.combine=n.slice(0,a).concat(n.slice(a+1)))}else t.saveOptions.combine=i}}})])," ",t._h("div",{staticClass:"btn",on:{click:t.save}},[t._h("i",{staticClass:"icon-download"})," "+t._s(t.$t("modal.lrc_format_save.download"))+"\n  "])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{class:{cover:t.coverShow},on:{click:t.cancel}},[t._h("transition",{attrs:{name:"modal"},on:{"after-leave":function(e){t.coverShow=!1}}},[t.isShow?t._h("div",{staticClass:"modal",class:[t.size],on:{click:function(t){t.stopPropagation()}}},[t._h("div",{staticClass:"header"},["\n        "+t._s(t.title)+"\n        ",t._h("i",{staticClass:"icon-cancel",on:{click:t.cancel}})])," ",t._h("div",{staticClass:"body"},[t._h("div",{ref:"modalWrapper"})])," ",t._h("div",{staticClass:"footer"},[t.confirm?t._h("div",{staticClass:"btn-group"},[t._h("div",{staticClass:"btn",on:{click:t.ok}},[t._s(t.$t("modal.button.ok"))])," ",t._h("div",{staticClass:"btn",on:{click:t.cancel}},[t._s(t.$t("modal.button.cancel"))])]):t._e()])]):t._e()])])},staticRenderFns:[]}},function(t,e,n){var r,i;n(96),n(98),r=n(100);var o=n(101);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-51eac06b",t.exports=r},function(t,e,n){var r=n(97);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".target[data-v-51eac06b]{position:relative;display:block;margin:-8px;padding:8px}",""])},function(t,e,n){var r=n(99);"string"==typeof r&&(r=[[t.id,r,""]]);n(13)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".nav-menu .wrap{position:absolute;z-index:100;box-shadow:4px 4px 3px -2px #ccc}.nav-menu .wrap ul{list-style-type:none;padding:0;margin:0;background-color:#0d4884}.nav-menu .wrap ul li{padding:0 5px;cursor:pointer;line-height:30px;font-size:12px}.nav-menu .wrap ul li:hover{background-color:#082f56}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.default={data:function(){return{dir:!1,style:{top:0,left:0},show:!1}},props:{enterDelay:{type:Number,default:.1},leaveDelay:{type:Number,default:.5}},mounted:function(){var t=this,e=this.$refs.menu,n=new r.DelayHover(e,{enterDelay:this.enterDelay,leaveDelay:this.leaveDelay});n.hover(function(){t.show=!0},function(){t.show=!1});var i=this.$el;this.style.top=i.style.clientHeight}}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{ref:"menu",staticClass:"nav-menu"},[t._h("span",{staticClass:"target"},[t._t("target")])," ",t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"wrap",style:t.style},[t._t("list")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"app"},[t._h("header",[t._h("div",{staticClass:"left"},[t._h("nav-menu",{staticClass:"menu-item",attrs:{title:t.$t("button.upload")}},[t._h("div",{slot:"target"},[t._h("i",{staticClass:"icon-upload"})])," ",t._h("ul",{slot:"list"},[t._h("li",{on:{click:function(e){t.$refs.modals.show("lrc-format-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lrc"))+"\n          "])," ",t._h("li",{on:{click:function(e){t.$refs.modals.show("lyric-upload")}}},[t._h("i",{staticClass:"icon-upload"})," "+t._s(t.$t("menu.upload.lyric"))+"\n          "])," ",t._h("li",[t._h("upload",{attrs:{accept:"audio/*","read-format":"DataURL"},on:{uploaded:t.uploadMusic}},[t._s(t.$t("menu.upload.music"))])])])])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.save")},on:{click:function(e){t.$refs.modals.show("lrc-save")}}},[t._h("i",{staticClass:"icon-save"})])])," ",t._h("div",{staticClass:"right"},[t._h("div",{staticClass:"menu-item",attrs:{title:t.editing?t.$t("button.close_edit"):t.$t("button.open_edit")},on:{click:function(e){t.editing=!t.editing}}},[t.editing?[t._h("i",{staticClass:"icon-cancel"})]:[t._h("i",{staticClass:"icon-edit"})]," "])," ",t._h("div",{staticClass:"menu-item",attrs:{title:t.$t("button.help")},on:{click:function(e){t.$refs.modals.show("help")}}},[t._h("i",{staticClass:"icon-help-circled"})])])])," ",t._h("player",{ref:"player",attrs:{src:t.musicUrl},on:{timeupdate:t.timeupdate}})," ",t._h("lyric-editor",{ref:"lyric",staticClass:"lyric-editor",attrs:{editing:t.editing,runner:t.runner,"lyric-array":t.lyricArray,playto:t.playto}},["\n    lyric editor\n  "])," ",t._h("footer",[t._h("div",{staticClass:"left"},[t._h("div",{staticClass:"menu-item",on:{click:t.removeLyric}},[t._h("i",{staticClass:"icon-trash"})," "+t._s(t.$t("button.remove_lyric"))+"\n      "])])," ",t.editing?t._h("div",{staticClass:"right"},[t._h("div",{staticClass:"menu-item",attrs:{title:"[UP]"},on:{click:function(e){t.$refs.lyric.$emit("prevlyric")}}},[t._s(t.$t("button.prev_lyric"))])," ",t._h("div",{
staticClass:"menu-item",attrs:{title:"[DOWN]"},on:{click:function(e){t.$refs.lyric.$emit("nextlyric")}}},[t._s(t.$t("button.next_lyric"))])]):t._e()])," ",t._h("modals",{ref:"modals"})])},staticRenderFns:[]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(104),s=r(a),u=n(105),c=r(u),l=(navigator.language||navigator.userLanguage||"en").toLocaleLowerCase();l in c.default||l.indexOf("-")>=0&&(l=l.split("-")[0]),o.default.use(s.default),o.default.config.lang=l,o.default.locale(l,c.default[l])},function(t,e,n){(function(e){/*!
	 * vue-i18n v4.7.3
	 * (c) 2016 kazuya kawaguchi
	 * Released under the MIT License.
	 */
"use strict";function n(t,e){window.console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function r(t,e){t.locale=function(t,r,o){return void 0===r?e.locales[t]:void(null===r?(e.locales[t]=void 0,delete e.locales[t]):i(t,r,function(r){r?e.locales[t]=r:n("failed set `"+t+"` locale"),o&&o()}))}}function i(t,e,n){var r=this;"object"===("undefined"==typeof e?"undefined":x.typeof(e))?n(e):!function(){var t=e.call(r);"function"==typeof t?t.resolved?n(t.resolved):t.requested?t.pendingCallbacks.push(n):!function(){t.requested=!0;var e=t.pendingCallbacks=[n];t(function(n){t.resolved=n;for(var r=0,i=e.length;r<i;r++)e[r](n)},function(){n()})}():o(t)&&t.then(function(t){n(t)},function(){n()}).catch(function(t){console.error(t),n()})}()}function o(t){return t&&"function"==typeof t.then}function a(t,e,n){function r(t){if(n>1)t.$forceUpdate();else for(var e=t._watchers.length;e--;)t._watchers[e].update(!0)}var i=t.prototype._init;t.prototype._init=function(t){var n=this;i.call(this,t),this.$parent||(this.$lang=e,this._langUnwatch=this.$lang.$watch("$data",function(t,e){r(n)},{deep:!0}))};var o=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this.$lang=null),o.apply(this,arguments)}}function s(t){if(!E){var e=t.$watch("__watcher__",function(t){});E=t._watchers[0].constructor,e()}return E}function u(t){return!k&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(k=t._data.__ob__.dep.constructor),k}function c(t,e,n){function r(t,e){var n=new o(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),a&&a.target&&n.depend(),n.value}}var i=t.util.bind,o=s(e),a=u(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:r(function(){return e.lang},e),set:i(function(t){e.lang=t},e)}),A=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return A},set:function(t){A=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return O},set:function(t){O=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return C},set:function(t){C=t}})}function l(t){return null===t||void 0===t}function f(t){function e(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return r=1===r.length&&"object"===x.typeof(r[0])?r[0]:{},r&&r.hasOwnProperty||(r={}),t.replace(D,function(e,i,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=n(r,o)?r[o]:e,l(s)?"":s)})}var n=t.util.hasOwn;return e}function d(t){return Y.test(t)}function p(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function h(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function v(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(d(e)?p(e):"*"+e)}function m(t){function e(){var e=t[r+1];if(i===M&&"'"===e||i===U&&'"'===e)return r++,s="\\"+e,p[$](),!0}var n=[],r=-1,i=N,o=0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=[];for(p[F]=function(){void 0!==u&&(n.push(u),u=void 0)},p[$]=function(){void 0===u?u=s:u+=s},p[P]=function(){p[$](),o++},p[S]=function(){if(o>0)o--,i=I,p[$]();else{if(o=0,u=v(u),u===!1)return!1;p[F]()}};null!=i;)if(r++,a=t[r],"\\"!==a||!e()){if(c=h(a),d=z[i],l=d[c]||d.else||V,l===V)return;if(i=l[0],f=p[l[1]],f&&(s=l[2],s=void 0===s?a:s,f()===!1))return;if(i===B)return n.raw=t,n}}function y(t){var e=T[t];return e||(e=m(t),e&&(T[t]=e)),e}function g(t){function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(o(t))for(var e in t)if(a(t,e))return!1;return!0}function n(t,n){if(!i(t))return null;var r=y(n);if(e(r))return null;for(var o=r.length,a=null,s=t,u=0;u<o;){var c=s[r[u]];if(void 0===c){s=null;break}s=c,u++}return a=s}var r=t.util,i=r.isObject,o=r.isPlainObject,a=r.hasOwn;return n}function _(t){function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.config.lang,o=t.config.fallbackLang;return 1===n.length?v(n[0])||Array.isArray(n[0])?n=n[0]:"string"==typeof n[0]&&(i=n[0]):2===n.length&&("string"==typeof n[0]&&(i=n[0]),(v(n[1])||Array.isArray(n[1]))&&(n=n[1])),{lang:i,fallback:o,params:n}}function i(e,n,r){if(!e)return null;var o=_(e,n);if(Array.isArray(o))return o;if(l(o)&&(o=e[n]),l(o))return null;if(o.indexOf("@:")>=0){var a=o.match(/(@:[\w|.]+)/g);for(var s in a){var u=a[s],c=u.substr(2),f=i(e,c,r);o=o.replace(u,f)}}return r?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[o].concat(r)):y(o,r):o}function o(t,r,o,a,s){var u=null;return u=i(t(r),a,s),l(u)?(u=i(t(o),a,s),l(u)?null:("production"!==e.env.NODE_ENV&&n('Fall back to translate the keypath "'+a+'" with "'+o+'" language.'),u)):u}function a(r,i,o,a){return l(a)?("production"!==e.env.NODE_ENV&&n('Cannot translate the value of keypath "'+i+'". Use the value of keypath as default'),t.config.missingHandler&&t.config.missingHandler.apply(null,[r,i,o]),i):a}function s(e){return t.locale(e)}function u(t){return this.$options.locales[t]}function c(t){return t?t>1?1:0:1}function d(t,e){return t=Math.abs(t),2===e?c(t):t?Math.min(t,2):0}function p(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=d(e,n.length),n[e]?n[e].trim():t}var h=t.util,v=h.isObject,m=h.bind,y=f(t),_=g(t);return t.t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!t)return"";var u=r.apply(void 0,n),c=u.lang,l=u.fallback,f=u.params;return a(c,t,null,o(s,c,l,t,f))},t.tc=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return p(t.t.apply(t,[e].concat(i)),n)},t.prototype.$t=function(t){if(!t)return"";for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var c=r.apply(void 0,n),l=c.lang,f=c.fallback,d=c.params,p=null;return this.$options.locales&&(p=o(m(u,this),l,f,t,d))?p:a(l,t,this,o(s,l,f,t,d))},t.prototype.$tc=function(t,e){if("number"!=typeof e&&"undefined"!=typeof e)return t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return p(this.$t.apply(this,[t].concat(r)),e)},t}function b(t){var i=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t.version&&Number(t.version.split(".")[0])||-1);if("production"!==e.env.NODE_ENV&&b.installed)return void n("already installed.");if("production"!==e.env.NODE_ENV&&i<1)return void n("vue-i18n ("+b.version+") need to use vue version 1.0 or later (vue version: "+t.version+").");var o="en";w(t,o),r(t,H),a(t,H,i),c(t,H,o),_(t)}function w(t,e){var n=t.config.silent;t.config.silent=!0,H||(H=new t({data:{lang:e,locales:{}}})),t.config.silent=n}var x={};x.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var E=void 0,k=void 0,A=void 0,O=null,C=null,D=/(%|)\{([0-9a-zA-Z_]+)\}/g,T=Object.create(null),$=0,F=1,P=2,S=3,N=0,j=1,R=2,L=3,I=4,M=5,U=6,B=7,V=8,z=[];z[N]={ws:[N],ident:[L,$],"[":[I],eof:[B]},z[j]={ws:[j],".":[R],"[":[I],eof:[B]},z[R]={ws:[R],ident:[L,$]},z[L]={ident:[L,$],0:[L,$],number:[L,$],ws:[j,F],".":[R,F],"[":[I,F],eof:[B,F]},z[I]={"'":[M,$],'"':[U,$],"[":[I,P],"]":[j,S],eof:V,else:[I,$]},z[M]={"'":[I,$],eof:V,else:[M,$]},z[U]={'"':[I,$],eof:V,else:[U,$]};var Y=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,H=void 0;b.version="4.7.3","undefined"!=typeof window&&window.Vue&&window.Vue.use(b),t.exports=b}).call(e,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};["en","zh"].forEach(function(t){r[t]=n(106)("./"+t)}),e.default=r},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./en":107,"./en.yml":107,"./index":105,"./index.js":105,"./zh":108,"./zh.yml":108};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=106},function(t,e){t.exports={button:{upload:"upload",save:"save",close_edit:"close edit",open_edit:"open edit",help:"help",lrc_info:"info",remove_lyric:"remove lyric",prev_lyric:"prev lyric",next_lyric:"next lyric"},menu:{upload:{lrc:"LRC format lyric",lyric:"lyric text",music:"music"}},modal:{lrc_format_save:{title:"Lyrics Save",info_title:"Lyrics Info",fields:{song_title:"Sone Title",artist:"Artist",album:"Album",songtext_creator:"Songtext Creator",lrc_creator:"LRC Creator"},save_title:"Lyrics",combine:"combine lyrics",download:"lyrics file download"},lrc_format_upload:{title:"Upload LRC Format",description:"Upload timestamped lyrics",upload:"Read from file"},lyric_upload:{title:"Upload Text Lyrics",description:"Plain Text lyrics, lyrics divided by a newline",upload:"Read from file"},help:{title:"Help",shortcut_key:"shortcut key",play_control:{title:"play control",left_key:"<Left>",right_key:"<Right>",backward:"backward",forward:"forward"},make_lrc:{title:"make lrc",up_key:"<Up>",down_key:"<Down>",prev_lyric:"prev lyric",next_lyric:"next lyric"},source_code:"source code"},button:{ok:"ok",cancel:"cancel"}},lyric_editor:{edit:"edit",add:"add",remove:"remove",remove_timestamp:"remove timestamp",play_to_this_lyric:"play to this lyric",following_unsorted:"The following unsorted"}}},function(t,e){t.exports={button:{upload:"",save:"",close_edit:"",open_edit:"",help:"",lrc_info:"",remove_lyric:"",prev_lyric:"",next_lyric:""},menu:{upload:{lrc:"LRC",lyric:"",music:""}},modal:{lrc_format_save:{title:"",info_title:"",fields:{song_title:"",artist:"",album:"",songtext_creator:"",lrc_creator:"LRC "},save_title:"",combine:"",download:""},lrc_format_upload:{title:"LRC",description:"",upload:""},lyric_upload:{title:"",description:"",upload:""},help:{title:"",shortcut_key:"",play_control:{title:"",left_key:"<Left>",right_key:"<Right>",backward:"",forward:""},make_lrc:{title:"",up_key:"<Up>",down_key:"<Down>",prev_lyric:"",next_lyric:""},source_code:""},button:{ok:"",cancel:""}},lyric_editor:{edit:"",add:"",remove:"",remove_timestamp:"",play_to_this_lyric:"",following_unsorted:""}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNjk5NDk1YmI0ZjJmMDgwMmNhZDkiLCJ3ZWJwYWNrOi8vLy4vbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi4vfi92dWUvZGlzdC92dWUucnVudGltZS5jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL2luZGV4LnZ1ZT81NzIwIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWU/OGFjOSIsIndlYnBhY2s6Ly8vLi4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvc2Fzcy9mb250ZWxsby9jc3MvZm9udGVsbG8uY3NzIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uZW90Iiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8ud29mZjIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8udHRmIiwid2VicGFjazovLy8uL2FwcC9zYXNzL2ZvbnRlbGxvL2ZvbnQvZm9udGVsbG8uc3ZnIiwid2VicGFjazovLy8uLi9+L3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3VwbG9hZC52dWU/ZjBiMSIsIndlYnBhY2s6Ly8vLi9hcHAvdXBsb2FkLnZ1ZT84NzI3Iiwid2VicGFjazovLy91cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC91cGxvYWQudnVlPzMxNmEiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/N2VmOSIsIndlYnBhY2s6Ly8vLi9hcHAvcGxheWVyLnZ1ZT9hOTI0Iiwid2VicGFjazovLy9wbGF5ZXIudnVlIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3JhbmdlLnZ1ZT8xNjMwIiwid2VicGFjazovLy8uL2FwcC9yYW5nZS52dWU/MjA2MCIsIndlYnBhY2s6Ly8vcmFuZ2UudnVlIiwid2VicGFjazovLy8uL2FwcC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ldmVudGVtaXR0ZXIyL2xpYi9ldmVudGVtaXR0ZXIyLmpzIiwid2VicGFjazovLy8uLi9+L2ZpbGVzYXZlci5qcy9GaWxlU2F2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vd2VicGFjay9idWlsZGluL2FtZC1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vd2VicGFjay9idWlsZGluL2FtZC1vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9+L3VuaWRyYWdnZXIvdW5pZHJhZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi91bmlwb2ludGVyL3VuaXBvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzIiwid2VicGFjazovLy8uLi9+L2lzX2pzL2lzLmpzIiwid2VicGFjazovLy8uLi9+L2V4dGVuZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9+L2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvcmFuZ2UudnVlP2RmYWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RpbWUtcGFuZWwudnVlIiwid2VicGFjazovLy8uL2FwcC90aW1lLXBhbmVsLnZ1ZT8zMzA2Iiwid2VicGFjazovLy8uL2FwcC90aW1lLXBhbmVsLnZ1ZT83MzhlIiwid2VicGFjazovLy90aW1lLXBhbmVsLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RpbWUtcGFuZWwudnVlP2QwMjMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3BsYXllci52dWU/OWNhNSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZT8xYTg2Iiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlP2ViNzAiLCJ3ZWJwYWNrOi8vL2x5cmljLWVkaXRvci52dWUiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvbHJjLWtpdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi9scmMta2l0L2xpYi9scmMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzIiwid2VicGFjazovLy8uLi9+L2xyYy1raXQvfi9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/NWEwOCIsIndlYnBhY2s6Ly8vLi9hcHAvdG1lbnUudnVlPzc5MWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT81OWRiIiwid2VicGFjazovLy8uL2FwcC90bWVudS52dWU/YzA5OSIsIndlYnBhY2s6Ly8vdG1lbnUudnVlIiwid2VicGFjazovLy8uL2FwcC90b29sdGlwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/NTliZSIsIndlYnBhY2s6Ly8vLi9hcHAvdG9vbHRpcC52dWU/YTViZCIsIndlYnBhY2s6Ly8vdG9vbHRpcC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL3Rvb2x0aXAudnVlPzA0MTIiLCJ3ZWJwYWNrOi8vLy4vYXBwL3RtZW51LnZ1ZT9lNWYyIiwid2VicGFjazovLy8uL2FwcC9seXJpYy1lZGl0b3IudnVlPzYwM2QiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/Zjc3NiIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZT82OTg1Iiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvaW5kZXgudnVlPzU3ZDgiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9pbmRleC52dWU/MmEyZCIsIndlYnBhY2s6Ly8vaW5kZXgudnVlP2I3YjUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2hlbHAudnVlPzcwMWYiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9oZWxwLnZ1ZT9hMzJjIiwid2VicGFjazovLy9oZWxwLnZ1ZSIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZS5qc29uIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvaGVscC52dWU/OTQwOSIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZSIsIndlYnBhY2s6Ly8vbHJjLWZvcm1hdC11cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHJjLWZvcm1hdC11cGxvYWQudnVlPzQwYTEiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9seXJpYy11cGxvYWQudnVlIiwid2VicGFjazovLy9seXJpYy11cGxvYWQudnVlIiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHlyaWMtdXBsb2FkLnZ1ZT9kMTU2Iiwid2VicGFjazovLy8uL2FwcC9tb2RhbHMvbHJjLXNhdmUudnVlIiwid2VicGFjazovLy9scmMtc2F2ZS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL21vZGFscy9scmMtc2F2ZS52dWU/MWE0NyIsIndlYnBhY2s6Ly8vLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZT8zOTg4Iiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT85NGIxIiwid2VicGFjazovLy8uL2FwcC9uYXYtbWVudS52dWU/YTJhNCIsIndlYnBhY2s6Ly8vLi9hcHAvbmF2LW1lbnUudnVlP2ZjNDMiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT84NjdjIiwid2VicGFjazovLy9uYXYtbWVudS52dWUiLCJ3ZWJwYWNrOi8vLy4vYXBwL25hdi1tZW51LnZ1ZT9kNjgwIiwid2VicGFjazovLy8uL2FwcC9pbmRleC52dWU/YWFiMCIsIndlYnBhY2s6Ly8vLi9pMThuLmpzIiwid2VicGFjazovLy8uLi9+L3Z1ZS1pMThuL2Rpc3QvdnVlLWkxOG4uY29tbW9uLmpzIiwid2VicGFjazovLy8uL2xvY2FsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbG9jYWxlcyBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL2xvY2FsZXMvZW4ueW1sIiwid2VicGFjazovLy8uL2xvY2FsZXMvemgueW1sIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl92dWUiLCJfdnVlMiIsIl9hcHAiLCJfYXBwMiIsImVsIiwicmVuZGVyIiwiaCIsImdsb2JhbCIsInByb2Nlc3MiLCJfdG9TdHJpbmciLCJ2YWwiLCJKU09OIiwic3RyaW5naWZ5IiwiU3RyaW5nIiwidG9OdW1iZXIiLCJuIiwicGFyc2VGbG9hdCIsIm1ha2VNYXAiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwibWFwIiwiT2JqZWN0IiwiY3JlYXRlIiwibGlzdCIsInNwbGl0IiwiaSIsImxlbmd0aCIsInRvTG93ZXJDYXNlIiwicmVtb3ZlJDEiLCJhcnIiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiaGFzT3duIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJpc1ByaW1pdGl2ZSIsInZhbHVlIiwiY2FjaGVkIiwiZm4iLCJjYWNoZSIsImhpdCIsImJpbmQkMSIsImN0eCIsImJvdW5kRm4iLCJhIiwibCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2xlbmd0aCIsInRvQXJyYXkiLCJzdGFydCIsInJldCIsIkFycmF5IiwiZXh0ZW5kIiwidG8iLCJfZnJvbSIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvU3RyaW5nIiwiT0JKRUNUX1NUUklORyIsInRvT2JqZWN0IiwicmVzIiwibm9vcCIsImdlblN0YXRpY0tleXMiLCJyZWR1Y2UiLCJrZXlzIiwiY29uY2F0Iiwic3RhdGljS2V5cyIsImpvaW4iLCJsb29zZUVxdWFsIiwiYiIsImxvb3NlSW5kZXhPZiIsImlzUmVzZXJ2ZWQiLCJjaGFyQ29kZUF0IiwiZGVmIiwiZW51bWVyYWJsZSIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJwYXJzZVBhdGgiLCJwYXRoIiwiYmFpbFJFIiwidGVzdCIsInNlZ21lbnRzIiwiaXNOYXRpdmUiLCJDdG9yIiwicHVzaFRhcmdldCIsIl90YXJnZXQiLCJEZXAiLCJ0YXJnZXQiLCJ0YXJnZXRTdGFjayIsInB1c2giLCJwb3BUYXJnZXQiLCJwb3AiLCJwcm90b0F1Z21lbnQiLCJzcmMiLCJfX3Byb3RvX18iLCJjb3B5QXVnbWVudCIsIm9ic2VydmUiLCJvYiIsIl9fb2JfXyIsIk9ic2VydmVyIiwib2JzZXJ2ZXJTdGF0ZSIsInNob3VsZENvbnZlcnQiLCJpc1NlcnZlclJlbmRlcmluZyIsImlzQXJyYXkiLCJpc0V4dGVuc2libGUiLCJfaXNWdWUiLCJkZWZpbmVSZWFjdGl2ZSQkMSIsImN1c3RvbVNldHRlciIsImRlcCIsInByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0dGVyIiwiZ2V0Iiwic2V0dGVyIiwic2V0IiwiY2hpbGRPYiIsImRlcGVuZCIsImRlcGVuZEFycmF5IiwibmV3VmFsIiwiZW52IiwiTk9ERV9FTlYiLCJub3RpZnkiLCJNYXRoIiwibWF4Iiwidm1Db3VudCIsIndhcm4iLCJkZWwiLCJlIiwibWVyZ2VEYXRhIiwiZnJvbSIsInRvVmFsIiwiZnJvbVZhbCIsIm1lcmdlSG9vayIsInBhcmVudFZhbCIsImNoaWxkVmFsIiwibWVyZ2VBc3NldHMiLCJjaGVja0NvbXBvbmVudHMiLCJvcHRpb25zIiwiY29tcG9uZW50cyIsImxvd2VyIiwiaXNCdWlsdEluVGFnIiwiY29uZmlnIiwiaXNSZXNlcnZlZFRhZyIsIm5vcm1hbGl6ZVByb3BzIiwicHJvcHMiLCJuYW1lIiwiY2FtZWxpemUiLCJ0eXBlIiwibm9ybWFsaXplRGlyZWN0aXZlcyIsImRpcnMiLCJkaXJlY3RpdmVzIiwiYmluZCIsInVwZGF0ZSIsIm1lcmdlT3B0aW9ucyIsInBhcmVudCIsImNoaWxkIiwidm0iLCJtZXJnZUZpZWxkIiwic3RyYXQiLCJzdHJhdHMiLCJkZWZhdWx0U3RyYXQiLCJleHRlbmRzRnJvbSIsImV4dGVuZHMiLCJtaXhpbnMiLCJtaXhpbiIsInByb3RvdHlwZSIsIlZ1ZSQyIiwicmVzb2x2ZUFzc2V0Iiwid2Fybk1pc3NpbmciLCJhc3NldHMiLCJjYXBpdGFsaXplIiwic2xpY2UiLCJ2YWxpZGF0ZVByb3AiLCJwcm9wT3B0aW9ucyIsInByb3BzRGF0YSIsInByb3AiLCJhYnNlbnQiLCJpc0Jvb2xlYW5UeXBlIiwiaHlwaGVuYXRlIiwidW5kZWZpbmVkIiwiZ2V0UHJvcERlZmF1bHRWYWx1ZSIsInByZXZTaG91bGRDb252ZXJ0IiwiYXNzZXJ0UHJvcCIsIiRvcHRpb25zIiwiRnVuY3Rpb24iLCJyZXF1aXJlZCIsInZhbGlkIiwiZXhwZWN0ZWRUeXBlcyIsImFzc2VydGVkVHlwZSIsImFzc2VydFR5cGUiLCJleHBlY3RlZFR5cGUiLCJ2YWxpZGF0b3IiLCJnZXRUeXBlIiwibWF0Y2giLCJsZW4iLCJyZXNldFNjaGVkdWxlclN0YXRlIiwicXVldWUiLCJoYXMkMSIsImNpcmN1bGFyIiwid2FpdGluZyIsImZsdXNoaW5nIiwiZmx1c2hTY2hlZHVsZXJRdWV1ZSIsInNvcnQiLCJ3YXRjaGVyIiwicnVuIiwiX21heFVwZGF0ZUNvdW50IiwidXNlciIsImRldnRvb2xzIiwiZW1pdCIsInF1ZXVlV2F0Y2hlciIsIm5leHRUaWNrIiwidHJhdmVyc2UiLCJzZWVuT2JqZWN0cyIsImNsZWFyIiwiX3RyYXZlcnNlIiwic2VlbiIsImlzQSIsImRlcElkIiwiaGFzIiwiYWRkIiwiaW5pdFN0YXRlIiwiX3dhdGNoZXJzIiwiaW5pdFByb3BzIiwiaW5pdERhdGEiLCJpbml0Q29tcHV0ZWQiLCJpbml0TWV0aG9kcyIsImluaXRXYXRjaCIsIl9wcm9wS2V5cyIsImlzUm9vdCIsIiRwYXJlbnQiLCJsb29wIiwiaXNSZXNlcnZlZFByb3AiLCJpc1NldHRpbmdQcm9wcyIsImRhdGEiLCJfZGF0YSIsInByb3h5IiwiY29tcHV0ZWQiLCJ1c2VyRGVmIiwiY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uIiwibWFrZUNvbXB1dGVkR2V0dGVyIiwib3duZXIiLCJXYXRjaGVyIiwibGF6eSIsImRpcnR5IiwiZXZhbHVhdGUiLCJtZXRob2RzIiwid2F0Y2giLCJoYW5kbGVyIiwiY3JlYXRlV2F0Y2hlciIsIiR3YXRjaCIsInN0YXRlTWl4aW4iLCJWdWUiLCJkYXRhRGVmIiwidGhpcyIsIm5ld0RhdGEiLCIkc2V0IiwiJGRlbGV0ZSIsImV4cE9yRm4iLCJjYiIsImltbWVkaWF0ZSIsInRlYXJkb3duIiwiY2xvbmVWTm9kZSIsInZub2RlIiwiY2xvbmVkIiwiVk5vZGUiLCJ0YWciLCJjaGlsZHJlbiIsInRleHQiLCJlbG0iLCJucyIsImNvbnRleHQiLCJjb21wb25lbnRPcHRpb25zIiwiaXNTdGF0aWMiLCJpc0Nsb25lZCIsImNsb25lVk5vZGVzIiwidm5vZGVzIiwibWVyZ2VWTm9kZUhvb2siLCJob29rS2V5IiwiaG9vayIsImluamVjdGVkSGFzaCIsIl9faW5qZWN0ZWQiLCJvbGRIb29rIiwidXBkYXRlTGlzdGVuZXJzIiwib24iLCJvbGRPbiIsInJlbW92ZSQkMSIsImN1ciIsIm9sZCIsImV2ZW50IiwiY2FwdHVyZSIsImNoYXJBdCIsImludm9rZXIiLCJhcnJJbnZva2VyIiwiZm5JbnZva2VyIiwiZXYiLCJhcmd1bWVudHMkMSIsInNpbmdsZSIsIm8iLCJub3JtYWxpemVDaGlsZHJlbiIsIm5lc3RlZEluZGV4IiwiY3JlYXRlVGV4dFZOb2RlIiwibGFzdCIsImFwcGx5TlMiLCJnZXRGaXJzdENvbXBvbmVudENoaWxkIiwiZmlsdGVyIiwiaW5pdExpZmVjeWNsZSIsImFic3RyYWN0IiwiJGNoaWxkcmVuIiwiJHJvb3QiLCIkcmVmcyIsIl93YXRjaGVyIiwiX2luYWN0aXZlIiwiX2lzTW91bnRlZCIsIl9pc0Rlc3Ryb3llZCIsIl9pc0JlaW5nRGVzdHJveWVkIiwibGlmZWN5Y2xlTWl4aW4iLCJfbW91bnQiLCJoeWRyYXRpbmciLCIkZWwiLCJlbXB0eVZOb2RlIiwidGVtcGxhdGUiLCJjYWxsSG9vayIsIl91cGRhdGUiLCJfcmVuZGVyIiwiJHZub2RlIiwicHJldkVsIiwicHJldkFjdGl2ZUluc3RhbmNlIiwiYWN0aXZlSW5zdGFuY2UiLCJwcmV2Vm5vZGUiLCJfdm5vZGUiLCJfX3BhdGNoX18iLCJfX3Z1ZV9fIiwiX3VwZGF0ZUZyb21QYXJlbnQiLCJsaXN0ZW5lcnMiLCJwYXJlbnRWbm9kZSIsInJlbmRlckNoaWxkcmVuIiwiaGFzQ2hpbGRyZW4iLCJfcmVuZGVyQ2hpbGRyZW4iLCJfcGFyZW50Vm5vZGUiLCJwcm9wS2V5cyIsIm9sZExpc3RlbmVycyIsIl9wYXJlbnRMaXN0ZW5lcnMiLCJfdXBkYXRlTGlzdGVuZXJzIiwiJHNsb3RzIiwicmVzb2x2ZVNsb3RzIiwiX3JlbmRlckNvbnRleHQiLCIkZm9yY2VVcGRhdGUiLCIkZGVzdHJveSIsIiRvZmYiLCJoYW5kbGVycyIsImoiLCIkZW1pdCIsImNyZWF0ZUNvbXBvbmVudCIsImJhc2VDdG9yIiwiX2Jhc2UiLCJjaWQiLCJyZXNvbHZlZCIsInJlc29sdmVBc3luY0NvbXBvbmVudCIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJleHRyYWN0UHJvcHMiLCJmdW5jdGlvbmFsIiwiY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCIsIm5hdGl2ZU9uIiwibWVyZ2VIb29rcyIsImNyZWF0ZUVsZW1lbnQiLCJfc2VsZiIsInNsb3RzIiwiZnVuY3Rpb25hbENvbnRleHQiLCJzbG90IiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSIsInZub2RlQ29tcG9uZW50T3B0aW9ucyIsIl9pc0NvbXBvbmVudCIsIl9jb21wb25lbnRUYWciLCJpbmxpbmVUZW1wbGF0ZSIsInN0YXRpY1JlbmRlckZucyIsImluaXQiLCIkbW91bnQiLCJrZWVwQWxpdmUiLCJtb3VudGVkTm9kZSIsInByZXBhdGNoIiwib2xkVm5vZGUiLCJpbnNlcnQiLCJkZXN0cm95JDEiLCJmYWN0b3J5IiwicmVxdWVzdGVkIiwiY2JzIiwicGVuZGluZ0NhbGxiYWNrcyIsInN5bmMiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhc29uIiwidGhlbiIsImF0dHJzIiwiZG9tUHJvcHMiLCJhbHRLZXkiLCJjaGVja1Byb3AiLCJoYXNoIiwicHJlc2VydmUiLCJob29rc1RvTWVyZ2UiLCJmcm9tUGFyZW50Iiwib3VycyIsImhvb2tzIiwibWVyZ2VIb29rJDEiLCJfIiwiX18iLCJfY3JlYXRlRWxlbWVudCIsInNjb3BlZFNsb3RzIiwiZ2V0VGFnTmFtZXNwYWNlIiwiY2hpbGROcyIsImluaXRSZW5kZXIiLCJfc3RhdGljVHJlZXMiLCIkc2NvcGVkU2xvdHMiLCIkY3JlYXRlRWxlbWVudCIsInJlbmRlck1peGluIiwibWFya1N0YXRpYyIsInRyZWUiLCJpc09uY2UiLCJtYXJrU3RhdGljTm9kZSIsIm5vZGUiLCIkbmV4dFRpY2siLCJyZWYiLCJfcmVuZGVyUHJveHkiLCJmb3JtYXRDb21wb25lbnROYW1lIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIiwiX2giLCJfcyIsIl9uIiwiX2UiLCJfcSIsIl9pIiwiX20iLCJpc0luRm9yIiwiX28iLCJpZGVudGl0eSIsIl9mIiwiX2wiLCJfdCIsImZhbGxiYWNrIiwic2NvcGVkU2xvdEZuIiwic2xvdE5vZGVzIiwiX3JlbmRlcmVkIiwiX2IiLCJhc1Byb3AiLCJtdXN0VXNlUHJvcCIsIl9rIiwia2V5Q29kZXMiLCJkZWZhdWx0U2xvdCIsImlzQ29tbWVudCIsImluaXRFdmVudHMiLCJfZXZlbnRzIiwiJG9uIiwib2ZmIiwiZXZlbnRzTWl4aW4iLCIkb25jZSIsImFyZ3MiLCJpbml0TWl4aW4iLCJfaW5pdCIsIl91aWQiLCJ1aWQiLCJpbml0SW50ZXJuYWxDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImluaXRQcm94eSIsIm9wdHMiLCJzdXBlciIsInN1cGVyT3B0aW9ucyIsImNhY2hlZFN1cGVyT3B0aW9ucyIsImV4dGVuZE9wdGlvbnMiLCJfc2NvcGVJZCIsImluaXRVc2UiLCJ1c2UiLCJwbHVnaW4iLCJpbnN0YWxsZWQiLCJ1bnNoaWZ0IiwiaW5zdGFsbCIsImluaXRNaXhpbiQxIiwiaW5pdEV4dGVuZCIsIlN1cGVyIiwiU3VwZXJJZCIsImNhY2hlZEN0b3JzIiwiX0N0b3IiLCJTdWIiLCJfYXNzZXRUeXBlcyIsImZvckVhY2giLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJkZWZpbml0aW9uIiwibWF0Y2hlcyIsInBhdHRlcm4iLCJpbml0R2xvYmFsQVBJIiwiY29uZmlnRGVmIiwidXRpbCIsImRlbGV0ZSIsImJ1aWx0SW5Db21wb25lbnRzIiwiZ2VuQ2xhc3NGb3JWbm9kZSIsInBhcmVudE5vZGUiLCJjaGlsZE5vZGUiLCJtZXJnZUNsYXNzRGF0YSIsImdlbkNsYXNzRnJvbURhdGEiLCJzdGF0aWNDbGFzcyIsImNsYXNzIiwiZHluYW1pY0NsYXNzIiwic3RyaW5naWZ5Q2xhc3MiLCJzdHJpbmdpZmllZCIsImlzU1ZHIiwiaXNVbmtub3duRWxlbWVudCIsImluQnJvd3NlciIsInVua25vd25FbGVtZW50Q2FjaGUiLCJkb2N1bWVudCIsIndpbmRvdyIsIkhUTUxVbmtub3duRWxlbWVudCIsIkhUTUxFbGVtZW50IiwicXVlcnkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50JDEiLCJ0YWdOYW1lIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudE5TIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlTWFwIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVDb21tZW50IiwiaW5zZXJ0QmVmb3JlIiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwibmV4dFNpYmxpbmciLCJzZXRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiY2hpbGROb2RlcyIsInJlZ2lzdGVyUmVmIiwiaXNSZW1vdmFsIiwicmVmcyIsInJlZkluRm9yIiwiaXNVbmRlZiIsInMiLCJpc0RlZiIsInNhbWVWbm9kZSIsInZub2RlMSIsInZub2RlMiIsImNyZWF0ZUtleVRvT2xkSWR4IiwiYmVnaW5JZHgiLCJlbmRJZHgiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwiYmFja2VuZCIsImVtcHR5Tm9kZUF0Iiwibm9kZU9wcyIsImNyZWF0ZVJtQ2IiLCJjaGlsZEVsbSIsInJlbW92ZUVsZW1lbnQiLCJjcmVhdGVFbG0iLCJpbnNlcnRlZFZub2RlUXVldWUiLCJuZXN0ZWQiLCJpc1Jvb3RJbnNlcnQiLCJpbml0Q29tcG9uZW50IiwiaWdub3JlZEVsZW1lbnRzIiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwiaXNQYXRjaGFibGUiLCJpJDEiLCJlbXB0eU5vZGUiLCJwZW5kaW5nSW5zZXJ0IiwiYWRkVm5vZGVzIiwicGFyZW50RWxtIiwiYmVmb3JlIiwic3RhcnRJZHgiLCJpbnZva2VEZXN0cm95SG9vayIsImRlc3Ryb3kiLCJyZW1vdmVWbm9kZXMiLCJjaCIsInJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2siLCJybSIsInJlbW92ZSIsInVwZGF0ZUNoaWxkcmVuIiwib2xkQ2giLCJuZXdDaCIsInJlbW92ZU9ubHkiLCJvbGRLZXlUb0lkeCIsImlkeEluT2xkIiwiZWxtVG9Nb3ZlIiwib2xkU3RhcnRJZHgiLCJuZXdTdGFydElkeCIsIm9sZEVuZElkeCIsIm9sZFN0YXJ0Vm5vZGUiLCJvbGRFbmRWbm9kZSIsIm5ld0VuZElkeCIsIm5ld1N0YXJ0Vm5vZGUiLCJuZXdFbmRWbm9kZSIsImNhbk1vdmUiLCJwYXRjaFZub2RlIiwiaGFzRGF0YSIsInBvc3RwYXRjaCIsImludm9rZUluc2VydEhvb2siLCJpbml0aWFsIiwiaHlkcmF0ZSIsImFzc2VydE5vZGVNYXRjaCIsImNoaWxkcmVuTWF0Y2giLCJiYWlsZWQiLCJob29rcyQxIiwiaXNJbml0aWFsUGF0Y2giLCJpc1JlYWxFbGVtZW50Iiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhbmNlc3RvciIsInVwZGF0ZURpcmVjdGl2ZXMiLCJvbGREaXIiLCJkaXIiLCJpc0NyZWF0ZSIsIm9sZERpcnMiLCJub3JtYWxpemVEaXJlY3RpdmVzJDEiLCJuZXdEaXJzIiwiZGlyc1dpdGhJbnNlcnQiLCJkaXJzV2l0aFBvc3RwYXRjaCIsIm9sZFZhbHVlIiwiY2FsbEhvb2skMSIsImNvbXBvbmVudFVwZGF0ZWQiLCJpbnNlcnRlZCIsImNhbGxJbnNlcnQiLCJtb2RpZmllcnMiLCJlbXB0eU1vZGlmaWVycyIsImdldFJhd0Rpck5hbWUiLCJyYXdOYW1lIiwidXBkYXRlQXR0cnMiLCJvbGRBdHRycyIsInNldEF0dHIiLCJpc1hsaW5rIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJ4bGlua05TIiwiZ2V0WGxpbmtQcm9wIiwiaXNFbnVtZXJhdGVkQXR0ciIsImlzQm9vbGVhbkF0dHIiLCJpc0ZhbHN5QXR0clZhbHVlIiwic2V0QXR0cmlidXRlTlMiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJ0cmFuc2l0aW9uQ2xhc3MiLCJfdHJhbnNpdGlvbkNsYXNzZXMiLCJfcHJldkNsYXNzIiwidXBkYXRlRE9NTGlzdGVuZXJzIiwiX3ZfYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl92X3JlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVET01Qcm9wcyIsIm9sZFByb3BzIiwiX3ZhbHVlIiwic3RyQ3VyIiwiY29tcG9zaW5nIiwibm9ybWFsaXplU3R5bGVEYXRhIiwic3R5bGUiLCJub3JtYWxpemVTdHlsZUJpbmRpbmciLCJzdGF0aWNTdHlsZSIsImJpbmRpbmdTdHlsZSIsInBhcnNlU3R5bGVUZXh0IiwiZ2V0U3R5bGUiLCJjaGVja0NoaWxkIiwic3R5bGVEYXRhIiwidXBkYXRlU3R5bGUiLCJvbGRTdGF0aWNTdHlsZSIsIm9sZFN0eWxlQmluZGluZyIsIm9sZFN0eWxlIiwibmV3U3R5bGUiLCJzZXRQcm9wIiwiYWRkQ2xhc3MiLCJ0cmltIiwiY2xhc3NMaXN0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQ2xhc3MiLCJ0YXIiLCJyZXBsYWNlIiwibmV4dEZyYW1lIiwicmFmIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJ0aW1lb3V0IiwicHJvcENvdW50IiwiVFJBTlNJVElPTiIsInRyYW5zaXRpb25FbmRFdmVudCIsImFuaW1hdGlvbkVuZEV2ZW50IiwiZW5kZWQiLCJlbmQiLCJvbkVuZCIsInNldFRpbWVvdXQiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwidHJhbnNpdGlvbmVEZWxheXMiLCJ0cmFuc2l0aW9uUHJvcCIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25Qcm9wIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsIkFOSU1BVElPTiIsImhhc1RyYW5zZm9ybSIsInRyYW5zZm9ybVJFIiwiZGVsYXlzIiwiZHVyYXRpb25zIiwiZCIsInRvTXMiLCJOdW1iZXIiLCJlbnRlciIsIl9sZWF2ZUNiIiwiY2FuY2VsbGVkIiwicmVzb2x2ZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiX2VudGVyQ2IiLCJjc3MiLCJlbnRlckNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImFwcGVhckNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJiZWZvcmVFbnRlciIsImFmdGVyRW50ZXIiLCJlbnRlckNhbmNlbGxlZCIsImJlZm9yZUFwcGVhciIsImFwcGVhciIsImFmdGVyQXBwZWFyIiwiYXBwZWFyQ2FuY2VsbGVkIiwidHJhbnNpdGlvbk5vZGUiLCJpc0FwcGVhciIsInN0YXJ0Q2xhc3MiLCJhY3RpdmVDbGFzcyIsImJlZm9yZUVudGVySG9vayIsImVudGVySG9vayIsImFmdGVyRW50ZXJIb29rIiwiZW50ZXJDYW5jZWxsZWRIb29rIiwiZXhwZWN0c0NTUyIsImlzSUU5IiwidXNlcldhbnRzQ29udHJvbCIsIm9uY2UiLCJzaG93IiwicGVuZGluZ05vZGUiLCJfcGVuZGluZyIsImxlYXZlIiwicGVyZm9ybUxlYXZlIiwiYmVmb3JlTGVhdmUiLCJsZWF2ZUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImFmdGVyTGVhdmUiLCJsZWF2ZUNhbmNlbGxlZCIsImRlbGF5TGVhdmUiLCJkZWYkJDEiLCJhdXRvQ3NzVHJhbnNpdGlvbiIsImNhbGxlZCIsInNldFNlbGVjdGVkIiwiYmluZGluZyIsImlzTXVsdGlwbGUiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwib3B0aW9uIiwiZ2V0VmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiaGFzTm9NYXRjaGluZ09wdGlvbiIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ0cmlnZ2VyIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9jYXRlTm9kZSIsImdldFJlYWxDaGlsZCIsImNvbXBPcHRpb25zIiwiZXh0cmFjdFRyYW5zaXRpb25EYXRhIiwiY29tcCIsImtleSQxIiwicGxhY2Vob2xkZXIiLCJyYXdDaGlsZCIsImhhc1BhcmVudFRyYW5zaXRpb24iLCJjYWxsUGVuZGluZ0NicyIsIl9tb3ZlQ2IiLCJyZWNvcmRQb3NpdGlvbiIsIm5ld1BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGx5VHJhbnNsYXRpb24iLCJvbGRQb3MiLCJwb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsIm1vdmVkIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiX2lzU2VydmVyIiwiX1NldCIsImNhbWVsaXplUkUiLCJ0b1VwcGVyQ2FzZSIsImh5cGhlbmF0ZVJFIiwibm8iLCJoYXNQcm90byIsIlVBIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNJRSIsImlzRWRnZSIsImlzQW5kcm9pZCIsImlzSU9TIiwiVlVFX0VOViIsIl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJuZXh0VGlja0hhbmRsZXIiLCJwZW5kaW5nIiwiY29waWVzIiwiY2FsbGJhY2tzIiwidGltZXJGdW5jIiwiUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjb3VudGVyIiwib2JzZXJ2ZXIiLCJ0ZXh0Tm9kZSIsImNoYXJhY3RlckRhdGEiLCJfcmVzb2x2ZSIsIlNldCIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInNpbGVudCIsIl9saWZlY3ljbGVIb29rcyIsImhhc0NvbnNvbGUiLCJtc2ciLCJmb3JtYXRMb2NhdGlvbiIsIl9fZmlsZSIsInVpZCQxIiwic3VicyIsImFkZFN1YiIsInN1YiIsInJlbW92ZVN1YiIsImFkZERlcCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJtZXRob2QiLCJvcmlnaW5hbCIsInJlc3VsdCIsIm9ic2VydmVBcnJheSIsImFycmF5S2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJhdWdtZW50Iiwid2FsayIsIml0ZW1zIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJmcmVlemUiLCJkZWZpbmVSZWFjdGl2ZSIsImFsbG93ZWRHbG9iYWxzIiwid2Fybk5vblByZXNlbnQiLCJoYXNQcm94eSIsIlByb3h5IiwiaGFzSGFuZGxlciIsImlzQWxsb3dlZCIsImdldEhhbmRsZXIiLCJfd2l0aFN0cmlwcGVkIiwidWlkJDIiLCJkZWVwIiwiZXhwcmVzc2lvbiIsImFjdGl2ZSIsImRlcHMiLCJuZXdEZXBzIiwiZGVwSWRzIiwibmV3RGVwSWRzIiwiY2xlYW51cERlcHMiLCJ0aGlzJDEiLCJ0bXAiLCJfdkZvclJlbW92aW5nIiwicmF3IiwicGF0dGVyblR5cGVzIiwiUmVnRXhwIiwiS2VlcEFsaXZlIiwiaW5jbHVkZSIsImV4Y2x1ZGUiLCJjcmVhdGVkIiwiZGVzdHJveWVkIiwidmVyc2lvbiIsInRlc3RFbCIsImF0dHIiLCJzdmciLCJtYXRoIiwieGh0bWwiLCJpc0hUTUxUYWciLCJiYXNlTW9kdWxlcyIsImtsYXNzIiwiZXZlbnRzIiwiY3NzVGV4dCIsImhhc0JhY2tncm91bmQiLCJsaXN0RGVsaW1pdGVyIiwicHJvcGVydHlEZWxpbWl0ZXIiLCJjc3NWYXJSRSIsInNldFByb3BlcnR5Iiwibm9ybWFsaXplIiwicHJlZml4ZXMiLCJ1cHBlciIsInByZWZpeGVkIiwiaGFzVHJhbnNpdGlvbiIsIm9udHJhbnNpdGlvbmVuZCIsIm9ud2Via2l0dHJhbnNpdGlvbmVuZCIsIm9uYW5pbWF0aW9uZW5kIiwib253ZWJraXRhbmltYXRpb25lbmQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwbGF0Zm9ybU1vZHVsZXMiLCJwYXRjaCQxIiwibW9kZWxhYmxlVGFnUkUiLCJhY3RpdmVFbGVtZW50Iiwidm1vZGVsIiwibW9kZWwiLCJuZWVkUmVzZXQiLCJzb21lIiwidiIsIm9yaWdpbmFsRGlzcGxheSIsImRpc3BsYXkiLCJfX3ZPcmlnaW5hbERpc3BsYXkiLCJwbGF0Zm9ybURpcmVjdGl2ZXMiLCJ0cmFuc2l0aW9uUHJvcHMiLCJCb29sZWFuIiwibW9kZSIsIlRyYW5zaXRpb24iLCJfbGVhdmluZyIsIm9sZFJhd0NoaWxkIiwib2xkQ2hpbGQiLCJkZWxheWVkTGVhdmUiLCJtb3ZlQ2xhc3MiLCJUcmFuc2l0aW9uR3JvdXAiLCJwcmV2Q2hpbGRyZW4iLCJyYXdDaGlsZHJlbiIsInRyYW5zaXRpb25EYXRhIiwia2VwdCIsInJlbW92ZWQiLCJjJDEiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiaGFzTW92ZSIsImJvZHkiLCJvZmZzZXRIZWlnaHQiLCJwcm9wZXJ0eU5hbWUiLCJfaGFzTW92ZSIsImluZm8iLCJwbGF0Zm9ybUNvbXBvbmVudHMiLCJsb2ciLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiSXRlbSIsImFycmF5IiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb25zIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfX3Z1ZV9leHBvcnRzX18iLCJfX3Z1ZV9vcHRpb25zX18iLCJfX3Z1ZV90ZW1wbGF0ZV9fIiwiY29udGVudCIsImxvY2FscyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJpZHgiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsInN0eWxlU2hlZXQiLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJzb3VyY2VzIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVtb2l6ZSIsIm1lbW8iLCJpc09sZElFIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJfdXBsb2FkIiwiX3VwbG9hZDIiLCJfcGxheWVyIiwiX3BsYXllcjIiLCJfbHlyaWNFZGl0b3IiLCJfbHlyaWNFZGl0b3IyIiwiX21vZGFscyIsIl9tb2RhbHMyIiwiX25hdk1lbnUiLCJfbmF2TWVudTIiLCJfbHJjS2l0IiwiX2NhY2hlIiwiX2NhY2hlMiIsImxyY0Zvcm1hdCIsIm11c2ljVXJsIiwiZWRpdGluZyIsInJ1bm5lciIsIlJ1bm5lciIsIkxyYyIsInBhcnNlIiwibHlyaWNBcnJheSIsIiRBcHAiLCJ1cGxvYWRNdXNpYyIsIm11c2ljIiwicGxheWVyIiwicmVtb3ZlTHlyaWMiLCJwbGF5dG8iLCJ0aW1lIiwidGltZXVwZGF0ZSIsInRpbWVzdGFtcCIsImx5cmljIiwiVXBsb2FkIiwiUGxheWVyIiwiTHlyaWNFZGl0b3IiLCJNb2RhbHMiLCJOYXZNZW51IiwibW91bnRlZCIsIl90aGlzIiwidXBsb2FkIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImZpbGVzIiwidHlwZV9tYXRjaCIsInJlYWRGb3JtYXQiLCJhY2NlcHQiLCJjbGljayIsIl92bSIsIl9yYW5nZSIsIl9yYW5nZTIiLCJfdGltZVBhbmVsIiwiX3RpbWVQYW5lbDIiLCJfdXRpbHMiLCJob3ZlciIsImlzTW9iaWxlIiwibXV0ZWQiLCJwYXVzZWQiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwidm9sdW1lIiwiYXVkaW8iLCJzZWVrIiwicGVyY2VudCIsInZvbHVtZVNlZWsiLCJfdGhpczIiLCJwcmVsb2FkIiwiZ2xvYmFsS2V5ZG93biIsIm11c2ljUmFuZ2UiLCJjaGFuZ2VWYWx1ZSIsInNvdW5kUmFuZ2UiLCJwYXVzZSIsInBsYXkiLCJSYW5nZSIsIlRpbWVQYW5lbCIsInNlbGZWYWx1ZSIsImRyYWdpbmciLCJkcmFnVmFsdWUiLCJ0aHVtYiIsIm9mZnNldDJ2YWx1ZSIsIm9mZnNldFgiLCJlbWl0U2VlayIsImVtaXREcmFnU2VlayIsIm9mZnNldCIsImJhciIsImNsaWVudFdpZHRoIiwiZHJhZ2dlciIsIkRyYWdnZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsInNhdmVMcmMiLCJpc0ZpbGVTYXZlclN1cHBvcnRlZCIsIl9maWxlc2F2ZXIyIiwic2F2ZUFzIiwiQmxvYiIsImFsZXJ0IiwidGltZXN0YW1wMnRpbWVzdHIiLCJvbmx5SW50ZWdlciIsInBhZFplcm8iLCJudW0iLCJzaXplIiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwidGltZXN0cjJ0aW1lc3RhbXAiLCJfc3RyJHNwbGl0IiwiX3N0ciRzcGxpdDIiLCJfc2xpY2VkVG9BcnJheSIsIm1pbnV0ZSIsInNlY29uZCIsIlRvb2x0aXBQb3NpdGlvbiIsIkNhY2hlIiwiRGVsYXlIb3ZlciIsIlNjcm9sbGVyIiwiRXZlbnRFbWl0dGVyIiwic2xpY2VJdGVyYXRvciIsIl9hcnIiLCJfZCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJlcnIiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9nZXQiLCJvYmplY3QiLCJyZWNlaXZlciIsImRlc2MiLCJnZXRQcm90b3R5cGVPZiIsIl9ldmVudGVtaXR0ZXIiLCJfZXZlbnRlbWl0dGVyMiIsIl9maWxlc2F2ZXIiLCJfdW5pZHJhZ2dlciIsIl91bmlkcmFnZ2VyMiIsIl9pc19qcyIsIl9pc19qczIiLCJfZXh0ZW5kIiwiX2V4dGVuZDIiLCJfY2xvbmUiLCJfY2xvbmUyIiwiX0V2ZW50RW1pdHRlciIsIl9sZW4iLCJfa2V5IiwiaXQiLCJfZ2V0MiIsIl9nZXQzIiwidmlld3BvcnQiLCJfdGhpczMiLCJ0aW1lciIsInNjcm9sbGFibGVTdGFydFRpbWUiLCJEYXRlIiwiZGVsYXkiLCJzdGVwIiwiaXNDYW5TY3JvbGwiLCJsZXREZWxheSIsIm5vdyIsInRhcmdldFRvcCIsIl90aGlzNCIsImZvcmNlIiwiY2xlYXJUaW1lciIsInN0YXJ0VG9wIiwic2Nyb2xsVG9wIiwiZW5kVG9wIiwiZGlmZlRvcCIsInBlclN0ZXAiLCJjdXJUb3AiLCJfRXZlbnRFbWl0dGVyMiIsImVsZW1lbnQiLCJfdGhpczUiLCJlbnRlclRpbWVyIiwibGVhdmVUaW1lciIsImNmZyIsImVudGVyRGVsYXkiLCJsZWF2ZURlbGF5IiwidW5pcXVlIiwiY2xvc2VMYXN0SG92ZXIiLCJjbGVhckxlYXZlVGltZXIiLCJMYXN0SG92ZXIiLCJjbGVhckVudGVyVGltZXIiLCJwcmVmaXgiLCJsb2NhbFN0b3JhZ2UiLCIkdmVyc2lvbiIsImRlZmF1bHRWYWx1ZSIsInJlYWQiLCJ3cml0ZSIsImNvZGUiLCJyZXN1bHRzIiwiaGFzRmFsc2UiLCJwcmV2ZW50RGVmYXVsdCIsIl9VbmlkcmFnZ2VyIiwiZWxlbSIsImNvbnRhaW5lciIsIl90aGlzNiIsImVlIiwiX2VlIiwiX2VlMiIsImhhbmRsZXMiLCJiaW5kSGFuZGxlcyIsImRyYWdTdGFydFBvaW50Iiwib2Zmc2V0TGVmdCIsInBvaW50ZXIiLCJtb3ZlVmVjdG9yIiwieCIsInRvb2x0aXAiLCJkb2N1bWVudEVsZW1lbnQiLCJnZW5lcmF0ZURpcnMiLCJyZWN0IiwicmlnaHQiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJuZWdhdGl2ZSIsIndpZHRoIiwiaGVpZ2h0IiwidG9vbHRpcFJlY3QiLCJvdmVyZmxvd1ZhbHVlcyIsInJlY3RPdmVyZmxvd0NvdW50IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJfY29uZiIsImNvbmZpZ3VyZSIsImNvbmYiLCJkZWxpbWl0ZXIiLCJtYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwid2lsZGNhcmQiLCJuZXdMaXN0ZW5lciIsInZlcmJvc2VNZW1vcnlMZWFrIiwibGlzdGVuZXJUcmVlIiwibG9nUG9zc2libGVNZW1vcnlMZWFrIiwiY291bnQiLCJldmVudE5hbWUiLCJlcnJvck1zZyIsInRyYWNlIiwic2VhcmNoTGlzdGVuZXJUcmVlIiwibGVhZiIsImJyYW5jaCIsInhUcmVlIiwieHhUcmVlIiwiaXNvbGF0ZWRCcmFuY2giLCJlbmRSZWFjaGVkIiwidHlwZUxlbmd0aCIsImN1cnJlbnRUeXBlIiwibmV4dFR5cGUiLCJfbGlzdGVuZXJzIiwiKioiLCJncm93TGlzdGVuZXJUcmVlIiwibGlzdGVuZXIiLCJzaGlmdCIsIndhcm5lZCIsIkV2ZW50RW1pdHRlcjIiLCJzZXRNYXhMaXN0ZW5lcnMiLCJtYW55IiwidHRsIiwiX29yaWdpbiIsImFsIiwiX2FsbCIsImVtaXRBc3luYyIsInByb21pc2VzIiwiYWxsIiwib25BbnkiLCJyZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0Iiwicm9vdCIsImxlYWZzIiwiaUxlYWYiLCJwb3NpdGlvbiIsIm9mZkFueSIsImZucyIsImxpc3RlbmVyQ291bnQiLCJsaXN0ZW5lcnNBbnkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwidmlldyIsImRvYyIsImdldF9VUkwiLCJVUkwiLCJ3ZWJraXRVUkwiLCJzYXZlX2xpbmsiLCJjYW5fdXNlX3NhdmVfbGluayIsIk1vdXNlRXZlbnQiLCJ3ZWJraXRfcmVxX2ZzIiwid2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0iLCJyZXFfZnMiLCJyZXF1ZXN0RmlsZVN5c3RlbSIsIm1velJlcXVlc3RGaWxlU3lzdGVtIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwiZm9yY2Vfc2F2ZWFibGVfdHlwZSIsImZzX21pbl9zaXplIiwiYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0IiwicmV2b2tlIiwiZmlsZSIsInJldm9rZXIiLCJyZXZva2VPYmplY3RVUkwiLCJjaHJvbWUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiYXV0b19ib20iLCJibG9iIiwiRmlsZVNhdmVyIiwibm9fYXV0b19ib20iLCJvYmplY3RfdXJsIiwidGFyZ2V0X3ZpZXciLCJibG9iX2NoYW5nZWQiLCJkaXNwYXRjaF9hbGwiLCJmc19lcnJvciIsImNyZWF0ZU9iamVjdFVSTCIsImxvY2F0aW9uIiwiaHJlZiIsIm5ld190YWIiLCJvcGVuIiwic2FmYXJpIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJhYm9ydGFibGUiLCJmdW5jIiwiY3JlYXRlX2lmX25vdF9mb3VuZCIsImV4Y2x1c2l2ZSIsIklOSVQiLCJkb3dubG9hZCIsIndlYmtpdFNsaWNlIiwiVEVNUE9SQVJZIiwiZnMiLCJnZXREaXJlY3RvcnkiLCJzYXZlIiwiZ2V0RmlsZSIsImNyZWF0ZVdyaXRlciIsIndyaXRlciIsIm9ud3JpdGVlbmQiLCJ0b1VSTCIsIm9uZXJyb3IiLCJBQk9SVF9FUlIiLCJhYm9ydCIsIldSSVRJTkciLCJOT1RfRk9VTkRfRVJSIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0IiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iLCJVbmlwb2ludGVyIiwiVW5pZHJhZ2dlciIsInByb3RvIiwiX2JpbmRIYW5kbGVzIiwidW5iaW5kSGFuZGxlcyIsImlzQmluZCIsImJpbmRlckV4dHJhIiwicG9pbnRlckVuYWJsZWQiLCJoYW5kbGUiLCJ0b3VjaEFjdGlvbiIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc1RvdWNoQWN0aW9uIiwiYmluZE1ldGhvZCIsIl9iaW5kU3RhcnRFdmVudCIsInBvaW50ZXJEb3duIiwibm9kZU5hbWUiLCJpc1BvaW50ZXJEb3duIiwicG9pbnRlcklkZW50aWZpZXIiLCJfZHJhZ1BvaW50ZXJEb3duIiwiZm9jdXNlZCIsImJsdXIiLCJfYmluZFBvc3RTdGFydEV2ZW50cyIsImVtaXRFdmVudCIsInBvaW50ZXJEb3duUG9pbnQiLCJnZXRQb2ludGVyUG9pbnQiLCJjYW5QcmV2ZW50RGVmYXVsdCIsImNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biIsInBvaW50ZXJNb3ZlIiwiX2RyYWdQb2ludGVyTW92ZSIsIl9kcmFnTW92ZSIsIm1vdmVQb2ludCIsInkiLCJpc0RyYWdnaW5nIiwiaGFzRHJhZ1N0YXJ0ZWQiLCJfZHJhZ1N0YXJ0IiwiYWJzIiwicG9pbnRlclVwIiwiX2RyYWdQb2ludGVyVXAiLCJfZHJhZ0VuZCIsIl9zdGF0aWNDbGljayIsImlzUHJldmVudGluZ0NsaWNrcyIsImRyYWdTdGFydCIsImRyYWdNb3ZlIiwiZHJhZ0VuZCIsIm9uY2xpY2siLCJpc0lnbm9yaW5nTW91c2VVcCIsImZvY3VzIiwic3RhdGljQ2xpY2siLCJFdkVtaXR0ZXIiLCJiaW5kU3RhcnRFdmVudCIsInVuYmluZFN0YXJ0RXZlbnQiLCJoYW5kbGVFdmVudCIsImdldFRvdWNoIiwidG91Y2hlcyIsInRvdWNoIiwiaWRlbnRpZmllciIsIm9ubW91c2Vkb3duIiwiYnV0dG9uIiwiX3BvaW50ZXJEb3duIiwib250b3VjaHN0YXJ0IiwiY2hhbmdlZFRvdWNoZXMiLCJvbk1TUG9pbnRlckRvd24iLCJvbnBvaW50ZXJkb3duIiwicG9pbnRlcklkIiwicG9zdFN0YXJ0RXZlbnRzIiwibW91c2Vkb3duIiwidG91Y2hzdGFydCIsInBvaW50ZXJkb3duIiwiTVNQb2ludGVyRG93biIsIl9ib3VuZFBvaW50ZXJFdmVudHMiLCJfdW5iaW5kUG9zdFN0YXJ0RXZlbnRzIiwib25tb3VzZW1vdmUiLCJfcG9pbnRlck1vdmUiLCJvbk1TUG9pbnRlck1vdmUiLCJvbnBvaW50ZXJtb3ZlIiwib250b3VjaG1vdmUiLCJvbm1vdXNldXAiLCJfcG9pbnRlclVwIiwib25NU1BvaW50ZXJVcCIsIm9ucG9pbnRlcnVwIiwib250b3VjaGVuZCIsIl9wb2ludGVyRG9uZSIsInBvaW50ZXJEb25lIiwib25NU1BvaW50ZXJDYW5jZWwiLCJvbnBvaW50ZXJjYW5jZWwiLCJfcG9pbnRlckNhbmNlbCIsIm9udG91Y2hjYW5jZWwiLCJwb2ludGVyQ2FuY2VsIiwicGFnZVgiLCJwYWdlWSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIm9uY2VFdmVudHMiLCJfb25jZUV2ZW50cyIsIm9uY2VMaXN0ZW5lcnMiLCJpcyIsIm5vdCIsImFycmF5U2xpY2UiLCJwYXJhbWV0ZXJzIiwiYW55IiwicmVnZXhwQ2hlY2siLCJyZWdleHAiLCJyZWdleHBzIiwic2V0SW50ZXJmYWNlcyIsImZ1bmN0aW9uIiwiaW50ZXJmYWNlcyIsImFwaSIsInByZXZpb3VzSXMiLCJWRVJTSU9OIiwibnVsbCIsImJvb2xlYW4iLCJkYXRlIiwibmFuIiwibnVtYmVyIiwianNvbiIsInNhbWVUeXBlIiwidmFsdWUxIiwidmFsdWUyIiwic3RyaW5nIiwiY2hhciIsImVtcHR5IiwiZXhpc3R5IiwidHJ1dGh5IiwiZmFsc3kiLCJzcGFjZSIsImNoYXJhY3RlckNvZGUiLCJlcXVhbCIsImV2ZW4iLCJudW1iIiwib2RkIiwicG9zaXRpdmUiLCJhYm92ZSIsIm1pbiIsInVuZGVyIiwid2l0aGluIiwiZGVjaW1hbCIsImludGVnZXIiLCJmaW5pdGUiLCJpc0Zpbml0ZSIsIkluZmluaXR5IiwiaW5maW5pdGUiLCJ1cmwiLCJlbWFpbCIsImNyZWRpdENhcmQiLCJhbHBoYU51bWVyaWMiLCJ0aW1lU3RyaW5nIiwiZGF0ZVN0cmluZyIsInVzWmlwQ29kZSIsImNhUG9zdGFsQ29kZSIsInVrUG9zdENvZGUiLCJuYW5wUGhvbmUiLCJlcHBQaG9uZSIsInNvY2lhbFNlY3VyaXR5TnVtYmVyIiwiYWZmaXJtYXRpdmUiLCJoZXhhZGVjaW1hbCIsImhleENvbG9yIiwiaXB2NCIsImlwdjYiLCJpcCIsInN1YnN0ciIsInVwcGVyQ2FzZSIsImxvd2VyQ2FzZSIsInN0YXJ0V2l0aCIsImVuZFdpdGgiLCJjYXBpdGFsaXplZCIsIndvcmRzIiwicGFsaW5kcm9tZSIsInJldmVyc2UiLCJkYXlzIiwibW9udGhzIiwidG9kYXkiLCJ0b2RheVN0cmluZyIsInRvRGF0ZVN0cmluZyIsInllc3RlcmRheSIsInllc3RlcmRheVN0cmluZyIsInNldERhdGUiLCJnZXREYXRlIiwidG9tb3Jyb3ciLCJ0b21vcnJvd1N0cmluZyIsInBhc3QiLCJnZXRUaW1lIiwiZnV0dXJlIiwiZGF5IiwiZGF5U3RyaW5nIiwiZ2V0RGF5IiwibW9udGgiLCJtb250aFN0cmluZyIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwibGVhcFllYXIiLCJ3ZWVrZW5kIiwid2Vla2RheSIsImluRGF0ZVJhbmdlIiwic3RhcnRPYmoiLCJlbmRPYmoiLCJnaXZlbkRhdGUiLCJpbkxhc3RXZWVrIiwiaW5MYXN0TW9udGgiLCJzZXRNb250aCIsImluTGFzdFllYXIiLCJzZXRGdWxsWWVhciIsImluTmV4dFdlZWsiLCJpbk5leHRNb250aCIsImluTmV4dFllYXIiLCJxdWFydGVyT2ZZZWFyIiwicXVhcnRlck51bWJlciIsImZsb29yIiwiZGF5TGlnaHRTYXZpbmdUaW1lIiwiamFudWFyeSIsImp1bHkiLCJzdGRUaW1lem9uZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwidmVuZG9yIiwiYXBwVmVyc2lvbiIsImZpcmVmb3giLCJlZGdlIiwiaWUiLCJvcGVyYSIsImlvcyIsImlwaG9uZSIsImlwYWQiLCJpcG9kIiwiYW5kcm9pZCIsImFuZHJvaWRQaG9uZSIsImFuZHJvaWRUYWJsZXQiLCJibGFja2JlcnJ5IiwiZGVza3RvcCIsIm1vYmlsZSIsInRhYmxldCIsImxpbnV4IiwibWFjIiwid2luZG93cyIsIndpbmRvd3NQaG9uZSIsIndpbmRvd3NUYWJsZXQiLCJvbmxpbmUiLCJvbkxpbmUiLCJvZmZsaW5lIiwidG91Y2hEZXZpY2UiLCJEb2N1bWVudFRvdWNoIiwicHJvcGVydHlDb3VudCIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eURlZmluZWQiLCJ3aW5kb3dPYmplY3QiLCJkb21Ob2RlIiwiaW5BcnJheSIsInNvcnRlZCIsInNldFJlZ2V4cCIsInJlZ2V4cE5hbWUiLCJyIiwic2V0TmFtZXNwYWNlIiwidG9TdHIiLCJoYXNPd25Db25zdHJ1Y3RvciIsImhhc0lzUHJvdG90eXBlT2YiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsIkJ1ZmZlciIsImRlcHRoIiwiaW5jbHVkZU5vbkVudW1lcmFibGUiLCJuYXRpdmVNYXAiLCJuYXRpdmVTZXQiLCJuYXRpdmVQcm9taXNlIiwiX19pc0FycmF5IiwiX19pc1JlZ0V4cCIsInNvdXJjZSIsIl9fZ2V0UmVnRXhwRmxhZ3MiLCJsYXN0SW5kZXgiLCJfX2lzRGF0ZSIsInVzZUJ1ZmZlciIsImlzQnVmZmVyIiwiYWxsUGFyZW50cyIsImFsbENoaWxkcmVuIiwia2V5SXRlcmF0b3IiLCJrZXlDaGlsZCIsInZhbHVlQ2hpbGQiLCJlbnRyeUNoaWxkIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bWJvbCIsImFsbFByb3BlcnR5TmFtZXMiLCJfX29ialRvU3RyIiwicmUiLCJmbGFncyIsImlnbm9yZUNhc2UiLCJtdWx0aWxpbmUiLCJNYXAiLCJjbG9uZVByb3RvdHlwZSIsInR5cGVkQXJyYXlTdXBwb3J0IiwiVWludDhBcnJheSIsImZvbyIsInN1YmFycmF5IiwiYnl0ZUxlbmd0aCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJBcnJheUJ1ZmZlciIsImZyb21BcnJheUJ1ZmZlciIsImZyb21TdHJpbmciLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsImFsbG9jIiwiZmlsbCIsImVuY29kaW5nIiwiY2hlY2tlZCIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJmcm9tQXJyYXlMaWtlIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsImlzbmFuIiwiU2xvd0J1ZmZlciIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic2xvd1RvU3RyaW5nIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJidWYiLCJpbmRleFNpemUiLCJyZWFkVUludDE2QkUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJoZXhXcml0ZSIsInJlbWFpbmluZyIsInN0ckxlbiIsInBhcnNlZCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYXNjaWlUb0J5dGVzIiwibGF0aW4xV3JpdGUiLCJiYXNlNjRXcml0ZSIsInVjczJXcml0ZSIsInV0ZjE2bGVUb0J5dGVzIiwiYmFzZTY0IiwiZnJvbUJ5dGVBcnJheSIsImZpcnN0Qnl0ZSIsImNvZGVQb2ludCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJjb2RlUG9pbnRzIiwiTUFYX0FSR1VNRU5UU19MRU5HVEgiLCJmcm9tQ2hhckNvZGUiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJpZWVlNzU0Iiwid3JpdGVEb3VibGUiLCJiYXNlNjRjbGVhbiIsInN0cmluZ3RyaW0iLCJJTlZBTElEX0JBU0U2NF9SRSIsInVuaXRzIiwibGVhZFN1cnJvZ2F0ZSIsImJ5dGVBcnJheSIsImhpIiwibG8iLCJ0b0J5dGVBcnJheSIsImRzdCIsIklOU1BFQ1RfTUFYX0JZVEVTIiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiZXF1YWxzIiwiaW5zcGVjdCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpbmNsdWRlcyIsInRvSlNPTiIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwibWF4Qnl0ZXMiLCJ3cml0ZVVJbnRCRSIsIndyaXRlVUludDgiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJwbGFjZUhvbGRlcnNDb3VudCIsImI2NCIsInBsYWNlSG9sZGVycyIsIkFyciIsIkwiLCJyZXZMb29rdXAiLCJ0cmlwbGV0VG9CYXNlNjQiLCJsb29rdXAiLCJlbmNvZGVDaHVuayIsInVpbnQ4Iiwib3V0cHV0IiwiZXh0cmFCeXRlcyIsIm1heENodW5rTGVuZ3RoIiwibGVuMiIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJMTjIiLCJyZW1haW4iLCJ0aW1lUmVtYWluIiwiZmlsdGVycyIsImNhY2hlTWFwIiwidXNlck5hbWUiLCJjYWNoZU9iaiIsIiRldmVudCIsIm1vdXNlb3ZlciIsIm1vdXNlbGVhdmUiLCJjdXJyZW50LXRpbWUiLCJkcmFnLXNlZWsiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiX3RtZW51IiwiX3RtZW51MiIsImVkaXRpbmdJbmRleCIsImVkaXRpbmdUZXh0SW5kZXgiLCJzY3JvbGxlciIsImVkaXRNZW51IiwiZXhpdEVkaXQiLCJlZGl0IiwiZWRpdFRleHQiLCJscmMiLCJseXJpY3MiLCJyZW1vdmVUZXh0IiwiaW5zZXJ0VGV4dCIsInJlbW92ZVRpbWVzdGFtcCIsIl9seXJpY0FycmF5IiwicmVtb3ZlTHlyaWNzIiwic2V0VGltZXN0YW1wIiwic2V0VGltZXN0YW1wVGV4dCIsInNjcm9sbFRvQ3VycmVudEx5cmljIiwib2Zmc2V0VG9wIiwic2Nyb2xsVG8iLCJ0aW1lVXBkYXRlIiwiY3VySW5kZXgiLCJscmNVcGRhdGUiLCJUbWVudSIsIkxpbmVQYXJzZXIiLCJfbGluZVBhcnNlciIsIl9saW5lUGFyc2VyMiIsIl9scmMiLCJfbHJjMiIsIl9ydW5uZXIiLCJfcnVubmVyMiIsImxpbmUiLCJUWVBFIiwiSU5WQUxJRCIsIl9MaW5lUGFyc2VyJHBhcnNlVGFncyIsInBhcnNlVGFncyIsIl9MaW5lUGFyc2VyJHBhcnNlVGFnczIiLCJ0YWdzIiwiVElNRV9SRUdFWFAiLCJwYXJzZUFzVGltZSIsIklORk9fUkVHRVhQIiwicGFyc2VBc0luZm8iLCJtYXRjaHMiLCJUQUdTX1JFR0VYUCIsImV4ZWMiLCJ0aW1lc3RhbXBzIiwibWludXRlcyIsInNlY29uZHMiLCJUSU1FIiwiSU5GTyIsIm9mZnNldFRpbWUiLCJjb21iaW5lIiwibGluZUZvcm1hdCIsImxpbmVzIiwibHlyaWNzTWFwIiwibHlyaWNzTGlzdCIsInRpbWVzdGFtcFRvU3RyaW5nIiwiX2N1cnJlbnRJbmRleCIsInNldExyYyIsIl9vZmZzZXRBbGlnbiIsIl9zb3J0IiwiX2ZpbmRJbmRleCIsInN0YXJ0SW5kZXgiLCJjdXJGcm9udFRpbWVzdGFtcCIsIk5FR0FUSVZFX0lORklOSVRZIiwiY3VyQmFja1RpbWVzdGFtcCIsIlBPU0lUSVZFX0lORklOSVRZIiwiZ2V0THlyaWMiLCJfdG9vbHRpcCIsIl90b29sdGlwMiIsIlRvb2x0aXAiLCJ2aXNpYmlsaXR5IiwiRWxlbWVudCIsInRscFBvcyIsIndyYXAiLCJhcnJvd1NwYWNlIiwiZGhvdmVyIiwibWVudSIsImVudGVyLWRlbGF5IiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSIsImtleWRvd24iLCJrZXlDb2RlIiwiaW5wdXQiLCIkdCIsInRyYWNrLWJ5IiwiJCRleHAiLCIkJGlkeCIsIl9leHRlbmRzIiwiYXNzaWduIiwiX2hlbHAiLCJfaGVscDIiLCJfbHJjRm9ybWF0VXBsb2FkIiwiX2xyY0Zvcm1hdFVwbG9hZDIiLCJfbHlyaWNVcGxvYWQiLCJfbHlyaWNVcGxvYWQyIiwiX2xyY1NhdmUiLCJfbHJjU2F2ZTIiLCJDT01QT05FTlRTIiwiaGVscCIsImxyYy1mb3JtYXQtdXBsb2FkIiwibHlyaWMtdXBsb2FkIiwibHJjLXNhdmUiLCJNQyIsImNvbmZpcm0iLCJtb2RhbE5hbWUiLCJtb2RhbENvbXBvbmVudCIsImlzU2hvdyIsImNvdmVyU2hvdyIsIm1vZGFsV3JhcHBlciIsIm9rIiwiY2FuY2VsIiwiSGVscCIsIkxyY0Zvcm1hdFVwbG9hZCIsIkx5cmljVXBsb2FkIiwiTHJjU2F2ZSIsIl9wYWNrYWdlIiwiX3BhY2thZ2UyIiwiUEtHIiwiZGVzY3JpcHRpb24iLCJtYWluIiwic2NyaXB0cyIsImxpbnQiLCJkZXYiLCJidWlsZCIsImJ1aWxkOmNsZWFuIiwiYnVpbGQ6dmlldyIsImJ1aWxkOndlYnBhY2siLCJkZXBsb3kiLCJrZXl3b3JkcyIsImF1dGhvciIsImhvbWVwYWdlIiwicmVwb3NpdG9yeSIsIm9ubGluZVBhZ2UiLCJidWdzIiwibGljZW5zZSIsImRldkRlcGVuZGVuY2llcyIsImF1dG9wcmVmaXhlciIsImJhYmVsLWNvcmUiLCJiYWJlbC1lc2xpbnQiLCJiYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyIsImJhYmVsLWxvYWRlciIsImJhYmVsLXBsdWdpbi1zeW50YXgtanN4IiwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS12dWUtanN4IiwiYmFiZWwtcHJlc2V0LWxhdGVzdCIsImJhYmVsLXByZXNldC1zdGFnZS0wIiwiY3NzLWxvYWRlciIsImVzbGludCIsImVzbGludC1sb2FkZXIiLCJlc2xpbnQtcGx1Z2luLWh0bWwiLCJmaWxlLWxvYWRlciIsImdoLXBhZ2VzIiwianNvbi1sb2FkZXIiLCJub2RlLXNhc3MiLCJyZXNvbHZlLXVybC1sb2FkZXIiLCJzYXNzLWxvYWRlciIsInVybC1sb2FkZXIiLCJ2dWUtbG9hZGVyIiwidnVlLXRlbXBsYXRlLWNvbXBpbGVyIiwid2VicGFjayIsIndlYnBhY2stZGV2LXNlcnZlciIsInlhbWwtbG9hZGVyIiwiZGVwZW5kZW5jaWVzIiwiZXZlbnRlbWl0dGVyMiIsImZpbGVzYXZlci5qcyIsImxyYy1raXQiLCJ1bmlkcmFnZ2VyIiwidnVlIiwidnVlLWkxOG4iLCJ1cGxvYWRlZCIsInNhdmVPcHRpb25zIiwiaW5mb0ZpZWxkcyIsImxhYmVsIiwiZmllbGQiLCJieSIsInZlIiwibHlyaWNVcGRhdGUiLCJ0aSIsImluZm9VcGRhdGUiLCJmb3IiLCJjaGFuZ2UiLCIkJGEiLCIkJGVsIiwiJCRjIiwiJCR2IiwiJCRpIiwiY292ZXIiLCJhZnRlci1sZWF2ZSIsInN0b3BQcm9wYWdhdGlvbiIsIm1vZGFscyIsInJlYWQtZm9ybWF0IiwibHlyaWMtYXJyYXkiLCJfdnVlSTE4biIsIl92dWVJMThuMiIsIl9sb2NhbGVzIiwiX2xvY2FsZXMyIiwibGFuZyIsImxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJsb2NhbGUiLCJzdGFjayIsIkFzc2V0IiwibGFuZ1ZNIiwibG9jYWxlcyIsInNldExvY2FsZSIsImJhYmVsSGVscGVycyIsInR5cGVvZiIsImlzUHJvbWlzZSIsImNhdGNoIiwiT3ZlcnJpZGUiLCIkbGFuZyIsIl9sYW5nVW53YXRjaCIsIl9kZXN0cm95IiwiZ2V0V2F0Y2hlciIsInVud2F0Y2giLCJnZXREZXAiLCJDb25maWciLCJtaXNzaW5nSGFuZGxlciIsImkxOG5Gb3JtYXR0ZXIiLCJpc05pbCIsIkZvcm1hdCIsIlJFX05BUkdTIiwiaXNMaXRlcmFsIiwiZXhwIiwibGl0ZXJhbFZhbHVlUkUiLCJzdHJpcFF1b3RlcyIsImdldFBhdGhDaGFyVHlwZSIsImZvcm1hdFN1YlBhdGgiLCJ0cmltbWVkIiwibWF5YmVVbmVzY2FwZVF1b3RlIiwibmV4dENoYXIiLCJJTl9TSU5HTEVfUVVPVEUiLCJJTl9ET1VCTEVfUVVPVEUiLCJuZXdDaGFyIiwiYWN0aW9ucyIsIkFQUEVORCIsIkJFRk9SRV9QQVRIIiwic3ViUGF0aERlcHRoIiwiYWN0aW9uIiwidHlwZU1hcCIsIlBVU0giLCJJTkNfU1VCX1BBVEhfREVQVEgiLCJQVVNIX1NVQl9QQVRIIiwiSU5fU1VCX1BBVEgiLCJwYXRoU3RhdGVNYWNoaW5lIiwiRVJST1IiLCJBRlRFUl9QQVRIIiwicGF0aENhY2hlIiwiUGF0aCIsInBhdGhzIiwiX1Z1ZSR1dGlsIiwiRXh0ZW5kIiwicGFyc2VBcmdzIiwiZmFsbGJhY2tMYW5nIiwicGFyYW1zIiwiaW50ZXJwb2xhdGUiLCJsaW5rIiwibGlua1BsYWNlaG9sZGVyIiwidHJhbnNsYXRlZHN0cmluZyIsImZvcm1hdCIsInRyYW5zbGF0ZSIsIndhcm5EZWZhdWx0IiwiZ2V0QXNzZXRMb2NhbGUiLCJnZXRDb21wb25lbnRMb2NhbGUiLCJnZXRPbGRDaG9pY2VJbmRleEZpeGVkIiwiY2hvaWNlIiwiZ2V0Q2hvaWNlSW5kZXgiLCJjaG9pY2VzTGVuZ3RoIiwiZmV0Y2hDaG9pY2UiLCJjaG9pY2VzIiwidCIsIl9sZW4yIiwiX2tleTIiLCJfcGFyc2VBcmdzIiwidGMiLCJfbGVuMyIsIl9rZXkzIiwiX2xlbjQiLCJfa2V5NCIsIl9wYXJzZUFyZ3MyIiwiJHRjIiwiX2xlbjUiLCJfa2V5NSIsInNldHVwTGFuZ1ZNIiwiSU5fUEFUSCIsIkJFRk9SRV9JREVOVCIsIklOX0lERU5UIiwid3MiLCJpZGVudCIsIlsiLCJlb2YiLCIuIiwiMCIsIiciLCJcIiIsIl0iLCJlbHNlIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCIuL2VuIiwiLi9lbi55bWwiLCIuL2luZGV4IiwiLi9pbmRleC5qcyIsIi4vemgiLCIuL3poLnltbCIsImNsb3NlX2VkaXQiLCJvcGVuX2VkaXQiLCJscmNfaW5mbyIsInJlbW92ZV9seXJpYyIsInByZXZfbHlyaWMiLCJuZXh0X2x5cmljIiwibW9kYWwiLCJscmNfZm9ybWF0X3NhdmUiLCJpbmZvX3RpdGxlIiwiZmllbGRzIiwic29uZ190aXRsZSIsImFydGlzdCIsImFsYnVtIiwic29uZ3RleHRfY3JlYXRvciIsImxyY19jcmVhdG9yIiwic2F2ZV90aXRsZSIsImxyY19mb3JtYXRfdXBsb2FkIiwibHlyaWNfdXBsb2FkIiwic2hvcnRjdXRfa2V5IiwicGxheV9jb250cm9sIiwibGVmdF9rZXkiLCJyaWdodF9rZXkiLCJiYWNrd2FyZCIsImZvcndhcmQiLCJtYWtlX2xyYyIsInVwX2tleSIsImRvd25fa2V5Iiwic291cmNlX2NvZGUiLCJseXJpY19lZGl0b3IiLCJyZW1vdmVfdGltZXN0YW1wIiwicGxheV90b190aGlzX2x5cmljIiwiZm9sbG93aW5nX3Vuc29ydGVkIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFlBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHQUUvQixZQVlBLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdFMUR4RixHQUFBRyxHQUFBZixFQUFBLEdGa0RLZ0IsRUFBUUwsRUFBdUJJLEdFakRwQ0UsRUFBQWpCLEVBQUEsR0ZxREtrQixFQUFRUCxFQUF1Qk0sRUVwRHBDakIsR0FBQSxLQUVBLEdBQUFnQixHQUFBRixTQUNFSyxHQUFJLFFBQ0pDLE9BQVEsU0FBQ0MsR0FBRCxNQUFPQSxrQkYrRFgsU0FBU2pCLEVBQVFELEVBQVNILElHckVoQyxTQUFBc0IsRUFBQUM7Ozs7O0FBS0EsWUFPQSxTQUFBQyxHQUFBQyxHQUNBLGFBQUFBLEVBQ0EsR0FDQSxnQkFBQUEsR0FDQUMsS0FBQUMsVUFBQUYsRUFBQSxR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S0FDQTdtRCxJQUFBLEtBQ0FvVyxPQUFBLEtBQ0FtbEQsaUJBQUEsUUFDQUMsbUJBQUEsVUFDQUMsbUJBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vYXNzZXRzL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF92dWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF92dWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlKTtcblx0XG5cdHZhciBfYXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfYXBwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0bmV3IF92dWUyLmRlZmF1bHQoe1xuXHQgIGVsOiAnI2JvZHknLFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHtcblx0ICAgIHJldHVybiBoKF9hcHAyLmRlZmF1bHQpO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsLCBwcm9jZXNzKSB7LyohXG5cdCAqIFZ1ZS5qcyB2Mi4xLjNcblx0ICogKGMpIDIwMTQtMjAxNiBFdmFuIFlvdVxuXHQgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0IGEgdmFsdWUgdG8gYSBzdHJpbmcgdGhhdCBpcyBhY3R1YWxseSByZW5kZXJlZC5cblx0ICovXG5cdGZ1bmN0aW9uIF90b1N0cmluZyAodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCA9PSBudWxsXG5cdCAgICA/ICcnXG5cdCAgICA6IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnXG5cdCAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCBudWxsLCAyKVxuXHQgICAgICA6IFN0cmluZyh2YWwpXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0IGEgaW5wdXQgdmFsdWUgdG8gYSBudW1iZXIgZm9yIHBlcnNpc3RlbmNlLlxuXHQgKiBJZiB0aGUgY29udmVyc2lvbiBmYWlscywgcmV0dXJuIG9yaWdpbmFsIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvTnVtYmVyICh2YWwpIHtcblx0ICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG5cdCAgcmV0dXJuIChuIHx8IG4gPT09IDApID8gbiA6IHZhbFxuXHR9XG5cdFxuXHQvKipcblx0ICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XG5cdCAqIGlzIGluIHRoYXQgbWFwLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFrZU1hcCAoXG5cdCAgc3RyLFxuXHQgIGV4cGVjdHNMb3dlckNhc2Vcblx0KSB7XG5cdCAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0ICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XG5cdCAgfVxuXHQgIHJldHVybiBleHBlY3RzTG93ZXJDYXNlXG5cdCAgICA/IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG1hcFt2YWwudG9Mb3dlckNhc2UoKV07IH1cblx0ICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLlxuXHQgKi9cblx0dmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheVxuXHQgKi9cblx0ZnVuY3Rpb24gcmVtb3ZlJDEgKGFyciwgaXRlbSkge1xuXHQgIGlmIChhcnIubGVuZ3RoKSB7XG5cdCAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcblx0ICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBoYXMgdGhlIHByb3BlcnR5LlxuXHQgKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0ZnVuY3Rpb24gaGFzT3duIChvYmosIGtleSkge1xuXHQgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgdmFsdWUgaXMgcHJpbWl0aXZlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1ByaW1pdGl2ZSAodmFsdWUpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBjYWNoZWQgdmVyc2lvbiBvZiBhIHB1cmUgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjYWNoZWQgKGZuKSB7XG5cdCAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICByZXR1cm4gZnVuY3Rpb24gY2FjaGVkRm4gKHN0cikge1xuXHQgICAgdmFyIGhpdCA9IGNhY2hlW3N0cl07XG5cdCAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSlcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDYW1lbGl6ZSBhIGh5cGhlbi1kZWxtaXRlZCBzdHJpbmcuXG5cdCAqL1xuXHR2YXIgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcblx0dmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcblx0ICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgZnVuY3Rpb24gKF8sIGMpIHsgcmV0dXJuIGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJzsgfSlcblx0fSk7XG5cdFxuXHQvKipcblx0ICogQ2FwaXRhbGl6ZSBhIHN0cmluZy5cblx0ICovXG5cdHZhciBjYXBpdGFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcblx0ICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpXG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXG5cdCAqL1xuXHR2YXIgaHlwaGVuYXRlUkUgPSAvKFteLV0pKFtBLVpdKS9nO1xuXHR2YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcblx0ICByZXR1cm4gc3RyXG5cdCAgICAucmVwbGFjZShoeXBoZW5hdGVSRSwgJyQxLSQyJylcblx0ICAgIC5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnJDEtJDInKVxuXHQgICAgLnRvTG93ZXJDYXNlKClcblx0fSk7XG5cdFxuXHQvKipcblx0ICogU2ltcGxlIGJpbmQsIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYmluZCQxIChmbiwgY3R4KSB7XG5cdCAgZnVuY3Rpb24gYm91bmRGbiAoYSkge1xuXHQgICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgcmV0dXJuIGxcblx0ICAgICAgPyBsID4gMVxuXHQgICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpXG5cdCAgICAgICAgOiBmbi5jYWxsKGN0eCwgYSlcblx0ICAgICAgOiBmbi5jYWxsKGN0eClcblx0ICB9XG5cdCAgLy8gcmVjb3JkIG9yaWdpbmFsIGZuIGxlbmd0aFxuXHQgIGJvdW5kRm4uX2xlbmd0aCA9IGZuLmxlbmd0aDtcblx0ICByZXR1cm4gYm91bmRGblxuXHR9XG5cdFxuXHQvKipcblx0ICogQ29udmVydCBhbiBBcnJheS1saWtlIG9iamVjdCB0byBhIHJlYWwgQXJyYXkuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FycmF5IChsaXN0LCBzdGFydCkge1xuXHQgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcblx0ICB2YXIgaSA9IGxpc3QubGVuZ3RoIC0gc3RhcnQ7XG5cdCAgdmFyIHJldCA9IG5ldyBBcnJheShpKTtcblx0ICB3aGlsZSAoaS0tKSB7XG5cdCAgICByZXRbaV0gPSBsaXN0W2kgKyBzdGFydF07XG5cdCAgfVxuXHQgIHJldHVybiByZXRcblx0fVxuXHRcblx0LyoqXG5cdCAqIE1peCBwcm9wZXJ0aWVzIGludG8gdGFyZ2V0IG9iamVjdC5cblx0ICovXG5cdGZ1bmN0aW9uIGV4dGVuZCAodG8sIF9mcm9tKSB7XG5cdCAgZm9yICh2YXIga2V5IGluIF9mcm9tKSB7XG5cdCAgICB0b1trZXldID0gX2Zyb21ba2V5XTtcblx0ICB9XG5cdCAgcmV0dXJuIHRvXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBRdWljayBvYmplY3QgY2hlY2sgLSB0aGlzIGlzIHByaW1hcmlseSB1c2VkIHRvIHRlbGxcblx0ICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZVxuXHQgKiBpcyBhIEpTT04tY29tcGxpYW50IHR5cGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xuXHR9XG5cdFxuXHQvKipcblx0ICogU3RyaWN0IG9iamVjdCB0eXBlIGNoZWNrLiBPbmx5IHJldHVybnMgdHJ1ZVxuXHQgKiBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzLlxuXHQgKi9cblx0dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0dmFyIE9CSkVDVF9TVFJJTkcgPSAnW29iamVjdCBPYmplY3RdJztcblx0ZnVuY3Rpb24gaXNQbGFpbk9iamVjdCAob2JqKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gT0JKRUNUX1NUUklOR1xuXHR9XG5cdFxuXHQvKipcblx0ICogTWVyZ2UgYW4gQXJyYXkgb2YgT2JqZWN0cyBpbnRvIGEgc2luZ2xlIE9iamVjdC5cblx0ICovXG5cdGZ1bmN0aW9uIHRvT2JqZWN0IChhcnIpIHtcblx0ICB2YXIgcmVzID0ge307XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChhcnJbaV0pIHtcblx0ICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHQvKipcblx0ICogUGVyZm9ybSBubyBvcGVyYXRpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBub29wICgpIHt9XG5cdFxuXHQvKipcblx0ICogQWx3YXlzIHJldHVybiBmYWxzZS5cblx0ICovXG5cdHZhciBubyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuXHRcblx0LyoqXG5cdCAqIEdlbmVyYXRlIGEgc3RhdGljIGtleXMgc3RyaW5nIGZyb20gY29tcGlsZXIgbW9kdWxlcy5cblx0ICovXG5cdGZ1bmN0aW9uIGdlblN0YXRpY0tleXMgKG1vZHVsZXMpIHtcblx0ICByZXR1cm4gbW9kdWxlcy5yZWR1Y2UoZnVuY3Rpb24gKGtleXMsIG0pIHtcblx0ICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pXG5cdCAgfSwgW10pLmpvaW4oJywnKVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgdHdvIHZhbHVlcyBhcmUgbG9vc2VseSBlcXVhbCAtIHRoYXQgaXMsXG5cdCAqIGlmIHRoZXkgYXJlIHBsYWluIG9iamVjdHMsIGRvIHRoZXkgaGF2ZSB0aGUgc2FtZSBzaGFwZT9cblx0ICovXG5cdGZ1bmN0aW9uIGxvb3NlRXF1YWwgKGEsIGIpIHtcblx0ICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblx0ICByZXR1cm4gYSA9PSBiIHx8IChcblx0ICAgIGlzT2JqZWN0KGEpICYmIGlzT2JqZWN0KGIpXG5cdCAgICAgID8gSlNPTi5zdHJpbmdpZnkoYSkgPT09IEpTT04uc3RyaW5naWZ5KGIpXG5cdCAgICAgIDogZmFsc2Vcblx0ICApXG5cdCAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAobG9vc2VFcXVhbChhcnJbaV0sIHZhbCkpIHsgcmV0dXJuIGkgfVxuXHQgIH1cblx0ICByZXR1cm4gLTFcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSBzdHJpbmcgc3RhcnRzIHdpdGggJCBvciBfXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1Jlc2VydmVkIChzdHIpIHtcblx0ICB2YXIgYyA9IChzdHIgKyAnJykuY2hhckNvZGVBdCgwKTtcblx0ICByZXR1cm4gYyA9PT0gMHgyNCB8fCBjID09PSAweDVGXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZWZpbmUgYSBwcm9wZXJ0eS5cblx0ICovXG5cdGZ1bmN0aW9uIGRlZiAob2JqLCBrZXksIHZhbCwgZW51bWVyYWJsZSkge1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuXHQgICAgdmFsdWU6IHZhbCxcblx0ICAgIGVudW1lcmFibGU6ICEhZW51bWVyYWJsZSxcblx0ICAgIHdyaXRhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQYXJzZSBzaW1wbGUgcGF0aC5cblx0ICovXG5cdHZhciBiYWlsUkUgPSAvW15cXHcuJF0vO1xuXHRmdW5jdGlvbiBwYXJzZVBhdGggKHBhdGgpIHtcblx0ICBpZiAoYmFpbFJFLnRlc3QocGF0aCkpIHtcblx0ICAgIHJldHVyblxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKCFvYmopIHsgcmV0dXJuIH1cblx0ICAgICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBvYmpcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHQvKiBnbG9iYWxzIE11dGF0aW9uT2JzZXJ2ZXIgKi9cblx0XG5cdC8vIGNhbiB3ZSB1c2UgX19wcm90b19fP1xuXHR2YXIgaGFzUHJvdG8gPSAnX19wcm90b19fJyBpbiB7fTtcblx0XG5cdC8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcblx0dmFyIGluQnJvd3NlciA9XG5cdCAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KSAhPT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHR2YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblx0dmFyIGlzSUUgPSBVQSAmJiAvbXNpZXx0cmlkZW50Ly50ZXN0KFVBKTtcblx0dmFyIGlzSUU5ID0gVUEgJiYgVUEuaW5kZXhPZignbXNpZSA5LjAnKSA+IDA7XG5cdHZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDtcblx0dmFyIGlzQW5kcm9pZCA9IFVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDA7XG5cdHZhciBpc0lPUyA9IFVBICYmIC9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChVQSk7XG5cdFxuXHQvLyB0aGlzIG5lZWRzIHRvIGJlIGxhenktZXZhbGVkIGJlY2F1c2UgdnVlIG1heSBiZSByZXF1aXJlZCBiZWZvcmVcblx0Ly8gdnVlLXNlcnZlci1yZW5kZXJlciBjYW4gc2V0IFZVRV9FTlZcblx0dmFyIF9pc1NlcnZlcjtcblx0dmFyIGlzU2VydmVyUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgIGlmIChfaXNTZXJ2ZXIgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICBpZiAoIWluQnJvd3NlciAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAvLyBkZXRlY3QgcHJlc2VuY2Ugb2YgdnVlLXNlcnZlci1yZW5kZXJlciBhbmQgYXZvaWRcblx0ICAgICAgLy8gV2VicGFjayBzaGltbWluZyB0aGUgcHJvY2Vzc1xuXHQgICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBfaXNTZXJ2ZXIgPSBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIF9pc1NlcnZlclxuXHR9O1xuXHRcblx0Ly8gZGV0ZWN0IGRldnRvb2xzXG5cdHZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblx0XG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdGZ1bmN0aW9uIGlzTmF0aXZlIChDdG9yKSB7XG5cdCAgcmV0dXJuIC9uYXRpdmUgY29kZS8udGVzdChDdG9yLnRvU3RyaW5nKCkpXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZWZlciBhIHRhc2sgdG8gZXhlY3V0ZSBpdCBhc3luY2hyb25vdXNseS5cblx0ICovXG5cdHZhciBuZXh0VGljayA9IChmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuXHQgIHZhciBwZW5kaW5nID0gZmFsc2U7XG5cdCAgdmFyIHRpbWVyRnVuYztcblx0XG5cdCAgZnVuY3Rpb24gbmV4dFRpY2tIYW5kbGVyICgpIHtcblx0ICAgIHBlbmRpbmcgPSBmYWxzZTtcblx0ICAgIHZhciBjb3BpZXMgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG5cdCAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29waWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGNvcGllc1tpXSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gdGhlIG5leHRUaWNrIGJlaGF2aW9yIGxldmVyYWdlcyB0aGUgbWljcm90YXNrIHF1ZXVlLCB3aGljaCBjYW4gYmUgYWNjZXNzZWRcblx0ICAvLyB2aWEgZWl0aGVyIG5hdGl2ZSBQcm9taXNlLnRoZW4gb3IgTXV0YXRpb25PYnNlcnZlci5cblx0ICAvLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW5cblx0ICAvLyBVSVdlYlZpZXcgaW4gaU9TID49IDkuMy4zIHdoZW4gdHJpZ2dlcmVkIGluIHRvdWNoIGV2ZW50IGhhbmRsZXJzLiBJdFxuXHQgIC8vIGNvbXBsZXRlbHkgc3RvcHMgd29ya2luZyBhZnRlciB0cmlnZ2VyaW5nIGEgZmV3IHRpbWVzLi4uIHNvLCBpZiBuYXRpdmVcblx0ICAvLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShQcm9taXNlKSkge1xuXHQgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcC50aGVuKG5leHRUaWNrSGFuZGxlcik7XG5cdCAgICAgIC8vIGluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dFxuXHQgICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGVcblx0ICAgICAgLy8gbWljcm90YXNrIHF1ZXVlIGJ1dCB0aGUgcXVldWUgaXNuJ3QgYmVpbmcgZmx1c2hlZCwgdW50aWwgdGhlIGJyb3dzZXJcblx0ICAgICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuXG5cdCAgICAgIC8vIFwiZm9yY2VcIiB0aGUgbWljcm90YXNrIHF1ZXVlIHRvIGJlIGZsdXNoZWQgYnkgYWRkaW5nIGFuIGVtcHR5IHRpbWVyLlxuXHQgICAgICBpZiAoaXNJT1MpIHsgc2V0VGltZW91dChub29wKTsgfVxuXHQgICAgfTtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoXG5cdCAgICBpc05hdGl2ZShNdXRhdGlvbk9ic2VydmVyKSB8fFxuXHQgICAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54XG5cdCAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXG5cdCAgKSkge1xuXHQgICAgLy8gdXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSxcblx0ICAgIC8vIGUuZy4gUGhhbnRvbUpTIElFMTEsIGlPUzcsIEFuZHJvaWQgNC40XG5cdCAgICB2YXIgY291bnRlciA9IDE7XG5cdCAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihuZXh0VGlja0hhbmRsZXIpO1xuXHQgICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvdW50ZXIpKTtcblx0ICAgIG9ic2VydmVyLm9ic2VydmUodGV4dE5vZGUsIHtcblx0ICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjtcblx0ICAgICAgdGV4dE5vZGUuZGF0YSA9IFN0cmluZyhjb3VudGVyKTtcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIGZhbGxiYWNrIHRvIHNldFRpbWVvdXRcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHNldFRpbWVvdXQobmV4dFRpY2tIYW5kbGVyLCAwKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gcXVldWVOZXh0VGljayAoY2IsIGN0eCkge1xuXHQgICAgdmFyIF9yZXNvbHZlO1xuXHQgICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoY2IpIHsgY2IuY2FsbChjdHgpOyB9XG5cdCAgICAgIGlmIChfcmVzb2x2ZSkgeyBfcmVzb2x2ZShjdHgpOyB9XG5cdCAgICB9KTtcblx0ICAgIGlmICghcGVuZGluZykge1xuXHQgICAgICBwZW5kaW5nID0gdHJ1ZTtcblx0ICAgICAgdGltZXJGdW5jKCk7XG5cdCAgICB9XG5cdCAgICBpZiAoIWNiICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG5cdCAgICAgIH0pXG5cdCAgICB9XG5cdCAgfVxuXHR9KSgpO1xuXHRcblx0dmFyIF9TZXQ7XG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHRpZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xuXHQgIC8vIHVzZSBuYXRpdmUgU2V0IHdoZW4gYXZhaWxhYmxlLlxuXHQgIF9TZXQgPSBTZXQ7XG5cdH0gZWxzZSB7XG5cdCAgLy8gYSBub24tc3RhbmRhcmQgU2V0IHBvbHlmaWxsIHRoYXQgb25seSB3b3JrcyB3aXRoIHByaW1pdGl2ZSBrZXlzLlxuXHQgIF9TZXQgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU2V0ICgpIHtcblx0ICAgICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgICAgfVxuXHQgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zZXRba2V5XSAhPT0gdW5kZWZpbmVkXG5cdCAgICB9O1xuXHQgICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGtleSkge1xuXHQgICAgICB0aGlzLnNldFtrZXldID0gMTtcblx0ICAgIH07XG5cdCAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuXHQgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBTZXQ7XG5cdCAgfSgpKTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgY29uZmlnID0ge1xuXHQgIC8qKlxuXHQgICAqIE9wdGlvbiBtZXJnZSBzdHJhdGVnaWVzICh1c2VkIGluIGNvcmUvdXRpbC9vcHRpb25zKVxuXHQgICAqL1xuXHQgIG9wdGlvbk1lcmdlU3RyYXRlZ2llczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblx0XG5cdCAgLyoqXG5cdCAgICogV2hldGhlciB0byBzdXBwcmVzcyB3YXJuaW5ncy5cblx0ICAgKi9cblx0ICBzaWxlbnQ6IGZhbHNlLFxuXHRcblx0ICAvKipcblx0ICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBkZXZ0b29sc1xuXHQgICAqL1xuXHQgIGRldnRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuXHRcblx0ICAvKipcblx0ICAgKiBFcnJvciBoYW5kbGVyIGZvciB3YXRjaGVyIGVycm9yc1xuXHQgICAqL1xuXHQgIGVycm9ySGFuZGxlcjogbnVsbCxcblx0XG5cdCAgLyoqXG5cdCAgICogSWdub3JlIGNlcnRhaW4gY3VzdG9tIGVsZW1lbnRzXG5cdCAgICovXG5cdCAgaWdub3JlZEVsZW1lbnRzOiBudWxsLFxuXHRcblx0ICAvKipcblx0ICAgKiBDdXN0b20gdXNlciBrZXkgYWxpYXNlcyBmb3Igdi1vblxuXHQgICAqL1xuXHQgIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcblx0ICAvKipcblx0ICAgKiBDaGVjayBpZiBhIHRhZyBpcyByZXNlcnZlZCBzbyB0aGF0IGl0IGNhbm5vdCBiZSByZWdpc3RlcmVkIGFzIGFcblx0ICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uXG5cdCAgICovXG5cdCAgaXNSZXNlcnZlZFRhZzogbm8sXG5cdFxuXHQgIC8qKlxuXHQgICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC5cblx0ICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG5cdCAgICovXG5cdCAgaXNVbmtub3duRWxlbWVudDogbm8sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldCB0aGUgbmFtZXNwYWNlIG9mIGFuIGVsZW1lbnRcblx0ICAgKi9cblx0ICBnZXRUYWdOYW1lc3BhY2U6IG5vb3AsXG5cdFxuXHQgIC8qKlxuXHQgICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlXG5cdCAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuXHQgICAqL1xuXHQgIG11c3RVc2VQcm9wOiBubyxcblx0XG5cdCAgLyoqXG5cdCAgICogTGlzdCBvZiBhc3NldCB0eXBlcyB0aGF0IGEgY29tcG9uZW50IGNhbiBvd24uXG5cdCAgICovXG5cdCAgX2Fzc2V0VHlwZXM6IFtcblx0ICAgICdjb21wb25lbnQnLFxuXHQgICAgJ2RpcmVjdGl2ZScsXG5cdCAgICAnZmlsdGVyJ1xuXHQgIF0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIExpc3Qgb2YgbGlmZWN5Y2xlIGhvb2tzLlxuXHQgICAqL1xuXHQgIF9saWZlY3ljbGVIb29rczogW1xuXHQgICAgJ2JlZm9yZUNyZWF0ZScsXG5cdCAgICAnY3JlYXRlZCcsXG5cdCAgICAnYmVmb3JlTW91bnQnLFxuXHQgICAgJ21vdW50ZWQnLFxuXHQgICAgJ2JlZm9yZVVwZGF0ZScsXG5cdCAgICAndXBkYXRlZCcsXG5cdCAgICAnYmVmb3JlRGVzdHJveScsXG5cdCAgICAnZGVzdHJveWVkJyxcblx0ICAgICdhY3RpdmF0ZWQnLFxuXHQgICAgJ2RlYWN0aXZhdGVkJ1xuXHQgIF0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIE1heCBjaXJjdWxhciB1cGRhdGVzIGFsbG93ZWQgaW4gYSBzY2hlZHVsZXIgZmx1c2ggY3ljbGUuXG5cdCAgICovXG5cdCAgX21heFVwZGF0ZUNvdW50OiAxMDBcblx0fTtcblx0XG5cdHZhciB3YXJuID0gbm9vcDtcblx0dmFyIGZvcm1hdENvbXBvbmVudE5hbWU7XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBoYXNDb25zb2xlID0gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnO1xuXHRcblx0ICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcblx0ICAgIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcblx0ICAgICAgY29uc29sZS5lcnJvcihcIltWdWUgd2Fybl06IFwiICsgbXNnICsgXCIgXCIgKyAoXG5cdCAgICAgICAgdm0gPyBmb3JtYXRMb2NhdGlvbihmb3JtYXRDb21wb25lbnROYW1lKHZtKSkgOiAnJ1xuXHQgICAgICApKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBmb3JtYXRDb21wb25lbnROYW1lID0gZnVuY3Rpb24gKHZtKSB7XG5cdCAgICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XG5cdCAgICAgIHJldHVybiAncm9vdCBpbnN0YW5jZSdcblx0ICAgIH1cblx0ICAgIHZhciBuYW1lID0gdm0uX2lzVnVlXG5cdCAgICAgID8gdm0uJG9wdGlvbnMubmFtZSB8fCB2bS4kb3B0aW9ucy5fY29tcG9uZW50VGFnXG5cdCAgICAgIDogdm0ubmFtZTtcblx0ICAgIHJldHVybiAoXG5cdCAgICAgIChuYW1lID8gKFwiY29tcG9uZW50IDxcIiArIG5hbWUgKyBcIj5cIikgOiBcImFub255bW91cyBjb21wb25lbnRcIikgK1xuXHQgICAgICAodm0uX2lzVnVlICYmIHZtLiRvcHRpb25zLl9fZmlsZSA/IChcIiBhdCBcIiArICh2bS4kb3B0aW9ucy5fX2ZpbGUpKSA6ICcnKVxuXHQgICAgKVxuXHQgIH07XG5cdFxuXHQgIHZhciBmb3JtYXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgIGlmIChzdHIgPT09ICdhbm9ueW1vdXMgY29tcG9uZW50Jykge1xuXHQgICAgICBzdHIgKz0gXCIgLSB1c2UgdGhlIFxcXCJuYW1lXFxcIiBvcHRpb24gZm9yIGJldHRlciBkZWJ1Z2dpbmcgbWVzc2FnZXMuXCI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKFwiXFxuKGZvdW5kIGluIFwiICsgc3RyICsgXCIpXCIpXG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRcblx0dmFyIHVpZCQxID0gMDtcblx0XG5cdC8qKlxuXHQgKiBBIGRlcCBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGVcblx0ICogZGlyZWN0aXZlcyBzdWJzY3JpYmluZyB0byBpdC5cblx0ICovXG5cdHZhciBEZXAgPSBmdW5jdGlvbiBEZXAgKCkge1xuXHQgIHRoaXMuaWQgPSB1aWQkMSsrO1xuXHQgIHRoaXMuc3VicyA9IFtdO1xuXHR9O1xuXHRcblx0RGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1Yikge1xuXHQgIHRoaXMuc3Vicy5wdXNoKHN1Yik7XG5cdH07XG5cdFxuXHREZXAucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uIHJlbW92ZVN1YiAoc3ViKSB7XG5cdCAgcmVtb3ZlJDEodGhpcy5zdWJzLCBzdWIpO1xuXHR9O1xuXHRcblx0RGVwLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiBkZXBlbmQgKCkge1xuXHQgIGlmIChEZXAudGFyZ2V0KSB7XG5cdCAgICBEZXAudGFyZ2V0LmFkZERlcCh0aGlzKTtcblx0ICB9XG5cdH07XG5cdFxuXHREZXAucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeSAoKSB7XG5cdCAgLy8gc3RhYmxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxuXHQgIHZhciBzdWJzID0gdGhpcy5zdWJzLnNsaWNlKCk7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgc3Vic1tpXS51cGRhdGUoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyB0aGUgY3VycmVudCB0YXJnZXQgd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQuXG5cdC8vIHRoaXMgaXMgZ2xvYmFsbHkgdW5pcXVlIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb25seSBvbmVcblx0Ly8gd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQgYXQgYW55IHRpbWUuXG5cdERlcC50YXJnZXQgPSBudWxsO1xuXHR2YXIgdGFyZ2V0U3RhY2sgPSBbXTtcblx0XG5cdGZ1bmN0aW9uIHB1c2hUYXJnZXQgKF90YXJnZXQpIHtcblx0ICBpZiAoRGVwLnRhcmdldCkgeyB0YXJnZXRTdGFjay5wdXNoKERlcC50YXJnZXQpOyB9XG5cdCAgRGVwLnRhcmdldCA9IF90YXJnZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBvcFRhcmdldCAoKSB7XG5cdCAgRGVwLnRhcmdldCA9IHRhcmdldFN0YWNrLnBvcCgpO1xuXHR9XG5cdFxuXHQvKlxuXHQgKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGhcblx0ICogZHluYW1pY2FsbHkgYWNjZXNzaW5nIG1ldGhvZHMgb24gQXJyYXkgcHJvdG90eXBlXG5cdCAqL1xuXHRcblx0dmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cdHZhciBhcnJheU1ldGhvZHMgPSBPYmplY3QuY3JlYXRlKGFycmF5UHJvdG8pO1tcblx0ICAncHVzaCcsXG5cdCAgJ3BvcCcsXG5cdCAgJ3NoaWZ0Jyxcblx0ICAndW5zaGlmdCcsXG5cdCAgJ3NwbGljZScsXG5cdCAgJ3NvcnQnLFxuXHQgICdyZXZlcnNlJ1xuXHRdXG5cdC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcblx0ICAvLyBjYWNoZSBvcmlnaW5hbCBtZXRob2Rcblx0ICB2YXIgb3JpZ2luYWwgPSBhcnJheVByb3RvW21ldGhvZF07XG5cdCAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yICgpIHtcblx0ICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblx0XG5cdCAgICAvLyBhdm9pZCBsZWFraW5nIGFyZ3VtZW50czpcblx0ICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb3N1cmUtd2l0aC1hcmd1bWVudHNcblx0ICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGkpO1xuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICBhcmdzW2ldID0gYXJndW1lbnRzJDFbaV07XG5cdCAgICB9XG5cdCAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB2YXIgb2IgPSB0aGlzLl9fb2JfXztcblx0ICAgIHZhciBpbnNlcnRlZDtcblx0ICAgIHN3aXRjaCAobWV0aG9kKSB7XG5cdCAgICAgIGNhc2UgJ3B1c2gnOlxuXHQgICAgICAgIGluc2VydGVkID0gYXJncztcblx0ICAgICAgICBicmVha1xuXHQgICAgICBjYXNlICd1bnNoaWZ0Jzpcblx0ICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG5cdCAgICAgICAgYnJlYWtcblx0ICAgICAgY2FzZSAnc3BsaWNlJzpcblx0ICAgICAgICBpbnNlcnRlZCA9IGFyZ3Muc2xpY2UoMik7XG5cdCAgICAgICAgYnJlYWtcblx0ICAgIH1cblx0ICAgIGlmIChpbnNlcnRlZCkgeyBvYi5vYnNlcnZlQXJyYXkoaW5zZXJ0ZWQpOyB9XG5cdCAgICAvLyBub3RpZnkgY2hhbmdlXG5cdCAgICBvYi5kZXAubm90aWZ5KCk7XG5cdCAgICByZXR1cm4gcmVzdWx0XG5cdCAgfSk7XG5cdH0pO1xuXHRcblx0LyogICovXG5cdFxuXHR2YXIgYXJyYXlLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXJyYXlNZXRob2RzKTtcblx0XG5cdC8qKlxuXHQgKiBCeSBkZWZhdWx0LCB3aGVuIGEgcmVhY3RpdmUgcHJvcGVydHkgaXMgc2V0LCB0aGUgbmV3IHZhbHVlIGlzXG5cdCAqIGFsc28gY29udmVydGVkIHRvIGJlY29tZSByZWFjdGl2ZS4gSG93ZXZlciB3aGVuIHBhc3NpbmcgZG93biBwcm9wcyxcblx0ICogd2UgZG9uJ3Qgd2FudCB0byBmb3JjZSBjb252ZXJzaW9uIGJlY2F1c2UgdGhlIHZhbHVlIG1heSBiZSBhIG5lc3RlZCB2YWx1ZVxuXHQgKiB1bmRlciBhIGZyb3plbiBkYXRhIHN0cnVjdHVyZS4gQ29udmVydGluZyBpdCB3b3VsZCBkZWZlYXQgdGhlIG9wdGltaXphdGlvbi5cblx0ICovXG5cdHZhciBvYnNlcnZlclN0YXRlID0ge1xuXHQgIHNob3VsZENvbnZlcnQ6IHRydWUsXG5cdCAgaXNTZXR0aW5nUHJvcHM6IGZhbHNlXG5cdH07XG5cdFxuXHQvKipcblx0ICogT2JzZXJ2ZXIgY2xhc3MgdGhhdCBhcmUgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZFxuXHQgKiBvYmplY3QuIE9uY2UgYXR0YWNoZWQsIHRoZSBvYnNlcnZlciBjb252ZXJ0cyB0YXJnZXRcblx0ICogb2JqZWN0J3MgcHJvcGVydHkga2V5cyBpbnRvIGdldHRlci9zZXR0ZXJzIHRoYXRcblx0ICogY29sbGVjdCBkZXBlbmRlbmNpZXMgYW5kIGRpc3BhdGNoZXMgdXBkYXRlcy5cblx0ICovXG5cdHZhciBPYnNlcnZlciA9IGZ1bmN0aW9uIE9ic2VydmVyICh2YWx1ZSkge1xuXHQgIHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0ICB0aGlzLmRlcCA9IG5ldyBEZXAoKTtcblx0ICB0aGlzLnZtQ291bnQgPSAwO1xuXHQgIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xuXHQgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgdmFyIGF1Z21lbnQgPSBoYXNQcm90b1xuXHQgICAgICA/IHByb3RvQXVnbWVudFxuXHQgICAgICA6IGNvcHlBdWdtZW50O1xuXHQgICAgYXVnbWVudCh2YWx1ZSwgYXJyYXlNZXRob2RzLCBhcnJheUtleXMpO1xuXHQgICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0aGlzLndhbGsodmFsdWUpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBXYWxrIHRocm91Z2ggZWFjaCBwcm9wZXJ0eSBhbmQgY29udmVydCB0aGVtIGludG9cblx0ICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG5cdCAqIHZhbHVlIHR5cGUgaXMgT2JqZWN0LlxuXHQgKi9cblx0T2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHtcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0sIG9ialtrZXlzW2ldXSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLlxuXHQgKi9cblx0T2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmVBcnJheSA9IGZ1bmN0aW9uIG9ic2VydmVBcnJheSAoaXRlbXMpIHtcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgb2JzZXJ2ZShpdGVtc1tpXSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gaGVscGVyc1xuXHRcblx0LyoqXG5cdCAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBpbnRlcmNlcHRpbmdcblx0ICogdGhlIHByb3RvdHlwZSBjaGFpbiB1c2luZyBfX3Byb3RvX19cblx0ICovXG5cdGZ1bmN0aW9uIHByb3RvQXVnbWVudCAodGFyZ2V0LCBzcmMpIHtcblx0ICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXHQgIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7XG5cdCAgLyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXVnbWVudCBhbiB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGRlZmluaW5nXG5cdCAqIGhpZGRlbiBwcm9wZXJ0aWVzLlxuXHQgKlxuXHQgKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29weUF1Z21lbnQgKHRhcmdldCwgc3JjLCBrZXlzKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBdHRlbXB0IHRvIGNyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZSBmb3IgYSB2YWx1ZSxcblx0ICogcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGlmIHN1Y2Nlc3NmdWxseSBvYnNlcnZlZCxcblx0ICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBvYnNlcnZlICh2YWx1ZSkge1xuXHQgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIG9iO1xuXHQgIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuXHQgICAgb2IgPSB2YWx1ZS5fX29iX187XG5cdCAgfSBlbHNlIGlmIChcblx0ICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCAmJlxuXHQgICAgIWlzU2VydmVyUmVuZGVyaW5nKCkgJiZcblx0ICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiZcblx0ICAgIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpICYmXG5cdCAgICAhdmFsdWUuX2lzVnVlXG5cdCAgKSB7XG5cdCAgICBvYiA9IG5ldyBPYnNlcnZlcih2YWx1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiBvYlxuXHR9XG5cdFxuXHQvKipcblx0ICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUkJDEgKFxuXHQgIG9iaixcblx0ICBrZXksXG5cdCAgdmFsLFxuXHQgIGN1c3RvbVNldHRlclxuXHQpIHtcblx0ICB2YXIgZGVwID0gbmV3IERlcCgpO1xuXHRcblx0ICB2YXIgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblx0ICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICAvLyBjYXRlciBmb3IgcHJlLWRlZmluZWQgZ2V0dGVyL3NldHRlcnNcblx0ICB2YXIgZ2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuZ2V0O1xuXHQgIHZhciBzZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zZXQ7XG5cdFxuXHQgIHZhciBjaGlsZE9iID0gb2JzZXJ2ZSh2YWwpO1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gcmVhY3RpdmVHZXR0ZXIgKCkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xuXHQgICAgICBpZiAoRGVwLnRhcmdldCkge1xuXHQgICAgICAgIGRlcC5kZXBlbmQoKTtcblx0ICAgICAgICBpZiAoY2hpbGRPYikge1xuXHQgICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICAgICAgZGVwZW5kQXJyYXkodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdmFsdWVcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlU2V0dGVyIChuZXdWYWwpIHtcblx0ICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcblx0ICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cdCAgICAgIGlmIChuZXdWYWwgPT09IHZhbHVlIHx8IChuZXdWYWwgIT09IG5ld1ZhbCAmJiB2YWx1ZSAhPT0gdmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuXG5cdCAgICAgIH1cblx0ICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY3VzdG9tU2V0dGVyKSB7XG5cdCAgICAgICAgY3VzdG9tU2V0dGVyKCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHNldHRlcikge1xuXHQgICAgICAgIHNldHRlci5jYWxsKG9iaiwgbmV3VmFsKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YWwgPSBuZXdWYWw7XG5cdCAgICAgIH1cblx0ICAgICAgY2hpbGRPYiA9IG9ic2VydmUobmV3VmFsKTtcblx0ICAgICAgZGVwLm5vdGlmeSgpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kXG5cdCAqIHRyaWdnZXJzIGNoYW5nZSBub3RpZmljYXRpb24gaWYgdGhlIHByb3BlcnR5IGRvZXNuJ3Rcblx0ICogYWxyZWFkeSBleGlzdC5cblx0ICovXG5cdGZ1bmN0aW9uIHNldCAob2JqLCBrZXksIHZhbCkge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0ICAgIG9iai5sZW5ndGggPSBNYXRoLm1heChvYmoubGVuZ3RoLCBrZXkpO1xuXHQgICAgb2JqLnNwbGljZShrZXksIDEsIHZhbCk7XG5cdCAgICByZXR1cm4gdmFsXG5cdCAgfVxuXHQgIGlmIChoYXNPd24ob2JqLCBrZXkpKSB7XG5cdCAgICBvYmpba2V5XSA9IHZhbDtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgb2IgPSBvYmouX19vYl9fO1xuXHQgIGlmIChvYmouX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAnQXZvaWQgYWRkaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMgdG8gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXG5cdCAgICAgICdhdCBydW50aW1lIC0gZGVjbGFyZSBpdCB1cGZyb250IGluIHRoZSBkYXRhIG9wdGlvbi4nXG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGlmICghb2IpIHtcblx0ICAgIG9ialtrZXldID0gdmFsO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGRlZmluZVJlYWN0aXZlJCQxKG9iLnZhbHVlLCBrZXksIHZhbCk7XG5cdCAgb2IuZGVwLm5vdGlmeSgpO1xuXHQgIHJldHVybiB2YWxcblx0fVxuXHRcblx0LyoqXG5cdCAqIERlbGV0ZSBhIHByb3BlcnR5IGFuZCB0cmlnZ2VyIGNoYW5nZSBpZiBuZWNlc3NhcnkuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWwgKG9iaiwga2V5KSB7XG5cdCAgdmFyIG9iID0gb2JqLl9fb2JfXztcblx0ICBpZiAob2JqLl9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgJ0F2b2lkIGRlbGV0aW5nIHByb3BlcnRpZXMgb24gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArXG5cdCAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJ1xuXHQgICAgKTtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBpZiAoIWhhc093bihvYmosIGtleSkpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICBkZWxldGUgb2JqW2tleV07XG5cdCAgaWYgKCFvYikge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIG9iLmRlcC5ub3RpZnkoKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbGxlY3QgZGVwZW5kZW5jaWVzIG9uIGFycmF5IGVsZW1lbnRzIHdoZW4gdGhlIGFycmF5IGlzIHRvdWNoZWQsIHNpbmNlXG5cdCAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVwZW5kQXJyYXkgKHZhbHVlKSB7XG5cdCAgZm9yICh2YXIgZSA9ICh2b2lkIDApLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgZSA9IHZhbHVlW2ldO1xuXHQgICAgZSAmJiBlLl9fb2JfXyAmJiBlLl9fb2JfXy5kZXAuZGVwZW5kKCk7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuXHQgICAgICBkZXBlbmRBcnJheShlKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0LyoqXG5cdCAqIE9wdGlvbiBvdmVyd3JpdGluZyBzdHJhdGVnaWVzIGFyZSBmdW5jdGlvbnMgdGhhdCBoYW5kbGVcblx0ICogaG93IHRvIG1lcmdlIGEgcGFyZW50IG9wdGlvbiB2YWx1ZSBhbmQgYSBjaGlsZCBvcHRpb25cblx0ICogdmFsdWUgaW50byB0aGUgZmluYWwgdmFsdWUuXG5cdCAqL1xuXHR2YXIgc3RyYXRzID0gY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztcblx0XG5cdC8qKlxuXHQgKiBPcHRpb25zIHdpdGggcmVzdHJpY3Rpb25zXG5cdCAqL1xuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHN0cmF0cy5lbCA9IHN0cmF0cy5wcm9wc0RhdGEgPSBmdW5jdGlvbiAocGFyZW50LCBjaGlsZCwgdm0sIGtleSkge1xuXHQgICAgaWYgKCF2bSkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgIFwib3B0aW9uIFxcXCJcIiArIGtleSArIFwiXFxcIiBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBpbnN0YW5jZSBcIiArXG5cdCAgICAgICAgJ2NyZWF0aW9uIHdpdGggdGhlIGBuZXdgIGtleXdvcmQuJ1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRlZmF1bHRTdHJhdChwYXJlbnQsIGNoaWxkKVxuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBIZWxwZXIgdGhhdCByZWN1cnNpdmVseSBtZXJnZXMgdHdvIGRhdGEgb2JqZWN0cyB0b2dldGhlci5cblx0ICovXG5cdGZ1bmN0aW9uIG1lcmdlRGF0YSAodG8sIGZyb20pIHtcblx0ICBpZiAoIWZyb20pIHsgcmV0dXJuIHRvIH1cblx0ICB2YXIga2V5LCB0b1ZhbCwgZnJvbVZhbDtcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyb20pO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAga2V5ID0ga2V5c1tpXTtcblx0ICAgIHRvVmFsID0gdG9ba2V5XTtcblx0ICAgIGZyb21WYWwgPSBmcm9tW2tleV07XG5cdCAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xuXHQgICAgICBzZXQodG8sIGtleSwgZnJvbVZhbCk7XG5cdCAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodG9WYWwpICYmIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcblx0ICAgICAgbWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRvXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEYXRhXG5cdCAqL1xuXHRzdHJhdHMuZGF0YSA9IGZ1bmN0aW9uIChcblx0ICBwYXJlbnRWYWwsXG5cdCAgY2hpbGRWYWwsXG5cdCAgdm1cblx0KSB7XG5cdCAgaWYgKCF2bSkge1xuXHQgICAgLy8gaW4gYSBWdWUuZXh0ZW5kIG1lcmdlLCBib3RoIHNob3VsZCBiZSBmdW5jdGlvbnNcblx0ICAgIGlmICghY2hpbGRWYWwpIHtcblx0ICAgICAgcmV0dXJuIHBhcmVudFZhbFxuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZiBjaGlsZFZhbCAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXG5cdCAgICAgICAgJ3RoYXQgcmV0dXJucyBhIHBlci1pbnN0YW5jZSB2YWx1ZSBpbiBjb21wb25lbnQgJyArXG5cdCAgICAgICAgJ2RlZmluaXRpb25zLicsXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgICAgcmV0dXJuIHBhcmVudFZhbFxuXHQgICAgfVxuXHQgICAgaWYgKCFwYXJlbnRWYWwpIHtcblx0ICAgICAgcmV0dXJuIGNoaWxkVmFsXG5cdCAgICB9XG5cdCAgICAvLyB3aGVuIHBhcmVudFZhbCAmIGNoaWxkVmFsIGFyZSBib3RoIHByZXNlbnQsXG5cdCAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcblx0ICAgIC8vIG1lcmdlZCByZXN1bHQgb2YgYm90aCBmdW5jdGlvbnMuLi4gbm8gbmVlZCB0b1xuXHQgICAgLy8gY2hlY2sgaWYgcGFyZW50VmFsIGlzIGEgZnVuY3Rpb24gaGVyZSBiZWNhdXNlXG5cdCAgICAvLyBpdCBoYXMgdG8gYmUgYSBmdW5jdGlvbiB0byBwYXNzIHByZXZpb3VzIG1lcmdlcy5cblx0ICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4gKCkge1xuXHQgICAgICByZXR1cm4gbWVyZ2VEYXRhKFxuXHQgICAgICAgIGNoaWxkVmFsLmNhbGwodGhpcyksXG5cdCAgICAgICAgcGFyZW50VmFsLmNhbGwodGhpcylcblx0ICAgICAgKVxuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAocGFyZW50VmFsIHx8IGNoaWxkVmFsKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkSW5zdGFuY2VEYXRhRm4gKCkge1xuXHQgICAgICAvLyBpbnN0YW5jZSBtZXJnZVxuXHQgICAgICB2YXIgaW5zdGFuY2VEYXRhID0gdHlwZW9mIGNoaWxkVmFsID09PSAnZnVuY3Rpb24nXG5cdCAgICAgICAgPyBjaGlsZFZhbC5jYWxsKHZtKVxuXHQgICAgICAgIDogY2hpbGRWYWw7XG5cdCAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbidcblx0ICAgICAgICA/IHBhcmVudFZhbC5jYWxsKHZtKVxuXHQgICAgICAgIDogdW5kZWZpbmVkO1xuXHQgICAgICBpZiAoaW5zdGFuY2VEYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIG1lcmdlRGF0YShpbnN0YW5jZURhdGEsIGRlZmF1bHREYXRhKVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBkZWZhdWx0RGF0YVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEhvb2tzIGFuZCBwYXJhbSBhdHRyaWJ1dGVzIGFyZSBtZXJnZWQgYXMgYXJyYXlzLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2VIb29rIChcblx0ICBwYXJlbnRWYWwsXG5cdCAgY2hpbGRWYWxcblx0KSB7XG5cdCAgcmV0dXJuIGNoaWxkVmFsXG5cdCAgICA/IHBhcmVudFZhbFxuXHQgICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpXG5cdCAgICAgIDogQXJyYXkuaXNBcnJheShjaGlsZFZhbClcblx0ICAgICAgICA/IGNoaWxkVmFsXG5cdCAgICAgICAgOiBbY2hpbGRWYWxdXG5cdCAgICA6IHBhcmVudFZhbFxuXHR9XG5cdFxuXHRjb25maWcuX2xpZmVjeWNsZUhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcblx0ICBzdHJhdHNbaG9va10gPSBtZXJnZUhvb2s7XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEFzc2V0c1xuXHQgKlxuXHQgKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvXG5cdCAqIGEgdGhyZWUtd2F5IG1lcmdlIGJldHdlZW4gY29uc3RydWN0b3Igb3B0aW9ucywgaW5zdGFuY2Vcblx0ICogb3B0aW9ucyBhbmQgcGFyZW50IG9wdGlvbnMuXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZUFzc2V0cyAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuXHQgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFZhbCB8fCBudWxsKTtcblx0ICByZXR1cm4gY2hpbGRWYWxcblx0ICAgID8gZXh0ZW5kKHJlcywgY2hpbGRWYWwpXG5cdCAgICA6IHJlc1xuXHR9XG5cdFxuXHRjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuXHQgIHN0cmF0c1t0eXBlICsgJ3MnXSA9IG1lcmdlQXNzZXRzO1xuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBXYXRjaGVycy5cblx0ICpcblx0ICogV2F0Y2hlcnMgaGFzaGVzIHNob3VsZCBub3Qgb3ZlcndyaXRlIG9uZVxuXHQgKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cblx0ICovXG5cdHN0cmF0cy53YXRjaCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gcGFyZW50VmFsIH1cblx0ICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuXHQgIHZhciByZXQgPSB7fTtcblx0ICBleHRlbmQocmV0LCBwYXJlbnRWYWwpO1xuXHQgIGZvciAodmFyIGtleSBpbiBjaGlsZFZhbCkge1xuXHQgICAgdmFyIHBhcmVudCA9IHJldFtrZXldO1xuXHQgICAgdmFyIGNoaWxkID0gY2hpbGRWYWxba2V5XTtcblx0ICAgIGlmIChwYXJlbnQgJiYgIUFycmF5LmlzQXJyYXkocGFyZW50KSkge1xuXHQgICAgICBwYXJlbnQgPSBbcGFyZW50XTtcblx0ICAgIH1cblx0ICAgIHJldFtrZXldID0gcGFyZW50XG5cdCAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZClcblx0ICAgICAgOiBbY2hpbGRdO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0XG5cdH07XG5cdFxuXHQvKipcblx0ICogT3RoZXIgb2JqZWN0IGhhc2hlcy5cblx0ICovXG5cdHN0cmF0cy5wcm9wcyA9XG5cdHN0cmF0cy5tZXRob2RzID1cblx0c3RyYXRzLmNvbXB1dGVkID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcblx0ICBpZiAoIWNoaWxkVmFsKSB7IHJldHVybiBwYXJlbnRWYWwgfVxuXHQgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG5cdCAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcblx0ICBleHRlbmQocmV0LCBjaGlsZFZhbCk7XG5cdCAgcmV0dXJuIHJldFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERlZmF1bHQgc3RyYXRlZ3kuXG5cdCAqL1xuXHR2YXIgZGVmYXVsdFN0cmF0ID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcblx0ICByZXR1cm4gY2hpbGRWYWwgPT09IHVuZGVmaW5lZFxuXHQgICAgPyBwYXJlbnRWYWxcblx0ICAgIDogY2hpbGRWYWxcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBWYWxpZGF0ZSBjb21wb25lbnQgbmFtZXNcblx0ICovXG5cdGZ1bmN0aW9uIGNoZWNrQ29tcG9uZW50cyAob3B0aW9ucykge1xuXHQgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmNvbXBvbmVudHMpIHtcblx0ICAgIHZhciBsb3dlciA9IGtleS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgaWYgKGlzQnVpbHRJblRhZyhsb3dlcikgfHwgY29uZmlnLmlzUmVzZXJ2ZWRUYWcobG93ZXIpKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgJyArXG5cdCAgICAgICAgJ2lkOiAnICsga2V5XG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlXG5cdCAqIE9iamVjdC1iYXNlZCBmb3JtYXQuXG5cdCAqL1xuXHRmdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucykge1xuXHQgIHZhciBwcm9wcyA9IG9wdGlvbnMucHJvcHM7XG5cdCAgaWYgKCFwcm9wcykgeyByZXR1cm4gfVxuXHQgIHZhciByZXMgPSB7fTtcblx0ICB2YXIgaSwgdmFsLCBuYW1lO1xuXHQgIGlmIChBcnJheS5pc0FycmF5KHByb3BzKSkge1xuXHQgICAgaSA9IHByb3BzLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgdmFsID0gcHJvcHNbaV07XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIG5hbWUgPSBjYW1lbGl6ZSh2YWwpO1xuXHQgICAgICAgIHJlc1tuYW1lXSA9IHsgdHlwZTogbnVsbCB9O1xuXHQgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICB3YXJuKCdwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocHJvcHMpKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcblx0ICAgICAgdmFsID0gcHJvcHNba2V5XTtcblx0ICAgICAgbmFtZSA9IGNhbWVsaXplKGtleSk7XG5cdCAgICAgIHJlc1tuYW1lXSA9IGlzUGxhaW5PYmplY3QodmFsKVxuXHQgICAgICAgID8gdmFsXG5cdCAgICAgICAgOiB7IHR5cGU6IHZhbCB9O1xuXHQgICAgfVxuXHQgIH1cblx0ICBvcHRpb25zLnByb3BzID0gcmVzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cblx0ICovXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMgKG9wdGlvbnMpIHtcblx0ICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcblx0ICBpZiAoZGlycykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGRpcnMpIHtcblx0ICAgICAgdmFyIGRlZiA9IGRpcnNba2V5XTtcblx0ICAgICAgaWYgKHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBkaXJzW2tleV0gPSB7IGJpbmQ6IGRlZiwgdXBkYXRlOiBkZWYgfTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIE1lcmdlIHR3byBvcHRpb24gb2JqZWN0cyBpbnRvIGEgbmV3IG9uZS5cblx0ICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cblx0ICovXG5cdGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyAoXG5cdCAgcGFyZW50LFxuXHQgIGNoaWxkLFxuXHQgIHZtXG5cdCkge1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBjaGVja0NvbXBvbmVudHMoY2hpbGQpO1xuXHQgIH1cblx0ICBub3JtYWxpemVQcm9wcyhjaGlsZCk7XG5cdCAgbm9ybWFsaXplRGlyZWN0aXZlcyhjaGlsZCk7XG5cdCAgdmFyIGV4dGVuZHNGcm9tID0gY2hpbGQuZXh0ZW5kcztcblx0ICBpZiAoZXh0ZW5kc0Zyb20pIHtcblx0ICAgIHBhcmVudCA9IHR5cGVvZiBleHRlbmRzRnJvbSA9PT0gJ2Z1bmN0aW9uJ1xuXHQgICAgICA/IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGV4dGVuZHNGcm9tLm9wdGlvbnMsIHZtKVxuXHQgICAgICA6IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGV4dGVuZHNGcm9tLCB2bSk7XG5cdCAgfVxuXHQgIGlmIChjaGlsZC5taXhpbnMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICB2YXIgbWl4aW4gPSBjaGlsZC5taXhpbnNbaV07XG5cdCAgICAgIGlmIChtaXhpbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBWdWUkMikge1xuXHQgICAgICAgIG1peGluID0gbWl4aW4ub3B0aW9ucztcblx0ICAgICAgfVxuXHQgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBtaXhpbiwgdm0pO1xuXHQgICAgfVxuXHQgIH1cblx0ICB2YXIgb3B0aW9ucyA9IHt9O1xuXHQgIHZhciBrZXk7XG5cdCAgZm9yIChrZXkgaW4gcGFyZW50KSB7XG5cdCAgICBtZXJnZUZpZWxkKGtleSk7XG5cdCAgfVxuXHQgIGZvciAoa2V5IGluIGNoaWxkKSB7XG5cdCAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcblx0ICAgICAgbWVyZ2VGaWVsZChrZXkpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBmdW5jdGlvbiBtZXJnZUZpZWxkIChrZXkpIHtcblx0ICAgIHZhciBzdHJhdCA9IHN0cmF0c1trZXldIHx8IGRlZmF1bHRTdHJhdDtcblx0ICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIG9wdGlvbnNcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJlc29sdmUgYW4gYXNzZXQuXG5cdCAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBiZWNhdXNlIGNoaWxkIGluc3RhbmNlcyBuZWVkIGFjY2Vzc1xuXHQgKiB0byBhc3NldHMgZGVmaW5lZCBpbiBpdHMgYW5jZXN0b3IgY2hhaW4uXG5cdCAqL1xuXHRmdW5jdGlvbiByZXNvbHZlQXNzZXQgKFxuXHQgIG9wdGlvbnMsXG5cdCAgdHlwZSxcblx0ICBpZCxcblx0ICB3YXJuTWlzc2luZ1xuXHQpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBhc3NldHMgPSBvcHRpb25zW3R5cGVdO1xuXHQgIHZhciByZXMgPSBhc3NldHNbaWRdIHx8XG5cdCAgICAvLyBjYW1lbENhc2UgSURcblx0ICAgIGFzc2V0c1tjYW1lbGl6ZShpZCldIHx8XG5cdCAgICAvLyBQYXNjYWwgQ2FzZSBJRFxuXHQgICAgYXNzZXRzW2NhcGl0YWxpemUoY2FtZWxpemUoaWQpKV07XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuXHQgICAgd2Fybihcblx0ICAgICAgJ0ZhaWxlZCB0byByZXNvbHZlICcgKyB0eXBlLnNsaWNlKDAsIC0xKSArICc6ICcgKyBpZCxcblx0ICAgICAgb3B0aW9uc1xuXHQgICAgKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIHZhbGlkYXRlUHJvcCAoXG5cdCAga2V5LFxuXHQgIHByb3BPcHRpb25zLFxuXHQgIHByb3BzRGF0YSxcblx0ICB2bVxuXHQpIHtcblx0ICB2YXIgcHJvcCA9IHByb3BPcHRpb25zW2tleV07XG5cdCAgdmFyIGFic2VudCA9ICFoYXNPd24ocHJvcHNEYXRhLCBrZXkpO1xuXHQgIHZhciB2YWx1ZSA9IHByb3BzRGF0YVtrZXldO1xuXHQgIC8vIGhhbmRsZSBib29sZWFuIHByb3BzXG5cdCAgaWYgKGlzQm9vbGVhblR5cGUocHJvcC50eXBlKSkge1xuXHQgICAgaWYgKGFic2VudCAmJiAhaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcblx0ICAgICAgdmFsdWUgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkge1xuXHQgICAgICB2YWx1ZSA9IHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGNoZWNrIGRlZmF1bHQgdmFsdWVcblx0ICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgdmFsdWUgPSBnZXRQcm9wRGVmYXVsdFZhbHVlKHZtLCBwcm9wLCBrZXkpO1xuXHQgICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBmcmVzaCBjb3B5LFxuXHQgICAgLy8gbWFrZSBzdXJlIHRvIG9ic2VydmUgaXQuXG5cdCAgICB2YXIgcHJldlNob3VsZENvbnZlcnQgPSBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQ7XG5cdCAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuXHQgICAgb2JzZXJ2ZSh2YWx1ZSk7XG5cdCAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBwcmV2U2hvdWxkQ29udmVydDtcblx0ICB9XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7XG5cdCAgfVxuXHQgIHJldHVybiB2YWx1ZVxuXHR9XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcHJvcC5cblx0ICovXG5cdGZ1bmN0aW9uIGdldFByb3BEZWZhdWx0VmFsdWUgKHZtLCBwcm9wLCBrZXkpIHtcblx0ICAvLyBubyBkZWZhdWx0LCByZXR1cm4gdW5kZWZpbmVkXG5cdCAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuXHQgICAgcmV0dXJuIHVuZGVmaW5lZFxuXHQgIH1cblx0ICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0O1xuXHQgIC8vIHdhcm4gYWdhaW5zdCBub24tZmFjdG9yeSBkZWZhdWx0cyBmb3IgT2JqZWN0ICYgQXJyYXlcblx0ICBpZiAoaXNPYmplY3QoZGVmKSkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAnSW52YWxpZCBkZWZhdWx0IHZhbHVlIGZvciBwcm9wIFwiJyArIGtleSArICdcIjogJyArXG5cdCAgICAgICdQcm9wcyB3aXRoIHR5cGUgT2JqZWN0L0FycmF5IG11c3QgdXNlIGEgZmFjdG9yeSBmdW5jdGlvbiAnICtcblx0ICAgICAgJ3RvIHJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZS4nLFxuXHQgICAgICB2bVxuXHQgICAgKTtcblx0ICB9XG5cdCAgLy8gdGhlIHJhdyBwcm9wIHZhbHVlIHdhcyBhbHNvIHVuZGVmaW5lZCBmcm9tIHByZXZpb3VzIHJlbmRlcixcblx0ICAvLyByZXR1cm4gcHJldmlvdXMgZGVmYXVsdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YXRjaGVyIHRyaWdnZXJcblx0ICBpZiAodm0gJiYgdm0uJG9wdGlvbnMucHJvcHNEYXRhICYmXG5cdCAgICB2bS4kb3B0aW9ucy5wcm9wc0RhdGFba2V5XSA9PT0gdW5kZWZpbmVkICYmXG5cdCAgICB2bVtrZXldICE9PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiB2bVtrZXldXG5cdCAgfVxuXHQgIC8vIGNhbGwgZmFjdG9yeSBmdW5jdGlvbiBmb3Igbm9uLUZ1bmN0aW9uIHR5cGVzXG5cdCAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgcHJvcC50eXBlICE9PSBGdW5jdGlvblxuXHQgICAgPyBkZWYuY2FsbCh2bSlcblx0ICAgIDogZGVmXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnRQcm9wIChcblx0ICBwcm9wLFxuXHQgIG5hbWUsXG5cdCAgdmFsdWUsXG5cdCAgdm0sXG5cdCAgYWJzZW50XG5cdCkge1xuXHQgIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkge1xuXHQgICAgd2Fybihcblx0ICAgICAgJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicsXG5cdCAgICAgIHZtXG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIHR5cGUgPSBwcm9wLnR5cGU7XG5cdCAgdmFyIHZhbGlkID0gIXR5cGUgfHwgdHlwZSA9PT0gdHJ1ZTtcblx0ICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuXHQgIGlmICh0eXBlKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZSkpIHtcblx0ICAgICAgdHlwZSA9IFt0eXBlXTtcblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGggJiYgIXZhbGlkOyBpKyspIHtcblx0ICAgICAgdmFyIGFzc2VydGVkVHlwZSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVbaV0pO1xuXHQgICAgICBleHBlY3RlZFR5cGVzLnB1c2goYXNzZXJ0ZWRUeXBlLmV4cGVjdGVkVHlwZSk7XG5cdCAgICAgIHZhbGlkID0gYXNzZXJ0ZWRUeXBlLnZhbGlkO1xuXHQgICAgfVxuXHQgIH1cblx0ICBpZiAoIXZhbGlkKSB7XG5cdCAgICB3YXJuKFxuXHQgICAgICAnSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicgK1xuXHQgICAgICAnIEV4cGVjdGVkICcgKyBleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpICtcblx0ICAgICAgJywgZ290ICcgKyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSArICcuJyxcblx0ICAgICAgdm1cblx0ICAgICk7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIHZhbGlkYXRvciA9IHByb3AudmFsaWRhdG9yO1xuXHQgIGlmICh2YWxpZGF0b3IpIHtcblx0ICAgIGlmICghdmFsaWRhdG9yKHZhbHVlKSkge1xuXHQgICAgICB3YXJuKFxuXHQgICAgICAgICdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyxcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEFzc2VydCB0aGUgdHlwZSBvZiBhIHZhbHVlXG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnRUeXBlICh2YWx1ZSwgdHlwZSkge1xuXHQgIHZhciB2YWxpZDtcblx0ICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcblx0ICBpZiAoZXhwZWN0ZWRUeXBlID09PSAnU3RyaW5nJykge1xuXHQgICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnc3RyaW5nJyk7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdOdW1iZXInKSB7XG5cdCAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdudW1iZXInKTtcblx0ICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0Jvb2xlYW4nKSB7XG5cdCAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdib29sZWFuJyk7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdGdW5jdGlvbicpIHtcblx0ICAgIHZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAoZXhwZWN0ZWRUeXBlID0gJ2Z1bmN0aW9uJyk7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XG5cdCAgICB2YWxpZCA9IGlzUGxhaW5PYmplY3QodmFsdWUpO1xuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XG5cdCAgICB2YWxpZCA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcblx0ICB9XG5cdCAgcmV0dXJuIHtcblx0ICAgIHZhbGlkOiB2YWxpZCxcblx0ICAgIGV4cGVjdGVkVHlwZTogZXhwZWN0ZWRUeXBlXG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogVXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIGJ1aWx0LWluIHR5cGVzLFxuXHQgKiBiZWNhdXNlIGEgc2ltcGxlIGVxdWFsaXR5IGNoZWNrIHdpbGwgZmFpbCB3aGVuIHJ1bm5pbmdcblx0ICogYWNyb3NzIGRpZmZlcmVudCB2bXMgLyBpZnJhbWVzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0VHlwZSAoZm4pIHtcblx0ICB2YXIgbWF0Y2ggPSBmbiAmJiBmbi50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xuXHQgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0Jvb2xlYW5UeXBlIChmbikge1xuXHQgIGlmICghQXJyYXkuaXNBcnJheShmbikpIHtcblx0ICAgIHJldHVybiBnZXRUeXBlKGZuKSA9PT0gJ0Jvb2xlYW4nXG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgaWYgKGdldFR5cGUoZm5baV0pID09PSAnQm9vbGVhbicpIHtcblx0ICAgICAgcmV0dXJuIHRydWVcblx0ICAgIH1cblx0ICB9XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICByZXR1cm4gZmFsc2Vcblx0fVxuXHRcblx0XG5cdFxuXHR2YXIgdXRpbCA9IE9iamVjdC5mcmVlemUoe1xuXHRcdGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMSxcblx0XHRfdG9TdHJpbmc6IF90b1N0cmluZyxcblx0XHR0b051bWJlcjogdG9OdW1iZXIsXG5cdFx0bWFrZU1hcDogbWFrZU1hcCxcblx0XHRpc0J1aWx0SW5UYWc6IGlzQnVpbHRJblRhZyxcblx0XHRyZW1vdmU6IHJlbW92ZSQxLFxuXHRcdGhhc093bjogaGFzT3duLFxuXHRcdGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcblx0XHRjYWNoZWQ6IGNhY2hlZCxcblx0XHRjYW1lbGl6ZTogY2FtZWxpemUsXG5cdFx0Y2FwaXRhbGl6ZTogY2FwaXRhbGl6ZSxcblx0XHRoeXBoZW5hdGU6IGh5cGhlbmF0ZSxcblx0XHRiaW5kOiBiaW5kJDEsXG5cdFx0dG9BcnJheTogdG9BcnJheSxcblx0XHRleHRlbmQ6IGV4dGVuZCxcblx0XHRpc09iamVjdDogaXNPYmplY3QsXG5cdFx0aXNQbGFpbk9iamVjdDogaXNQbGFpbk9iamVjdCxcblx0XHR0b09iamVjdDogdG9PYmplY3QsXG5cdFx0bm9vcDogbm9vcCxcblx0XHRubzogbm8sXG5cdFx0Z2VuU3RhdGljS2V5czogZ2VuU3RhdGljS2V5cyxcblx0XHRsb29zZUVxdWFsOiBsb29zZUVxdWFsLFxuXHRcdGxvb3NlSW5kZXhPZjogbG9vc2VJbmRleE9mLFxuXHRcdGlzUmVzZXJ2ZWQ6IGlzUmVzZXJ2ZWQsXG5cdFx0ZGVmOiBkZWYsXG5cdFx0cGFyc2VQYXRoOiBwYXJzZVBhdGgsXG5cdFx0aGFzUHJvdG86IGhhc1Byb3RvLFxuXHRcdGluQnJvd3NlcjogaW5Ccm93c2VyLFxuXHRcdFVBOiBVQSxcblx0XHRpc0lFOiBpc0lFLFxuXHRcdGlzSUU5OiBpc0lFOSxcblx0XHRpc0VkZ2U6IGlzRWRnZSxcblx0XHRpc0FuZHJvaWQ6IGlzQW5kcm9pZCxcblx0XHRpc0lPUzogaXNJT1MsXG5cdFx0aXNTZXJ2ZXJSZW5kZXJpbmc6IGlzU2VydmVyUmVuZGVyaW5nLFxuXHRcdGRldnRvb2xzOiBkZXZ0b29scyxcblx0XHRuZXh0VGljazogbmV4dFRpY2ssXG5cdFx0Z2V0IF9TZXQgKCkgeyByZXR1cm4gX1NldDsgfSxcblx0XHRtZXJnZU9wdGlvbnM6IG1lcmdlT3B0aW9ucyxcblx0XHRyZXNvbHZlQXNzZXQ6IHJlc29sdmVBc3NldCxcblx0XHRnZXQgd2FybiAoKSB7IHJldHVybiB3YXJuOyB9LFxuXHRcdGdldCBmb3JtYXRDb21wb25lbnROYW1lICgpIHsgcmV0dXJuIGZvcm1hdENvbXBvbmVudE5hbWU7IH0sXG5cdFx0dmFsaWRhdGVQcm9wOiB2YWxpZGF0ZVByb3Bcblx0fSk7XG5cdFxuXHQvKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblx0XG5cdHZhciBpbml0UHJveHk7XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBhbGxvd2VkR2xvYmFscyA9IG1ha2VNYXAoXG5cdCAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcblx0ICAgICdwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSxkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCwnICtcblx0ICAgICdNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsJyArXG5cdCAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuXHQgICk7XG5cdFxuXHQgIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuXHQgICAgd2Fybihcblx0ICAgICAgXCJQcm9wZXJ0eSBvciBtZXRob2QgXFxcIlwiICsga2V5ICsgXCJcXFwiIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBpbnN0YW5jZSBidXQgXCIgK1xuXHQgICAgICBcInJlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRvIGRlY2xhcmUgcmVhY3RpdmUgZGF0YSBcIiArXG5cdCAgICAgIFwicHJvcGVydGllcyBpbiB0aGUgZGF0YSBvcHRpb24uXCIsXG5cdCAgICAgIHRhcmdldFxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICB2YXIgaGFzUHJveHkgPVxuXHQgICAgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgUHJveHkudG9TdHJpbmcoKS5tYXRjaCgvbmF0aXZlIGNvZGUvKTtcblx0XG5cdCAgdmFyIGhhc0hhbmRsZXIgPSB7XG5cdCAgICBoYXM6IGZ1bmN0aW9uIGhhcyAodGFyZ2V0LCBrZXkpIHtcblx0ICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XG5cdCAgICAgIHZhciBpc0FsbG93ZWQgPSBhbGxvd2VkR2xvYmFscyhrZXkpIHx8IGtleS5jaGFyQXQoMCkgPT09ICdfJztcblx0ICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkge1xuXHQgICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaGFzIHx8ICFpc0FsbG93ZWRcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgZ2V0SGFuZGxlciA9IHtcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0ICh0YXJnZXQsIGtleSkge1xuXHQgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIShrZXkgaW4gdGFyZ2V0KSkge1xuXHQgICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGFyZ2V0W2tleV1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkgKHZtKSB7XG5cdCAgICBpZiAoaGFzUHJveHkpIHtcblx0ICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIHByb3h5IGhhbmRsZXIgdG8gdXNlXG5cdCAgICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG5cdCAgICAgIHZhciBoYW5kbGVycyA9IG9wdGlvbnMucmVuZGVyICYmIG9wdGlvbnMucmVuZGVyLl93aXRoU3RyaXBwZWRcblx0ICAgICAgICA/IGdldEhhbmRsZXJcblx0ICAgICAgICA6IGhhc0hhbmRsZXI7XG5cdCAgICAgIHZtLl9yZW5kZXJQcm94eSA9IG5ldyBQcm94eSh2bSwgaGFuZGxlcnMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBoYXMkMSA9IHt9O1xuXHR2YXIgY2lyY3VsYXIgPSB7fTtcblx0dmFyIHdhaXRpbmcgPSBmYWxzZTtcblx0dmFyIGZsdXNoaW5nID0gZmFsc2U7XG5cdHZhciBpbmRleCA9IDA7XG5cdFxuXHQvKipcblx0ICogUmVzZXQgdGhlIHNjaGVkdWxlcidzIHN0YXRlLlxuXHQgKi9cblx0ZnVuY3Rpb24gcmVzZXRTY2hlZHVsZXJTdGF0ZSAoKSB7XG5cdCAgcXVldWUubGVuZ3RoID0gMDtcblx0ICBoYXMkMSA9IHt9O1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBjaXJjdWxhciA9IHt9O1xuXHQgIH1cblx0ICB3YWl0aW5nID0gZmx1c2hpbmcgPSBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEZsdXNoIGJvdGggcXVldWVzIGFuZCBydW4gdGhlIHdhdGNoZXJzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZmx1c2hTY2hlZHVsZXJRdWV1ZSAoKSB7XG5cdCAgZmx1c2hpbmcgPSB0cnVlO1xuXHRcblx0ICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cblx0ICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcblx0ICAvLyAxLiBDb21wb25lbnRzIGFyZSB1cGRhdGVkIGZyb20gcGFyZW50IHRvIGNoaWxkLiAoYmVjYXVzZSBwYXJlbnQgaXMgYWx3YXlzXG5cdCAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxuXHQgIC8vIDIuIEEgY29tcG9uZW50J3MgdXNlciB3YXRjaGVycyBhcmUgcnVuIGJlZm9yZSBpdHMgcmVuZGVyIHdhdGNoZXIgKGJlY2F1c2Vcblx0ICAvLyAgICB1c2VyIHdhdGNoZXJzIGFyZSBjcmVhdGVkIGJlZm9yZSB0aGUgcmVuZGVyIHdhdGNoZXIpXG5cdCAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcblx0ICAvLyAgICBpdHMgd2F0Y2hlcnMgY2FuIGJlIHNraXBwZWQuXG5cdCAgcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pO1xuXHRcblx0ICAvLyBkbyBub3QgY2FjaGUgbGVuZ3RoIGJlY2F1c2UgbW9yZSB3YXRjaGVycyBtaWdodCBiZSBwdXNoZWRcblx0ICAvLyBhcyB3ZSBydW4gZXhpc3Rpbmcgd2F0Y2hlcnNcblx0ICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBxdWV1ZS5sZW5ndGg7IGluZGV4KyspIHtcblx0ICAgIHZhciB3YXRjaGVyID0gcXVldWVbaW5kZXhdO1xuXHQgICAgdmFyIGlkID0gd2F0Y2hlci5pZDtcblx0ICAgIGhhcyQxW2lkXSA9IG51bGw7XG5cdCAgICB3YXRjaGVyLnJ1bigpO1xuXHQgICAgLy8gaW4gZGV2IGJ1aWxkLCBjaGVjayBhbmQgc3RvcCBjaXJjdWxhciB1cGRhdGVzLlxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzJDFbaWRdICE9IG51bGwpIHtcblx0ICAgICAgY2lyY3VsYXJbaWRdID0gKGNpcmN1bGFyW2lkXSB8fCAwKSArIDE7XG5cdCAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBjb25maWcuX21heFVwZGF0ZUNvdW50KSB7XG5cdCAgICAgICAgd2Fybihcblx0ICAgICAgICAgICdZb3UgbWF5IGhhdmUgYW4gaW5maW5pdGUgdXBkYXRlIGxvb3AgJyArIChcblx0ICAgICAgICAgICAgd2F0Y2hlci51c2VyXG5cdCAgICAgICAgICAgICAgPyAoXCJpbiB3YXRjaGVyIHdpdGggZXhwcmVzc2lvbiBcXFwiXCIgKyAod2F0Y2hlci5leHByZXNzaW9uKSArIFwiXFxcIlwiKVxuXHQgICAgICAgICAgICAgIDogXCJpbiBhIGNvbXBvbmVudCByZW5kZXIgZnVuY3Rpb24uXCJcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICB3YXRjaGVyLnZtXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBicmVha1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBkZXZ0b29sIGhvb2tcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XG5cdCAgICBkZXZ0b29scy5lbWl0KCdmbHVzaCcpO1xuXHQgIH1cblx0XG5cdCAgcmVzZXRTY2hlZHVsZXJTdGF0ZSgpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUHVzaCBhIHdhdGNoZXIgaW50byB0aGUgd2F0Y2hlciBxdWV1ZS5cblx0ICogSm9icyB3aXRoIGR1cGxpY2F0ZSBJRHMgd2lsbCBiZSBza2lwcGVkIHVubGVzcyBpdCdzXG5cdCAqIHB1c2hlZCB3aGVuIHRoZSBxdWV1ZSBpcyBiZWluZyBmbHVzaGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gcXVldWVXYXRjaGVyICh3YXRjaGVyKSB7XG5cdCAgdmFyIGlkID0gd2F0Y2hlci5pZDtcblx0ICBpZiAoaGFzJDFbaWRdID09IG51bGwpIHtcblx0ICAgIGhhcyQxW2lkXSA9IHRydWU7XG5cdCAgICBpZiAoIWZsdXNoaW5nKSB7XG5cdCAgICAgIHF1ZXVlLnB1c2god2F0Y2hlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBpZiBhbHJlYWR5IGZsdXNoaW5nLCBzcGxpY2UgdGhlIHdhdGNoZXIgYmFzZWQgb24gaXRzIGlkXG5cdCAgICAgIC8vIGlmIGFscmVhZHkgcGFzdCBpdHMgaWQsIGl0IHdpbGwgYmUgcnVuIG5leHQgaW1tZWRpYXRlbHkuXG5cdCAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTtcblx0ICAgICAgd2hpbGUgKGkgPj0gMCAmJiBxdWV1ZVtpXS5pZCA+IHdhdGNoZXIuaWQpIHtcblx0ICAgICAgICBpLS07XG5cdCAgICAgIH1cblx0ICAgICAgcXVldWUuc3BsaWNlKE1hdGgubWF4KGksIGluZGV4KSArIDEsIDAsIHdhdGNoZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gcXVldWUgdGhlIGZsdXNoXG5cdCAgICBpZiAoIXdhaXRpbmcpIHtcblx0ICAgICAgd2FpdGluZyA9IHRydWU7XG5cdCAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgdWlkJDIgPSAwO1xuXHRcblx0LyoqXG5cdCAqIEEgd2F0Y2hlciBwYXJzZXMgYW4gZXhwcmVzc2lvbiwgY29sbGVjdHMgZGVwZW5kZW5jaWVzLFxuXHQgKiBhbmQgZmlyZXMgY2FsbGJhY2sgd2hlbiB0aGUgZXhwcmVzc2lvbiB2YWx1ZSBjaGFuZ2VzLlxuXHQgKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy5cblx0ICovXG5cdHZhciBXYXRjaGVyID0gZnVuY3Rpb24gV2F0Y2hlciAoXG5cdCAgdm0sXG5cdCAgZXhwT3JGbixcblx0ICBjYixcblx0ICBvcHRpb25zXG5cdCkge1xuXHQgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXHRcblx0ICB0aGlzLnZtID0gdm07XG5cdCAgdm0uX3dhdGNoZXJzLnB1c2godGhpcyk7XG5cdCAgLy8gb3B0aW9uc1xuXHQgIHRoaXMuZGVlcCA9ICEhb3B0aW9ucy5kZWVwO1xuXHQgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyO1xuXHQgIHRoaXMubGF6eSA9ICEhb3B0aW9ucy5sYXp5O1xuXHQgIHRoaXMuc3luYyA9ICEhb3B0aW9ucy5zeW5jO1xuXHQgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cE9yRm4udG9TdHJpbmcoKTtcblx0ICB0aGlzLmNiID0gY2I7XG5cdCAgdGhpcy5pZCA9ICsrdWlkJDI7IC8vIHVpZCBmb3IgYmF0Y2hpbmdcblx0ICB0aGlzLmFjdGl2ZSA9IHRydWU7XG5cdCAgdGhpcy5kaXJ0eSA9IHRoaXMubGF6eTsgLy8gZm9yIGxhenkgd2F0Y2hlcnNcblx0ICB0aGlzLmRlcHMgPSBbXTtcblx0ICB0aGlzLm5ld0RlcHMgPSBbXTtcblx0ICB0aGlzLmRlcElkcyA9IG5ldyBfU2V0KCk7XG5cdCAgdGhpcy5uZXdEZXBJZHMgPSBuZXcgX1NldCgpO1xuXHQgIC8vIHBhcnNlIGV4cHJlc3Npb24gZm9yIGdldHRlclxuXHQgIGlmICh0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhpcy5nZXR0ZXIgPSBleHBPckZuO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0aGlzLmdldHRlciA9IHBhcnNlUGF0aChleHBPckZuKTtcblx0ICAgIGlmICghdGhpcy5nZXR0ZXIpIHtcblx0ICAgICAgdGhpcy5nZXR0ZXIgPSBmdW5jdGlvbiAoKSB7fTtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgIFwiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFxcXCJcIiArIGV4cE9yRm4gKyBcIlxcXCIgXCIgK1xuXHQgICAgICAgICdXYXRjaGVyIG9ubHkgYWNjZXB0cyBzaW1wbGUgZG90LWRlbGltaXRlZCBwYXRocy4gJyArXG5cdCAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJyxcblx0ICAgICAgICB2bVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1cblx0ICB0aGlzLnZhbHVlID0gdGhpcy5sYXp5XG5cdCAgICA/IHVuZGVmaW5lZFxuXHQgICAgOiB0aGlzLmdldCgpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEV2YWx1YXRlIHRoZSBnZXR0ZXIsIGFuZCByZS1jb2xsZWN0IGRlcGVuZGVuY2llcy5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoKSB7XG5cdCAgcHVzaFRhcmdldCh0aGlzKTtcblx0ICB2YXIgdmFsdWUgPSB0aGlzLmdldHRlci5jYWxsKHRoaXMudm0sIHRoaXMudm0pO1xuXHQgIC8vIFwidG91Y2hcIiBldmVyeSBwcm9wZXJ0eSBzbyB0aGV5IGFyZSBhbGwgdHJhY2tlZCBhc1xuXHQgIC8vIGRlcGVuZGVuY2llcyBmb3IgZGVlcCB3YXRjaGluZ1xuXHQgIGlmICh0aGlzLmRlZXApIHtcblx0ICAgIHRyYXZlcnNlKHZhbHVlKTtcblx0ICB9XG5cdCAgcG9wVGFyZ2V0KCk7XG5cdCAgdGhpcy5jbGVhbnVwRGVwcygpO1xuXHQgIHJldHVybiB2YWx1ZVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkZCBhIGRlcGVuZGVuY3kgdG8gdGhpcyBkaXJlY3RpdmUuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkge1xuXHQgIHZhciBpZCA9IGRlcC5pZDtcblx0ICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhpZCkpIHtcblx0ICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7XG5cdCAgICB0aGlzLm5ld0RlcHMucHVzaChkZXApO1xuXHQgICAgaWYgKCF0aGlzLmRlcElkcy5oYXMoaWQpKSB7XG5cdCAgICAgIGRlcC5hZGRTdWIodGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENsZWFuIHVwIGZvciBkZXBlbmRlbmN5IGNvbGxlY3Rpb24uXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5jbGVhbnVwRGVwcyA9IGZ1bmN0aW9uIGNsZWFudXBEZXBzICgpIHtcblx0ICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXHRcblx0ICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG5cdCAgd2hpbGUgKGktLSkge1xuXHQgICAgdmFyIGRlcCA9IHRoaXMkMS5kZXBzW2ldO1xuXHQgICAgaWYgKCF0aGlzJDEubmV3RGVwSWRzLmhhcyhkZXAuaWQpKSB7XG5cdCAgICAgIGRlcC5yZW1vdmVTdWIodGhpcyQxKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIHRtcCA9IHRoaXMuZGVwSWRzO1xuXHQgIHRoaXMuZGVwSWRzID0gdGhpcy5uZXdEZXBJZHM7XG5cdCAgdGhpcy5uZXdEZXBJZHMgPSB0bXA7XG5cdCAgdGhpcy5uZXdEZXBJZHMuY2xlYXIoKTtcblx0ICB0bXAgPSB0aGlzLmRlcHM7XG5cdCAgdGhpcy5kZXBzID0gdGhpcy5uZXdEZXBzO1xuXHQgIHRoaXMubmV3RGVwcyA9IHRtcDtcblx0ICB0aGlzLm5ld0RlcHMubGVuZ3RoID0gMDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTdWJzY3JpYmVyIGludGVyZmFjZS5cblx0ICogV2lsbCBiZSBjYWxsZWQgd2hlbiBhIGRlcGVuZGVuY3kgY2hhbmdlcy5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICBpZiAodGhpcy5sYXp5KSB7XG5cdCAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0ICB9IGVsc2UgaWYgKHRoaXMuc3luYykge1xuXHQgICAgdGhpcy5ydW4oKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcXVldWVXYXRjaGVyKHRoaXMpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS5cblx0ICogV2lsbCBiZSBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlci5cblx0ICovXG5cdFdhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIHJ1biAoKSB7XG5cdCAgaWYgKHRoaXMuYWN0aXZlKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xuXHQgICAgICBpZiAoXG5cdCAgICAgICAgdmFsdWUgIT09IHRoaXMudmFsdWUgfHxcblx0ICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuXG5cdCAgICAgIC8vIHdoZW4gdGhlIHZhbHVlIGlzIHRoZSBzYW1lLCBiZWNhdXNlIHRoZSB2YWx1ZSBtYXlcblx0ICAgICAgLy8gaGF2ZSBtdXRhdGVkLlxuXHQgICAgICBpc09iamVjdCh2YWx1ZSkgfHxcblx0ICAgICAgdGhpcy5kZWVwXG5cdCAgICApIHtcblx0ICAgICAgLy8gc2V0IG5ldyB2YWx1ZVxuXHQgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuXHQgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG5cdCAgICAgIGlmICh0aGlzLnVzZXIpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgICAgICAoXCJFcnJvciBpbiB3YXRjaGVyIFxcXCJcIiArICh0aGlzLmV4cHJlc3Npb24pICsgXCJcXFwiXCIpLFxuXHQgICAgICAgICAgICB0aGlzLnZtXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICAgICAgICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7XG5cdCAgICAgICAgICAgIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlLCB0aGlzLnZtKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRocm93IGVcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogRXZhbHVhdGUgdGhlIHZhbHVlIG9mIHRoZSB3YXRjaGVyLlxuXHQgKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIGV2YWx1YXRlICgpIHtcblx0ICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcblx0ICB0aGlzLmRpcnR5ID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiBkZXBlbmQgKCkge1xuXHQgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cdFxuXHQgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcblx0ICB3aGlsZSAoaS0tKSB7XG5cdCAgICB0aGlzJDEuZGVwc1tpXS5kZXBlbmQoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlIHNlbGYgZnJvbSBhbGwgZGVwZW5kZW5jaWVzJyBzdWJzY3JpYmVyIGxpc3QuXG5cdCAqL1xuXHRXYXRjaGVyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uIHRlYXJkb3duICgpIHtcblx0ICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXHRcblx0ICBpZiAodGhpcy5hY3RpdmUpIHtcblx0ICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gdm0ncyB3YXRjaGVyIGxpc3Rcblx0ICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcblx0ICAgIC8vIGlmIHRoZSB2bSBpcyBiZWluZyBkZXN0cm95ZWQgb3IgaXMgcGVyZm9ybWluZyBhIHYtZm9yXG5cdCAgICAvLyByZS1yZW5kZXIgKHRoZSB3YXRjaGVyIGxpc3QgaXMgdGhlbiBmaWx0ZXJlZCBieSB2LWZvcikuXG5cdCAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXRoaXMudm0uX3ZGb3JSZW1vdmluZykge1xuXHQgICAgICByZW1vdmUkMSh0aGlzLnZtLl93YXRjaGVycywgdGhpcyk7XG5cdCAgICB9XG5cdCAgICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdCAgICAgIHRoaXMkMS5kZXBzW2ldLnJlbW92ZVN1Yih0aGlzJDEpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgYW4gb2JqZWN0IHRvIGV2b2tlIGFsbCBjb252ZXJ0ZWRcblx0ICogZ2V0dGVycywgc28gdGhhdCBldmVyeSBuZXN0ZWQgcHJvcGVydHkgaW5zaWRlIHRoZSBvYmplY3Rcblx0ICogaXMgY29sbGVjdGVkIGFzIGEgXCJkZWVwXCIgZGVwZW5kZW5jeS5cblx0ICovXG5cdHZhciBzZWVuT2JqZWN0cyA9IG5ldyBfU2V0KCk7XG5cdGZ1bmN0aW9uIHRyYXZlcnNlICh2YWwpIHtcblx0ICBzZWVuT2JqZWN0cy5jbGVhcigpO1xuXHQgIF90cmF2ZXJzZSh2YWwsIHNlZW5PYmplY3RzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3RyYXZlcnNlICh2YWwsIHNlZW4pIHtcblx0ICB2YXIgaSwga2V5cztcblx0ICB2YXIgaXNBID0gQXJyYXkuaXNBcnJheSh2YWwpO1xuXHQgIGlmICgoIWlzQSAmJiAhaXNPYmplY3QodmFsKSkgfHwgIU9iamVjdC5pc0V4dGVuc2libGUodmFsKSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGlmICh2YWwuX19vYl9fKSB7XG5cdCAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcblx0ICAgIGlmIChzZWVuLmhhcyhkZXBJZCkpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICBzZWVuLmFkZChkZXBJZCk7XG5cdCAgfVxuXHQgIGlmIChpc0EpIHtcblx0ICAgIGkgPSB2YWwubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkgeyBfdHJhdmVyc2UodmFsW2ldLCBzZWVuKTsgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcblx0ICAgIGkgPSBrZXlzLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdFN0YXRlICh2bSkge1xuXHQgIHZtLl93YXRjaGVycyA9IFtdO1xuXHQgIGluaXRQcm9wcyh2bSk7XG5cdCAgaW5pdERhdGEodm0pO1xuXHQgIGluaXRDb21wdXRlZCh2bSk7XG5cdCAgaW5pdE1ldGhvZHModm0pO1xuXHQgIGluaXRXYXRjaCh2bSk7XG5cdH1cblx0XG5cdHZhciBpc1Jlc2VydmVkUHJvcCA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCcpO1xuXHRcblx0ZnVuY3Rpb24gaW5pdFByb3BzICh2bSkge1xuXHQgIHZhciBwcm9wcyA9IHZtLiRvcHRpb25zLnByb3BzO1xuXHQgIGlmIChwcm9wcykge1xuXHQgICAgdmFyIHByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YSB8fCB7fTtcblx0ICAgIHZhciBrZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuXHQgICAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50O1xuXHQgICAgLy8gcm9vdCBpbnN0YW5jZSBwcm9wcyBzaG91bGQgYmUgY29udmVydGVkXG5cdCAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBpc1Jvb3Q7XG5cdCAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcblx0ICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcblx0ICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgIChcIlxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhIHJlc2VydmVkIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IHByb3AuXCIpLFxuXHQgICAgICAgICAgICB2bVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sIGtleSwgdmFsaWRhdGVQcm9wKGtleSwgcHJvcHMsIHByb3BzRGF0YSwgdm0pLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBpZiAodm0uJHBhcmVudCAmJiAhb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcykge1xuXHQgICAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAgIFwiQXZvaWQgbXV0YXRpbmcgYSBwcm9wIGRpcmVjdGx5IHNpbmNlIHRoZSB2YWx1ZSB3aWxsIGJlIFwiICtcblx0ICAgICAgICAgICAgICBcIm92ZXJ3cml0dGVuIHdoZW5ldmVyIHRoZSBwYXJlbnQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcblx0ICAgICAgICAgICAgICBcIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyBcIiArXG5cdCAgICAgICAgICAgICAgXCJ2YWx1ZS4gUHJvcCBiZWluZyBtdXRhdGVkOiBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIixcblx0ICAgICAgICAgICAgICB2bVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHZhbGlkYXRlUHJvcChrZXksIHByb3BzLCBwcm9wc0RhdGEsIHZtKSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG5cdCAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdERhdGEgKHZtKSB7XG5cdCAgdmFyIGRhdGEgPSB2bS4kb3B0aW9ucy5kYXRhO1xuXHQgIGRhdGEgPSB2bS5fZGF0YSA9IHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nXG5cdCAgICA/IGRhdGEuY2FsbCh2bSlcblx0ICAgIDogZGF0YSB8fCB7fTtcblx0ICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcblx0ICAgIGRhdGEgPSB7fTtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LicsXG5cdCAgICAgIHZtXG5cdCAgICApO1xuXHQgIH1cblx0ICAvLyBwcm94eSBkYXRhIG9uIGluc3RhbmNlXG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcblx0ICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcblx0ICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuXHQgIHdoaWxlIChpLS0pIHtcblx0ICAgIGlmIChwcm9wcyAmJiBoYXNPd24ocHJvcHMsIGtleXNbaV0pKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICBcIlRoZSBkYXRhIHByb3BlcnR5IFxcXCJcIiArIChrZXlzW2ldKSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlY2xhcmVkIGFzIGEgcHJvcC4gXCIgK1xuXHQgICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBwcm94eSh2bSwga2V5c1tpXSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIG9ic2VydmUgZGF0YVxuXHQgIG9ic2VydmUoZGF0YSk7XG5cdCAgZGF0YS5fX29iX18gJiYgZGF0YS5fX29iX18udm1Db3VudCsrO1xuXHR9XG5cdFxuXHR2YXIgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uID0ge1xuXHQgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgIGdldDogbm9vcCxcblx0ICBzZXQ6IG5vb3Bcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluaXRDb21wdXRlZCAodm0pIHtcblx0ICB2YXIgY29tcHV0ZWQgPSB2bS4kb3B0aW9ucy5jb21wdXRlZDtcblx0ICBpZiAoY29tcHV0ZWQpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xuXHQgICAgICB2YXIgdXNlckRlZiA9IGNvbXB1dGVkW2tleV07XG5cdCAgICAgIGlmICh0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbi5nZXQgPSBtYWtlQ29tcHV0ZWRHZXR0ZXIodXNlckRlZiwgdm0pO1xuXHQgICAgICAgIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbi5zZXQgPSBub29wO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbi5nZXQgPSB1c2VyRGVmLmdldFxuXHQgICAgICAgICAgPyB1c2VyRGVmLmNhY2hlICE9PSBmYWxzZVxuXHQgICAgICAgICAgICA/IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLmdldCwgdm0pXG5cdCAgICAgICAgICAgIDogYmluZCQxKHVzZXJEZWYuZ2V0LCB2bSlcblx0ICAgICAgICAgIDogbm9vcDtcblx0ICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uc2V0ID0gdXNlckRlZi5zZXRcblx0ICAgICAgICAgID8gYmluZCQxKHVzZXJEZWYuc2V0LCB2bSlcblx0ICAgICAgICAgIDogbm9vcDtcblx0ICAgICAgfVxuXHQgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodm0sIGtleSwgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VDb21wdXRlZEdldHRlciAoZ2V0dGVyLCBvd25lcikge1xuXHQgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIob3duZXIsIGdldHRlciwgbm9vcCwge1xuXHQgICAgbGF6eTogdHJ1ZVxuXHQgIH0pO1xuXHQgIHJldHVybiBmdW5jdGlvbiBjb21wdXRlZEdldHRlciAoKSB7XG5cdCAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xuXHQgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XG5cdCAgICB9XG5cdCAgICBpZiAoRGVwLnRhcmdldCkge1xuXHQgICAgICB3YXRjaGVyLmRlcGVuZCgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHdhdGNoZXIudmFsdWVcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluaXRNZXRob2RzICh2bSkge1xuXHQgIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kcztcblx0ICBpZiAobWV0aG9kcykge1xuXHQgICAgZm9yICh2YXIga2V5IGluIG1ldGhvZHMpIHtcblx0ICAgICAgdm1ba2V5XSA9IG1ldGhvZHNba2V5XSA9PSBudWxsID8gbm9vcCA6IGJpbmQkMShtZXRob2RzW2tleV0sIHZtKTtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbWV0aG9kc1trZXldID09IG51bGwpIHtcblx0ICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgXCJtZXRob2QgXFxcIlwiICsga2V5ICsgXCJcXFwiIGhhcyBhbiB1bmRlZmluZWQgdmFsdWUgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBcIiArXG5cdCAgICAgICAgICBcIkRpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/XCIsXG5cdCAgICAgICAgICB2bVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluaXRXYXRjaCAodm0pIHtcblx0ICB2YXIgd2F0Y2ggPSB2bS4kb3B0aW9ucy53YXRjaDtcblx0ICBpZiAod2F0Y2gpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiB3YXRjaCkge1xuXHQgICAgICB2YXIgaGFuZGxlciA9IHdhdGNoW2tleV07XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXJbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXIpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVXYXRjaGVyICh2bSwga2V5LCBoYW5kbGVyKSB7XG5cdCAgdmFyIG9wdGlvbnM7XG5cdCAgaWYgKGlzUGxhaW5PYmplY3QoaGFuZGxlcikpIHtcblx0ICAgIG9wdGlvbnMgPSBoYW5kbGVyO1xuXHQgICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjtcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnc3RyaW5nJykge1xuXHQgICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdO1xuXHQgIH1cblx0ICB2bS4kd2F0Y2goa2V5LCBoYW5kbGVyLCBvcHRpb25zKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RhdGVNaXhpbiAoVnVlKSB7XG5cdCAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XG5cdCAgLy8gd2hlbiB1c2luZyBPYmplY3QuZGVmaW5lUHJvcGVydHksIHNvIHdlIGhhdmUgdG8gcHJvY2VkdXJhbGx5IGJ1aWxkIHVwXG5cdCAgLy8gdGhlIG9iamVjdCBoZXJlLlxuXHQgIHZhciBkYXRhRGVmID0ge307XG5cdCAgZGF0YURlZi5nZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fZGF0YVxuXHQgIH07XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGRhdGFEZWYuc2V0ID0gZnVuY3Rpb24gKG5ld0RhdGEpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnQXZvaWQgcmVwbGFjaW5nIGluc3RhbmNlIHJvb3QgJGRhdGEuICcgK1xuXHQgICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsXG5cdCAgICAgICAgdGhpc1xuXHQgICAgICApO1xuXHQgICAgfTtcblx0ICB9XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckZGF0YScsIGRhdGFEZWYpO1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRzZXQgPSBzZXQ7XG5cdCAgVnVlLnByb3RvdHlwZS4kZGVsZXRlID0gZGVsO1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uIChcblx0ICAgIGV4cE9yRm4sXG5cdCAgICBjYixcblx0ICAgIG9wdGlvbnNcblx0ICApIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgIG9wdGlvbnMudXNlciA9IHRydWU7XG5cdCAgICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucyk7XG5cdCAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcblx0ICAgICAgY2IuY2FsbCh2bSwgd2F0Y2hlci52YWx1ZSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHtcblx0ICAgICAgd2F0Y2hlci50ZWFyZG93bigpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByb3h5ICh2bSwga2V5KSB7XG5cdCAgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2bSwga2V5LCB7XG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBwcm94eUdldHRlciAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLl9kYXRhW2tleV1cblx0ICAgICAgfSxcblx0ICAgICAgc2V0OiBmdW5jdGlvbiBwcm94eVNldHRlciAodmFsKSB7XG5cdCAgICAgICAgdm0uX2RhdGFba2V5XSA9IHZhbDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdHZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlIChcblx0ICB0YWcsXG5cdCAgZGF0YSxcblx0ICBjaGlsZHJlbixcblx0ICB0ZXh0LFxuXHQgIGVsbSxcblx0ICBucyxcblx0ICBjb250ZXh0LFxuXHQgIGNvbXBvbmVudE9wdGlvbnNcblx0KSB7XG5cdCAgdGhpcy50YWcgPSB0YWc7XG5cdCAgdGhpcy5kYXRhID0gZGF0YTtcblx0ICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdCAgdGhpcy50ZXh0ID0gdGV4dDtcblx0ICB0aGlzLmVsbSA9IGVsbTtcblx0ICB0aGlzLm5zID0gbnM7XG5cdCAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblx0ICB0aGlzLmZ1bmN0aW9uYWxDb250ZXh0ID0gdW5kZWZpbmVkO1xuXHQgIHRoaXMua2V5ID0gZGF0YSAmJiBkYXRhLmtleTtcblx0ICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xuXHQgIHRoaXMuY2hpbGQgPSB1bmRlZmluZWQ7XG5cdCAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgdGhpcy5yYXcgPSBmYWxzZTtcblx0ICB0aGlzLmlzU3RhdGljID0gZmFsc2U7XG5cdCAgdGhpcy5pc1Jvb3RJbnNlcnQgPSB0cnVlO1xuXHQgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XG5cdCAgdGhpcy5pc0Nsb25lZCA9IGZhbHNlO1xuXHQgIHRoaXMuaXNPbmNlID0gZmFsc2U7XG5cdH07XG5cdFxuXHR2YXIgZW1wdHlWTm9kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xuXHQgIG5vZGUudGV4dCA9ICcnO1xuXHQgIG5vZGUuaXNDb21tZW50ID0gdHJ1ZTtcblx0ICByZXR1cm4gbm9kZVxuXHR9O1xuXHRcblx0Ly8gb3B0aW1pemVkIHNoYWxsb3cgY2xvbmVcblx0Ly8gdXNlZCBmb3Igc3RhdGljIG5vZGVzIGFuZCBzbG90IG5vZGVzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmV1c2VkIGFjcm9zc1xuXHQvLyBtdWx0aXBsZSByZW5kZXJzLCBjbG9uaW5nIHRoZW0gYXZvaWRzIGVycm9ycyB3aGVuIERPTSBtYW5pcHVsYXRpb25zIHJlbHlcblx0Ly8gb24gdGhlaXIgZWxtIHJlZmVyZW5jZS5cblx0ZnVuY3Rpb24gY2xvbmVWTm9kZSAodm5vZGUpIHtcblx0ICB2YXIgY2xvbmVkID0gbmV3IFZOb2RlKFxuXHQgICAgdm5vZGUudGFnLFxuXHQgICAgdm5vZGUuZGF0YSxcblx0ICAgIHZub2RlLmNoaWxkcmVuLFxuXHQgICAgdm5vZGUudGV4dCxcblx0ICAgIHZub2RlLmVsbSxcblx0ICAgIHZub2RlLm5zLFxuXHQgICAgdm5vZGUuY29udGV4dCxcblx0ICAgIHZub2RlLmNvbXBvbmVudE9wdGlvbnNcblx0ICApO1xuXHQgIGNsb25lZC5pc1N0YXRpYyA9IHZub2RlLmlzU3RhdGljO1xuXHQgIGNsb25lZC5rZXkgPSB2bm9kZS5rZXk7XG5cdCAgY2xvbmVkLmlzQ2xvbmVkID0gdHJ1ZTtcblx0ICByZXR1cm4gY2xvbmVkXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsb25lVk5vZGVzICh2bm9kZXMpIHtcblx0ICB2YXIgcmVzID0gbmV3IEFycmF5KHZub2Rlcy5sZW5ndGgpO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgdm5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICByZXNbaV0gPSBjbG9uZVZOb2RlKHZub2Rlc1tpXSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBtZXJnZVZOb2RlSG9vayAoZGVmLCBob29rS2V5LCBob29rLCBrZXkpIHtcblx0ICBrZXkgPSBrZXkgKyBob29rS2V5O1xuXHQgIHZhciBpbmplY3RlZEhhc2ggPSBkZWYuX19pbmplY3RlZCB8fCAoZGVmLl9faW5qZWN0ZWQgPSB7fSk7XG5cdCAgaWYgKCFpbmplY3RlZEhhc2hba2V5XSkge1xuXHQgICAgaW5qZWN0ZWRIYXNoW2tleV0gPSB0cnVlO1xuXHQgICAgdmFyIG9sZEhvb2sgPSBkZWZbaG9va0tleV07XG5cdCAgICBpZiAob2xkSG9vaykge1xuXHQgICAgICBkZWZbaG9va0tleV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgb2xkSG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRlZltob29rS2V5XSA9IGhvb2s7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZUxpc3RlbmVycyAoXG5cdCAgb24sXG5cdCAgb2xkT24sXG5cdCAgYWRkLFxuXHQgIHJlbW92ZSQkMSxcblx0ICB2bVxuXHQpIHtcblx0ICB2YXIgbmFtZSwgY3VyLCBvbGQsIGZuLCBldmVudCwgY2FwdHVyZTtcblx0ICBmb3IgKG5hbWUgaW4gb24pIHtcblx0ICAgIGN1ciA9IG9uW25hbWVdO1xuXHQgICAgb2xkID0gb2xkT25bbmFtZV07XG5cdCAgICBpZiAoIWN1cikge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgXCJJbnZhbGlkIGhhbmRsZXIgZm9yIGV2ZW50IFxcXCJcIiArIG5hbWUgKyBcIlxcXCI6IGdvdCBcIiArIFN0cmluZyhjdXIpLFxuXHQgICAgICAgIHZtXG5cdCAgICAgICk7XG5cdCAgICB9IGVsc2UgaWYgKCFvbGQpIHtcblx0ICAgICAgY2FwdHVyZSA9IG5hbWUuY2hhckF0KDApID09PSAnISc7XG5cdCAgICAgIGV2ZW50ID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXIpKSB7XG5cdCAgICAgICAgYWRkKGV2ZW50LCAoY3VyLmludm9rZXIgPSBhcnJJbnZva2VyKGN1cikpLCBjYXB0dXJlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWN1ci5pbnZva2VyKSB7XG5cdCAgICAgICAgICBmbiA9IGN1cjtcblx0ICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0ge307XG5cdCAgICAgICAgICBjdXIuZm4gPSBmbjtcblx0ICAgICAgICAgIGN1ci5pbnZva2VyID0gZm5JbnZva2VyKGN1cik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGFkZChldmVudCwgY3VyLmludm9rZXIsIGNhcHR1cmUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGN1ciAhPT0gb2xkKSB7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KG9sZCkpIHtcblx0ICAgICAgICBvbGQubGVuZ3RoID0gY3VyLmxlbmd0aDtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7IGkrKykgeyBvbGRbaV0gPSBjdXJbaV07IH1cblx0ICAgICAgICBvbltuYW1lXSA9IG9sZDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBvbGQuZm4gPSBjdXI7XG5cdCAgICAgICAgb25bbmFtZV0gPSBvbGQ7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG5cdCAgICBpZiAoIW9uW25hbWVdKSB7XG5cdCAgICAgIGV2ZW50ID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJyA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuXHQgICAgICByZW1vdmUkJDEoZXZlbnQsIG9sZE9uW25hbWVdLmludm9rZXIpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYXJySW52b2tlciAoYXJyKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChldikge1xuXHQgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXHRcblx0ICAgIHZhciBzaW5nbGUgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgc2luZ2xlID8gYXJyW2ldKGV2KSA6IGFycltpXS5hcHBseShudWxsLCBhcmd1bWVudHMkMSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmbkludm9rZXIgKG8pIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG5cdCAgICB2YXIgc2luZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcblx0ICAgIHNpbmdsZSA/IG8uZm4oZXYpIDogby5mbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbiAoXG5cdCAgY2hpbGRyZW4sXG5cdCAgbnMsXG5cdCAgbmVzdGVkSW5kZXhcblx0KSB7XG5cdCAgaWYgKGlzUHJpbWl0aXZlKGNoaWxkcmVuKSkge1xuXHQgICAgcmV0dXJuIFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXVxuXHQgIH1cblx0ICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0ICAgIHZhciByZXMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgIHZhciBjID0gY2hpbGRyZW5baV07XG5cdCAgICAgIHZhciBsYXN0ID0gcmVzW3Jlcy5sZW5ndGggLSAxXTtcblx0ICAgICAgLy8gIG5lc3RlZFxuXHQgICAgICBpZiAoQXJyYXkuaXNBcnJheShjKSkge1xuXHQgICAgICAgIHJlcy5wdXNoLmFwcGx5KHJlcywgbm9ybWFsaXplQ2hpbGRyZW4oYywgbnMsICgobmVzdGVkSW5kZXggfHwgJycpICsgXCJfXCIgKyBpKSkpO1xuXHQgICAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKGMpKSB7XG5cdCAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50ZXh0KSB7XG5cdCAgICAgICAgICBsYXN0LnRleHQgKz0gU3RyaW5nKGMpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYyAhPT0gJycpIHtcblx0ICAgICAgICAgIC8vIGNvbnZlcnQgcHJpbWl0aXZlIHRvIHZub2RlXG5cdCAgICAgICAgICByZXMucHVzaChjcmVhdGVUZXh0Vk5vZGUoYykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChjIGluc3RhbmNlb2YgVk5vZGUpIHtcblx0ICAgICAgICBpZiAoYy50ZXh0ICYmIGxhc3QgJiYgbGFzdC50ZXh0KSB7XG5cdCAgICAgICAgICBpZiAoIWxhc3QuaXNDbG9uZWQpIHtcblx0ICAgICAgICAgICAgbGFzdC50ZXh0ICs9IGMudGV4dDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gaW5oZXJpdCBwYXJlbnQgbmFtZXNwYWNlXG5cdCAgICAgICAgICBpZiAobnMpIHtcblx0ICAgICAgICAgICAgYXBwbHlOUyhjLCBucyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyBkZWZhdWx0IGtleSBmb3IgbmVzdGVkIGFycmF5IGNoaWxkcmVuIChsaWtlbHkgZ2VuZXJhdGVkIGJ5IHYtZm9yKVxuXHQgICAgICAgICAgaWYgKGMudGFnICYmIGMua2V5ID09IG51bGwgJiYgbmVzdGVkSW5kZXggIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjLmtleSA9IFwiX192bGlzdFwiICsgbmVzdGVkSW5kZXggKyBcIl9cIiArIGkgKyBcIl9fXCI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXMucHVzaChjKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXNcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSAodmFsKSB7XG5cdCAgcmV0dXJuIG5ldyBWTm9kZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTdHJpbmcodmFsKSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwbHlOUyAodm5vZGUsIG5zKSB7XG5cdCAgaWYgKHZub2RlLnRhZyAmJiAhdm5vZGUubnMpIHtcblx0ICAgIHZub2RlLm5zID0gbnM7XG5cdCAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICBhcHBseU5TKHZub2RlLmNoaWxkcmVuW2ldLCBucyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCAoY2hpbGRyZW4pIHtcblx0ICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjICYmIGMuY29tcG9uZW50T3B0aW9uczsgfSlbMF1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgYWN0aXZlSW5zdGFuY2UgPSBudWxsO1xuXHRcblx0ZnVuY3Rpb24gaW5pdExpZmVjeWNsZSAodm0pIHtcblx0ICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xuXHRcblx0ICAvLyBsb2NhdGUgZmlyc3Qgbm9uLWFic3RyYWN0IHBhcmVudFxuXHQgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcblx0ICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7XG5cdCAgICB3aGlsZSAocGFyZW50LiRvcHRpb25zLmFic3RyYWN0ICYmIHBhcmVudC4kcGFyZW50KSB7XG5cdCAgICAgIHBhcmVudCA9IHBhcmVudC4kcGFyZW50O1xuXHQgICAgfVxuXHQgICAgcGFyZW50LiRjaGlsZHJlbi5wdXNoKHZtKTtcblx0ICB9XG5cdFxuXHQgIHZtLiRwYXJlbnQgPSBwYXJlbnQ7XG5cdCAgdm0uJHJvb3QgPSBwYXJlbnQgPyBwYXJlbnQuJHJvb3QgOiB2bTtcblx0XG5cdCAgdm0uJGNoaWxkcmVuID0gW107XG5cdCAgdm0uJHJlZnMgPSB7fTtcblx0XG5cdCAgdm0uX3dhdGNoZXIgPSBudWxsO1xuXHQgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xuXHQgIHZtLl9pc01vdW50ZWQgPSBmYWxzZTtcblx0ICB2bS5faXNEZXN0cm95ZWQgPSBmYWxzZTtcblx0ICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaWZlY3ljbGVNaXhpbiAoVnVlKSB7XG5cdCAgVnVlLnByb3RvdHlwZS5fbW91bnQgPSBmdW5jdGlvbiAoXG5cdCAgICBlbCxcblx0ICAgIGh5ZHJhdGluZ1xuXHQgICkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZtLiRlbCA9IGVsO1xuXHQgICAgaWYgKCF2bS4kb3B0aW9ucy5yZW5kZXIpIHtcblx0ICAgICAgdm0uJG9wdGlvbnMucmVuZGVyID0gZW1wdHlWTm9kZTtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgICBpZiAodm0uJG9wdGlvbnMudGVtcGxhdGUgJiYgdm0uJG9wdGlvbnMudGVtcGxhdGUuY2hhckF0KDApICE9PSAnIycpIHtcblx0ICAgICAgICAgIHdhcm4oXG5cdCAgICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICtcblx0ICAgICAgICAgICAgJ29wdGlvbiBpcyBub3QgYXZhaWxhYmxlLiBFaXRoZXIgcHJlLWNvbXBpbGUgdGhlIHRlbXBsYXRlcyBpbnRvICcgK1xuXHQgICAgICAgICAgICAncmVuZGVyIGZ1bmN0aW9ucywgb3IgdXNlIHRoZSBjb21waWxlci1pbmNsdWRlZCBidWlsZC4nLFxuXHQgICAgICAgICAgICB2bVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgJ0ZhaWxlZCB0byBtb3VudCBjb21wb25lbnQ6IHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbiBub3QgZGVmaW5lZC4nLFxuXHQgICAgICAgICAgICB2bVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlTW91bnQnKTtcblx0ICAgIHZtLl93YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdm0uX3VwZGF0ZSh2bS5fcmVuZGVyKCksIGh5ZHJhdGluZyk7XG5cdCAgICB9LCBub29wKTtcblx0ICAgIGh5ZHJhdGluZyA9IGZhbHNlO1xuXHQgICAgLy8gbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSwgY2FsbCBtb3VudGVkIG9uIHNlbGZcblx0ICAgIC8vIG1vdW50ZWQgaXMgY2FsbGVkIGZvciByZW5kZXItY3JlYXRlZCBjaGlsZCBjb21wb25lbnRzIGluIGl0cyBpbnNlcnRlZCBob29rXG5cdCAgICBpZiAodm0uJHZub2RlID09IG51bGwpIHtcblx0ICAgICAgdm0uX2lzTW91bnRlZCA9IHRydWU7XG5cdCAgICAgIGNhbGxIb29rKHZtLCAnbW91bnRlZCcpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtXG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBpZiAodm0uX2lzTW91bnRlZCkge1xuXHQgICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpO1xuXHQgICAgfVxuXHQgICAgdmFyIHByZXZFbCA9IHZtLiRlbDtcblx0ICAgIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTtcblx0ICAgIGFjdGl2ZUluc3RhbmNlID0gdm07XG5cdCAgICB2YXIgcHJldlZub2RlID0gdm0uX3Zub2RlO1xuXHQgICAgdm0uX3Zub2RlID0gdm5vZGU7XG5cdCAgICBpZiAoIXByZXZWbm9kZSkge1xuXHQgICAgICAvLyBWdWUucHJvdG90eXBlLl9fcGF0Y2hfXyBpcyBpbmplY3RlZCBpbiBlbnRyeSBwb2ludHNcblx0ICAgICAgLy8gYmFzZWQgb24gdGhlIHJlbmRlcmluZyBiYWNrZW5kIHVzZWQuXG5cdCAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyh2bS4kZWwsIHZub2RlLCBoeWRyYXRpbmcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHByZXZWbm9kZSwgdm5vZGUpO1xuXHQgICAgfVxuXHQgICAgYWN0aXZlSW5zdGFuY2UgPSBwcmV2QWN0aXZlSW5zdGFuY2U7XG5cdCAgICAvLyB1cGRhdGUgX192dWVfXyByZWZlcmVuY2Vcblx0ICAgIGlmIChwcmV2RWwpIHtcblx0ICAgICAgcHJldkVsLl9fdnVlX18gPSBudWxsO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLiRlbCkge1xuXHQgICAgICB2bS4kZWwuX192dWVfXyA9IHZtO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbFxuXHQgICAgaWYgKHZtLiR2bm9kZSAmJiB2bS4kcGFyZW50ICYmIHZtLiR2bm9kZSA9PT0gdm0uJHBhcmVudC5fdm5vZGUpIHtcblx0ICAgICAgdm0uJHBhcmVudC4kZWwgPSB2bS4kZWw7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uX2lzTW91bnRlZCkge1xuXHQgICAgICBjYWxsSG9vayh2bSwgJ3VwZGF0ZWQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLl91cGRhdGVGcm9tUGFyZW50ID0gZnVuY3Rpb24gKFxuXHQgICAgcHJvcHNEYXRhLFxuXHQgICAgbGlzdGVuZXJzLFxuXHQgICAgcGFyZW50Vm5vZGUsXG5cdCAgICByZW5kZXJDaGlsZHJlblxuXHQgICkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciBoYXNDaGlsZHJlbiA9ICEhKHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiB8fCByZW5kZXJDaGlsZHJlbik7XG5cdCAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcblx0ICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyXG5cdCAgICBpZiAodm0uX3Zub2RlKSB7IC8vIHVwZGF0ZSBjaGlsZCB0cmVlJ3MgcGFyZW50XG5cdCAgICAgIHZtLl92bm9kZS5wYXJlbnQgPSBwYXJlbnRWbm9kZTtcblx0ICAgIH1cblx0ICAgIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiA9IHJlbmRlckNoaWxkcmVuO1xuXHQgICAgLy8gdXBkYXRlIHByb3BzXG5cdCAgICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XG5cdCAgICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IGZhbHNlO1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIG9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wS2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyB8fCBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wS2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBrZXkgPSBwcm9wS2V5c1tpXTtcblx0ICAgICAgICB2bVtrZXldID0gdmFsaWRhdGVQcm9wKGtleSwgdm0uJG9wdGlvbnMucHJvcHMsIHByb3BzRGF0YSwgdm0pO1xuXHQgICAgICB9XG5cdCAgICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHRydWU7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHZtLiRvcHRpb25zLnByb3BzRGF0YSA9IHByb3BzRGF0YTtcblx0ICAgIH1cblx0ICAgIC8vIHVwZGF0ZSBsaXN0ZW5lcnNcblx0ICAgIGlmIChsaXN0ZW5lcnMpIHtcblx0ICAgICAgdmFyIG9sZExpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG5cdCAgICAgIHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG5cdCAgICAgIHZtLl91cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpO1xuXHQgICAgfVxuXHQgICAgLy8gcmVzb2x2ZSBzbG90cyArIGZvcmNlIHVwZGF0ZSBpZiBoYXMgY2hpbGRyZW5cblx0ICAgIGlmIChoYXNDaGlsZHJlbikge1xuXHQgICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcblx0ICAgICAgdm0uJGZvcmNlVXBkYXRlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgaWYgKHZtLl93YXRjaGVyKSB7XG5cdCAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgaWYgKHZtLl9pc0JlaW5nRGVzdHJveWVkKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgY2FsbEhvb2sodm0sICdiZWZvcmVEZXN0cm95Jyk7XG5cdCAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XG5cdCAgICAvLyByZW1vdmUgc2VsZiBmcm9tIHBhcmVudFxuXHQgICAgdmFyIHBhcmVudCA9IHZtLiRwYXJlbnQ7XG5cdCAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XG5cdCAgICAgIHJlbW92ZSQxKHBhcmVudC4kY2hpbGRyZW4sIHZtKTtcblx0ICAgIH1cblx0ICAgIC8vIHRlYXJkb3duIHdhdGNoZXJzXG5cdCAgICBpZiAodm0uX3dhdGNoZXIpIHtcblx0ICAgICAgdm0uX3dhdGNoZXIudGVhcmRvd24oKTtcblx0ICAgIH1cblx0ICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgdm0uX3dhdGNoZXJzW2ldLnRlYXJkb3duKCk7XG5cdCAgICB9XG5cdCAgICAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gZGF0YSBvYlxuXHQgICAgLy8gZnJvemVuIG9iamVjdCBtYXkgbm90IGhhdmUgb2JzZXJ2ZXIuXG5cdCAgICBpZiAodm0uX2RhdGEuX19vYl9fKSB7XG5cdCAgICAgIHZtLl9kYXRhLl9fb2JfXy52bUNvdW50LS07XG5cdCAgICB9XG5cdCAgICAvLyBjYWxsIHRoZSBsYXN0IGhvb2suLi5cblx0ICAgIHZtLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG5cdCAgICBjYWxsSG9vayh2bSwgJ2Rlc3Ryb3llZCcpO1xuXHQgICAgLy8gdHVybiBvZmYgYWxsIGluc3RhbmNlIGxpc3RlbmVycy5cblx0ICAgIHZtLiRvZmYoKTtcblx0ICAgIC8vIHJlbW92ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuXHQgICAgaWYgKHZtLiRlbCkge1xuXHQgICAgICB2bS4kZWwuX192dWVfXyA9IG51bGw7XG5cdCAgICB9XG5cdCAgICAvLyBpbnZva2UgZGVzdHJveSBob29rcyBvbiBjdXJyZW50IHJlbmRlcmVkIHRyZWVcblx0ICAgIHZtLl9fcGF0Y2hfXyh2bS5fdm5vZGUsIG51bGwpO1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbGxIb29rICh2bSwgaG9vaykge1xuXHQgIHZhciBoYW5kbGVycyA9IHZtLiRvcHRpb25zW2hvb2tdO1xuXHQgIGlmIChoYW5kbGVycykge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGogPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcblx0ICAgICAgaGFuZGxlcnNbaV0uY2FsbCh2bSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHZtLiRlbWl0KCdob29rOicgKyBob29rKTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgaG9va3MgPSB7IGluaXQ6IGluaXQsIHByZXBhdGNoOiBwcmVwYXRjaCwgaW5zZXJ0OiBpbnNlcnQsIGRlc3Ryb3k6IGRlc3Ryb3kkMSB9O1xuXHR2YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoaG9va3MpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50IChcblx0ICBDdG9yLFxuXHQgIGRhdGEsXG5cdCAgY29udGV4dCxcblx0ICBjaGlsZHJlbixcblx0ICB0YWdcblx0KSB7XG5cdCAgaWYgKCFDdG9yKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBiYXNlQ3RvciA9IGNvbnRleHQuJG9wdGlvbnMuX2Jhc2U7XG5cdCAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7XG5cdCAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHR5cGVvZiBDdG9yICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB3YXJuKChcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiICsgKFN0cmluZyhDdG9yKSkpLCBjb250ZXh0KTtcblx0ICAgIH1cblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgLy8gYXN5bmMgY29tcG9uZW50XG5cdCAgaWYgKCFDdG9yLmNpZCkge1xuXHQgICAgaWYgKEN0b3IucmVzb2x2ZWQpIHtcblx0ICAgICAgQ3RvciA9IEN0b3IucmVzb2x2ZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KEN0b3IsIGJhc2VDdG9yLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgLy8gaXQncyBvayB0byBxdWV1ZSB0aGlzIG9uIGV2ZXJ5IHJlbmRlciBiZWNhdXNlXG5cdCAgICAgICAgLy8gJGZvcmNlVXBkYXRlIGlzIGJ1ZmZlcmVkIGJ5IHRoZSBzY2hlZHVsZXIuXG5cdCAgICAgICAgY29udGV4dC4kZm9yY2VVcGRhdGUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmICghQ3Rvcikge1xuXHQgICAgICAgIC8vIHJldHVybiBub3RoaW5nIGlmIHRoaXMgaXMgaW5kZWVkIGFuIGFzeW5jIGNvbXBvbmVudFxuXHQgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHBhcmVudCB1cGRhdGUuXG5cdCAgICAgICAgcmV0dXJuXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIHJlc29sdmUgY29uc3RydWN0b3Igb3B0aW9ucyBpbiBjYXNlIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgYWZ0ZXJcblx0ICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb25cblx0ICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKEN0b3IpO1xuXHRcblx0ICBkYXRhID0gZGF0YSB8fCB7fTtcblx0XG5cdCAgLy8gZXh0cmFjdCBwcm9wc1xuXHQgIHZhciBwcm9wc0RhdGEgPSBleHRyYWN0UHJvcHMoZGF0YSwgQ3Rvcik7XG5cdFxuXHQgIC8vIGZ1bmN0aW9uYWwgY29tcG9uZW50XG5cdCAgaWYgKEN0b3Iub3B0aW9ucy5mdW5jdGlvbmFsKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudChDdG9yLCBwcm9wc0RhdGEsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuKVxuXHQgIH1cblx0XG5cdCAgLy8gZXh0cmFjdCBsaXN0ZW5lcnMsIHNpbmNlIHRoZXNlIG5lZWRzIHRvIGJlIHRyZWF0ZWQgYXNcblx0ICAvLyBjaGlsZCBjb21wb25lbnQgbGlzdGVuZXJzIGluc3RlYWQgb2YgRE9NIGxpc3RlbmVyc1xuXHQgIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xuXHQgIC8vIHJlcGxhY2Ugd2l0aCBsaXN0ZW5lcnMgd2l0aCAubmF0aXZlIG1vZGlmaWVyXG5cdCAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247XG5cdFxuXHQgIGlmIChDdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcblx0ICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmdcblx0ICAgIC8vIG90aGVyIHRoYW4gcHJvcHMgJiBsaXN0ZW5lcnNcblx0ICAgIGRhdGEgPSB7fTtcblx0ICB9XG5cdFxuXHQgIC8vIG1lcmdlIGNvbXBvbmVudCBtYW5hZ2VtZW50IGhvb2tzIG9udG8gdGhlIHBsYWNlaG9sZGVyIG5vZGVcblx0ICBtZXJnZUhvb2tzKGRhdGEpO1xuXHRcblx0ICAvLyByZXR1cm4gYSBwbGFjZWhvbGRlciB2bm9kZVxuXHQgIHZhciBuYW1lID0gQ3Rvci5vcHRpb25zLm5hbWUgfHwgdGFnO1xuXHQgIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcblx0ICAgIChcInZ1ZS1jb21wb25lbnQtXCIgKyAoQ3Rvci5jaWQpICsgKG5hbWUgPyAoXCItXCIgKyBuYW1lKSA6ICcnKSksXG5cdCAgICBkYXRhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsXG5cdCAgICB7IEN0b3I6IEN0b3IsIHByb3BzRGF0YTogcHJvcHNEYXRhLCBsaXN0ZW5lcnM6IGxpc3RlbmVycywgdGFnOiB0YWcsIGNoaWxkcmVuOiBjaGlsZHJlbiB9XG5cdCAgKTtcblx0ICByZXR1cm4gdm5vZGVcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudCAoXG5cdCAgQ3Rvcixcblx0ICBwcm9wc0RhdGEsXG5cdCAgZGF0YSxcblx0ICBjb250ZXh0LFxuXHQgIGNoaWxkcmVuXG5cdCkge1xuXHQgIHZhciBwcm9wcyA9IHt9O1xuXHQgIHZhciBwcm9wT3B0aW9ucyA9IEN0b3Iub3B0aW9ucy5wcm9wcztcblx0ICBpZiAocHJvcE9wdGlvbnMpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuXHQgICAgICBwcm9wc1trZXldID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcE9wdGlvbnMsIHByb3BzRGF0YSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHZhciB2bm9kZSA9IEN0b3Iub3B0aW9ucy5yZW5kZXIuY2FsbChcblx0ICAgIG51bGwsXG5cdCAgICAvLyBlbnN1cmUgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gaW4gZnVuY3Rpb25hbCBjb21wb25lbnRzXG5cdCAgICAvLyBnZXRzIGEgdW5pcXVlIGNvbnRleHQgLSB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBuYW1lZCBzbG90IGNoZWNrXG5cdCAgICBiaW5kJDEoY3JlYXRlRWxlbWVudCwgeyBfc2VsZjogT2JqZWN0LmNyZWF0ZShjb250ZXh0KSB9KSxcblx0ICAgIHtcblx0ICAgICAgcHJvcHM6IHByb3BzLFxuXHQgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICBwYXJlbnQ6IGNvbnRleHQsXG5cdCAgICAgIGNoaWxkcmVuOiBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiksXG5cdCAgICAgIHNsb3RzOiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIGNvbnRleHQpOyB9XG5cdCAgICB9XG5cdCAgKTtcblx0ICBpZiAodm5vZGUgaW5zdGFuY2VvZiBWTm9kZSkge1xuXHQgICAgdm5vZGUuZnVuY3Rpb25hbENvbnRleHQgPSBjb250ZXh0O1xuXHQgICAgaWYgKGRhdGEuc2xvdCkge1xuXHQgICAgICAodm5vZGUuZGF0YSB8fCAodm5vZGUuZGF0YSA9IHt9KSkuc2xvdCA9IGRhdGEuc2xvdDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHZub2RlXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUgKFxuXHQgIHZub2RlLCAvLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3Rcblx0ICBwYXJlbnQgLy8gYWN0aXZlSW5zdGFuY2UgaW4gbGlmZWN5Y2xlIHN0YXRlXG5cdCkge1xuXHQgIHZhciB2bm9kZUNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuXHQgIHZhciBvcHRpb25zID0ge1xuXHQgICAgX2lzQ29tcG9uZW50OiB0cnVlLFxuXHQgICAgcGFyZW50OiBwYXJlbnQsXG5cdCAgICBwcm9wc0RhdGE6IHZub2RlQ29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGEsXG5cdCAgICBfY29tcG9uZW50VGFnOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnLFxuXHQgICAgX3BhcmVudFZub2RlOiB2bm9kZSxcblx0ICAgIF9wYXJlbnRMaXN0ZW5lcnM6IHZub2RlQ29tcG9uZW50T3B0aW9ucy5saXN0ZW5lcnMsXG5cdCAgICBfcmVuZGVyQ2hpbGRyZW46IHZub2RlQ29tcG9uZW50T3B0aW9ucy5jaGlsZHJlblxuXHQgIH07XG5cdCAgLy8gY2hlY2sgaW5saW5lLXRlbXBsYXRlIHJlbmRlciBmdW5jdGlvbnNcblx0ICB2YXIgaW5saW5lVGVtcGxhdGUgPSB2bm9kZS5kYXRhLmlubGluZVRlbXBsYXRlO1xuXHQgIGlmIChpbmxpbmVUZW1wbGF0ZSkge1xuXHQgICAgb3B0aW9ucy5yZW5kZXIgPSBpbmxpbmVUZW1wbGF0ZS5yZW5kZXI7XG5cdCAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IGlubGluZVRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcblx0ICB9XG5cdCAgcmV0dXJuIG5ldyB2bm9kZUNvbXBvbmVudE9wdGlvbnMuQ3RvcihvcHRpb25zKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbml0ICh2bm9kZSwgaHlkcmF0aW5nKSB7XG5cdCAgaWYgKCF2bm9kZS5jaGlsZCB8fCB2bm9kZS5jaGlsZC5faXNEZXN0cm95ZWQpIHtcblx0ICAgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSh2bm9kZSwgYWN0aXZlSW5zdGFuY2UpO1xuXHQgICAgY2hpbGQuJG1vdW50KGh5ZHJhdGluZyA/IHZub2RlLmVsbSA6IHVuZGVmaW5lZCwgaHlkcmF0aW5nKTtcblx0ICB9IGVsc2UgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG5cdCAgICAvLyBrZXB0LWFsaXZlIGNvbXBvbmVudHMsIHRyZWF0IGFzIGEgcGF0Y2hcblx0ICAgIHZhciBtb3VudGVkTm9kZSA9IHZub2RlOyAvLyB3b3JrIGFyb3VuZCBmbG93XG5cdCAgICBwcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJlcGF0Y2ggKFxuXHQgIG9sZFZub2RlLFxuXHQgIHZub2RlXG5cdCkge1xuXHQgIHZhciBvcHRpb25zID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblx0ICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZCA9IG9sZFZub2RlLmNoaWxkO1xuXHQgIGNoaWxkLl91cGRhdGVGcm9tUGFyZW50KFxuXHQgICAgb3B0aW9ucy5wcm9wc0RhdGEsIC8vIHVwZGF0ZWQgcHJvcHNcblx0ICAgIG9wdGlvbnMubGlzdGVuZXJzLCAvLyB1cGRhdGVkIGxpc3RlbmVyc1xuXHQgICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGVcblx0ICAgIG9wdGlvbnMuY2hpbGRyZW4gLy8gbmV3IGNoaWxkcmVuXG5cdCAgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5zZXJ0ICh2bm9kZSkge1xuXHQgIGlmICghdm5vZGUuY2hpbGQuX2lzTW91bnRlZCkge1xuXHQgICAgdm5vZGUuY2hpbGQuX2lzTW91bnRlZCA9IHRydWU7XG5cdCAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ21vdW50ZWQnKTtcblx0ICB9XG5cdCAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG5cdCAgICB2bm9kZS5jaGlsZC5faW5hY3RpdmUgPSBmYWxzZTtcblx0ICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnYWN0aXZhdGVkJyk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZXN0cm95JDEgKHZub2RlKSB7XG5cdCAgaWYgKCF2bm9kZS5jaGlsZC5faXNEZXN0cm95ZWQpIHtcblx0ICAgIGlmICghdm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcblx0ICAgICAgdm5vZGUuY2hpbGQuJGRlc3Ryb3koKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IHRydWU7XG5cdCAgICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnZGVhY3RpdmF0ZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlc29sdmVBc3luY0NvbXBvbmVudCAoXG5cdCAgZmFjdG9yeSxcblx0ICBiYXNlQ3Rvcixcblx0ICBjYlxuXHQpIHtcblx0ICBpZiAoZmFjdG9yeS5yZXF1ZXN0ZWQpIHtcblx0ICAgIC8vIHBvb2wgY2FsbGJhY2tzXG5cdCAgICBmYWN0b3J5LnBlbmRpbmdDYWxsYmFja3MucHVzaChjYik7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGZhY3RvcnkucmVxdWVzdGVkID0gdHJ1ZTtcblx0ICAgIHZhciBjYnMgPSBmYWN0b3J5LnBlbmRpbmdDYWxsYmFja3MgPSBbY2JdO1xuXHQgICAgdmFyIHN5bmMgPSB0cnVlO1xuXHRcblx0ICAgIHZhciByZXNvbHZlID0gZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuXHQgICAgICAgIHJlcyA9IGJhc2VDdG9yLmV4dGVuZChyZXMpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIGNhY2hlIHJlc29sdmVkXG5cdCAgICAgIGZhY3RvcnkucmVzb2x2ZWQgPSByZXM7XG5cdCAgICAgIC8vIGludm9rZSBjYWxsYmFja3Mgb25seSBpZiB0aGlzIGlzIG5vdCBhIHN5bmNocm9ub3VzIHJlc29sdmVcblx0ICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXG5cdCAgICAgIGlmICghc3luYykge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgY2JzW2ldKHJlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciByZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgICBcIkZhaWxlZCB0byByZXNvbHZlIGFzeW5jIGNvbXBvbmVudDogXCIgKyAoU3RyaW5nKGZhY3RvcnkpKSArXG5cdCAgICAgICAgKHJlYXNvbiA/IChcIlxcblJlYXNvbjogXCIgKyByZWFzb24pIDogJycpXG5cdCAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7XG5cdFxuXHQgICAgLy8gaGFuZGxlIHByb21pc2Vcblx0ICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcy50aGVuID09PSAnZnVuY3Rpb24nICYmICFmYWN0b3J5LnJlc29sdmVkKSB7XG5cdCAgICAgIHJlcy50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgc3luYyA9IGZhbHNlO1xuXHQgICAgLy8gcmV0dXJuIGluIGNhc2UgcmVzb2x2ZWQgc3luY2hyb25vdXNseVxuXHQgICAgcmV0dXJuIGZhY3RvcnkucmVzb2x2ZWRcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dHJhY3RQcm9wcyAoZGF0YSwgQ3Rvcikge1xuXHQgIC8vIHdlIGFyZSBvbmx5IGV4dHJhY3RpbmcgcmF3IHZhbHVlcyBoZXJlLlxuXHQgIC8vIHZhbGlkYXRpb24gYW5kIGRlZmF1bHQgdmFsdWVzIGFyZSBoYW5kbGVkIGluIHRoZSBjaGlsZFxuXHQgIC8vIGNvbXBvbmVudCBpdHNlbGYuXG5cdCAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xuXHQgIGlmICghcHJvcE9wdGlvbnMpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgcmVzID0ge307XG5cdCAgdmFyIGF0dHJzID0gZGF0YS5hdHRycztcblx0ICB2YXIgcHJvcHMgPSBkYXRhLnByb3BzO1xuXHQgIHZhciBkb21Qcm9wcyA9IGRhdGEuZG9tUHJvcHM7XG5cdCAgaWYgKGF0dHJzIHx8IHByb3BzIHx8IGRvbVByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gcHJvcE9wdGlvbnMpIHtcblx0ICAgICAgdmFyIGFsdEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuXHQgICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8XG5cdCAgICAgIGNoZWNrUHJvcChyZXMsIGF0dHJzLCBrZXksIGFsdEtleSkgfHxcblx0ICAgICAgY2hlY2tQcm9wKHJlcywgZG9tUHJvcHMsIGtleSwgYWx0S2V5KTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja1Byb3AgKFxuXHQgIHJlcyxcblx0ICBoYXNoLFxuXHQgIGtleSxcblx0ICBhbHRLZXksXG5cdCAgcHJlc2VydmVcblx0KSB7XG5cdCAgaWYgKGhhc2gpIHtcblx0ICAgIGlmIChoYXNPd24oaGFzaCwga2V5KSkge1xuXHQgICAgICByZXNba2V5XSA9IGhhc2hba2V5XTtcblx0ICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuXHQgICAgICAgIGRlbGV0ZSBoYXNoW2tleV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRydWVcblx0ICAgIH0gZWxzZSBpZiAoaGFzT3duKGhhc2gsIGFsdEtleSkpIHtcblx0ICAgICAgcmVzW2tleV0gPSBoYXNoW2FsdEtleV07XG5cdCAgICAgIGlmICghcHJlc2VydmUpIHtcblx0ICAgICAgICBkZWxldGUgaGFzaFthbHRLZXldO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0cnVlXG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUhvb2tzIChkYXRhKSB7XG5cdCAgaWYgKCFkYXRhLmhvb2spIHtcblx0ICAgIGRhdGEuaG9vayA9IHt9O1xuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzVG9NZXJnZS5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIGtleSA9IGhvb2tzVG9NZXJnZVtpXTtcblx0ICAgIHZhciBmcm9tUGFyZW50ID0gZGF0YS5ob29rW2tleV07XG5cdCAgICB2YXIgb3VycyA9IGhvb2tzW2tleV07XG5cdCAgICBkYXRhLmhvb2tba2V5XSA9IGZyb21QYXJlbnQgPyBtZXJnZUhvb2skMShvdXJzLCBmcm9tUGFyZW50KSA6IG91cnM7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUhvb2skMSAoYSwgYikge1xuXHQgIC8vIHNpbmNlIGFsbCBob29rcyBoYXZlIGF0IG1vc3QgdHdvIGFyZ3MsIHVzZSBmaXhlZCBhcmdzXG5cdCAgLy8gdG8gYXZvaWQgaGF2aW5nIHRvIHVzZSBmbi5hcHBseSgpLlxuXHQgIHJldHVybiBmdW5jdGlvbiAoXywgX18pIHtcblx0ICAgIGEoXywgX18pO1xuXHQgICAgYihfLCBfXyk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHByb3ZpZGluZyBhIG1vcmUgZmxleGlibGUgaW50ZXJmYWNlXG5cdC8vIHdpdGhvdXQgZ2V0dGluZyB5ZWxsZWQgYXQgYnkgZmxvd1xuXHRmdW5jdGlvbiBjcmVhdGVFbGVtZW50IChcblx0ICB0YWcsXG5cdCAgZGF0YSxcblx0ICBjaGlsZHJlblxuXHQpIHtcblx0ICBpZiAoZGF0YSAmJiAoQXJyYXkuaXNBcnJheShkYXRhKSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpKSB7XG5cdCAgICBjaGlsZHJlbiA9IGRhdGE7XG5cdCAgICBkYXRhID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0ICAvLyBtYWtlIHN1cmUgdG8gdXNlIHJlYWwgaW5zdGFuY2UgaW5zdGVhZCBvZiBwcm94eSBhcyBjb250ZXh0XG5cdCAgcmV0dXJuIF9jcmVhdGVFbGVtZW50KHRoaXMuX3NlbGYsIHRhZywgZGF0YSwgY2hpbGRyZW4pXG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50IChcblx0ICBjb250ZXh0LFxuXHQgIHRhZyxcblx0ICBkYXRhLFxuXHQgIGNoaWxkcmVuXG5cdCkge1xuXHQgIGlmIChkYXRhICYmIGRhdGEuX19vYl9fKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgIFwiQXZvaWQgdXNpbmcgb2JzZXJ2ZWQgZGF0YSBvYmplY3QgYXMgdm5vZGUgZGF0YTogXCIgKyAoSlNPTi5zdHJpbmdpZnkoZGF0YSkpICsgXCJcXG5cIiArXG5cdCAgICAgICdBbHdheXMgY3JlYXRlIGZyZXNoIHZub2RlIGRhdGEgb2JqZWN0cyBpbiBlYWNoIHJlbmRlciEnLFxuXHQgICAgICBjb250ZXh0XG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGlmICghdGFnKSB7XG5cdCAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlXG5cdCAgICByZXR1cm4gZW1wdHlWTm9kZSgpXG5cdCAgfVxuXHQgIC8vIHN1cHBvcnQgc2luZ2xlIGZ1bmN0aW9uIGNoaWxkcmVuIGFzIGRlZmF1bHQgc2NvcGVkIHNsb3Rcblx0ICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiZcblx0ICAgICAgdHlwZW9mIGNoaWxkcmVuWzBdID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBkYXRhID0gZGF0YSB8fCB7fTtcblx0ICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07XG5cdCAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xuXHQgIH1cblx0ICBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHZhciBDdG9yO1xuXHQgICAgdmFyIG5zID0gY29uZmlnLmdldFRhZ05hbWVzcGFjZSh0YWcpO1xuXHQgICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHtcblx0ICAgICAgLy8gcGxhdGZvcm0gYnVpbHQtaW4gZWxlbWVudHNcblx0ICAgICAgcmV0dXJuIG5ldyBWTm9kZShcblx0ICAgICAgICB0YWcsIGRhdGEsIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuLCBucyksXG5cdCAgICAgICAgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG5zLCBjb250ZXh0XG5cdCAgICAgIClcblx0ICAgIH0gZWxzZSBpZiAoKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkge1xuXHQgICAgICAvLyBjb21wb25lbnRcblx0ICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gdW5rbm93biBvciB1bmxpc3RlZCBuYW1lc3BhY2VkIGVsZW1lbnRzXG5cdCAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzXG5cdCAgICAgIC8vIHBhcmVudCBub3JtYWxpemVzIGNoaWxkcmVuXG5cdCAgICAgIHZhciBjaGlsZE5zID0gdGFnID09PSAnZm9yZWlnbk9iamVjdCcgPyAneGh0bWwnIDogbnM7XG5cdCAgICAgIHJldHVybiBuZXcgVk5vZGUoXG5cdCAgICAgICAgdGFnLCBkYXRhLCBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiwgY2hpbGROcyksXG5cdCAgICAgICAgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG5zLCBjb250ZXh0XG5cdCAgICAgIClcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gZGlyZWN0IGNvbXBvbmVudCBvcHRpb25zIC8gY29uc3RydWN0b3Jcblx0ICAgIHJldHVybiBjcmVhdGVDb21wb25lbnQodGFnLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdFJlbmRlciAodm0pIHtcblx0ICB2bS4kdm5vZGUgPSBudWxsOyAvLyB0aGUgcGxhY2Vob2xkZXIgbm9kZSBpbiBwYXJlbnQgdHJlZVxuXHQgIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXG5cdCAgdm0uX3N0YXRpY1RyZWVzID0gbnVsbDtcblx0ICB2bS5fcmVuZGVyQ29udGV4dCA9IHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSAmJiB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUuY29udGV4dDtcblx0ICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHModm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLCB2bS5fcmVuZGVyQ29udGV4dCk7XG5cdCAgdm0uJHNjb3BlZFNsb3RzID0ge307XG5cdCAgLy8gYmluZCB0aGUgcHVibGljIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZVxuXHQgIC8vIHNvIHRoYXQgd2UgZ2V0IHByb3BlciByZW5kZXIgY29udGV4dCBpbnNpZGUgaXQuXG5cdCAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBiaW5kJDEoY3JlYXRlRWxlbWVudCwgdm0pO1xuXHQgIGlmICh2bS4kb3B0aW9ucy5lbCkge1xuXHQgICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHtcblx0ICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIG5leHRUaWNrKGZuLCB0aGlzKVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgcmVmID0gdm0uJG9wdGlvbnM7XG5cdCAgICB2YXIgcmVuZGVyID0gcmVmLnJlbmRlcjtcblx0ICAgIHZhciBzdGF0aWNSZW5kZXJGbnMgPSByZWYuc3RhdGljUmVuZGVyRm5zO1xuXHQgICAgdmFyIF9wYXJlbnRWbm9kZSA9IHJlZi5fcGFyZW50Vm5vZGU7XG5cdFxuXHQgICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcblx0ICAgICAgLy8gY2xvbmUgc2xvdCBub2RlcyBvbiByZS1yZW5kZXJzXG5cdCAgICAgIGZvciAodmFyIGtleSBpbiB2bS4kc2xvdHMpIHtcblx0ICAgICAgICB2bS4kc2xvdHNba2V5XSA9IGNsb25lVk5vZGVzKHZtLiRzbG90c1trZXldKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChfcGFyZW50Vm5vZGUgJiYgX3BhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHMpIHtcblx0ICAgICAgdm0uJHNjb3BlZFNsb3RzID0gX3BhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHM7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN0YXRpY1JlbmRlckZucyAmJiAhdm0uX3N0YXRpY1RyZWVzKSB7XG5cdCAgICAgIHZtLl9zdGF0aWNUcmVlcyA9IFtdO1xuXHQgICAgfVxuXHQgICAgLy8gc2V0IHBhcmVudCB2bm9kZS4gdGhpcyBhbGxvd3MgcmVuZGVyIGZ1bmN0aW9ucyB0byBoYXZlIGFjY2Vzc1xuXHQgICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuXG5cdCAgICB2bS4kdm5vZGUgPSBfcGFyZW50Vm5vZGU7XG5cdCAgICAvLyByZW5kZXIgc2VsZlxuXHQgICAgdmFyIHZub2RlO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgdm5vZGUgPSByZW5kZXIuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICB3YXJuKChcIkVycm9yIHdoZW4gcmVuZGVyaW5nIFwiICsgKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSArIFwiOlwiKSk7XG5cdCAgICAgIH1cblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0ICAgICAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcblx0ICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdm0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChpc1NlcnZlclJlbmRlcmluZygpKSB7XG5cdCAgICAgICAgICB0aHJvdyBlXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIC8vIHJldHVybiBwcmV2aW91cyB2bm9kZSB0byBwcmV2ZW50IHJlbmRlciBlcnJvciBjYXVzaW5nIGJsYW5rIGNvbXBvbmVudFxuXHQgICAgICB2bm9kZSA9IHZtLl92bm9kZTtcblx0ICAgIH1cblx0ICAgIC8vIHJldHVybiBlbXB0eSB2bm9kZSBpbiBjYXNlIHRoZSByZW5kZXIgZnVuY3Rpb24gZXJyb3JlZCBvdXRcblx0ICAgIGlmICghKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpKSB7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIEFycmF5LmlzQXJyYXkodm5vZGUpKSB7XG5cdCAgICAgICAgd2Fybihcblx0ICAgICAgICAgICdNdWx0aXBsZSByb290IG5vZGVzIHJldHVybmVkIGZyb20gcmVuZGVyIGZ1bmN0aW9uLiBSZW5kZXIgZnVuY3Rpb24gJyArXG5cdCAgICAgICAgICAnc2hvdWxkIHJldHVybiBhIHNpbmdsZSByb290IG5vZGUuJyxcblx0ICAgICAgICAgIHZtXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgICB2bm9kZSA9IGVtcHR5Vk5vZGUoKTtcblx0ICAgIH1cblx0ICAgIC8vIHNldCBwYXJlbnRcblx0ICAgIHZub2RlLnBhcmVudCA9IF9wYXJlbnRWbm9kZTtcblx0ICAgIHJldHVybiB2bm9kZVxuXHQgIH07XG5cdFxuXHQgIC8vIHNob3J0aGFuZHMgdXNlZCBpbiByZW5kZXIgZnVuY3Rpb25zXG5cdCAgVnVlLnByb3RvdHlwZS5faCA9IGNyZWF0ZUVsZW1lbnQ7XG5cdCAgLy8gdG9TdHJpbmcgZm9yIG11c3RhY2hlc1xuXHQgIFZ1ZS5wcm90b3R5cGUuX3MgPSBfdG9TdHJpbmc7XG5cdCAgLy8gbnVtYmVyIGNvbnZlcnNpb25cblx0ICBWdWUucHJvdG90eXBlLl9uID0gdG9OdW1iZXI7XG5cdCAgLy8gZW1wdHkgdm5vZGVcblx0ICBWdWUucHJvdG90eXBlLl9lID0gZW1wdHlWTm9kZTtcblx0ICAvLyBsb29zZSBlcXVhbFxuXHQgIFZ1ZS5wcm90b3R5cGUuX3EgPSBsb29zZUVxdWFsO1xuXHQgIC8vIGxvb3NlIGluZGV4T2Zcblx0ICBWdWUucHJvdG90eXBlLl9pID0gbG9vc2VJbmRleE9mO1xuXHRcblx0ICAvLyByZW5kZXIgc3RhdGljIHRyZWUgYnkgaW5kZXhcblx0ICBWdWUucHJvdG90eXBlLl9tID0gZnVuY3Rpb24gcmVuZGVyU3RhdGljIChcblx0ICAgIGluZGV4LFxuXHQgICAgaXNJbkZvclxuXHQgICkge1xuXHQgICAgdmFyIHRyZWUgPSB0aGlzLl9zdGF0aWNUcmVlc1tpbmRleF07XG5cdCAgICAvLyBpZiBoYXMgYWxyZWFkeS1yZW5kZXJlZCBzdGF0aWMgdHJlZSBhbmQgbm90IGluc2lkZSB2LWZvcixcblx0ICAgIC8vIHdlIGNhbiByZXVzZSB0aGUgc2FtZSB0cmVlIGJ5IGRvaW5nIGEgc2hhbGxvdyBjbG9uZS5cblx0ICAgIGlmICh0cmVlICYmICFpc0luRm9yKSB7XG5cdCAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRyZWUpXG5cdCAgICAgICAgPyBjbG9uZVZOb2Rlcyh0cmVlKVxuXHQgICAgICAgIDogY2xvbmVWTm9kZSh0cmVlKVxuXHQgICAgfVxuXHQgICAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLlxuXHQgICAgdHJlZSA9IHRoaXMuX3N0YXRpY1RyZWVzW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKHRoaXMuX3JlbmRlclByb3h5KTtcblx0ICAgIG1hcmtTdGF0aWModHJlZSwgKFwiX19zdGF0aWNfX1wiICsgaW5kZXgpLCBmYWxzZSk7XG5cdCAgICByZXR1cm4gdHJlZVxuXHQgIH07XG5cdFxuXHQgIC8vIG1hcmsgbm9kZSBhcyBzdGF0aWMgKHYtb25jZSlcblx0ICBWdWUucHJvdG90eXBlLl9vID0gZnVuY3Rpb24gbWFya09uY2UgKFxuXHQgICAgdHJlZSxcblx0ICAgIGluZGV4LFxuXHQgICAga2V5XG5cdCAgKSB7XG5cdCAgICBtYXJrU3RhdGljKHRyZWUsIChcIl9fb25jZV9fXCIgKyBpbmRleCArIChrZXkgPyAoXCJfXCIgKyBrZXkpIDogXCJcIikpLCB0cnVlKTtcblx0ICAgIHJldHVybiB0cmVlXG5cdCAgfTtcblx0XG5cdCAgZnVuY3Rpb24gbWFya1N0YXRpYyAodHJlZSwga2V5LCBpc09uY2UpIHtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHRyZWUpKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmICh0cmVlW2ldICYmIHR5cGVvZiB0cmVlW2ldICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgbWFya1N0YXRpY05vZGUodHJlZVtpXSwgKGtleSArIFwiX1wiICsgaSksIGlzT25jZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBtYXJrU3RhdGljTm9kZSh0cmVlLCBrZXksIGlzT25jZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBtYXJrU3RhdGljTm9kZSAobm9kZSwga2V5LCBpc09uY2UpIHtcblx0ICAgIG5vZGUuaXNTdGF0aWMgPSB0cnVlO1xuXHQgICAgbm9kZS5rZXkgPSBrZXk7XG5cdCAgICBub2RlLmlzT25jZSA9IGlzT25jZTtcblx0ICB9XG5cdFxuXHQgIC8vIGZpbHRlciByZXNvbHV0aW9uIGhlbHBlclxuXHQgIHZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIChfKSB7IHJldHVybiBfOyB9O1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2YgPSBmdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkge1xuXHQgICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eVxuXHQgIH07XG5cdFxuXHQgIC8vIHJlbmRlciB2LWZvclxuXHQgIFZ1ZS5wcm90b3R5cGUuX2wgPSBmdW5jdGlvbiByZW5kZXJMaXN0IChcblx0ICAgIHZhbCxcblx0ICAgIHJlbmRlclxuXHQgICkge1xuXHQgICAgdmFyIHJldCwgaSwgbCwga2V5cywga2V5O1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHQgICAgICByZXQgPSBuZXcgQXJyYXkodmFsLmxlbmd0aCk7XG5cdCAgICAgIGZvciAoaSA9IDAsIGwgPSB2YWwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtpXSwgaSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbCk7XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWw7IGkrKykge1xuXHQgICAgICAgIHJldFtpXSA9IHJlbmRlcihpICsgMSwgaSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuXHQgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcblx0ICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2tleV0sIGtleSwgaSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXRcblx0ICB9O1xuXHRcblx0ICAvLyByZW5kZXJTbG90XG5cdCAgVnVlLnByb3RvdHlwZS5fdCA9IGZ1bmN0aW9uIChcblx0ICAgIG5hbWUsXG5cdCAgICBmYWxsYmFjayxcblx0ICAgIHByb3BzXG5cdCAgKSB7XG5cdCAgICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07XG5cdCAgICBpZiAoc2NvcGVkU2xvdEZuKSB7IC8vIHNjb3BlZCBzbG90XG5cdCAgICAgIHJldHVybiBzY29wZWRTbG90Rm4ocHJvcHMgfHwge30pIHx8IGZhbGxiYWNrXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc2xvdE5vZGVzID0gdGhpcy4kc2xvdHNbbmFtZV07XG5cdCAgICAgIC8vIHdhcm4gZHVwbGljYXRlIHNsb3QgdXNhZ2Vcblx0ICAgICAgaWYgKHNsb3ROb2RlcyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgc2xvdE5vZGVzLl9yZW5kZXJlZCAmJiB3YXJuKFxuXHQgICAgICAgICAgXCJEdXBsaWNhdGUgcHJlc2VuY2Ugb2Ygc2xvdCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGZvdW5kIGluIHRoZSBzYW1lIHJlbmRlciB0cmVlIFwiICtcblx0ICAgICAgICAgIFwiLSB0aGlzIHdpbGwgbGlrZWx5IGNhdXNlIHJlbmRlciBlcnJvcnMuXCIsXG5cdCAgICAgICAgICB0aGlzXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBzbG90Tm9kZXMuX3JlbmRlcmVkID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gc2xvdE5vZGVzIHx8IGZhbGxiYWNrXG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8gYXBwbHkgdi1iaW5kIG9iamVjdFxuXHQgIFZ1ZS5wcm90b3R5cGUuX2IgPSBmdW5jdGlvbiBiaW5kUHJvcHMgKFxuXHQgICAgZGF0YSxcblx0ICAgIHRhZyxcblx0ICAgIHZhbHVlLFxuXHQgICAgYXNQcm9wXG5cdCAgKSB7XG5cdCAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG5cdCAgICAgICAgICAndi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3Qgb3IgQXJyYXkgdmFsdWUnLFxuXHQgICAgICAgICAgdGhpc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG5cdCAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJykge1xuXHQgICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZVtrZXldO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywga2V5KVxuXHQgICAgICAgICAgICAgID8gZGF0YS5kb21Qcm9wcyB8fCAoZGF0YS5kb21Qcm9wcyA9IHt9KVxuXHQgICAgICAgICAgICAgIDogZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTtcblx0ICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRhXG5cdCAgfTtcblx0XG5cdCAgLy8gZXhwb3NlIHYtb24ga2V5Q29kZXNcblx0ICBWdWUucHJvdG90eXBlLl9rID0gZnVuY3Rpb24gZ2V0S2V5Q29kZXMgKGtleSkge1xuXHQgICAgcmV0dXJuIGNvbmZpZy5rZXlDb2Rlc1trZXldXG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVzb2x2ZVNsb3RzIChcblx0ICByZW5kZXJDaGlsZHJlbixcblx0ICBjb250ZXh0XG5cdCkge1xuXHQgIHZhciBzbG90cyA9IHt9O1xuXHQgIGlmICghcmVuZGVyQ2hpbGRyZW4pIHtcblx0ICAgIHJldHVybiBzbG90c1xuXHQgIH1cblx0ICB2YXIgY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihyZW5kZXJDaGlsZHJlbikgfHwgW107XG5cdCAgdmFyIGRlZmF1bHRTbG90ID0gW107XG5cdCAgdmFyIG5hbWUsIGNoaWxkO1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHQgICAgLy8gbmFtZWQgc2xvdHMgc2hvdWxkIG9ubHkgYmUgcmVzcGVjdGVkIGlmIHRoZSB2bm9kZSB3YXMgcmVuZGVyZWQgaW4gdGhlXG5cdCAgICAvLyBzYW1lIGNvbnRleHQuXG5cdCAgICBpZiAoKGNoaWxkLmNvbnRleHQgPT09IGNvbnRleHQgfHwgY2hpbGQuZnVuY3Rpb25hbENvbnRleHQgPT09IGNvbnRleHQpICYmXG5cdCAgICAgICAgY2hpbGQuZGF0YSAmJiAobmFtZSA9IGNoaWxkLmRhdGEuc2xvdCkpIHtcblx0ICAgICAgdmFyIHNsb3QgPSAoc2xvdHNbbmFtZV0gfHwgKHNsb3RzW25hbWVdID0gW10pKTtcblx0ICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuXHQgICAgICAgIHNsb3QucHVzaC5hcHBseShzbG90LCBjaGlsZC5jaGlsZHJlbik7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc2xvdC5wdXNoKGNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVmYXVsdFNsb3QucHVzaChjaGlsZCk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGlnbm9yZSBzaW5nbGUgd2hpdGVzcGFjZVxuXHQgIGlmIChkZWZhdWx0U2xvdC5sZW5ndGggJiYgIShcblx0ICAgIGRlZmF1bHRTbG90Lmxlbmd0aCA9PT0gMSAmJlxuXHQgICAgKGRlZmF1bHRTbG90WzBdLnRleHQgPT09ICcgJyB8fCBkZWZhdWx0U2xvdFswXS5pc0NvbW1lbnQpXG5cdCAgKSkge1xuXHQgICAgc2xvdHMuZGVmYXVsdCA9IGRlZmF1bHRTbG90O1xuXHQgIH1cblx0ICByZXR1cm4gc2xvdHNcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBpbml0RXZlbnRzICh2bSkge1xuXHQgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIC8vIGluaXQgcGFyZW50IGF0dGFjaGVkIGV2ZW50c1xuXHQgIHZhciBsaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuXHQgIHZhciBvbiA9IGJpbmQkMSh2bS4kb24sIHZtKTtcblx0ICB2YXIgb2ZmID0gYmluZCQxKHZtLiRvZmYsIHZtKTtcblx0ICB2bS5fdXBkYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKSB7XG5cdCAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIG9uLCBvZmYsIHZtKTtcblx0ICB9O1xuXHQgIGlmIChsaXN0ZW5lcnMpIHtcblx0ICAgIHZtLl91cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV2ZW50c01peGluIChWdWUpIHtcblx0ICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7KHZtLl9ldmVudHNbZXZlbnRdIHx8ICh2bS5fZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG5cdCAgICByZXR1cm4gdm1cblx0ICB9O1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiRvbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIGZ1bmN0aW9uIG9uICgpIHtcblx0ICAgICAgdm0uJG9mZihldmVudCwgb24pO1xuXHQgICAgICBmbi5hcHBseSh2bSwgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICAgIG9uLmZuID0gZm47XG5cdCAgICB2bS4kb24oZXZlbnQsIG9uKTtcblx0ICAgIHJldHVybiB2bVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICAvLyBhbGxcblx0ICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuXHQgICAgICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAgICAgcmV0dXJuIHZtXG5cdCAgICB9XG5cdCAgICAvLyBzcGVjaWZpYyBldmVudFxuXHQgICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuXHQgICAgaWYgKCFjYnMpIHtcblx0ICAgICAgcmV0dXJuIHZtXG5cdCAgICB9XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICB2bS5fZXZlbnRzW2V2ZW50XSA9IG51bGw7XG5cdCAgICAgIHJldHVybiB2bVxuXHQgICAgfVxuXHQgICAgLy8gc3BlY2lmaWMgaGFuZGxlclxuXHQgICAgdmFyIGNiO1xuXHQgICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xuXHQgICAgd2hpbGUgKGktLSkge1xuXHQgICAgICBjYiA9IGNic1tpXTtcblx0ICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcblx0ICAgICAgICBjYnMuc3BsaWNlKGksIDEpO1xuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB2bVxuXHQgIH07XG5cdFxuXHQgIFZ1ZS5wcm90b3R5cGUuJGVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XG5cdCAgICBpZiAoY2JzKSB7XG5cdCAgICAgIGNicyA9IGNicy5sZW5ndGggPiAxID8gdG9BcnJheShjYnMpIDogY2JzO1xuXHQgICAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgY2JzW2ldLmFwcGx5KHZtLCBhcmdzKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtXG5cdCAgfTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgdWlkID0gMDtcblx0XG5cdGZ1bmN0aW9uIGluaXRNaXhpbiAoVnVlKSB7XG5cdCAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgLy8gYSB1aWRcblx0ICAgIHZtLl91aWQgPSB1aWQrKztcblx0ICAgIC8vIGEgZmxhZyB0byBhdm9pZCB0aGlzIGJlaW5nIG9ic2VydmVkXG5cdCAgICB2bS5faXNWdWUgPSB0cnVlO1xuXHQgICAgLy8gbWVyZ2Ugb3B0aW9uc1xuXHQgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHtcblx0ICAgICAgLy8gb3B0aW1pemUgaW50ZXJuYWwgY29tcG9uZW50IGluc3RhbnRpYXRpb25cblx0ICAgICAgLy8gc2luY2UgZHluYW1pYyBvcHRpb25zIG1lcmdpbmcgaXMgcHJldHR5IHNsb3csIGFuZCBub25lIG9mIHRoZVxuXHQgICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC5cblx0ICAgICAgaW5pdEludGVybmFsQ29tcG9uZW50KHZtLCBvcHRpb25zKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuXHQgICAgICAgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnModm0uY29uc3RydWN0b3IpLFxuXHQgICAgICAgIG9wdGlvbnMgfHwge30sXG5cdCAgICAgICAgdm1cblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICBpbml0UHJveHkodm0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG5cdCAgICB9XG5cdCAgICAvLyBleHBvc2UgcmVhbCBzZWxmXG5cdCAgICB2bS5fc2VsZiA9IHZtO1xuXHQgICAgaW5pdExpZmVjeWNsZSh2bSk7XG5cdCAgICBpbml0RXZlbnRzKHZtKTtcblx0ICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlQ3JlYXRlJyk7XG5cdCAgICBpbml0U3RhdGUodm0pO1xuXHQgICAgY2FsbEhvb2sodm0sICdjcmVhdGVkJyk7XG5cdCAgICBpbml0UmVuZGVyKHZtKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbml0SW50ZXJuYWxDb21wb25lbnQgKHZtLCBvcHRpb25zKSB7XG5cdCAgdmFyIG9wdHMgPSB2bS4kb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUodm0uY29uc3RydWN0b3Iub3B0aW9ucyk7XG5cdCAgLy8gZG9pbmcgdGhpcyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZHluYW1pYyBlbnVtZXJhdGlvbi5cblx0ICBvcHRzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuXHQgIG9wdHMucHJvcHNEYXRhID0gb3B0aW9ucy5wcm9wc0RhdGE7XG5cdCAgb3B0cy5fcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcblx0ICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG5cdCAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSBvcHRpb25zLl9yZW5kZXJDaGlsZHJlbjtcblx0ICBvcHRzLl9jb21wb25lbnRUYWcgPSBvcHRpb25zLl9jb21wb25lbnRUYWc7XG5cdCAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG5cdCAgICBvcHRzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuXHQgICAgb3B0cy5zdGF0aWNSZW5kZXJGbnMgPSBvcHRpb25zLnN0YXRpY1JlbmRlckZucztcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMgKEN0b3IpIHtcblx0ICB2YXIgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucztcblx0ICBpZiAoQ3Rvci5zdXBlcikge1xuXHQgICAgdmFyIHN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXIub3B0aW9ucztcblx0ICAgIHZhciBjYWNoZWRTdXBlck9wdGlvbnMgPSBDdG9yLnN1cGVyT3B0aW9ucztcblx0ICAgIHZhciBleHRlbmRPcHRpb25zID0gQ3Rvci5leHRlbmRPcHRpb25zO1xuXHQgICAgaWYgKHN1cGVyT3B0aW9ucyAhPT0gY2FjaGVkU3VwZXJPcHRpb25zKSB7XG5cdCAgICAgIC8vIHN1cGVyIG9wdGlvbiBjaGFuZ2VkXG5cdCAgICAgIEN0b3Iuc3VwZXJPcHRpb25zID0gc3VwZXJPcHRpb25zO1xuXHQgICAgICBleHRlbmRPcHRpb25zLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuXHQgICAgICBleHRlbmRPcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xuXHQgICAgICBleHRlbmRPcHRpb25zLl9zY29wZUlkID0gb3B0aW9ucy5fc2NvcGVJZDtcblx0ICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIGV4dGVuZE9wdGlvbnMpO1xuXHQgICAgICBpZiAob3B0aW9ucy5uYW1lKSB7XG5cdCAgICAgICAgb3B0aW9ucy5jb21wb25lbnRzW29wdGlvbnMubmFtZV0gPSBDdG9yO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBvcHRpb25zXG5cdH1cblx0XG5cdGZ1bmN0aW9uIFZ1ZSQyIChvcHRpb25zKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcblx0ICAgICEodGhpcyBpbnN0YW5jZW9mIFZ1ZSQyKSkge1xuXHQgICAgd2FybignVnVlIGlzIGEgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgYG5ld2Aga2V5d29yZCcpO1xuXHQgIH1cblx0ICB0aGlzLl9pbml0KG9wdGlvbnMpO1xuXHR9XG5cdFxuXHRpbml0TWl4aW4oVnVlJDIpO1xuXHRzdGF0ZU1peGluKFZ1ZSQyKTtcblx0ZXZlbnRzTWl4aW4oVnVlJDIpO1xuXHRsaWZlY3ljbGVNaXhpbihWdWUkMik7XG5cdHJlbmRlck1peGluKFZ1ZSQyKTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdFVzZSAoVnVlKSB7XG5cdCAgVnVlLnVzZSA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgICAgaWYgKHBsdWdpbi5pbnN0YWxsZWQpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICAvLyBhZGRpdGlvbmFsIHBhcmFtZXRlcnNcblx0ICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xuXHQgICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuXHQgICAgaWYgKHR5cGVvZiBwbHVnaW4uaW5zdGFsbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBwbHVnaW4uaW5zdGFsbC5hcHBseShwbHVnaW4sIGFyZ3MpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGx1Z2luLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgfVxuXHQgICAgcGx1Z2luLmluc3RhbGxlZCA9IHRydWU7XG5cdCAgICByZXR1cm4gdGhpc1xuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdE1peGluJDEgKFZ1ZSkge1xuXHQgIFZ1ZS5taXhpbiA9IGZ1bmN0aW9uIChtaXhpbikge1xuXHQgICAgdGhpcy5vcHRpb25zID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgbWl4aW4pO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7XG5cdCAgLyoqXG5cdCAgICogRWFjaCBpbnN0YW5jZSBjb25zdHJ1Y3RvciwgaW5jbHVkaW5nIFZ1ZSwgaGFzIGEgdW5pcXVlXG5cdCAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxuXHQgICAqIGNvbnN0cnVjdG9yc1wiIGZvciBwcm90b3R5cGFsIGluaGVyaXRhbmNlIGFuZCBjYWNoZSB0aGVtLlxuXHQgICAqL1xuXHQgIFZ1ZS5jaWQgPSAwO1xuXHQgIHZhciBjaWQgPSAxO1xuXHRcblx0ICAvKipcblx0ICAgKiBDbGFzcyBpbmhlcml0YW5jZVxuXHQgICAqL1xuXHQgIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xuXHQgICAgZXh0ZW5kT3B0aW9ucyA9IGV4dGVuZE9wdGlvbnMgfHwge307XG5cdCAgICB2YXIgU3VwZXIgPSB0aGlzO1xuXHQgICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XG5cdCAgICB2YXIgY2FjaGVkQ3RvcnMgPSBleHRlbmRPcHRpb25zLl9DdG9yIHx8IChleHRlbmRPcHRpb25zLl9DdG9yID0ge30pO1xuXHQgICAgaWYgKGNhY2hlZEN0b3JzW1N1cGVySWRdKSB7XG5cdCAgICAgIHJldHVybiBjYWNoZWRDdG9yc1tTdXBlcklkXVxuXHQgICAgfVxuXHQgICAgdmFyIG5hbWUgPSBleHRlbmRPcHRpb25zLm5hbWUgfHwgU3VwZXIub3B0aW9ucy5uYW1lO1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgaWYgKCEvXlthLXpBLVpdW1xcdy1dKiQvLnRlc3QobmFtZSkpIHtcblx0ICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6IFwiJyArIG5hbWUgKyAnXCIuIENvbXBvbmVudCBuYW1lcyAnICtcblx0ICAgICAgICAgICdjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWNhdGVycyBhbmQgdGhlIGh5cGhlbi4nXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIFN1YiA9IGZ1bmN0aW9uIFZ1ZUNvbXBvbmVudCAob3B0aW9ucykge1xuXHQgICAgICB0aGlzLl9pbml0KG9wdGlvbnMpO1xuXHQgICAgfTtcblx0ICAgIFN1Yi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN1cGVyLnByb3RvdHlwZSk7XG5cdCAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViO1xuXHQgICAgU3ViLmNpZCA9IGNpZCsrO1xuXHQgICAgU3ViLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG5cdCAgICAgIFN1cGVyLm9wdGlvbnMsXG5cdCAgICAgIGV4dGVuZE9wdGlvbnNcblx0ICAgICk7XG5cdCAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjtcblx0ICAgIC8vIGFsbG93IGZ1cnRoZXIgZXh0ZW5zaW9uL21peGluL3BsdWdpbiB1c2FnZVxuXHQgICAgU3ViLmV4dGVuZCA9IFN1cGVyLmV4dGVuZDtcblx0ICAgIFN1Yi5taXhpbiA9IFN1cGVyLm1peGluO1xuXHQgICAgU3ViLnVzZSA9IFN1cGVyLnVzZTtcblx0ICAgIC8vIGNyZWF0ZSBhc3NldCByZWdpc3RlcnMsIHNvIGV4dGVuZGVkIGNsYXNzZXNcblx0ICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby5cblx0ICAgIGNvbmZpZy5fYXNzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdO1xuXHQgICAgfSk7XG5cdCAgICAvLyBlbmFibGUgcmVjdXJzaXZlIHNlbGYtbG9va3VwXG5cdCAgICBpZiAobmFtZSkge1xuXHQgICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xuXHQgICAgfVxuXHQgICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgc3VwZXIgb3B0aW9ucyBhdCBleHRlbnNpb24gdGltZS5cblx0ICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlXG5cdCAgICAvLyBiZWVuIHVwZGF0ZWQuXG5cdCAgICBTdWIuc3VwZXJPcHRpb25zID0gU3VwZXIub3B0aW9ucztcblx0ICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucztcblx0ICAgIC8vIGNhY2hlIGNvbnN0cnVjdG9yXG5cdCAgICBjYWNoZWRDdG9yc1tTdXBlcklkXSA9IFN1Yjtcblx0ICAgIHJldHVybiBTdWJcblx0ICB9O1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyAoVnVlKSB7XG5cdCAgLyoqXG5cdCAgICogQ3JlYXRlIGFzc2V0IHJlZ2lzdHJhdGlvbiBtZXRob2RzLlxuXHQgICAqL1xuXHQgIGNvbmZpZy5fYXNzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgICBWdWVbdHlwZV0gPSBmdW5jdGlvbiAoXG5cdCAgICAgIGlkLFxuXHQgICAgICBkZWZpbml0aW9uXG5cdCAgICApIHtcblx0ICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb21wb25lbnQnICYmIGNvbmZpZy5pc1Jlc2VydmVkVGFnKGlkKSkge1xuXHQgICAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAgICdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50ICcgK1xuXHQgICAgICAgICAgICAgICdpZDogJyArIGlkXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XG5cdCAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBkZWZpbml0aW9uLm5hbWUgfHwgaWQ7XG5cdCAgICAgICAgICBkZWZpbml0aW9uID0gdGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChkZWZpbml0aW9uKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdkaXJlY3RpdmUnICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICBkZWZpbml0aW9uID0geyBiaW5kOiBkZWZpbml0aW9uLCB1cGRhdGU6IGRlZmluaXRpb24gfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXSA9IGRlZmluaXRpb247XG5cdCAgICAgICAgcmV0dXJuIGRlZmluaXRpb25cblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9KTtcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgcGF0dGVyblR5cGVzID0gW1N0cmluZywgUmVnRXhwXTtcblx0XG5cdGZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcblx0ICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMVxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpXG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgS2VlcEFsaXZlID0ge1xuXHQgIG5hbWU6ICdrZWVwLWFsaXZlJyxcblx0ICBhYnN0cmFjdDogdHJ1ZSxcblx0ICBwcm9wczoge1xuXHQgICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLFxuXHQgICAgZXhjbHVkZTogcGF0dGVyblR5cGVzXG5cdCAgfSxcblx0ICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcblx0ICAgIHRoaXMuY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKCkge1xuXHQgICAgdmFyIHZub2RlID0gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCh0aGlzLiRzbG90cy5kZWZhdWx0KTtcblx0ICAgIGlmICh2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zKSB7XG5cdCAgICAgIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblx0ICAgICAgLy8gY2hlY2sgcGF0dGVyblxuXHQgICAgICB2YXIgbmFtZSA9IG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWc7XG5cdCAgICAgIGlmIChuYW1lICYmIChcblx0ICAgICAgICAodGhpcy5pbmNsdWRlICYmICFtYXRjaGVzKHRoaXMuaW5jbHVkZSwgbmFtZSkpIHx8XG5cdCAgICAgICAgKHRoaXMuZXhjbHVkZSAmJiBtYXRjaGVzKHRoaXMuZXhjbHVkZSwgbmFtZSkpXG5cdCAgICAgICkpIHtcblx0ICAgICAgICByZXR1cm4gdm5vZGVcblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGxcblx0ICAgICAgICAvLyBzYW1lIGNvbnN0cnVjdG9yIG1heSBnZXQgcmVnaXN0ZXJlZCBhcyBkaWZmZXJlbnQgbG9jYWwgY29tcG9uZW50c1xuXHQgICAgICAgIC8vIHNvIGNpZCBhbG9uZSBpcyBub3QgZW5vdWdoICgjMzI2OSlcblx0ICAgICAgICA/IG9wdHMuQ3Rvci5jaWQgKyAob3B0cy50YWcgPyAoXCI6OlwiICsgKG9wdHMudGFnKSkgOiAnJylcblx0ICAgICAgICA6IHZub2RlLmtleTtcblx0ICAgICAgaWYgKHRoaXMuY2FjaGVba2V5XSkge1xuXHQgICAgICAgIHZub2RlLmNoaWxkID0gdGhpcy5jYWNoZVtrZXldLmNoaWxkO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IHZub2RlO1xuXHQgICAgICB9XG5cdCAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2bm9kZVxuXHQgIH0sXG5cdCAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQgKCkge1xuXHQgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cdFxuXHQgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGUpIHtcblx0ICAgICAgdmFyIHZub2RlID0gdGhpcyQxLmNhY2hlW2tleV07XG5cdCAgICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnZGVhY3RpdmF0ZWQnKTtcblx0ICAgICAgdm5vZGUuY2hpbGQuJGRlc3Ryb3koKTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgYnVpbHRJbkNvbXBvbmVudHMgPSB7XG5cdCAgS2VlcEFsaXZlOiBLZWVwQWxpdmVcblx0fTtcblx0XG5cdC8qICAqL1xuXHRcblx0ZnVuY3Rpb24gaW5pdEdsb2JhbEFQSSAoVnVlKSB7XG5cdCAgLy8gY29uZmlnXG5cdCAgdmFyIGNvbmZpZ0RlZiA9IHt9O1xuXHQgIGNvbmZpZ0RlZi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25maWc7IH07XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGNvbmZpZ0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJ1xuXHQgICAgICApO1xuXHQgICAgfTtcblx0ICB9XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ2NvbmZpZycsIGNvbmZpZ0RlZik7XG5cdCAgVnVlLnV0aWwgPSB1dGlsO1xuXHQgIFZ1ZS5zZXQgPSBzZXQ7XG5cdCAgVnVlLmRlbGV0ZSA9IGRlbDtcblx0ICBWdWUubmV4dFRpY2sgPSBuZXh0VGljaztcblx0XG5cdCAgVnVlLm9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgIGNvbmZpZy5fYXNzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgICBWdWUub3B0aW9uc1t0eXBlICsgJ3MnXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgfSk7XG5cdFxuXHQgIC8vIHRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgXCJiYXNlXCIgY29uc3RydWN0b3IgdG8gZXh0ZW5kIGFsbCBwbGFpbi1vYmplY3Rcblx0ICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cblx0ICBWdWUub3B0aW9ucy5fYmFzZSA9IFZ1ZTtcblx0XG5cdCAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcblx0XG5cdCAgaW5pdFVzZShWdWUpO1xuXHQgIGluaXRNaXhpbiQxKFZ1ZSk7XG5cdCAgaW5pdEV4dGVuZChWdWUpO1xuXHQgIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpO1xuXHR9XG5cdFxuXHRpbml0R2xvYmFsQVBJKFZ1ZSQyKTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUkMi5wcm90b3R5cGUsICckaXNTZXJ2ZXInLCB7XG5cdCAgZ2V0OiBpc1NlcnZlclJlbmRlcmluZ1xuXHR9KTtcblx0XG5cdFZ1ZSQyLnZlcnNpb24gPSAnMi4xLjMnO1xuXHRcblx0LyogICovXG5cdFxuXHQvLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nXG5cdHZhciBtdXN0VXNlUHJvcCA9IGZ1bmN0aW9uICh0YWcsIGF0dHIpIHtcblx0ICByZXR1cm4gKFxuXHQgICAgKGF0dHIgPT09ICd2YWx1ZScgJiYgKHRhZyA9PT0gJ2lucHV0JyB8fCB0YWcgPT09ICd0ZXh0YXJlYScgfHwgdGFnID09PSAnb3B0aW9uJykpIHx8XG5cdCAgICAoYXR0ciA9PT0gJ3NlbGVjdGVkJyAmJiB0YWcgPT09ICdvcHRpb24nKSB8fFxuXHQgICAgKGF0dHIgPT09ICdjaGVja2VkJyAmJiB0YWcgPT09ICdpbnB1dCcpIHx8XG5cdCAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpXG5cdCAgKVxuXHR9O1xuXHRcblx0dmFyIGlzRW51bWVyYXRlZEF0dHIgPSBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKTtcblx0XG5cdHZhciBpc0Jvb2xlYW5BdHRyID0gbWFrZU1hcChcblx0ICAnYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSwnICtcblx0ICAnZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLCcgK1xuXHQgICdlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLCcgK1xuXHQgICdtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LCcgK1xuXHQgICdyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLCcgK1xuXHQgICd0cnVlc3BlZWQsdHlwZW11c3RtYXRjaCx2aXNpYmxlJ1xuXHQpO1xuXHRcblx0dmFyIGlzQXR0ciA9IG1ha2VNYXAoXG5cdCAgJ2FjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsdCxhc3luYyxhdXRvY29tcGxldGUsJyArXG5cdCAgJ2F1dG9mb2N1cyxhdXRvcGxheSxhdXRvc2F2ZSxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjaGFsbGVuZ2UsY2hhcnNldCwnICtcblx0ICAnY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsaHR0cC1lcXVpdiwnICtcblx0ICAnbmFtZSxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsY29vcmRzLGRhdGEsZGF0ZXRpbWUsZGVmYXVsdCwnICtcblx0ICAnZGVmZXIsZGlyLGRpcm5hbWUsZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsbWV0aG9kLGZvciwnICtcblx0ICAnZm9ybSxmb3JtYWN0aW9uLGhlYWRlcnMsPHRoPixoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LCcgK1xuXHQgICdpY29uLGlkLGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxpc3QsbG9vcCxsb3csJyArXG5cdCAgJ21hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWVkaWEsbWV0aG9kLEdFVCxQT1NULG1pbixtdWx0aXBsZSxlbWFpbCxmaWxlLCcgK1xuXHQgICdtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIsJyArXG5cdCAgJ3ByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsJyArXG5cdCAgJ3Njb3BlLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzaGFwZSxzaXplLHR5cGUsdGV4dCxwYXNzd29yZCxzaXplcyxzcGFuLCcgK1xuXHQgICdzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LCcgK1xuXHQgICd0YXJnZXQsdGl0bGUsdHlwZSx1c2VtYXAsdmFsdWUsd2lkdGgsd3JhcCdcblx0KTtcblx0XG5cdFxuXHRcblx0dmFyIHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5cdFxuXHR2YXIgaXNYbGluayA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgcmV0dXJuIG5hbWUuY2hhckF0KDUpID09PSAnOicgJiYgbmFtZS5zbGljZSgwLCA1KSA9PT0gJ3hsaW5rJ1xuXHR9O1xuXHRcblx0dmFyIGdldFhsaW5rUHJvcCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgcmV0dXJuIGlzWGxpbmsobmFtZSkgPyBuYW1lLnNsaWNlKDYsIG5hbWUubGVuZ3RoKSA6ICcnXG5cdH07XG5cdFxuXHR2YXIgaXNGYWxzeUF0dHJWYWx1ZSA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZVxuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBnZW5DbGFzc0ZvclZub2RlICh2bm9kZSkge1xuXHQgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcblx0ICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xuXHQgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcblx0ICB3aGlsZSAoY2hpbGROb2RlLmNoaWxkKSB7XG5cdCAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY2hpbGQuX3Zub2RlO1xuXHQgICAgaWYgKGNoaWxkTm9kZS5kYXRhKSB7XG5cdCAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShjaGlsZE5vZGUuZGF0YSwgZGF0YSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkge1xuXHQgICAgaWYgKHBhcmVudE5vZGUuZGF0YSkge1xuXHQgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoZGF0YSwgcGFyZW50Tm9kZS5kYXRhKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGdlbkNsYXNzRnJvbURhdGEoZGF0YSlcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VDbGFzc0RhdGEgKGNoaWxkLCBwYXJlbnQpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSxcblx0ICAgIGNsYXNzOiBjaGlsZC5jbGFzc1xuXHQgICAgICA/IFtjaGlsZC5jbGFzcywgcGFyZW50LmNsYXNzXVxuXHQgICAgICA6IHBhcmVudC5jbGFzc1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2VuQ2xhc3NGcm9tRGF0YSAoZGF0YSkge1xuXHQgIHZhciBkeW5hbWljQ2xhc3MgPSBkYXRhLmNsYXNzO1xuXHQgIHZhciBzdGF0aWNDbGFzcyA9IGRhdGEuc3RhdGljQ2xhc3M7XG5cdCAgaWYgKHN0YXRpY0NsYXNzIHx8IGR5bmFtaWNDbGFzcykge1xuXHQgICAgcmV0dXJuIGNvbmNhdChzdGF0aWNDbGFzcywgc3RyaW5naWZ5Q2xhc3MoZHluYW1pY0NsYXNzKSlcblx0ICB9XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICByZXR1cm4gJydcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29uY2F0IChhLCBiKSB7XG5cdCAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJylcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3MgKHZhbHVlKSB7XG5cdCAgdmFyIHJlcyA9ICcnO1xuXHQgIGlmICghdmFsdWUpIHtcblx0ICAgIHJldHVybiByZXNcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0ICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHZhciBzdHJpbmdpZmllZDtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgIGlmICh2YWx1ZVtpXSkge1xuXHQgICAgICAgIGlmICgoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpKSB7XG5cdCAgICAgICAgICByZXMgKz0gc3RyaW5naWZpZWQgKyAnICc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKVxuXHQgIH1cblx0ICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcblx0ICAgICAgaWYgKHZhbHVlW2tleV0pIHsgcmVzICs9IGtleSArICcgJzsgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSlcblx0ICB9XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICByZXR1cm4gcmVzXG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIG5hbWVzcGFjZU1hcCA9IHtcblx0ICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG5cdCAgbWF0aDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnLFxuXHQgIHhodG1sOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCdcblx0fTtcblx0XG5cdHZhciBpc0hUTUxUYWcgPSBtYWtlTWFwKFxuXHQgICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSwnICtcblx0ICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xuXHQgICdkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsJyArXG5cdCAgJ2EsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSwnICtcblx0ICAncyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sJyArXG5cdCAgJ2VtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLCcgK1xuXHQgICdjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0ciwnICtcblx0ICAnYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbiwnICtcblx0ICAnb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSwnICtcblx0ICAnZGV0YWlscyxkaWFsb2csbWVudSxtZW51aXRlbSxzdW1tYXJ5LCcgK1xuXHQgICdjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlJ1xuXHQpO1xuXHRcblx0dmFyIGlzVW5hcnlUYWcgPSBtYWtlTWFwKFxuXHQgICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbiwnICtcblx0ICAnbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInLFxuXHQgIHRydWVcblx0KTtcblx0XG5cdC8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlblxuXHQvLyAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG5cdHZhciBjYW5CZUxlZnRPcGVuVGFnID0gbWFrZU1hcChcblx0ICAnY29sZ3JvdXAsZGQsZHQsbGksb3B0aW9ucyxwLHRkLHRmb290LHRoLHRoZWFkLHRyLHNvdXJjZScsXG5cdCAgdHJ1ZVxuXHQpO1xuXHRcblx0Ly8gSFRNTDUgdGFncyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWwjZWxlbWVudHMtM1xuXHQvLyBQaHJhc2luZyBDb250ZW50IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI3BocmFzaW5nLWNvbnRlbnRcblx0dmFyIGlzTm9uUGhyYXNpbmdUYWcgPSBtYWtlTWFwKFxuXHQgICdhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsJyArXG5cdCAgJ2RldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSwnICtcblx0ICAnaDEsaDIsaDMsaDQsaDUsaDYsaGVhZCxoZWFkZXIsaGdyb3VwLGhyLGh0bWwsbGVnZW5kLGxpLG1lbnVpdGVtLG1ldGEsJyArXG5cdCAgJ29wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCwnICtcblx0ICAndGl0bGUsdHIsdHJhY2snLFxuXHQgIHRydWVcblx0KTtcblx0XG5cdC8vIHRoaXMgbWFwIGlzIGludGVudGlvbmFsbHkgc2VsZWN0aXZlLCBvbmx5IGNvdmVyaW5nIFNWRyBlbGVtZW50cyB0aGF0IG1heVxuXHQvLyBjb250YWluIGNoaWxkIGVsZW1lbnRzLlxuXHR2YXIgaXNTVkcgPSBtYWtlTWFwKFxuXHQgICdzdmcsYW5pbWF0ZSxjaXJjbGUsY2xpcHBhdGgsY3Vyc29yLGRlZnMsZGVzYyxlbGxpcHNlLGZpbHRlcixmb250LCcgK1xuXHQgICdmb250LWZhY2UsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLCcgK1xuXHQgICdwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3Jyxcblx0ICB0cnVlXG5cdCk7XG5cdFxuXHRcblx0XG5cdHZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykge1xuXHQgIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykge1xuXHQgIGlmIChpc1NWRyh0YWcpKSB7XG5cdCAgICByZXR1cm4gJ3N2Zydcblx0ICB9XG5cdCAgLy8gYmFzaWMgc3VwcG9ydCBmb3IgTWF0aE1MXG5cdCAgLy8gbm90ZSBpdCBkb2Vzbid0IHN1cHBvcnQgb3RoZXIgTWF0aE1MIGVsZW1lbnRzIGJlaW5nIGNvbXBvbmVudCByb290c1xuXHQgIGlmICh0YWcgPT09ICdtYXRoJykge1xuXHQgICAgcmV0dXJuICdtYXRoJ1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIHVua25vd25FbGVtZW50Q2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRmdW5jdGlvbiBpc1Vua25vd25FbGVtZW50ICh0YWcpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoIWluQnJvd3Nlcikge1xuXHQgICAgcmV0dXJuIHRydWVcblx0ICB9XG5cdCAgaWYgKGlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuXHQgICAgcmV0dXJuIGZhbHNlXG5cdCAgfVxuXHQgIHRhZyA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gIT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIHVua25vd25FbGVtZW50Q2FjaGVbdGFnXVxuXHQgIH1cblx0ICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cdCAgaWYgKHRhZy5pbmRleE9mKCctJykgPiAtMSkge1xuXHQgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxuXHQgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPSAoXG5cdCAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTFVua25vd25FbGVtZW50IHx8XG5cdCAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnRcblx0ICAgICkpXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gL0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlbC50b1N0cmluZygpKSlcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0LyoqXG5cdCAqIFF1ZXJ5IGFuIGVsZW1lbnQgc2VsZWN0b3IgaWYgaXQncyBub3QgYW4gZWxlbWVudCBhbHJlYWR5LlxuXHQgKi9cblx0ZnVuY3Rpb24gcXVlcnkgKGVsKSB7XG5cdCAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHZhciBzZWxlY3RvciA9IGVsO1xuXHQgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcblx0ICAgIGlmICghZWwpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuXHQgICAgICAgICdDYW5ub3QgZmluZCBlbGVtZW50OiAnICsgc2VsZWN0b3Jcblx0ICAgICAgKTtcblx0ICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBlbFxuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQkMSAodGFnTmFtZSwgdm5vZGUpIHtcblx0ICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcblx0ICBpZiAodGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcblx0ICAgIHJldHVybiBlbG1cblx0ICB9XG5cdCAgaWYgKHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS5hdHRycyAmJiAnbXVsdGlwbGUnIGluIHZub2RlLmRhdGEuYXR0cnMpIHtcblx0ICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XG5cdCAgfVxuXHQgIHJldHVybiBlbG1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TIChuYW1lc3BhY2UsIHRhZ05hbWUpIHtcblx0ICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdLCB0YWdOYW1lKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZSAodGV4dCkge1xuXHQgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb21tZW50ICh0ZXh0KSB7XG5cdCAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dClcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5zZXJ0QmVmb3JlIChwYXJlbnROb2RlLCBuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XG5cdCAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChub2RlLCBjaGlsZCkge1xuXHQgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcHBlbmRDaGlsZCAobm9kZSwgY2hpbGQpIHtcblx0ICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyZW50Tm9kZSAobm9kZSkge1xuXHQgIHJldHVybiBub2RlLnBhcmVudE5vZGVcblx0fVxuXHRcblx0ZnVuY3Rpb24gbmV4dFNpYmxpbmcgKG5vZGUpIHtcblx0ICByZXR1cm4gbm9kZS5uZXh0U2libGluZ1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0YWdOYW1lIChub2RlKSB7XG5cdCAgcmV0dXJuIG5vZGUudGFnTmFtZVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRUZXh0Q29udGVudCAobm9kZSwgdGV4dCkge1xuXHQgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGlsZE5vZGVzIChub2RlKSB7XG5cdCAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRBdHRyaWJ1dGUgKG5vZGUsIGtleSwgdmFsKSB7XG5cdCAgbm9kZS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWwpO1xuXHR9XG5cdFxuXHRcblx0dmFyIG5vZGVPcHMgPSBPYmplY3QuZnJlZXplKHtcblx0XHRjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50JDEsXG5cdFx0Y3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG5cdFx0Y3JlYXRlVGV4dE5vZGU6IGNyZWF0ZVRleHROb2RlLFxuXHRcdGNyZWF0ZUNvbW1lbnQ6IGNyZWF0ZUNvbW1lbnQsXG5cdFx0aW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG5cdFx0cmVtb3ZlQ2hpbGQ6IHJlbW92ZUNoaWxkLFxuXHRcdGFwcGVuZENoaWxkOiBhcHBlbmRDaGlsZCxcblx0XHRwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuXHRcdG5leHRTaWJsaW5nOiBuZXh0U2libGluZyxcblx0XHR0YWdOYW1lOiB0YWdOYW1lLFxuXHRcdHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcblx0XHRjaGlsZE5vZGVzOiBjaGlsZE5vZGVzLFxuXHRcdHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlXG5cdH0pO1xuXHRcblx0LyogICovXG5cdFxuXHR2YXIgcmVmID0ge1xuXHQgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuXHQgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuXHQgIH0sXG5cdCAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuXHQgICAgaWYgKG9sZFZub2RlLmRhdGEucmVmICE9PSB2bm9kZS5kYXRhLnJlZikge1xuXHQgICAgICByZWdpc3RlclJlZihvbGRWbm9kZSwgdHJ1ZSk7XG5cdCAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7XG5cdCAgICByZWdpc3RlclJlZih2bm9kZSwgdHJ1ZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmVnaXN0ZXJSZWYgKHZub2RlLCBpc1JlbW92YWwpIHtcblx0ICB2YXIga2V5ID0gdm5vZGUuZGF0YS5yZWY7XG5cdCAgaWYgKCFrZXkpIHsgcmV0dXJuIH1cblx0XG5cdCAgdmFyIHZtID0gdm5vZGUuY29udGV4dDtcblx0ICB2YXIgcmVmID0gdm5vZGUuY2hpbGQgfHwgdm5vZGUuZWxtO1xuXHQgIHZhciByZWZzID0gdm0uJHJlZnM7XG5cdCAgaWYgKGlzUmVtb3ZhbCkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocmVmc1trZXldKSkge1xuXHQgICAgICByZW1vdmUkMShyZWZzW2tleV0sIHJlZik7XG5cdCAgICB9IGVsc2UgaWYgKHJlZnNba2V5XSA9PT0gcmVmKSB7XG5cdCAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVmc1trZXldKSAmJiByZWZzW2tleV0uaW5kZXhPZihyZWYpIDwgMCkge1xuXHQgICAgICAgIHJlZnNba2V5XS5wdXNoKHJlZik7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVmc1trZXldID0gW3JlZl07XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlZnNba2V5XSA9IHJlZjtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBWaXJ0dWFsIERPTSBwYXRjaGluZyBhbGdvcml0aG0gYmFzZWQgb24gU25hYmJkb20gYnlcblx0ICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2Vcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL3BhbGRlcGluZC9zbmFiYmRvbS9ibG9iL21hc3Rlci9MSUNFTlNFXG5cdCAqXG5cdCAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKVxuXHQgKlxuXHRcblx0Lypcblx0ICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBiZWNhdXNlIHRoaXMgZmlsZSBpcyBwZXJmLWNyaXRpY2FsIGFuZCB0aGUgY29zdFxuXHQgKiBvZiBtYWtpbmcgZmxvdyB1bmRlcnN0YW5kIGl0IGlzIG5vdCB3b3J0aCBpdC5cblx0ICovXG5cdFxuXHR2YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pO1xuXHRcblx0dmFyIGhvb2tzJDEgPSBbJ2NyZWF0ZScsICd1cGRhdGUnLCAncmVtb3ZlJywgJ2Rlc3Ryb3knXTtcblx0XG5cdGZ1bmN0aW9uIGlzVW5kZWYgKHMpIHtcblx0ICByZXR1cm4gcyA9PSBudWxsXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGVmIChzKSB7XG5cdCAgcmV0dXJuIHMgIT0gbnVsbFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYW1lVm5vZGUgKHZub2RlMSwgdm5vZGUyKSB7XG5cdCAgcmV0dXJuIChcblx0ICAgIHZub2RlMS5rZXkgPT09IHZub2RlMi5rZXkgJiZcblx0ICAgIHZub2RlMS50YWcgPT09IHZub2RlMi50YWcgJiZcblx0ICAgIHZub2RlMS5pc0NvbW1lbnQgPT09IHZub2RlMi5pc0NvbW1lbnQgJiZcblx0ICAgICF2bm9kZTEuZGF0YSA9PT0gIXZub2RlMi5kYXRhXG5cdCAgKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHtcblx0ICB2YXIgaSwga2V5O1xuXHQgIHZhciBtYXAgPSB7fTtcblx0ICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkge1xuXHQgICAga2V5ID0gY2hpbGRyZW5baV0ua2V5O1xuXHQgICAgaWYgKGlzRGVmKGtleSkpIHsgbWFwW2tleV0gPSBpOyB9XG5cdCAgfVxuXHQgIHJldHVybiBtYXBcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlUGF0Y2hGdW5jdGlvbiAoYmFja2VuZCkge1xuXHQgIHZhciBpLCBqO1xuXHQgIHZhciBjYnMgPSB7fTtcblx0XG5cdCAgdmFyIG1vZHVsZXMgPSBiYWNrZW5kLm1vZHVsZXM7XG5cdCAgdmFyIG5vZGVPcHMgPSBiYWNrZW5kLm5vZGVPcHM7XG5cdFxuXHQgIGZvciAoaSA9IDA7IGkgPCBob29rcyQxLmxlbmd0aDsgKytpKSB7XG5cdCAgICBjYnNbaG9va3MkMVtpXV0gPSBbXTtcblx0ICAgIGZvciAoaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgKytqKSB7XG5cdCAgICAgIGlmIChtb2R1bGVzW2pdW2hvb2tzJDFbaV1dICE9PSB1bmRlZmluZWQpIHsgY2JzW2hvb2tzJDFbaV1dLnB1c2gobW9kdWxlc1tqXVtob29rcyQxW2ldXSk7IH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGVtcHR5Tm9kZUF0IChlbG0pIHtcblx0ICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IgKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcblx0ICAgIGZ1bmN0aW9uIHJlbW92ZSQkMSAoKSB7XG5cdCAgICAgIGlmICgtLXJlbW92ZSQkMS5saXN0ZW5lcnMgPT09IDApIHtcblx0ICAgICAgICByZW1vdmVFbGVtZW50KGNoaWxkRWxtKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmVtb3ZlJCQxLmxpc3RlbmVycyA9IGxpc3RlbmVycztcblx0ICAgIHJldHVybiByZW1vdmUkJDFcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQgKGVsKSB7XG5cdCAgICB2YXIgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsKTtcblx0ICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbFxuXHQgICAgaWYgKHBhcmVudCkge1xuXHQgICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudCwgZWwpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlRWxtICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXN0ZWQpIHtcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDtcblx0ICAgIGlmIChpc0RlZihkYXRhKSkge1xuXHQgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsgaSh2bm9kZSk7IH1cblx0ICAgICAgLy8gYWZ0ZXIgY2FsbGluZyB0aGUgaW5pdCBob29rLCBpZiB0aGUgdm5vZGUgaXMgYSBjaGlsZCBjb21wb25lbnRcblx0ICAgICAgLy8gaXQgc2hvdWxkJ3ZlIGNyZWF0ZWQgYSBjaGlsZCBpbnN0YW5jZSBhbmQgbW91bnRlZCBpdC4gdGhlIGNoaWxkXG5cdCAgICAgIC8vIGNvbXBvbmVudCBhbHNvIGhhcyBzZXQgdGhlIHBsYWNlaG9sZGVyIHZub2RlJ3MgZWxtLlxuXHQgICAgICAvLyBpbiB0aGF0IGNhc2Ugd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBlbGVtZW50IGFuZCBiZSBkb25lLlxuXHQgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkKSkge1xuXHQgICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHZub2RlLmVsbVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblx0ICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XG5cdCAgICBpZiAoaXNEZWYodGFnKSkge1xuXHQgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICAgIGlmIChcblx0ICAgICAgICAgICF2bm9kZS5ucyAmJlxuXHQgICAgICAgICAgIShjb25maWcuaWdub3JlZEVsZW1lbnRzICYmIGNvbmZpZy5pZ25vcmVkRWxlbWVudHMuaW5kZXhPZih0YWcpID4gLTEpICYmXG5cdCAgICAgICAgICBjb25maWcuaXNVbmtub3duRWxlbWVudCh0YWcpXG5cdCAgICAgICAgKSB7XG5cdCAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAnVW5rbm93biBjdXN0b20gZWxlbWVudDogPCcgKyB0YWcgKyAnPiAtIGRpZCB5b3UgJyArXG5cdCAgICAgICAgICAgICdyZWdpc3RlciB0aGUgY29tcG9uZW50IGNvcnJlY3RseT8gRm9yIHJlY3Vyc2l2ZSBjb21wb25lbnRzLCAnICtcblx0ICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJyxcblx0ICAgICAgICAgICAgdm5vZGUuY29udGV4dFxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdm5vZGUuZWxtID0gdm5vZGUubnNcblx0ICAgICAgICA/IG5vZGVPcHMuY3JlYXRlRWxlbWVudE5TKHZub2RlLm5zLCB0YWcpXG5cdCAgICAgICAgOiBub2RlT3BzLmNyZWF0ZUVsZW1lbnQodGFnLCB2bm9kZSk7XG5cdCAgICAgIHNldFNjb3BlKHZub2RlKTtcblx0ICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcblx0ICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICh2bm9kZS5pc0NvbW1lbnQpIHtcblx0ICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVDb21tZW50KHZub2RlLnRleHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2bm9kZS5lbG1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuICh2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHRydWUpKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkge1xuXHQgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1BhdGNoYWJsZSAodm5vZGUpIHtcblx0ICAgIHdoaWxlICh2bm9kZS5jaGlsZCkge1xuXHQgICAgICB2bm9kZSA9IHZub2RlLmNoaWxkLl92bm9kZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbnZva2VDcmVhdGVIb29rcyAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuXHQgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG5cdCAgICAgIGNicy5jcmVhdGVbaSQxXShlbXB0eU5vZGUsIHZub2RlKTtcblx0ICAgIH1cblx0ICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXG5cdCAgICBpZiAoaXNEZWYoaSkpIHtcblx0ICAgICAgaWYgKGkuY3JlYXRlKSB7IGkuY3JlYXRlKGVtcHR5Tm9kZSwgdm5vZGUpOyB9XG5cdCAgICAgIGlmIChpLmluc2VydCkgeyBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7IH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGluaXRDb21wb25lbnQgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcblx0ICAgIGlmICh2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpIHtcblx0ICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2guYXBwbHkoaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpO1xuXHQgICAgfVxuXHQgICAgdm5vZGUuZWxtID0gdm5vZGUuY2hpbGQuJGVsO1xuXHQgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuXHQgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgc2V0U2NvcGUodm5vZGUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gZW1wdHkgY29tcG9uZW50IHJvb3QuXG5cdCAgICAgIC8vIHNraXAgYWxsIGVsZW1lbnQtcmVsYXRlZCBtb2R1bGVzIGV4Y2VwdCBmb3IgcmVmICgjMzQ1NSlcblx0ICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuXHQgICAgICAvLyBtYWtlIHN1cmUgdG8gaW52b2tlIHRoZSBpbnNlcnQgaG9va1xuXHQgICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgc2NvcGUgaWQgYXR0cmlidXRlIGZvciBzY29wZWQgQ1NTLlxuXHQgIC8vIHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBzcGVjaWFsIGNhc2UgdG8gYXZvaWQgdGhlIG92ZXJoZWFkXG5cdCAgLy8gb2YgZ29pbmcgdGhyb3VnaCB0aGUgbm9ybWFsIGF0dHJpYnV0ZSBwYXRjaGluZyBwcm9jZXNzLlxuXHQgIGZ1bmN0aW9uIHNldFNjb3BlICh2bm9kZSkge1xuXHQgICAgdmFyIGk7XG5cdCAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNvbnRleHQpICYmIGlzRGVmKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKSkge1xuXHQgICAgICBub2RlT3BzLnNldEF0dHJpYnV0ZSh2bm9kZS5lbG0sIGksICcnKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc0RlZihpID0gYWN0aXZlSW5zdGFuY2UpICYmXG5cdCAgICAgICAgaSAhPT0gdm5vZGUuY29udGV4dCAmJlxuXHQgICAgICAgIGlzRGVmKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKSkge1xuXHQgICAgICBub2RlT3BzLnNldEF0dHJpYnV0ZSh2bm9kZS5lbG0sIGksICcnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFkZFZub2RlcyAocGFyZW50RWxtLCBiZWZvcmUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG5cdCAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG5cdCAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSksIGJlZm9yZSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbnZva2VEZXN0cm95SG9vayAodm5vZGUpIHtcblx0ICAgIHZhciBpLCBqO1xuXHQgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG5cdCAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5kZXN0cm95KSkgeyBpKHZub2RlKTsgfVxuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsgY2JzLmRlc3Ryb3lbaV0odm5vZGUpOyB9XG5cdCAgICB9XG5cdCAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkcmVuKSkge1xuXHQgICAgICBmb3IgKGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICBpbnZva2VEZXN0cm95SG9vayh2bm9kZS5jaGlsZHJlbltqXSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbW92ZVZub2RlcyAocGFyZW50RWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgpIHtcblx0ICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcblx0ICAgICAgdmFyIGNoID0gdm5vZGVzW3N0YXJ0SWR4XTtcblx0ICAgICAgaWYgKGlzRGVmKGNoKSkge1xuXHQgICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG5cdCAgICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGNoKTtcblx0ICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKGNoKTtcblx0ICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcblx0ICAgICAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50RWxtLCBjaC5lbG0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayAodm5vZGUsIHJtKSB7XG5cdCAgICBpZiAocm0gfHwgaXNEZWYodm5vZGUuZGF0YSkpIHtcblx0ICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTtcblx0ICAgICAgaWYgKCFybSkge1xuXHQgICAgICAgIC8vIGRpcmVjdGx5IHJlbW92aW5nXG5cdCAgICAgICAgcm0gPSBjcmVhdGVSbUNiKHZub2RlLmVsbSwgbGlzdGVuZXJzKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB3ZSBoYXZlIGEgcmVjdXJzaXZlbHkgcGFzc2VkIGRvd24gcm0gY2FsbGJhY2tcblx0ICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG5cdCAgICAgICAgcm0ubGlzdGVuZXJzICs9IGxpc3RlbmVycztcblx0ICAgICAgfVxuXHQgICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZVxuXHQgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkKSAmJiBpc0RlZihpID0gaS5fdm5vZGUpICYmIGlzRGVmKGkuZGF0YSkpIHtcblx0ICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGksIHJtKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnJlbW92ZS5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIGNicy5yZW1vdmVbaV0odm5vZGUsIHJtKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucmVtb3ZlKSkge1xuXHQgICAgICAgIGkodm5vZGUsIHJtKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBybSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZW1vdmVFbGVtZW50KHZub2RlLmVsbSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuXHQgICAgdmFyIG9sZFN0YXJ0SWR4ID0gMDtcblx0ICAgIHZhciBuZXdTdGFydElkeCA9IDA7XG5cdCAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcblx0ICAgIHZhciBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG5cdCAgICB2YXIgb2xkRW5kVm5vZGUgPSBvbGRDaFtvbGRFbmRJZHhdO1xuXHQgICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG5cdCAgICB2YXIgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuXHQgICAgdmFyIG5ld0VuZFZub2RlID0gbmV3Q2hbbmV3RW5kSWR4XTtcblx0ICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIGVsbVRvTW92ZSwgYmVmb3JlO1xuXHRcblx0ICAgIC8vIHJlbW92ZU9ubHkgaXMgYSBzcGVjaWFsIGZsYWcgdXNlZCBvbmx5IGJ5IDx0cmFuc2l0aW9uLWdyb3VwPlxuXHQgICAgLy8gdG8gZW5zdXJlIHJlbW92ZWQgZWxlbWVudHMgc3RheSBpbiBjb3JyZWN0IHJlbGF0aXZlIHBvc2l0aW9uc1xuXHQgICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcblx0ICAgIHZhciBjYW5Nb3ZlID0gIXJlbW92ZU9ubHk7XG5cdFxuXHQgICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcblx0ICAgICAgaWYgKGlzVW5kZWYob2xkU3RhcnRWbm9kZSkpIHtcblx0ICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIGhhcyBiZWVuIG1vdmVkIGxlZnRcblx0ICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuXHQgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuXHQgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuXHQgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG5cdCAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuXHQgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG5cdCAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG5cdCAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG5cdCAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCByaWdodFxuXHQgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVuZFZub2RlLmVsbSkpO1xuXHQgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcblx0ICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcblx0ICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7IC8vIFZub2RlIG1vdmVkIGxlZnRcblx0ICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcblx0ICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcblx0ICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGlzVW5kZWYob2xkS2V5VG9JZHgpKSB7IG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOyB9XG5cdCAgICAgICAgaWR4SW5PbGQgPSBpc0RlZihuZXdTdGFydFZub2RlLmtleSkgPyBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLmtleV0gOiBudWxsO1xuXHQgICAgICAgIGlmIChpc1VuZGVmKGlkeEluT2xkKSkgeyAvLyBOZXcgZWxlbWVudFxuXHQgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuXHQgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG5cdCAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFlbG1Ub01vdmUpIHtcblx0ICAgICAgICAgICAgd2Fybihcblx0ICAgICAgICAgICAgICAnSXQgc2VlbXMgdGhlcmUgYXJlIGR1cGxpY2F0ZSBrZXlzIHRoYXQgaXMgY2F1c2luZyBhbiB1cGRhdGUgZXJyb3IuICcgK1xuXHQgICAgICAgICAgICAgICdNYWtlIHN1cmUgZWFjaCB2LWZvciBpdGVtIGhhcyBhIHVuaXF1ZSBrZXkuJ1xuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaWYgKGVsbVRvTW92ZS50YWcgIT09IG5ld1N0YXJ0Vm5vZGUudGFnKSB7XG5cdCAgICAgICAgICAgIC8vIHNhbWUga2V5IGJ1dCBkaWZmZXJlbnQgZWxlbWVudC4gdHJlYXQgYXMgbmV3IGVsZW1lbnRcblx0ICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuXHQgICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwYXRjaFZub2RlKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgbmV3U3RhcnRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcblx0ICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG5cdCAgICAgIGJlZm9yZSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcblx0ICAgICAgYWRkVm5vZGVzKHBhcmVudEVsbSwgYmVmb3JlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgIH0gZWxzZSBpZiAobmV3U3RhcnRJZHggPiBuZXdFbmRJZHgpIHtcblx0ICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpIHtcblx0ICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdCAgICAvLyByZXVzZSBlbGVtZW50IGZvciBzdGF0aWMgdHJlZXMuXG5cdCAgICAvLyBub3RlIHdlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIC1cblx0ICAgIC8vIGlmIHRoZSBuZXcgbm9kZSBpcyBub3QgY2xvbmVkIGl0IG1lYW5zIHRoZSByZW5kZXIgZnVuY3Rpb25zIGhhdmUgYmVlblxuXHQgICAgLy8gcmVzZXQgYnkgdGhlIGhvdC1yZWxvYWQtYXBpIGFuZCB3ZSBuZWVkIHRvIGRvIGEgcHJvcGVyIHJlLXJlbmRlci5cblx0ICAgIGlmICh2bm9kZS5pc1N0YXRpYyAmJlxuXHQgICAgICAgIG9sZFZub2RlLmlzU3RhdGljICYmXG5cdCAgICAgICAgdm5vZGUua2V5ID09PSBvbGRWbm9kZS5rZXkgJiZcblx0ICAgICAgICAodm5vZGUuaXNDbG9uZWQgfHwgdm5vZGUuaXNPbmNlKSkge1xuXHQgICAgICB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07XG5cdCAgICAgIHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG5cdCAgICB2YXIgaGFzRGF0YSA9IGlzRGVmKGRhdGEpO1xuXHQgICAgaWYgKGhhc0RhdGEgJiYgaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucHJlcGF0Y2gpKSB7XG5cdCAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcblx0ICAgIH1cblx0ICAgIHZhciBlbG0gPSB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07XG5cdCAgICB2YXIgb2xkQ2ggPSBvbGRWbm9kZS5jaGlsZHJlbjtcblx0ICAgIHZhciBjaCA9IHZub2RlLmNoaWxkcmVuO1xuXHQgICAgaWYgKGhhc0RhdGEgJiYgaXNQYXRjaGFibGUodm5vZGUpKSB7XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMudXBkYXRlLmxlbmd0aDsgKytpKSB7IGNicy51cGRhdGVbaV0ob2xkVm5vZGUsIHZub2RlKTsgfVxuXHQgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkudXBkYXRlKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cblx0ICAgIH1cblx0ICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG5cdCAgICAgIGlmIChpc0RlZihvbGRDaCkgJiYgaXNEZWYoY2gpKSB7XG5cdCAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgeyB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoLCBjaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTsgfVxuXHQgICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkge1xuXHQgICAgICAgIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgeyBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpOyB9XG5cdCAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7XG5cdCAgICAgICAgcmVtb3ZlVm5vZGVzKGVsbSwgb2xkQ2gsIDAsIG9sZENoLmxlbmd0aCAtIDEpO1xuXHQgICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7XG5cdCAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG5cdCAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTtcblx0ICAgIH1cblx0ICAgIGlmIChoYXNEYXRhKSB7XG5cdCAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wb3N0cGF0Y2gpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW52b2tlSW5zZXJ0SG9vayAodm5vZGUsIHF1ZXVlLCBpbml0aWFsKSB7XG5cdCAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGVcblx0ICAgIC8vIGVsZW1lbnQgaXMgcmVhbGx5IGluc2VydGVkXG5cdCAgICBpZiAoaW5pdGlhbCAmJiB2bm9kZS5wYXJlbnQpIHtcblx0ICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgYmFpbGVkID0gZmFsc2U7XG5cdCAgZnVuY3Rpb24gaHlkcmF0ZSAoZWxtLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICBpZiAoIWFzc2VydE5vZGVNYXRjaChlbG0sIHZub2RlKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2bm9kZS5lbG0gPSBlbG07XG5cdCAgICB2YXIgdGFnID0gdm5vZGUudGFnO1xuXHQgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cdCAgICBpZiAoaXNEZWYoZGF0YSkpIHtcblx0ICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7IGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTsgfVxuXHQgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkKSkge1xuXHQgICAgICAgIC8vIGNoaWxkIGNvbXBvbmVudC4gaXQgc2hvdWxkIGhhdmUgaHlkcmF0ZWQgaXRzIG93biB0cmVlLlxuXHQgICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRydWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGlzRGVmKHRhZykpIHtcblx0ICAgICAgaWYgKGlzRGVmKGNoaWxkcmVuKSkge1xuXHQgICAgICAgIHZhciBjaGlsZE5vZGVzID0gbm9kZU9wcy5jaGlsZE5vZGVzKGVsbSk7XG5cdCAgICAgICAgLy8gZW1wdHkgZWxlbWVudCwgYWxsb3cgY2xpZW50IHRvIHBpY2sgdXAgYW5kIHBvcHVsYXRlIGNoaWxkcmVuXG5cdCAgICAgICAgaWYgKCFjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHQgICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgY2hpbGRyZW5NYXRjaCA9IHRydWU7XG5cdCAgICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGggIT09IGNoaWxkcmVuLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBjaGlsZHJlbi5sZW5ndGg7IGkkMSsrKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFoeWRyYXRlKGNoaWxkTm9kZXNbaSQxXSwgY2hpbGRyZW5baSQxXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkge1xuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgYnJlYWtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmICghY2hpbGRyZW5NYXRjaCkge1xuXHQgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuXHQgICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICAgICAgICAgICAgICAhYmFpbGVkKSB7XG5cdCAgICAgICAgICAgICAgYmFpbGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTtcblx0ICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc21hdGNoaW5nIGNoaWxkTm9kZXMgdnMuIFZOb2RlczogJywgY2hpbGROb2RlcywgY2hpbGRyZW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcblx0ICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRydWVcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFzc2VydE5vZGVNYXRjaCAobm9kZSwgdm5vZGUpIHtcblx0ICAgIGlmICh2bm9kZS50YWcpIHtcblx0ICAgICAgcmV0dXJuIChcblx0ICAgICAgICB2bm9kZS50YWcuaW5kZXhPZigndnVlLWNvbXBvbmVudCcpID09PSAwIHx8XG5cdCAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVPcHMudGFnTmFtZShub2RlKS50b0xvd2VyQ2FzZSgpXG5cdCAgICAgIClcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBfdG9TdHJpbmcodm5vZGUudGV4dCkgPT09IG5vZGUuZGF0YVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoIChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xuXHQgICAgaWYgKCF2bm9kZSkge1xuXHQgICAgICBpZiAob2xkVm5vZGUpIHsgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOyB9XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBlbG0sIHBhcmVudDtcblx0ICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlO1xuXHQgICAgdmFyIGluc2VydGVkVm5vZGVRdWV1ZSA9IFtdO1xuXHRcblx0ICAgIGlmICghb2xkVm5vZGUpIHtcblx0ICAgICAgLy8gZW1wdHkgbW91bnQsIGNyZWF0ZSBuZXcgcm9vdCBlbGVtZW50XG5cdCAgICAgIGlzSW5pdGlhbFBhdGNoID0gdHJ1ZTtcblx0ICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGlzUmVhbEVsZW1lbnQgPSBpc0RlZihvbGRWbm9kZS5ub2RlVHlwZSk7XG5cdCAgICAgIGlmICghaXNSZWFsRWxlbWVudCAmJiBzYW1lVm5vZGUob2xkVm5vZGUsIHZub2RlKSkge1xuXHQgICAgICAgIHBhdGNoVm5vZGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHJlbW92ZU9ubHkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChpc1JlYWxFbGVtZW50KSB7XG5cdCAgICAgICAgICAvLyBtb3VudGluZyB0byBhIHJlYWwgZWxlbWVudFxuXHQgICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cblx0ICAgICAgICAgIC8vIGEgc3VjY2Vzc2Z1bCBoeWRyYXRpb24uXG5cdCAgICAgICAgICBpZiAob2xkVm5vZGUubm9kZVR5cGUgPT09IDEgJiYgb2xkVm5vZGUuaGFzQXR0cmlidXRlKCdzZXJ2ZXItcmVuZGVyZWQnKSkge1xuXHQgICAgICAgICAgICBvbGRWbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpO1xuXHQgICAgICAgICAgICBoeWRyYXRpbmcgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaWYgKGh5ZHJhdGluZykge1xuXHQgICAgICAgICAgICBpZiAoaHlkcmF0ZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcblx0ICAgICAgICAgICAgICBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHRydWUpO1xuXHQgICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZVxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgICAgICAgICB3YXJuKFxuXHQgICAgICAgICAgICAgICAgJ1RoZSBjbGllbnQtc2lkZSByZW5kZXJlZCB2aXJ0dWFsIERPTSB0cmVlIGlzIG5vdCBtYXRjaGluZyAnICtcblx0ICAgICAgICAgICAgICAgICdzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGluY29ycmVjdCAnICtcblx0ICAgICAgICAgICAgICAgICdIVE1MIG1hcmt1cCwgZm9yIGV4YW1wbGUgbmVzdGluZyBibG9jay1sZXZlbCBlbGVtZW50cyBpbnNpZGUgJyArXG5cdCAgICAgICAgICAgICAgICAnPHA+LCBvciBtaXNzaW5nIDx0Ym9keT4uIEJhaWxpbmcgaHlkcmF0aW9uIGFuZCBwZXJmb3JtaW5nICcgK1xuXHQgICAgICAgICAgICAgICAgJ2Z1bGwgY2xpZW50LXNpZGUgcmVuZGVyLidcblx0ICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyBlaXRoZXIgbm90IHNlcnZlci1yZW5kZXJlZCwgb3IgaHlkcmF0aW9uIGZhaWxlZC5cblx0ICAgICAgICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBub2RlIGFuZCByZXBsYWNlIGl0XG5cdCAgICAgICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxtID0gb2xkVm5vZGUuZWxtO1xuXHQgICAgICAgIHBhcmVudCA9IG5vZGVPcHMucGFyZW50Tm9kZShlbG0pO1xuXHRcblx0ICAgICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cdFxuXHQgICAgICAgIC8vIGNvbXBvbmVudCByb290IGVsZW1lbnQgcmVwbGFjZWQuXG5cdCAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5XG5cdCAgICAgICAgaWYgKHZub2RlLnBhcmVudCkge1xuXHQgICAgICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGUucGFyZW50O1xuXHQgICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XG5cdCAgICAgICAgICAgIGFuY2VzdG9yLmVsbSA9IHZub2RlLmVsbTtcblx0ICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoaXNQYXRjaGFibGUodm5vZGUpKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICAgIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZS5wYXJlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG5cdCAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIHZub2RlLmVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhlbG0pKTtcblx0ICAgICAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnQsIFtvbGRWbm9kZV0sIDAsIDApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGFnKSkge1xuXHQgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaXNJbml0aWFsUGF0Y2gpO1xuXHQgICAgcmV0dXJuIHZub2RlLmVsbVxuXHQgIH1cblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgZGlyZWN0aXZlcyA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG5cdCAgdXBkYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuXHQgIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG5cdCAgICB1cGRhdGVEaXJlY3RpdmVzKHZub2RlLCBlbXB0eU5vZGUpO1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZURpcmVjdGl2ZXMgKFxuXHQgIG9sZFZub2RlLFxuXHQgIHZub2RlXG5cdCkge1xuXHQgIGlmICghb2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzICYmICF2bm9kZS5kYXRhLmRpcmVjdGl2ZXMpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuXHQgIHZhciBvbGREaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyQxKG9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcywgb2xkVm5vZGUuY29udGV4dCk7XG5cdCAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEodm5vZGUuZGF0YS5kaXJlY3RpdmVzLCB2bm9kZS5jb250ZXh0KTtcblx0XG5cdCAgdmFyIGRpcnNXaXRoSW5zZXJ0ID0gW107XG5cdCAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107XG5cdFxuXHQgIHZhciBrZXksIG9sZERpciwgZGlyO1xuXHQgIGZvciAoa2V5IGluIG5ld0RpcnMpIHtcblx0ICAgIG9sZERpciA9IG9sZERpcnNba2V5XTtcblx0ICAgIGRpciA9IG5ld0RpcnNba2V5XTtcblx0ICAgIGlmICghb2xkRGlyKSB7XG5cdCAgICAgIC8vIG5ldyBkaXJlY3RpdmUsIGJpbmRcblx0ICAgICAgY2FsbEhvb2skMShkaXIsICdiaW5kJywgdm5vZGUsIG9sZFZub2RlKTtcblx0ICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xuXHQgICAgICAgIGRpcnNXaXRoSW5zZXJ0LnB1c2goZGlyKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gZXhpc3RpbmcgZGlyZWN0aXZlLCB1cGRhdGVcblx0ICAgICAgZGlyLm9sZFZhbHVlID0gb2xkRGlyLnZhbHVlO1xuXHQgICAgICBjYWxsSG9vayQxKGRpciwgJ3VwZGF0ZScsIHZub2RlLCBvbGRWbm9kZSk7XG5cdCAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuXHQgICAgICAgIGRpcnNXaXRoUG9zdHBhdGNoLnB1c2goZGlyKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuXHQgICAgdmFyIGNhbGxJbnNlcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGRpcnNXaXRoSW5zZXJ0LmZvckVhY2goZnVuY3Rpb24gKGRpcikge1xuXHQgICAgICAgIGNhbGxIb29rJDEoZGlyLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBpZiAoaXNDcmVhdGUpIHtcblx0ICAgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdpbnNlcnQnLCBjYWxsSW5zZXJ0LCAnZGlyLWluc2VydCcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY2FsbEluc2VydCgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkge1xuXHQgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdwb3N0cGF0Y2gnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGRpcnNXaXRoUG9zdHBhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRpcikge1xuXHQgICAgICAgIGNhbGxIb29rJDEoZGlyLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSwgJ2Rpci1wb3N0cGF0Y2gnKTtcblx0ICB9XG5cdFxuXHQgIGlmICghaXNDcmVhdGUpIHtcblx0ICAgIGZvciAoa2V5IGluIG9sZERpcnMpIHtcblx0ICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcblx0ICAgICAgICAvLyBubyBsb25nZXIgcHJlc2VudCwgdW5iaW5kXG5cdCAgICAgICAgY2FsbEhvb2skMShvbGREaXJzW2tleV0sICd1bmJpbmQnLCBvbGRWbm9kZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdHZhciBlbXB0eU1vZGlmaWVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzJDEgKFxuXHQgIGRpcnMsXG5cdCAgdm1cblx0KSB7XG5cdCAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgaWYgKCFkaXJzKSB7XG5cdCAgICByZXR1cm4gcmVzXG5cdCAgfVxuXHQgIHZhciBpLCBkaXI7XG5cdCAgZm9yIChpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGRpciA9IGRpcnNbaV07XG5cdCAgICBpZiAoIWRpci5tb2RpZmllcnMpIHtcblx0ICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuXHQgICAgfVxuXHQgICAgcmVzW2dldFJhd0Rpck5hbWUoZGlyKV0gPSBkaXI7XG5cdCAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRSYXdEaXJOYW1lIChkaXIpIHtcblx0ICByZXR1cm4gZGlyLnJhd05hbWUgfHwgKChkaXIubmFtZSkgKyBcIi5cIiArIChPYmplY3Qua2V5cyhkaXIubW9kaWZpZXJzIHx8IHt9KS5qb2luKCcuJykpKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYWxsSG9vayQxIChkaXIsIGhvb2ssIHZub2RlLCBvbGRWbm9kZSkge1xuXHQgIHZhciBmbiA9IGRpci5kZWYgJiYgZGlyLmRlZltob29rXTtcblx0ICBpZiAoZm4pIHtcblx0ICAgIGZuKHZub2RlLmVsbSwgZGlyLCB2bm9kZSwgb2xkVm5vZGUpO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIGJhc2VNb2R1bGVzID0gW1xuXHQgIHJlZixcblx0ICBkaXJlY3RpdmVzXG5cdF07XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZUF0dHJzIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICBpZiAoIW9sZFZub2RlLmRhdGEuYXR0cnMgJiYgIXZub2RlLmRhdGEuYXR0cnMpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIga2V5LCBjdXIsIG9sZDtcblx0ICB2YXIgZWxtID0gdm5vZGUuZWxtO1xuXHQgIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307XG5cdCAgdmFyIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcblx0ICAvLyBjbG9uZSBvYnNlcnZlZCBvYmplY3RzLCBhcyB0aGUgdXNlciBwcm9iYWJseSB3YW50cyB0byBtdXRhdGUgaXRcblx0ICBpZiAoYXR0cnMuX19vYl9fKSB7XG5cdCAgICBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgPSBleHRlbmQoe30sIGF0dHJzKTtcblx0ICB9XG5cdFxuXHQgIGZvciAoa2V5IGluIGF0dHJzKSB7XG5cdCAgICBjdXIgPSBhdHRyc1trZXldO1xuXHQgICAgb2xkID0gb2xkQXR0cnNba2V5XTtcblx0ICAgIGlmIChvbGQgIT09IGN1cikge1xuXHQgICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBmb3IgKGtleSBpbiBvbGRBdHRycykge1xuXHQgICAgaWYgKGF0dHJzW2tleV0gPT0gbnVsbCkge1xuXHQgICAgICBpZiAoaXNYbGluayhrZXkpKSB7XG5cdCAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcblx0ICAgICAgfSBlbHNlIGlmICghaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XG5cdCAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuXHQgIGlmIChpc0Jvb2xlYW5BdHRyKGtleSkpIHtcblx0ICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXG5cdCAgICAvLyBlLmcuIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IG9uZTwvb3B0aW9uPlxuXHQgICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG5cdCAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwga2V5KTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuXHQgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkgfHwgdmFsdWUgPT09ICdmYWxzZScgPyAnZmFsc2UnIDogJ3RydWUnKTtcblx0ICB9IGVsc2UgaWYgKGlzWGxpbmsoa2V5KSkge1xuXHQgICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG5cdCAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcblx0ICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgYXR0cnMgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVBdHRycyxcblx0ICB1cGRhdGU6IHVwZGF0ZUF0dHJzXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZUNsYXNzIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cdCAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTtcblx0ICBpZiAoIWRhdGEuc3RhdGljQ2xhc3MgJiYgIWRhdGEuY2xhc3MgJiZcblx0ICAgICAgKCFvbGREYXRhIHx8ICghb2xkRGF0YS5zdGF0aWNDbGFzcyAmJiAhb2xkRGF0YS5jbGFzcykpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBjbHMgPSBnZW5DbGFzc0ZvclZub2RlKHZub2RlKTtcblx0XG5cdCAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xuXHQgIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBlbC5fdHJhbnNpdGlvbkNsYXNzZXM7XG5cdCAgaWYgKHRyYW5zaXRpb25DbGFzcykge1xuXHQgICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7XG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgdGhlIGNsYXNzXG5cdCAgaWYgKGNscyAhPT0gZWwuX3ByZXZDbGFzcykge1xuXHQgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XG5cdCAgICBlbC5fcHJldkNsYXNzID0gY2xzO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIGtsYXNzID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlQ2xhc3MsXG5cdCAgdXBkYXRlOiB1cGRhdGVDbGFzc1xuXHR9O1xuXHRcblx0Ly8gc2tpcCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIHdlIG5lZWQgdG8gYXR0YWNoIHByaXZhdGUgcHJvcGVydGllc1xuXHQvLyB0byBlbGVtZW50c1xuXHRcblx0ZnVuY3Rpb24gdXBkYXRlRE9NTGlzdGVuZXJzIChvbGRWbm9kZSwgdm5vZGUpIHtcblx0ICBpZiAoIW9sZFZub2RlLmRhdGEub24gJiYgIXZub2RlLmRhdGEub24pIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICB2YXIgb24gPSB2bm9kZS5kYXRhLm9uIHx8IHt9O1xuXHQgIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XG5cdCAgdmFyIGFkZCA9IHZub2RlLmVsbS5fdl9hZGQgfHwgKHZub2RlLmVsbS5fdl9hZGQgPSBmdW5jdGlvbiAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcblx0ICAgIHZub2RlLmVsbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBjYXB0dXJlKTtcblx0ICB9KTtcblx0ICB2YXIgcmVtb3ZlID0gdm5vZGUuZWxtLl92X3JlbW92ZSB8fCAodm5vZGUuZWxtLl92X3JlbW92ZSA9IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlcikge1xuXHQgICAgdm5vZGUuZWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuXHQgIH0pO1xuXHQgIHVwZGF0ZUxpc3RlbmVycyhvbiwgb2xkT24sIGFkZCwgcmVtb3ZlLCB2bm9kZS5jb250ZXh0KTtcblx0fVxuXHRcblx0dmFyIGV2ZW50cyA9IHtcblx0ICBjcmVhdGU6IHVwZGF0ZURPTUxpc3RlbmVycyxcblx0ICB1cGRhdGU6IHVwZGF0ZURPTUxpc3RlbmVyc1xuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVET01Qcm9wcyAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgaWYgKCFvbGRWbm9kZS5kYXRhLmRvbVByb3BzICYmICF2bm9kZS5kYXRhLmRvbVByb3BzKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIGtleSwgY3VyO1xuXHQgIHZhciBlbG0gPSB2bm9kZS5lbG07XG5cdCAgdmFyIG9sZFByb3BzID0gb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcblx0ICB2YXIgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuXHQgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuXHQgIGlmIChwcm9wcy5fX29iX18pIHtcblx0ICAgIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyA9IGV4dGVuZCh7fSwgcHJvcHMpO1xuXHQgIH1cblx0XG5cdCAgZm9yIChrZXkgaW4gb2xkUHJvcHMpIHtcblx0ICAgIGlmIChwcm9wc1trZXldID09IG51bGwpIHtcblx0ICAgICAgZWxtW2tleV0gPSAnJztcblx0ICAgIH1cblx0ICB9XG5cdCAgZm9yIChrZXkgaW4gcHJvcHMpIHtcblx0ICAgIGN1ciA9IHByb3BzW2tleV07XG5cdCAgICAvLyBpZ25vcmUgY2hpbGRyZW4gaWYgdGhlIG5vZGUgaGFzIHRleHRDb250ZW50IG9yIGlubmVySFRNTCxcblx0ICAgIC8vIGFzIHRoZXNlIHdpbGwgdGhyb3cgYXdheSBleGlzdGluZyBET00gbm9kZXMgYW5kIGNhdXNlIHJlbW92YWwgZXJyb3JzXG5cdCAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxuXHQgICAgaWYgKGtleSA9PT0gJ3RleHRDb250ZW50JyB8fCBrZXkgPT09ICdpbm5lckhUTUwnKSB7XG5cdCAgICAgIGlmICh2bm9kZS5jaGlsZHJlbikgeyB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwOyB9XG5cdCAgICAgIGlmIChjdXIgPT09IG9sZFByb3BzW2tleV0pIHsgY29udGludWUgfVxuXHQgICAgfVxuXHQgICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xuXHQgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBfdmFsdWUgYXMgd2VsbCBzaW5jZVxuXHQgICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkXG5cdCAgICAgIGVsbS5fdmFsdWUgPSBjdXI7XG5cdCAgICAgIC8vIGF2b2lkIHJlc2V0dGluZyBjdXJzb3IgcG9zaXRpb24gd2hlbiB2YWx1ZSBpcyB0aGUgc2FtZVxuXHQgICAgICB2YXIgc3RyQ3VyID0gY3VyID09IG51bGwgPyAnJyA6IFN0cmluZyhjdXIpO1xuXHQgICAgICBpZiAoZWxtLnZhbHVlICE9PSBzdHJDdXIgJiYgIWVsbS5jb21wb3NpbmcpIHtcblx0ICAgICAgICBlbG0udmFsdWUgPSBzdHJDdXI7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsbVtrZXldID0gY3VyO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIGRvbVByb3BzID0ge1xuXHQgIGNyZWF0ZTogdXBkYXRlRE9NUHJvcHMsXG5cdCAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHR2YXIgcGFyc2VTdHlsZVRleHQgPSBjYWNoZWQoZnVuY3Rpb24gKGNzc1RleHQpIHtcblx0ICB2YXIgcmVzID0ge307XG5cdCAgdmFyIGhhc0JhY2tncm91bmQgPSBjc3NUZXh0LmluZGV4T2YoJ2JhY2tncm91bmQnKSA+PSAwO1xuXHQgIC8vIG1heWJlIHdpdGggYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHA6Ly94eHgpIG9yIGJhc2U2NCBpbWdcblx0ICB2YXIgbGlzdERlbGltaXRlciA9IGhhc0JhY2tncm91bmQgPyAvOyg/IVteKF0qXFwpKS9nIDogJzsnO1xuXHQgIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IGhhc0JhY2tncm91bmQgPyAvOiguKykvIDogJzonO1xuXHQgIGNzc1RleHQuc3BsaXQobGlzdERlbGltaXRlcikuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgaWYgKGl0ZW0pIHtcblx0ICAgICAgdmFyIHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXIpO1xuXHQgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmVzW3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHJlc1xuXHR9KTtcblx0XG5cdC8vIG1lcmdlIHN0YXRpYyBhbmQgZHluYW1pYyBzdHlsZSBkYXRhIG9uIHRoZSBzYW1lIHZub2RlXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlRGF0YSAoZGF0YSkge1xuXHQgIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyhkYXRhLnN0eWxlKTtcblx0ICAvLyBzdGF0aWMgc3R5bGUgaXMgcHJlLXByb2Nlc3NlZCBpbnRvIGFuIG9iamVjdCBkdXJpbmcgY29tcGlsYXRpb25cblx0ICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxuXHQgIHJldHVybiBkYXRhLnN0YXRpY1N0eWxlXG5cdCAgICA/IGV4dGVuZChkYXRhLnN0YXRpY1N0eWxlLCBzdHlsZSlcblx0ICAgIDogc3R5bGVcblx0fVxuXHRcblx0Ly8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxuXHRmdW5jdGlvbiBub3JtYWxpemVTdHlsZUJpbmRpbmcgKGJpbmRpbmdTdHlsZSkge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGJpbmRpbmdTdHlsZSkpIHtcblx0ICAgIHJldHVybiB0b09iamVjdChiaW5kaW5nU3R5bGUpXG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgYmluZGluZ1N0eWxlID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHBhcnNlU3R5bGVUZXh0KGJpbmRpbmdTdHlsZSlcblx0ICB9XG5cdCAgcmV0dXJuIGJpbmRpbmdTdHlsZVxuXHR9XG5cdFxuXHQvKipcblx0ICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQnc1xuXHQgKiBzbyB0aGF0IHBhcmVudCBjb21wb25lbnQncyBzdHlsZSBjb3VsZCBvdmVycmlkZSBpdFxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7XG5cdCAgdmFyIHJlcyA9IHt9O1xuXHQgIHZhciBzdHlsZURhdGE7XG5cdFxuXHQgIGlmIChjaGVja0NoaWxkKSB7XG5cdCAgICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XG5cdCAgICB3aGlsZSAoY2hpbGROb2RlLmNoaWxkKSB7XG5cdCAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jaGlsZC5fdm5vZGU7XG5cdCAgICAgIGlmIChjaGlsZE5vZGUuZGF0YSAmJiAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKGNoaWxkTm9kZS5kYXRhKSkpIHtcblx0ICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YSh2bm9kZS5kYXRhKSkpIHtcblx0ICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xuXHQgIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkge1xuXHQgICAgaWYgKHBhcmVudE5vZGUuZGF0YSAmJiAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHBhcmVudE5vZGUuZGF0YSkpKSB7XG5cdCAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHR2YXIgY3NzVmFyUkUgPSAvXi0tLztcblx0dmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChjc3NWYXJSRS50ZXN0KG5hbWUpKSB7XG5cdCAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlbC5zdHlsZVtub3JtYWxpemUobmFtZSldID0gdmFsO1xuXHQgIH1cblx0fTtcblx0XG5cdHZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuXHRcblx0dmFyIHRlc3RFbDtcblx0dmFyIG5vcm1hbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAocHJvcCkge1xuXHQgIHRlc3RFbCA9IHRlc3RFbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICBwcm9wID0gY2FtZWxpemUocHJvcCk7XG5cdCAgaWYgKHByb3AgIT09ICdmaWx0ZXInICYmIChwcm9wIGluIHRlc3RFbC5zdHlsZSkpIHtcblx0ICAgIHJldHVybiBwcm9wXG5cdCAgfVxuXHQgIHZhciB1cHBlciA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgdXBwZXI7XG5cdCAgICBpZiAocHJlZml4ZWQgaW4gdGVzdEVsLnN0eWxlKSB7XG5cdCAgICAgIHJldHVybiBwcmVmaXhlZFxuXHQgICAgfVxuXHQgIH1cblx0fSk7XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVTdHlsZSAob2xkVm5vZGUsIHZub2RlKSB7XG5cdCAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuXHQgIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTtcblx0XG5cdCAgaWYgKCFkYXRhLnN0YXRpY1N0eWxlICYmICFkYXRhLnN0eWxlICYmXG5cdCAgICAgICFvbGREYXRhLnN0YXRpY1N0eWxlICYmICFvbGREYXRhLnN0eWxlKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBjdXIsIG5hbWU7XG5cdCAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXHQgIHZhciBvbGRTdGF0aWNTdHlsZSA9IG9sZFZub2RlLmRhdGEuc3RhdGljU3R5bGU7XG5cdCAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZFZub2RlLmRhdGEuc3R5bGUgfHwge307XG5cdFxuXHQgIC8vIGlmIHN0YXRpYyBzdHlsZSBleGlzdHMsIHN0eWxlYmluZGluZyBhbHJlYWR5IG1lcmdlZCBpbnRvIGl0IHdoZW4gZG9pbmcgbm9ybWFsaXplU3R5bGVEYXRhXG5cdCAgdmFyIG9sZFN0eWxlID0gb2xkU3RhdGljU3R5bGUgfHwgb2xkU3R5bGVCaW5kaW5nO1xuXHRcblx0ICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307XG5cdFxuXHQgIHZub2RlLmRhdGEuc3R5bGUgPSBzdHlsZS5fX29iX18gPyBleHRlbmQoe30sIHN0eWxlKSA6IHN0eWxlO1xuXHRcblx0ICB2YXIgbmV3U3R5bGUgPSBnZXRTdHlsZSh2bm9kZSwgdHJ1ZSk7XG5cdFxuXHQgIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xuXHQgICAgaWYgKG5ld1N0eWxlW25hbWVdID09IG51bGwpIHtcblx0ICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcblx0ICAgIGN1ciA9IG5ld1N0eWxlW25hbWVdO1xuXHQgICAgaWYgKGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcblx0ICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcblx0ICAgICAgc2V0UHJvcChlbCwgbmFtZSwgY3VyID09IG51bGwgPyAnJyA6IGN1cik7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgc3R5bGUgPSB7XG5cdCAgY3JlYXRlOiB1cGRhdGVTdHlsZSxcblx0ICB1cGRhdGU6IHVwZGF0ZVN0eWxlXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8qKlxuXHQgKiBBZGQgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cblx0ICogU1ZHIGVsZW1lbnRzIGluIElFXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRDbGFzcyAoZWwsIGNscykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICghY2xzIHx8ICFjbHMudHJpbSgpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgaWYgKGVsLmNsYXNzTGlzdCkge1xuXHQgICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuXHQgICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuYWRkKGMpOyB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGN1ciA9ICcgJyArIGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSArICcgJztcblx0ICAgIGlmIChjdXIuaW5kZXhPZignICcgKyBjbHMgKyAnICcpIDwgMCkge1xuXHQgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGN1ciArIGNscykudHJpbSgpKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cblx0ICogU1ZHIGVsZW1lbnRzIGluIElFXG5cdCAqL1xuXHRmdW5jdGlvbiByZW1vdmVDbGFzcyAoZWwsIGNscykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICghY2xzIHx8ICFjbHMudHJpbSgpKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgaWYgKGVsLmNsYXNzTGlzdCkge1xuXHQgICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuXHQgICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGN1ciA9ICcgJyArIGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSArICcgJztcblx0ICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7XG5cdCAgICB3aGlsZSAoY3VyLmluZGV4T2YodGFyKSA+PSAwKSB7XG5cdCAgICAgIGN1ciA9IGN1ci5yZXBsYWNlKHRhciwgJyAnKTtcblx0ICAgIH1cblx0ICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjdXIudHJpbSgpKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qICAqL1xuXHRcblx0dmFyIGhhc1RyYW5zaXRpb24gPSBpbkJyb3dzZXIgJiYgIWlzSUU5O1xuXHR2YXIgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcblx0dmFyIEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xuXHRcblx0Ly8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xuXHR2YXIgdHJhbnNpdGlvblByb3AgPSAndHJhbnNpdGlvbic7XG5cdHZhciB0cmFuc2l0aW9uRW5kRXZlbnQgPSAndHJhbnNpdGlvbmVuZCc7XG5cdHZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XG5cdHZhciBhbmltYXRpb25FbmRFdmVudCA9ICdhbmltYXRpb25lbmQnO1xuXHRpZiAoaGFzVHJhbnNpdGlvbikge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmICh3aW5kb3cub250cmFuc2l0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcblx0ICAgIHdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgdHJhbnNpdGlvblByb3AgPSAnV2Via2l0VHJhbnNpdGlvbic7XG5cdCAgICB0cmFuc2l0aW9uRW5kRXZlbnQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCc7XG5cdCAgfVxuXHQgIGlmICh3aW5kb3cub25hbmltYXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJlxuXHQgICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcblx0ICAgIGFuaW1hdGlvblByb3AgPSAnV2Via2l0QW5pbWF0aW9uJztcblx0ICAgIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCc7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgcmFmID0gKGluQnJvd3NlciAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCBzZXRUaW1lb3V0O1xuXHRmdW5jdGlvbiBuZXh0RnJhbWUgKGZuKSB7XG5cdCAgcmFmKGZ1bmN0aW9uICgpIHtcblx0ICAgIHJhZihmbik7XG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykge1xuXHQgIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgfHwgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyA9IFtdKSkucHVzaChjbHMpO1xuXHQgIGFkZENsYXNzKGVsLCBjbHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcblx0ICBpZiAoZWwuX3RyYW5zaXRpb25DbGFzc2VzKSB7XG5cdCAgICByZW1vdmUkMShlbC5fdHJhbnNpdGlvbkNsYXNzZXMsIGNscyk7XG5cdCAgfVxuXHQgIHJlbW92ZUNsYXNzKGVsLCBjbHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMgKFxuXHQgIGVsLFxuXHQgIGV4cGVjdGVkVHlwZSxcblx0ICBjYlxuXHQpIHtcblx0ICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG5cdCAgdmFyIHR5cGUgPSByZWYudHlwZTtcblx0ICB2YXIgdGltZW91dCA9IHJlZi50aW1lb3V0O1xuXHQgIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuXHQgIGlmICghdHlwZSkgeyByZXR1cm4gY2IoKSB9XG5cdCAgdmFyIGV2ZW50ID0gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25FbmRFdmVudCA6IGFuaW1hdGlvbkVuZEV2ZW50O1xuXHQgIHZhciBlbmRlZCA9IDA7XG5cdCAgdmFyIGVuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRW5kKTtcblx0ICAgIGNiKCk7XG5cdCAgfTtcblx0ICB2YXIgb25FbmQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuXHQgICAgICBpZiAoKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcblx0ICAgICAgICBlbmQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdCAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcblx0ICAgICAgZW5kKCk7XG5cdCAgICB9XG5cdCAgfSwgdGltZW91dCArIDEpO1xuXHQgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRW5kKTtcblx0fVxuXHRcblx0dmFyIHRyYW5zZm9ybVJFID0gL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLztcblx0XG5cdGZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvIChlbCwgZXhwZWN0ZWRUeXBlKSB7XG5cdCAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcblx0ICB2YXIgdHJhbnNpdGlvbmVEZWxheXMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRGVsYXknXS5zcGxpdCgnLCAnKTtcblx0ICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEdXJhdGlvbiddLnNwbGl0KCcsICcpO1xuXHQgIHZhciB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbmVEZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuXHQgIHZhciBhbmltYXRpb25EZWxheXMgPSBzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEZWxheSddLnNwbGl0KCcsICcpO1xuXHQgIHZhciBhbmltYXRpb25EdXJhdGlvbnMgPSBzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEdXJhdGlvbiddLnNwbGl0KCcsICcpO1xuXHQgIHZhciBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XG5cdFxuXHQgIHZhciB0eXBlO1xuXHQgIHZhciB0aW1lb3V0ID0gMDtcblx0ICB2YXIgcHJvcENvdW50ID0gMDtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG5cdCAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG5cdCAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuXHQgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG5cdCAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcblx0ICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuXHQgICAgICB0eXBlID0gQU5JTUFUSU9OO1xuXHQgICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcblx0ICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcblx0ICAgIHR5cGUgPSB0aW1lb3V0ID4gMFxuXHQgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxuXHQgICAgICAgID8gVFJBTlNJVElPTlxuXHQgICAgICAgIDogQU5JTUFUSU9OXG5cdCAgICAgIDogbnVsbDtcblx0ICAgIHByb3BDb3VudCA9IHR5cGVcblx0ICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG5cdCAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxuXHQgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxuXHQgICAgICA6IDA7XG5cdCAgfVxuXHQgIHZhciBoYXNUcmFuc2Zvcm0gPVxuXHQgICAgdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxuXHQgICAgdHJhbnNmb3JtUkUudGVzdChzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnUHJvcGVydHknXSk7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHR5cGU6IHR5cGUsXG5cdCAgICB0aW1lb3V0OiB0aW1lb3V0LFxuXHQgICAgcHJvcENvdW50OiBwcm9wQ291bnQsXG5cdCAgICBoYXNUcmFuc2Zvcm06IGhhc1RyYW5zZm9ybVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VGltZW91dCAoZGVsYXlzLCBkdXJhdGlvbnMpIHtcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuXHQgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGR1cmF0aW9ucy5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcblx0ICAgIHJldHVybiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pXG5cdCAgfSkpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvTXMgKHMpIHtcblx0ICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpKSAqIDEwMDBcblx0fVxuXHRcblx0LyogICovXG5cdFxuXHRmdW5jdGlvbiBlbnRlciAodm5vZGUpIHtcblx0ICB2YXIgZWwgPSB2bm9kZS5lbG07XG5cdFxuXHQgIC8vIGNhbGwgbGVhdmUgY2FsbGJhY2sgbm93XG5cdCAgaWYgKGVsLl9sZWF2ZUNiKSB7XG5cdCAgICBlbC5fbGVhdmVDYi5jYW5jZWxsZWQgPSB0cnVlO1xuXHQgICAgZWwuX2xlYXZlQ2IoKTtcblx0ICB9XG5cdFxuXHQgIHZhciBkYXRhID0gcmVzb2x2ZVRyYW5zaXRpb24odm5vZGUuZGF0YS50cmFuc2l0aW9uKTtcblx0ICBpZiAoIWRhdGEpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgaWYgKGVsLl9lbnRlckNiIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBjc3MgPSBkYXRhLmNzcztcblx0ICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0ICB2YXIgZW50ZXJDbGFzcyA9IGRhdGEuZW50ZXJDbGFzcztcblx0ICB2YXIgZW50ZXJBY3RpdmVDbGFzcyA9IGRhdGEuZW50ZXJBY3RpdmVDbGFzcztcblx0ICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuXHQgIHZhciBhcHBlYXJBY3RpdmVDbGFzcyA9IGRhdGEuYXBwZWFyQWN0aXZlQ2xhc3M7XG5cdCAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjtcblx0ICB2YXIgZW50ZXIgPSBkYXRhLmVudGVyO1xuXHQgIHZhciBhZnRlckVudGVyID0gZGF0YS5hZnRlckVudGVyO1xuXHQgIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7XG5cdCAgdmFyIGJlZm9yZUFwcGVhciA9IGRhdGEuYmVmb3JlQXBwZWFyO1xuXHQgIHZhciBhcHBlYXIgPSBkYXRhLmFwcGVhcjtcblx0ICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyO1xuXHQgIHZhciBhcHBlYXJDYW5jZWxsZWQgPSBkYXRhLmFwcGVhckNhbmNlbGxlZDtcblx0XG5cdCAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xuXHQgIC8vIHRyYW5zaXRpb24uIE9uZSBlZGdlIGNhc2UgdG8gY2hlY2sgaXMgd2hlbiB0aGUgPHRyYW5zaXRpb24+IGlzIHBsYWNlZFxuXHQgIC8vIGFzIHRoZSByb290IG5vZGUgb2YgYSBjaGlsZCBjb21wb25lbnQuIEluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGNoZWNrXG5cdCAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXG5cdCAgdmFyIHRyYW5zaXRpb25Ob2RlID0gYWN0aXZlSW5zdGFuY2UuJHZub2RlO1xuXHQgIHZhciBjb250ZXh0ID0gdHJhbnNpdGlvbk5vZGUgJiYgdHJhbnNpdGlvbk5vZGUucGFyZW50XG5cdCAgICA/IHRyYW5zaXRpb25Ob2RlLnBhcmVudC5jb250ZXh0XG5cdCAgICA6IGFjdGl2ZUluc3RhbmNlO1xuXHRcblx0ICB2YXIgaXNBcHBlYXIgPSAhY29udGV4dC5faXNNb3VudGVkIHx8ICF2bm9kZS5pc1Jvb3RJbnNlcnQ7XG5cdFxuXHQgIGlmIChpc0FwcGVhciAmJiAhYXBwZWFyICYmIGFwcGVhciAhPT0gJycpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIHN0YXJ0Q2xhc3MgPSBpc0FwcGVhciA/IGFwcGVhckNsYXNzIDogZW50ZXJDbGFzcztcblx0ICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcztcblx0ICB2YXIgYmVmb3JlRW50ZXJIb29rID0gaXNBcHBlYXIgPyAoYmVmb3JlQXBwZWFyIHx8IGJlZm9yZUVudGVyKSA6IGJlZm9yZUVudGVyO1xuXHQgIHZhciBlbnRlckhvb2sgPSBpc0FwcGVhciA/ICh0eXBlb2YgYXBwZWFyID09PSAnZnVuY3Rpb24nID8gYXBwZWFyIDogZW50ZXIpIDogZW50ZXI7XG5cdCAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIgPyAoYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlcikgOiBhZnRlckVudGVyO1xuXHQgIHZhciBlbnRlckNhbmNlbGxlZEhvb2sgPSBpc0FwcGVhciA/IChhcHBlYXJDYW5jZWxsZWQgfHwgZW50ZXJDYW5jZWxsZWQpIDogZW50ZXJDYW5jZWxsZWQ7XG5cdFxuXHQgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG5cdCAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPVxuXHQgICAgZW50ZXJIb29rICYmXG5cdCAgICAvLyBlbnRlckhvb2sgbWF5IGJlIGEgYm91bmQgbWV0aG9kIHdoaWNoIGV4cG9zZXNcblx0ICAgIC8vIHRoZSBsZW5ndGggb2Ygb3JpZ2luYWwgZm4gYXMgX2xlbmd0aFxuXHQgICAgKGVudGVySG9vay5fbGVuZ3RoIHx8IGVudGVySG9vay5sZW5ndGgpID4gMTtcblx0XG5cdCAgdmFyIGNiID0gZWwuX2VudGVyQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChleHBlY3RzQ1NTKSB7XG5cdCAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuXHQgICAgfVxuXHQgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuXHQgICAgICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7XG5cdCAgICAgIH1cblx0ICAgICAgZW50ZXJDYW5jZWxsZWRIb29rICYmIGVudGVyQ2FuY2VsbGVkSG9vayhlbCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XG5cdCAgICB9XG5cdCAgICBlbC5fZW50ZXJDYiA9IG51bGw7XG5cdCAgfSk7XG5cdFxuXHQgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG5cdCAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xuXHQgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdpbnNlcnQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xuXHQgICAgICB2YXIgcGVuZGluZ05vZGUgPSBwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nICYmIHBhcmVudC5fcGVuZGluZ1t2bm9kZS5rZXldO1xuXHQgICAgICBpZiAocGVuZGluZ05vZGUgJiYgcGVuZGluZ05vZGUudGFnID09PSB2bm9kZS50YWcgJiYgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKSB7XG5cdCAgICAgICAgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKCk7XG5cdCAgICAgIH1cblx0ICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuXHQgICAgfSwgJ3RyYW5zaXRpb24taW5zZXJ0Jyk7XG5cdCAgfVxuXHRcblx0ICAvLyBzdGFydCBlbnRlciB0cmFuc2l0aW9uXG5cdCAgYmVmb3JlRW50ZXJIb29rICYmIGJlZm9yZUVudGVySG9vayhlbCk7XG5cdCAgaWYgKGV4cGVjdHNDU1MpIHtcblx0ICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7XG5cdCAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcblx0ICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7XG5cdCAgICAgIGlmICghY2IuY2FuY2VsbGVkICYmICF1c2VyV2FudHNDb250cm9sKSB7XG5cdCAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKHZub2RlLmRhdGEuc2hvdykge1xuXHQgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuXHQgIH1cblx0XG5cdCAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG5cdCAgICBjYigpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbGVhdmUgKHZub2RlLCBybSkge1xuXHQgIHZhciBlbCA9IHZub2RlLmVsbTtcblx0XG5cdCAgLy8gY2FsbCBlbnRlciBjYWxsYmFjayBub3dcblx0ICBpZiAoZWwuX2VudGVyQ2IpIHtcblx0ICAgIGVsLl9lbnRlckNiLmNhbmNlbGxlZCA9IHRydWU7XG5cdCAgICBlbC5fZW50ZXJDYigpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuXHQgIGlmICghZGF0YSkge1xuXHQgICAgcmV0dXJuIHJtKClcblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChlbC5fbGVhdmVDYiB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgY3NzID0gZGF0YS5jc3M7XG5cdCAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG5cdCAgdmFyIGxlYXZlQ2xhc3MgPSBkYXRhLmxlYXZlQ2xhc3M7XG5cdCAgdmFyIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3M7XG5cdCAgdmFyIGJlZm9yZUxlYXZlID0gZGF0YS5iZWZvcmVMZWF2ZTtcblx0ICB2YXIgbGVhdmUgPSBkYXRhLmxlYXZlO1xuXHQgIHZhciBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlO1xuXHQgIHZhciBsZWF2ZUNhbmNlbGxlZCA9IGRhdGEubGVhdmVDYW5jZWxsZWQ7XG5cdCAgdmFyIGRlbGF5TGVhdmUgPSBkYXRhLmRlbGF5TGVhdmU7XG5cdFxuXHQgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG5cdCAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPVxuXHQgICAgbGVhdmUgJiZcblx0ICAgIC8vIGxlYXZlIGhvb2sgbWF5IGJlIGEgYm91bmQgbWV0aG9kIHdoaWNoIGV4cG9zZXNcblx0ICAgIC8vIHRoZSBsZW5ndGggb2Ygb3JpZ2luYWwgZm4gYXMgX2xlbmd0aFxuXHQgICAgKGxlYXZlLl9sZW5ndGggfHwgbGVhdmUubGVuZ3RoKSA+IDE7XG5cdFxuXHQgIHZhciBjYiA9IGVsLl9sZWF2ZUNiID0gb25jZShmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG5cdCAgICAgIGVsLnBhcmVudE5vZGUuX3BlbmRpbmdbdm5vZGUua2V5XSA9IG51bGw7XG5cdCAgICB9XG5cdCAgICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuXHQgICAgfVxuXHQgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuXHQgICAgICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG5cdCAgICAgIH1cblx0ICAgICAgbGVhdmVDYW5jZWxsZWQgJiYgbGVhdmVDYW5jZWxsZWQoZWwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcm0oKTtcblx0ICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKGVsKTtcblx0ICAgIH1cblx0ICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcblx0ICB9KTtcblx0XG5cdCAgaWYgKGRlbGF5TGVhdmUpIHtcblx0ICAgIGRlbGF5TGVhdmUocGVyZm9ybUxlYXZlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcGVyZm9ybUxlYXZlKCk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuXHQgICAgLy8gdGhlIGRlbGF5ZWQgbGVhdmUgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGNhbmNlbGxlZFxuXHQgICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0ICAgIC8vIHJlY29yZCBsZWF2aW5nIGVsZW1lbnRcblx0ICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG5cdCAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVt2bm9kZS5rZXldID0gdm5vZGU7XG5cdCAgICB9XG5cdCAgICBiZWZvcmVMZWF2ZSAmJiBiZWZvcmVMZWF2ZShlbCk7XG5cdCAgICBpZiAoZXhwZWN0c0NTUykge1xuXHQgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuXHQgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuXHQgICAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG5cdCAgICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcblx0ICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xuXHQgICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG5cdCAgICAgIGNiKCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbiAoZGVmJCQxKSB7XG5cdCAgaWYgKCFkZWYkJDEpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnb2JqZWN0Jykge1xuXHQgICAgdmFyIHJlcyA9IHt9O1xuXHQgICAgaWYgKGRlZiQkMS5jc3MgIT09IGZhbHNlKSB7XG5cdCAgICAgIGV4dGVuZChyZXMsIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMS5uYW1lIHx8ICd2JykpO1xuXHQgICAgfVxuXHQgICAgZXh0ZW5kKHJlcywgZGVmJCQxKTtcblx0ICAgIHJldHVybiByZXNcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxKVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIGF1dG9Dc3NUcmFuc2l0aW9uID0gY2FjaGVkKGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGVudGVyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG5cdCAgICBsZWF2ZUNsYXNzOiAobmFtZSArIFwiLWxlYXZlXCIpLFxuXHQgICAgYXBwZWFyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG5cdCAgICBlbnRlckFjdGl2ZUNsYXNzOiAobmFtZSArIFwiLWVudGVyLWFjdGl2ZVwiKSxcblx0ICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmUtYWN0aXZlXCIpLFxuXHQgICAgYXBwZWFyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpXG5cdCAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIG9uY2UgKGZuKSB7XG5cdCAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIWNhbGxlZCkge1xuXHQgICAgICBjYWxsZWQgPSB0cnVlO1xuXHQgICAgICBmbigpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIHRyYW5zaXRpb24gPSBpbkJyb3dzZXIgPyB7XG5cdCAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG5cdCAgICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuXHQgICAgICBlbnRlcih2bm9kZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSAodm5vZGUsIHJtKSB7XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcblx0ICAgICAgbGVhdmUodm5vZGUsIHJtKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJtKCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9IDoge307XG5cdFxuXHR2YXIgcGxhdGZvcm1Nb2R1bGVzID0gW1xuXHQgIGF0dHJzLFxuXHQgIGtsYXNzLFxuXHQgIGV2ZW50cyxcblx0ICBkb21Qcm9wcyxcblx0ICBzdHlsZSxcblx0ICB0cmFuc2l0aW9uXG5cdF07XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbFxuXHQvLyBidWlsdC1pbiBtb2R1bGVzIGhhdmUgYmVlbiBhcHBsaWVkLlxuXHR2YXIgbW9kdWxlcyA9IHBsYXRmb3JtTW9kdWxlcy5jb25jYXQoYmFzZU1vZHVsZXMpO1xuXHRcblx0dmFyIHBhdGNoJDEgPSBjcmVhdGVQYXRjaEZ1bmN0aW9uKHsgbm9kZU9wczogbm9kZU9wcywgbW9kdWxlczogbW9kdWxlcyB9KTtcblx0XG5cdC8qKlxuXHQgKiBOb3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgbGlrZSBhdHRhY2hpbmdcblx0ICogcHJvcGVydGllcyB0byBFbGVtZW50cy5cblx0ICovXG5cdFxuXHR2YXIgbW9kZWxhYmxlVGFnUkUgPSAvXmlucHV0fHNlbGVjdHx0ZXh0YXJlYXx2dWUtY29tcG9uZW50LVswLTldKygtWzAtOWEtekEtWl8tXSopPyQvO1xuXHRcblx0LyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdGlmIChpc0lFOSkge1xuXHQgIC8vIGh0dHA6Ly93d3cubWF0dHM0MTEuY29tL3Bvc3QvaW50ZXJuZXQtZXhwbG9yZXItOS1vbmlucHV0L1xuXHQgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdCAgICBpZiAoZWwgJiYgZWwudm1vZGVsKSB7XG5cdCAgICAgIHRyaWdnZXIoZWwsICdpbnB1dCcpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdFxuXHR2YXIgbW9kZWwgPSB7XG5cdCAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIGlmICghbW9kZWxhYmxlVGFnUkUudGVzdCh2bm9kZS50YWcpKSB7XG5cdCAgICAgICAgd2Fybihcblx0ICAgICAgICAgIFwidi1tb2RlbCBpcyBub3Qgc3VwcG9ydGVkIG9uIGVsZW1lbnQgdHlwZTogPFwiICsgKHZub2RlLnRhZykgKyBcIj4uIFwiICtcblx0ICAgICAgICAgICdJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBjb250ZW50ZWRpdGFibGUsIGl0XFwncyByZWNvbW1lbmRlZCB0byAnICtcblx0ICAgICAgICAgICd3cmFwIGEgbGlicmFyeSBkZWRpY2F0ZWQgZm9yIHRoYXQgcHVycG9zZSBpbnNpZGUgYSBjdXN0b20gY29tcG9uZW50LicsXG5cdCAgICAgICAgICB2bm9kZS5jb250ZXh0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcblx0ICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTtcblx0ICAgICAgfTtcblx0ICAgICAgY2IoKTtcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgIGlmIChpc0lFIHx8IGlzRWRnZSkge1xuXHQgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKFxuXHQgICAgICAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGVsLnR5cGUgPT09ICd0ZXh0JykgJiZcblx0ICAgICAgIWJpbmRpbmcubW9kaWZpZXJzLmxhenlcblx0ICAgICkge1xuXHQgICAgICBpZiAoIWlzQW5kcm9pZCkge1xuXHQgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuXHQgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XG5cdCAgICAgIH1cblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICAgIGlmIChpc0lFOSkge1xuXHQgICAgICAgIGVsLnZtb2RlbCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFVwZGF0ZWQ6IGZ1bmN0aW9uIGNvbXBvbmVudFVwZGF0ZWQgKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuXHQgICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcblx0ICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuXHQgICAgICAvLyBpbiBjYXNlIHRoZSBvcHRpb25zIHJlbmRlcmVkIGJ5IHYtZm9yIGhhdmUgY2hhbmdlZCxcblx0ICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSB2YWx1ZSBpcyBvdXQtb2Ytc3luYyB3aXRoIHRoZSByZW5kZXJlZCBvcHRpb25zLlxuXHQgICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcblx0ICAgICAgLy8gb3B0aW9uIGluIHRoZSBET00uXG5cdCAgICAgIHZhciBuZWVkUmVzZXQgPSBlbC5tdWx0aXBsZVxuXHQgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGVsLm9wdGlvbnMpOyB9KVxuXHQgICAgICAgIDogYmluZGluZy52YWx1ZSAhPT0gYmluZGluZy5vbGRWYWx1ZSAmJiBoYXNOb01hdGNoaW5nT3B0aW9uKGJpbmRpbmcudmFsdWUsIGVsLm9wdGlvbnMpO1xuXHQgICAgICBpZiAobmVlZFJlc2V0KSB7XG5cdCAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuXHQgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7XG5cdCAgdmFyIGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcblx0ICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2Fybihcblx0ICAgICAgXCI8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw9XFxcIlwiICsgKGJpbmRpbmcuZXhwcmVzc2lvbikgKyBcIlxcXCI+IFwiICtcblx0ICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG5cdCAgICAgIHZtXG5cdCAgICApO1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIHZhciBzZWxlY3RlZCwgb3B0aW9uO1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XG5cdCAgICBpZiAoaXNNdWx0aXBsZSkge1xuXHQgICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcblx0ICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcblx0ICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG5cdCAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcblx0ICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm5cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0ICBpZiAoIWlzTXVsdGlwbGUpIHtcblx0ICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBvcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uc1tpXSksIHZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRydWVcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VmFsdWUgKG9wdGlvbikge1xuXHQgIHJldHVybiAnX3ZhbHVlJyBpbiBvcHRpb25cblx0ICAgID8gb3B0aW9uLl92YWx1ZVxuXHQgICAgOiBvcHRpb24udmFsdWVcblx0fVxuXHRcblx0ZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0IChlKSB7XG5cdCAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZCAoZSkge1xuXHQgIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuXHQgIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0cmlnZ2VyIChlbCwgdHlwZSkge1xuXHQgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcblx0ICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcblx0ICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xuXHR9XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3Rcblx0ZnVuY3Rpb24gbG9jYXRlTm9kZSAodm5vZGUpIHtcblx0ICByZXR1cm4gdm5vZGUuY2hpbGQgJiYgKCF2bm9kZS5kYXRhIHx8ICF2bm9kZS5kYXRhLnRyYW5zaXRpb24pXG5cdCAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY2hpbGQuX3Zub2RlKVxuXHQgICAgOiB2bm9kZVxuXHR9XG5cdFxuXHR2YXIgc2hvdyA9IHtcblx0ICBiaW5kOiBmdW5jdGlvbiBiaW5kIChlbCwgcmVmLCB2bm9kZSkge1xuXHQgICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXHRcblx0ICAgIHZub2RlID0gbG9jYXRlTm9kZSh2bm9kZSk7XG5cdCAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuXHQgICAgaWYgKHZhbHVlICYmIHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG5cdCAgICAgIGVudGVyKHZub2RlKTtcblx0ICAgIH1cblx0ICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XG5cdCAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XG5cdCAgICBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgPSBvcmlnaW5hbERpc3BsYXk7XG5cdCAgfSxcblx0ICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSAoZWwsIHJlZiwgdm5vZGUpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcblx0ICAgIHZhciBvbGRWYWx1ZSA9IHJlZi5vbGRWYWx1ZTtcblx0XG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHsgcmV0dXJuIH1cblx0ICAgIHZub2RlID0gbG9jYXRlTm9kZSh2bm9kZSk7XG5cdCAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuXHQgICAgaWYgKHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG5cdCAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgIGVudGVyKHZub2RlKTtcblx0ICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcblx0ICBtb2RlbDogbW9kZWwsXG5cdCAgc2hvdzogc2hvd1xuXHR9O1xuXHRcblx0LyogICovXG5cdFxuXHQvLyBQcm92aWRlcyB0cmFuc2l0aW9uIHN1cHBvcnQgZm9yIGEgc2luZ2xlIGVsZW1lbnQvY29tcG9uZW50LlxuXHQvLyBzdXBwb3J0cyB0cmFuc2l0aW9uIG1vZGUgKG91dC1pbiAvIGluLW91dClcblx0XG5cdHZhciB0cmFuc2l0aW9uUHJvcHMgPSB7XG5cdCAgbmFtZTogU3RyaW5nLFxuXHQgIGFwcGVhcjogQm9vbGVhbixcblx0ICBjc3M6IEJvb2xlYW4sXG5cdCAgbW9kZTogU3RyaW5nLFxuXHQgIHR5cGU6IFN0cmluZyxcblx0ICBlbnRlckNsYXNzOiBTdHJpbmcsXG5cdCAgbGVhdmVDbGFzczogU3RyaW5nLFxuXHQgIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcblx0ICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG5cdCAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcblx0ICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nXG5cdH07XG5cdFxuXHQvLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cblx0Ly8gd2Ugd2FudCB0byByZWN1cnNpdmVseSByZXRyaWV2ZSB0aGUgcmVhbCBjb21wb25lbnQgdG8gYmUgcmVuZGVyZWRcblx0ZnVuY3Rpb24gZ2V0UmVhbENoaWxkICh2bm9kZSkge1xuXHQgIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG5cdCAgaWYgKGNvbXBPcHRpb25zICYmIGNvbXBPcHRpb25zLkN0b3Iub3B0aW9ucy5hYnN0cmFjdCkge1xuXHQgICAgcmV0dXJuIGdldFJlYWxDaGlsZChnZXRGaXJzdENvbXBvbmVudENoaWxkKGNvbXBPcHRpb25zLmNoaWxkcmVuKSlcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIHZub2RlXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBleHRyYWN0VHJhbnNpdGlvbkRhdGEgKGNvbXApIHtcblx0ICB2YXIgZGF0YSA9IHt9O1xuXHQgIHZhciBvcHRpb25zID0gY29tcC4kb3B0aW9ucztcblx0ICAvLyBwcm9wc1xuXHQgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuXHQgICAgZGF0YVtrZXldID0gY29tcFtrZXldO1xuXHQgIH1cblx0ICAvLyBldmVudHMuXG5cdCAgLy8gZXh0cmFjdCBsaXN0ZW5lcnMgYW5kIHBhc3MgdGhlbSBkaXJlY3RseSB0byB0aGUgdHJhbnNpdGlvbiBtZXRob2RzXG5cdCAgdmFyIGxpc3RlbmVycyA9IG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcblx0ICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcblx0ICAgIGRhdGFbY2FtZWxpemUoa2V5JDEpXSA9IGxpc3RlbmVyc1trZXkkMV0uZm47XG5cdCAgfVxuXHQgIHJldHVybiBkYXRhXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuXHQgIHJldHVybiAvXFxkLWtlZXAtYWxpdmUkLy50ZXN0KHJhd0NoaWxkLnRhZylcblx0ICAgID8gaCgna2VlcC1hbGl2ZScpXG5cdCAgICA6IG51bGxcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbiAodm5vZGUpIHtcblx0ICB3aGlsZSAoKHZub2RlID0gdm5vZGUucGFyZW50KSkge1xuXHQgICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0dmFyIFRyYW5zaXRpb24gPSB7XG5cdCAgbmFtZTogJ3RyYW5zaXRpb24nLFxuXHQgIHByb3BzOiB0cmFuc2l0aW9uUHJvcHMsXG5cdCAgYWJzdHJhY3Q6IHRydWUsXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcblx0ICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG5cdCAgICBpZiAoIWNoaWxkcmVuKSB7XG5cdCAgICAgIHJldHVyblxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGZpbHRlciBvdXQgdGV4dCBub2RlcyAocG9zc2libGUgd2hpdGVzcGFjZXMpXG5cdCAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWc7IH0pO1xuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuXHQgICAgICByZXR1cm5cblx0ICAgIH1cblx0XG5cdCAgICAvLyB3YXJuIG11bHRpcGxlIGVsZW1lbnRzXG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG5cdCAgICAgIHdhcm4oXG5cdCAgICAgICAgJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQuIFVzZSAnICtcblx0ICAgICAgICAnPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nLFxuXHQgICAgICAgIHRoaXMuJHBhcmVudFxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuXHRcblx0ICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlXG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuXHQgICAgICAgIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbicpIHtcblx0ICAgICAgd2Fybihcblx0ICAgICAgICAnaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsXG5cdCAgICAgICAgdGhpcy4kcGFyZW50XG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJhd0NoaWxkID0gY2hpbGRyZW5bMF07XG5cdFxuXHQgICAgLy8gaWYgdGhpcyBpcyBhIGNvbXBvbmVudCByb290IG5vZGUgYW5kIHRoZSBjb21wb25lbnQnc1xuXHQgICAgLy8gcGFyZW50IGNvbnRhaW5lciBub2RlIGFsc28gaGFzIHRyYW5zaXRpb24sIHNraXAuXG5cdCAgICBpZiAoaGFzUGFyZW50VHJhbnNpdGlvbih0aGlzLiR2bm9kZSkpIHtcblx0ICAgICAgcmV0dXJuIHJhd0NoaWxkXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gYXBwbHkgdHJhbnNpdGlvbiBkYXRhIHRvIGNoaWxkXG5cdCAgICAvLyB1c2UgZ2V0UmVhbENoaWxkKCkgdG8gaWdub3JlIGFic3RyYWN0IGNvbXBvbmVudHMgZS5nLiBrZWVwLWFsaXZlXG5cdCAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpO1xuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5cdCAgICBpZiAoIWNoaWxkKSB7XG5cdCAgICAgIHJldHVybiByYXdDaGlsZFxuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0aGlzLl9sZWF2aW5nKSB7XG5cdCAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcblx0ICAgIH1cblx0XG5cdCAgICB2YXIga2V5ID0gY2hpbGQua2V5ID0gY2hpbGQua2V5ID09IG51bGwgfHwgY2hpbGQuaXNTdGF0aWNcblx0ICAgICAgPyAoXCJfX3ZcIiArIChjaGlsZC50YWcgKyB0aGlzLl91aWQpICsgXCJfX1wiKVxuXHQgICAgICA6IGNoaWxkLmtleTtcblx0ICAgIHZhciBkYXRhID0gKGNoaWxkLmRhdGEgfHwgKGNoaWxkLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG5cdCAgICB2YXIgb2xkUmF3Q2hpbGQgPSB0aGlzLl92bm9kZTtcblx0ICAgIHZhciBvbGRDaGlsZCA9IGdldFJlYWxDaGlsZChvbGRSYXdDaGlsZCk7XG5cdFxuXHQgICAgLy8gbWFyayB2LXNob3dcblx0ICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZVxuXHQgICAgaWYgKGNoaWxkLmRhdGEuZGlyZWN0aXZlcyAmJiBjaGlsZC5kYXRhLmRpcmVjdGl2ZXMuc29tZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lID09PSAnc2hvdyc7IH0pKSB7XG5cdCAgICAgIGNoaWxkLmRhdGEuc2hvdyA9IHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9sZENoaWxkICYmIG9sZENoaWxkLmRhdGEgJiYgb2xkQ2hpbGQua2V5ICE9PSBrZXkpIHtcblx0ICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG5cdCAgICAgIC8vIGltcG9ydGFudCBmb3IgZHluYW1pYyB0cmFuc2l0aW9ucyFcblx0ICAgICAgdmFyIG9sZERhdGEgPSBvbGRDaGlsZC5kYXRhLnRyYW5zaXRpb24gPSBleHRlbmQoe30sIGRhdGEpO1xuXHRcblx0ICAgICAgLy8gaGFuZGxlIHRyYW5zaXRpb24gbW9kZVxuXHQgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcblx0ICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcblx0ICAgICAgICB0aGlzLl9sZWF2aW5nID0gdHJ1ZTtcblx0ICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnYWZ0ZXJMZWF2ZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHRoaXMkMS5fbGVhdmluZyA9IGZhbHNlO1xuXHQgICAgICAgICAgdGhpcyQxLiRmb3JjZVVwZGF0ZSgpO1xuXHQgICAgICAgIH0sIGtleSk7XG5cdCAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKVxuXHQgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7XG5cdCAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZTtcblx0ICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkgeyBkZWxheWVkTGVhdmUoKTsgfTtcblx0ICAgICAgICBtZXJnZVZOb2RlSG9vayhkYXRhLCAnYWZ0ZXJFbnRlcicsIHBlcmZvcm1MZWF2ZSwga2V5KTtcblx0ICAgICAgICBtZXJnZVZOb2RlSG9vayhkYXRhLCAnZW50ZXJDYW5jZWxsZWQnLCBwZXJmb3JtTGVhdmUsIGtleSk7XG5cdCAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHtcblx0ICAgICAgICAgIGRlbGF5ZWRMZWF2ZSA9IGxlYXZlO1xuXHQgICAgICAgIH0sIGtleSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmF3Q2hpbGRcblx0ICB9XG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgbGlzdCBpdGVtcy5cblx0Ly8gc3VwcG9ydHMgbW92ZSB0cmFuc2l0aW9ucyB1c2luZyB0aGUgRkxJUCB0ZWNobmlxdWUuXG5cdFxuXHQvLyBCZWNhdXNlIHRoZSB2ZG9tJ3MgY2hpbGRyZW4gdXBkYXRlIGFsZ29yaXRobSBpcyBcInVuc3RhYmxlXCIgLSBpLmUuXG5cdC8vIGl0IGRvZXNuJ3QgZ3VhcmFudGVlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbmluZyBvZiByZW1vdmVkIGVsZW1lbnRzLFxuXHQvLyB3ZSBmb3JjZSB0cmFuc2l0aW9uLWdyb3VwIHRvIHVwZGF0ZSBpdHMgY2hpbGRyZW4gaW50byB0d28gcGFzc2VzOlxuXHQvLyBpbiB0aGUgZmlyc3QgcGFzcywgd2UgcmVtb3ZlIGFsbCBub2RlcyB0aGF0IG5lZWQgdG8gYmUgcmVtb3ZlZCxcblx0Ly8gdHJpZ2dlcmluZyB0aGVpciBsZWF2aW5nIHRyYW5zaXRpb247IGluIHRoZSBzZWNvbmQgcGFzcywgd2UgaW5zZXJ0L21vdmVcblx0Ly8gaW50byB0aGUgZmluYWwgZGlzaXJlZCBzdGF0ZS4gVGhpcyB3YXkgaW4gdGhlIHNlY29uZCBwYXNzIHJlbW92ZWRcblx0Ly8gbm9kZXMgd2lsbCByZW1haW4gd2hlcmUgdGhleSBzaG91bGQgYmUuXG5cdFxuXHR2YXIgcHJvcHMgPSBleHRlbmQoe1xuXHQgIHRhZzogU3RyaW5nLFxuXHQgIG1vdmVDbGFzczogU3RyaW5nXG5cdH0sIHRyYW5zaXRpb25Qcm9wcyk7XG5cdFxuXHRkZWxldGUgcHJvcHMubW9kZTtcblx0XG5cdHZhciBUcmFuc2l0aW9uR3JvdXAgPSB7XG5cdCAgcHJvcHM6IHByb3BzLFxuXHRcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkge1xuXHQgICAgdmFyIHRhZyA9IHRoaXMudGFnIHx8IHRoaXMuJHZub2RlLmRhdGEudGFnIHx8ICdzcGFuJztcblx0ICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHQgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcblx0ICAgIHZhciByYXdDaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW107XG5cdCAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuID0gW107XG5cdCAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgYyA9IHJhd0NoaWxkcmVuW2ldO1xuXHQgICAgICBpZiAoYy50YWcpIHtcblx0ICAgICAgICBpZiAoYy5rZXkgIT0gbnVsbCAmJiBTdHJpbmcoYy5rZXkpLmluZGV4T2YoJ19fdmxpc3QnKSAhPT0gMCkge1xuXHQgICAgICAgICAgY2hpbGRyZW4ucHVzaChjKTtcblx0ICAgICAgICAgIG1hcFtjLmtleV0gPSBjXG5cdCAgICAgICAgICA7KGMuZGF0YSB8fCAoYy5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgICB2YXIgb3B0cyA9IGMuY29tcG9uZW50T3B0aW9ucztcblx0ICAgICAgICAgIHZhciBuYW1lID0gb3B0c1xuXHQgICAgICAgICAgICA/IChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKVxuXHQgICAgICAgICAgICA6IGMudGFnO1xuXHQgICAgICAgICAgd2FybigoXCI8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZDogPFwiICsgbmFtZSArIFwiPlwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByZXZDaGlsZHJlbikge1xuXHQgICAgICB2YXIga2VwdCA9IFtdO1xuXHQgICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpJDErKykge1xuXHQgICAgICAgIHZhciBjJDEgPSBwcmV2Q2hpbGRyZW5baSQxXTtcblx0ICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG5cdCAgICAgICAgYyQxLmRhdGEucG9zID0gYyQxLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgICBpZiAobWFwW2MkMS5rZXldKSB7XG5cdCAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVtb3ZlZC5wdXNoKGMkMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMua2VwdCA9IGgodGFnLCBudWxsLCBrZXB0KTtcblx0ICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuXHQgIH0sXG5cdFxuXHQgIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlICgpIHtcblx0ICAgIC8vIGZvcmNlIHJlbW92aW5nIHBhc3Ncblx0ICAgIHRoaXMuX19wYXRjaF9fKFxuXHQgICAgICB0aGlzLl92bm9kZSxcblx0ICAgICAgdGhpcy5rZXB0LFxuXHQgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nXG5cdCAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuXHQgICAgKTtcblx0ICAgIHRoaXMuX3Zub2RlID0gdGhpcy5rZXB0O1xuXHQgIH0sXG5cdFxuXHQgIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQgKCkge1xuXHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47XG5cdCAgICB2YXIgbW92ZUNsYXNzID0gdGhpcy5tb3ZlQ2xhc3MgfHwgKCh0aGlzLm5hbWUgfHwgJ3YnKSArICctbW92ZScpO1xuXHQgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcblx0ICAgICAgcmV0dXJuXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXG5cdCAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy5cblx0ICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuXHQgICAgY2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG5cdCAgICBjaGlsZHJlbi5mb3JFYWNoKGFwcGx5VHJhbnNsYXRpb24pO1xuXHRcblx0ICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxuXHQgICAgdmFyIGYgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcblx0ICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgaWYgKGMuZGF0YS5tb3ZlZCkge1xuXHQgICAgICAgIHZhciBlbCA9IGMuZWxtO1xuXHQgICAgICAgIHZhciBzID0gZWwuc3R5bGU7XG5cdCAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuXHQgICAgICAgIHMudHJhbnNmb3JtID0gcy5XZWJraXRUcmFuc2Zvcm0gPSBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xuXHQgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBlbC5fbW92ZUNiID0gZnVuY3Rpb24gY2IgKGUpIHtcblx0ICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcblx0ICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGNiKTtcblx0ICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XG5cdCAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgbWV0aG9kczoge1xuXHQgICAgaGFzTW92ZTogZnVuY3Rpb24gaGFzTW92ZSAoZWwsIG1vdmVDbGFzcykge1xuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblx0ICAgICAgaWYgKCFoYXNUcmFuc2l0aW9uKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuX2hhc01vdmUgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9oYXNNb3ZlXG5cdCAgICAgIH1cblx0ICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuXHQgICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGVsKTtcblx0ICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuXHQgICAgICByZXR1cm4gKHRoaXMuX2hhc01vdmUgPSBpbmZvLmhhc1RyYW5zZm9ybSlcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjYWxsUGVuZGluZ0NicyAoYykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChjLmVsbS5fbW92ZUNiKSB7XG5cdCAgICBjLmVsbS5fbW92ZUNiKCk7XG5cdCAgfVxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXHQgIGlmIChjLmVsbS5fZW50ZXJDYikge1xuXHQgICAgYy5lbG0uX2VudGVyQ2IoKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG5cdCAgYy5kYXRhLm5ld1BvcyA9IGMuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uIChjKSB7XG5cdCAgdmFyIG9sZFBvcyA9IGMuZGF0YS5wb3M7XG5cdCAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG5cdCAgdmFyIGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcblx0ICB2YXIgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcblx0ICBpZiAoZHggfHwgZHkpIHtcblx0ICAgIGMuZGF0YS5tb3ZlZCA9IHRydWU7XG5cdCAgICB2YXIgcyA9IGMuZWxtLnN0eWxlO1xuXHQgICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuXHQgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIHBsYXRmb3JtQ29tcG9uZW50cyA9IHtcblx0ICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuXHQgIFRyYW5zaXRpb25Hcm91cDogVHJhbnNpdGlvbkdyb3VwXG5cdH07XG5cdFxuXHQvKiAgKi9cblx0XG5cdC8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblx0VnVlJDIuY29uZmlnLmlzVW5rbm93bkVsZW1lbnQgPSBpc1Vua25vd25FbGVtZW50O1xuXHRWdWUkMi5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XG5cdFZ1ZSQyLmNvbmZpZy5nZXRUYWdOYW1lc3BhY2UgPSBnZXRUYWdOYW1lc3BhY2U7XG5cdFZ1ZSQyLmNvbmZpZy5tdXN0VXNlUHJvcCA9IG11c3RVc2VQcm9wO1xuXHRcblx0Ly8gaW5zdGFsbCBwbGF0Zm9ybSBydW50aW1lIGRpcmVjdGl2ZXMgJiBjb21wb25lbnRzXG5cdGV4dGVuZChWdWUkMi5vcHRpb25zLmRpcmVjdGl2ZXMsIHBsYXRmb3JtRGlyZWN0aXZlcyk7XG5cdGV4dGVuZChWdWUkMi5vcHRpb25zLmNvbXBvbmVudHMsIHBsYXRmb3JtQ29tcG9uZW50cyk7XG5cdFxuXHQvLyBpbnN0YWxsIHBsYXRmb3JtIHBhdGNoIGZ1bmN0aW9uXG5cdFZ1ZSQyLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCQxIDogbm9vcDtcblx0XG5cdC8vIHdyYXAgbW91bnRcblx0VnVlJDIucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uIChcblx0ICBlbCxcblx0ICBoeWRyYXRpbmdcblx0KSB7XG5cdCAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG5cdCAgcmV0dXJuIHRoaXMuX21vdW50KGVsLCBoeWRyYXRpbmcpXG5cdH07XG5cdFxuXHQvLyBkZXZ0b29scyBnbG9iYWwgaG9va1xuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICBpZiAoY29uZmlnLmRldnRvb2xzKSB7XG5cdCAgICBpZiAoZGV2dG9vbHMpIHtcblx0ICAgICAgZGV2dG9vbHMuZW1pdCgnaW5pdCcsIFZ1ZSQyKTtcblx0ICAgIH0gZWxzZSBpZiAoXG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcblx0ICAgICAgaW5Ccm93c2VyICYmIC9DaHJvbWVcXC9cXGQrLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuXHQgICAgKSB7XG5cdCAgICAgIGNvbnNvbGUubG9nKFxuXHQgICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOlxcbicgK1xuXHQgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLWRldnRvb2xzJ1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1cblx0fSwgMCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFZ1ZSQyO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSksIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oNClcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMilcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0ZXhwb3J0cy5pKF9fd2VicGFja19yZXF1aXJlX18oNyksIFwiXCIpO1xuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImZvb3RlcjphZnRlcixoZWFkZXI6YWZ0ZXJ7Y29udGVudDonICc7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5leHBhbmQteS1lbnRlci1hY3RpdmUsLmV4cGFuZC15LWxlYXZlLWFjdGl2ZSwubW9kYWwtZW50ZXItYWN0aXZlLC5tb2RhbC1sZWF2ZS1hY3RpdmUsLnBsYXllci1tb3JlLWVudGVyLWFjdGl2ZSwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5leHBhbmQteS1lbnRlciwuZXhwYW5kLXktbGVhdmUtYWN0aXZlLC5tb2RhbC1lbnRlciwubW9kYWwtbGVhdmUtYWN0aXZlLC5wbGF5ZXItbW9yZS1lbnRlciwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zZm9ybTpzY2FsZVkoMCl9LnBsYXllci1tb3JlLWVudGVyLC5wbGF5ZXItbW9yZS1lbnRlci1hY3RpdmUsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciB0b3B9I2JvZHksLmFwcCxib2R5LGh0bWx7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MH1ib2R5e2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xpbmUtaGVpZ2h0OjE4cHh9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9LmFwcHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1mb290ZXIsaGVhZGVye3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfWZvb3RlciAubGVmdCxoZWFkZXIgLmxlZnR7ZmxvYXQ6bGVmdH1mb290ZXIgLnJpZ2h0LGhlYWRlciAucmlnaHR7ZmxvYXQ6cmlnaHR9Zm9vdGVyIC5jZW50ZXIsaGVhZGVyIC5jZW50ZXJ7bWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXJ9Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3tkaXNwbGF5OmlubGluZS1ibG9ja31AbWVkaWEgKG1heC13aWR0aDo1NDBweCl7Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3twYWRkaW5nLWJvdHRvbToxMHB4O2Rpc3BsYXk6YmxvY2t9Zm9vdGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGQsaGVhZGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH19Lmx5cmljLWVkaXRvcnstbXMtZmxleDoxO2ZsZXg6MTtvdmVyZmxvdzphdXRvfS5mb3JtLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NXB4IDA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uZm9ybS1ncm91cCBsYWJlbHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZy1yaWdodDoxMHB4fS5mb3JtLWdyb3VwIGlucHV0ey1tcy1mbGV4OjE7ZmxleDoxO2hlaWdodDozMHB4O2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtwYWRkaW5nOjAgM3B4O2JvcmRlci1yYWRpdXM6NXB4fS5tZW51LWl0ZW17ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6I2ZmZjtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3BhZGRpbmc6MCA4cHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMwZDQ4ODR9LmJ0bntib3JkZXItcmFkaXVzOjVweDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjZweDtmb250LXdlaWdodDpib2xkZXI7Y3Vyc29yOnBvaW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQ6IzExNjFiMztjb2xvcjojZmZmfS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTI0Yjg2fS5idG4ud2hpdGUsZm9vdGVyIC5idG4saGVhZGVyIC5idG57YmFja2dyb3VuZDojZmZmO2NvbG9yOiMxMTYxYjN9LmJ0bi53aGl0ZTpob3Zlcixmb290ZXIgLmJ0bjpob3ZlcixoZWFkZXIgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcblx0Ki9cblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGlzdCA9IFtdO1xuXHRcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xuXHRcdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdFx0fTtcblx0XG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0cmV0dXJuIGxpc3Q7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAZm9udC1mYWNle2ZvbnQtZmFtaWx5OmZvbnRlbGxvO3NyYzp1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpICsgXCIpO3NyYzp1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpICsgXCIjaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpICsgXCIpIGZvcm1hdCgnd29mZjInKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSArIFwiKSBmb3JtYXQoJ3dvZmYnKSx1cmwoXCIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKFwiICsgX193ZWJwYWNrX3JlcXVpcmVfXygxMikgKyBcIiNmb250ZWxsbykgZm9ybWF0KCdzdmcnKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9W2NsYXNzKj1cXFwiIGljb24tXFxcIl06YmVmb3JlLFtjbGFzc149aWNvbi1dOmJlZm9yZXtmb250LWZhbWlseTpmb250ZWxsbztmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7c3BlYWs6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aWR0aDoxZW07bWFyZ2luLXJpZ2h0Oi4yZW07dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC12YXJpYW50Om5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2xpbmUtaGVpZ2h0OjFlbTttYXJnaW4tbGVmdDouMmVtOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlfS5pY29uLWVkaXQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAwJ30uaWNvbi1zYXZlOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMSd9Lmljb24tdHJhc2g6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAyJ30uaWNvbi1kb3dubG9hZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDMnfS5pY29uLXVwbG9hZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDQnfS5pY29uLXJpZ2h0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwNSd9Lmljb24tbGVmdDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDYnfS5pY29uLXVwOmJlZm9yZXtjb250ZW50OidcXFxcRTgwNyd9Lmljb24tZG93bjpiZWZvcmV7Y29udGVudDonXFxcXEU4MDgnfS5pY29uLXZvbHVtZS1vZmY6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA5J30uaWNvbi12b2x1bWUtdXA6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBBJ30uaWNvbi1wbHVzOmJlZm9yZXtjb250ZW50OidcXFxcRTgwRCd9Lmljb24tY2FuY2VsOmJlZm9yZXtjb250ZW50OidcXFxcRTgwRSd9Lmljb24tZWxsaXBzaXMtdmVydDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEYnfS5pY29uLWluZm86YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODEwJ30uaWNvbi1oZWxwLWNpcmNsZWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODExJ30uaWNvbi1wbGF5OmJlZm9yZXtjb250ZW50OidcXFxcRTgxMid9Lmljb24tcGF1c2U6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODEzJ30uaWNvbi1mb3J3YXJkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNCd9Lmljb24tYmFja3dhcmQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODE1J30uaWNvbi1zdG9wOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNid9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjJiYjRhZTA4MDg0YjdhOTAwYmZlMWM3MDNjOTg4ZjM0LmVvdFwiO1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcImYzMTNhMGY5ODc2NzJkYzc3YThjMjQzMzgwZTIwODllLndvZmYyXCI7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjRjYzkzMDE2M2Y2ZDUwODhkZmE1ZmVmNjE5ZDg3Y2I5LndvZmZcIjtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiYjQ4MzU0NDMwM2ZjZmM3ZTFlMzQxNTlhNDExZmNkY2IudHRmXCI7XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcImY0MDM3ZjhkMTZmNDMzNzliMTgwMjA3MDZiZGM5NTY3LnN2Z1wiO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG5cdCovXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xuXHRcdFx0dmFyIG1lbW87XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRyZXR1cm4gbWVtbztcblx0XHRcdH07XG5cdFx0fSxcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcblx0XHR9KSxcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuXHRcdH0pLFxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0XHRpZihmYWxzZSkge1xuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdFx0fVxuXHRcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cdFxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblx0XG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXHRcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHRcdH1cblx0XHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHRcdH1cblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHRcdHZhciBzdHlsZXMgPSBbXTtcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdFx0fVxuXHRcdHJldHVybiBzdHlsZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdFx0aWYoaWR4ID49IDApIHtcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xuXHRcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0dXBkYXRlKG9iaik7XG5cdFxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iaikge1xuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXHRcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdFx0fTtcblx0fSkoKTtcblx0XG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cdFxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblx0XG5cdFx0aWYgKG1lZGlhKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpO1xuXHRcdH1cblx0XG5cdFx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2phdmFzY3JpcHQtZGVidWdnaW5nXG5cdFx0XHQvLyB0aGlzIG1ha2VzIHNvdXJjZSBtYXBzIGluc2lkZSBzdHlsZSB0YWdzIHdvcmsgcHJvcGVybHkgaW4gQ2hyb21lXG5cdFx0XHRjc3MgKz0gJ1xcbi8qIyBzb3VyY2VVUkw9JyArIHNvdXJjZU1hcC5zb3VyY2VzWzBdICsgJyAqLyc7XG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHRcdH1cblx0XG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuXHRcdFx0fVxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHRcdH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF91cGxvYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBsb2FkKTtcblx0XG5cdHZhciBfcGxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX3BsYXllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGF5ZXIpO1xuXHRcblx0dmFyIF9seXJpY0VkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9seXJpY0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9seXJpY0VkaXRvcik7XG5cdFxuXHR2YXIgX21vZGFscyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXHRcblx0dmFyIF9tb2RhbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kYWxzKTtcblx0XG5cdHZhciBfbmF2TWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0dmFyIF9uYXZNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25hdk1lbnUpO1xuXHRcblx0dmFyIF9scmNLaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgdmFyIGxyY0Zvcm1hdCA9IF9jYWNoZTIuZGVmYXVsdC5scmNGb3JtYXQ7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbXVzaWNVcmw6ICcnLFxuXHQgICAgICBlZGl0aW5nOiBfY2FjaGUyLmRlZmF1bHQuZWRpdGluZyxcblx0XG5cdCAgICAgIGxyY0Zvcm1hdDogbHJjRm9ybWF0LFxuXHQgICAgICBydW5uZXI6IG5ldyBfbHJjS2l0LlJ1bm5lcihfbHJjS2l0LkxyYy5wYXJzZShscmNGb3JtYXQpKSxcblx0ICAgICAgbHlyaWNBcnJheTogX2NhY2hlMi5kZWZhdWx0Lmx5cmljQXJyYXlcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuXHQgICAgd2luZG93LiRBcHAgPSB0aGlzO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZE11c2ljOiBmdW5jdGlvbiB1cGxvYWRNdXNpYyhtdXNpYykge1xuXHQgICAgICAvLyBjYWNoZS5tdXNpYyA9IG11c2ljXG5cdCAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IG11c2ljO1xuXHQgICAgfSxcblx0ICAgIHJlbW92ZUx5cmljOiBmdW5jdGlvbiByZW1vdmVMeXJpYygpIHtcblx0ICAgICAgdGhpcy5scmNGb3JtYXQgPSAnJztcblx0ICAgICAgdGhpcy5seXJpY0FycmF5ID0gW107XG5cdCAgICAgIHRoaXMucnVubmVyID0gbmV3IF9scmNLaXQuUnVubmVyKCk7XG5cdCAgICB9LFxuXHQgICAgcGxheXRvOiBmdW5jdGlvbiBwbGF5dG8odGltZSkge1xuXHQgICAgICB0aGlzLiRyZWZzLnBsYXllci5wbGF5dG8odGltZSk7XG5cdCAgICB9LFxuXHQgICAgdGltZXVwZGF0ZTogZnVuY3Rpb24gdGltZXVwZGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgdGhpcy4kcmVmcy5seXJpYy4kZW1pdCgndGltZXVwZGF0ZScsIHRpbWVzdGFtcCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB3YXRjaDoge1xuXHQgICAgZWRpdGluZzogZnVuY3Rpb24gZWRpdGluZyh2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LmVkaXRpbmcgPSB2YWw7XG5cdCAgICB9LFxuXHQgICAgbHJjRm9ybWF0OiBmdW5jdGlvbiBscmNGb3JtYXQodmFsKSB7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC5scmNGb3JtYXQgPSB2YWw7XG5cdCAgICAgIHRoaXMucnVubmVyID0gbmV3IF9scmNLaXQuUnVubmVyKF9scmNLaXQuTHJjLnBhcnNlKHRoaXMubHJjRm9ybWF0KSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGx5cmljQXJyYXk6IHtcblx0ICAgICAgZGVlcDogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICBfY2FjaGUyLmRlZmF1bHQubHlyaWNBcnJheSA9IHRoaXMubHlyaWNBcnJheTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgVXBsb2FkOiBfdXBsb2FkMi5kZWZhdWx0LFxuXHQgICAgUGxheWVyOiBfcGxheWVyMi5kZWZhdWx0LFxuXHQgICAgTHlyaWNFZGl0b3I6IF9seXJpY0VkaXRvcjIuZGVmYXVsdCxcblx0ICAgIE1vZGFsczogX21vZGFsczIuZGVmYXVsdCxcblx0ICAgIC8vIE1lbnUsXG5cdCAgICBOYXZNZW51OiBfbmF2TWVudTIuZGVmYXVsdFxuXHQgIH1cblx0fTtcblx0Ly8gaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51J1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0yNzAyNDEyM1wiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMjcwMjQxMjMmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3VwbG9hZC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMjcwMjQxMjMmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3VwbG9hZC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0W3R5cGU9ZmlsZV1bZGF0YS12LTI3MDI0MTIzXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciB1cGxvYWQgPSB0aGlzLiRyZWZzLnVwbG9hZDtcblx0ICAgIHVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHQgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgX3RoaXMuJGVtaXQoJ3VwbG9hZGVkJywgZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cdCAgICAgIH07XG5cdCAgICAgIGlmICh1cGxvYWQuZmlsZXMubGVuZ3RoID4gMCAmJiBfdGhpcy50eXBlX21hdGNoKCkpIHtcblx0ICAgICAgICByZWFkZXJbJ3JlYWRBcycgKyBfdGhpcy5yZWFkRm9ybWF0XSh1cGxvYWQuZmlsZXNbMF0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHByb3BzOiB7XG5cdCAgICB0eXBlOiB7XG5cdCAgICAgIHR5cGU6IFN0cmluZ1xuXHQgICAgfSxcblx0ICAgIHJlYWRGb3JtYXQ6IHtcblx0ICAgICAgdHlwZTogU3RyaW5nLFxuXHQgICAgICBkZWZhdWx0OiAnVGV4dCdcblx0ICAgIH0sXG5cdCAgICBhY2NlcHQ6IHtcblx0ICAgICAgdHlwZTogU3RyaW5nLFxuXHQgICAgICBkZWZhdWx0OiAnJ1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWV0aG9kczoge1xuXHQgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoKSB7XG5cdCAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmNsaWNrKCk7XG5cdCAgICB9LFxuXHQgICAgdHlwZV9tYXRjaDogZnVuY3Rpb24gdHlwZV9tYXRjaCgpIHtcblx0ICAgICAgaWYgKHRoaXMudHlwZSkge1xuXHQgICAgICAgIHZhciBtYXRjaCA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy50eXBlICsgJy8nKTtcblx0ICAgICAgICByZXR1cm4gbWF0Y2gudGVzdCh0aGlzLiRyZWZzLnVwbG9hZC5maWxlc1swXS50eXBlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS51cGxvYWRcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi11cGxvYWRcIlxuXHQgIH0pLCBcIiBcIiwgX3ZtLl90KFwiZGVmYXVsdFwiKSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG5cdCAgICByZWY6IFwidXBsb2FkXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInR5cGVcIjogXCJmaWxlXCIsXG5cdCAgICAgIFwiYWNjZXB0XCI6IF92bS5hY2NlcHRcblx0ICAgIH1cblx0ICB9KV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtOWIyOTQzZmFcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucm9vdFtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDozMHB4fS5yb290Lm1vYmlsZVtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDo2MHB4fS5tb3JlW2RhdGEtdi05YjI5NDNmYV0sLnBsYXllcltkYXRhLXYtOWIyOTQzZmFdLC5zb3VuZFtkYXRhLXYtOWIyOTQzZmFde2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpqdXN0aWZ5O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5tb3JlW2RhdGEtdi05YjI5NDNmYV0sLnBsYXllcltkYXRhLXYtOWIyOTQzZmFde2JhY2tncm91bmQ6I2QwZGFlNDtjb2xvcjojMTE2MWIzO2hlaWdodDozMHB4fS5jdHJsLWJ0bltkYXRhLXYtOWIyOTQzZmFde2ZvbnQtc2l6ZToyMHB4O3BhZGRpbmc6MCAxcHh9LnJhbmdlW2RhdGEtdi05YjI5NDNmYV17bWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1yaWdodDo0cHh9LnJhbmdlLm11c2ljW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXg6MTtmbGV4OjF9dGltZS1wYW5lbFtkYXRhLXYtOWIyOTQzZmFde3BhZGRpbmc6MCA1cHh9Lm1vcmVbZGF0YS12LTliMjk0M2ZhXXtoZWlnaHQ6MzBweDstbXMtZmxleC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxMH0ubW9iaWxlIC5tb3JlW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXgtcGFjazpqdXN0aWZ5O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5zb3VuZFtkYXRhLXYtOWIyOTQzZmFde3BhZGRpbmc6MCA1cHg7d2lkdGg6MzAlfS5zb3VuZCAucmFuZ2Uudm9sdW1lW2RhdGEtdi05YjI5NDNmYV17LW1zLWZsZXg6MTtmbGV4OjF9LnNvdW5kIC5jdHJsLW11dGUtYnRuW2RhdGEtdi05YjI5NDNmYV17d2lkdGg6MjZweDtmb250LXNpemU6MThweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JhbmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX3JhbmdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhbmdlKTtcblx0XG5cdHZhciBfdGltZVBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX3RpbWVQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lUGFuZWwpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgaG92ZXI6IGZhbHNlLFxuXHQgICAgICBpc01vYmlsZTogX3V0aWxzLmlzTW9iaWxlLFxuXHRcblx0ICAgICAgcHJvY2VzczogMCxcblx0ICAgICAgbXV0ZWQ6IGZhbHNlLFxuXHQgICAgICBwYXVzZWQ6IHRydWUsXG5cdCAgICAgIGN1cnJlbnRUaW1lOiAwLFxuXHQgICAgICBkdXJhdGlvbjogMCxcblx0ICAgICAgdm9sdW1lOiAwLFxuXHQgICAgICBzcmM6ICcnLFxuXHQgICAgICBhdWRpbzogbnVsbFxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICBzZWVrOiBmdW5jdGlvbiBzZWVrKHBlcmNlbnQpIHtcblx0ICAgICAgdGhpcy5wbGF5dG8ocGFyc2VGbG9hdChwZXJjZW50ICogdGhpcy5hdWRpby5kdXJhdGlvbikpO1xuXHQgICAgfSxcblx0ICAgIHZvbHVtZVNlZWs6IGZ1bmN0aW9uIHZvbHVtZVNlZWsocGVyY2VudCkge1xuXHQgICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lID0gcGVyY2VudDtcblx0ICAgIH0sXG5cdCAgICBwbGF5dG86IGZ1bmN0aW9uIHBsYXl0byh0aW1lKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIE1heWJlIG5vdCB1bmRlcnN0YW5kIHdoeSBoZXJlIHVzZSBgbmV4dFRpY2tgXG5cdCAgICAgIC8vIFRoaXMncyBidWcgb2YgY2hyb21lLCBkYXRhVVJMIG11c2ljIHdpbGwgb3ZlcmxhcCBwbGF5IHdoZW4gY2hhbmdlIGN1cnJlbnRUaW1lIGJlZm9yZSBjYWxsIGBhdWRpby5wbGF5KClgXG5cdCAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpcy5jdXJyZW50VGltZSA9IF90aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGltZTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cdCAgICB0aGlzLmF1ZGlvLnByZWxvYWQgPSAnbWV0YWRhdGEnO1xuXHQgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLmR1cmF0aW9uID0gX3RoaXMyLmF1ZGlvLmR1cmF0aW9uO1xuXHQgICAgfSk7XG5cdCAgICAvLyBUT0RPIG9uIHByb2dyZXNzXG5cdCAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5jdXJyZW50VGltZSA9IF90aGlzMi5hdWRpby5jdXJyZW50VGltZTtcblx0ICAgICAgX3RoaXMyLnByb2Nlc3MgPSBfdGhpczIuY3VycmVudFRpbWUgLyBfdGhpczIuZHVyYXRpb247XG5cdCAgICAgIF90aGlzMi4kZW1pdCgndGltZXVwZGF0ZScsIF90aGlzMi5jdXJyZW50VGltZSk7XG5cdCAgICB9KTtcblx0ICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi4kZW1pdCgndGltZXVwZGF0ZScsIF90aGlzMi5jdXJyZW50VGltZSk7XG5cdCAgICAgIF90aGlzMi5wcm9jZXNzID0gMDtcblx0ICAgICAgX3RoaXMyLnBhdXNlZCA9IHRydWU7XG5cdCAgICB9KTtcblx0ICAgIF91dGlscy5nbG9iYWxLZXlkb3duLm9uKCdzcGFjZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLnBhdXNlZCA9ICFfdGhpczIucGF1c2VkO1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KS5vbignYXJyb3dsZWZ0JywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIuJGVtaXQoJ2JhY2t3YXJkJyk7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0pLm9uKCdhcnJvd3JpZ2h0JywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIuJGVtaXQoJ2ZvcndhcmQnKTtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdGhpcy4kb24oJ2JhY2t3YXJkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIucGxheXRvKF90aGlzMi5hdWRpby5jdXJyZW50VGltZSAtIDUpO1xuXHQgICAgfSkuJG9uKCdmb3J3YXJkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIucGxheXRvKF90aGlzMi5hdWRpby5jdXJyZW50VGltZSArIDUpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgd2F0Y2g6IHtcblx0ICAgIHNyYzoge1xuXHQgICAgICBpbW1lZGlhdGU6IHRydWUsXG5cdCAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoc3JjKSB7XG5cdCAgICAgICAgaWYgKHNyYykge1xuXHQgICAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuXHQgICAgICAgICAgdGhpcy5hdWRpby5zcmMgPSBzcmM7XG5cdCAgICAgICAgICB0aGlzLnByb2Nlc3MgPSAwO1xuXHQgICAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLmF1ZGlvLnZvbHVtZTtcblx0ICAgICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lO1xuXHQgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuYXVkaW8uZHVyYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2Vzcyh2YWwpIHtcblx0ICAgICAgdGhpcy4kcmVmcy5tdXNpY1JhbmdlLmNoYW5nZVZhbHVlKHZhbCk7XG5cdCAgICB9LFxuXHQgICAgdm9sdW1lOiBmdW5jdGlvbiB2b2x1bWUodmFsKSB7XG5cdCAgICAgIHRoaXMuJHJlZnMuc291bmRSYW5nZS5jaGFuZ2VWYWx1ZSh2YWwpO1xuXHQgICAgfSxcblx0ICAgIG11dGVkOiBmdW5jdGlvbiBtdXRlZCh2YWwpIHtcblx0ICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IHZhbDtcblx0ICAgIH0sXG5cdCAgICBwYXVzZWQ6IGZ1bmN0aW9uIHBhdXNlZCgpIHtcblx0ICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRzOiB7XG5cdCAgICBSYW5nZTogX3JhbmdlMi5kZWZhdWx0LFxuXHQgICAgVGltZVBhbmVsOiBfdGltZVBhbmVsMi5kZWZhdWx0XG5cdCAgfVxuXHR9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mylcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRfX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi01MGJiNTMwYlwiXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTBiYjUzMGImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYmFyW2RhdGEtdi01MGJiNTMwYl17cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwcHh9LndyYXBbZGF0YS12LTUwYmI1MzBiXXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6IzEyM2I1ZDtib3JkZXItcmFkaXVzOjVweDtvdmVyZmxvdzpoaWRkZW59LnZhbHVlW2RhdGEtdi01MGJiNTMwYl17aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfS50aHVtYltkYXRhLXYtNTBiYjUzMGJde2N1cnNvcjptb3ZlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotM3B4O3dpZHRoOjEwcHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwYjIwMzE7Ym9yZGVyLXJhZGl1czoxNnB4O3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2VsZlZhbHVlOiAwLFxuXHQgICAgICBkcmFnaW5nOiBmYWxzZSxcblx0ICAgICAgZHJhZ1ZhbHVlOiAwXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHByb3BzOiB7XG5cdCAgICB2YWx1ZToge1xuXHQgICAgICB0eXBlOiBOdW1iZXIsXG5cdCAgICAgIGRlZmF1bHQ6IDAsXG5cdCAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWwgPj0gMCAmJiB2YWwgPD0gMTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWV0aG9kczoge1xuXHQgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuJHJlZnMudGh1bWIpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShldmVudC5vZmZzZXRYKTtcblx0ICAgICAgdGhpcy5lbWl0U2VlaygpO1xuXHQgICAgfSxcblx0ICAgIGVtaXRTZWVrOiBmdW5jdGlvbiBlbWl0U2VlaygpIHtcblx0ICAgICAgdGhpcy4kZW1pdCgnc2VlaycsIHRoaXMuc2VsZlZhbHVlKTtcblx0ICAgIH0sXG5cdCAgICBlbWl0RHJhZ1NlZWs6IGZ1bmN0aW9uIGVtaXREcmFnU2VlaygpIHtcblx0ICAgICAgdGhpcy4kZW1pdCgnZHJhZy1zZWVrJywgdGhpcy5zZWxmVmFsdWUpO1xuXHQgICAgfSxcblx0ICAgIG9mZnNldDJ2YWx1ZTogZnVuY3Rpb24gb2Zmc2V0MnZhbHVlKG9mZnNldCkge1xuXHQgICAgICByZXR1cm4gb2Zmc2V0IC8gdGhpcy4kcmVmcy5iYXIuY2xpZW50V2lkdGg7XG5cdCAgICB9LFxuXHQgICAgY2hhbmdlVmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVZhbHVlKHZhbHVlKSB7XG5cdCAgICAgIGlmICghdGhpcy5kcmFnaW5nKSB7XG5cdCAgICAgICAgdGhpcy5zZWxmVmFsdWUgPSB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYjtcblx0ICAgIHZhciBiYXIgPSB0aGlzLiRyZWZzLmJhcjtcblx0XG5cdCAgICB2YXIgZHJhZ2dlciA9IG5ldyBfdXRpbHMuRHJhZ2dlcih0aHVtYiwgYmFyKTtcblx0ICAgIGRyYWdnZXIub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5kcmFnaW5nID0gdHJ1ZTtcblx0ICAgIH0pLm9uKCdtb3ZlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zZWxmVmFsdWUgPSBfdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpO1xuXHQgICAgICBfdGhpcy5lbWl0RHJhZ1NlZWsoKTtcblx0ICAgIH0pLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLmRyYWdpbmcgPSBmYWxzZTtcblx0ICAgICAgX3RoaXMuc2VsZlZhbHVlID0gX3RoaXMub2Zmc2V0MnZhbHVlKGRyYWdnZXIub2Zmc2V0KTtcblx0ICAgICAgX3RoaXMuZW1pdFNlZWsoKTtcblx0ICAgIH0pO1xuXHQgICAgZHJhZ2dlci5jcmVhdGUoKTtcblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVG9vbHRpcFBvc2l0aW9uID0gZXhwb3J0cy5EcmFnZ2VyID0gZXhwb3J0cy5nbG9iYWxLZXlkb3duID0gZXhwb3J0cy5jYWNoZSA9IGV4cG9ydHMuQ2FjaGUgPSBleHBvcnRzLkRlbGF5SG92ZXIgPSBleHBvcnRzLlNjcm9sbGVyID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBleHBvcnRzLmlzTW9iaWxlID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblx0XG5cdGV4cG9ydHMuc2F2ZUxyYyA9IHNhdmVMcmM7XG5cdGV4cG9ydHMudGltZXN0YW1wMnRpbWVzdHIgPSB0aW1lc3RhbXAydGltZXN0cjtcblx0ZXhwb3J0cy50aW1lc3RyMnRpbWVzdGFtcCA9IHRpbWVzdHIydGltZXN0YW1wO1xuXHRcblx0dmFyIF9ldmVudGVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0XG5cdHZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cdFxuXHR2YXIgX2ZpbGVzYXZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9maWxlc2F2ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsZXNhdmVyKTtcblx0XG5cdHZhciBfdW5pZHJhZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF91bmlkcmFnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuaWRyYWdnZXIpO1xuXHRcblx0dmFyIF9pc19qcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHRcblx0dmFyIF9pc19qczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc19qcyk7XG5cdFxuXHR2YXIgX2V4dGVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9leHRlbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kKTtcblx0XG5cdHZhciBfY2xvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIGlzTW9iaWxlID0gZXhwb3J0cy5pc01vYmlsZSA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcblx0XG5cdHZhciBFdmVudEVtaXR0ZXIgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG5cdCAgX2luaGVyaXRzKEV2ZW50RW1pdHRlciwgX0V2ZW50RW1pdHRlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRXZlbnRFbWl0dGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXZlbnRFbWl0dGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbe1xuXHQgICAga2V5OiAnb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50cykge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoX2lzX2pzMi5kZWZhdWx0LmFycmF5KGV2ZW50cykpIHtcblx0ICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgICAgIHZhciBfZ2V0Mjtcblx0XG5cdCAgICAgICAgICAoX2dldDIgPSBfZ2V0KEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFdmVudEVtaXR0ZXIucHJvdG90eXBlKSwgJ29uJywgX3RoaXMyKSkuY2FsbC5hcHBseShfZ2V0MiwgW190aGlzMiwgaXRdLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIF9nZXQzO1xuXHRcblx0ICAgICAgICAoX2dldDMgPSBfZ2V0KEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFdmVudEVtaXR0ZXIucHJvdG90eXBlKSwgJ29uJywgdGhpcykpLmNhbGwuYXBwbHkoX2dldDMsIFt0aGlzLCBldmVudHNdLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuXHR9KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXHRcblx0dmFyIFNjcm9sbGVyID0gZXhwb3J0cy5TY3JvbGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBTY3JvbGxlcih2aWV3cG9ydCkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbGVyKTtcblx0XG5cdCAgICB0aGlzLnRpbWVyID0gW107XG5cdCAgICB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcblx0ICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcblx0ICAgIHRoaXMuY29uZmlnID0gKDAsIF9leHRlbmQyLmRlZmF1bHQpKHsgZGVsYXk6IDMsIHRpbWU6IDEsIHN0ZXA6IDEwMCB9LCBjb25maWcpO1xuXHRcblx0ICAgIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoIV90aGlzMy5pc0NhblNjcm9sbCgpKSB7XG5cdCAgICAgICAgX3RoaXMzLmxldERlbGF5KCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFNjcm9sbGVyLCBbe1xuXHQgICAga2V5OiAnbGV0RGVsYXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxldERlbGF5KCkge1xuXHQgICAgICB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5jb25maWcuZGVsYXkgKiAxMDAwO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NsZWFyVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG5cdCAgICAgIHRoaXMudGltZXIuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGl0KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMudGltZXIgPSBbXTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0NhblNjcm9sbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNDYW5TY3JvbGwoKSB7XG5cdCAgICAgIHJldHVybiBEYXRlLm5vdygpID4gdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Njcm9sbFRvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUbyh0YXJnZXRUb3ApIHtcblx0ICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgZm9yY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXHRcblx0ICAgICAgaWYgKCF0aGlzLmlzQ2FuU2Nyb2xsKCkgJiYgZm9yY2UgPT09IGZhbHNlKSByZXR1cm47XG5cdCAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuXHRcblx0ICAgICAgdmFyIHN0YXJ0VG9wID0gdGhpcy52aWV3cG9ydC5zY3JvbGxUb3A7XG5cdCAgICAgIHZhciBlbmRUb3AgPSB0YXJnZXRUb3A7XG5cdCAgICAgIHZhciBkaWZmVG9wID0gZW5kVG9wIC0gc3RhcnRUb3A7XG5cdCAgICAgIGlmIChkaWZmVG9wID09PSAwKSByZXR1cm47XG5cdFxuXHQgICAgICB2YXIgcGVyU3RlcCA9IGRpZmZUb3AgLyB0aGlzLmNvbmZpZy5zdGVwO1xuXHRcblx0ICAgICAgdmFyIGN1clRvcCA9IHN0YXJ0VG9wO1xuXHQgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuY29uZmlnLnN0ZXA7ICsraSkge1xuXHQgICAgICAgIChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgX3RoaXM0LnRpbWVyLnB1c2goc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJUb3AgIT09IF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3ApIHtcblx0ICAgICAgICAgICAgICBfdGhpczQuY2xlYXJUaW1lcigpO1xuXHQgICAgICAgICAgICAgIF90aGlzNC5sZXREZWxheSgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3AgPSBzdGFydFRvcCArIHBlclN0ZXAgKiBpO1xuXHQgICAgICAgICAgICAgIGN1clRvcCA9IF90aGlzNC52aWV3cG9ydC5zY3JvbGxUb3A7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sIF90aGlzNC5jb25maWcudGltZSAqIDEwMDAgKiBpIC8gX3RoaXM0LmNvbmZpZy5zdGVwKSk7XG5cdCAgICAgICAgfSkoaSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBTY3JvbGxlcjtcblx0fSgpO1xuXHRcblx0dmFyIERlbGF5SG92ZXIgPSBleHBvcnRzLkRlbGF5SG92ZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcjIpIHtcblx0ICBfaW5oZXJpdHMoRGVsYXlIb3ZlciwgX0V2ZW50RW1pdHRlcjIpO1xuXHRcblx0ICBmdW5jdGlvbiBEZWxheUhvdmVyKGVsZW1lbnQpIHtcblx0ICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWxheUhvdmVyKTtcblx0XG5cdCAgICB2YXIgX3RoaXM1ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERlbGF5SG92ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEZWxheUhvdmVyKSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgX3RoaXM1LmVudGVyVGltZXIgPSBudWxsO1xuXHQgICAgX3RoaXM1LmxlYXZlVGltZXIgPSBudWxsO1xuXHQgICAgX3RoaXM1LnNob3cgPSBmYWxzZTtcblx0XG5cdCAgICBfdGhpczUuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICBfdGhpczUuY2ZnID0gKDAsIF9leHRlbmQyLmRlZmF1bHQpKHtcblx0ICAgICAgZW50ZXJEZWxheTogMC41LFxuXHQgICAgICBsZWF2ZURlbGF5OiAwLjMsXG5cdCAgICAgIHVuaXF1ZTogdHJ1ZVxuXHQgICAgfSwgY29uZmlnKTtcblx0XG5cdCAgICBfdGhpczUuaG92ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczUuc2hvdyA9IHRydWU7XG5cdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzNS5zaG93ID0gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAoaXNNb2JpbGUpIHtcblx0ICAgICAgX3RoaXM1LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKF90aGlzNS5zaG93KSB7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnbGVhdmUnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXM1LmNsb3NlTGFzdEhvdmVyKCk7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnZW50ZXInKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgX3RoaXM1LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpczUuY2xlYXJMZWF2ZVRpbWVyKCk7XG5cdCAgICAgICAgX3RoaXM1LmVudGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF90aGlzNS5jbG9zZUxhc3RIb3ZlcigpO1xuXHQgICAgICAgICAgRGVsYXlIb3Zlci5MYXN0SG92ZXIgPSBfdGhpczU7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnZW50ZXInKTtcblx0ICAgICAgICB9LCAxMDAwICogX3RoaXM1LmNmZy5lbnRlckRlbGF5KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIF90aGlzNS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM1LmNsZWFyRW50ZXJUaW1lcigpO1xuXHQgICAgICAgIF90aGlzNS5sZWF2ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpczUuZW1pdCgnbGVhdmUnKTtcblx0ICAgICAgICB9LCAxMDAwICogX3RoaXM1LmNmZy5sZWF2ZURlbGF5KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3RoaXM1O1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKERlbGF5SG92ZXIsIFt7XG5cdCAgICBrZXk6ICdjbG9zZUxhc3RIb3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VMYXN0SG92ZXIoKSB7XG5cdCAgICAgIGlmICh0aGlzLmNmZy51bmlxdWUgJiYgRGVsYXlIb3Zlci5MYXN0SG92ZXIgJiYgRGVsYXlIb3Zlci5MYXN0SG92ZXIgIT0gdGhpcykge1xuXHQgICAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyLmVtaXQoJ2xlYXZlJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhckxlYXZlVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyTGVhdmVUaW1lcigpIHtcblx0ICAgICAgaWYgKHRoaXMubGVhdmVUaW1lciAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZXIpO1xuXHQgICAgICAgIHRoaXMubGVhdmVUaW1lciA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhckVudGVyVGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyRW50ZXJUaW1lcigpIHtcblx0ICAgICAgaWYgKHRoaXMuZW50ZXJUaW1lciAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVudGVyVGltZXIpO1xuXHQgICAgICAgIHRoaXMuZW50ZXJUaW1lciA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdob3ZlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaG92ZXIoZW50ZXIsIGxlYXZlKSB7XG5cdCAgICAgIHRoaXMub24oJ2VudGVyJywgZW50ZXIpLm9uKCdsZWF2ZScsIGxlYXZlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBEZWxheUhvdmVyO1xuXHR9KEV2ZW50RW1pdHRlcik7XG5cdFxuXHREZWxheUhvdmVyLkxhc3RIb3ZlciA9IG51bGw7XG5cdFxuXHRcblx0dmFyIGlzRmlsZVNhdmVyU3VwcG9ydGVkO1xuXHR0cnkge1xuXHQgIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gISFuZXcgQmxvYigpO1xuXHR9IGNhdGNoIChlKSB7XG5cdCAgaXNGaWxlU2F2ZXJTdXBwb3J0ZWQgPSBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2F2ZUxyYyhzdHIsIG5hbWUpIHtcblx0ICBpZiAoaXNGaWxlU2F2ZXJTdXBwb3J0ZWQpIHtcblx0ICAgIF9maWxlc2F2ZXIyLmRlZmF1bHQuc2F2ZUFzKG5ldyBCbG9iKFtzdHJdLCB7IHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnIH0pLCBuYW1lICsgJy5scmMnKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgYWxlcnQoJ1BsZWFzZSB1cGdyYWRlIHlvdXIgYnJvd3NlcicpO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIENhY2hlID0gZXhwb3J0cy5DYWNoZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDYWNoZSgpIHtcblx0ICAgIHZhciBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdscmMnO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZSk7XG5cdFxuXHQgICAgdGhpcy52ZXJzaW9uID0gMjtcblx0XG5cdCAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDYWNoZSwgW3tcblx0ICAgIGtleTogJ3JlYWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoKSB7XG5cdCAgICAgIHZhciBkYXRhO1xuXHQgICAgICBpZiAodGhpcy5wcmVmaXggaW4gbG9jYWxTdG9yYWdlKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt0aGlzLnByZWZpeF0pO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkYXRhLiR2ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcblx0ICAgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4ge307XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnd3JpdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlKGRhdGEpIHtcblx0ICAgICAgZGF0YS4kdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcblx0ICAgICAgbG9jYWxTdG9yYWdlW3RoaXMucHJlZml4XSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKCk7XG5cdCAgICAgIHJldHVybiBrZXkgaW4gZGF0YSA/IGRhdGFba2V5XSA6IGRlZmF1bHRWYWx1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKCk7XG5cdCAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHRoaXMud3JpdGUoZGF0YSk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQ2FjaGU7XG5cdH0oKTtcblx0XG5cdHZhciBjYWNoZSA9IGV4cG9ydHMuY2FjaGUgPSBuZXcgQ2FjaGUoKTtcblx0XG5cdHZhciBnbG9iYWxLZXlkb3duID0gZXhwb3J0cy5nbG9iYWxLZXlkb3duID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgIGlmICgvKGlucHV0fHNlbGVjdHxvcHRpb258dGV4dGFyZWEpLy50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSByZXR1cm47XG5cdFxuXHQgIHZhciBjb2RlID0gZXZlbnQuY29kZS50b0xvd2VyQ2FzZSgpO1xuXHQgIHZhciByZXN1bHRzID0gZ2xvYmFsS2V5ZG93bi5saXN0ZW5lcnMoY29kZSkubWFwKGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIGZuKGV2ZW50KSA9PT0gZmFsc2U7XG5cdCAgfSk7XG5cdCAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG5cdCAgICB2YXIgaGFzRmFsc2UgPSBmYWxzZTtcblx0ICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgaWYgKGl0KSBoYXNGYWxzZSA9IHRydWU7XG5cdCAgICB9KTtcblx0ICAgIGlmIChoYXNGYWxzZSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIERyYWdnZXIgPSBleHBvcnRzLkRyYWdnZXIgPSBmdW5jdGlvbiAoX1VuaWRyYWdnZXIpIHtcblx0ICBfaW5oZXJpdHMoRHJhZ2dlciwgX1VuaWRyYWdnZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBEcmFnZ2VyKGVsZW0sIGNvbnRhaW5lcikge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYWdnZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpczYgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJhZ2dlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERyYWdnZXIpKS5jYWxsKHRoaXMsIGVsZW0pKTtcblx0XG5cdCAgICBfdGhpczYuZWUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdCAgICBfdGhpczYuZWxlbWVudCA9IGVsZW07XG5cdCAgICBfdGhpczYuY29udGFpbmVyID0gY29udGFpbmVyO1xuXHQgICAgcmV0dXJuIF90aGlzNjtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEcmFnZ2VyLCBbe1xuXHQgICAga2V5OiAnb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKCkge1xuXHQgICAgICB2YXIgX2VlO1xuXHRcblx0ICAgICAgcmV0dXJuIChfZWUgPSB0aGlzLmVlKS5vbi5hcHBseShfZWUsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZW1pdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdCgpIHtcblx0ICAgICAgdmFyIF9lZTI7XG5cdFxuXHQgICAgICByZXR1cm4gKF9lZTIgPSB0aGlzLmVlKS5lbWl0LmFwcGx5KF9lZTIsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdCAgICAgIHRoaXMuaGFuZGxlcyA9IFt0aGlzLmVsZW1lbnRdO1xuXHQgICAgICB0aGlzLmJpbmRIYW5kbGVzKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhZ1N0YXJ0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnU3RhcnQoZXZlbnQpIHtcblx0ICAgICAgdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ID0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnQ7XG5cdCAgICAgIHRoaXMuZW1pdCgnc3RhcnQnLCBldmVudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhZ01vdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYWdNb3ZlKGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKSB7XG5cdCAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ICsgbW92ZVZlY3Rvci54O1xuXHQgICAgICBpZiAodGhpcy5vZmZzZXQgPCAwKSB7XG5cdCAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMub2Zmc2V0ID4gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgpIHtcblx0ICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZW1pdCgnbW92ZScsIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkcmFnRW5kJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnRW5kKGV2ZW50LCBwb2ludGVyKSB7XG5cdCAgICAgIHRoaXMuZW1pdCgnZW5kJywgZXZlbnQsIHBvaW50ZXIpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERyYWdnZXI7XG5cdH0oX3VuaWRyYWdnZXIyLmRlZmF1bHQpO1xuXHRcblx0ZnVuY3Rpb24gdGltZXN0YW1wMnRpbWVzdHIodGltZSkge1xuXHQgIHZhciBvbmx5SW50ZWdlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cdFxuXHQgIGlmICghdGltZSkgdGltZSA9IDA7XG5cdCAgdmFyIHBhZFplcm8gPSBmdW5jdGlvbiBwYWRaZXJvKG51bSkge1xuXHQgICAgdmFyIHNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDI7XG5cdFxuXHQgICAgbnVtID0gbnVtLnRvU3RyaW5nKCk7XG5cdCAgICB3aGlsZSAobnVtLnNwbGl0KCcuJylbMF0ubGVuZ3RoIDwgc2l6ZSkge1xuXHQgICAgICBudW0gPSAnMCcgKyBudW07XG5cdCAgICB9cmV0dXJuIG51bTtcblx0ICB9O1xuXHQgIGlmIChvbmx5SW50ZWdlcikge1xuXHQgICAgcmV0dXJuIHBhZFplcm8ocGFyc2VJbnQodGltZSAvIDYwLCAxMCkpICsgJzonICsgcGFkWmVybyhwYXJzZUludCh0aW1lICUgNjAsIDEwKSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBwYWRaZXJvKHBhcnNlSW50KHRpbWUgLyA2MCwgMTApKSArICc6JyArIHBhZFplcm8oKHRpbWUgJSA2MCkudG9GaXhlZCgyKSwgMik7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0aW1lc3RyMnRpbWVzdGFtcChzdHIpIHtcblx0ICB2YXIgX3N0ciRzcGxpdCA9IHN0ci5zcGxpdCgnOicpLFxuXHQgICAgICBfc3RyJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9zdHIkc3BsaXQsIDIpLFxuXHQgICAgICBtaW51dGUgPSBfc3RyJHNwbGl0MlswXSxcblx0ICAgICAgc2Vjb25kID0gX3N0ciRzcGxpdDJbMV07XG5cdFxuXHQgIHJldHVybiBwYXJzZUludChtaW51dGUsIDEwKSAqIDYwICsgcGFyc2VGbG9hdChzZWNvbmQpO1xuXHR9XG5cdFxuXHR2YXIgVG9vbHRpcFBvc2l0aW9uID0gZXhwb3J0cy5Ub29sdGlwUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVG9vbHRpcFBvc2l0aW9uKHRhcmdldCwgdG9vbHRpcCkge1xuXHQgICAgdmFyIGRpciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2JvdHRvbSc7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2x0aXBQb3NpdGlvbik7XG5cdFxuXHQgICAgdGhpcy5kaXJzID0gWydib3R0b20nLCAncmlnaHQnLCAndG9wJywgJ2xlZnQnXTtcblx0XG5cdCAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0ICAgIHRoaXMudG9vbHRpcCA9IHRvb2x0aXA7XG5cdCAgICB0aGlzLnZpZXdwb3J0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHQgICAgdGhpcy5nZW5lcmF0ZURpcnMoZGlyKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhUb29sdGlwUG9zaXRpb24sIFt7XG5cdCAgICBrZXk6ICdnZW5lcmF0ZURpcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlRGlycyhkaXIpIHtcblx0ICAgICAgdmFyIGlkeCA9IHRoaXMuZGlycy5pbmRleE9mKGRpcik7XG5cdCAgICAgIHRoaXMuZGlycy5zcGxpY2UoaWR4LCAxKTtcblx0ICAgICAgdGhpcy5kaXJzLnVuc2hpZnQoZGlyKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGVja1JlY3RPdmVyZmxvdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tSZWN0T3ZlcmZsb3cocmVjdCkge1xuXHQgICAgICByZXR1cm4gcmVjdC5sZWZ0ID49IDAgJiYgcmVjdC50b3AgPj0gMCAmJiByZWN0LnJpZ2h0IDw9IHRoaXMudmlld3BvcnQuY2xpZW50V2lkdGggJiYgcmVjdC5ib3R0b20gPD0gdGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVjdE92ZXJmbG93Q291bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlY3RPdmVyZmxvd0NvdW50KHJlY3QpIHtcblx0ICAgICAgdmFyIG5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbCA8IDAgPyB2YWwgOiAwO1xuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gbmVnYXRpdmUocmVjdC5sZWZ0KSArIG5lZ2F0aXZlKHJlY3QudG9wKSArIG5lZ2F0aXZlKHRoaXMudmlld3BvcnQuY2xpZW50V2lkdGggLSByZWN0LnJpZ2h0KSArIG5lZ2F0aXZlKHRoaXMudmlld3BvcnQuY2xpZW50SGVpZ2h0IC0gcmVjdC5ib3R0b20pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvc2l0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbigpIHtcblx0ICAgICAgdmFyIHJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgdmFyIHdpZHRoID0gdGhpcy50b29sdGlwLmNsaWVudFdpZHRoO1xuXHQgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy50b29sdGlwLmNsaWVudEhlaWdodDtcblx0XG5cdCAgICAgIHZhciB0b29sdGlwUmVjdCA9IHtcblx0ICAgICAgICB3aWR0aDogd2lkdGgsXG5cdCAgICAgICAgaGVpZ2h0OiBoZWlnaHRcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBvdmVyZmxvd1ZhbHVlcyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpcnMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgZGlyID0gdGhpcy5kaXJzW2ldO1xuXHQgICAgICAgIHN3aXRjaCAodGhpcy5kaXJzW2ldKSB7XG5cdCAgICAgICAgICBjYXNlICdib3R0b20nOlxuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LmJvdHRvbTtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gKyBoZWlnaHQ7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSAndG9wJzpcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyIC0gd2lkdGggLyAyO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHRvb2x0aXBSZWN0LmxlZnQgKyB3aWR0aDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgLSBoZWlnaHQ7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHJlY3QudG9wO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5sZWZ0IC0gd2lkdGg7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0O1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHRvb2x0aXBSZWN0LnRvcCArIGhlaWdodDtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlICdyaWdodCc6XG5cdCAgICAgICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LnJpZ2h0O1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHJlY3QucmlnaHQgKyB3aWR0aDtcblx0ICAgICAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSBoZWlnaHQgLyAyO1xuXHQgICAgICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSB0b29sdGlwUmVjdC50b3AgKyBoZWlnaHQ7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3ZlcmZsb3dWYWx1ZXMucHVzaChbdGhpcy5yZWN0T3ZlcmZsb3dDb3VudCh0b29sdGlwUmVjdCksIGRpciwgKDAsIF9jbG9uZTIuZGVmYXVsdCkodG9vbHRpcFJlY3QpXSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIG92ZXJmbG93VmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYlswXSAtIGFbMF07XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBkaXI6IG92ZXJmbG93VmFsdWVzWzBdWzFdLFxuXHQgICAgICAgIHJlY3Q6IG92ZXJmbG93VmFsdWVzWzBdWzJdXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIFRvb2x0aXBQb3NpdGlvbjtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcclxuXHQgKiBFdmVudEVtaXR0ZXIyXHJcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2hpajFueC9FdmVudEVtaXR0ZXIyXHJcblx0ICpcclxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMgaGlqMW54XHJcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cdCAqL1xyXG5cdDshZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblx0XHJcblx0ICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgPyBBcnJheS5pc0FycmF5IDogZnVuY3Rpb24gX2lzQXJyYXkob2JqKSB7XHJcblx0ICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xyXG5cdCAgfTtcclxuXHQgIHZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XHJcblx0XHJcblx0ICBmdW5jdGlvbiBpbml0KCkge1xyXG5cdCAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuXHQgICAgaWYgKHRoaXMuX2NvbmYpIHtcclxuXHQgICAgICBjb25maWd1cmUuY2FsbCh0aGlzLCB0aGlzLl9jb25mKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcclxuXHQgICAgaWYgKGNvbmYpIHtcclxuXHQgICAgICB0aGlzLl9jb25mID0gY29uZjtcclxuXHRcclxuXHQgICAgICBjb25mLmRlbGltaXRlciAmJiAodGhpcy5kZWxpbWl0ZXIgPSBjb25mLmRlbGltaXRlcik7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGNvbmYubWF4TGlzdGVuZXJzICE9PSB1bmRlZmluZWQgPyBjb25mLm1heExpc3RlbmVycyA6IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcblx0ICAgICAgY29uZi53aWxkY2FyZCAmJiAodGhpcy53aWxkY2FyZCA9IGNvbmYud2lsZGNhcmQpO1xyXG5cdCAgICAgIGNvbmYubmV3TGlzdGVuZXIgJiYgKHRoaXMubmV3TGlzdGVuZXIgPSBjb25mLm5ld0xpc3RlbmVyKTtcclxuXHQgICAgICBjb25mLnZlcmJvc2VNZW1vcnlMZWFrICYmICh0aGlzLnZlcmJvc2VNZW1vcnlMZWFrID0gY29uZi52ZXJib3NlTWVtb3J5TGVhayk7XHJcblx0XHJcblx0ICAgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgIHRoaXMubGlzdGVuZXJUcmVlID0ge307XHJcblx0ICAgICAgfVxyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBkZWZhdWx0TWF4TGlzdGVuZXJzO1xyXG5cdCAgICB9XHJcblx0ICB9XHJcblx0XHJcblx0ICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xyXG5cdCAgICB2YXIgZXJyb3JNc2cgPSAnKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXHJcblx0ICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcclxuXHQgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nO1xyXG5cdFxyXG5cdCAgICBpZih0aGlzLnZlcmJvc2VNZW1vcnlMZWFrKXtcclxuXHQgICAgICBlcnJvck1zZyArPSAnIEV2ZW50IG5hbWU6ICVzLic7XHJcblx0ICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQsIGV2ZW50TmFtZSk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmIChjb25zb2xlLnRyYWNlKXtcclxuXHQgICAgICBjb25zb2xlLnRyYWNlKCk7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHRcclxuXHQgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihjb25mKSB7XHJcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG5cdCAgICB0aGlzLm5ld0xpc3RlbmVyID0gZmFsc2U7XHJcblx0ICAgIHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBmYWxzZTtcclxuXHQgICAgY29uZmlndXJlLmNhbGwodGhpcywgY29uZik7XHJcblx0ICB9XHJcblx0ICBFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIGV4cG9ydGluZyBFdmVudEVtaXR0ZXIgcHJvcGVydHlcclxuXHRcclxuXHQgIC8vXHJcblx0ICAvLyBBdHRlbnRpb24sIGZ1bmN0aW9uIHJldHVybiB0eXBlIG5vdyBpcyBhcnJheSwgYWx3YXlzICFcclxuXHQgIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxyXG5cdCAgLy8gZWxlbWVudHMgKGxlYWZzKSBpZiB0aGVyZSBhcmUgbWF0Y2hlc1xyXG5cdCAgLy9cclxuXHQgIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSkge1xyXG5cdCAgICBpZiAoIXRyZWUpIHtcclxuXHQgICAgICByZXR1cm4gW107XHJcblx0ICAgIH1cclxuXHQgICAgdmFyIGxpc3RlbmVycz1bXSwgbGVhZiwgbGVuLCBicmFuY2gsIHhUcmVlLCB4eFRyZWUsIGlzb2xhdGVkQnJhbmNoLCBlbmRSZWFjaGVkLFxyXG5cdCAgICAgICAgdHlwZUxlbmd0aCA9IHR5cGUubGVuZ3RoLCBjdXJyZW50VHlwZSA9IHR5cGVbaV0sIG5leHRUeXBlID0gdHlwZVtpKzFdO1xyXG5cdCAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAvL1xyXG5cdCAgICAgIC8vIElmIGF0IHRoZSBlbmQgb2YgdGhlIGV2ZW50KHMpIGxpc3QgYW5kIHRoZSB0cmVlIGhhcyBsaXN0ZW5lcnNcclxuXHQgICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxyXG5cdCAgICAgIC8vXHJcblx0ICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzKTtcclxuXHQgICAgICAgIHJldHVybiBbdHJlZV07XHJcblx0ICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIGZvciAobGVhZiA9IDAsIGxlbiA9IHRyZWUuX2xpc3RlbmVycy5sZW5ndGg7IGxlYWYgPCBsZW47IGxlYWYrKykge1xyXG5cdCAgICAgICAgICBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKHRyZWUuX2xpc3RlbmVyc1tsZWFmXSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAoKGN1cnJlbnRUeXBlID09PSAnKicgfHwgY3VycmVudFR5cGUgPT09ICcqKicpIHx8IHRyZWVbY3VycmVudFR5cGVdKSB7XHJcblx0ICAgICAgLy9cclxuXHQgICAgICAvLyBJZiB0aGUgZXZlbnQgZW1pdHRlZCBpcyAnKicgYXQgdGhpcyBwYXJ0XHJcblx0ICAgICAgLy8gb3IgdGhlcmUgaXMgYSBjb25jcmV0ZSBtYXRjaCBhdCB0aGlzIHBhdGNoXHJcblx0ICAgICAgLy9cclxuXHQgICAgICBpZiAoY3VycmVudFR5cGUgPT09ICcqJykge1xyXG5cdCAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG5cdCAgICAgICAgICBpZiAoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgdHJlZS5oYXNPd25Qcm9wZXJ0eShicmFuY2gpKSB7XHJcblx0ICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsxKSk7XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcblx0ICAgICAgfSBlbHNlIGlmKGN1cnJlbnRUeXBlID09PSAnKionKSB7XHJcblx0ICAgICAgICBlbmRSZWFjaGVkID0gKGkrMSA9PT0gdHlwZUxlbmd0aCB8fCAoaSsyID09PSB0eXBlTGVuZ3RoICYmIG5leHRUeXBlID09PSAnKicpKTtcclxuXHQgICAgICAgIGlmKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaGFzIGEgX2xpc3RlbmVycywgYWRkIGl0IHRvIHRoZSBoYW5kbGVycy5cclxuXHQgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIHR5cGVMZW5ndGgpKTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuXHQgICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG5cdCAgICAgICAgICAgIGlmKGJyYW5jaCA9PT0gJyonIHx8IGJyYW5jaCA9PT0gJyoqJykge1xyXG5cdCAgICAgICAgICAgICAgaWYodHJlZVticmFuY2hdLl9saXN0ZW5lcnMgJiYgIWVuZFJlYWNoZWQpIHtcclxuXHQgICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCkpO1xyXG5cdCAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSkpO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKzIpKTtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cclxuXHQgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGkpKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2N1cnJlbnRUeXBlXSwgaSsxKSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgeFRyZWUgPSB0cmVlWycqJ107XHJcblx0ICAgIGlmICh4VHJlZSkge1xyXG5cdCAgICAgIC8vXHJcblx0ICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHRyZWUgd2lsbCBhbGxvdyBhbnkgbWF0Y2ggZm9yIHRoaXMgcGFydCxcclxuXHQgICAgICAvLyB0aGVuIHJlY3Vyc2l2ZWx5IGV4cGxvcmUgYWxsIGJyYW5jaGVzIG9mIHRoZSB0cmVlXHJcblx0ICAgICAgLy9cclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHhUcmVlLCBpKzEpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHh4VHJlZSA9IHRyZWVbJyoqJ107XHJcblx0ICAgIGlmKHh4VHJlZSkge1xyXG5cdCAgICAgIGlmKGkgPCB0eXBlTGVuZ3RoKSB7XHJcblx0ICAgICAgICBpZih4eFRyZWUuX2xpc3RlbmVycykge1xyXG5cdCAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxyXG5cdCAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZSwgdHlwZUxlbmd0aCk7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICAvLyBCdWlsZCBhcnJheXMgb2YgbWF0Y2hpbmcgbmV4dCBicmFuY2hlcyBhbmQgb3RoZXJzLlxyXG5cdCAgICAgICAgZm9yKGJyYW5jaCBpbiB4eFRyZWUpIHtcclxuXHQgICAgICAgICAgaWYoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgeHhUcmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuXHQgICAgICAgICAgICBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBuZXh0IGVsZW1lbnQgd2lsbCBtYXRjaCwgc28ganVtcCB0d2ljZS5cclxuXHQgICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMik7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIGlmKGJyYW5jaCA9PT0gY3VycmVudFR5cGUpIHtcclxuXHQgICAgICAgICAgICAgIC8vIEN1cnJlbnQgbm9kZSBtYXRjaGVzLCBtb3ZlIGludG8gdGhlIHRyZWUuXHJcblx0ICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzEpO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaCA9IHt9O1xyXG5cdCAgICAgICAgICAgICAgaXNvbGF0ZWRCcmFuY2hbYnJhbmNoXSA9IHh4VHJlZVticmFuY2hdO1xyXG5cdCAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB7ICcqKic6IGlzb2xhdGVkQnJhbmNoIH0sIGkrMSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfSBlbHNlIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXHJcblx0ICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZSwgdHlwZUxlbmd0aCk7XHJcblx0ICAgICAgfSBlbHNlIGlmKHh4VHJlZVsnKiddICYmIHh4VHJlZVsnKiddLl9saXN0ZW5lcnMpIHtcclxuXHQgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gbGlzdGVuZXJzO1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgZnVuY3Rpb24gZ3Jvd0xpc3RlbmVyVHJlZSh0eXBlLCBsaXN0ZW5lcikge1xyXG5cdFxyXG5cdCAgICB0eXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0XHJcblx0ICAgIC8vXHJcblx0ICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxyXG5cdCAgICAvL1xyXG5cdCAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0eXBlLmxlbmd0aDsgaSsxIDwgbGVuOyBpKyspIHtcclxuXHQgICAgICBpZih0eXBlW2ldID09PSAnKionICYmIHR5cGVbaSsxXSA9PT0gJyoqJykge1xyXG5cdCAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgdHJlZSA9IHRoaXMubGlzdGVuZXJUcmVlO1xyXG5cdCAgICB2YXIgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHRcclxuXHQgICAgd2hpbGUgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFxyXG5cdCAgICAgIGlmICghdHJlZVtuYW1lXSkge1xyXG5cdCAgICAgICAgdHJlZVtuYW1lXSA9IHt9O1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICB0cmVlID0gdHJlZVtuYW1lXTtcclxuXHRcclxuXHQgICAgICBpZiAodHlwZS5sZW5ndGggPT09IDApIHtcclxuXHRcclxuXHQgICAgICAgIGlmICghdHJlZS5fbGlzdGVuZXJzKSB7XHJcblx0ICAgICAgICAgIHRyZWUuX2xpc3RlbmVycyA9IGxpc3RlbmVyO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgIGlmICh0eXBlb2YgdHJlZS5fbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gW3RyZWUuX2xpc3RlbmVyc107XHJcblx0ICAgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG5cdFxyXG5cdCAgICAgICAgICBpZiAoXHJcblx0ICAgICAgICAgICAgIXRyZWUuX2xpc3RlbmVycy53YXJuZWQgJiZcclxuXHQgICAgICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG5cdCAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcblx0ICAgICAgICAgICkge1xyXG5cdCAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xyXG5cdCAgICAgICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRyZWUuX2xpc3RlbmVycy5sZW5ndGgsIG5hbWUpO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gdHJ1ZTtcclxuXHQgIH1cclxuXHRcclxuXHQgIC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW5cclxuXHQgIC8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaFxyXG5cdCAgLy8gaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXHJcblx0ICAvL1xyXG5cdCAgLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXHJcblx0ICAvLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZGVsaW1pdGVyID0gJy4nO1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XHJcblx0ICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPSBuO1xyXG5cdCAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xyXG5cdCAgICAgIHRoaXMuX2NvbmYubWF4TGlzdGVuZXJzID0gbjtcclxuXHQgICAgfVxyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnQgPSAnJztcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xyXG5cdCAgICB0aGlzLm1hbnkoZXZlbnQsIDEsIGZuKTtcclxuXHQgICAgcmV0dXJuIHRoaXM7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4pIHtcclxuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cdFxyXG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYW55IG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuXHQgICAgICBpZiAoLS10dGwgPT09IDApIHtcclxuXHQgICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgbGlzdGVuZXIuX29yaWdpbiA9IGZuO1xyXG5cdFxyXG5cdCAgICB0aGlzLm9uKGV2ZW50LCBsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgIHJldHVybiBzZWxmO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcclxuXHQgICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuXHQgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xyXG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cdCAgICB2YXIgYXJncyxsLGksajtcclxuXHQgICAgdmFyIGhhbmRsZXI7XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCkge1xyXG5cdCAgICAgIGhhbmRsZXIgPSB0aGlzLl9hbGwuc2xpY2UoKTtcclxuXHQgICAgICBpZiAoYWwgPiAzKSB7XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDA7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICBoYW5kbGVyID0gW107XHJcblx0ICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0ICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcblx0ICAgICAgICBjYXNlIDE6XHJcblx0ICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMzpcclxuXHQgICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcblx0ICAgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiB0cnVlO1xyXG5cdCAgICAgIH0gZWxzZSBpZiAoaGFuZGxlcikge1xyXG5cdCAgICAgICAgLy8gbmVlZCB0byBtYWtlIGNvcHkgb2YgaGFuZGxlcnMgYmVjYXVzZSBsaXN0IGNhbiBjaGFuZ2UgaW4gdGhlIG1pZGRsZVxyXG5cdCAgICAgICAgLy8gb2YgZW1pdCBjYWxsXHJcblx0ICAgICAgICBoYW5kbGVyID0gaGFuZGxlci5zbGljZSgpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAoaGFuZGxlciAmJiBoYW5kbGVyLmxlbmd0aCkge1xyXG5cdCAgICAgIGlmIChhbCA+IDMpIHtcclxuXHQgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuXHQgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0ICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuXHQgICAgICAgIHN3aXRjaCAoYWwpIHtcclxuXHQgICAgICAgIGNhc2UgMTpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMpO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG5cdCAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIGRlZmF1bHQ6XHJcblx0ICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHJldHVybiB0cnVlO1xyXG5cdCAgICB9IGVsc2UgaWYgKCF0aGlzLl9hbGwgJiYgdHlwZSA9PT0gJ2Vycm9yJykge1xyXG5cdCAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG5cdCAgICAgICAgdGhyb3cgYXJndW1lbnRzWzFdOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG5cdCAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHJldHVybiBmYWxzZTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gISF0aGlzLl9hbGw7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0QXN5bmMgPSBmdW5jdGlvbigpIHtcclxuXHRcclxuXHQgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHRcclxuXHQgICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblx0XHJcblx0ICAgIGlmICh0eXBlID09PSAnbmV3TGlzdGVuZXInICYmICF0aGlzLm5ld0xpc3RlbmVyKSB7XHJcblx0ICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtmYWxzZV0pOyB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIHByb21pc2VzPSBbXTtcclxuXHRcclxuXHQgICAgdmFyIGFsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuXHQgICAgdmFyIGFyZ3MsbCxpLGo7XHJcblx0ICAgIHZhciBoYW5kbGVyO1xyXG5cdFxyXG5cdCAgICBpZiAodGhpcy5fYWxsKSB7XHJcblx0ICAgICAgaWYgKGFsID4gMykge1xyXG5cdCAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCk7XHJcblx0ICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqXSA9IGFyZ3VtZW50c1tqXTtcclxuXHQgICAgICB9XHJcblx0ICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuX2FsbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUpKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDI6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIGhhbmRsZXIgPSBbXTtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcblx0ICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgIGNhc2UgMTpcclxuXHQgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMpKTtcclxuXHQgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgIGNhc2UgMjpcclxuXHQgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xyXG5cdCAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgY2FzZSAzOlxyXG5cdCAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuXHQgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgIGRlZmF1bHQ6XHJcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcblx0ICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcblx0ICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuYXBwbHkodGhpcywgYXJncykpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfSBlbHNlIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XHJcblx0ICAgICAgaWYgKGFsID4gMykge1xyXG5cdCAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG5cdCAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG5cdCAgICAgICAgc3dpdGNoIChhbCkge1xyXG5cdCAgICAgICAgY2FzZSAxOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgY2FzZSAyOlxyXG5cdCAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuXHQgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICBjYXNlIDM6XHJcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcblx0ICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcblx0ICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYXJndW1lbnRzWzFdKTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcclxuXHQgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkICdlcnJvcicgZXZlbnQuXCIpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xyXG5cdCAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aGlzLm9uQW55KHR5cGUpO1xyXG5cdCAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uIG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdCAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdFxyXG5cdCAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09IFwibmV3TGlzdGVuZXJzXCIhIEJlZm9yZVxyXG5cdCAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyc1wiLlxyXG5cdCAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdFxyXG5cdCAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG5cdCAgICAgIGdyb3dMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XHJcblx0ICAgICAgcmV0dXJuIHRoaXM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHtcclxuXHQgICAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cclxuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIHtcclxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgLy8gQ2hhbmdlIHRvIGFycmF5LlxyXG5cdCAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cclxuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XHJcblx0XHJcblx0ICAgICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcclxuXHQgICAgICBpZiAoXHJcblx0ICAgICAgICAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCAmJlxyXG5cdCAgICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA+IDAgJiZcclxuXHQgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcblx0ICAgICAgKSB7XHJcblx0ICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcclxuXHQgICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgsIHR5cGUpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignb25Bbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICghdGhpcy5fYWxsKSB7XHJcblx0ICAgICAgdGhpcy5fYWxsID0gW107XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgZXZlbnQgbGlzdGVuZXIgY29sbGVjdGlvbi5cclxuXHQgICAgdGhpcy5fYWxsLnB1c2goZm4pO1xyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlTGlzdGVuZXIgb25seSB0YWtlcyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB2YXIgaGFuZGxlcnMsbGVhZnM9W107XHJcblx0XHJcblx0ICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBsZWFmcyA9IHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIG51bGwsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSB7XHJcblx0ICAgICAgLy8gZG9lcyBub3QgdXNlIGxpc3RlbmVycygpLCBzbyBubyBzaWRlIGVmZmVjdCBvZiBjcmVhdGluZyBfZXZlbnRzW3R5cGVdXHJcblx0ICAgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHJldHVybiB0aGlzO1xyXG5cdCAgICAgIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgIGxlYWZzLnB1c2goe19saXN0ZW5lcnM6aGFuZGxlcnN9KTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuXHQgICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuXHQgICAgICBoYW5kbGVycyA9IGxlYWYuX2xpc3RlbmVycztcclxuXHQgICAgICBpZiAoaXNBcnJheShoYW5kbGVycykpIHtcclxuXHRcclxuXHQgICAgICAgIHZhciBwb3NpdGlvbiA9IC0xO1xyXG5cdFxyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PT0gbGlzdGVuZXIgfHxcclxuXHQgICAgICAgICAgICAoaGFuZGxlcnNbaV0ubGlzdGVuZXIgJiYgaGFuZGxlcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxyXG5cdCAgICAgICAgICAgIChoYW5kbGVyc1tpXS5fb3JpZ2luICYmIGhhbmRsZXJzW2ldLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG5cdCAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcclxuXHQgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xyXG5cdCAgICAgICAgICBjb250aW51ZTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgbGVhZi5fbGlzdGVuZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XHJcblx0ICAgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgICBkZWxldGUgbGVhZi5fbGlzdGVuZXJzO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHR5cGUsIGxpc3RlbmVyKTtcclxuXHRcclxuXHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICAgIH1cclxuXHQgICAgICBlbHNlIGlmIChoYW5kbGVycyA9PT0gbGlzdGVuZXIgfHxcclxuXHQgICAgICAgIChoYW5kbGVycy5saXN0ZW5lciAmJiBoYW5kbGVycy5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcblx0ICAgICAgICAoaGFuZGxlcnMuX29yaWdpbiAmJiBoYW5kbGVycy5fb3JpZ2luID09PSBsaXN0ZW5lcikpIHtcclxuXHQgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3QpIHtcclxuXHQgICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0ICAgICAgICByZXR1cm47XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocm9vdCk7XHJcblx0ICAgICAgZm9yICh2YXIgaSBpbiBrZXlzKSB7XHJcblx0ICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcclxuXHQgICAgICAgIHZhciBvYmogPSByb290W2tleV07XHJcblx0ICAgICAgICBpZiAoKG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgfHwgKG9iaiA9PT0gbnVsbCkpXHJcblx0ICAgICAgICAgIGNvbnRpbnVlO1xyXG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMCkge1xyXG5cdCAgICAgICAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3Rba2V5XSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcclxuXHQgICAgICAgICAgZGVsZXRlIHJvb3Rba2V5XTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHQgICAgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdCh0aGlzLmxpc3RlbmVyVHJlZSk7XHJcblx0XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuXHQgICAgdmFyIGkgPSAwLCBsID0gMCwgZm5zO1xyXG5cdCAgICBpZiAoZm4gJiYgdGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGggPiAwKSB7XHJcblx0ICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG5cdCAgICAgIGZvcihpID0gMCwgbCA9IGZucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHQgICAgICAgIGlmKGZuID09PSBmbnNbaV0pIHtcclxuXHQgICAgICAgICAgZm5zLnNwbGljZShpLCAxKTtcclxuXHQgICAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJBbnlcIiwgZm4pO1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG5cdCAgICAgIGZvcihpID0gMCwgbCA9IGZucy5sZW5ndGg7IGkgPCBsOyBpKyspXHJcblx0ICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbnNbaV0pO1xyXG5cdCAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZjtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdCAgICAgICF0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cdCAgICAgIHJldHVybiB0aGlzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcblx0ICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblx0ICAgICAgdmFyIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHRcclxuXHQgICAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuXHQgICAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG5cdCAgICAgICAgbGVhZi5fbGlzdGVuZXJzID0gbnVsbDtcclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzKSB7XHJcblx0ICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbnVsbDtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH07XHJcblx0XHJcblx0ICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuXHQgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuXHQgICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuXHQgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuXHQgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHQgICAgICByZXR1cm4gaGFuZGxlcnM7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHRcclxuXHQgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFtdO1xyXG5cdCAgICBpZiAoIWlzQXJyYXkodGhpcy5fZXZlbnRzW3R5cGVdKSkge1xyXG5cdCAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdCAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzQW55ID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0ICAgIGlmKHRoaXMuX2FsbCkge1xyXG5cdCAgICAgIHJldHVybiB0aGlzLl9hbGw7XHJcblx0ICAgIH1cclxuXHQgICAgZWxzZSB7XHJcblx0ICAgICAgcmV0dXJuIFtdO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgaWYgKHRydWUpIHtcclxuXHQgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XHJcblx0ICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdCAgICAvLyBDb21tb25KU1xyXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHQgIH1cclxuXHQgIGVsc2Uge1xyXG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbC5cclxuXHQgICAgd2luZG93LkV2ZW50RW1pdHRlcjIgPSBFdmVudEVtaXR0ZXI7XHJcblx0ICB9XHJcblx0fSgpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogRmlsZVNhdmVyLmpzXG5cdCAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuXHQgKiAxLjEuMjAxNTA3MTZcblx0ICpcblx0ICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuXHQgKiBMaWNlbnNlOiBYMTEvTUlUXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5cdCAqL1xuXHRcblx0LypnbG9iYWwgc2VsZiAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXHRcblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblx0XG5cdHZhciBzYXZlQXMgPSBzYXZlQXMgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhclxuXHRcdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0XHQgIC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0XHQsIGdldF9VUkwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0XHR9XG5cdFx0XHQsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxuXHRcdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcblx0XHRcdCwgY2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHR9XG5cdFx0XHQsIHdlYmtpdF9yZXFfZnMgPSB2aWV3LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xuXHRcdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9XG5cdFx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0XHQsIGZzX21pbl9zaXplID0gMFxuXHRcdFx0Ly8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzUyOTcjYzcgYW5kXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvY29tbWl0LzQ4NTkzMGEjY29tbWl0Y29tbWVudC04NzY4MDQ3XG5cdFx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSA1MDAgLy8gaW4gbXNcblx0XHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAodmlldy5jaHJvbWUpIHtcblx0XHRcdFx0XHRyZXZva2VyKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcblx0XHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBibG9iO1xuXHRcdFx0fVxuXHRcdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xuXHRcdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2Vcblx0XHRcdFx0XHQsIG9iamVjdF91cmxcblx0XHRcdFx0XHQsIHRhcmdldF92aWV3XG5cdFx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldF92aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRcdGlmIChuZXdfdGFiID09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2FmYXJpICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly9BcHBsZSBkbyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwOi8vYml0Lmx5LzFrWmZmUklcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LCBhYm9ydGFibGUgPSBmdW5jdGlvbihmdW5jKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQsIGNyZWF0ZV9pZl9ub3RfZm91bmQgPSB7Y3JlYXRlOiB0cnVlLCBleGNsdXNpdmU6IGZhbHNlfVxuXHRcdFx0XHRcdCwgc2xpY2Vcblx0XHRcdFx0O1xuXHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0XHQvLyB2aWV3ZWQgaW4gYSB0YWIsIHNvIEkgZm9yY2Ugc2F2ZSB3aXRoIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVxuXHRcdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxuXHRcdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0XHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzg5NjQyXG5cdFx0XHRcdGlmICh2aWV3LmNocm9tZSAmJiB0eXBlICYmIHR5cGUgIT09IGZvcmNlX3NhdmVhYmxlX3R5cGUpIHtcblx0XHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0XHRibG9iID0gc2xpY2UuY2FsbChibG9iLCAwLCBibG9iLnNpemUsIGZvcmNlX3NhdmVhYmxlX3R5cGUpO1xuXHRcdFx0XHRcdGJsb2JfY2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gU2luY2UgSSBjYW4ndCBiZSBzdXJlIHRoYXQgdGhlIGd1ZXNzZWQgbWVkaWEgdHlwZSB3aWxsIHRyaWdnZXIgYSBkb3dubG9hZFxuXHRcdFx0XHQvLyBpbiBXZWJLaXQsIEkgYXBwZW5kIC5kb3dubG9hZCB0byB0aGUgZmlsZW5hbWUuXG5cdFx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0XHRpZiAod2Via2l0X3JlcV9mcyAmJiBuYW1lICE9PSBcImRvd25sb2FkXCIpIHtcblx0XHRcdFx0XHRuYW1lICs9IFwiLmRvd25sb2FkXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGUgfHwgd2Via2l0X3JlcV9mcykge1xuXHRcdFx0XHRcdHRhcmdldF92aWV3ID0gdmlldztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXJlcV9mcykge1xuXHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZzX21pbl9zaXplICs9IGJsb2Iuc2l6ZTtcblx0XHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XG5cdFx0XHRcdFx0ZnMucm9vdC5nZXREaXJlY3RvcnkoXCJzYXZlZFwiLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZGlyKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGZpbGUuY3JlYXRlV3JpdGVyKGFib3J0YWJsZShmdW5jdGlvbih3cml0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbndyaXRlZW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yLmNvZGUgIT09IGVycm9yLkFCT1JUX0VSUikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLldSSVRJTkc7XG5cdFx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXG5cdFx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGV4LmNvZGUgPT09IGV4Lk5PVF9GT1VORF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0XHRzYXZlKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHR9XG5cdFx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxuXHRcdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0XHR9XG5cdFx0O1xuXHRcdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0XHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGZpbGVzYXZlciA9IHRoaXM7XG5cdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcImFib3J0XCIpO1xuXHRcdH07XG5cdFx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRcdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xuXHRcdEZTX3Byb3RvLkRPTkUgPSAyO1xuXHRcblx0XHRGU19wcm90by5lcnJvciA9XG5cdFx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cblx0XHRGU19wcm90by5vbnByb2dyZXNzID1cblx0XHRGU19wcm90by5vbndyaXRlID1cblx0XHRGU19wcm90by5vbmFib3J0ID1cblx0XHRGU19wcm90by5vbmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlZW5kID1cblx0XHRcdG51bGw7XG5cdFxuXHRcdHJldHVybiBzYXZlQXM7XG5cdH0oXG5cdFx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHRcdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG5cdFx0fHwgdGhpcy5jb250ZW50XG5cdCkpO1xuXHQvLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxuXHQvLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcblx0Ly8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG5cdH0gZWxzZSBpZiAoKFwiZnVuY3Rpb25cIiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSAhPT0gbnVsbCkgJiYgKF9fd2VicGFja19yZXF1aXJlX18oMzIpICE9IG51bGwpKSB7XG5cdCAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gc2F2ZUFzO1xuXHQgIH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xuXG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxuXHQgKiBVbmlkcmFnZ2VyIHYyLjEuMFxuXHQgKiBEcmFnZ2FibGUgYmFzZSBjbGFzc1xuXHQgKiBNSVQgbGljZW5zZVxuXHQgKi9cblx0XG5cdC8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXHRcblx0KCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuXHQgIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXHQgIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cdFxuXHQgIGlmICggdHJ1ZSApIHtcblx0ICAgIC8vIEFNRFxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW1xuXHQgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICAgXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiggVW5pcG9pbnRlciApIHtcblx0ICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApO1xuXHQgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KU1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHJlcXVpcmUoJ3VuaXBvaW50ZXInKVxuXHQgICAgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gYnJvd3NlciBnbG9iYWxcblx0ICAgIHdpbmRvdy5VbmlkcmFnZ2VyID0gZmFjdG9yeShcblx0ICAgICAgd2luZG93LFxuXHQgICAgICB3aW5kb3cuVW5pcG9pbnRlclxuXHQgICAgKTtcblx0ICB9XG5cdFxuXHR9KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApIHtcblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIC0tLS0tICAtLS0tLSAvL1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVbmlkcmFnZ2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cdFxuXHRmdW5jdGlvbiBVbmlkcmFnZ2VyKCkge31cblx0XG5cdC8vIGluaGVyaXQgVW5pcG9pbnRlciAmIEV2RW1pdHRlclxuXHR2YXIgcHJvdG8gPSBVbmlkcmFnZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFVuaXBvaW50ZXIucHJvdG90eXBlICk7XG5cdFxuXHQvLyAtLS0tLSBiaW5kIHN0YXJ0IC0tLS0tIC8vXG5cdFxuXHRwcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2JpbmRIYW5kbGVzKCB0cnVlICk7XG5cdH07XG5cdFxuXHRwcm90by51bmJpbmRIYW5kbGVzID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fYmluZEhhbmRsZXMoIGZhbHNlICk7XG5cdH07XG5cdFxuXHR2YXIgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcblx0LyoqXG5cdCAqIHdvcmtzIGFzIHVuYmluZGVyLCBhcyB5b3UgY2FuIC5iaW5kSGFuZGxlcyggZmFsc2UgKSB0byB1bmJpbmRcblx0ICogQHBhcmFtIHtCb29sZWFufSBpc0JpbmQgLSB3aWxsIHVuYmluZCBpZiBmYWxzZXlcblx0ICovXG5cdHByb3RvLl9iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCBpc0JpbmQgKSB7XG5cdCAgLy8gbXVuZ2UgaXNCaW5kLCBkZWZhdWx0IHRvIHRydWVcblx0ICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcblx0ICAvLyBleHRyYSBiaW5kIGxvZ2ljXG5cdCAgdmFyIGJpbmRlckV4dHJhO1xuXHQgIGlmICggbmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuXHQgICAgYmluZGVyRXh0cmEgPSBmdW5jdGlvbiggaGFuZGxlICkge1xuXHQgICAgICAvLyBkaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZWxlbWVudFxuXHQgICAgICBoYW5kbGUuc3R5bGUudG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcblx0ICAgIH07XG5cdCAgfSBlbHNlIGlmICggbmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG5cdCAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG5cdCAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBlbGVtZW50XG5cdCAgICAgIGhhbmRsZS5zdHlsZS5tc1RvdWNoQWN0aW9uID0gaXNCaW5kID8gJ25vbmUnIDogJyc7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICBiaW5kZXJFeHRyYSA9IG5vb3A7XG5cdCAgfVxuXHQgIC8vIGJpbmQgZWFjaCBoYW5kbGVcblx0ICB2YXIgYmluZE1ldGhvZCA9IGlzQmluZCA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcblx0ICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5oYW5kbGVzLmxlbmd0aDsgaSsrICkge1xuXHQgICAgdmFyIGhhbmRsZSA9IHRoaXMuaGFuZGxlc1tpXTtcblx0ICAgIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBoYW5kbGUsIGlzQmluZCApO1xuXHQgICAgYmluZGVyRXh0cmEoIGhhbmRsZSApO1xuXHQgICAgaGFuZGxlWyBiaW5kTWV0aG9kIF0oICdjbGljaycsIHRoaXMgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXHRcblx0LyoqXG5cdCAqIHBvaW50ZXIgc3RhcnRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKi9cblx0cHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgLy8gZGlzbWlzcyByYW5nZSBzbGlkZXJzXG5cdCAgaWYgKCBldmVudC50YXJnZXQubm9kZU5hbWUgPT0gJ0lOUFVUJyAmJiBldmVudC50YXJnZXQudHlwZSA9PSAncmFuZ2UnICkge1xuXHQgICAgLy8gcmVzZXQgcG9pbnRlckRvd24gbG9naWNcblx0ICAgIHRoaXMuaXNQb2ludGVyRG93biA9IGZhbHNlO1xuXHQgICAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB0aGlzLl9kcmFnUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgLy8ga2x1ZGdlIHRvIGJsdXIgZm9jdXNlZCBpbnB1dHMgaW4gZHJhZ2dlclxuXHQgIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICBpZiAoIGZvY3VzZWQgJiYgZm9jdXNlZC5ibHVyICkge1xuXHQgICAgZm9jdXNlZC5ibHVyKCk7XG5cdCAgfVxuXHQgIC8vIGJpbmQgbW92ZSBhbmQgZW5kIGV2ZW50c1xuXHQgIHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoIGV2ZW50ICk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyRG93bicsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gYmFzZSBwb2ludGVyIGRvd24gbG9naWNcblx0cHJvdG8uX2RyYWdQb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyB0cmFjayB0byBzZWUgd2hlbiBkcmFnZ2luZyBzdGFydHNcblx0ICB0aGlzLnBvaW50ZXJEb3duUG9pbnQgPSBVbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCggcG9pbnRlciApO1xuXHRcblx0ICB2YXIgY2FuUHJldmVudERlZmF1bHQgPSB0aGlzLmNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biggZXZlbnQsIHBvaW50ZXIgKTtcblx0ICBpZiAoIGNhblByZXZlbnREZWZhdWx0ICkge1xuXHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBvdmVyd3JpdGVhYmxlIG1ldGhvZCBzbyBGbGlja2l0eSBjYW4gcHJldmVudCBmb3Igc2Nyb2xsaW5nXG5cdHByb3RvLmNhblByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICAvLyBwcmV2ZW50IGRlZmF1bHQsIHVubGVzcyB0b3VjaHN0YXJ0IG9yIDxzZWxlY3Q+XG5cdCAgcmV0dXJuIGV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPSAnU0VMRUNUJztcblx0fTtcblx0XG5cdC8vIC0tLS0tIG1vdmUgZXZlbnQgLS0tLS0gLy9cblx0XG5cdC8qKlxuXHQgKiBkcmFnIG1vdmVcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKi9cblx0cHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdmFyIG1vdmVWZWN0b3IgPSB0aGlzLl9kcmFnUG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xuXHQgIHRoaXMuX2RyYWdNb3ZlKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApO1xuXHR9O1xuXHRcblx0Ly8gYmFzZSBwb2ludGVyIG1vdmUgbG9naWNcblx0cHJvdG8uX2RyYWdQb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB2YXIgbW92ZVBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcblx0ICB2YXIgbW92ZVZlY3RvciA9IHtcblx0ICAgIHg6IG1vdmVQb2ludC54IC0gdGhpcy5wb2ludGVyRG93blBvaW50LngsXG5cdCAgICB5OiBtb3ZlUG9pbnQueSAtIHRoaXMucG9pbnRlckRvd25Qb2ludC55XG5cdCAgfTtcblx0ICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuXHQgIGlmICggIXRoaXMuaXNEcmFnZ2luZyAmJiB0aGlzLmhhc0RyYWdTdGFydGVkKCBtb3ZlVmVjdG9yICkgKSB7XG5cdCAgICB0aGlzLl9kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgfVxuXHQgIHJldHVybiBtb3ZlVmVjdG9yO1xuXHR9O1xuXHRcblx0Ly8gY29uZGl0aW9uIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuXHRwcm90by5oYXNEcmFnU3RhcnRlZCA9IGZ1bmN0aW9uKCBtb3ZlVmVjdG9yICkge1xuXHQgIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG5cdH07XG5cdFxuXHRcblx0Ly8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHQvKipcblx0ICogcG9pbnRlciB1cFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG5cdCAqL1xuXHRwcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0ICB0aGlzLl9kcmFnUG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xuXHR9O1xuXHRcblx0cHJvdG8uX2RyYWdQb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgaWYgKCB0aGlzLmlzRHJhZ2dpbmcgKSB7XG5cdCAgICB0aGlzLl9kcmFnRW5kKCBldmVudCwgcG9pbnRlciApO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBwb2ludGVyIGRpZG4ndCBtb3ZlIGVub3VnaCBmb3IgZHJhZyB0byBzdGFydFxuXHQgICAgdGhpcy5fc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZHJhZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXHRcblx0Ly8gZHJhZ1N0YXJ0XG5cdHByb3RvLl9kcmFnU3RhcnQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcblx0ICB0aGlzLmRyYWdTdGFydFBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcblx0ICAvLyBwcmV2ZW50IGNsaWNrc1xuXHQgIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzID0gdHJ1ZTtcblx0XG5cdCAgdGhpcy5kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5kcmFnU3RhcnQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdkcmFnU3RhcnQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIGRyYWdNb3ZlXG5cdHByb3RvLl9kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcblx0ICAvLyBkbyBub3QgZHJhZyBpZiBub3QgZHJhZ2dpbmcgeWV0XG5cdCAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdGhpcy5kcmFnTW92ZSggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKTtcblx0fTtcblx0XG5cdHByb3RvLmRyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuXHQgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdkcmFnTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xuXHR9O1xuXHRcblx0Ly8gZHJhZ0VuZFxuXHRwcm90by5fZHJhZ0VuZCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBzZXQgZmxhZ3Ncblx0ICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblx0ICAvLyByZS1lbmFibGUgY2xpY2tpbmcgYXN5bmNcblx0ICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLmlzUHJldmVudGluZ0NsaWNrcztcblx0ICB9LmJpbmQoIHRoaXMgKSApO1xuXHRcblx0ICB0aGlzLmRyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHRwcm90by5kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAnZHJhZ0VuZCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gb25jbGljayAtLS0tLSAvL1xuXHRcblx0Ly8gaGFuZGxlIGFsbCBjbGlja3MgYW5kIHByZXZlbnQgY2xpY2tzIHdoZW4gZHJhZ2dpbmdcblx0cHJvdG8ub25jbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzICkge1xuXHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGF0aWNDbGljayAtLS0tLSAvL1xuXHRcblx0Ly8gdHJpZ2dlcmVkIGFmdGVyIHBvaW50ZXIgZG93biAmIHVwIHdpdGggbm8vdGlueSBtb3ZlbWVudFxuXHRwcm90by5fc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgLy8gaWdub3JlIGVtdWxhdGVkIG1vdXNlIHVwIGNsaWNrc1xuXHQgIGlmICggdGhpcy5pc0lnbm9yaW5nTW91c2VVcCAmJiBldmVudC50eXBlID09ICdtb3VzZXVwJyApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIC8vIGFsbG93IGNsaWNrIGluIDxpbnB1dD5zIGFuZCA8dGV4dGFyZWE+c1xuXHQgIHZhciBub2RlTmFtZSA9IGV2ZW50LnRhcmdldC5ub2RlTmFtZTtcblx0ICBpZiAoIG5vZGVOYW1lID09ICdJTlBVVCcgfHwgbm9kZU5hbWUgPT0gJ1RFWFRBUkVBJyApIHtcblx0ICAgIGV2ZW50LnRhcmdldC5mb2N1cygpO1xuXHQgIH1cblx0ICB0aGlzLnN0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuXHRcblx0ICAvLyBzZXQgZmxhZyBmb3IgZW11bGF0ZWQgY2xpY2tzIDMwMG1zIGFmdGVyIHRvdWNoZW5kXG5cdCAgaWYgKCBldmVudC50eXBlICE9ICdtb3VzZXVwJyApIHtcblx0ICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSB0cnVlO1xuXHQgICAgLy8gcmVzZXQgZmxhZyBhZnRlciAzMDBtc1xuXHQgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLmlzSWdub3JpbmdNb3VzZVVwO1xuXHQgICAgfS5iaW5kKCB0aGlzICksIDQwMCApO1xuXHQgIH1cblx0fTtcblx0XG5cdHByb3RvLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMuZW1pdEV2ZW50KCAnc3RhdGljQ2xpY2snLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tIHV0aWxzIC0tLS0tIC8vXG5cdFxuXHRVbmlkcmFnZ2VyLmdldFBvaW50ZXJQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50O1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHRyZXR1cm4gVW5pZHJhZ2dlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiFcblx0ICogVW5pcG9pbnRlciB2Mi4xLjBcblx0ICogYmFzZSBjbGFzcyBmb3IgZG9pbmcgb25lIHRoaW5nIHdpdGggcG9pbnRlciBldmVudFxuXHQgKiBNSVQgbGljZW5zZVxuXHQgKi9cblx0XG5cdC8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXHRcblx0KCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuXHQgIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXHQgIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFsIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cdCAgaWYgKCB0cnVlICkge1xuXHQgICAgLy8gQU1EXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXG5cdCAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzUpXG5cdCAgICBdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG5cdCAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApO1xuXHQgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KU1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuXHQgICAgICB3aW5kb3csXG5cdCAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuXHQgICAgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gYnJvd3NlciBnbG9iYWxcblx0ICAgIHdpbmRvdy5Vbmlwb2ludGVyID0gZmFjdG9yeShcblx0ICAgICAgd2luZG93LFxuXHQgICAgICB3aW5kb3cuRXZFbWl0dGVyXG5cdCAgICApO1xuXHQgIH1cblx0XG5cdH0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIFVuaXBvaW50ZXIoKSB7fVxuXHRcblx0Ly8gaW5oZXJpdCBFdkVtaXR0ZXJcblx0dmFyIHByb3RvID0gVW5pcG9pbnRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cdFxuXHRwcm90by5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQgIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBlbGVtLCB0cnVlICk7XG5cdH07XG5cdFxuXHRwcm90by51bmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdCAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGVsZW0sIGZhbHNlICk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLl9iaW5kU3RhcnQoIGZhbHNlICkgdG8gdW5iaW5kXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNCaW5kIC0gd2lsbCB1bmJpbmQgaWYgZmFsc2V5XG5cdCAqL1xuXHRwcm90by5fYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgaXNCaW5kICkge1xuXHQgIC8vIG11bmdlIGlzQmluZCwgZGVmYXVsdCB0byB0cnVlXG5cdCAgaXNCaW5kID0gaXNCaW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFpc0JpbmQ7XG5cdCAgdmFyIGJpbmRNZXRob2QgPSBpc0JpbmQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cdFxuXHQgIGlmICggd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCApIHtcblx0ICAgIC8vIFczQyBQb2ludGVyIEV2ZW50cywgSUUxMS4gU2VlIGh0dHBzOi8vY29kZXJ3YWxsLmNvbS9wL21mcmVjYVxuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAncG9pbnRlcmRvd24nLCB0aGlzICk7XG5cdCAgfSBlbHNlIGlmICggd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICkge1xuXHQgICAgLy8gSUUxMCBQb2ludGVyIEV2ZW50c1xuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAnTVNQb2ludGVyRG93bicsIHRoaXMgKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gbGlzdGVuIGZvciBib3RoLCBmb3IgZGV2aWNlcyBsaWtlIENocm9tZSBQaXhlbFxuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAnbW91c2Vkb3duJywgdGhpcyApO1xuXHQgICAgZWxlbVsgYmluZE1ldGhvZCBdKCAndG91Y2hzdGFydCcsIHRoaXMgKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyB0cmlnZ2VyIGhhbmRsZXIgbWV0aG9kcyBmb3IgZXZlbnRzXG5cdHByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcblx0ICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuXHQgICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gcmV0dXJucyB0aGUgdG91Y2ggdGhhdCB3ZSdyZSBrZWVwaW5nIHRyYWNrIG9mXG5cdHByb3RvLmdldFRvdWNoID0gZnVuY3Rpb24oIHRvdWNoZXMgKSB7XG5cdCAgZm9yICggdmFyIGk9MDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKysgKSB7XG5cdCAgICB2YXIgdG91Y2ggPSB0b3VjaGVzW2ldO1xuXHQgICAgaWYgKCB0b3VjaC5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG5cdCAgICAgIHJldHVybiB0b3VjaDtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXHRcblx0cHJvdG8ub25tb3VzZWRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgLy8gZGlzbWlzcyBjbGlja3MgZnJvbSByaWdodCBvciBtaWRkbGUgYnV0dG9uc1xuXHQgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cdCAgaWYgKCBidXR0b24gJiYgKCBidXR0b24gIT09IDAgJiYgYnV0dG9uICE9PSAxICkgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdHByb3RvLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB0aGlzLl9wb2ludGVyRG93biggZXZlbnQsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlckRvd24gPVxuXHRwcm90by5vbnBvaW50ZXJkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIHN0YXJ0XG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcblx0ICovXG5cdHByb3RvLl9wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICAvLyBkaXNtaXNzIG90aGVyIHBvaW50ZXJzXG5cdCAgaWYgKCB0aGlzLmlzUG9pbnRlckRvd24gKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB0aGlzLmlzUG9pbnRlckRvd24gPSB0cnVlO1xuXHQgIC8vIHNhdmUgcG9pbnRlciBpZGVudGlmaWVyIHRvIG1hdGNoIHVwIHRvdWNoIGV2ZW50c1xuXHQgIHRoaXMucG9pbnRlcklkZW50aWZpZXIgPSBwb2ludGVyLnBvaW50ZXJJZCAhPT0gdW5kZWZpbmVkID9cblx0ICAgIC8vIHBvaW50ZXJJZCBmb3IgcG9pbnRlciBldmVudHMsIHRvdWNoLmluZGVudGlmaWVyIGZvciB0b3VjaCBldmVudHNcblx0ICAgIHBvaW50ZXIucG9pbnRlcklkIDogcG9pbnRlci5pZGVudGlmaWVyO1xuXHRcblx0ICB0aGlzLnBvaW50ZXJEb3duKCBldmVudCwgcG9pbnRlciApO1xuXHR9O1xuXHRcblx0cHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cdH07XG5cdFxuXHQvLyBoYXNoIG9mIGV2ZW50cyB0byBiZSBib3VuZCBhZnRlciBzdGFydCBldmVudFxuXHR2YXIgcG9zdFN0YXJ0RXZlbnRzID0ge1xuXHQgIG1vdXNlZG93bjogWyAnbW91c2Vtb3ZlJywgJ21vdXNldXAnIF0sXG5cdCAgdG91Y2hzdGFydDogWyAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJyBdLFxuXHQgIHBvaW50ZXJkb3duOiBbICdwb2ludGVybW92ZScsICdwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcgXSxcblx0ICBNU1BvaW50ZXJEb3duOiBbICdNU1BvaW50ZXJNb3ZlJywgJ01TUG9pbnRlclVwJywgJ01TUG9pbnRlckNhbmNlbCcgXVxuXHR9O1xuXHRcblx0cHJvdG8uX2JpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgaWYgKCAhZXZlbnQgKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIC8vIGdldCBwcm9wZXIgZXZlbnRzIHRvIG1hdGNoIHN0YXJ0IGV2ZW50XG5cdCAgdmFyIGV2ZW50cyA9IHBvc3RTdGFydEV2ZW50c1sgZXZlbnQudHlwZSBdO1xuXHQgIC8vIGJpbmQgZXZlbnRzIHRvIG5vZGVcblx0ICBldmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIHRoaXMgKTtcblx0ICB9LCB0aGlzICk7XG5cdCAgLy8gc2F2ZSB0aGVzZSBhcmd1bWVudHNcblx0ICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMgPSBldmVudHM7XG5cdH07XG5cdFxuXHRwcm90by5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgLy8gY2hlY2sgZm9yIF9ib3VuZEV2ZW50cywgaW4gY2FzZSBkcmFnRW5kIHRyaWdnZXJlZCB0d2ljZSAob2xkIElFOCBidWcpXG5cdCAgaWYgKCAhdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcblx0ICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIHRoaXMgKTtcblx0ICB9LCB0aGlzICk7XG5cdFxuXHQgIGRlbGV0ZSB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHM7XG5cdH07XG5cdFxuXHQvLyAtLS0tLSBtb3ZlIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHRwcm90by5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIGV2ZW50ICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlck1vdmUgPVxuXHRwcm90by5vbnBvaW50ZXJtb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaG1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcblx0ICBpZiAoIHRvdWNoICkge1xuXHQgICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCB0b3VjaCApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIG1vdmVcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuXHQgIHRoaXMucG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHQvLyBwdWJsaWNcblx0cHJvdG8ucG9pbnRlck1vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cdFxuXHRcblx0cHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHQgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIGV2ZW50ICk7XG5cdH07XG5cdFxuXHRwcm90by5vbk1TUG9pbnRlclVwID1cblx0cHJvdG8ub25wb2ludGVydXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdCAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcblx0ICAgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaGVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuXHQgIGlmICggdG91Y2ggKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCB0b3VjaCApO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBwb2ludGVyIHVwXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHByb3RvLl9wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fcG9pbnRlckRvbmUoKTtcblx0ICB0aGlzLnBvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcblx0fTtcblx0XG5cdC8vIHB1YmxpY1xuXHRwcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tIHBvaW50ZXIgZG9uZSAtLS0tLSAvL1xuXHRcblx0Ly8gdHJpZ2dlcmVkIG9uIHBvaW50ZXIgdXAgJiBwb2ludGVyIGNhbmNlbFxuXHRwcm90by5fcG9pbnRlckRvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAvLyByZXNldCBwcm9wZXJ0aWVzXG5cdCAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG5cdCAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG5cdCAgLy8gcmVtb3ZlIGV2ZW50c1xuXHQgIHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpO1xuXHQgIHRoaXMucG9pbnRlckRvbmUoKTtcblx0fTtcblx0XG5cdHByb3RvLnBvaW50ZXJEb25lID0gbm9vcDtcblx0XG5cdC8vIC0tLS0tIHBvaW50ZXIgY2FuY2VsIC0tLS0tIC8vXG5cdFxuXHRwcm90by5vbk1TUG9pbnRlckNhbmNlbCA9XG5cdHByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICBpZiAoIGV2ZW50LnBvaW50ZXJJZCA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuXHQgICAgdGhpcy5fcG9pbnRlckNhbmNlbCggZXZlbnQsIGV2ZW50ICk7XG5cdCAgfVxuXHR9O1xuXHRcblx0cHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0ICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuXHQgIGlmICggdG91Y2ggKSB7XG5cdCAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgdG91Y2ggKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogcG9pbnRlciBjYW5jZWxcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cHJvdG8uX3BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG5cdCAgdGhpcy5fcG9pbnRlckRvbmUoKTtcblx0ICB0aGlzLnBvaW50ZXJDYW5jZWwoIGV2ZW50LCBwb2ludGVyICk7XG5cdH07XG5cdFxuXHQvLyBwdWJsaWNcblx0cHJvdG8ucG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcblx0ICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJDYW5jZWwnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblx0fTtcblx0XG5cdC8vIC0tLS0tICAtLS0tLSAvL1xuXHRcblx0Ly8gdXRpbGl0eSBmdW5jdGlvbiBmb3IgZ2V0dGluZyB4L3kgY29vcmRzIGZyb20gZXZlbnRcblx0VW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQgPSBmdW5jdGlvbiggcG9pbnRlciApIHtcblx0ICByZXR1cm4ge1xuXHQgICAgeDogcG9pbnRlci5wYWdlWCxcblx0ICAgIHk6IHBvaW50ZXIucGFnZVlcblx0ICB9O1xuXHR9O1xuXHRcblx0Ly8gLS0tLS0gIC0tLS0tIC8vXG5cdFxuXHRyZXR1cm4gVW5pcG9pbnRlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qKlxuXHQgKiBFdkVtaXR0ZXIgdjEuMC4zXG5cdCAqIExpbCcgZXZlbnQgZW1pdHRlclxuXHQgKiBNSVQgTGljZW5zZVxuXHQgKi9cblx0XG5cdC8qIGpzaGludCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblx0XG5cdCggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblx0ICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblx0ICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cblx0ICBpZiAoIHRydWUgKSB7XG5cdCAgICAvLyBBTUQgLSBSZXF1aXJlSlNcblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSkpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG5cdCAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbHNcblx0ICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG5cdCAgfVxuXHRcblx0fSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRmdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXHRcblx0dmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblx0XG5cdHByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG5cdCAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgLy8gc2V0IGV2ZW50cyBoYXNoXG5cdCAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcblx0ICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG5cdCAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuXHQgIC8vIG9ubHkgYWRkIG9uY2Vcblx0ICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuXHQgICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdHByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcblx0ICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICAvLyBhZGQgZXZlbnRcblx0ICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG5cdCAgLy8gc2V0IG9uY2UgZmxhZ1xuXHQgIC8vIHNldCBvbmNlRXZlbnRzIGhhc2hcblx0ICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuXHQgIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuXHQgIHZhciBvbmNlTGlzdGVuZXJzID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSB8fCB7fTtcblx0ICAvLyBzZXQgZmxhZ1xuXHQgIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXHRcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdHByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuXHQgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcblx0ICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApO1xuXHQgIGlmICggaW5kZXggIT0gLTEgKSB7XG5cdCAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuXHQgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcblx0ICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG5cdCAgYXJncyA9IGFyZ3MgfHwgW107XG5cdCAgLy8gb25jZSBzdHVmZlxuXHQgIHZhciBvbmNlTGlzdGVuZXJzID0gdGhpcy5fb25jZUV2ZW50cyAmJiB0aGlzLl9vbmNlRXZlbnRzWyBldmVudE5hbWUgXTtcblx0XG5cdCAgd2hpbGUgKCBsaXN0ZW5lciApIHtcblx0ICAgIHZhciBpc09uY2UgPSBvbmNlTGlzdGVuZXJzICYmIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG5cdCAgICBpZiAoIGlzT25jZSApIHtcblx0ICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG5cdCAgICAgIC8vIHJlbW92ZSBiZWZvcmUgdHJpZ2dlciB0byBwcmV2ZW50IHJlY3Vyc2lvblxuXHQgICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuXHQgICAgICAvLyB1bnNldCBvbmNlIGZsYWdcblx0ICAgICAgZGVsZXRlIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG5cdCAgICB9XG5cdCAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG5cdCAgICBsaXN0ZW5lci5hcHBseSggdGhpcywgYXJncyApO1xuXHQgICAgLy8gZ2V0IG5leHQgbGlzdGVuZXJcblx0ICAgIGkgKz0gaXNPbmNlID8gMCA6IDE7XG5cdCAgICBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0cmV0dXJuIEV2RW1pdHRlcjtcblx0XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7Ly8gaXMuanMgMC44LjBcblx0Ly8gQXV0aG9yOiBBcmFzIEF0YXNheWdpblxuXHRcblx0Ly8gQU1EIHdpdGggZ2xvYmFsLCBOb2RlLCBvciBnbG9iYWxcblx0OyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdCAgICBpZih0cnVlKSB7XG5cdCAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgLy8gQWxzbyBjcmVhdGUgYSBnbG9iYWwgaW4gY2FzZSBzb21lIHNjcmlwdHNcblx0ICAgICAgICAgICAgLy8gdGhhdCBhcmUgbG9hZGVkIHN0aWxsIGFyZSBsb29raW5nIGZvclxuXHQgICAgICAgICAgICAvLyBhIGdsb2JhbCBldmVuIHdoZW4gYW4gQU1EIGxvYWRlciBpcyBpbiB1c2UuXG5cdCAgICAgICAgICAgIHJldHVybiAocm9vdC5pcyA9IGZhY3RvcnkoKSk7XG5cdCAgICAgICAgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0ICAgIH0gZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0ICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuXHQgICAgICAgIC8vIGxpa2UgTm9kZS5cblx0ICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgICAgICByb290LmlzID0gZmFjdG9yeSgpO1xuXHQgICAgfVxuXHR9ICh0aGlzLCBmdW5jdGlvbigpIHtcblx0XG5cdCAgICAvLyBCYXNlbGluZVxuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICB2YXIgcm9vdCA9IHRoaXMgfHwgZ2xvYmFsO1xuXHQgICAgdmFyIHByZXZpb3VzSXMgPSByb290LmlzO1xuXHRcblx0ICAgIC8vIGRlZmluZSAnaXMnIG9iamVjdCBhbmQgY3VycmVudCB2ZXJzaW9uXG5cdCAgICB2YXIgaXMgPSB7fTtcblx0ICAgIGlzLlZFUlNJT04gPSAnMC44LjAnO1xuXHRcblx0ICAgIC8vIGRlZmluZSBpbnRlcmZhY2VzXG5cdCAgICBpcy5ub3QgPSB7fTtcblx0ICAgIGlzLmFsbCA9IHt9O1xuXHQgICAgaXMuYW55ID0ge307XG5cdFxuXHQgICAgLy8gY2FjaGUgc29tZSBtZXRob2RzIHRvIGNhbGwgbGF0ZXIgb25cblx0ICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdCAgICB2YXIgYXJyYXlTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0ICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHQgICAgLy8gaGVscGVyIGZ1bmN0aW9uIHdoaWNoIHJldmVyc2VzIHRoZSBzZW5zZSBvZiBwcmVkaWNhdGUgcmVzdWx0XG5cdCAgICBmdW5jdGlvbiBub3QoZnVuYykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICFmdW5jLmFwcGx5KG51bGwsIGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbGwgcGFzc1xuXHQgICAgZnVuY3Rpb24gYWxsKGZ1bmMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcblx0ICAgICAgICAgICAgaWYobGVuZ3RoID09PSAxICYmIGlzLmFycmF5KHBhcmFtZXRlcnNbMF0pKSB7ICAgIC8vIHN1cHBvcnQgYXJyYXlcblx0ICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuXHQgICAgICAgICAgICAgICAgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBoZWxwZXIgZnVuY3Rpb24gd2hpY2ggY2FsbCBwcmVkaWNhdGUgZnVuY3Rpb24gcGVyIHBhcmFtZXRlciBhbmQgcmV0dXJuIHRydWUgaWYgYW55IHBhc3Ncblx0ICAgIGZ1bmN0aW9uIGFueShmdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG5cdCAgICAgICAgICAgIGlmKGxlbmd0aCA9PT0gMSAmJiBpcy5hcnJheShwYXJhbWV0ZXJzWzBdKSkgeyAgICAvLyBzdXBwb3J0IGFycmF5XG5cdCAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVyc1swXTtcblx0ICAgICAgICAgICAgICAgIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUeXBlIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEFyZ3VtZW50cz9cblx0ICAgIGlzLmFyZ3VtZW50cyA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuXHQgICAgICAgIHJldHVybiBpcy5ub3QubnVsbCh2YWx1ZSkgJiYgKHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcmd1bWVudHNdJyB8fCAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAnY2FsbGVlJyBpbiB2YWx1ZSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEFycmF5P1xuXHQgICAgaXMuYXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGNoZWNrIG5hdGl2ZSBpc0FycmF5IGZpcnN0XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEJvb2xlYW4/XG5cdCAgICBpcy5ib29sZWFuID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBCb29sZWFuXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgRGF0ZSBPYmplY3Q/XG5cdCAgICBpcy5kYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBFcnJvciBvYmplY3Q/XG5cdCAgICBpcy5lcnJvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBFcnJvcl0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZ1bmN0aW9uP1xuXHQgICAgaXMuZnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkgeyAgICAvLyBmYWxsYmFjayBjaGVjayBpcyBmb3IgSUVcblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIE5hTj9cblx0ICAgIGlzLm5hbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIE5hTiBpcyBudW1iZXIgOikgQWxzbyBpdCBpcyB0aGUgb25seSB2YWx1ZSB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGZcblx0ICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG51bGw/XG5cdCAgICBpcy5udWxsID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVtYmVyP1xuXHQgICAgaXMubnVtYmVyID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gaXMubm90Lm5hbih2YWx1ZSkgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIG9iamVjdD9cblx0ICAgIGlzLm9iamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISF2YWx1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgZ2l2ZW4gdmFsdWUgYSBwdXJlIEpTT04gb2JqZWN0P1xuXHQgICAgaXMuanNvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBSZWdFeHA/XG5cdCAgICBpcy5yZWdleHAgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgc2FtZSB0eXBlP1xuXHQgICAgLy8gcHJldmVudCBOYU4sIE51bWJlciBzYW1lIHR5cGUgY2hlY2tcblx0ICAgIGlzLnNhbWVUeXBlID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcblx0ICAgICAgICBpZihpcy5uYW4odmFsdWUxKSB8fCBpcy5uYW4odmFsdWUyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMubmFuKHZhbHVlMSkgPT09IGlzLm5hbih2YWx1ZTIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZTEpID09PSB0b1N0cmluZy5jYWxsKHZhbHVlMik7XG5cdCAgICB9O1xuXHQgICAgLy8gc2FtZVR5cGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnNhbWVUeXBlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBTdHJpbmc/XG5cdCAgICBpcy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQ2hhcj9cblx0ICAgIGlzLmNoYXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB1bmRlZmluZWQ/XG5cdCAgICBpcy51bmRlZmluZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBQcmVzZW5jZSBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy9pcyBhIGdpdmVuIHZhbHVlIGVtcHR5PyBPYmplY3RzLCBhcnJheXMsIHN0cmluZ3Ncblx0ICAgIGlzLmVtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICBpZihpcy5vYmplY3QodmFsdWUpKXtcblx0ICAgICAgICAgICAgdmFyIG51bSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGg7XG5cdCAgICAgICAgICAgIGlmKG51bSA9PT0gMCB8fCAobnVtID09PSAxICYmIGlzLmFycmF5KHZhbHVlKSkgfHwgKG51bSA9PT0gMiAmJiBpcy5hcmd1bWVudHModmFsdWUpKSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnJztcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZXhpc3R5P1xuXHQgICAgaXMuZXhpc3R5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB0cnV0aHk/XG5cdCAgICBpcy50cnV0aHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpcy5leGlzdHkodmFsdWUpICYmIHZhbHVlICE9PSBmYWxzZSAmJiBpcy5ub3QubmFuKHZhbHVlKSAmJiB2YWx1ZSAhPT0gXCJcIiAmJiB2YWx1ZSAhPT0gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBmYWxzeT9cblx0ICAgIGlzLmZhbHN5ID0gbm90KGlzLnRydXRoeSk7XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBzcGFjZT9cblx0ICAgIC8vIGhvcml6YW50YWwgdGFiOiA5LCBsaW5lIGZlZWQ6IDEwLCB2ZXJ0aWNhbCB0YWI6IDExLCBmb3JtIGZlZWQ6IDEyLCBjYXJyaWFnZSByZXR1cm46IDEzLCBzcGFjZTogMzJcblx0ICAgIGlzLnNwYWNlID0gIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgaWYoaXMuY2hhcih2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgdmFyIGNoYXJhY3RlckNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuXHQgICAgICAgICAgICByZXR1cm4gKGNoYXJhY3RlckNvZGUgPiAgOCAmJiBjaGFyYWN0ZXJDb2RlIDwgMTQpIHx8IGNoYXJhY3RlckNvZGUgPT09IDMyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEFyaXRobWV0aWMgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgZXF1YWw/IHN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MsIHJlZ2V4cHMsIGJvb2xlYW5zXG5cdCAgICAvLyBUT0RPOiBBZGQgb2JqZWN0IGFuZCBhcnJheSBzdXBwb3J0XG5cdCAgICBpcy5lcXVhbCA9IGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG5cdCAgICAgICAgLy8gY2hlY2sgMCBhbmQgLTAgZXF1aXR5IHdpdGggSW5maW5pdHkgYW5kIC1JbmZpbml0eVxuXHQgICAgICAgIGlmKGlzLmFsbC5udW1iZXIodmFsdWUxLCB2YWx1ZTIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMiAmJiAxIC8gdmFsdWUxID09PSAxIC8gdmFsdWUyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBjaGVjayByZWdleHBzIGFzIHN0cmluZ3MgdG9vXG5cdCAgICAgICAgaWYoaXMuYWxsLnN0cmluZyh2YWx1ZTEsIHZhbHVlMikgfHwgaXMuYWxsLnJlZ2V4cCh2YWx1ZTEsIHZhbHVlMikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsdWUxID09PSAnJyArIHZhbHVlMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYoaXMuYWxsLmJvb2xlYW4odmFsdWUxLCB2YWx1ZTIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0ICAgIC8vIGVxdWFsIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5lcXVhbC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGV2ZW4/XG5cdCAgICBpcy5ldmVuID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG9kZD9cblx0ICAgIGlzLm9kZCA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAyID09PSAxO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBwb3NpdGl2ZT9cblx0ICAgIGlzLnBvc2l0aXZlID0gZnVuY3Rpb24obnVtYikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiA+IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG5lZ2F0aXZlP1xuXHQgICAgaXMubmVnYXRpdmUgPSBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iIDwgMDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWluaW11bSBwYXJhbWV0ZXI/XG5cdCAgICBpcy5hYm92ZSA9IGZ1bmN0aW9uKG51bWIsIG1pbikge1xuXHQgICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1pbikgJiYgbnVtYiA+IG1pbjtcblx0ICAgIH07XG5cdCAgICAvLyBhYm92ZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuYWJvdmUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBhYm92ZSBtYXhpbXVtIHBhcmFtZXRlcj9cblx0ICAgIGlzLnVuZGVyID0gZnVuY3Rpb24obnVtYiwgbWF4KSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWF4KSAmJiBudW1iIDwgbWF4O1xuXHQgICAgfTtcblx0ICAgIC8vIGxlYXN0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy51bmRlci5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHdpdGhpbiBtaW5pbXVtIGFuZCBtYXhpbXVtIHBhcmFtZXRlcnM/XG5cdCAgICBpcy53aXRoaW4gPSBmdW5jdGlvbihudW1iLCBtaW4sIG1heCkge1xuXHQgICAgICAgIHJldHVybiBpcy5hbGwubnVtYmVyKG51bWIsIG1pbiwgbWF4KSAmJiBudW1iID4gbWluICYmIG51bWIgPCBtYXg7XG5cdCAgICB9O1xuXHQgICAgLy8gd2l0aGluIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy53aXRoaW4uYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBkZWNpbWFsP1xuXHQgICAgaXMuZGVjaW1hbCA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAxICE9PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbnRlZ2VyP1xuXHQgICAgaXMuaW50ZWdlciA9IGZ1bmN0aW9uKG51bWIpIHtcblx0ICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgJSAxID09PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBmaW5pdGU/XG5cdCAgICBpcy5maW5pdGUgPSBpc0Zpbml0ZSB8fCBmdW5jdGlvbihudW1iKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bWIgIT09IEluZmluaXR5ICYmIG51bWIgIT09IC1JbmZpbml0eSAmJiBpcy5ub3QubmFuKG51bWIpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbmZpbml0ZT9cblx0ICAgIGlzLmluZmluaXRlID0gbm90KGlzLmZpbml0ZSk7XG5cdFxuXHQgICAgLy8gUmVnZXhwIGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0ICAgIC8vIFN0ZXZlbiBMZXZpdGhhbiwgSmFuIEdveXZhZXJ0czogUmVndWxhciBFeHByZXNzaW9ucyBDb29rYm9va1xuXHQgICAgLy8gU2NvdHQgR29uemFsZXo6IEVtYWlsIGFkZHJlc3MgdmFsaWRhdGlvblxuXHRcblx0ICAgIC8vIGVwcFBob25lIG1hdGNoIGV4dGVuc2libGUgcHJvdmlzaW9uaW5nIHByb3RvY29sIGZvcm1hdFxuXHQgICAgLy8gbmFucFBob25lIG1hdGNoIG5vcnRoIGFtZXJpY2FuIG51bWJlciBwbGFuIGZvcm1hdFxuXHQgICAgLy8gZGF0ZVN0cmluZyBtYXRjaCBtL2QveXkgYW5kIG1tL2RkL3l5eXksIGFsbG93aW5nIGFueSBjb21iaW5hdGlvbiBvZiBvbmUgb3IgdHdvIGRpZ2l0cyBmb3IgdGhlIGRheSBhbmQgbW9udGgsIGFuZCB0d28gb3IgZm91ciBkaWdpdHMgZm9yIHRoZSB5ZWFyXG5cdCAgICAvLyB0aW1lIG1hdGNoIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcywgMjQtaG91ciBjbG9ja1xuXHQgICAgdmFyIHJlZ2V4cHMgPSB7XG5cdCAgICAgICAgdXJsOiAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLyk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1xcUyopPyQvaSxcblx0ICAgICAgICBlbWFpbDogL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pLFxuXHQgICAgICAgIGNyZWRpdENhcmQ6IC9eKD86KDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pKSQvLFxuXHQgICAgICAgIGFscGhhTnVtZXJpYzogL15bQS1aYS16MC05XSskLyxcblx0ICAgICAgICB0aW1lU3RyaW5nOiAvXigyWzAtM118WzAxXT9bMC05XSk6KFswLTVdP1swLTldKTooWzAtNV0/WzAtOV0pJC8sXG5cdCAgICAgICAgZGF0ZVN0cmluZzogL14oMVswLTJdfDA/WzEtOV0pXFwvKDNbMDFdfFsxMl1bMC05XXwwP1sxLTldKVxcLyg/OlswLTldezJ9KT9bMC05XXsyfSQvLFxuXHQgICAgICAgIHVzWmlwQ29kZTogL15bMC05XXs1fSg/Oi1bMC05XXs0fSk/JC8sXG5cdCAgICAgICAgY2FQb3N0YWxDb2RlOiAvXig/IS4qW0RGSU9RVV0pW0EtVlhZXVswLTldW0EtWl1cXHM/WzAtOV1bQS1aXVswLTldJC8sXG5cdCAgICAgICAgdWtQb3N0Q29kZTogL15bQS1aXXsxLDJ9WzAtOVJDSE5RXVswLTlBLVpdP1xccz9bMC05XVtBQkQtSEpMTlAtVVctWl17Mn0kfF5bQS1aXXsyfS0/WzAtOV17NH0kLyxcblx0ICAgICAgICBuYW5wUGhvbmU6IC9eXFwoPyhbMC05XXszfSlcXCk/Wy0uIF0/KFswLTldezN9KVstLiBdPyhbMC05XXs0fSkkLyxcblx0ICAgICAgICBlcHBQaG9uZTogL15cXCtbMC05XXsxLDN9XFwuWzAtOV17NCwxNH0oPzp4LispPyQvLFxuXHQgICAgICAgIHNvY2lhbFNlY3VyaXR5TnVtYmVyOiAvXig/ITAwMHw2NjYpWzAtOF1bMC05XXsyfS0oPyEwMClbMC05XXsyfS0oPyEwMDAwKVswLTldezR9JC8sXG5cdCAgICAgICAgYWZmaXJtYXRpdmU6IC9eKD86MXx0KD86cnVlKT98eSg/OmVzKT98b2soPzpheSk/KSQvLFxuXHQgICAgICAgIGhleGFkZWNpbWFsOiAvXlswLTlhLWZBLUZdKyQvLFxuXHQgICAgICAgIGhleENvbG9yOiAvXiM/KFswLTlhLWZBLUZdezN9fFswLTlhLWZBLUZdezZ9KSQvLFxuXHQgICAgICAgIGlwdjQ6IC9eKD86KD86XFxkfFsxLTldXFxkfDFcXGR7Mn18MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfSg/OlxcZHxbMS05XVxcZHwxXFxkezJ9fDJbMC00XVxcZHwyNVswLTVdKSQvLFxuXHQgICAgICAgIGlwdjY6IC9eKChbYS16QS1aXXxbYS16QS1aXVthLXpBLVowLTlcXC1dKlthLXpBLVowLTldKVxcLikqKFtBLVphLXpdfFtBLVphLXpdW0EtWmEtejAtOVxcLV0qW0EtWmEtejAtOV0pJHxeXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxcblx0ICAgICAgICBpcDogL14oKFswLTldfFsxLTldWzAtOV18MVswLTldezJ9fDJbMC00XVswLTldfDI1WzAtNV0pXFwuKXszfShbMC05XXxbMS05XVswLTldfDFbMC05XXsyfXwyWzAtNF1bMC05XXwyNVswLTVdKSR8XigoW2EtekEtWl18W2EtekEtWl1bYS16QS1aMC05XFwtXSpbYS16QS1aMC05XSlcXC4pKihbQS1aYS16XXxbQS1aYS16XVtBLVphLXowLTlcXC1dKltBLVphLXowLTldKSR8XlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC9cblx0ICAgIH07XG5cdFxuXHQgICAgLy8gY3JlYXRlIHJlZ2V4cCBjaGVja3MgbWV0aG9kcyBmcm9tICdyZWdleHAnIG9iamVjdFxuXHQgICAgZm9yKHZhciByZWdleHAgaW4gcmVnZXhwcykge1xuXHQgICAgICAgIGlmKHJlZ2V4cHMuaGFzT3duUHJvcGVydHkocmVnZXhwKSkge1xuXHQgICAgICAgICAgICByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpIHtcblx0ICAgICAgICBpc1tyZWdleHBdID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cHNbcmVnZXhwXS50ZXN0KHZhbHVlKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFN0cmluZyBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgaW5jbHVkZSBwYXJhbWV0ZXIgc3Vic3RyaW5nP1xuXHQgICAgaXMuaW5jbHVkZSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1YnN0cikgPiAtMTtcblx0ICAgIH07XG5cdCAgICAvLyBpbmNsdWRlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5pbmNsdWRlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgYWxsIHVwcGVyY2FzZT9cblx0ICAgIGlzLnVwcGVyQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT09IHN0ci50b1VwcGVyQ2FzZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBhbGwgbG93ZXJjYXNlP1xuXHQgICAgaXMubG93ZXJDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIHN0cmluZyBzdGFydCB3aXRoIGEgZ2l2ZW4gc3RhcnRXaXRoIHBhcmFtZXRlcj9cblx0ICAgIGlzLnN0YXJ0V2l0aCA9IGZ1bmN0aW9uKHN0ciwgc3RhcnRXaXRoKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ci5pbmRleE9mKHN0YXJ0V2l0aCkgPT09IDA7XG5cdCAgICB9O1xuXHQgICAgLy8gc3RhcnRXaXRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5zdGFydFdpdGguYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBzdHJpbmcgZW5kIHdpdGggYSBnaXZlbiBlbmRXaXRoIHBhcmFtZXRlcj9cblx0ICAgIGlzLmVuZFdpdGggPSBmdW5jdGlvbihzdHIsIGVuZFdpdGgpIHtcblx0ICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2YoZW5kV2l0aCkgPiAtMSAmJiBzdHIuaW5kZXhPZihlbmRXaXRoKSA9PT0gc3RyLmxlbmd0aCAtICBlbmRXaXRoLmxlbmd0aDtcblx0ICAgIH07XG5cdCAgICAvLyBlbmRXaXRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5lbmRXaXRoLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgb3Igc2VudGVuY2UgY2FwaXRhbGl6ZWQ/XG5cdCAgICBpcy5jYXBpdGFsaXplZCA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIGlmKGlzLm5vdC5zdHJpbmcoc3RyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciB3b3JkcyA9IHN0ci5zcGxpdCgnICcpO1xuXHQgICAgICAgIHZhciBjYXBpdGFsaXplZCA9IFtdO1xuXHQgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBjYXBpdGFsaXplZC5wdXNoKHdvcmRzW2ldWzBdID09PSB3b3Jkc1tpXVswXS50b1VwcGVyQ2FzZSgpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGlzLmFsbC50cnV0aHkuYXBwbHkobnVsbCwgY2FwaXRhbGl6ZWQpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBwYWxpbmRyb21lP1xuXHQgICAgaXMucGFsaW5kcm9tZSA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHJldHVybiBpcy5zdHJpbmcoc3RyKSAmJiBzdHIgPT0gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIFRpbWUgY2hlY2tzXG5cdCAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0ICAgIHZhciBkYXlzID0gWydzdW5kYXknLCAnbW9uZGF5JywgJ3R1ZXNkYXknLCAnd2VkbmVzZGF5JywgJ3RodXJzZGF5JywgJ2ZyaWRheScsICdzYXR1cmRheSddO1xuXHQgICAgdmFyIG1vbnRocyA9IFsnamFudWFyeScsICdmZWJydWFyeScsICdtYXJjaCcsICdhcHJpbCcsICdtYXknLCAnanVuZScsICdqdWx5JywgJ2F1Z3VzdCcsICdzZXB0ZW1iZXInLCAnb2N0b2JlcicsICdub3ZlbWJlcicsICdkZWNlbWJlciddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB0b2RheT9cblx0ICAgIGlzLnRvZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgdmFyIHRvZGF5U3RyaW5nID0gbm93LnRvRGF0ZVN0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b2RheVN0cmluZztcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHllc3RlcmRheT9cblx0ICAgIGlzLnllc3RlcmRheSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgICAgICAgIHZhciB5ZXN0ZXJkYXlTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSkpLnRvRGF0ZVN0cmluZygpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB5ZXN0ZXJkYXlTdHJpbmc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbmRpY2F0ZSB0b21vcnJvdz9cblx0ICAgIGlzLnRvbW9ycm93ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgdmFyIHRvbW9ycm93U3RyaW5nID0gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSArIDEpKS50b0RhdGVTdHJpbmcoKTtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0gdG9tb3Jyb3dTdHJpbmc7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBwYXN0P1xuXHQgICAgaXMucGFzdCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBmdXR1cmU/XG5cdCAgICBpcy5mdXR1cmUgPSBub3QoaXMucGFzdCk7XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBkYXkgZXF1YWwgZ2l2ZW4gZGF5U3RyaW5nIHBhcmFtZXRlcj9cblx0ICAgIGlzLmRheSA9IGZ1bmN0aW9uKG9iaiwgZGF5U3RyaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBkYXlTdHJpbmcudG9Mb3dlckNhc2UoKSA9PT0gZGF5c1tvYmouZ2V0RGF5KCldO1xuXHQgICAgfTtcblx0ICAgIC8vIGRheSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgaXMuZGF5LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBtb250aCBlcXVhbCBnaXZlbiBtb250aFN0cmluZyBwYXJhbWV0ZXI/XG5cdCAgICBpcy5tb250aCA9IGZ1bmN0aW9uKG9iaiwgbW9udGhTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG1vbnRoU3RyaW5nLnRvTG93ZXJDYXNlKCkgPT09IG1vbnRoc1tvYmouZ2V0TW9udGgoKV07XG5cdCAgICB9O1xuXHQgICAgLy8gbW9udGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLm1vbnRoLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlcyB5ZWFyIGVxdWFsIGdpdmVuIHllYXIgcGFyYW1ldGVyP1xuXHQgICAgaXMueWVhciA9IGZ1bmN0aW9uKG9iaiwgeWVhcikge1xuXHQgICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHllYXIpICYmIHllYXIgPT09IG9iai5nZXRGdWxsWWVhcigpO1xuXHQgICAgfTtcblx0ICAgIC8vIHllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnllYXIuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyB0aGUgZ2l2ZW4geWVhciBhIGxlYXAgeWVhcj9cblx0ICAgIGlzLmxlYXBZZWFyID0gZnVuY3Rpb24oeWVhcikge1xuXHQgICAgICAgIHJldHVybiBpcy5udW1iZXIoeWVhcikgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIHdlZWtlbmQ/XG5cdCAgICAvLyA2OiBTYXR1cmRheSwgMDogU3VuZGF5XG5cdCAgICBpcy53ZWVrZW5kID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiAob2JqLmdldERheSgpID09PSA2IHx8IG9iai5nZXREYXkoKSA9PT0gMCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSB3ZWVrZGF5P1xuXHQgICAgaXMud2Vla2RheSA9IG5vdChpcy53ZWVrZW5kKTtcblx0XG5cdCAgICAvLyBpcyBkYXRlIHdpdGhpbiBnaXZlbiByYW5nZT9cblx0ICAgIGlzLmluRGF0ZVJhbmdlID0gZnVuY3Rpb24ob2JqLCBzdGFydE9iaiwgZW5kT2JqKSB7XG5cdCAgICAgICAgaWYoaXMubm90LmRhdGUob2JqKSB8fCBpcy5ub3QuZGF0ZShzdGFydE9iaikgfHwgaXMubm90LmRhdGUoZW5kT2JqKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBnaXZlbkRhdGUgPSBvYmouZ2V0VGltZSgpO1xuXHQgICAgICAgIHZhciBzdGFydCA9IHN0YXJ0T2JqLmdldFRpbWUoKTtcblx0ICAgICAgICB2YXIgZW5kID0gZW5kT2JqLmdldFRpbWUoKTtcblx0ICAgICAgICByZXR1cm4gZ2l2ZW5EYXRlID4gc3RhcnQgJiYgZ2l2ZW5EYXRlIDwgZW5kO1xuXHQgICAgfTtcblx0ICAgIC8vIGluRGF0ZVJhbmdlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5pbkRhdGVSYW5nZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IHdlZWsgcmFuZ2U/XG5cdCAgICBpcy5pbkxhc3RXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNykpLCBuZXcgRGF0ZSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgbW9udGggcmFuZ2U/XG5cdCAgICBpcy5pbkxhc3RNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgeWVhciByYW5nZT9cblx0ICAgIGlzLmluTGFzdFllYXIgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKSwgbmV3IERhdGUoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IHdlZWsgcmFuZ2U/XG5cdCAgICBpcy5pbk5leHRXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmluRGF0ZVJhbmdlKG9iaiwgbmV3IERhdGUoKSwgbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpICsgNykpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgbW9udGggcmFuZ2U/XG5cdCAgICBpcy5pbk5leHRNb250aCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSkpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgeWVhciByYW5nZT9cblx0ICAgIGlzLmluTmV4dFllYXIgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gaXMuaW5EYXRlUmFuZ2Uob2JqLCBuZXcgRGF0ZSgpLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiB0aGUgcGFyYW1ldGVyIHF1YXJ0ZXI/XG5cdCAgICBpcy5xdWFydGVyT2ZZZWFyID0gZnVuY3Rpb24ob2JqLCBxdWFydGVyTnVtYmVyKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBpcy5udW1iZXIocXVhcnRlck51bWJlcikgJiYgcXVhcnRlck51bWJlciA9PT0gTWF0aC5mbG9vcigob2JqLmdldE1vbnRoKCkgKyAzKSAvIDMpO1xuXHQgICAgfTtcblx0ICAgIC8vIHF1YXJ0ZXJPZlllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnF1YXJ0ZXJPZlllYXIuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gZGF5bGlnaHQgc2F2aW5nIHRpbWU/XG5cdCAgICBpcy5kYXlMaWdodFNhdmluZ1RpbWUgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICB2YXIgamFudWFyeSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCAwLCAxKTtcblx0ICAgICAgICB2YXIganVseSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCA2LCAxKTtcblx0ICAgICAgICB2YXIgc3RkVGltZXpvbmVPZmZzZXQgPSBNYXRoLm1heChqYW51YXJ5LmdldFRpbWV6b25lT2Zmc2V0KCksIGp1bHkuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG5cdCAgICAgICAgcmV0dXJuIG9iai5nZXRUaW1lem9uZU9mZnNldCgpIDwgc3RkVGltZXpvbmVPZmZzZXQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEVudmlyb25tZW50IGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBjaGVjayBpZiBsaWJyYXJ5IGlzIHVzZWQgYXMgYSBOb2RlLmpzIG1vZHVsZVxuXHQgICAgaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XG5cdCAgICAgICAgLy8gc3RvcmUgbmF2aWdhdG9yIHByb3BlcnRpZXMgdG8gdXNlIGxhdGVyXG5cdCAgICAgICAgdmFyIHVzZXJBZ2VudCA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndXNlckFnZW50JyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuXHQgICAgICAgIHZhciB2ZW5kb3IgPSAnbmF2aWdhdG9yJyBpbiB3aW5kb3cgJiYgJ3ZlbmRvcicgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci52ZW5kb3IudG9Mb3dlckNhc2UoKSB8fCAnJztcblx0ICAgICAgICB2YXIgYXBwVmVyc2lvbiA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAnYXBwVmVyc2lvbicgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkgfHwgJyc7XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBjaHJvbWU/XG5cdCAgICAgICAgaXMuY2hyb21lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvY2hyb21lfGNocm9taXVtL2kudGVzdCh1c2VyQWdlbnQpICYmIC9nb29nbGUgaW5jLy50ZXN0KHZlbmRvcik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBjaHJvbWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5jaHJvbWUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIGZpcmVmb3g/XG5cdCAgICAgICAgaXMuZmlyZWZveCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2ZpcmVmb3gvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBmaXJlZm94IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuZmlyZWZveC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZWRnZT9cblx0ICAgICAgICBpcy5lZGdlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvZWRnZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGVkZ2UgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5lZGdlLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgYnJvd3NlciBpbnRlcm5ldCBleHBsb3Jlcj9cblx0ICAgICAgICAvLyBwYXJhbWV0ZXIgaXMgb3B0aW9uYWxcblx0ICAgICAgICBpcy5pZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcblx0ICAgICAgICAgICAgaWYoIXZlcnNpb24pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAvbXNpZS9pLnRlc3QodXNlckFnZW50KSB8fCBcIkFjdGl2ZVhPYmplY3RcIiBpbiB3aW5kb3c7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYodmVyc2lvbiA+PSAxMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnbXNpZSAnICsgdmVyc2lvbikudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgb3BlcmE/XG5cdCAgICAgICAgaXMub3BlcmEgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9eT3BlcmFcXC8vLnRlc3QodXNlckFnZW50KSB8fCAvLyBPcGVyYSAxMiBhbmQgb2xkZXIgdmVyc2lvbnNcblx0ICAgICAgICAgICAgICAgIC9cXHgyME9QUlxcLy8udGVzdCh1c2VyQWdlbnQpOyAvLyBPcGVyYSAxNStcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG9wZXJhIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMub3BlcmEuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBicm93c2VyIHNhZmFyaT9cblx0ICAgICAgICBpcy5zYWZhcmkgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9zYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCkgJiYgL2FwcGxlIGNvbXB1dGVyL2kudGVzdCh2ZW5kb3IpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gc2FmYXJpIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuc2FmYXJpLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlvcz9cblx0ICAgICAgICBpcy5pb3MgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLmlwaG9uZSgpIHx8IGlzLmlwYWQoKSB8fCBpcy5pcG9kKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBpb3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pb3MuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBob25lP1xuXHQgICAgICAgIGlzLmlwaG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2lwaG9uZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGlwaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlwaG9uZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBpcGFkP1xuXHQgICAgICAgIGlzLmlwYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9pcGFkL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gaXBhZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmlwYWQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBvZD9cblx0ICAgICAgICBpcy5pcG9kID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvaXBvZC9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGlwb2QgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5pcG9kLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQ/XG5cdCAgICAgICAgaXMuYW5kcm9pZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBhbmRyb2lkIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuYW5kcm9pZC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHBob25lP1xuXHQgICAgICAgIGlzLmFuZHJvaWRQaG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCkgJiYgL21vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGFuZHJvaWRQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmFuZHJvaWRQaG9uZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHRhYmxldD9cblx0ICAgICAgICBpcy5hbmRyb2lkVGFibGV0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSAmJiAhL21vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIGFuZHJvaWRUYWJsZXQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5hbmRyb2lkVGFibGV0LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGJsYWNrYmVycnk/XG5cdCAgICAgICAgaXMuYmxhY2tiZXJyeSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gL2JsYWNrYmVycnkvaS50ZXN0KHVzZXJBZ2VudCkgfHwgL0JCMTAvaS50ZXN0KHVzZXJBZ2VudCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBibGFja2JlcnJ5IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuYmxhY2tiZXJyeS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBkZXNrdG9wP1xuXHQgICAgICAgIGlzLmRlc2t0b3AgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLm5vdC5tb2JpbGUoKSAmJiBpcy5ub3QudGFibGV0KCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBkZXNrdG9wIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMuZGVza3RvcC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbGludXg/XG5cdCAgICAgICAgaXMubGludXggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIC9saW51eC9pLnRlc3QoYXBwVmVyc2lvbik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBsaW51eCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLmxpbnV4LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSBtYWM/XG5cdCAgICAgICAgaXMubWFjID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvbWFjL2kudGVzdChhcHBWZXJzaW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG1hYyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLm1hYy5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gd2luZG93cz9cblx0ICAgICAgICBpcy53aW5kb3dzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAvd2luL2kudGVzdChhcHBWZXJzaW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHdpbmRvd3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy53aW5kb3dzLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgcGhvbmU/XG5cdCAgICAgICAgaXMud2luZG93c1Bob25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy53aW5kb3dzKCkgJiYgL3Bob25lL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gd2luZG93c1Bob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMud2luZG93c1Bob25lLmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgdGFibGV0P1xuXHQgICAgICAgIGlzLndpbmRvd3NUYWJsZXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiBpcy5ub3Qud2luZG93c1Bob25lKCkgJiYgL3RvdWNoL2kudGVzdCh1c2VyQWdlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gd2luZG93c1RhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLndpbmRvd3NUYWJsZXQuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgbW9iaWxlP1xuXHQgICAgICAgIGlzLm1vYmlsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXMuaXBob25lKCkgfHwgaXMuaXBvZCgpIHx8IGlzLmFuZHJvaWRQaG9uZSgpIHx8IGlzLmJsYWNrYmVycnkoKSB8fCBpcy53aW5kb3dzUGhvbmUoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIG1vYmlsZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLm1vYmlsZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB0YWJsZXQ/XG5cdCAgICAgICAgaXMudGFibGV0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpcy5pcGFkKCkgfHwgaXMuYW5kcm9pZFRhYmxldCgpIHx8IGlzLndpbmRvd3NUYWJsZXQoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHRhYmxldCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLnRhYmxldC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IHN0YXRlIG9ubGluZT9cblx0ICAgICAgICBpcy5vbmxpbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBvbmxpbmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgICAgICBpcy5vbmxpbmUuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAgICAgLy8gaXMgY3VycmVudCBzdGF0ZSBvZmZsaW5lP1xuXHQgICAgICAgIGlzLm9mZmxpbmUgPSBub3QoaXMub25saW5lKTtcblx0ICAgICAgICAvLyBvZmZsaW5lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICAgICAgaXMub2ZmbGluZS5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBzdXBwb3J0cyB0b3VjaD9cblx0ICAgICAgICBpcy50b3VjaERldmljZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8J0RvY3VtZW50VG91Y2gnIGluIHdpbmRvdyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyB0b3VjaERldmljZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuXHQgICAgICAgIGlzLnRvdWNoRGV2aWNlLmFwaSA9IFsnbm90J107XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gT2JqZWN0IGNoZWNrc1xuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBoYXMgYSBnaXZlbiBvYmplY3QgZ290IHBhcmFtZXRlcml6ZWQgY291bnQgcHJvcGVydHk/XG5cdCAgICBpcy5wcm9wZXJ0eUNvdW50ID0gZnVuY3Rpb24ob2JqLCBjb3VudCkge1xuXHQgICAgICAgIGlmKCFpcy5vYmplY3Qob2JqKSB8fCAhaXMubnVtYmVyKGNvdW50KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmKE9iamVjdC5rZXlzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gY291bnQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW10sXG5cdCAgICAgICAgICAgIHByb3BlcnR5O1xuXHQgICAgICAgIGZvcihwcm9wZXJ0eSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSkpIHtcblx0ICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMubGVuZ3RoID09PSBjb3VudDtcblx0ICAgIH07XG5cdCAgICAvLyBwcm9wZXJ0eUNvdW50IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG5cdCAgICBpcy5wcm9wZXJ0eUNvdW50LmFwaSA9IFsnbm90J107XG5cdFxuXHQgICAgLy8gaXMgZ2l2ZW4gb2JqZWN0IGhhcyBwYXJhbWV0ZXJpemVkIHByb3BlcnR5P1xuXHQgICAgaXMucHJvcGVydHlEZWZpbmVkID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSkge1xuXHQgICAgICAgIHJldHVybiBpcy5vYmplY3Qob2JqKSAmJiBpcy5zdHJpbmcocHJvcGVydHkpICYmIHByb3BlcnR5IGluIG9iajtcblx0ICAgIH07XG5cdCAgICAvLyBwcm9wZXJ0eURlZmluZWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLnByb3BlcnR5RGVmaW5lZC5hcGkgPSBbJ25vdCddO1xuXHRcblx0ICAgIC8vIGlzIGEgZ2l2ZW4gb2JqZWN0IHdpbmRvdz9cblx0ICAgIC8vIHNldEludGVydmFsIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBmb3Igd2luZG93IG9iamVjdFxuXHQgICAgaXMud2luZG93T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdzZXRJbnRlcnZhbCcgaW4gb2JqO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIG9iamVjdCBhIERPTSBub2RlP1xuXHQgICAgaXMuZG9tTm9kZSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiBpcy5vYmplY3Qob2JqKSAmJiBvYmoubm9kZVR5cGUgPiAwO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBBcnJheSBjaGVja3Ncblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgLy8gaXMgYSBnaXZlbiBpdGVtIGluIGFuIGFycmF5P1xuXHQgICAgaXMuaW5BcnJheSA9IGZ1bmN0aW9uKHZhbCwgYXJyKXtcblx0ICAgICAgICBpZihpcy5ub3QuYXJyYXkoYXJyKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gdmFsKSByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0ICAgIC8vIGluQXJyYXkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcblx0ICAgIGlzLmluQXJyYXkuYXBpID0gWydub3QnXTtcblx0XG5cdCAgICAvLyBpcyBhIGdpdmVuIGFycmF5IHNvcnRlZD9cblx0ICAgIGlzLnNvcnRlZCA9IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmKGlzLm5vdC5hcnJheShhcnIpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZihhcnJbaV0gPiBhcnJbaSArIDFdKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBBUElcblx0ICAgIC8vIFNldCAnbm90JywgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXMgdG8gbWV0aG9kcyBiYXNlZCBvbiB0aGVpciBhcGkgcHJvcGVydHlcblx0ICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHQgICAgZnVuY3Rpb24gc2V0SW50ZXJmYWNlcygpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IGlzO1xuXHQgICAgICAgIGZvcih2YXIgb3B0aW9uIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIGlzLmZ1bmN0aW9uKG9wdGlvbnNbb3B0aW9uXSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnRlcmZhY2VzID0gb3B0aW9uc1tvcHRpb25dLmFwaSB8fCBbJ25vdCcsICdhbGwnLCAnYW55J107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludGVyZmFjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnbm90Jykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpcy5ub3Rbb3B0aW9uXSA9IG5vdChpc1tvcHRpb25dKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ2FsbCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXMuYWxsW29wdGlvbl0gPSBhbGwoaXNbb3B0aW9uXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdhbnknKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzLmFueVtvcHRpb25dID0gYW55KGlzW29wdGlvbl0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHNldEludGVyZmFjZXMoKTtcblx0XG5cdCAgICAvLyBDb25maWd1cmF0aW9uIG1ldGhvZHNcblx0ICAgIC8vIEludGVudGlvbmFsbHkgYWRkZWQgYWZ0ZXIgc2V0SW50ZXJmYWNlcyBmdW5jdGlvblxuXHQgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdCAgICAvLyBzZXQgb3B0aW9uYWwgcmVnZXhwcyB0byBtZXRob2RzIGlmIHlvdSB0aGluayB0aGV5IHN1Y2tcblx0ICAgIGlzLnNldFJlZ2V4cCA9IGZ1bmN0aW9uKHJlZ2V4cCwgcmVnZXhwTmFtZSkge1xuXHQgICAgICAgIGZvcih2YXIgciBpbiByZWdleHBzKSB7XG5cdCAgICAgICAgICAgIGlmKGhhc093blByb3BlcnR5LmNhbGwocmVnZXhwcywgcikgJiYgKHJlZ2V4cE5hbWUgPT09IHIpKSB7XG5cdCAgICAgICAgICAgICAgICByZWdleHBzW3JdID0gcmVnZXhwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBjaGFuZ2UgbmFtZXNwYWNlIG9mIGxpYnJhcnkgdG8gcHJldmVudCBuYW1lIGNvbGxpc2lvbnNcblx0ICAgIC8vIHZhciBwcmVmZXJyZWROYW1lID0gaXMuc2V0TmFtZXNwYWNlKCk7XG5cdCAgICAvLyBwcmVmZXJyZWROYW1lLm9kZCgzKTtcblx0ICAgIC8vID0+IHRydWVcblx0ICAgIGlzLnNldE5hbWVzcGFjZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJvb3QuaXMgPSBwcmV2aW91c0lzO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gaXM7XG5cdH0pKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0dmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdHZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcblx0XHRpZiAodHlwZW9mIEFycmF5LmlzQXJyYXkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KGFycik7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG9TdHIuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXHRcblx0dmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuXHRcdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFxuXHRcdHZhciBoYXNPd25Db25zdHJ1Y3RvciA9IGhhc093bi5jYWxsKG9iaiwgJ2NvbnN0cnVjdG9yJyk7XG5cdFx0dmFyIGhhc0lzUHJvdG90eXBlT2YgPSBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSAmJiBoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuXHRcdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0XHRpZiAob2JqLmNvbnN0cnVjdG9yICYmICFoYXNPd25Db25zdHJ1Y3RvciAmJiAhaGFzSXNQcm90b3R5cGVPZikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdFx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdFx0dmFyIGtleTtcblx0XHRmb3IgKGtleSBpbiBvYmopIHsvKiovfVxuXHRcblx0XHRyZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwgaGFzT3duLmNhbGwob2JqLCBrZXkpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQoKSB7XG5cdFx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdFx0aSA9IDEsXG5cdFx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdFx0ZGVlcCA9IGZhbHNlO1xuXHRcblx0XHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdFx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdFx0ZGVlcCA9IHRhcmdldDtcblx0XHRcdHRhcmdldCA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0XHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRcdGkgPSAyO1xuXHRcdH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHx8IHRhcmdldCA9PSBudWxsKSB7XG5cdFx0XHR0YXJnZXQgPSB7fTtcblx0XHR9XG5cdFxuXHRcdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbaV07XG5cdFx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdFx0Y29weSA9IG9wdGlvbnNbbmFtZV07XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0XHRpZiAodGFyZ2V0ICE9PSBjb3B5KSB7XG5cdFx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChjb3B5SXNBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBleHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuXHRcblx0XHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvcHkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldFtuYW1lXSA9IGNvcHk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlcikge3ZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG5hdGl2ZU1hcDtcblx0dHJ5IHtcblx0ICBuYXRpdmVNYXAgPSBNYXA7XG5cdH0gY2F0Y2goXykge1xuXHQgIC8vIG1heWJlIGEgcmVmZXJlbmNlIGVycm9yIGJlY2F1c2Ugbm8gYE1hcGAuIEdpdmUgaXQgYSBkdW1teSB2YWx1ZSB0aGF0IG5vXG5cdCAgLy8gdmFsdWUgd2lsbCBldmVyIGJlIGFuIGluc3RhbmNlb2YuXG5cdCAgbmF0aXZlTWFwID0gZnVuY3Rpb24oKSB7fTtcblx0fVxuXHRcblx0dmFyIG5hdGl2ZVNldDtcblx0dHJ5IHtcblx0ICBuYXRpdmVTZXQgPSBTZXQ7XG5cdH0gY2F0Y2goXykge1xuXHQgIG5hdGl2ZVNldCA9IGZ1bmN0aW9uKCkge307XG5cdH1cblx0XG5cdHZhciBuYXRpdmVQcm9taXNlO1xuXHR0cnkge1xuXHQgIG5hdGl2ZVByb21pc2UgPSBQcm9taXNlO1xuXHR9IGNhdGNoKF8pIHtcblx0ICBuYXRpdmVQcm9taXNlID0gZnVuY3Rpb24oKSB7fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIGNpcmN1bGFyIHJlZmVyZW5jZXMgYnkgZGVmYXVsdCwgYnV0IGlmIHlvdSBhcmUgY2VydGFpblxuXHQgKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcblx0ICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cblx0ICpcblx0ICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcblx0ICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cblx0ICpcblx0ICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcblx0ICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuXHQgKiAgICBjaXJjdWxhciByZWZlcmVuY2VzLiAob3B0aW9uYWwgLSB0cnVlIGJ5IGRlZmF1bHQpXG5cdCAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cblx0ICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcblx0ICogQHBhcmFtIGBwcm90b3R5cGVgIC0gc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIHVzZWQgd2hlbiBjbG9uaW5nIGFuIG9iamVjdC5cblx0ICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG5cdCAqIEBwYXJhbSBgaW5jbHVkZU5vbkVudW1lcmFibGVgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXNcblx0ICogICAgc2hvdWxkIGJlIGNsb25lZCBhcyB3ZWxsLiBOb24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm90b3R5cGVcblx0ICogICAgY2hhaW4gd2lsbCBiZSBpZ25vcmVkLiAob3B0aW9uYWwgLSBmYWxzZSBieSBkZWZhdWx0KVxuXHQqL1xuXHRmdW5jdGlvbiBjbG9uZShwYXJlbnQsIGNpcmN1bGFyLCBkZXB0aCwgcHJvdG90eXBlLCBpbmNsdWRlTm9uRW51bWVyYWJsZSkge1xuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG5cdCAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuXHQgICAgcHJvdG90eXBlID0gY2lyY3VsYXIucHJvdG90eXBlO1xuXHQgICAgaW5jbHVkZU5vbkVudW1lcmFibGUgPSBjaXJjdWxhci5pbmNsdWRlTm9uRW51bWVyYWJsZTtcblx0ICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXI7XG5cdCAgfVxuXHQgIC8vIG1haW50YWluIHR3byBhcnJheXMgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMsIHdoZXJlIGNvcnJlc3BvbmRpbmcgcGFyZW50c1xuXHQgIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG5cdCAgdmFyIGFsbFBhcmVudHMgPSBbXTtcblx0ICB2YXIgYWxsQ2hpbGRyZW4gPSBbXTtcblx0XG5cdCAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cdFxuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBjaXJjdWxhciA9IHRydWU7XG5cdFxuXHQgIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBkZXB0aCA9IEluZmluaXR5O1xuXHRcblx0ICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cblx0ICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuXHQgICAgLy8gY2xvbmluZyBudWxsIGFsd2F5cyByZXR1cm5zIG51bGxcblx0ICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG5cdCAgICAgIHJldHVybiBudWxsO1xuXHRcblx0ICAgIGlmIChkZXB0aCA9PT0gMClcblx0ICAgICAgcmV0dXJuIHBhcmVudDtcblx0XG5cdCAgICB2YXIgY2hpbGQ7XG5cdCAgICB2YXIgcHJvdG87XG5cdCAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgbmF0aXZlTWFwKCk7XG5cdCAgICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVNldCkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBuYXRpdmVTZXQoKTtcblx0ICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlUHJvbWlzZSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBuYXRpdmVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICBwYXJlbnQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgcmVzb2x2ZShfY2xvbmUodmFsdWUsIGRlcHRoIC0gMSkpO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuXHQgICAgICAgICAgcmVqZWN0KF9jbG9uZShlcnIsIGRlcHRoIC0gMSkpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBbXTtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc1JlZ0V4cChwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuXHQgICAgICBpZiAocGFyZW50Lmxhc3RJbmRleCkgY2hpbGQubGFzdEluZGV4ID0gcGFyZW50Lmxhc3RJbmRleDtcblx0ICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0RhdGUocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuXHQgICAgfSBlbHNlIGlmICh1c2VCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgQnVmZmVyKHBhcmVudC5sZW5ndGgpO1xuXHQgICAgICBwYXJlbnQuY29weShjaGlsZCk7XG5cdCAgICAgIHJldHVybiBjaGlsZDtcblx0ICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSA9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG5cdCAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvKTtcblx0ICAgICAgfVxuXHQgICAgICBlbHNlIHtcblx0ICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblx0ICAgICAgICBwcm90byA9IHByb3RvdHlwZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjaXJjdWxhcikge1xuXHQgICAgICB2YXIgaW5kZXggPSBhbGxQYXJlbnRzLmluZGV4T2YocGFyZW50KTtcblx0XG5cdCAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuXHQgICAgICAgIHJldHVybiBhbGxDaGlsZHJlbltpbmRleF07XG5cdCAgICAgIH1cblx0ICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG5cdCAgICAgIGFsbENoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcblx0ICAgICAgdmFyIGtleUl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcblx0ICAgICAgd2hpbGUodHJ1ZSkge1xuXHQgICAgICAgIHZhciBuZXh0ID0ga2V5SXRlcmF0b3IubmV4dCgpO1xuXHQgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIga2V5Q2hpbGQgPSBfY2xvbmUobmV4dC52YWx1ZSwgZGVwdGggLSAxKTtcblx0ICAgICAgICB2YXIgdmFsdWVDaGlsZCA9IF9jbG9uZShwYXJlbnQuZ2V0KG5leHQudmFsdWUpLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIGNoaWxkLnNldChrZXlDaGlsZCwgdmFsdWVDaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVTZXQpIHtcblx0ICAgICAgdmFyIGl0ZXJhdG9yID0gcGFyZW50LmtleXMoKTtcblx0ICAgICAgd2hpbGUodHJ1ZSkge1xuXHQgICAgICAgIHZhciBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHQgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZW50cnlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuXHQgICAgICAgIGNoaWxkLmFkZChlbnRyeUNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIGkgaW4gcGFyZW50KSB7XG5cdCAgICAgIHZhciBhdHRycztcblx0ICAgICAgaWYgKHByb3RvKSB7XG5cdCAgICAgICAgYXR0cnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGF0dHJzICYmIGF0dHJzLnNldCA9PSBudWxsKSB7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0ICAgICAgY2hpbGRbaV0gPSBfY2xvbmUocGFyZW50W2ldLCBkZXB0aCAtIDEpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdCAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwYXJlbnQpO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAvLyBEb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGNsb25pbmcgYSBzeW1ib2wgYmVjYXVzZSBpdCBpcyBhIHByaW1pdGl2ZSxcblx0ICAgICAgICAvLyBsaWtlIGEgbnVtYmVyIG9yIHN0cmluZy5cblx0ICAgICAgICB2YXIgc3ltYm9sID0gc3ltYm9sc1tpXTtcblx0ICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocGFyZW50LCBzeW1ib2wpO1xuXHQgICAgICAgIGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmVudW1lcmFibGUgJiYgIWluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2hpbGRbc3ltYm9sXSA9IF9jbG9uZShwYXJlbnRbc3ltYm9sXSwgZGVwdGggLSAxKTtcblx0ICAgICAgICBpZiAoIWRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuXHQgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoaWxkLCBzeW1ib2wsIHtcblx0ICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2Vcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpbmNsdWRlTm9uRW51bWVyYWJsZSkge1xuXHQgICAgICB2YXIgYWxsUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBhcmVudCk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsUHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBhbGxQcm9wZXJ0eU5hbWVzW2ldO1xuXHQgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHByb3BlcnR5TmFtZSk7XG5cdCAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2hpbGRbcHJvcGVydHlOYW1lXSA9IF9jbG9uZShwYXJlbnRbcHJvcGVydHlOYW1lXSwgZGVwdGggLSAxKTtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsIHByb3BlcnR5TmFtZSwge1xuXHQgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjaGlsZDtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfY2xvbmUocGFyZW50LCBkZXB0aCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuXHQgKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuXHQgKlxuXHQgKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuXHQgKiB3b3Jrcy5cblx0ICovXG5cdGNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG5cdCAgaWYgKHBhcmVudCA9PT0gbnVsbClcblx0ICAgIHJldHVybiBudWxsO1xuXHRcblx0ICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgIGMucHJvdG90eXBlID0gcGFyZW50O1xuXHQgIHJldHVybiBuZXcgYygpO1xuXHR9O1xuXHRcblx0Ly8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXHRcblx0ZnVuY3Rpb24gX19vYmpUb1N0cihvKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcblx0fVxuXHRjbG9uZS5fX29ialRvU3RyID0gX19vYmpUb1N0cjtcblx0XG5cdGZ1bmN0aW9uIF9faXNEYXRlKG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IERhdGVdJztcblx0fVxuXHRjbG9uZS5fX2lzRGF0ZSA9IF9faXNEYXRlO1xuXHRcblx0ZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcblx0ICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0Y2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXHRcblx0ZnVuY3Rpb24gX19pc1JlZ0V4cChvKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcblx0fVxuXHRjbG9uZS5fX2lzUmVnRXhwID0gX19pc1JlZ0V4cDtcblx0XG5cdGZ1bmN0aW9uIF9fZ2V0UmVnRXhwRmxhZ3MocmUpIHtcblx0ICB2YXIgZmxhZ3MgPSAnJztcblx0ICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG5cdCAgaWYgKHJlLmlnbm9yZUNhc2UpIGZsYWdzICs9ICdpJztcblx0ICBpZiAocmUubXVsdGlsaW5lKSBmbGFncyArPSAnbSc7XG5cdCAgcmV0dXJuIGZsYWdzO1xuXHR9XG5cdGNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXHRcblx0cmV0dXJuIGNsb25lO1xuXHR9KSgpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzkpLkJ1ZmZlcikpXG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKEJ1ZmZlciwgZ2xvYmFsKSB7LyohXG5cdCAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuXHQgKlxuXHQgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cblx0ICogQGxpY2Vuc2UgIE1JVFxuXHQgKi9cblx0LyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblx0XG5cdCd1c2Ugc3RyaWN0J1xuXHRcblx0dmFyIGJhc2U2NCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdHZhciBpZWVlNzU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0dmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKVxuXHRcblx0ZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcblx0ZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuXHRleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblx0XG5cdC8qKlxuXHQgKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuXHQgKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuXHQgKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG5cdCAqXG5cdCAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcblx0ICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuXHQgKlxuXHQgKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG5cdCAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuXHQgKlxuXHQgKiBOb3RlOlxuXHQgKlxuXHQgKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuXHQgKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG5cdCAqXG5cdCAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuXHQgKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cdFxuXHQgKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuXHQgKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cblx0ICovXG5cdEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuXHQgID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcblx0ICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblx0XG5cdC8qXG5cdCAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cblx0ICovXG5cdGV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXHRcblx0ZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcblx0ICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuXHQgICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcblx0ICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuXHQgICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIGZhbHNlXG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcblx0ICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcblx0ICAgID8gMHg3ZmZmZmZmZlxuXHQgICAgOiAweDNmZmZmZmZmXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG5cdCAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcblx0ICB9XG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2Vcblx0ICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG5cdCAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuXHQgICAgaWYgKHRoYXQgPT09IG51bGwpIHtcblx0ICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuXHQgICAgfVxuXHQgICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcblx0ICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuXHQgKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG5cdCAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG5cdCAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG5cdCAqXG5cdCAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG5cdCAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcblx0ICB9XG5cdFxuXHQgIC8vIENvbW1vbiBjYXNlLlxuXHQgIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoXG5cdCAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuXHQgICAgICApXG5cdCAgICB9XG5cdCAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuXHQgIH1cblx0ICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0QnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cdFxuXHQvLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cblx0QnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG5cdCAgcmV0dXJuIGFyclxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdCAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcblx0fVxuXHRcblx0LyoqXG5cdCAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG5cdCAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuXHQgKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG5cdCAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuXHQgKiBCdWZmZXIuZnJvbShidWZmZXIpXG5cdCAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuXHQgKiovXG5cdEJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuXHR9XG5cdFxuXHRpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5cdCAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcblx0ICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcblx0ICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG5cdCAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcblx0ICAgICAgdmFsdWU6IG51bGwsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSlcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcblx0ICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcblx0ICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG5cdCAgYXNzZXJ0U2l6ZShzaXplKVxuXHQgIGlmIChzaXplIDw9IDApIHtcblx0ICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcblx0ICB9XG5cdCAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcblx0ICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcblx0ICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cblx0ICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG5cdCAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG5cdCAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcblx0ICB9XG5cdCAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuXHQgKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG5cdCAqKi9cblx0QnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG5cdCAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuXHQgIGFzc2VydFNpemUoc2l6ZSlcblx0ICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuXHQgIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG5cdCAgICAgIHRoYXRbaV0gPSAwXG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuXHQgKiAqL1xuXHRCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHQgIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxuXHR9XG5cdC8qKlxuXHQgKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cblx0ICovXG5cdEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHQgIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG5cdCAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG5cdCAgICBlbmNvZGluZyA9ICd1dGY4J1xuXHQgIH1cblx0XG5cdCAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcblx0ICB9XG5cdFxuXHQgIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuXHQgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXHRcblx0ICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXHRcblx0ICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcblx0ICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuXHQgICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cblx0ICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuXHQgICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRoYXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG5cdCAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuXHQgIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXHRcblx0ICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG5cdCAgfVxuXHRcblx0ICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuXHQgIH1cblx0XG5cdCAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcblx0ICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG5cdCAgfVxuXHRcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuXHQgICAgdGhhdCA9IGFycmF5XG5cdCAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuXHQgICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG5cdCAgfVxuXHQgIHJldHVybiB0aGF0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuXHQgICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG5cdCAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblx0XG5cdCAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuIHRoYXRcblx0ICAgIH1cblx0XG5cdCAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG5cdCAgICByZXR1cm4gdGhhdFxuXHQgIH1cblx0XG5cdCAgaWYgKG9iaikge1xuXHQgICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcblx0ICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuXHQgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcblx0ICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cblx0ICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcblx0ICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuXHQgIH1cblx0ICByZXR1cm4gbGVuZ3RoIHwgMFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcblx0ICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcblx0ICAgIGxlbmd0aCA9IDBcblx0ICB9XG5cdCAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxuXHR9XG5cdFxuXHRCdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuXHQgIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG5cdH1cblx0XG5cdEJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuXHQgIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuXHQgIH1cblx0XG5cdCAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cdFxuXHQgIHZhciB4ID0gYS5sZW5ndGhcblx0ICB2YXIgeSA9IGIubGVuZ3RoXG5cdFxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuXHQgICAgICB4ID0gYVtpXVxuXHQgICAgICB5ID0gYltpXVxuXHQgICAgICBicmVha1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKHggPCB5KSByZXR1cm4gLTFcblx0ICBpZiAoeSA8IHgpIHJldHVybiAxXG5cdCAgcmV0dXJuIDBcblx0fVxuXHRcblx0QnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuXHQgIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG5cdCAgICBjYXNlICdoZXgnOlxuXHQgICAgY2FzZSAndXRmOCc6XG5cdCAgICBjYXNlICd1dGYtOCc6XG5cdCAgICBjYXNlICdhc2NpaSc6XG5cdCAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgY2FzZSAnYmluYXJ5Jzpcblx0ICAgIGNhc2UgJ2Jhc2U2NCc6XG5cdCAgICBjYXNlICd1Y3MyJzpcblx0ICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgIGNhc2UgJ3V0ZjE2bGUnOlxuXHQgICAgY2FzZSAndXRmLTE2bGUnOlxuXHQgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgfVxuXHR9XG5cdFxuXHRCdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcblx0ICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG5cdCAgfVxuXHRcblx0ICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcblx0ICB9XG5cdFxuXHQgIHZhciBpXG5cdCAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBsZW5ndGggPSAwXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuXHQgICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuXHQgIHZhciBwb3MgPSAwXG5cdCAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcblx0ICAgIHZhciBidWYgPSBsaXN0W2ldXG5cdCAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG5cdCAgICB9XG5cdCAgICBidWYuY29weShidWZmZXIsIHBvcylcblx0ICAgIHBvcyArPSBidWYubGVuZ3RoXG5cdCAgfVxuXHQgIHJldHVybiBidWZmZXJcblx0fVxuXHRcblx0ZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuXHQgICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcblx0ICB9XG5cdCAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG5cdCAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuXHQgIH1cblx0XG5cdCAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcblx0ICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXHRcblx0ICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cblx0ICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXHQgIGZvciAoOzspIHtcblx0ICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcblx0ICAgICAgY2FzZSAnYXNjaWknOlxuXHQgICAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgICBjYXNlICdiaW5hcnknOlxuXHQgICAgICAgIHJldHVybiBsZW5cblx0ICAgICAgY2FzZSAndXRmOCc6XG5cdCAgICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgICAgY2FzZSB1bmRlZmluZWQ6XG5cdCAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG5cdCAgICAgIGNhc2UgJ3VjczInOlxuXHQgICAgICBjYXNlICd1Y3MtMic6XG5cdCAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuXHQgICAgICBjYXNlICd1dGYtMTZsZSc6XG5cdCAgICAgICAgcmV0dXJuIGxlbiAqIDJcblx0ICAgICAgY2FzZSAnaGV4Jzpcblx0ICAgICAgICByZXR1cm4gbGVuID4+PiAxXG5cdCAgICAgIGNhc2UgJ2Jhc2U2NCc6XG5cdCAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuXHQgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0QnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cdFxuXHRmdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2Vcblx0XG5cdCAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG5cdCAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblx0XG5cdCAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG5cdCAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuXHQgIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG5cdCAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG5cdCAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG5cdCAgICBzdGFydCA9IDBcblx0ICB9XG5cdCAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcblx0ICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuXHQgIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuXHQgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICB9XG5cdFxuXHQgIGlmIChlbmQgPD0gMCkge1xuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHRcblx0ICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuXHQgIGVuZCA+Pj49IDBcblx0ICBzdGFydCA+Pj49IDBcblx0XG5cdCAgaWYgKGVuZCA8PSBzdGFydCkge1xuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHRcblx0ICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXHRcblx0ICB3aGlsZSAodHJ1ZSkge1xuXHQgICAgc3dpdGNoIChlbmNvZGluZykge1xuXHQgICAgICBjYXNlICdoZXgnOlxuXHQgICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXHRcblx0ICAgICAgY2FzZSAndXRmOCc6XG5cdCAgICAgIGNhc2UgJ3V0Zi04Jzpcblx0ICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICdhc2NpaSc6XG5cdCAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblx0XG5cdCAgICAgIGNhc2UgJ2xhdGluMSc6XG5cdCAgICAgIGNhc2UgJ2JpbmFyeSc6XG5cdCAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBjYXNlICdiYXNlNjQnOlxuXHQgICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXHRcblx0ICAgICAgY2FzZSAndWNzMic6XG5cdCAgICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcblx0ICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cdFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuXHQgICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG5cdC8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5cdEJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXHRcblx0ZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuXHQgIHZhciBpID0gYltuXVxuXHQgIGJbbl0gPSBiW21dXG5cdCAgYlttXSA9IGlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuXHQgIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuXHQgIGlmIChsZW4gJSAyICE9PSAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG5cdCAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuXHQgIH1cblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDQgIT09IDApIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG5cdCAgfVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcblx0ICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG5cdCAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXNcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuXHQgIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuXHQgIGlmIChsZW4gJSA4ICE9PSAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG5cdCAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuXHQgICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG5cdCAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcblx0ICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuXHQgIH1cblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuXHQgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcblx0ICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcblx0ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG5cdCAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuXHQgIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuXHQgIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcblx0ICB2YXIgc3RyID0gJydcblx0ICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuXHQgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcblx0ICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG5cdCAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG5cdCAgfVxuXHQgIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG5cdCAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG5cdCAgfVxuXHRcblx0ICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgc3RhcnQgPSAwXG5cdCAgfVxuXHQgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcblx0ICB9XG5cdCAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aGlzU3RhcnQgPSAwXG5cdCAgfVxuXHQgIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuXHQgIH1cblx0XG5cdCAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4Jylcblx0ICB9XG5cdFxuXHQgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcblx0ICAgIHJldHVybiAwXG5cdCAgfVxuXHQgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuXHQgICAgcmV0dXJuIC0xXG5cdCAgfVxuXHQgIGlmIChzdGFydCA+PSBlbmQpIHtcblx0ICAgIHJldHVybiAxXG5cdCAgfVxuXHRcblx0ICBzdGFydCA+Pj49IDBcblx0ICBlbmQgPj4+PSAwXG5cdCAgdGhpc1N0YXJ0ID4+Pj0gMFxuXHQgIHRoaXNFbmQgPj4+PSAwXG5cdFxuXHQgIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cdFxuXHQgIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuXHQgIHZhciB5ID0gZW5kIC0gc3RhcnRcblx0ICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblx0XG5cdCAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG5cdCAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG5cdCAgICAgIHggPSB0aGlzQ29weVtpXVxuXHQgICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuXHQgICAgICBicmVha1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKHggPCB5KSByZXR1cm4gLTFcblx0ICBpZiAoeSA8IHgpIHJldHVybiAxXG5cdCAgcmV0dXJuIDBcblx0fVxuXHRcblx0Ly8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuXHQvLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuXHQvL1xuXHQvLyBBcmd1bWVudHM6XG5cdC8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG5cdC8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG5cdC8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuXHQvLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuXHQvLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuXHRmdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcblx0ICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcblx0ICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG5cdCAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuXHQgICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG5cdCAgICBieXRlT2Zmc2V0ID0gMFxuXHQgIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcblx0ICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG5cdCAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcblx0ICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuXHQgIH1cblx0ICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG5cdCAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG5cdCAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcblx0ICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuXHQgIH1cblx0XG5cdCAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcblx0ICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuXHQgIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcblx0ICAgIGlmIChkaXIpIHJldHVybiAtMVxuXHQgICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcblx0ICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG5cdCAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuXHQgICAgZWxzZSByZXR1cm4gLTFcblx0ICB9XG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSB2YWxcblx0ICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG5cdCAgfVxuXHRcblx0ICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuXHQgIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuXHQgICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuXHQgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuIC0xXG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuXHQgICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG5cdCAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgaWYgKGRpcikge1xuXHQgICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuXHQgIH1cblx0XG5cdCAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuXHQgIHZhciBpbmRleFNpemUgPSAxXG5cdCAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcblx0ICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXHRcblx0ICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG5cdCAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuXHQgICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcblx0ICAgICAgICByZXR1cm4gLTFcblx0ICAgICAgfVxuXHQgICAgICBpbmRleFNpemUgPSAyXG5cdCAgICAgIGFyckxlbmd0aCAvPSAyXG5cdCAgICAgIHZhbExlbmd0aCAvPSAyXG5cdCAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG5cdCAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBidWZbaV1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgaVxuXHQgIGlmIChkaXIpIHtcblx0ICAgIHZhciBmb3VuZEluZGV4ID0gLTFcblx0ICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuXHQgICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG5cdCAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuXHQgICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcblx0ICAgICAgICBmb3VuZEluZGV4ID0gLTFcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuXHQgICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuXHQgICAgICAgICAgZm91bmQgPSBmYWxzZVxuXHQgICAgICAgICAgYnJlYWtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIC0xXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuXHQgIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcblx0ICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG5cdCAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuXHQgIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG5cdCAgaWYgKCFsZW5ndGgpIHtcblx0ICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuXHQgIH0gZWxzZSB7XG5cdCAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuXHQgICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuXHQgICAgICBsZW5ndGggPSByZW1haW5pbmdcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG5cdCAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblx0ICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblx0XG5cdCAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcblx0ICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcblx0ICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuXHQgICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG5cdCAgfVxuXHQgIHJldHVybiBpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcblx0ICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuXHQgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG5cdCAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbmNvZGluZyA9ICd1dGY4J1xuXHQgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcblx0ICAgIG9mZnNldCA9IDBcblx0ICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblx0ICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBlbmNvZGluZyA9IG9mZnNldFxuXHQgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcblx0ICAgIG9mZnNldCA9IDBcblx0ICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuXHQgIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuXHQgICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcblx0ICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuXHQgICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG5cdCAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuXHQgICAgfVxuXHQgIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG5cdCAgICApXG5cdCAgfVxuXHRcblx0ICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcblx0ICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblx0XG5cdCAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcblx0ICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG5cdCAgfVxuXHRcblx0ICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXHRcblx0ICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXHQgIGZvciAoOzspIHtcblx0ICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcblx0ICAgICAgY2FzZSAnaGV4Jzpcblx0ICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblx0XG5cdCAgICAgIGNhc2UgJ3V0ZjgnOlxuXHQgICAgICBjYXNlICd1dGYtOCc6XG5cdCAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAnYXNjaWknOlxuXHQgICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBjYXNlICdsYXRpbjEnOlxuXHQgICAgICBjYXNlICdiaW5hcnknOlxuXHQgICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAnYmFzZTY0Jzpcblx0ICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuXHQgICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXHRcblx0ICAgICAgY2FzZSAndWNzMic6XG5cdCAgICAgIGNhc2UgJ3Vjcy0yJzpcblx0ICAgICAgY2FzZSAndXRmMTZsZSc6XG5cdCAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcblx0ICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cdFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuXHQgICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcblx0ICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgdHlwZTogJ0J1ZmZlcicsXG5cdCAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdCAgdmFyIHJlcyA9IFtdXG5cdFxuXHQgIHZhciBpID0gc3RhcnRcblx0ICB3aGlsZSAoaSA8IGVuZCkge1xuXHQgICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuXHQgICAgdmFyIGNvZGVQb2ludCA9IG51bGxcblx0ICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuXHQgICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcblx0ICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG5cdCAgICAgIDogMVxuXHRcblx0ICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcblx0ICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXHRcblx0ICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcblx0ICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcblx0ICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG5cdCAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG5cdCAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcblx0ICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG5cdCAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcblx0ICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cblx0ICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cblx0ICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG5cdCAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcblx0ICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG5cdCAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG5cdCAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcblx0ICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuXHQgICAgICBjb2RlUG9pbnQgPSAweEZGRkRcblx0ICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcblx0ICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG5cdCAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG5cdCAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG5cdCAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcblx0ICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcblx0ICAgIH1cblx0XG5cdCAgICByZXMucHVzaChjb2RlUG9pbnQpXG5cdCAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2Vcblx0ICB9XG5cdFxuXHQgIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxuXHR9XG5cdFxuXHQvLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcblx0Ly8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuXHQvLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG5cdHZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXHRcblx0ZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG5cdCAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG5cdCAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuXHQgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG5cdCAgfVxuXHRcblx0ICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG5cdCAgdmFyIHJlcyA9ICcnXG5cdCAgdmFyIGkgPSAwXG5cdCAgd2hpbGUgKGkgPCBsZW4pIHtcblx0ICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuXHQgICAgICBTdHJpbmcsXG5cdCAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcblx0ICAgIClcblx0ICB9XG5cdCAgcmV0dXJuIHJlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgcmV0ID0gJydcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdFxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuXHQgIH1cblx0ICByZXR1cm4gcmV0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcblx0ICB2YXIgcmV0ID0gJydcblx0ICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cdFxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG5cdCAgfVxuXHQgIHJldHVybiByZXRcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuXHQgIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cdFxuXHQgIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcblx0ICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cdFxuXHQgIHZhciBvdXQgPSAnJ1xuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG5cdCAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuXHQgIH1cblx0ICByZXR1cm4gb3V0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG5cdCAgdmFyIHJlcyA9ICcnXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuXHQgICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG5cdCAgfVxuXHQgIHJldHVybiByZXNcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG5cdCAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG5cdCAgc3RhcnQgPSB+fnN0YXJ0XG5cdCAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXHRcblx0ICBpZiAoc3RhcnQgPCAwKSB7XG5cdCAgICBzdGFydCArPSBsZW5cblx0ICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuXHQgIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcblx0ICAgIHN0YXJ0ID0gbGVuXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDwgMCkge1xuXHQgICAgZW5kICs9IGxlblxuXHQgICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcblx0ICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuXHQgICAgZW5kID0gbGVuXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cdFxuXHQgIHZhciBuZXdCdWZcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcblx0ICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG5cdCAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcblx0ICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gbmV3QnVmXG5cdH1cblx0XG5cdC8qXG5cdCAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcblx0ICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcblx0ICB9XG5cdFxuXHQgIHJldHVybiB2YWxcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHQgIH1cblx0XG5cdCAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuXHQgIHZhciBtdWwgPSAxXG5cdCAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gdGhpc1tvZmZzZXRdXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cdFxuXHQgIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuXHQgICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG5cdCAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuXHQgICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuXHQgICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG5cdCAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG5cdCAgICB0aGlzW29mZnNldCArIDNdKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcblx0ICB9XG5cdCAgbXVsICo9IDB4ODBcblx0XG5cdCAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblx0XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICB2YXIgaSA9IGJ5dGVMZW5ndGhcblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cblx0ICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcblx0ICB9XG5cdCAgbXVsICo9IDB4ODBcblx0XG5cdCAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblx0XG5cdCAgcmV0dXJuIHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuXHQgIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcblx0ICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcblx0ICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcblx0ICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG5cdCAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG5cdCAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHRcblx0ICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuXHQgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcblx0ICAgICh0aGlzW29mZnNldCArIDNdKVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXHQgIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblx0ICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG5cdCAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuXHQgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG5cdCAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuXHQgIHZhbHVlID0gK3ZhbHVlXG5cdCAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuXHQgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcblx0ICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuXHQgIH1cblx0XG5cdCAgdmFyIG11bCA9IDFcblx0ICB2YXIgaSA9IDBcblx0ICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcblx0ICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuXHQgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG5cdCAgfVxuXHRcblx0ICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG5cdCAgdmFyIG11bCA9IDFcblx0ICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcblx0ICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG5cdCAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICByZXR1cm4gb2Zmc2V0ICsgMVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcblx0ICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuXHQgIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcblx0ICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG5cdCAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuXHQgIH1cblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDJcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG5cdCAgfVxuXHQgIHJldHVybiBvZmZzZXQgKyAyXG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuXHQgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuXHQgIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcblx0ICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcblx0ICB9XG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcblx0ICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSB7XG5cdCAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cdFxuXHQgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG5cdCAgfVxuXHRcblx0ICB2YXIgaSA9IDBcblx0ICB2YXIgbXVsID0gMVxuXHQgIHZhciBzdWIgPSAwXG5cdCAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcblx0ICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG5cdCAgICAgIHN1YiA9IDFcblx0ICAgIH1cblx0ICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXHRcblx0ICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuXHQgIH1cblx0XG5cdCAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuXHQgIHZhciBtdWwgPSAxXG5cdCAgdmFyIHN1YiA9IDBcblx0ICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG5cdCAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG5cdCAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuXHQgICAgICBzdWIgPSAxXG5cdCAgICB9XG5cdCAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcblx0ICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG5cdCAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG5cdCAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcblx0ICByZXR1cm4gb2Zmc2V0ICsgMVxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDJcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuXHQgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgMlxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICB2YWx1ZSA9ICt2YWx1ZVxuXHQgIG9mZnNldCA9IG9mZnNldCB8IDBcblx0ICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcblx0ICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcblx0ICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcblx0ICB9XG5cdCAgcmV0dXJuIG9mZnNldCArIDRcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgdmFsdWUgPSArdmFsdWVcblx0ICBvZmZzZXQgPSBvZmZzZXQgfCAwXG5cdCAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG5cdCAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG5cdCAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG5cdCAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG5cdCAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuXHQgICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG5cdCAgfSBlbHNlIHtcblx0ICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuXHQgIH1cblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuXHQgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcblx0ICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuXHQgIGlmICghbm9Bc3NlcnQpIHtcblx0ICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuXHQgIH1cblx0ICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcblx0ICByZXR1cm4gb2Zmc2V0ICsgNFxuXHR9XG5cdFxuXHRCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG5cdCAgaWYgKCFub0Fzc2VydCkge1xuXHQgICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcblx0ICB9XG5cdCAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG5cdCAgcmV0dXJuIG9mZnNldCArIDhcblx0fVxuXHRcblx0QnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcblx0ICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG5cdH1cblx0XG5cdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG5cdCAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcblx0fVxuXHRcblx0Ly8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuXHRCdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG5cdCAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG5cdCAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuXHQgIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcblx0ICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcblx0ICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblx0XG5cdCAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG5cdCAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG5cdCAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cdFxuXHQgIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcblx0ICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG5cdCAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG5cdCAgfVxuXHQgIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcblx0ICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblx0XG5cdCAgLy8gQXJlIHdlIG9vYj9cblx0ICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG5cdCAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG5cdCAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuXHQgIH1cblx0XG5cdCAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cdCAgdmFyIGlcblx0XG5cdCAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG5cdCAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcblx0ICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cdCAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuXHQgICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuXHQgICAgICB0YXJnZXQsXG5cdCAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcblx0ICAgICAgdGFyZ2V0U3RhcnRcblx0ICAgIClcblx0ICB9XG5cdFxuXHQgIHJldHVybiBsZW5cblx0fVxuXHRcblx0Ly8gVXNhZ2U6XG5cdC8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuXHQvLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcblx0Ly8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5cdEJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcblx0ICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuXHQgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuXHQgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgZW5jb2RpbmcgPSBzdGFydFxuXHQgICAgICBzdGFydCA9IDBcblx0ICAgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgZW5jb2RpbmcgPSBlbmRcblx0ICAgICAgZW5kID0gdGhpcy5sZW5ndGhcblx0ICAgIH1cblx0ICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcblx0ICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcblx0ICAgICAgICB2YWwgPSBjb2RlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG5cdCAgICB9XG5cdCAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG5cdCAgICB2YWwgPSB2YWwgJiAyNTVcblx0ICB9XG5cdFxuXHQgIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuXHQgIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuXHQgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG5cdCAgfVxuXHRcblx0ICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG5cdCAgICByZXR1cm4gdGhpc1xuXHQgIH1cblx0XG5cdCAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuXHQgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblx0XG5cdCAgaWYgKCF2YWwpIHZhbCA9IDBcblx0XG5cdCAgdmFyIGlcblx0ICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcblx0ICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcblx0ICAgICAgdGhpc1tpXSA9IHZhbFxuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuXHQgICAgICA/IHZhbFxuXHQgICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcblx0ICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG5cdCAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpc1xuXHR9XG5cdFxuXHQvLyBIRUxQRVIgRlVOQ1RJT05TXG5cdC8vID09PT09PT09PT09PT09PT1cblx0XG5cdHZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXHRcblx0ZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuXHQgIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuXHQgIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcblx0ICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG5cdCAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcblx0ICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3Rcblx0ICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcblx0ICAgIHN0ciA9IHN0ciArICc9J1xuXHQgIH1cblx0ICByZXR1cm4gc3RyXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuXHQgIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcblx0ICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0hleCAobikge1xuXHQgIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuXHQgIHJldHVybiBuLnRvU3RyaW5nKDE2KVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuXHQgIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcblx0ICB2YXIgY29kZVBvaW50XG5cdCAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcblx0ICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblx0ICB2YXIgYnl0ZXMgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXHRcblx0ICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcblx0ICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG5cdCAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG5cdCAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuXHQgICAgICAgIC8vIG5vIGxlYWQgeWV0XG5cdCAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuXHQgICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuXHQgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuXHQgICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuXHQgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gdmFsaWQgbGVhZFxuXHQgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblx0XG5cdCAgICAgICAgY29udGludWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuXHQgICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG5cdCAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG5cdCAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG5cdCAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcblx0ICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuXHQgICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG5cdCAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuXHQgICAgfVxuXHRcblx0ICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cdFxuXHQgICAgLy8gZW5jb2RlIHV0Zjhcblx0ICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcblx0ICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcblx0ICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cdCAgICAgIGJ5dGVzLnB1c2goXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG5cdCAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcblx0ICAgICAgKVxuXHQgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcblx0ICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuXHQgICAgICApXG5cdCAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG5cdCAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuXHQgICAgICBieXRlcy5wdXNoKFxuXHQgICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcblx0ICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG5cdCAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuXHQgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG5cdCAgICAgIClcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50Jylcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBieXRlc1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuXHQgIHZhciBieXRlQXJyYXkgPSBbXVxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG5cdCAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cblx0ICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcblx0ICB9XG5cdCAgcmV0dXJuIGJ5dGVBcnJheVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuXHQgIHZhciBjLCBoaSwgbG9cblx0ICB2YXIgYnl0ZUFycmF5ID0gW11cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cdFxuXHQgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG5cdCAgICBoaSA9IGMgPj4gOFxuXHQgICAgbG8gPSBjICUgMjU2XG5cdCAgICBieXRlQXJyYXkucHVzaChsbylcblx0ICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGJ5dGVBcnJheVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcblx0ICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcblx0ICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuXHQgIH1cblx0ICByZXR1cm4gaVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc25hbiAodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KS5CdWZmZXIsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0J1xuXHRcblx0ZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXHRcblx0dmFyIGxvb2t1cCA9IFtdXG5cdHZhciByZXZMb29rdXAgPSBbXVxuXHR2YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cdFxuXHR2YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgIGxvb2t1cFtpXSA9IGNvZGVbaV1cblx0ICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcblx0fVxuXHRcblx0cmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5cdHJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXHRcblx0ZnVuY3Rpb24gcGxhY2VIb2xkZXJzQ291bnQgKGI2NCkge1xuXHQgIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdCAgaWYgKGxlbiAlIDQgPiAwKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuXHQgIH1cblx0XG5cdCAgLy8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcblx0ICAvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG5cdCAgLy8gcmVwcmVzZW50IG9uZSBieXRlXG5cdCAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG5cdCAgLy8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuXHQgIHJldHVybiBiNjRbbGVuIC0gMl0gPT09ICc9JyA/IDIgOiBiNjRbbGVuIC0gMV0gPT09ICc9JyA/IDEgOiAwXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuXHQgIC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHQgIHJldHVybiBiNjQubGVuZ3RoICogMyAvIDQgLSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcblx0ICB2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXHQgIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdCAgcGxhY2VIb2xkZXJzID0gcGxhY2VIb2xkZXJzQ291bnQoYjY0KVxuXHRcblx0ICBhcnIgPSBuZXcgQXJyKGxlbiAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXHRcblx0ICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG5cdCAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cdFxuXHQgIHZhciBMID0gMFxuXHRcblx0ICBmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7XG5cdCAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cblx0ICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcblx0ICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkge1xuXHQgICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG5cdCAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG5cdCAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcblx0ICB9XG5cdFxuXHQgIHJldHVybiBhcnJcblx0fVxuXHRcblx0ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcblx0ICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG5cdCAgdmFyIHRtcFxuXHQgIHZhciBvdXRwdXQgPSBbXVxuXHQgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG5cdCAgICB0bXAgPSAodWludDhbaV0gPDwgMTYpICsgKHVpbnQ4W2kgKyAxXSA8PCA4KSArICh1aW50OFtpICsgMl0pXG5cdCAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcblx0ICB9XG5cdCAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuXHQgIHZhciB0bXBcblx0ICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG5cdCAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdCAgdmFyIG91dHB1dCA9ICcnXG5cdCAgdmFyIHBhcnRzID0gW11cblx0ICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblx0XG5cdCAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcblx0ICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG5cdCAgfVxuXHRcblx0ICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG5cdCAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcblx0ICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXVxuXHQgICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cblx0ICAgIG91dHB1dCArPSAnPT0nXG5cdCAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG5cdCAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAxMF1cblx0ICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdXG5cdCAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuXHQgICAgb3V0cHV0ICs9ICc9J1xuXHQgIH1cblx0XG5cdCAgcGFydHMucHVzaChvdXRwdXQpXG5cdFxuXHQgIHJldHVybiBwYXJ0cy5qb2luKCcnKVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuXHQgIHZhciBlLCBtXG5cdCAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcblx0ICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuXHQgIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuXHQgIHZhciBuQml0cyA9IC03XG5cdCAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuXHQgIHZhciBkID0gaXNMRSA/IC0xIDogMVxuXHQgIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cdFxuXHQgIGkgKz0gZFxuXHRcblx0ICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuXHQgIHMgPj49ICgtbkJpdHMpXG5cdCAgbkJpdHMgKz0gZUxlblxuXHQgIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cdFxuXHQgIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG5cdCAgZSA+Pj0gKC1uQml0cylcblx0ICBuQml0cyArPSBtTGVuXG5cdCAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblx0XG5cdCAgaWYgKGUgPT09IDApIHtcblx0ICAgIGUgPSAxIC0gZUJpYXNcblx0ICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcblx0ICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG5cdCAgICBlID0gZSAtIGVCaWFzXG5cdCAgfVxuXHQgIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG5cdH1cblx0XG5cdGV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcblx0ICB2YXIgZSwgbSwgY1xuXHQgIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG5cdCAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcblx0ICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcblx0ICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG5cdCAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuXHQgIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuXHQgIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cdFxuXHQgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cdFxuXHQgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG5cdCAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcblx0ICAgIGUgPSBlTWF4XG5cdCAgfSBlbHNlIHtcblx0ICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuXHQgICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuXHQgICAgICBlLS1cblx0ICAgICAgYyAqPSAyXG5cdCAgICB9XG5cdCAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcblx0ICAgICAgdmFsdWUgKz0gcnQgLyBjXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcblx0ICAgIH1cblx0ICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuXHQgICAgICBlKytcblx0ICAgICAgYyAvPSAyXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG5cdCAgICAgIG0gPSAwXG5cdCAgICAgIGUgPSBlTWF4XG5cdCAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG5cdCAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuXHQgICAgICBlID0gZSArIGVCaWFzXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcblx0ICAgICAgZSA9IDBcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cdFxuXHQgIGUgPSAoZSA8PCBtTGVuKSB8IG1cblx0ICBlTGVuICs9IG1MZW5cblx0ICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cdFxuXHQgIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcImJhclwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwiYmFyXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5jbGlja1xuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInZhbHVlXCIsXG5cdCAgICBzdHlsZTogKHtcblx0ICAgICAgd2lkdGg6IF92bS5zZWxmVmFsdWUgKiAxMDAgKyAnJSdcblx0ICAgIH0pXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcInRodW1iXCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJ0aHVtYlwiLFxuXHQgICAgc3R5bGU6ICh7XG5cdCAgICAgIGxlZnQ6IF92bS5zZWxmVmFsdWUgKiAxMDAgKyAnJSdcblx0ICAgIH0pXG5cdCAgfSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9jYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jYWNoZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWNoZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVtYWluOiBfY2FjaGUyLmRlZmF1bHQudGltZVJlbWFpblxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBwcm9wczoge1xuXHQgICAgZHVyYXRpb246IHtcblx0ICAgICAgZGVmYXVsdDogMCxcblx0ICAgICAgdHlwZTogTnVtYmVyXG5cdCAgICB9LFxuXHQgICAgY3VycmVudFRpbWU6IHtcblx0ICAgICAgZGVmYXVsdDogMCxcblx0ICAgICAgdHlwZTogTnVtYmVyXG5cdCAgICB9XG5cdCAgfSxcblx0ICBmaWx0ZXJzOiB7XG5cdCAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKHRpbWVzdGFtcCkge1xuXHQgICAgICByZXR1cm4gKDAsIF91dGlscy50aW1lc3RhbXAydGltZXN0cikodGltZXN0YW1wLCB0cnVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICByZW1haW46IGZ1bmN0aW9uIHJlbWFpbih2YWwpIHtcblx0ICAgICAgX2NhY2hlMi5kZWZhdWx0LnRpbWVSZW1haW4gPSB2YWw7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIGNhY2hlTWFwID0ge1xuXHQgIGxyY0Zvcm1hdDoge30sXG5cdCAgbHlyaWM6IHt9LFxuXHQgIGVkaXRpbmc6IHtcblx0ICAgIGRlZmF1bHQ6IHRydWVcblx0ICB9LFxuXHQgIGx5cmljQXJyYXk6IHtcblx0ICAgIGRlZmF1bHQ6IFtdXG5cdCAgfSxcblx0ICB0aW1lUmVtYWluOiB7XG5cdCAgICBkZWZhdWx0OiBmYWxzZVxuXHQgIH0sXG5cdCAgdXNlck5hbWU6IHtcblx0ICAgIGRlZmF1bHQ6ICcnXG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIGNhY2hlT2JqID0ge307XG5cdE9iamVjdC5rZXlzKGNhY2hlTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgdmFyIGNvbmZpZyA9IGNhY2hlTWFwW3Byb3BdO1xuXHQgIGNhY2hlT2JqW3Byb3BdID0gX3V0aWxzLmNhY2hlLmdldChjb25maWcubmFtZSB8fCBwcm9wLCBjb25maWcuZGVmYXVsdCB8fCAnJyk7XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbmV3IFByb3h5KGNhY2hlT2JqLCB7XG5cdCAgc2V0OiBmdW5jdGlvbiBzZXQob2JqLCBwcm9wLCB2YWx1ZSkge1xuXHQgICAgdmFyIGNvbmZpZyA9IGNhY2hlTWFwW3Byb3BdO1xuXHQgICAgX3V0aWxzLmNhY2hlLnNldChjb25maWcubmFtZSB8fCBwcm9wLCB2YWx1ZSk7XG5cdCAgICBvYmpbcHJvcF0gPSB2YWx1ZTtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgnc3BhbicsIHtcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLnJlbWFpbiA9ICFfdm0ucmVtYWluXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbKF92bS5yZW1haW4pID8gW1wiXFxuICAgICAgLVwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoKF92bS5kdXJhdGlvbiAtIF92bS5jdXJyZW50VGltZSkpKSArIFwiXFxuICAgIFwiXSA6IFtcIlxcbiAgICAgIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmN1cnJlbnRUaW1lKSkgKyBcIlxcbiAgICBcIl0sIFwiIFwiXSksIFwiXFxuICAvIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmR1cmF0aW9uKSkgKyBcIlxcblwiXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwic2hvd1wiLFxuXHQgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuXHQgICAgICB2YWx1ZTogKF92bS5zcmMubGVuZ3RoKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJzcmMubGVuZ3RoXCJcblx0ICAgIH1dLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwicm9vdFwiLFxuXHQgICAgY2xhc3M6IHtcblx0ICAgICAgbW9iaWxlOiBfdm0uaXNNb2JpbGVcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcIm1vdXNlb3ZlclwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uaG92ZXIgPSB0cnVlXG5cdCAgICAgIH0sXG5cdCAgICAgIFwibW91c2VsZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uaG92ZXIgPSBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwicGxheWVyXCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBcIltTUEFDRV1cIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLnBhdXNlZCA9ICFfdm0ucGF1c2VkXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbKF92bS5wYXVzZWQpID8gX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbGF5XCJcblx0ICB9KSA6IF92bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tcGF1c2VcIlxuXHQgIH0pLCBcIiBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBcIltMRUZUXVwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJGVtaXQoJ2JhY2t3YXJkJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWJhY2t3YXJkXCJcblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBcIltSSUdIVF1cIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRlbWl0KCdmb3J3YXJkJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWZvcndhcmRcIlxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3JhbmdlJywge1xuXHQgICAgcmVmOiBcIm11c2ljUmFuZ2VcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcInJhbmdlIG11c2ljXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInZhbHVlXCI6IF92bS5wcm9jZXNzXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJzZWVrXCI6IF92bS5zZWVrXG5cdCAgICB9XG5cdCAgfSksIFwiIFwiLCAoIV92bS5pc01vYmlsZSkgPyBfdm0uX2goJ3RpbWUtcGFuZWwnLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImR1cmF0aW9uXCI6IF92bS5kdXJhdGlvbixcblx0ICAgICAgXCJjdXJyZW50LXRpbWVcIjogX3ZtLmN1cnJlbnRUaW1lXG5cdCAgICB9XG5cdCAgfSkgOiBfdm0uX2UoKV0pLCBcIiBcIiwgX3ZtLl9oKCd0cmFuc2l0aW9uJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJuYW1lXCI6IFwicGxheWVyLW1vcmVcIlxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwic2hvd1wiLFxuXHQgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuXHQgICAgICB2YWx1ZTogKF92bS5pc01vYmlsZSB8fCBfdm0uaG92ZXIpLFxuXHQgICAgICBleHByZXNzaW9uOiBcImlzTW9iaWxlIHx8IGhvdmVyXCJcblx0ICAgIH1dLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwibW9yZVwiXG5cdCAgfSwgWyhfdm0uaXNNb2JpbGUpID8gX3ZtLl9oKCd0aW1lLXBhbmVsJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG5cdCAgICAgIFwiY3VycmVudC10aW1lXCI6IF92bS5jdXJyZW50VGltZVxuXHQgICAgfVxuXHQgIH0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInNvdW5kXCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0ubXV0ZWQgPSAhX3ZtLm11dGVkXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbKF92bS5tdXRlZCB8fCBfdm0udm9sdW1lID09IDApID8gX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi12b2x1bWUtb2ZmXCJcblx0ICB9KSA6IF92bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLXVwXCJcblx0ICB9KSwgXCIgXCJdKSwgXCIgXCIsIF92bS5faCgncmFuZ2UnLCB7XG5cdCAgICByZWY6IFwic291bmRSYW5nZVwiLFxuXHQgICAgc3RhdGljQ2xhc3M6IFwicmFuZ2Ugdm9sdW1lXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInZhbHVlXCI6IF92bS52b2x1bWVcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcInNlZWtcIjogX3ZtLnZvbHVtZVNlZWssXG5cdCAgICAgIFwiZHJhZy1zZWVrXCI6IF92bS52b2x1bWVTZWVrXG5cdCAgICB9XG5cdCAgfSldKV0pXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1Milcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTFjYWNmNTNkXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwidWwubHlyaWNzW2RhdGEtdi0xY2FjZjUzZF17bGlzdC1zdHlsZS10eXBlOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQtY29sb3I6I2YxZjFmMX11bC5seXJpY3M+bGlbZGF0YS12LTFjYWNmNTNkXXttaW4taGVpZ2h0OjQwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzA0NGQ5ODtwYWRkaW5nOjEwcHggMH11bC5seXJpY3M+bGkuY3VyW2RhdGEtdi0xY2FjZjUzZF17Y29sb3I6IzA0NGQ5ODt0ZXh0LXNoYWRvdzoxcHggMXB4IDFweCAjYWFhO2JhY2tncm91bmQtY29sb3I6I2ZiZmJmYn11bC5seXJpY3M+bGk6aG92ZXIgLmNvbmNlYWxbZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5OmlubGluZS1ibG9ja311bC5seXJpY3M+bGkgLmNvbmNlYWxbZGF0YS12LTFjYWNmNTNkXXtkaXNwbGF5Om5vbmV9dWwubHlyaWNzPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF0sdWwubHlyaWNzPmxpLnVuc29ydGVkW2RhdGEtdi0xY2FjZjUzZF17YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxfXVsLmx5cmljcz5saS5kaXZpc2lvbltkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTttaW4taGVpZ2h0OmF1dG87cGFkZGluZzoycHggMDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcn11bC5seXJpY3MuZWRpdGluZz5saVtkYXRhLXYtMWNhY2Y1M2Rde3BhZGRpbmc6MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH11bC5seXJpY3MuZWRpdGluZz5saS5kaXZpc2lvbltkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo0cHggMH11bC5seXJpY3MuZWRpdGluZz5saSAudGltZXN0YW1wW2RhdGEtdi0xY2FjZjUzZF17Y29sb3I6IzdjOWZiYjt3aWR0aDo2MHB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OicuJ311bC5seXJpY3MuZWRpdGluZz5saSAuY29udGVudFtkYXRhLXYtMWNhY2Y1M2Rdey1tcy1mbGV4OjE7ZmxleDoxfXVsLmx5cmljcy5lZGl0aW5nPmxpIC5pY29uLWJ0bltkYXRhLXYtMWNhY2Y1M2Rde3BhZGRpbmctbGVmdDo0cHg7cGFkZGluZy1yaWdodDo0cHh9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmNvbnRlbnRbZGF0YS12LTFjYWNmNTNkXSx1bC5seXJpY3MuZWRpdGluZz5saSAuaWNvbi1idG5bZGF0YS12LTFjYWNmNTNkXSx1bC5seXJpY3MuZWRpdGluZz5saSAudGltZXN0YW1wW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZy10b3A6MTBweDtwYWRkaW5nLWJvdHRvbToxMHB4fXVsLmx5cmljcy5lZGl0aW5nPmxpIGlucHV0W2RhdGEtdi0xY2FjZjUzZF17dGV4dC1hbGlnbjpjZW50ZXI7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZDBkYWU0fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfbHJjS2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX2NhY2hlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NhY2hlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhY2hlKTtcblx0XG5cdHZhciBfdG1lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfdG1lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG1lbnUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfSAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBpbmRleDogLTEsXG5cdCAgICAgIGVkaXRpbmdJbmRleDogLTEsXG5cdCAgICAgIGVkaXRpbmdUZXh0SW5kZXg6IC0xLFxuXHQgICAgICBzY3JvbGxlcjogbnVsbFxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBwcm9wczoge1xuXHQgICAgcnVubmVyOiB7XG5cdCAgICAgIHR5cGU6IF9scmNLaXQuUnVubmVyLFxuXHQgICAgICBkZWZhdWx0OiBuZXcgX2xyY0tpdC5SdW5uZXIoKVxuXHQgICAgfSxcblx0ICAgIHBsYXl0bzoge1xuXHQgICAgICB0eXBlOiBGdW5jdGlvbixcblx0ICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fVxuXHQgICAgfSxcblx0ICAgIGVkaXRpbmc6IHtcblx0ICAgICAgdHlwZTogQm9vbGVhbixcblx0ICAgICAgZGVmYXVsdDogX2NhY2hlMi5kZWZhdWx0LmVkaXRpbmdcblx0ICAgIH0sXG5cdCAgICBseXJpY0FycmF5OiB7XG5cdCAgICAgIHR5cGU6IEFycmF5LFxuXHQgICAgICBkZWZhdWx0OiBbXVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWV0aG9kczoge1xuXHQgICAgZWRpdE1lbnU6IGZ1bmN0aW9uIGVkaXRNZW51KGluZGV4KSB7XG5cdCAgICAgIC8vIFRPRE9cblx0ICAgIH0sXG5cdCAgICBleGl0RWRpdDogZnVuY3Rpb24gZXhpdEVkaXQoKSB7XG5cdCAgICAgIHRoaXMuZWRpdGluZ0luZGV4ID0gLTE7XG5cdCAgICAgIHRoaXMuZWRpdGluZ1RleHRJbmRleCA9IC0xO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMuZWRpdGluZ0luZGV4ID0gaW5kZXg7XG5cdCAgICB9LFxuXHQgICAgZWRpdFRleHQ6IGZ1bmN0aW9uIGVkaXRUZXh0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMuZWRpdGluZ1RleHRJbmRleCA9IGluZGV4O1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShpbmRleCkge1xuXHQgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgfSxcblx0ICAgIHJlbW92ZVRleHQ6IGZ1bmN0aW9uIHJlbW92ZVRleHQoaW5kZXgpIHtcblx0ICAgICAgdGhpcy5seXJpY0FycmF5LnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgfSxcblx0ICAgIGluc2VydDogZnVuY3Rpb24gaW5zZXJ0KGluZGV4KSB7XG5cdCAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3Muc3BsaWNlKGluZGV4ICsgMSwgMCwge1xuXHQgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wLFxuXHQgICAgICAgIGNvbnRlbnQ6IHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLmNvbnRlbnRcblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpO1xuXHQgICAgfSxcblx0ICAgIGluc2VydFRleHQ6IGZ1bmN0aW9uIGluc2VydFRleHQoaW5kZXgpIHtcblx0ICAgICAgdGhpcy5seXJpY0FycmF5LnNwbGljZShpbmRleCArIDEsIDAsIHRoaXMubHlyaWNBcnJheVtpbmRleF0pO1xuXHQgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgIH0sXG5cdCAgICByZW1vdmVUaW1lc3RhbXA6IGZ1bmN0aW9uIHJlbW92ZVRpbWVzdGFtcChpbmRleCkge1xuXHQgICAgICB2YXIgX2x5cmljQXJyYXk7XG5cdFxuXHQgICAgICB2YXIgbHlyaWNzID0gdGhpcy5ydW5uZXIubHJjLmx5cmljcztcblx0ICAgICAgdmFyIHJlbW92ZUx5cmljcyA9IGx5cmljcy5zcGxpY2UoaW5kZXgsIGx5cmljcy5sZW5ndGggLSBpbmRleCkubWFwKGZ1bmN0aW9uIChseXJpYykge1xuXHQgICAgICAgIHJldHVybiBseXJpYy5jb250ZW50O1xuXHQgICAgICB9KTtcblx0ICAgICAgKF9seXJpY0FycmF5ID0gdGhpcy5seXJpY0FycmF5KS5zcGxpY2UuYXBwbHkoX2x5cmljQXJyYXksIFswLCAwXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlbW92ZUx5cmljcykpKTtcblx0ICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICB9LFxuXHQgICAgc2V0VGltZXN0YW1wOiBmdW5jdGlvbiBzZXRUaW1lc3RhbXAoaW5kZXgpIHtcblx0ICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy4kcGFyZW50LiRyZWZzLnBsYXllci5jdXJyZW50VGltZTtcblx0ICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSAwKSB7XG5cdCAgICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wID0gY3VycmVudFRpbWU7XG5cdCAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZXRUaW1lc3RhbXBUZXh0OiBmdW5jdGlvbiBzZXRUaW1lc3RhbXBUZXh0KGluZGV4KSB7XG5cdCAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuJHBhcmVudC4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWU7XG5cdCAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gMCAmJiB0aGlzLmx5cmljQXJyYXkubGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5ydW5uZXIubHJjLmx5cmljcy5wdXNoKHtcblx0ICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudFRpbWUsXG5cdCAgICAgICAgICBjb250ZW50OiB0aGlzLmx5cmljQXJyYXlbaW5kZXhdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdGhpcy5yZW1vdmVUZXh0KGluZGV4KTtcblx0ICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNjcm9sbFRvQ3VycmVudEx5cmljOiBmdW5jdGlvbiBzY3JvbGxUb0N1cnJlbnRMeXJpYygpIHtcblx0ICAgICAgdmFyIGZvcmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblx0XG5cdCAgICAgIHZhciByb290ID0gdGhpcy4kZWw7XG5cdCAgICAgIHZhciBjdXIgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jdXInKTtcblx0ICAgICAgaWYgKGN1cikge1xuXHQgICAgICAgIHZhciBoZWlnaHQgPSByb290LmNsaWVudEhlaWdodDtcblx0ICAgICAgICB2YXIgdG9wID0gY3VyLm9mZnNldFRvcCAtIGhlaWdodCAvIDI7XG5cdCAgICAgICAgdGhpcy5zY3JvbGxlci5zY3JvbGxUbyh0b3AsIGZvcmNlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgZmlsdGVyczoge1xuXHQgICAgdGltZTogX3V0aWxzLnRpbWVzdGFtcDJ0aW1lc3RyXG5cdCAgfSxcblx0ICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB0aGlzLiRvbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcblx0ICAgICAgX3RoaXMucnVubmVyLnRpbWVVcGRhdGUodGltZXN0YW1wKTtcblx0ICAgICAgX3RoaXMuaW5kZXggPSBfdGhpcy5ydW5uZXIuY3VySW5kZXgoKTtcblx0ICAgICAgX3RoaXMuc2Nyb2xsVG9DdXJyZW50THlyaWMoKTtcblx0ICAgIH0pLiRvbigndXBkYXRlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5ydW5uZXIubHJjVXBkYXRlKCk7XG5cdCAgICAgICRBcHAubHJjRm9ybWF0ID0gX3RoaXMucnVubmVyLmxyYy50b1N0cmluZygpO1xuXHQgICAgICAkQXBwLmx5cmljQXJyYXkgPSBfdGhpcy5seXJpY0FycmF5O1xuXHQgICAgfSkuJG9uKCdwcmV2bHlyaWMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnJlbW92ZVRpbWVzdGFtcChfdGhpcy5ydW5uZXIubHJjLmx5cmljcy5sZW5ndGggLSAxKTtcblx0ICAgIH0pLiRvbignbmV4dGx5cmljJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zZXRUaW1lc3RhbXBUZXh0KDApO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5zY3JvbGxlciA9IG5ldyBfdXRpbHMuU2Nyb2xsZXIodGhpcy4kZWwpO1xuXHRcblx0ICAgIF91dGlscy5nbG9iYWxLZXlkb3duLm9uKFsnZW50ZXInLCAnZXNjYXBlJ10sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKF90aGlzMi5lZGl0aW5nKSB7XG5cdCAgICAgICAgX3RoaXMyLmV4aXRFZGl0KCk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KS5vbignYXJyb3d1cCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKF90aGlzMi5lZGl0aW5nKSB7XG5cdCAgICAgICAgX3RoaXMyLiRlbWl0KCdwcmV2bHlyaWMnKTtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pLm9uKCdhcnJvd2Rvd24nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChfdGhpczIuZWRpdGluZykge1xuXHQgICAgICAgIF90aGlzMi4kZW1pdCgnbmV4dGx5cmljJyk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICB3YXRjaDoge1xuXHQgICAgZWRpdGluZzogZnVuY3Rpb24gZWRpdGluZygpIHtcblx0ICAgICAgaWYgKCF0aGlzLmVkaXRpbmcpIHtcblx0ICAgICAgICB0aGlzLmV4aXRFZGl0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFRtZW51OiBfdG1lbnUyLmRlZmF1bHRcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuUnVubmVyID0gZXhwb3J0cy5McmMgPSBleHBvcnRzLkxpbmVQYXJzZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2xpbmVQYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0XG5cdHZhciBfbGluZVBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saW5lUGFyc2VyKTtcblx0XG5cdHZhciBfbHJjID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX2xyYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmMpO1xuXHRcblx0dmFyIF9ydW5uZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0XG5cdHZhciBfcnVubmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1bm5lcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5MaW5lUGFyc2VyID0gX2xpbmVQYXJzZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuTHJjID0gX2xyYzIuZGVmYXVsdDtcblx0ZXhwb3J0cy5SdW5uZXIgPSBfcnVubmVyMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgTGluZVBhcnNlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBfY3JlYXRlQ2xhc3MoTGluZVBhcnNlciwgbnVsbCwgW3tcblx0ICAgIGtleTogJ3BhcnNlVGFncycsXG5cdFxuXHQgICAgLy8gbWF0Y2ggYFt0aTogVGhlIFRpdGxlXWBcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVRhZ3MobGluZSkge1xuXHQgICAgICBsaW5lID0gbGluZS50cmltKCk7XG5cdCAgICAgIHZhciBtYXRjaHMgPSBMaW5lUGFyc2VyLlRBR1NfUkVHRVhQLmV4ZWMobGluZSk7XG5cdCAgICAgIHZhciB0YWcgPSBtYXRjaHNbMF07XG5cdCAgICAgIHZhciBjb250ZW50ID0gbGluZS5zdWJzdHIodGFnLmxlbmd0aCk7XG5cdCAgICAgIHJldHVybiBbdGFnLnNsaWNlKDEsIC0xKS5zcGxpdCgvXFxdXFxzKlxcWy8pLCBjb250ZW50XTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIGxpbmUgcGFyc2UgbHJjIG9mIHRpbWVzdGFtcFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqIHZhciBscCA9IG5ldyBMaW5lUGFyc2VyKCdbdGk6IFNvbmcgdGl0bGVdJylcblx0ICAgICAqIGxwLnR5cGUgPT09IExpbmVQYXJzZXIuVFlQRS5JTkZPXG5cdCAgICAgKiBscC5rZXkgPT09ICd0aSdcblx0ICAgICAqIGxwLnZhbHVlID09PSAnU29uZyB0aXRsZSdcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignWzEwOjEwLjEwXWhlbGxvJylcblx0ICAgICAqIGxwLnR5cGUgPT09IExpbmVQYXJzZXIuVFlQRS5USU1FXG5cdCAgICAgKiBscC50aW1lc3RhbXBzID09PSBbMTAqNjArMTAuMTBdXG5cdCAgICAgKiBscC5jb250ZW50ID09PSAnaGVsbG8nXG5cdCAgICAgKiBAY29uc3RydWN0c1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVcblx0ICAgICAqL1xuXHRcblx0ICAgIC8vIG1hdGNoIGBbNTEyOjM0LjFdIGx5cmljIGNvbnRlbnRgXG5cdFxuXHQgICAgLy8gbWF0Y2ggYFsxMjozMC4xXVsxMjozMC4yXWBcblx0XG5cdCAgfV0pO1xuXHRcblx0ICBmdW5jdGlvbiBMaW5lUGFyc2VyKGxpbmUpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lUGFyc2VyKTtcblx0XG5cdCAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgX0xpbmVQYXJzZXIkcGFyc2VUYWdzID0gTGluZVBhcnNlci5wYXJzZVRhZ3MobGluZSk7XG5cdFxuXHQgICAgICB2YXIgX0xpbmVQYXJzZXIkcGFyc2VUYWdzMiA9IF9zbGljZWRUb0FycmF5KF9MaW5lUGFyc2VyJHBhcnNlVGFncywgMik7XG5cdFxuXHQgICAgICB2YXIgdGFncyA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMF07XG5cdCAgICAgIHZhciBjb250ZW50ID0gX0xpbmVQYXJzZXIkcGFyc2VUYWdzMlsxXTtcblx0XG5cdCAgICAgIGlmIChMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcblx0ICAgICAgICB0aGlzLnBhcnNlQXNUaW1lKHRhZ3MsIGNvbnRlbnQpO1xuXHQgICAgICB9IGVsc2UgaWYgKExpbmVQYXJzZXIuSU5GT19SRUdFWFAudGVzdCh0YWdzWzBdKSkge1xuXHQgICAgICAgIHRoaXMucGFyc2VBc0luZm8odGFnc1swXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLklOVkFMSUQ7XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLklOVkFMSUQ7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoTGluZVBhcnNlciwgW3tcblx0ICAgIGtleTogJ3BhcnNlQXNUaW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KSB7XG5cdCAgICAgIHZhciB0aW1lc3RhbXBzID0gW107XG5cdCAgICAgIHRhZ3MuZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7XG5cdCAgICAgICAgdmFyIG1hdGNocyA9IExpbmVQYXJzZXIuVElNRV9SRUdFWFAuZXhlYyh0YWcpO1xuXHQgICAgICAgIHZhciBtaW51dGVzID0gcGFyc2VGbG9hdChtYXRjaHNbMV0pO1xuXHQgICAgICAgIHZhciBzZWNvbmRzID0gcGFyc2VGbG9hdChtYXRjaHNbMl0ucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgnOicsICcuJykpO1xuXHQgICAgICAgIHRpbWVzdGFtcHMucHVzaChtaW51dGVzICogNjAgKyBzZWNvbmRzKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMudGltZXN0YW1wcyA9IHRpbWVzdGFtcHM7XG5cdCAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQudHJpbSgpO1xuXHQgICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuVElNRTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwYXJzZUFzSW5mbycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VBc0luZm8odGFnKSB7XG5cdCAgICAgIHZhciBtYXRjaHMgPSBMaW5lUGFyc2VyLklORk9fUkVHRVhQLmV4ZWModGFnKTtcblx0ICAgICAgdGhpcy5rZXkgPSBtYXRjaHNbMV0udHJpbSgpO1xuXHQgICAgICB0aGlzLnZhbHVlID0gbWF0Y2hzWzJdLnRyaW0oKTtcblx0ICAgICAgdGhpcy50eXBlID0gTGluZVBhcnNlci5UWVBFLklORk87XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gTGluZVBhcnNlcjtcblx0fSgpO1xuXHRcblx0TGluZVBhcnNlci5UQUdTX1JFR0VYUCA9IC9eKFxcWy4rXFxdKSsvO1xuXHRMaW5lUGFyc2VyLklORk9fUkVHRVhQID0gL15cXHMqKFxcdyspXFxzKjooLiopJC87XG5cdExpbmVQYXJzZXIuVElNRV9SRUdFWFAgPSAvXlxccyooXFxkKylcXHMqOlxccyooXFxkKyhcXHMqW1xcLjpdXFxzKlxcZCspPylcXHMqJC87XG5cdExpbmVQYXJzZXIuVFlQRSA9IHtcblx0ICBJTlZBTElEOiAwLFxuXHQgIElORk86IDEsXG5cdCAgVElNRTogMlxuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSBMaW5lUGFyc2VyO1xuXG4vKioqLyB9LFxuLyogNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfaXNfanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0XG5cdHZhciBfaXNfanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNfanMpO1xuXHRcblx0dmFyIF9saW5lUGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBMcmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gTHJjKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExyYyk7XG5cdFxuXHQgICAgdGhpcy5pbmZvID0ge307XG5cdCAgICB0aGlzLmx5cmljcyA9IFtdO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExyYywgW3tcblx0ICAgIGtleTogJ29mZnNldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb2Zmc2V0KG9mZnNldFRpbWUpIHtcblx0ICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICBseXJpYy50aW1lc3RhbXAgKz0gb2Zmc2V0VGltZTtcblx0ICAgICAgICBpZiAobHlyaWMudGltZXN0YW1wIDwgMCkge1xuXHQgICAgICAgICAgbHlyaWMudGltZXN0YW1wID0gMDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZ2V0IGxyYyB0ZXh0XG5cdCAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBvcHRpb25zXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdHMuY29tYmluZSBseXJpY3MgY29tYmluZSBieSBzYW1lIGNvbnRlbnRcblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5zb3J0IGx5cmljcyBzb3J0IGJ5IHRpbWVzdGFtcFxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubGluZUZvcm1hdCBuZXdsaW5lIGZvcm1hdFxuXHQgICAgICogQHJldHVybiB7c3RyaW5nfVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3RvU3RyaW5nJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0ICAgICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgICAgIG9wdHMuY29tYmluZSA9ICdjb21iaW5lJyBpbiBvcHRzID8gb3B0cy5jb21iaW5lIDogdHJ1ZTtcblx0ICAgICAgb3B0cy5saW5lRm9ybWF0ID0gJ2xpbmVGb3JtYXQnIGluIG9wdHMgPyBvcHRzLmxpbmVGb3JtYXQgOiAnXFxyXFxuJztcblx0ICAgICAgb3B0cy5zb3J0ID0gJ3NvcnQnIGluIG9wdHMgPyBvcHRzLnNvcnQgOiB0cnVlO1xuXHQgICAgICB2YXIgbGluZXMgPSBbXSxcblx0ICAgICAgICAgIGx5cmljc01hcCA9IHt9LFxuXHQgICAgICAgICAgbHlyaWNzTGlzdCA9IFtdO1xuXHRcblx0ICAgICAgLy8gZ2VuZXJhdGUgaW5mb1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG5cdCAgICAgICAgbGluZXMucHVzaCgnWycgKyBrZXkgKyAnOicgKyB0aGlzLmluZm9ba2V5XSArICddJyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChvcHRzLmNvbWJpbmUpIHtcblx0ICAgICAgICAvLyB1bmlxdWVuZXNzXG5cdCAgICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcblx0ICAgICAgICAgIGlmIChseXJpYy5jb250ZW50IGluIGx5cmljc01hcCkge1xuXHQgICAgICAgICAgICBseXJpY3NNYXBbbHlyaWMuY29udGVudF0ucHVzaChseXJpYy50aW1lc3RhbXApO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgbHlyaWNzTWFwW2x5cmljLmNvbnRlbnRdID0gW2x5cmljLnRpbWVzdGFtcF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgLy8gc29ydGVkXG5cdCAgICAgICAgZm9yICh2YXIgY29udGVudCBpbiBseXJpY3NNYXApIHtcblx0ICAgICAgICAgIGlmIChvcHRzLnNvcnQpIHtcblx0ICAgICAgICAgICAgbHlyaWNzTWFwW2NvbnRlbnRdLnNvcnQoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGx5cmljc0xpc3QucHVzaCh7XG5cdCAgICAgICAgICAgIHRpbWVzdGFtcHM6IGx5cmljc01hcFtjb250ZW50XSxcblx0ICAgICAgICAgICAgY29udGVudDogY29udGVudFxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG5cdCAgICAgICAgICBseXJpY3NMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wc1swXSAtIGIudGltZXN0YW1wc1swXTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gZ2VuZXJhdGUgbHlyaWNzXG5cdCAgICAgICAgbHlyaWNzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuXHQgICAgICAgICAgbGluZXMucHVzaCgnWycgKyBseXJpYy50aW1lc3RhbXBzLm1hcChmdW5jdGlvbiAodGltZXN0YW1wKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBMcmMudGltZXN0YW1wVG9TdHJpbmcodGltZXN0YW1wKTtcblx0ICAgICAgICAgIH0pLmpvaW4oJ11bJykgKyAnXScgKyAobHlyaWMuY29udGVudCB8fCAnJykpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMubHlyaWNzLmZvckVhY2goZnVuY3Rpb24gKGx5cmljKSB7XG5cdCAgICAgICAgICBsaW5lcy5wdXNoKCdbJyArIExyYy50aW1lc3RhbXBUb1N0cmluZyhseXJpYy50aW1lc3RhbXApICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGxpbmVzLmpvaW4ob3B0cy5saW5lRm9ybWF0KTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ3BhcnNlJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBwYXJzZSBscmMgdGV4dCBhbmQgcmV0dXJuIGEgTHJjIG9iamVjdFxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcblx0ICAgICAqIEByZXR1cm4ge0xyY31cblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcblx0ICAgICAgdmFyIGx5cmljcyA9IFtdO1xuXHQgICAgICB2YXIgaW5mbyA9IHt9O1xuXHQgICAgICB0ZXh0LnNwbGl0KC9cXHJcXG58W1xcblxccl0vZykubWFwKGZ1bmN0aW9uIChsaW5lKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBfbGluZVBhcnNlcjIuZGVmYXVsdChsaW5lKTtcblx0ICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuXHQgICAgICAgIHN3aXRjaCAobGluZS50eXBlKSB7XG5cdCAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuSU5GTzpcblx0ICAgICAgICAgICAgaW5mb1tsaW5lLmtleV0gPSBsaW5lLnZhbHVlO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgX2xpbmVQYXJzZXIyLmRlZmF1bHQuVFlQRS5USU1FOlxuXHQgICAgICAgICAgICBsaW5lLnRpbWVzdGFtcHMuZm9yRWFjaChmdW5jdGlvbiAodGltZXN0YW1wKSB7XG5cdCAgICAgICAgICAgICAgbHlyaWNzLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG5cdCAgICAgICAgICAgICAgICBjb250ZW50OiBsaW5lLmNvbnRlbnRcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgdmFyIGxyYyA9IG5ldyB0aGlzKCk7XG5cdCAgICAgIGxyYy5seXJpY3MgPSBseXJpY3M7XG5cdCAgICAgIGxyYy5pbmZvID0gaW5mbztcblx0ICAgICAgcmV0dXJuIGxyYztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGVja0x5cmljT2JqZWN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0x5cmljT2JqZWN0KGx5cmljKSB7XG5cdCAgICAgIHJldHVybiBfaXNfanMyLmRlZmF1bHQub2JqZWN0KGx5cmljKSAmJiAndGltZXN0YW1wJyBpbiBseXJpYyAmJiBfaXNfanMyLmRlZmF1bHQubnVtYmVyKGx5cmljLnRpbWVzdGFtcCkgJiYgJ2NvbnRlbnQnIGluIGx5cmljICYmIF9pc19qczIuZGVmYXVsdC5zdHJpbmcobHlyaWMuY29udGVudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFkWmVybycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFkWmVybyhudW0pIHtcblx0ICAgICAgdmFyIHNpemUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAyIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgICAgaWYgKF9pc19qczIuZGVmYXVsdC5udW1iZXIobnVtKSkge1xuXHQgICAgICAgIG51bSA9IG51bS50b1N0cmluZygpO1xuXHQgICAgICB9XG5cdCAgICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSB7XG5cdCAgICAgICAgbnVtID0gJzAnICsgbnVtO1xuXHQgICAgICB9cmV0dXJuIG51bTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIGdldCBscmMgdGltZSBzdHJpbmdcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiBMcmMudGltZXN0YW1wVG9TdHJpbmcoMTQzLjU0KVxuXHQgICAgICogLy8gcmV0dXJuICcwMjoyMy41NCc6XG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wIHNlY29uZCB0aW1lc3RhbXBcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ31cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0aW1lc3RhbXBUb1N0cmluZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdGltZXN0YW1wVG9TdHJpbmcodGltZXN0YW1wKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnBhZFplcm8ocGFyc2VJbnQodGltZXN0YW1wIC8gNjApKSArICc6JyArIHRoaXMucGFkWmVybygodGltZXN0YW1wICUgNjApLnRvRml4ZWQoMikpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIExyYztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTHJjO1xuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfbHJjID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX2xyYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9scmMpO1xuXHRcblx0dmFyIF9jbG9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9jbG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbG9uZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBSdW5uZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgLyoqXG5cdCAgICogQHBhcmFtIHtMcmN9IGxyY1xuXHQgICAqL1xuXHRcblx0ICBmdW5jdGlvbiBSdW5uZXIoKSB7XG5cdCAgICB2YXIgbHJjID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbmV3IF9scmMyLmRlZmF1bHQoKSA6IGFyZ3VtZW50c1swXTtcblx0ICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSdW5uZXIpO1xuXHRcblx0ICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuXHQgICAgdGhpcy5fY3VycmVudEluZGV4ID0gLTE7XG5cdCAgICB0aGlzLnNldExyYyhscmMpO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogIEBwYXJhbSB7THJjfSBscmNcblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhSdW5uZXIsIFt7XG5cdCAgICBrZXk6ICdzZXRMcmMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldExyYyhscmMpIHtcblx0ICAgICAgdGhpcy5scmMgPSAoMCwgX2Nsb25lMi5kZWZhdWx0KShscmMpO1xuXHQgICAgICB0aGlzLmxyY1VwZGF0ZSgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2xyY1VwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbHJjVXBkYXRlKCkge1xuXHQgICAgICBpZiAodGhpcy5vZmZzZXQpIHtcblx0ICAgICAgICB0aGlzLl9vZmZzZXRBbGlnbigpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX3NvcnQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfb2Zmc2V0QWxpZ24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vZmZzZXRBbGlnbigpIHtcblx0ICAgICAgaWYgKCdvZmZzZXQnIGluIHRoaXMubHJjLmluZm8pIHtcblx0ICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQodGhpcy5scmMuaW5mby5vZmZzZXQpIC8gMTAwMDtcblx0ICAgICAgICBpZiAoIWlzTmFOKG9mZnNldCkpIHtcblx0ICAgICAgICAgIHRoaXMubHJjLm9mZnNldChvZmZzZXQpO1xuXHQgICAgICAgICAgZGVsZXRlIHRoaXMubHJjLmluZm8ub2Zmc2V0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zb3J0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfc29ydCgpIHtcblx0ICAgICAgdGhpcy5scmMubHlyaWNzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3RpbWVVcGRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVVcGRhdGUodGltZXN0YW1wKSB7XG5cdCAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPj0gdGhpcy5scmMubHlyaWNzLmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA8IC0xKSB7XG5cdCAgICAgICAgdGhpcy5fY3VycmVudEluZGV4ID0gLTE7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fY3VycmVudEluZGV4ID0gdGhpcy5fZmluZEluZGV4KHRpbWVzdGFtcCwgdGhpcy5fY3VycmVudEluZGV4KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZmluZEluZGV4Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZEluZGV4KHRpbWVzdGFtcCwgc3RhcnRJbmRleCkge1xuXHQgICAgICB2YXIgY3VyRnJvbnRUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IC0xID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXhdLnRpbWVzdGFtcDtcblx0XG5cdCAgICAgIHZhciBjdXJCYWNrVGltZXN0YW1wID0gc3RhcnRJbmRleCA9PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IHRoaXMubHJjLmx5cmljc1tzdGFydEluZGV4ICsgMV0udGltZXN0YW1wO1xuXHRcblx0ICAgICAgaWYgKHRpbWVzdGFtcCA8IGN1ckZyb250VGltZXN0YW1wKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHN0YXJ0SW5kZXggLSAxKTtcblx0ICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPT09IGN1ckJhY2tUaW1lc3RhbXApIHtcblx0ICAgICAgICBpZiAoY3VyQmFja1RpbWVzdGFtcCA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG5cdCAgICAgICAgICByZXR1cm4gc3RhcnRJbmRleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHN0YXJ0SW5kZXggKyAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPiBjdXJCYWNrVGltZXN0YW1wKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHN0YXJ0SW5kZXggKyAxKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gc3RhcnRJbmRleDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluZm8oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmxyYy5pbmZvO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEx5cmljcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0THlyaWNzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5scmMubHlyaWNzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogIEByZXR1cm4ge09iamVjdH0geycnfVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEx5cmljJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMeXJpYygpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jdXJJbmRleCgpIDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPD0gdGhpcy5scmMubHlyaWNzLmxlbmd0aCAtIDEpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5scmMubHlyaWNzW2luZGV4XTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4IG5vdCBleGlzdCcpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3VySW5kZXgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGN1ckluZGV4KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fY3VycmVudEluZGV4O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2N1ckx5cmljJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJMeXJpYygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZ2V0THlyaWMoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBSdW5uZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFJ1bm5lcjtcblxuLyoqKi8gfSxcbi8qIDU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oQnVmZmVyKSB7dmFyIGNsb25lID0gKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG5cdCAqXG5cdCAqIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgY2lyY3VsYXIgcmVmZXJlbmNlcyBieSBkZWZhdWx0LCBidXQgaWYgeW91IGFyZSBjZXJ0YWluXG5cdCAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuXHQgKiBieSBjYWxsaW5nIGNsb25lKG9iaiwgZmFsc2UpLlxuXHQgKlxuXHQgKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuXHQgKiB5b3VyIHByb2dyYW0gbWF5IGVudGVyIGFuIGluZmluaXRlIGxvb3AgYW5kIGNyYXNoLlxuXHQgKlxuXHQgKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuXHQgKiBAcGFyYW0gYGNpcmN1bGFyYCAtIHNldCB0byB0cnVlIGlmIHRoZSBvYmplY3QgdG8gYmUgY2xvbmVkIG1heSBjb250YWluXG5cdCAqICAgIGNpcmN1bGFyIHJlZmVyZW5jZXMuIChvcHRpb25hbCAtIHRydWUgYnkgZGVmYXVsdClcblx0ICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuXHQgKiAgICBhIHBhcnRpY3VsYXIgZGVwdGguIChvcHRpb25hbCAtIGRlZmF1bHRzIHRvIEluZmluaXR5KVxuXHQgKiBAcGFyYW0gYHByb3RvdHlwZWAgLSBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgdXNlZCB3aGVuIGNsb25pbmcgYW4gb2JqZWN0LlxuXHQgKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cblx0Ki9cblx0ZnVuY3Rpb24gY2xvbmUocGFyZW50LCBjaXJjdWxhciwgZGVwdGgsIHByb3RvdHlwZSkge1xuXHQgIHZhciBmaWx0ZXI7XG5cdCAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PT0gJ29iamVjdCcpIHtcblx0ICAgIGRlcHRoID0gY2lyY3VsYXIuZGVwdGg7XG5cdCAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG5cdCAgICBmaWx0ZXIgPSBjaXJjdWxhci5maWx0ZXI7XG5cdCAgICBjaXJjdWxhciA9IGNpcmN1bGFyLmNpcmN1bGFyXG5cdCAgfVxuXHQgIC8vIG1haW50YWluIHR3byBhcnJheXMgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMsIHdoZXJlIGNvcnJlc3BvbmRpbmcgcGFyZW50c1xuXHQgIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG5cdCAgdmFyIGFsbFBhcmVudHMgPSBbXTtcblx0ICB2YXIgYWxsQ2hpbGRyZW4gPSBbXTtcblx0XG5cdCAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cdFxuXHQgIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBjaXJjdWxhciA9IHRydWU7XG5cdFxuXHQgIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBkZXB0aCA9IEluZmluaXR5O1xuXHRcblx0ICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cblx0ICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuXHQgICAgLy8gY2xvbmluZyBudWxsIGFsd2F5cyByZXR1cm5zIG51bGxcblx0ICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG5cdCAgICAgIHJldHVybiBudWxsO1xuXHRcblx0ICAgIGlmIChkZXB0aCA9PSAwKVxuXHQgICAgICByZXR1cm4gcGFyZW50O1xuXHRcblx0ICAgIHZhciBjaGlsZDtcblx0ICAgIHZhciBwcm90bztcblx0ICAgIGlmICh0eXBlb2YgcGFyZW50ICE9ICdvYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiBwYXJlbnQ7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNsb25lLl9faXNBcnJheShwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gW107XG5cdCAgICB9IGVsc2UgaWYgKGNsb25lLl9faXNSZWdFeHAocGFyZW50KSkge1xuXHQgICAgICBjaGlsZCA9IG5ldyBSZWdFeHAocGFyZW50LnNvdXJjZSwgX19nZXRSZWdFeHBGbGFncyhwYXJlbnQpKTtcblx0ICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG5cdCAgICB9IGVsc2UgaWYgKGNsb25lLl9faXNEYXRlKHBhcmVudCkpIHtcblx0ICAgICAgY2hpbGQgPSBuZXcgRGF0ZShwYXJlbnQuZ2V0VGltZSgpKTtcblx0ICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG5cdCAgICAgIGNoaWxkID0gbmV3IEJ1ZmZlcihwYXJlbnQubGVuZ3RoKTtcblx0ICAgICAgcGFyZW50LmNvcHkoY2hpbGQpO1xuXHQgICAgICByZXR1cm4gY2hpbGQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSA9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG5cdCAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvKTtcblx0ICAgICAgfVxuXHQgICAgICBlbHNlIHtcblx0ICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblx0ICAgICAgICBwcm90byA9IHByb3RvdHlwZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjaXJjdWxhcikge1xuXHQgICAgICB2YXIgaW5kZXggPSBhbGxQYXJlbnRzLmluZGV4T2YocGFyZW50KTtcblx0XG5cdCAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuXHQgICAgICAgIHJldHVybiBhbGxDaGlsZHJlbltpbmRleF07XG5cdCAgICAgIH1cblx0ICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG5cdCAgICAgIGFsbENoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIGkgaW4gcGFyZW50KSB7XG5cdCAgICAgIHZhciBhdHRycztcblx0ICAgICAgaWYgKHByb3RvKSB7XG5cdCAgICAgICAgYXR0cnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGF0dHJzICYmIGF0dHJzLnNldCA9PSBudWxsKSB7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0ICAgICAgY2hpbGRbaV0gPSBfY2xvbmUocGFyZW50W2ldLCBkZXB0aCAtIDEpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjaGlsZDtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfY2xvbmUocGFyZW50LCBkZXB0aCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuXHQgKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuXHQgKlxuXHQgKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuXHQgKiB3b3Jrcy5cblx0ICovXG5cdGNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG5cdCAgaWYgKHBhcmVudCA9PT0gbnVsbClcblx0ICAgIHJldHVybiBudWxsO1xuXHRcblx0ICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgIGMucHJvdG90eXBlID0gcGFyZW50O1xuXHQgIHJldHVybiBuZXcgYygpO1xuXHR9O1xuXHRcblx0Ly8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXHRcblx0ZnVuY3Rpb24gX19vYmpUb1N0cihvKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcblx0fTtcblx0Y2xvbmUuX19vYmpUb1N0ciA9IF9fb2JqVG9TdHI7XG5cdFxuXHRmdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBEYXRlXSc7XG5cdH07XG5cdGNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cdFxuXHRmdW5jdGlvbiBfX2lzQXJyYXkobykge1xuXHQgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fTtcblx0Y2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXHRcblx0ZnVuY3Rpb24gX19pc1JlZ0V4cChvKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcblx0fTtcblx0Y2xvbmUuX19pc1JlZ0V4cCA9IF9faXNSZWdFeHA7XG5cdFxuXHRmdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG5cdCAgdmFyIGZsYWdzID0gJyc7XG5cdCAgaWYgKHJlLmdsb2JhbCkgZmxhZ3MgKz0gJ2cnO1xuXHQgIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG5cdCAgaWYgKHJlLm11bHRpbGluZSkgZmxhZ3MgKz0gJ20nO1xuXHQgIHJldHVybiBmbGFncztcblx0fTtcblx0Y2xvbmUuX19nZXRSZWdFeHBGbGFncyA9IF9fZ2V0UmVnRXhwRmxhZ3M7XG5cdFxuXHRyZXR1cm4gY2xvbmU7XG5cdH0pKCk7XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICBtb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzOSkuQnVmZmVyKSlcblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKVxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtZWVlNGNhYmVcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RtZW51LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwic3BhbltkYXRhLXYtZWVlNGNhYmVde3Bvc2l0aW9uOnJlbGF0aXZlfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi90bWVudS52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tZW51e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5tZW51IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lO21hcmdpbjowO3BhZGRpbmc6MH0ubWVudSB1bCBsaXt3aGl0ZS1zcGFjZTpub3dyYXA7aGVpZ2h0OjI1cHg7bGluZS1oZWlnaHQ6MjVweDt0ZXh0LWFsaWduOmxlZnQ7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbG9yOiMxMTYxYjM7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnUgdWwgbGk6aG92ZXJ7Y29sb3I6IzExNjFiMztiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90b29sdGlwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX3Rvb2x0aXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9vbHRpcCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBkaXI6IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFRvb2x0aXA6IF90b29sdGlwMi5kZWZhdWx0XG5cdCAgfVxuXHR9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogNjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc3R5bGVzICovXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjcpXG5cdFxuXHQvKiBzY3JpcHQgKi9cblx0X192dWVfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSlcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MClcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5cdGlmIChcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcblx0ICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0X192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcblx0fVxuXHRpZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcblx0fVxuXHRcblx0X192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5cdF9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWEzM2NmZDVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90b29sdGlwLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50b29sdGlwIC53cmFwe3BhZGRpbmc6OHB4O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMTE2MWIzO2JvcmRlci1yYWRpdXM6OHB4O2JveC1zaGFkb3c6LjVweCAuNXB4IDNweCAuNXB4ICNjY2N9LnRvb2x0aXAgLndyYXAgLmFycm93e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjA7ZGlzcGxheTpibG9jazttYXJnaW46YXV0b30udG9vbHRpcCAud3JhcCAuYXJyb3cubGVmdHt0b3A6MDtib3R0b206MDtyaWdodDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy5yaWdodHt0b3A6MDtib3R0b206MDtsZWZ0Oi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy50b3B7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDo4cHggc29saWQgI2ZmZn0udG9vbHRpcCAud3JhcCAuYXJyb3cuYm90dG9te2xlZnQ6MDtyaWdodDowO3RvcDotMTZweDtib3JkZXI6OHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206OHB4IHNvbGlkICNmZmZ9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9leHRlbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfZXh0ZW5kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc3R5bGU6IHtcblx0ICAgICAgICB0b3A6IDAsXG5cdCAgICAgICAgbGVmdDogMCxcblx0ICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuXHQgICAgICB9LFxuXHQgICAgICBzaG93OiBmYWxzZSxcblx0ICAgICAgZGlyOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBwcm9wczoge1xuXHQgICAgZW50ZXJEZWxheToge1xuXHQgICAgICB0eXBlOiBOdW1iZXIsXG5cdCAgICAgIGRlZmF1bHQ6IDAuMVxuXHQgICAgfSxcblx0ICAgIGxlYXZlRGVsYXk6IHtcblx0ICAgICAgdHlwZTogTnVtYmVyLFxuXHQgICAgICBkZWZhdWx0OiAwLjVcblx0ICAgIH0sXG5cdCAgICB0YXJnZXQ6IHtcblx0ICAgICAgdHlwZTogRWxlbWVudCxcblx0ICAgICAgZGVmYXVsdDogbnVsbFxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHBhcmVudCA9IHRoaXMudGFyZ2V0ICE9PSBudWxsID8gdGhpcy50YXJnZXQgOiB0aGlzLiRlbDtcblx0ICAgIHZhciB0bHBQb3MgPSBuZXcgX3V0aWxzLlRvb2x0aXBQb3NpdGlvbihwYXJlbnQsIHRoaXMuJHJlZnMud3JhcCk7XG5cdCAgICB2YXIgYXJyb3dTcGFjZSA9IDEwO1xuXHRcblx0ICAgIHZhciBkaG92ZXIgPSBuZXcgX3V0aWxzLkRlbGF5SG92ZXIocGFyZW50LCB7XG5cdCAgICAgIGVudGVyRGVsYXk6IHRoaXMuZW50ZXJEZWxheSxcblx0ICAgICAgbGVhdmVEZWxheTogdGhpcy5sZWF2ZURlbGF5XG5cdCAgICB9KTtcblx0ICAgIGRob3Zlci5ob3ZlcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBwb3MgPSB0bHBQb3MucG9zaXRpb24oKTtcblx0ICAgICAgX3RoaXMuZGlyID0gcG9zLmRpcjtcblx0ICAgICAgc3dpdGNoIChfdGhpcy5kaXIpIHtcblx0ICAgICAgICBjYXNlICdsZWZ0Jzpcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kMi5kZWZhdWx0KShfdGhpcy5zdHlsZSwge1xuXHQgICAgICAgICAgICB0b3A6IHBvcy5yZWN0LnRvcCArICdweCcsXG5cdCAgICAgICAgICAgIGxlZnQ6IHBvcy5yZWN0LmxlZnQgLSBhcnJvd1NwYWNlICsgJ3B4J1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdyaWdodCc6XG5cdCAgICAgICAgICAoMCwgX2V4dGVuZDIuZGVmYXVsdCkoX3RoaXMuc3R5bGUsIHtcblx0ICAgICAgICAgICAgdG9wOiBwb3MucmVjdC50b3AgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0ICsgYXJyb3dTcGFjZSArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAndG9wJzpcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kMi5kZWZhdWx0KShfdGhpcy5zdHlsZSwge1xuXHQgICAgICAgICAgICB0b3A6IHBvcy5yZWN0LnRvcCAtIGFycm93U3BhY2UgKyAncHgnLFxuXHQgICAgICAgICAgICBsZWZ0OiBwb3MucmVjdC5sZWZ0ICsgJ3B4J1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdib3R0b20nOlxuXHQgICAgICAgICAgKDAsIF9leHRlbmQyLmRlZmF1bHQpKF90aGlzLnN0eWxlLCB7XG5cdCAgICAgICAgICAgIHRvcDogcG9zLnJlY3QudG9wICsgYXJyb3dTcGFjZSArICdweCcsXG5cdCAgICAgICAgICAgIGxlZnQ6IHBvcy5yZWN0LmxlZnQgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgZmFsc2U6XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMuc2hvdyA9IHRydWU7XG5cdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnNob3cgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHdhdGNoOiB7XG5cdCAgICBzaG93OiB7XG5cdCAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcblx0ICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICB0aGlzLnN0eWxlLnZpc2liaWxpdHkgPSB0aGlzLnNob3cgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdzcGFuJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwidG9vbHRpcFwiXG5cdCAgfSwgW192bS5fdChcInRhcmdldFwiKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcIndyYXBcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIixcblx0ICAgIHN0eWxlOiAoX3ZtLnN0eWxlKVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIGNsYXNzOiAnYXJyb3cgJyArIF92bS5kaXJcblx0ICB9KSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiXG5cdCAgfSwgW192bS5fdChcImNvbnRlbnRcIildKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJtZW51XCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51XCJcblx0ICB9LCBbX3ZtLl9oKCd0b29sdGlwJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJkaXJcIjogX3ZtLmRpcixcblx0ICAgICAgXCJ0YXJnZXRcIjogX3ZtLiRyZWZzLm1lbnUsXG5cdCAgICAgIFwiZW50ZXItZGVsYXlcIjogMFxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHNsb3Q6IFwidGFyZ2V0XCJcblx0ICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHNsb3Q6IFwiY29udGVudFwiXG5cdCAgfSwgW192bS5fdChcImxpc3RcIildKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiAoX3ZtLmVkaXRpbmcpID8gX3ZtLl9oKCd1bCcsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImVkaXRpbmcgbHlyaWNzXCJcblx0ICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuXHQgICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG5cdCAgICAgIGNsYXNzOiB7XG5cdCAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuXHQgICAgICB9LFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5lZGl0KGkpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImNvbnRleHRtZW51XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICBfdm0uZWRpdE1lbnUoaSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIFsoX3ZtLmVkaXRpbmdJbmRleCA9PSBpKSA/IFtfdm0uX2goJ2lucHV0Jywge1xuXHQgICAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgICB2YWx1ZTogKGx5cmljLnRpbWVzdGFtcCksXG5cdCAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy50aW1lc3RhbXBcIlxuXHQgICAgICB9XSxcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwidGltZXN0YW1wXCIsXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MobHlyaWMudGltZXN0YW1wKVxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwia2V5ZG93blwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSAhPT0gMTMpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIGx5cmljLnRpbWVzdGFtcCA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChseXJpYy5jb250ZW50KSxcblx0ICAgICAgICBleHByZXNzaW9uOiBcImx5cmljLmNvbnRlbnRcIlxuXHQgICAgICB9XSxcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuXHQgICAgICB9LFxuXHQgICAgICBkb21Qcm9wczoge1xuXHQgICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKGx5cmljLmNvbnRlbnQpXG5cdCAgICAgIH0sXG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJrZXlkb3duXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cblx0ICAgICAgICAgIF92bS5leGl0RWRpdCgkZXZlbnQpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgbHlyaWMuY29udGVudCA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXSA6IFtfdm0uX2goJ2RpdicsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwidGltZXN0YW1wXCJcblx0ICAgIH0sIFtfdm0uX3MoX3ZtLl9mKFwidGltZVwiKShseXJpYy50aW1lc3RhbXApKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuXHQgICAgfSwgW192bS5fcyhseXJpYy5jb250ZW50KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuXHQgICAgfSwgW192bS5faCgndG1lbnUnLCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHNsb3Q6IFwidGFyZ2V0XCJcblx0ICAgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWxsaXBzaXMtdmVydFwiXG5cdCAgICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcblx0ICAgICAgc2xvdDogXCJsaXN0XCJcblx0ICAgIH0sIFtfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0ucmVtb3ZlVGltZXN0YW1wKGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiXG5cdCAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlX3RpbWVzdGFtcCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5lZGl0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVkaXRcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uaW5zZXJ0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsdXNcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmFkZCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5yZW1vdmUoaSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tdHJhc2hcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpKSArIFwiXFxuICAgICAgICAgICAgXCJdKV0pXSldKV0sIFwiIFwiXSlcblx0ICB9KSwgXCIgXCIsIChfdm0ubHlyaWNBcnJheS5sZW5ndGgpID8gX3ZtLl9oKCdsaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpKV0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2woKF92bS5seXJpY0FycmF5KSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcblx0ICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwidHJhY2stYnlcIjogXCJpXCJcblx0ICAgICAgfSxcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImRibGNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBcImNvbnRleHRtZW51XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICBfdm0uZWRpdE1lbnUoaSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIFsoX3ZtLmVkaXRpbmdUZXh0SW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChfdm0ubHlyaWNBcnJheVtpXSksXG5cdCAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpY0FycmF5W2ldXCJcblx0ICAgICAgfV0sXG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIixcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcblx0ICAgICAgfSxcblx0ICAgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWNBcnJheVtpXSlcblx0ICAgICAgfSxcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgIT09IDEzKSB7IHJldHVybjsgfVxuXHQgICAgICAgICAgX3ZtLmV4aXRFZGl0KCRldmVudClcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICB2YXIgJCRleHAgPSBfdm0ubHlyaWNBcnJheSxcblx0ICAgICAgICAgICAgJCRpZHggPSBpO1xuXHQgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KCQkZXhwKSkge1xuXHQgICAgICAgICAgICBfdm0ubHlyaWNBcnJheVtpXSA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICQkZXhwLnNwbGljZSgkJGlkeCwgMSwgJGV2ZW50LnRhcmdldC52YWx1ZSlcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXSA6IFtfdm0uX2goJ2RpdicsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiXG5cdCAgICB9LCBbX3ZtLl9zKGx5cmljKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuXHQgICAgfSwgW192bS5faCgndG1lbnUnLCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICAgIHNsb3Q6IFwidGFyZ2V0XCJcblx0ICAgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWxsaXBzaXMtdmVydFwiXG5cdCAgICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcblx0ICAgICAgc2xvdDogXCJsaXN0XCJcblx0ICAgIH0sIFtfdm0uX2goJ2xpJywge1xuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBfdm0uZWRpdFRleHQoaSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tZWRpdFwiXG5cdCAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZWRpdCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5pbnNlcnRUZXh0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsdXNcIlxuXHQgICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmFkZCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG5cdCAgICAgIG9uOiB7XG5cdCAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICAgIF92bS5yZW1vdmVUZXh0KGkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcblx0ICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSldKV0pXSldLCBcIiBcIl0pXG5cdCAgfSldKSA6IF92bS5faCgndWwnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJseXJpY3NcIlxuXHQgIH0sIFtfdm0uX2woKF92bS5ydW5uZXIubHJjLmx5cmljcyksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG5cdCAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcblx0ICAgICAgY2xhc3M6IHtcblx0ICAgICAgICBjdXI6IGkgPT0gX3ZtLmluZGV4XG5cdCAgICAgIH0sXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJ0aXRsZVwiOiBseXJpYy50aW1lc3RhbXBcblx0ICAgICAgfSxcblx0ICAgICAgb246IHtcblx0ICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICAgX3ZtLnBsYXl0byhseXJpYy50aW1lc3RhbXApXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBbXCJcXG4gICAgXCIgKyBfdm0uX3MobHlyaWMuY29udGVudCkgKyBcIlxcbiAgXCJdKVxuXHQgIH0pLCBcIiBcIiwgKF92bS5seXJpY0FycmF5Lmxlbmd0aCkgPyBfdm0uX2goJ2xpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiZGl2aXNpb25cIlxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZm9sbG93aW5nX3Vuc29ydGVkJykpXSkgOiBfdm0uX2UoKSwgXCIgXCIsIF92bS5fbCgoX3ZtLmx5cmljQXJyYXkpLCBmdW5jdGlvbihseXJpYywgaSkge1xuXHQgICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG5cdCAgICAgIHN0YXRpY0NsYXNzOiBcInVuc29ydGVkXCIsXG5cdCAgICAgIGF0dHJzOiB7XG5cdCAgICAgICAgXCJ0cmFjay1ieVwiOiBcImlcIlxuXHQgICAgICB9XG5cdCAgICB9LCBbXCJcXG4gICAgXCIgKyBfdm0uX3MobHlyaWMpICsgXCJcXG4gIFwiXSlcblx0ICB9KV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHN0eWxlcyAqL1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KVxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtYTE0Yzk2ZWFcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1vZGFsIC5mb290ZXIgLmJ0bi1ncm91cFtkYXRhLXYtYTE0Yzk2ZWFdOmFmdGVyLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV06YWZ0ZXJ7Y29udGVudDonICc7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5jb3ZlcltkYXRhLXYtYTE0Yzk2ZWFde3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjcpO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDoxMDAwO292ZXJmbG93OmF1dG99Lm1vZGFsW2RhdGEtdi1hMTRjOTZlYV17cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjMwcHggYXV0bztiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo4cHg7b3ZlcmZsb3c6aGlkZGVufS5tb2RhbC5sZ1tkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjUwJX0ubW9kYWwubWRbZGF0YS12LWExNGM5NmVhXXt3aWR0aDo3MCV9Lm1vZGFsLnNtW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6OTAlfS5tb2RhbCAuYm9keVtkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtwYWRkaW5nLWxlZnQ6MTRweDtwYWRkaW5nLXJpZ2h0OjE0cHh9Lm1vZGFsIC5ib2R5W2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtwYWRkaW5nLXRvcDoxNHB4O3BhZGRpbmctYm90dG9tOjE0cHh9Lm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFde2NvbG9yOiMxMTYxYjN9Lm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZTVlNWU1O2ZvbnQtd2VpZ2h0OmJvbGRlcn0ubW9kYWwgLmhlYWRlciAuaWNvbi1jYW5jZWxbZGF0YS12LWExNGM5NmVhXXtmbG9hdDpyaWdodDtjdXJzb3I6cG9pbnRlcn0ubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFde2JvcmRlci10b3A6MXB4IHNvbGlkICNlNWU1ZTV9Lm1vZGFsIC5mb290ZXIgLmJ0bi1ncm91cCAuYnRuW2RhdGEtdi1hMTRjOTZlYV17ZmxvYXQ6cmlnaHQ7Ym9yZGVyLXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6IzExNjFiMztwYWRkaW5nOjhweCAxMHB4fS5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXAgLmJ0bltkYXRhLXYtYTE0Yzk2ZWFdOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1vZGFsIGgze21hcmdpbjoxMHB4IDB9Lm1vZGFsIHRleHRhcmVhe3dpZHRoOjEwMCU7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O2JvcmRlci1yYWRpdXM6NXB4O21pbi1oZWlnaHQ6MzAwcHg7bWFyZ2luOjEwcHggMH0ubW9kYWwgcHttYXJnaW46MH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHRcblx0dmFyIF92dWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF92dWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfaGVscCA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXHRcblx0dmFyIF9oZWxwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHApO1xuXHRcblx0dmFyIF9scmNGb3JtYXRVcGxvYWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0XG5cdHZhciBfbHJjRm9ybWF0VXBsb2FkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xyY0Zvcm1hdFVwbG9hZCk7XG5cdFxuXHR2YXIgX2x5cmljVXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdFxuXHR2YXIgX2x5cmljVXBsb2FkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2x5cmljVXBsb2FkKTtcblx0XG5cdHZhciBfbHJjU2F2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXHRcblx0dmFyIF9scmNTYXZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xyY1NhdmUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDT01QT05FTlRTID0ge1xuXHQgICdoZWxwJzogX2hlbHAyLmRlZmF1bHQsXG5cdCAgJ2xyYy1mb3JtYXQtdXBsb2FkJzogX2xyY0Zvcm1hdFVwbG9hZDIuZGVmYXVsdCxcblx0ICAnbHlyaWMtdXBsb2FkJzogX2x5cmljVXBsb2FkMi5kZWZhdWx0LFxuXHQgICdscmMtc2F2ZSc6IF9scmNTYXZlMi5kZWZhdWx0XG5cdH07XG5cdFxuXHR3aW5kb3cuTUMgPSBbXTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdGl0bGU6ICdNb2RhbCcsXG5cdCAgICAgIHNpemU6ICdtZCcsXG5cdCAgICAgIGNvbmZpcm06IGZhbHNlLFxuXHQgICAgICBtb2RhbE5hbWU6ICcnLFxuXHQgICAgICBtb2RhbENvbXBvbmVudDogbnVsbCxcblx0ICAgICAgaXNTaG93OiBmYWxzZSxcblx0ICAgICAgY292ZXJTaG93OiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICBzaG93OiBmdW5jdGlvbiBzaG93KG1vZGFsTmFtZSkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlO1xuXHQgICAgICB0aGlzLmNvdmVyU2hvdyA9IHRydWU7XG5cdCAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpcy5tb2RhbE5hbWUgPSBtb2RhbE5hbWU7XG5cdCAgICAgICAgX3RoaXMubW9kYWxDb21wb25lbnQgPSBuZXcgX3Z1ZTIuZGVmYXVsdChfZXh0ZW5kcyh7fSwgQ09NUE9ORU5UU1tfdGhpcy5tb2RhbE5hbWVdKSk7XG5cdCAgICAgICAgX3RoaXMubW9kYWxDb21wb25lbnQuJG1vdW50KF90aGlzLiRyZWZzLm1vZGFsV3JhcHBlcik7XG5cdFxuXHQgICAgICAgIGlmIChfdGhpcy5tb2RhbENvbXBvbmVudC50aXRsZSkgX3RoaXMudGl0bGUgPSBfdGhpcy5tb2RhbENvbXBvbmVudC50aXRsZTtcblx0ICAgICAgICBpZiAoX3RoaXMubW9kYWxDb21wb25lbnQuc2l6ZSkgX3RoaXMudGl0bGUgPSBfdGhpcy5tb2RhbENvbXBvbmVudC5zaXplO1xuXHQgICAgICAgIGlmIChfdGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtKSBfdGhpcy5jb25maXJtID0gX3RoaXMubW9kYWxDb21wb25lbnQuY29uZmlybTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdCAgICBvazogZnVuY3Rpb24gb2soKSB7XG5cdCAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7XG5cdCAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGVtaXQoJ29rJyk7XG5cdCAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGRlc3Ryb3koKTtcblx0ICAgIH0sXG5cdCAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcblx0ICAgICAgdGhpcy5tb2RhbENvbXBvbmVudC4kZW1pdCgnY2FuY2VsJyk7XG5cdCAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGRlc3Ryb3koKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICBfdXRpbHMuZ2xvYmFsS2V5ZG93bi5vbignZXNjYXBlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoX3RoaXMyLmlzU2hvdykge1xuXHQgICAgICAgIF90aGlzMi5jYW5jZWwoKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50czoge1xuXHQgICAgSGVscDogX2hlbHAyLmRlZmF1bHQsXG5cdCAgICBMcmNGb3JtYXRVcGxvYWQ6IF9scmNGb3JtYXRVcGxvYWQyLmRlZmF1bHQsXG5cdCAgICBMeXJpY1VwbG9hZDogX2x5cmljVXBsb2FkMi5kZWZhdWx0LFxuXHQgICAgTHJjU2F2ZTogX2xyY1NhdmUyLmRlZmF1bHRcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdF9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTNmNTdjMWQwXCJcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaGVscFtkYXRhLXYtM2Y1N2MxZDBde2NvbG9yOiMzMzN9LmhlbHAgYVtkYXRhLXYtM2Y1N2MxZDBdLC5oZWxwIGgzW2RhdGEtdi0zZjU3YzFkMF0sLmhlbHAgaDRbZGF0YS12LTNmNTdjMWQwXXtjb2xvcjojMTE2MWIzfS5oZWxwIGgzW2RhdGEtdi0zZjU3YzFkMF17bWFyZ2luOjVweCAwfS5oZWxwIGg0W2RhdGEtdi0zZjU3YzFkMF17bWFyZ2luOjB9LmhlbHAgYVtkYXRhLXYtM2Y1N2MxZDBde2ZvbnQtd2VpZ2h0OmJvbGRlcn0uaGVscCB1bFtkYXRhLXYtM2Y1N2MxZDBde2xpc3Qtc3R5bGUtdHlwZTpub25lO3BhZGRpbmc6MCAwIDAgMjBweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiA4MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3BhY2thZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblx0XG5cdHZhciBfcGFja2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWNrYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIFBLRzogX3BhY2thZ2UyLmRlZmF1bHQsXG5cdCAgICAgIHRpdGxlOiB0aGlzLiR0KCdtb2RhbC5oZWxwLnRpdGxlJylcblx0ICAgIH07XG5cdCAgfVxuXHR9OyAvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQvL1xuXG4vKioqLyB9LFxuLyogODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwibmFtZVwiOiBcImxyYy1tYWtlclwiLFxuXHRcdFwidmVyc2lvblwiOiBcIjAuMi4yXCIsXG5cdFx0XCJkZXNjcmlwdGlvblwiOiBcImxyYyBtYWtlclwiLFxuXHRcdFwibWFpblwiOiBcImluZGV4LmpzXCIsXG5cdFx0XCJzY3JpcHRzXCI6IHtcblx0XHRcdFwidGVzdFwiOiBcInlhcm4gcnVuIGxpbnRcIixcblx0XHRcdFwibGludFwiOiBcImVzbGludCAtLWV4dCBqcyx2dWUgd2VicGFjay5jb25maWcuanMgc3JjXCIsXG5cdFx0XHRcImRldlwiOiBcIndlYnBhY2stZGV2LXNlcnZlciAtLWhvc3Q9JzAuMC4wLjAnIC0tcHJvZ3Jlc3MgLS1jb2xvcnMgLS1pbmxpbmUgLS1ob3QgLS1vdXRwdXQtcHVibGljLXBhdGg9Jy9hc3NldHMvJ1wiLFxuXHRcdFx0XCJidWlsZFwiOiBcInlhcm4gcnVuIGJ1aWxkOmNsZWFuICYmIHlhcm4gcnVuIGJ1aWxkOndlYnBhY2sgJiYgeWFybiBydW4gYnVpbGQ6dmlld1wiLFxuXHRcdFx0XCJidWlsZDpjbGVhblwiOiBcInJtIC1yZiBidWlsZFwiLFxuXHRcdFx0XCJidWlsZDp2aWV3XCI6IFwiIGNwIGluZGV4Lmh0bWwgYnVpbGQvaW5kZXguaHRtbFwiLFxuXHRcdFx0XCJidWlsZDp3ZWJwYWNrXCI6IFwid2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3V0cHV0LXB1YmxpYy1wYXRoPScuL2Fzc2V0cy8nXCIsXG5cdFx0XHRcImRlcGxveVwiOiBcInlhcm4gcnVuIGJ1aWxkICYmIGdoLXBhZ2VzIC1kIGJ1aWxkXCJcblx0XHR9LFxuXHRcdFwia2V5d29yZHNcIjogW1xuXHRcdFx0XCJscmNcIlxuXHRcdF0sXG5cdFx0XCJhdXRob3JcIjogXCJXZWlyb25nIFh1IDx3ZWlyb25neHUucmFpZG91QGdtYWlsLmNvbT5cIixcblx0XHRcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXJcIixcblx0XHRcInJlcG9zaXRvcnlcIjoge1xuXHRcdFx0XCJ0eXBlXCI6IFwiZ2l0XCIsXG5cdFx0XHRcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyLmdpdFwiXG5cdFx0fSxcblx0XHRcIm9ubGluZVBhZ2VcIjogXCJodHRwczovL3dlaXJvbmd4dS5naXRodWIuaW8vbHJjLW1ha2VyL1wiLFxuXHRcdFwiYnVnc1wiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS93ZWlyb25neHUvbHJjLW1ha2VyL2lzc3Vlc1wiLFxuXHRcdFwibGljZW5zZVwiOiBcIk1JVFwiLFxuXHRcdFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcdFwiYXV0b3ByZWZpeGVyXCI6IFwiXjYuNS4zXCIsXG5cdFx0XHRcImJhYmVsLWNvcmVcIjogXCJeNi43LjZcIixcblx0XHRcdFwiYmFiZWwtZXNsaW50XCI6IFwiXjcuMS4xXCIsXG5cdFx0XHRcImJhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzXCI6IFwiXjIuMC4yXCIsXG5cdFx0XHRcImJhYmVsLWxvYWRlclwiOiBcIl42LjIuOFwiLFxuXHRcdFx0XCJiYWJlbC1wbHVnaW4tc3ludGF4LWpzeFwiOiBcIl42LjE4LjBcIixcblx0XHRcdFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS12dWUtanN4XCI6IFwiXjMuMi4wXCIsXG5cdFx0XHRcImJhYmVsLXByZXNldC1sYXRlc3RcIjogXCJeNi4xNi4wXCIsXG5cdFx0XHRcImJhYmVsLXByZXNldC1zdGFnZS0wXCI6IFwiXjYuMTYuMFwiLFxuXHRcdFx0XCJjc3MtbG9hZGVyXCI6IFwiXjAuMjYuMFwiLFxuXHRcdFx0XCJlc2xpbnRcIjogXCJeMy4xMC4yXCIsXG5cdFx0XHRcImVzbGludC1sb2FkZXJcIjogXCJeMS4zLjBcIixcblx0XHRcdFwiZXNsaW50LXBsdWdpbi1odG1sXCI6IFwiXjEuNy4wXCIsXG5cdFx0XHRcImZpbGUtbG9hZGVyXCI6IFwiXjAuOS4wXCIsXG5cdFx0XHRcImdoLXBhZ2VzXCI6IFwiXjAuMTIuMFwiLFxuXHRcdFx0XCJqc29uLWxvYWRlclwiOiBcIl4wLjUuNFwiLFxuXHRcdFx0XCJub2RlLXNhc3NcIjogXCJeMy4xMy4wXCIsXG5cdFx0XHRcInJlc29sdmUtdXJsLWxvYWRlclwiOiBcIl4xLjYuMFwiLFxuXHRcdFx0XCJzYXNzLWxvYWRlclwiOiBcIl40LjAuMlwiLFxuXHRcdFx0XCJ1cmwtbG9hZGVyXCI6IFwiXjAuNS43XCIsXG5cdFx0XHRcInZ1ZS1sb2FkZXJcIjogXCJeMTAuMC4xXCIsXG5cdFx0XHRcInZ1ZS10ZW1wbGF0ZS1jb21waWxlclwiOiBcIl4yLjEuM1wiLFxuXHRcdFx0XCJ3ZWJwYWNrXCI6IFwiXjEuMTIuMTVcIixcblx0XHRcdFwid2VicGFjay1kZXYtc2VydmVyXCI6IFwiXjEuMTQuMVwiLFxuXHRcdFx0XCJ5YW1sLWxvYWRlclwiOiBcIl4wLjQuMFwiXG5cdFx0fSxcblx0XHRcImRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XHRcImNsb25lXCI6IFwiXjIuMS4wXCIsXG5cdFx0XHRcImV2ZW50ZW1pdHRlcjJcIjogXCJeMi4yLjFcIixcblx0XHRcdFwiZXh0ZW5kXCI6IFwiXjMuMC4wXCIsXG5cdFx0XHRcImZpbGVzYXZlci5qc1wiOiBcIl4wLjIuMFwiLFxuXHRcdFx0XCJscmMta2l0XCI6IFwiXjAuMi4wXCIsXG5cdFx0XHRcInVuaWRyYWdnZXJcIjogXCJeMi4xLjBcIixcblx0XHRcdFwidnVlXCI6IFwiXjIuMS4zXCIsXG5cdFx0XHRcInZ1ZS1pMThuXCI6IFwiXjQuNy4zXCJcblx0XHR9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaGVscFwiXG5cdCAgfSwgW192bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5zaG9ydGN1dF9rZXknKSldKSwgXCIgXCIsIF92bS5faCgnaDQnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wudGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndWwnLCBbX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5sZWZ0X2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wuYmFja3dhcmQnKSldKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wucmlnaHRfa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5mb3J3YXJkJykpXSldKSwgXCIgXCIsIF92bS5faCgnaDQnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy50aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIFtfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudXBfa2V5JykpICsgXCI6XCJdKSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnByZXZfbHlyaWMnKSldKSwgXCIgXCIsIF92bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5kb3duX2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5uZXh0X2x5cmljJykpXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibGlua1wiXG5cdCAgfSwgW192bS5faCgnYScsIHtcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwiaHJlZlwiOiBfdm0uUEtHLmhvbWVwYWdlLFxuXHQgICAgICBcInRhcmdldFwiOiBcIl9ibGFua1wiXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAuc291cmNlX2NvZGUnKSkgKyBcIjogZ2l0aHViXCJdKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX3VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGxvYWQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnRpdGxlJyksXG5cdCAgICAgIGx5cmljOiAnJyxcblx0ICAgICAgY29uZmlybTogdHJ1ZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMubHlyaWMgPSAkQXBwLmxyY0Zvcm1hdDtcblx0ICAgIHRoaXMuJG9uKCdvaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJEFwcC5scmNGb3JtYXQgPSBfdGhpcy5seXJpYztcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGx5cmljKSB7XG5cdCAgICAgIHRoaXMubHlyaWMgPSBseXJpYztcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFVwbG9hZDogX3VwbG9hZDIuZGVmYXVsdFxuXHQgIH1cblx0fTsgLy9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdwJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLmRlc2NyaXB0aW9uJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgdmFsdWU6IChfdm0ubHlyaWMpLFxuXHQgICAgICBleHByZXNzaW9uOiBcImx5cmljXCJcblx0ICAgIH1dLFxuXHQgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLmx5cmljKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgIF92bS5seXJpYyA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pLCBcIiBcIiwgX3ZtLl9oKCd1cGxvYWQnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwidXBsb2FkZWRcIjogX3ZtLnVwbG9hZFxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC51cGxvYWQnKSldKV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cblx0dmFyIF9fdnVlX3N0eWxlc19fID0ge31cblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KVxuXHRcblx0LyogdGVtcGxhdGUgKi9cblx0dmFyIF9fdnVlX3RlbXBsYXRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKVxuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cblx0aWYgKFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuXHQgIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxuXHR9XG5cdGlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xuXHR9XG5cdFxuXHRfX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcblx0X192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3VwbG9hZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF91cGxvYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBsb2FkKTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHRpdGxlOiB0aGlzLiR0KCdtb2RhbC5seXJpY191cGxvYWQudGl0bGUnKSxcblx0ICAgICAgbHlyaWM6IF9jYWNoZTIuZGVmYXVsdC5seXJpYyxcblx0ICAgICAgY29uZmlybTogdHJ1ZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuJG9uKCdvaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJEFwcC5seXJpY0FycmF5ID0gX3RoaXMubHlyaWMuc3BsaXQoL1xcclxcbnxbXFxuXFxyXS9nKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIG1ldGhvZHM6IHtcblx0ICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGx5cmljKSB7XG5cdCAgICAgIHRoaXMubHlyaWMgPSBseXJpYztcblx0ICAgIH1cblx0ICB9LFxuXHQgIHdhdGNoOiB7XG5cdCAgICBseXJpYzogZnVuY3Rpb24gbHlyaWModmFsKSB7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC5seXJpYyA9IHZhbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudHM6IHtcblx0ICAgIFVwbG9hZDogX3VwbG9hZDIuZGVmYXVsdFxuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDkwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcblx0ICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdwJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmx5cmljX3VwbG9hZC5kZXNjcmlwdGlvbicpKV0pLCBcIiBcIiwgX3ZtLl9oKCd0ZXh0YXJlYScsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLmx5cmljKSxcblx0ICAgICAgZXhwcmVzc2lvbjogXCJseXJpY1wiXG5cdCAgICB9XSxcblx0ICAgIGRvbVByb3BzOiB7XG5cdCAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5seXJpYylcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cblx0ICAgICAgICBfdm0ubHlyaWMgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KSwgXCIgXCIsIF92bS5faCgndXBsb2FkJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcInVwbG9hZGVkXCI6IF92bS51cGxvYWRcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHlyaWNfdXBsb2FkLnVwbG9hZCcpKV0pXSlcblx0fSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG4vKioqLyB9LFxuLyogOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xuXHR2YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXHRcblx0Lyogc2NyaXB0ICovXG5cdF9fdnVlX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpXG5cdFxuXHQvKiB0ZW1wbGF0ZSAqL1xuXHR2YXIgX192dWVfdGVtcGxhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfY2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY2FjaGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FjaGUpO1xuXHRcblx0dmFyIF9wYWNrYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdFxuXHR2YXIgX3BhY2thZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFja2FnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnRpdGxlJyksXG5cdCAgICAgIGx5cmljOiAnJyxcblx0ICAgICAgdXNlck5hbWU6IF9jYWNoZTIuZGVmYXVsdC51c2VyTmFtZSxcblx0ICAgICAgc2F2ZU9wdGlvbnM6IHtcblx0ICAgICAgICBjb21iaW5lOiB0cnVlLFxuXHQgICAgICAgIGxpbmVGb3JtYXQ6ICdcXHJcXG4nLFxuXHQgICAgICAgIHNvcnQ6IHRydWVcblx0ICAgICAgfSxcblx0ICAgICAgaW5mb0ZpZWxkczogW3tcblx0ICAgICAgICBrZXk6ICd0aScsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuc29uZ190aXRsZScpXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhcicsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuYXJ0aXN0Jylcblx0ICAgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FsJyxcblx0ICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5hbGJ1bScpXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhdScsXG5cdCAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5maWVsZHMuc29uZ3RleHRfY3JlYXRvcicpXG5cdCAgICAgIH1dLFxuXHQgICAgICBpbmZvOiB7fVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMucnVubmVyID0gJEFwcC5ydW5uZXI7XG5cdCAgICB2YXIgcGxheWVyID0gJEFwcC4kcmVmcy5wbGF5ZXI7XG5cdCAgICB2YXIgaW5mbyA9IHt9O1xuXHRcblx0ICAgIHRoaXMuaW5mb0ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHQgICAgICBpZiAoZmllbGQua2V5IGluIF90aGlzLnJ1bm5lci5scmMuaW5mbykge1xuXHQgICAgICAgIGluZm9bZmllbGQua2V5XSA9IF90aGlzLnJ1bm5lci5scmMuaW5mb1tmaWVsZC5rZXldO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGluZm9bZmllbGQua2V5XSA9ICcnO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmIChwbGF5ZXIuZHVyYXRpb24pIGluZm8ubGVuZ3RoID0gKDAsIF91dGlscy50aW1lc3RhbXAydGltZXN0cikocGxheWVyLmR1cmF0aW9uKTtcblx0ICAgIGlmICh0aGlzLnVzZXJOYW1lKSBpbmZvLmJ5ID0gdGhpcy51c2VyTmFtZTtcblx0ICAgIGluZm8ucmUgPSBfcGFja2FnZTIuZGVmYXVsdC5uYW1lICsgJyAoJyArIF9wYWNrYWdlMi5kZWZhdWx0Lm9ubGluZVBhZ2UgKyAnKSc7XG5cdCAgICBpbmZvLnZlID0gX3BhY2thZ2UyLmRlZmF1bHQudmVyc2lvbjtcblx0XG5cdCAgICB0aGlzLmluZm8gPSBpbmZvO1xuXHRcblx0ICAgIHRoaXMubHlyaWNVcGRhdGUoKTtcblx0ICB9LFxuXHRcblx0ICBtZXRob2RzOiB7XG5cdCAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkge1xuXHQgICAgICAoMCwgX3V0aWxzLnNhdmVMcmMpKHRoaXMucnVubmVyLmxyYy50b1N0cmluZyh0aGlzLnNhdmVPcHRpb25zKSwgdGhpcy5ydW5uZXIubHJjLmluZm8udGkgfHwgJ2x5cmljJyk7XG5cdCAgICB9LFxuXHQgICAgaW5mb1VwZGF0ZTogZnVuY3Rpb24gaW5mb1VwZGF0ZSgpIHtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5mbykge1xuXHQgICAgICAgIGlmICh0aGlzLmluZm9ba2V5XS5sZW5ndGggIT09IDApIHtcblx0ICAgICAgICAgIHRoaXMucnVubmVyLmxyYy5pbmZvW2tleV0gPSB0aGlzLmluZm9ba2V5XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVsZXRlIHRoaXMucnVubmVyLmxyYy5pbmZvW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMubHlyaWNVcGRhdGUoKTtcblx0ICAgIH0sXG5cdCAgICBseXJpY1VwZGF0ZTogZnVuY3Rpb24gbHlyaWNVcGRhdGUoKSB7XG5cdCAgICAgIHRoaXMubHlyaWMgPSB0aGlzLnJ1bm5lci5scmMudG9TdHJpbmcodGhpcy5zYXZlT3B0aW9ucyk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB3YXRjaDoge1xuXHQgICAgdXNlck5hbWU6IGZ1bmN0aW9uIHVzZXJOYW1lKG5hbWUpIHtcblx0ICAgICAgdGhpcy4kc2V0KHRoaXMuaW5mbywgJ2J5JywgbmFtZSk7XG5cdCAgICAgIF9jYWNoZTIuZGVmYXVsdC51c2VyTmFtZSA9IG5hbWU7XG5cdCAgICB9LFxuXHQgICAgbHlyaWM6IGZ1bmN0aW9uIGx5cmljKCkge1xuXHQgICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMubHlyaWM7XG5cdCAgICB9LFxuXHRcblx0ICAgIHNhdmVPcHRpb25zOiB7XG5cdCAgICAgIGRlZXA6IHRydWUsXG5cdCAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG5cdCAgICAgICAgdGhpcy5seXJpY1VwZGF0ZSgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgaW5mbzoge1xuXHQgICAgICBkZWVwOiB0cnVlLFxuXHQgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdpbmZvJyk7XG5cdCAgICAgICAgdGhpcy5pbmZvVXBkYXRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmluZm9fdGl0bGUnKSldKSwgXCIgXCIsIF92bS5fbCgoX3ZtLmluZm9GaWVsZHMpLCBmdW5jdGlvbihmaWVsZCkge1xuXHQgICAgcmV0dXJuIChmaWVsZC5sYWJlbCkgPyBfdm0uX2goJ2RpdicsIHtcblx0ICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1ncm91cFwiXG5cdCAgICB9LCBbX3ZtLl9oKCdsYWJlbCcsIHtcblx0ICAgICAgYXR0cnM6IHtcblx0ICAgICAgICBcImZvclwiOiAnaW5mby0nICsgZmllbGQua2V5XG5cdCAgICAgIH0sXG5cdCAgICAgIGRvbVByb3BzOiB7XG5cdCAgICAgICAgXCJ0ZXh0Q29udGVudFwiOiBfdm0uX3MoZmllbGQubGFiZWwpXG5cdCAgICAgIH1cblx0ICAgIH0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG5cdCAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgICAgdmFsdWU6IChfdm0uaW5mb1tmaWVsZC5rZXldKSxcblx0ICAgICAgICBleHByZXNzaW9uOiBcImluZm9bZmllbGQua2V5XVwiXG5cdCAgICAgIH1dLFxuXHQgICAgICBhdHRyczoge1xuXHQgICAgICAgIFwiaWRcIjogJ2luZm8tJyArIGZpZWxkLmtleSxcblx0ICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcblx0ICAgICAgfSxcblx0ICAgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0uaW5mb1tmaWVsZC5rZXldKVxuXHQgICAgICB9LFxuXHQgICAgICBvbjoge1xuXHQgICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICB2YXIgJCRleHAgPSBfdm0uaW5mbyxcblx0ICAgICAgICAgICAgJCRpZHggPSBmaWVsZC5rZXk7XG5cdCAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoJCRleHApKSB7XG5cdCAgICAgICAgICAgIF92bS5pbmZvW2ZpZWxkLmtleV0gPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAkJGV4cC5zcGxpY2UoJCRpZHgsIDEsICRldmVudC50YXJnZXQudmFsdWUpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KV0pIDogX3ZtLl9lKClcblx0ICB9KSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1ncm91cFwiXG5cdCAgfSwgW192bS5faCgnbGFiZWwnLCB7XG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcImZvclwiOiBcImluZm8tYnlcIlxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmxyY19jcmVhdG9yJykpXSksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuXHQgICAgZGlyZWN0aXZlczogW3tcblx0ICAgICAgbmFtZTogXCJtb2RlbFwiLFxuXHQgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcblx0ICAgICAgdmFsdWU6IChfdm0udXNlck5hbWUpLFxuXHQgICAgICBleHByZXNzaW9uOiBcInVzZXJOYW1lXCJcblx0ICAgIH1dLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJpZFwiOiBcImluZm8tYnlcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG5cdCAgICB9LFxuXHQgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLnVzZXJOYW1lKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuXHQgICAgICAgIF92bS51c2VyTmFtZSA9ICRldmVudC50YXJnZXQudmFsdWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pXSksIFwiIFwiLCBfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5zYXZlX3RpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywgW192bS5fcyhfdm0ubHlyaWMpXSksIFwiIFwiLCBfdm0uX2goJ2xhYmVsJywgW1wiXFxuICAgIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmNvbWJpbmUnKSkgKyBcIlxcbiAgICBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcblx0ICAgIGRpcmVjdGl2ZXM6IFt7XG5cdCAgICAgIG5hbWU6IFwibW9kZWxcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG5cdCAgICAgIHZhbHVlOiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUpLFxuXHQgICAgICBleHByZXNzaW9uOiBcInNhdmVPcHRpb25zLmNvbWJpbmVcIlxuXHQgICAgfV0sXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInR5cGVcIjogXCJjaGVja2JveFwiXG5cdCAgICB9LFxuXHQgICAgZG9tUHJvcHM6IHtcblx0ICAgICAgXCJjaGVja2VkXCI6IEFycmF5LmlzQXJyYXkoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUpID8gX3ZtLl9pKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLCBudWxsKSA+IC0xIDogX3ZtLl9xKF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLCB0cnVlKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2hhbmdlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIHZhciAkJGEgPSBfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSxcblx0ICAgICAgICAgICQkZWwgPSAkZXZlbnQudGFyZ2V0LFxuXHQgICAgICAgICAgJCRjID0gJCRlbC5jaGVja2VkID8gKHRydWUpIDogKGZhbHNlKTtcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSgkJGEpKSB7XG5cdCAgICAgICAgICB2YXIgJCR2ID0gbnVsbCxcblx0ICAgICAgICAgICAgJCRpID0gX3ZtLl9pKCQkYSwgJCR2KTtcblx0ICAgICAgICAgIGlmICgkJGMpIHtcblx0ICAgICAgICAgICAgJCRpIDwgMCAmJiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGEuY29uY2F0KCQkdikpXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAkJGkgPiAtMSAmJiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGEuc2xpY2UoMCwgJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSArIDEpKSlcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGNcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLnNhdmVcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1kb3dubG9hZFwiXG5cdCAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmRvd25sb2FkJykpICsgXCJcXG4gIFwiXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA5NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG5cdCAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuXHQgICAgY2xhc3M6IHtcblx0ICAgICAgY292ZXI6IF92bS5jb3ZlclNob3dcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCd0cmFuc2l0aW9uJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJuYW1lXCI6IFwibW9kYWxcIlxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiYWZ0ZXItbGVhdmVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLmNvdmVyU2hvdyA9IGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbKF92bS5pc1Nob3cpID8gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtb2RhbFwiLFxuXHQgICAgY2xhc3M6IFtfdm0uc2l6ZV0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImhlYWRlclwiXG5cdCAgfSwgW1wiXFxuICAgICAgICBcIiArIF92bS5fcyhfdm0udGl0bGUpICsgXCJcXG4gICAgICAgIFwiLCBfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiLFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG5cdCAgICB9XG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYm9keVwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgcmVmOiBcIm1vZGFsV3JhcHBlclwiXG5cdCAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiZm9vdGVyXCJcblx0ICB9LCBbKF92bS5jb25maXJtKSA/IF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiYnRuLWdyb3VwXCJcblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLm9rXG5cdCAgICB9XG5cdCAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmJ1dHRvbi5vaycpKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJidG5cIixcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5idXR0b24uY2FuY2VsJykpXSldKSA6IF92bS5fZSgpXSldKSA6IF92bS5fZSgpXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiA5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG5cdHZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cdFxuXHQvKiBzdHlsZXMgKi9cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5Nilcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5OClcblx0XG5cdC8qIHNjcmlwdCAqL1xuXHRfX3Z1ZV9leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMClcblx0XG5cdC8qIHRlbXBsYXRlICovXG5cdHZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpXG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuXHRpZiAoXG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG5cdCAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG5cdH1cblx0aWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG5cdH1cblx0XG5cdF9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuXHRfX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblx0X192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtNTFlYWMwNmJcIlxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG4vKioqLyB9LFxuLyogOTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRhcmdldFtkYXRhLXYtNTFlYWMwNmJde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOi04cHg7cGFkZGluZzo4cHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL25hdi1tZW51LnZ1ZVwiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm5hdi1tZW51IC53cmFwe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwO2JveC1zaGFkb3c6NHB4IDRweCAzcHggLTJweCAjY2NjfS5uYXYtbWVudSAud3JhcCB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTtwYWRkaW5nOjA7bWFyZ2luOjA7YmFja2dyb3VuZC1jb2xvcjojMGQ0ODg0fS5uYXYtbWVudSAud3JhcCB1bCBsaXtwYWRkaW5nOjAgNXB4O2N1cnNvcjpwb2ludGVyO2xpbmUtaGVpZ2h0OjMwcHg7Zm9udC1zaXplOjEycHh9Lm5hdi1tZW51IC53cmFwIHVsIGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzA4MmY1Nn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBkaXI6IGZhbHNlLFxuXHQgICAgICBzdHlsZToge1xuXHQgICAgICAgIHRvcDogMCxcblx0ICAgICAgICBsZWZ0OiAwXG5cdCAgICAgIH0sXG5cdCAgICAgIHNob3c6IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHByb3BzOiB7XG5cdCAgICBlbnRlckRlbGF5OiB7XG5cdCAgICAgIHR5cGU6IE51bWJlcixcblx0ICAgICAgZGVmYXVsdDogMC4xXG5cdCAgICB9LFxuXHQgICAgbGVhdmVEZWxheToge1xuXHQgICAgICB0eXBlOiBOdW1iZXIsXG5cdCAgICAgIGRlZmF1bHQ6IDAuNVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLm1lbnU7XG5cdCAgICB2YXIgZGhvdmVyID0gbmV3IF91dGlscy5EZWxheUhvdmVyKG1lbnUsIHtcblx0ICAgICAgZW50ZXJEZWxheTogdGhpcy5lbnRlckRlbGF5LFxuXHQgICAgICBsZWF2ZURlbGF5OiB0aGlzLmxlYXZlRGVsYXlcblx0ICAgIH0pO1xuXHQgICAgZGhvdmVyLmhvdmVyKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc2hvdyA9IHRydWU7XG5cdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnNob3cgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBwYXJlbnQgPSB0aGlzLiRlbDtcblx0ICAgIHRoaXMuc3R5bGUudG9wID0gcGFyZW50LnN0eWxlLmNsaWVudEhlaWdodDtcblx0ICB9XG5cdH07IC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cdC8vXG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHJlZjogXCJtZW51XCIsXG5cdCAgICBzdGF0aWNDbGFzczogXCJuYXYtbWVudVwiXG5cdCAgfSwgW192bS5faCgnc3BhbicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcInRhcmdldFwiXG5cdCAgfSwgW192bS5fdChcInRhcmdldFwiKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBkaXJlY3RpdmVzOiBbe1xuXHQgICAgICBuYW1lOiBcInNob3dcIixcblx0ICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcblx0ICAgICAgdmFsdWU6IChfdm0uc2hvdyksXG5cdCAgICAgIGV4cHJlc3Npb246IFwic2hvd1wiXG5cdCAgICB9XSxcblx0ICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIixcblx0ICAgIHN0eWxlOiAoX3ZtLnN0eWxlKVxuXHQgIH0sIFtfdm0uX3QoXCJsaXN0XCIpXSldKVxuXHR9LHN0YXRpY1JlbmRlckZuczogW119XG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuXHQgIHJldHVybiBfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImFwcFwiXG5cdCAgfSwgW192bS5faCgnaGVhZGVyJywgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibGVmdFwiXG5cdCAgfSwgW192bS5faCgnbmF2LW1lbnUnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24udXBsb2FkJylcblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzbG90OiBcInRhcmdldFwiXG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcblx0ICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCd1bCcsIHtcblx0ICAgIHNsb3Q6IFwibGlzdFwiXG5cdCAgfSwgW192bS5faCgnbGknLCB7XG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHJjLWZvcm1hdC11cGxvYWQnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcblx0ICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5scmMnKSkgKyBcIlxcbiAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdseXJpYy11cGxvYWQnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgW192bS5faCgnaScsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcblx0ICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5seXJpYycpKSArIFwiXFxuICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgndXBsb2FkJywge1xuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJhY2NlcHRcIjogXCJhdWRpby8qXCIsXG5cdCAgICAgIFwicmVhZC1mb3JtYXRcIjogXCJEYXRhVVJMXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcInVwbG9hZGVkXCI6IF92bS51cGxvYWRNdXNpY1xuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5tdXNpYycpKV0pXSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24uc2F2ZScpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2xyYy1zYXZlJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXNhdmVcIlxuXHQgIH0pXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwicmlnaHRcIlxuXHQgIH0sIFtfdm0uX2goJ2RpdicsIHtcblx0ICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJ0aXRsZVwiOiBfdm0uZWRpdGluZyA/IF92bS4kdCgnYnV0dG9uLmNsb3NlX2VkaXQnKSA6IF92bS4kdCgnYnV0dG9uLm9wZW5fZWRpdCcpXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uZWRpdGluZyA9ICFfdm0uZWRpdGluZ1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwgWyhfdm0uZWRpdGluZykgPyBbX3ZtLl9oKCdpJywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1jYW5jZWxcIlxuXHQgIH0pXSA6IFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWVkaXRcIlxuXHQgIH0pXSwgXCIgXCJdKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLmhlbHAnKVxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG5cdCAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdoZWxwJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLWhlbHAtY2lyY2xlZFwiXG5cdCAgfSldKV0pXSksIFwiIFwiLCBfdm0uX2goJ3BsYXllcicsIHtcblx0ICAgIHJlZjogXCJwbGF5ZXJcIixcblx0ICAgIGF0dHJzOiB7XG5cdCAgICAgIFwic3JjXCI6IF92bS5tdXNpY1VybFxuXHQgICAgfSxcblx0ICAgIG9uOiB7XG5cdCAgICAgIFwidGltZXVwZGF0ZVwiOiBfdm0udGltZXVwZGF0ZVxuXHQgICAgfVxuXHQgIH0pLCBcIiBcIiwgX3ZtLl9oKCdseXJpYy1lZGl0b3InLCB7XG5cdCAgICByZWY6IFwibHlyaWNcIixcblx0ICAgIHN0YXRpY0NsYXNzOiBcImx5cmljLWVkaXRvclwiLFxuXHQgICAgYXR0cnM6IHtcblx0ICAgICAgXCJlZGl0aW5nXCI6IF92bS5lZGl0aW5nLFxuXHQgICAgICBcInJ1bm5lclwiOiBfdm0ucnVubmVyLFxuXHQgICAgICBcImx5cmljLWFycmF5XCI6IF92bS5seXJpY0FycmF5LFxuXHQgICAgICBcInBsYXl0b1wiOiBfdm0ucGxheXRvXG5cdCAgICB9XG5cdCAgfSwgW1wiXFxuICAgIGx5cmljIGVkaXRvclxcbiAgXCJdKSwgXCIgXCIsIF92bS5faCgnZm9vdGVyJywgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibGVmdFwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IF92bS5yZW1vdmVMeXJpY1xuXHQgICAgfVxuXHQgIH0sIFtfdm0uX2goJ2knLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcblx0ICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdidXR0b24ucmVtb3ZlX2x5cmljJykpICsgXCJcXG4gICAgICBcIl0pXSksIFwiIFwiLCAoX3ZtLmVkaXRpbmcpID8gX3ZtLl9oKCdkaXYnLCB7XG5cdCAgICBzdGF0aWNDbGFzczogXCJyaWdodFwiXG5cdCAgfSwgW192bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IFwiW1VQXVwiXG5cdCAgICB9LFxuXHQgICAgb246IHtcblx0ICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcblx0ICAgICAgICBfdm0uJHJlZnMubHlyaWMuJGVtaXQoJ3ByZXZseXJpYycpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCBbX3ZtLl9zKF92bS4kdCgnYnV0dG9uLnByZXZfbHlyaWMnKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuXHQgICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG5cdCAgICBhdHRyczoge1xuXHQgICAgICBcInRpdGxlXCI6IFwiW0RPV05dXCJcblx0ICAgIH0sXG5cdCAgICBvbjoge1xuXHQgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuXHQgICAgICAgIF92bS4kcmVmcy5seXJpYy4kZW1pdCgnbmV4dGx5cmljJylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIFtfdm0uX3MoX3ZtLiR0KCdidXR0b24ubmV4dF9seXJpYycpKV0pXSkgOiBfdm0uX2UoKV0pLCBcIiBcIiwgX3ZtLl9oKCdtb2RhbHMnLCB7XG5cdCAgICByZWY6IFwibW9kYWxzXCJcblx0ICB9KV0pXG5cdH0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuLyoqKi8gfSxcbi8qIDEwMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF92dWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF92dWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlKTtcblx0XG5cdHZhciBfdnVlSTE4biA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcblx0XG5cdHZhciBfdnVlSTE4bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92dWVJMThuKTtcblx0XG5cdHZhciBfbG9jYWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0XG5cdHZhciBfbG9jYWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2NhbGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbGFuZyA9IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHRcblx0aWYgKCEobGFuZyBpbiBfbG9jYWxlczIuZGVmYXVsdCkpIHtcblx0ICBpZiAobGFuZy5pbmRleE9mKCctJykgPj0gMCkge1xuXHQgICAgbGFuZyA9IGxhbmcuc3BsaXQoJy0nKVswXTtcblx0ICB9XG5cdH1cblx0XG5cdF92dWUyLmRlZmF1bHQudXNlKF92dWVJMThuMi5kZWZhdWx0KTtcblx0XG5cdF92dWUyLmRlZmF1bHQuY29uZmlnLmxhbmcgPSBsYW5nO1xuXHRfdnVlMi5kZWZhdWx0LmxvY2FsZShsYW5nLCBfbG9jYWxlczIuZGVmYXVsdFtsYW5nXSk7XG5cbi8qKiovIH0sXG4vKiAxMDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyohXG5cdCAqIHZ1ZS1pMThuIHY0LjcuM1xuXHQgKiAoYykgMjAxNiBrYXp1eWEga2F3YWd1Y2hpXG5cdCAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cblx0ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBiYWJlbEhlbHBlcnMgPSB7fTtcblx0YmFiZWxIZWxwZXJzLnR5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiB0eXBlb2Ygb2JqO1xuXHR9IDogZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG5cdH07XG5cdGJhYmVsSGVscGVycztcblx0XG5cdC8qKlxuXHQgKiB3YXJuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcblx0ICogQHBhcmFtIHtFcnJvcn0gW2Vycl1cblx0ICpcblx0ICovXG5cdFxuXHRmdW5jdGlvbiB3YXJuKG1zZywgZXJyKSB7XG5cdCAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG5cdCAgICBjb25zb2xlLndhcm4oJ1t2dWUtaTE4bl0gJyArIG1zZyk7XG5cdCAgICBpZiAoZXJyKSB7XG5cdCAgICAgIGNvbnNvbGUud2FybihlcnIuc3RhY2spO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gQXNzZXQgKFZ1ZSwgbGFuZ1ZNKSB7XG5cdCAgLyoqXG5cdCAgICogUmVnaXN0ZXIgb3IgcmV0cmlldmUgYSBnbG9iYWwgbG9jYWxlIGRlZmluaXRpb24uXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gaWRcblx0ICAgKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgUHJvbWlzZX0gZGVmaW5pdGlvblxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG5cdCAgICovXG5cdFxuXHQgIFZ1ZS5sb2NhbGUgPSBmdW5jdGlvbiAoaWQsIGRlZmluaXRpb24sIGNiKSB7XG5cdCAgICBpZiAoZGVmaW5pdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIC8vIGdldHR0ZXJcblx0ICAgICAgcmV0dXJuIGxhbmdWTS5sb2NhbGVzW2lkXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIHNldHRlclxuXHQgICAgICBpZiAoZGVmaW5pdGlvbiA9PT0gbnVsbCkge1xuXHQgICAgICAgIGxhbmdWTS5sb2NhbGVzW2lkXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICBkZWxldGUgbGFuZ1ZNLmxvY2FsZXNbaWRdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHNldExvY2FsZShpZCwgZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGxvY2FsZSkge1xuXHQgICAgICAgICAgaWYgKGxvY2FsZSkge1xuXHQgICAgICAgICAgICBsYW5nVk0ubG9jYWxlc1tpZF0gPSBsb2NhbGU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB3YXJuKCdmYWlsZWQgc2V0IGAnICsgaWQgKyAnYCBsb2NhbGUnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGNiICYmIGNiKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRMb2NhbGUoaWQsIGRlZmluaXRpb24sIGNiKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgaWYgKCh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IGJhYmVsSGVscGVycy50eXBlb2YoZGVmaW5pdGlvbikpID09PSAnb2JqZWN0Jykge1xuXHQgICAgLy8gc3luY1xuXHQgICAgY2IoZGVmaW5pdGlvbik7XG5cdCAgfSBlbHNlIHtcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBmdXR1cmUgPSBkZWZpbml0aW9uLmNhbGwoX3RoaXMpO1xuXHQgICAgICBpZiAodHlwZW9mIGZ1dHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIGlmIChmdXR1cmUucmVzb2x2ZWQpIHtcblx0ICAgICAgICAgIC8vIGNhY2hlZFxuXHQgICAgICAgICAgY2IoZnV0dXJlLnJlc29sdmVkKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGZ1dHVyZS5yZXF1ZXN0ZWQpIHtcblx0ICAgICAgICAgIC8vIHBvb2wgY2FsbGJhY2tzXG5cdCAgICAgICAgICBmdXR1cmUucGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNiKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgZnV0dXJlLnJlcXVlc3RlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBjYnMgPSBmdXR1cmUucGVuZGluZ0NhbGxiYWNrcyA9IFtjYl07XG5cdCAgICAgICAgICAgIGZ1dHVyZShmdW5jdGlvbiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAgICAgLy8gcmVzb2x2ZVxuXHQgICAgICAgICAgICAgIGZ1dHVyZS5yZXNvbHZlZCA9IGxvY2FsZTtcblx0ICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGNic1tpXShsb2NhbGUpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgIC8vIHJlamVjdFxuXHQgICAgICAgICAgICAgIGNiKCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSkoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKGZ1dHVyZSkpIHtcblx0ICAgICAgICAvLyBwcm9taXNlXG5cdCAgICAgICAgZnV0dXJlLnRoZW4oZnVuY3Rpb24gKGxvY2FsZSkge1xuXHQgICAgICAgICAgLy8gcmVzb2x2ZVxuXHQgICAgICAgICAgY2IobG9jYWxlKTtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAvLyByZWplY3Rcblx0ICAgICAgICAgIGNiKCk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuXHQgICAgICAgICAgY2IoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSkoKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBGb3JnaXZpbmcgY2hlY2sgZm9yIGEgcHJvbWlzZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGlzUHJvbWlzZShwKSB7XG5cdCAgcmV0dXJuIHAgJiYgdHlwZW9mIHAudGhlbiA9PT0gJ2Z1bmN0aW9uJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gT3ZlcnJpZGUgKFZ1ZSwgbGFuZ1ZNLCB2ZXJzaW9uKSB7XG5cdCAgZnVuY3Rpb24gdXBkYXRlKHZtKSB7XG5cdCAgICBpZiAodmVyc2lvbiA+IDEpIHtcblx0ICAgICAgdm0uJGZvcmNlVXBkYXRlKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG5cdCAgICAgIHdoaWxlIChpLS0pIHtcblx0ICAgICAgICB2bS5fd2F0Y2hlcnNbaV0udXBkYXRlKHRydWUpOyAvLyBzaGFsbG93IHVwZGF0ZXNcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gb3ZlcnJpZGUgX2luaXRcblx0ICB2YXIgaW5pdCA9IFZ1ZS5wcm90b3R5cGUuX2luaXQ7XG5cdCAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIGluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0XG5cdCAgICBpZiAoIXRoaXMuJHBhcmVudCkge1xuXHQgICAgICAvLyByb290XG5cdCAgICAgIHRoaXMuJGxhbmcgPSBsYW5nVk07XG5cdCAgICAgIHRoaXMuX2xhbmdVbndhdGNoID0gdGhpcy4kbGFuZy4kd2F0Y2goJyRkYXRhJywgZnVuY3Rpb24gKHZhbCwgb2xkKSB7XG5cdCAgICAgICAgdXBkYXRlKF90aGlzKTtcblx0ICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vIG92ZXJyaWRlIF9kZXN0cm95XG5cdCAgdmFyIGRlc3Ryb3kgPSBWdWUucHJvdG90eXBlLl9kZXN0cm95O1xuXHQgIFZ1ZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXRoaXMuJHBhcmVudCAmJiB0aGlzLl9sYW5nVW53YXRjaCkge1xuXHQgICAgICB0aGlzLl9sYW5nVW53YXRjaCgpO1xuXHQgICAgICB0aGlzLl9sYW5nVW53YXRjaCA9IG51bGw7XG5cdCAgICAgIHRoaXMuJGxhbmcgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGRlc3Ryb3kuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogT2JzZXJ2ZXJcblx0ICovXG5cdFxuXHR2YXIgV2F0Y2hlciA9IHZvaWQgMDtcblx0LyoqXG5cdCAqIGdldFdhdGNoZXJcblx0ICpcblx0ICogQHBhcmFtIHtWdWV9IHZtXG5cdCAqIEByZXR1cm4ge1dhdGNoZXJ9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZ2V0V2F0Y2hlcih2bSkge1xuXHQgIGlmICghV2F0Y2hlcikge1xuXHQgICAgdmFyIHVud2F0Y2ggPSB2bS4kd2F0Y2goJ19fd2F0Y2hlcl9fJywgZnVuY3Rpb24gKGEpIHt9KTtcblx0ICAgIFdhdGNoZXIgPSB2bS5fd2F0Y2hlcnNbMF0uY29uc3RydWN0b3I7XG5cdCAgICB1bndhdGNoKCk7XG5cdCAgfVxuXHQgIHJldHVybiBXYXRjaGVyO1xuXHR9XG5cdFxuXHR2YXIgRGVwID0gdm9pZCAwO1xuXHQvKipcblx0ICogZ2V0RGVwXG5cdCAqXG5cdCAqIEBwYXJhbSB7VnVlfSB2bVxuXHQgKiBAcmV0dXJuIHtEZXB9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZ2V0RGVwKHZtKSB7XG5cdCAgaWYgKCFEZXAgJiYgdm0gJiYgdm0uX2RhdGEgJiYgdm0uX2RhdGEuX19vYl9fICYmIHZtLl9kYXRhLl9fb2JfXy5kZXApIHtcblx0ICAgIERlcCA9IHZtLl9kYXRhLl9fb2JfXy5kZXAuY29uc3RydWN0b3I7XG5cdCAgfVxuXHQgIHJldHVybiBEZXA7XG5cdH1cblx0XG5cdHZhciBmYWxsYmFjayA9IHZvaWQgMDsgLy8gZmFsbGJhY2sgbGFuZ1xuXHR2YXIgbWlzc2luZ0hhbmRsZXIgPSBudWxsOyAvLyBtaXNzaW5nIGhhbmRsZXJcblx0dmFyIGkxOG5Gb3JtYXR0ZXIgPSBudWxsOyAvLyBjdXN0b20gZm9ybWF0dGVyXG5cdFxuXHRmdW5jdGlvbiBDb25maWcgKFZ1ZSwgbGFuZ1ZNLCBsYW5nKSB7XG5cdCAgdmFyIGJpbmQgPSBWdWUudXRpbC5iaW5kO1xuXHRcblx0ICB2YXIgV2F0Y2hlciA9IGdldFdhdGNoZXIobGFuZ1ZNKTtcblx0ICB2YXIgRGVwID0gZ2V0RGVwKGxhbmdWTSk7XG5cdFxuXHQgIGZ1bmN0aW9uIG1ha2VDb21wdXRlZEdldHRlcihnZXR0ZXIsIG93bmVyKSB7XG5cdCAgICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKG93bmVyLCBnZXR0ZXIsIG51bGwsIHtcblx0ICAgICAgbGF6eTogdHJ1ZVxuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyKCkge1xuXHQgICAgICB3YXRjaGVyLmRpcnR5ICYmIHdhdGNoZXIuZXZhbHVhdGUoKTtcblx0ICAgICAgRGVwICYmIERlcC50YXJnZXQgJiYgd2F0Y2hlci5kZXBlbmQoKTtcblx0ICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWU7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgLy8gZGVmaW5lIFZ1ZS5jb25maWcubGFuZyBjb25maWdyYXRpb25cblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2xhbmcnLCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBtYWtlQ29tcHV0ZWRHZXR0ZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gbGFuZ1ZNLmxhbmc7XG5cdCAgICB9LCBsYW5nVk0pLFxuXHQgICAgc2V0OiBiaW5kKGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgbGFuZ1ZNLmxhbmcgPSB2YWw7XG5cdCAgICB9LCBsYW5nVk0pXG5cdCAgfSk7XG5cdFxuXHQgIC8vIGRlZmluZSBWdWUuY29uZmlnLmZhbGxiYWNrTGFuZyBjb25maWdyYXRpb25cblx0ICBmYWxsYmFjayA9IGxhbmc7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdmYWxsYmFja0xhbmcnLCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBmYWxsYmFjaztcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcblx0ICAgICAgZmFsbGJhY2sgPSB2YWw7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIC8vIGRlZmluZSBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyIGNvbmZpZ3JhdGlvblxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnbWlzc2luZ0hhbmRsZXInLCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBtaXNzaW5nSGFuZGxlcjtcblx0ICAgIH0sXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcblx0ICAgICAgbWlzc2luZ0hhbmRsZXIgPSB2YWw7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIC8vIGRlZmluZSBWdWUuY29uZmlnLmkxOEZvcm1hdHRlciBjb25maWdyYXRpb25cblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2kxOG5Gb3JtYXR0ZXInLCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBpMThuRm9ybWF0dGVyO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuXHQgICAgICBpMThuRm9ybWF0dGVyID0gdmFsO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdXRpbGl0ZXNcblx0ICovXG5cdFxuXHQvKipcblx0ICogaXNOaWxcblx0ICpcblx0ICogQHBhcmFtIHsqfSB2YWxcblx0ICogQHJldHVybiBCb29sZWFuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc05pbCh2YWwpIHtcblx0ICByZXR1cm4gdmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogIFN0cmluZyBmb3JtYXQgdGVtcGxhdGVcblx0ICogIC0gSW5zcGlyZWQ6XG5cdCAqICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9NYXR0LUVzY2gvc3RyaW5nLXRlbXBsYXRlL2luZGV4LmpzXG5cdCAqL1xuXHRcblx0dmFyIFJFX05BUkdTID0gLyglfClcXHsoWzAtOWEtekEtWl9dKylcXH0vZztcblx0XG5cdGZ1bmN0aW9uIEZvcm1hdCAoVnVlKSB7XG5cdCAgdmFyIGhhc093biA9IFZ1ZS51dGlsLmhhc093bjtcblx0XG5cdCAgLyoqXG5cdCAgICogdGVtcGxhdGVcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcblx0ICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHRcblx0ICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYmFiZWxIZWxwZXJzLnR5cGVvZihhcmdzWzBdKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgYXJncyA9IGFyZ3NbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBhcmdzID0ge307XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFhcmdzIHx8ICFhcmdzLmhhc093blByb3BlcnR5KSB7XG5cdCAgICAgIGFyZ3MgPSB7fTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoUkVfTkFSR1MsIGZ1bmN0aW9uIChtYXRjaCwgcHJlZml4LCBpLCBpbmRleCkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXHRcblx0ICAgICAgaWYgKHN0cmluZ1tpbmRleCAtIDFdID09PSAneycgJiYgc3RyaW5nW2luZGV4ICsgbWF0Y2gubGVuZ3RoXSA9PT0gJ30nKSB7XG5cdCAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzdWx0ID0gaGFzT3duKGFyZ3MsIGkpID8gYXJnc1tpXSA6IG1hdGNoO1xuXHQgICAgICAgIGlmIChpc05pbChyZXN1bHQpKSB7XG5cdCAgICAgICAgICByZXR1cm4gJyc7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0ZW1wbGF0ZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqICBQYXRoIHBhZXJzZXJcblx0ICogIC0gSW5zcGlyZWQ6ICBcblx0ICogICAgVnVlLmpzIFBhdGggcGFyc2VyXG5cdCAqL1xuXHRcblx0Ly8gY2FjaGVcblx0dmFyIHBhdGhDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFxuXHQvLyBhY3Rpb25zXG5cdHZhciBBUFBFTkQgPSAwO1xuXHR2YXIgUFVTSCA9IDE7XG5cdHZhciBJTkNfU1VCX1BBVEhfREVQVEggPSAyO1xuXHR2YXIgUFVTSF9TVUJfUEFUSCA9IDM7XG5cdFxuXHQvLyBzdGF0ZXNcblx0dmFyIEJFRk9SRV9QQVRIID0gMDtcblx0dmFyIElOX1BBVEggPSAxO1xuXHR2YXIgQkVGT1JFX0lERU5UID0gMjtcblx0dmFyIElOX0lERU5UID0gMztcblx0dmFyIElOX1NVQl9QQVRIID0gNDtcblx0dmFyIElOX1NJTkdMRV9RVU9URSA9IDU7XG5cdHZhciBJTl9ET1VCTEVfUVVPVEUgPSA2O1xuXHR2YXIgQUZURVJfUEFUSCA9IDc7XG5cdHZhciBFUlJPUiA9IDg7XG5cdFxuXHR2YXIgcGF0aFN0YXRlTWFjaGluZSA9IFtdO1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtCRUZPUkVfUEFUSF0gPSB7XG5cdCAgJ3dzJzogW0JFRk9SRV9QQVRIXSxcblx0ICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF0sXG5cdCAgJ1snOiBbSU5fU1VCX1BBVEhdLFxuXHQgICdlb2YnOiBbQUZURVJfUEFUSF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbSU5fUEFUSF0gPSB7XG5cdCAgJ3dzJzogW0lOX1BBVEhdLFxuXHQgICcuJzogW0JFRk9SRV9JREVOVF0sXG5cdCAgJ1snOiBbSU5fU1VCX1BBVEhdLFxuXHQgICdlb2YnOiBbQUZURVJfUEFUSF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbQkVGT1JFX0lERU5UXSA9IHtcblx0ICAnd3MnOiBbQkVGT1JFX0lERU5UXSxcblx0ICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF1cblx0fTtcblx0XG5cdHBhdGhTdGF0ZU1hY2hpbmVbSU5fSURFTlRdID0ge1xuXHQgICdpZGVudCc6IFtJTl9JREVOVCwgQVBQRU5EXSxcblx0ICAnMCc6IFtJTl9JREVOVCwgQVBQRU5EXSxcblx0ICAnbnVtYmVyJzogW0lOX0lERU5ULCBBUFBFTkRdLFxuXHQgICd3cyc6IFtJTl9QQVRILCBQVVNIXSxcblx0ICAnLic6IFtCRUZPUkVfSURFTlQsIFBVU0hdLFxuXHQgICdbJzogW0lOX1NVQl9QQVRILCBQVVNIXSxcblx0ICAnZW9mJzogW0FGVEVSX1BBVEgsIFBVU0hdXG5cdH07XG5cdFxuXHRwYXRoU3RhdGVNYWNoaW5lW0lOX1NVQl9QQVRIXSA9IHtcblx0ICBcIidcIjogW0lOX1NJTkdMRV9RVU9URSwgQVBQRU5EXSxcblx0ICAnXCInOiBbSU5fRE9VQkxFX1FVT1RFLCBBUFBFTkRdLFxuXHQgICdbJzogW0lOX1NVQl9QQVRILCBJTkNfU1VCX1BBVEhfREVQVEhdLFxuXHQgICddJzogW0lOX1BBVEgsIFBVU0hfU1VCX1BBVEhdLFxuXHQgICdlb2YnOiBFUlJPUixcblx0ICAnZWxzZSc6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtJTl9TSU5HTEVfUVVPVEVdID0ge1xuXHQgIFwiJ1wiOiBbSU5fU1VCX1BBVEgsIEFQUEVORF0sXG5cdCAgJ2VvZic6IEVSUk9SLFxuXHQgICdlbHNlJzogW0lOX1NJTkdMRV9RVU9URSwgQVBQRU5EXVxuXHR9O1xuXHRcblx0cGF0aFN0YXRlTWFjaGluZVtJTl9ET1VCTEVfUVVPVEVdID0ge1xuXHQgICdcIic6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXSxcblx0ICAnZW9mJzogRVJST1IsXG5cdCAgJ2Vsc2UnOiBbSU5fRE9VQkxFX1FVT1RFLCBBUFBFTkRdXG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgYW4gZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgdmFsdWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBleHBcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdFxuXHR2YXIgbGl0ZXJhbFZhbHVlUkUgPSAvXlxccz8odHJ1ZXxmYWxzZXwtP1tcXGQuXSt8J1teJ10qJ3xcIlteXCJdKlwiKVxccz8kLztcblx0ZnVuY3Rpb24gaXNMaXRlcmFsKGV4cCkge1xuXHQgIHJldHVybiBsaXRlcmFsVmFsdWVSRS50ZXN0KGV4cCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTdHJpcCBxdW90ZXMgZnJvbSBhIHN0cmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG5cdCAqIEByZXR1cm4ge1N0cmluZyB8IGZhbHNlfVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHN0cmlwUXVvdGVzKHN0cikge1xuXHQgIHZhciBhID0gc3RyLmNoYXJDb2RlQXQoMCk7XG5cdCAgdmFyIGIgPSBzdHIuY2hhckNvZGVBdChzdHIubGVuZ3RoIC0gMSk7XG5cdCAgcmV0dXJuIGEgPT09IGIgJiYgKGEgPT09IDB4MjIgfHwgYSA9PT0gMHgyNykgPyBzdHIuc2xpY2UoMSwgLTEpIDogc3RyO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgY2hhcmFjdGVyIGluIGEga2V5cGF0aC5cblx0ICpcblx0ICogQHBhcmFtIHtDaGFyfSBjaFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IHR5cGVcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBnZXRQYXRoQ2hhclR5cGUoY2gpIHtcblx0ICBpZiAoY2ggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuICdlb2YnO1xuXHQgIH1cblx0XG5cdCAgdmFyIGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuXHRcblx0ICBzd2l0Y2ggKGNvZGUpIHtcblx0ICAgIGNhc2UgMHg1QjogLy8gW1xuXHQgICAgY2FzZSAweDVEOiAvLyBdXG5cdCAgICBjYXNlIDB4MkU6IC8vIC5cblx0ICAgIGNhc2UgMHgyMjogLy8gXCJcblx0ICAgIGNhc2UgMHgyNzogLy8gJ1xuXHQgICAgY2FzZSAweDMwOlxuXHQgICAgICAvLyAwXG5cdCAgICAgIHJldHVybiBjaDtcblx0XG5cdCAgICBjYXNlIDB4NUY6IC8vIF9cblx0ICAgIGNhc2UgMHgyNDogLy8gJFxuXHQgICAgY2FzZSAweDJEOlxuXHQgICAgICAvLyAtXG5cdCAgICAgIHJldHVybiAnaWRlbnQnO1xuXHRcblx0ICAgIGNhc2UgMHgyMDogLy8gU3BhY2Vcblx0ICAgIGNhc2UgMHgwOTogLy8gVGFiXG5cdCAgICBjYXNlIDB4MEE6IC8vIE5ld2xpbmVcblx0ICAgIGNhc2UgMHgwRDogLy8gUmV0dXJuXG5cdCAgICBjYXNlIDB4QTA6IC8vIE5vLWJyZWFrIHNwYWNlXG5cdCAgICBjYXNlIDB4RkVGRjogLy8gQnl0ZSBPcmRlciBNYXJrXG5cdCAgICBjYXNlIDB4MjAyODogLy8gTGluZSBTZXBhcmF0b3Jcblx0ICAgIGNhc2UgMHgyMDI5OlxuXHQgICAgICAvLyBQYXJhZ3JhcGggU2VwYXJhdG9yXG5cdCAgICAgIHJldHVybiAnd3MnO1xuXHQgIH1cblx0XG5cdCAgLy8gYS16LCBBLVpcblx0ICBpZiAoY29kZSA+PSAweDYxICYmIGNvZGUgPD0gMHg3QSB8fCBjb2RlID49IDB4NDEgJiYgY29kZSA8PSAweDVBKSB7XG5cdCAgICByZXR1cm4gJ2lkZW50Jztcblx0ICB9XG5cdFxuXHQgIC8vIDEtOVxuXHQgIGlmIChjb2RlID49IDB4MzEgJiYgY29kZSA8PSAweDM5KSB7XG5cdCAgICByZXR1cm4gJ251bWJlcic7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gJ2Vsc2UnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRm9ybWF0IGEgc3ViUGF0aCwgcmV0dXJuIGl0cyBwbGFpbiBmb3JtIGlmIGl0IGlzXG5cdCAqIGEgbGl0ZXJhbCBzdHJpbmcgb3IgbnVtYmVyLiBPdGhlcndpc2UgcHJlcGVuZCB0aGVcblx0ICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZm9ybWF0U3ViUGF0aChwYXRoKSB7XG5cdCAgdmFyIHRyaW1tZWQgPSBwYXRoLnRyaW0oKTtcblx0ICAvLyBpbnZhbGlkIGxlYWRpbmcgMFxuXHQgIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJzAnICYmIGlzTmFOKHBhdGgpKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gaXNMaXRlcmFsKHRyaW1tZWQpID8gc3RyaXBRdW90ZXModHJpbW1lZCkgOiAnKicgKyB0cmltbWVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUGFyc2UgYSBzdHJpbmcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHNlZ21lbnRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAqIEByZXR1cm4ge0FycmF5fHVuZGVmaW5lZH1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG5cdCAgdmFyIGtleXMgPSBbXTtcblx0ICB2YXIgaW5kZXggPSAtMTtcblx0ICB2YXIgbW9kZSA9IEJFRk9SRV9QQVRIO1xuXHQgIHZhciBzdWJQYXRoRGVwdGggPSAwO1xuXHQgIHZhciBjID0gdm9pZCAwLFxuXHQgICAgICBuZXdDaGFyID0gdm9pZCAwLFxuXHQgICAgICBrZXkgPSB2b2lkIDAsXG5cdCAgICAgIHR5cGUgPSB2b2lkIDAsXG5cdCAgICAgIHRyYW5zaXRpb24gPSB2b2lkIDAsXG5cdCAgICAgIGFjdGlvbiA9IHZvaWQgMCxcblx0ICAgICAgdHlwZU1hcCA9IHZvaWQgMDtcblx0XG5cdCAgdmFyIGFjdGlvbnMgPSBbXTtcblx0XG5cdCAgYWN0aW9uc1tQVVNIXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBrZXlzLnB1c2goa2V5KTtcblx0ICAgICAga2V5ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFjdGlvbnNbQVBQRU5EXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBrZXkgPSBuZXdDaGFyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAga2V5ICs9IG5ld0NoYXI7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYWN0aW9uc1tJTkNfU1VCX1BBVEhfREVQVEhdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgYWN0aW9uc1tBUFBFTkRdKCk7XG5cdCAgICBzdWJQYXRoRGVwdGgrKztcblx0ICB9O1xuXHRcblx0ICBhY3Rpb25zW1BVU0hfU1VCX1BBVEhdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHN1YlBhdGhEZXB0aCA+IDApIHtcblx0ICAgICAgc3ViUGF0aERlcHRoLS07XG5cdCAgICAgIG1vZGUgPSBJTl9TVUJfUEFUSDtcblx0ICAgICAgYWN0aW9uc1tBUFBFTkRdKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdWJQYXRoRGVwdGggPSAwO1xuXHQgICAgICBrZXkgPSBmb3JtYXRTdWJQYXRoKGtleSk7XG5cdCAgICAgIGlmIChrZXkgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFjdGlvbnNbUFVTSF0oKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIG1heWJlVW5lc2NhcGVRdW90ZSgpIHtcblx0ICAgIHZhciBuZXh0Q2hhciA9IHBhdGhbaW5kZXggKyAxXTtcblx0ICAgIGlmIChtb2RlID09PSBJTl9TSU5HTEVfUVVPVEUgJiYgbmV4dENoYXIgPT09IFwiJ1wiIHx8IG1vZGUgPT09IElOX0RPVUJMRV9RVU9URSAmJiBuZXh0Q2hhciA9PT0gJ1wiJykge1xuXHQgICAgICBpbmRleCsrO1xuXHQgICAgICBuZXdDaGFyID0gJ1xcXFwnICsgbmV4dENoYXI7XG5cdCAgICAgIGFjdGlvbnNbQVBQRU5EXSgpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHdoaWxlIChtb2RlICE9IG51bGwpIHtcblx0ICAgIGluZGV4Kys7XG5cdCAgICBjID0gcGF0aFtpbmRleF07XG5cdFxuXHQgICAgaWYgKGMgPT09ICdcXFxcJyAmJiBtYXliZVVuZXNjYXBlUXVvdGUoKSkge1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB0eXBlID0gZ2V0UGF0aENoYXJUeXBlKGMpO1xuXHQgICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XG5cdCAgICB0cmFuc2l0aW9uID0gdHlwZU1hcFt0eXBlXSB8fCB0eXBlTWFwWydlbHNlJ10gfHwgRVJST1I7XG5cdFxuXHQgICAgaWYgKHRyYW5zaXRpb24gPT09IEVSUk9SKSB7XG5cdCAgICAgIHJldHVybjsgLy8gcGFyc2UgZXJyb3Jcblx0ICAgIH1cblx0XG5cdCAgICBtb2RlID0gdHJhbnNpdGlvblswXTtcblx0ICAgIGFjdGlvbiA9IGFjdGlvbnNbdHJhbnNpdGlvblsxXV07XG5cdCAgICBpZiAoYWN0aW9uKSB7XG5cdCAgICAgIG5ld0NoYXIgPSB0cmFuc2l0aW9uWzJdO1xuXHQgICAgICBuZXdDaGFyID0gbmV3Q2hhciA9PT0gdW5kZWZpbmVkID8gYyA6IG5ld0NoYXI7XG5cdCAgICAgIGlmIChhY3Rpb24oKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAobW9kZSA9PT0gQUZURVJfUEFUSCkge1xuXHQgICAgICBrZXlzLnJhdyA9IHBhdGg7XG5cdCAgICAgIHJldHVybiBrZXlzO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEV4dGVybmFsIHBhcnNlIHRoYXQgY2hlY2sgZm9yIGEgY2FjaGUgaGl0IGZpcnN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAqIEByZXR1cm4ge0FycmF5fHVuZGVmaW5lZH1cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuXHQgIHZhciBoaXQgPSBwYXRoQ2FjaGVbcGF0aF07XG5cdCAgaWYgKCFoaXQpIHtcblx0ICAgIGhpdCA9IHBhcnNlKHBhdGgpO1xuXHQgICAgaWYgKGhpdCkge1xuXHQgICAgICBwYXRoQ2FjaGVbcGF0aF0gPSBoaXQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBoaXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFBhdGggKFZ1ZSkge1xuXHQgIHZhciBfVnVlJHV0aWwgPSBWdWUudXRpbDtcblx0ICB2YXIgaXNPYmplY3QgPSBfVnVlJHV0aWwuaXNPYmplY3Q7XG5cdCAgdmFyIGlzUGxhaW5PYmplY3QgPSBfVnVlJHV0aWwuaXNQbGFpbk9iamVjdDtcblx0ICB2YXIgaGFzT3duID0gX1Z1ZSR1dGlsLmhhc093bjtcblx0XG5cdFxuXHQgIGZ1bmN0aW9uIGVtcHR5KHRhcmdldCkge1xuXHQgICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG5cdCAgICAgIGlmICh0YXJnZXQubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0KSkge1xuXHQgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuXHQgICAgICAgIGlmIChoYXNPd24odGFyZ2V0LCBrZXkpKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLWNvbnN0ICovXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBHZXQgdmFsdWUgZnJvbSBwYXRoIHN0cmluZ1xuXHQgICAqXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAgICogQHJldHVybiB2YWx1ZVxuXHQgICAqL1xuXHRcblx0ICBmdW5jdGlvbiBnZXRWYWx1ZShvYmosIHBhdGgpIHtcblx0ICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcGF0aHMgPSBwYXJzZVBhdGgocGF0aCk7XG5cdCAgICBpZiAoZW1wdHkocGF0aHMpKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG5cdCAgICB2YXIgcmV0ID0gbnVsbDtcblx0ICAgIHZhciBsYXN0ID0gb2JqO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcblx0ICAgICAgdmFyIHZhbHVlID0gbGFzdFtwYXRoc1tpXV07XG5cdCAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgbGFzdCA9IG51bGw7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgICAgbGFzdCA9IHZhbHVlO1xuXHQgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0ID0gbGFzdDtcblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZ2V0VmFsdWU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmRcblx0ICpcblx0ICogQHBhcmFtIHtWdWV9IFZ1ZVxuXHQgKiBAcmV0dXJuIHtWdWV9XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gRXh0ZW5kIChWdWUpIHtcblx0ICB2YXIgX1Z1ZSR1dGlsID0gVnVlLnV0aWw7XG5cdCAgdmFyIGlzT2JqZWN0ID0gX1Z1ZSR1dGlsLmlzT2JqZWN0O1xuXHQgIHZhciBiaW5kID0gX1Z1ZSR1dGlsLmJpbmQ7XG5cdFxuXHQgIHZhciBmb3JtYXQgPSBGb3JtYXQoVnVlKTtcblx0ICB2YXIgZ2V0VmFsdWUgPSBQYXRoKFZ1ZSk7XG5cdFxuXHQgIGZ1bmN0aW9uIHBhcnNlQXJncygpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxhbmcgPSBWdWUuY29uZmlnLmxhbmc7XG5cdCAgICB2YXIgZmFsbGJhY2sgPSBWdWUuY29uZmlnLmZhbGxiYWNrTGFuZztcblx0XG5cdCAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgaWYgKGlzT2JqZWN0KGFyZ3NbMF0pIHx8IEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcblx0ICAgICAgICBhcmdzID0gYXJnc1swXTtcblx0ICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBsYW5nID0gYXJnc1swXTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuXHQgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbGFuZyA9IGFyZ3NbMF07XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzT2JqZWN0KGFyZ3NbMV0pIHx8IEFycmF5LmlzQXJyYXkoYXJnc1sxXSkpIHtcblx0ICAgICAgICBhcmdzID0gYXJnc1sxXTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7IGxhbmc6IGxhbmcsIGZhbGxiYWNrOiBmYWxsYmFjaywgcGFyYW1zOiBhcmdzIH07XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpbnRlcnBvbGF0ZShsb2NhbGUsIGtleSwgYXJncykge1xuXHQgICAgaWYgKCFsb2NhbGUpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHZhbCA9IGdldFZhbHVlKGxvY2FsZSwga2V5KTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0ICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH1cblx0ICAgIGlmIChpc05pbCh2YWwpKSB7XG5cdCAgICAgIHZhbCA9IGxvY2FsZVtrZXldO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzTmlsKHZhbCkpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgZm9yIHRoZSBleGlzdGFuY2Ugb2YgbGlua3Mgd2l0aGluIHRoZSB0cmFuc2xhdGVkIHN0cmluZ1xuXHQgICAgaWYgKHZhbC5pbmRleE9mKCdAOicpID49IDApIHtcblx0ICAgICAgLy8gTWF0Y2ggYWxsIHRoZSBsaW5rcyB3aXRoaW4gdGhlIGxvY2FsXG5cdCAgICAgIC8vIFdlIGFyZSBnb2luZyB0byByZXBsYWNlIGVhY2ggb2Zcblx0ICAgICAgLy8gdGhlbSB3aXRoIGl0cyB0cmFuc2xhdGlvblxuXHQgICAgICB2YXIgbWF0Y2hlcyA9IHZhbC5tYXRjaCgvKEA6W1xcd3wuXSspL2cpO1xuXHQgICAgICBmb3IgKHZhciBpZHggaW4gbWF0Y2hlcykge1xuXHQgICAgICAgIHZhciBsaW5rID0gbWF0Y2hlc1tpZHhdO1xuXHQgICAgICAgIC8vIFJlbW92ZSB0aGUgbGVhZGluZyBAOlxuXHQgICAgICAgIHZhciBsaW5rUGxhY2Vob2xkZXIgPSBsaW5rLnN1YnN0cigyKTtcblx0ICAgICAgICAvLyBUcmFuc2xhdGUgdGhlIGxpbmtcblx0ICAgICAgICB2YXIgdHJhbnNsYXRlZHN0cmluZyA9IGludGVycG9sYXRlKGxvY2FsZSwgbGlua1BsYWNlaG9sZGVyLCBhcmdzKTtcblx0ICAgICAgICAvLyBSZXBsYWNlIHRoZSBsaW5rIHdpdGggdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG5cdCAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UobGluaywgdHJhbnNsYXRlZHN0cmluZyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gIWFyZ3MgPyB2YWwgOiBWdWUuY29uZmlnLmkxOG5Gb3JtYXR0ZXIgPyBWdWUuY29uZmlnLmkxOG5Gb3JtYXR0ZXIuYXBwbHkobnVsbCwgW3ZhbF0uY29uY2F0KGFyZ3MpKSA6IGZvcm1hdCh2YWwsIGFyZ3MpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gdHJhbnNsYXRlKGdldHRlciwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSB7XG5cdCAgICB2YXIgcmVzID0gbnVsbDtcblx0ICAgIHJlcyA9IGludGVycG9sYXRlKGdldHRlcihsYW5nKSwga2V5LCBwYXJhbXMpO1xuXHQgICAgaWYgKCFpc05pbChyZXMpKSB7XG5cdCAgICAgIHJldHVybiByZXM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVzID0gaW50ZXJwb2xhdGUoZ2V0dGVyKGZhbGxiYWNrKSwga2V5LCBwYXJhbXMpO1xuXHQgICAgaWYgKCFpc05pbChyZXMpKSB7XG5cdCAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgICAgd2FybignRmFsbCBiYWNrIHRvIHRyYW5zbGF0ZSB0aGUga2V5cGF0aCBcIicgKyBrZXkgKyAnXCIgd2l0aCBcIicgKyBmYWxsYmFjayArICdcIiBsYW5ndWFnZS4nKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIHZtLCByZXN1bHQpIHtcblx0ICAgIGlmICghaXNOaWwocmVzdWx0KSkge1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgd2FybignQ2Fubm90IHRyYW5zbGF0ZSB0aGUgdmFsdWUgb2Yga2V5cGF0aCBcIicgKyBrZXkgKyAnXCIuICcgKyAnVXNlIHRoZSB2YWx1ZSBvZiBrZXlwYXRoIGFzIGRlZmF1bHQnKTtcblx0ICAgIH1cblx0ICAgIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIgJiYgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlci5hcHBseShudWxsLCBbbGFuZywga2V5LCB2bV0pO1xuXHQgICAgcmV0dXJuIGtleTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEFzc2V0TG9jYWxlKGxhbmcpIHtcblx0ICAgIHJldHVybiBWdWUubG9jYWxlKGxhbmcpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TG9jYWxlKGxhbmcpIHtcblx0ICAgIHJldHVybiB0aGlzLiRvcHRpb25zLmxvY2FsZXNbbGFuZ107XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXRPbGRDaG9pY2VJbmRleEZpeGVkKGNob2ljZSkge1xuXHQgICAgcmV0dXJuIGNob2ljZSA/IGNob2ljZSA+IDEgPyAxIDogMCA6IDE7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXRDaG9pY2VJbmRleChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcblx0ICAgIGNob2ljZSA9IE1hdGguYWJzKGNob2ljZSk7XG5cdFxuXHQgICAgaWYgKGNob2ljZXNMZW5ndGggPT09IDIpIHtcblx0ICAgICAgcmV0dXJuIGdldE9sZENob2ljZUluZGV4Rml4ZWQoY2hvaWNlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2hvaWNlID8gTWF0aC5taW4oY2hvaWNlLCAyKSA6IDA7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmZXRjaENob2ljZShsb2NhbGUsIGNob2ljZSkge1xuXHQgICAgaWYgKCFsb2NhbGUgJiYgdHlwZW9mIGxvY2FsZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgY2hvaWNlcyA9IGxvY2FsZS5zcGxpdCgnfCcpO1xuXHRcblx0ICAgIGNob2ljZSA9IGdldENob2ljZUluZGV4KGNob2ljZSwgY2hvaWNlcy5sZW5ndGgpO1xuXHQgICAgaWYgKCFjaG9pY2VzW2Nob2ljZV0pIHtcblx0ICAgICAgcmV0dXJuIGxvY2FsZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjaG9pY2VzW2Nob2ljZV0udHJpbSgpO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVnVlLnRcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHRcblx0ICBWdWUudCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWtleSkge1xuXHQgICAgICByZXR1cm4gJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIF9wYXJzZUFyZ3MgPSBwYXJzZUFyZ3MuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0XG5cdCAgICB2YXIgbGFuZyA9IF9wYXJzZUFyZ3MubGFuZztcblx0ICAgIHZhciBmYWxsYmFjayA9IF9wYXJzZUFyZ3MuZmFsbGJhY2s7XG5cdCAgICB2YXIgcGFyYW1zID0gX3BhcnNlQXJncy5wYXJhbXM7XG5cdFxuXHQgICAgcmV0dXJuIHdhcm5EZWZhdWx0KGxhbmcsIGtleSwgbnVsbCwgdHJhbnNsYXRlKGdldEFzc2V0TG9jYWxlLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpKTtcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBWdWUudGNcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGNob2ljZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3Ncblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdFxuXHQgIFZ1ZS50YyA9IGZ1bmN0aW9uIChrZXksIGNob2ljZSkge1xuXHQgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMgPiAyID8gX2xlbjMgLSAyIDogMCksIF9rZXkzID0gMjsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuXHQgICAgICBhcmdzW19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmZXRjaENob2ljZShWdWUudC5hcHBseShWdWUsIFtrZXldLmNvbmNhdChhcmdzKSksIGNob2ljZSk7XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogJHRcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG5cdCAgICogQHJldHVybiB7U3RyaW5nfVxuXHQgICAqL1xuXHRcblx0ICBWdWUucHJvdG90eXBlLiR0ID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKCFrZXkpIHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0ICAgICAgYXJnc1tfa2V5NCAtIDFdID0gYXJndW1lbnRzW19rZXk0XTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgX3BhcnNlQXJnczIgPSBwYXJzZUFyZ3MuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0XG5cdCAgICB2YXIgbGFuZyA9IF9wYXJzZUFyZ3MyLmxhbmc7XG5cdCAgICB2YXIgZmFsbGJhY2sgPSBfcGFyc2VBcmdzMi5mYWxsYmFjaztcblx0ICAgIHZhciBwYXJhbXMgPSBfcGFyc2VBcmdzMi5wYXJhbXM7XG5cdFxuXHQgICAgdmFyIHJlcyA9IG51bGw7XG5cdCAgICBpZiAodGhpcy4kb3B0aW9ucy5sb2NhbGVzKSB7XG5cdCAgICAgIHJlcyA9IHRyYW5zbGF0ZShiaW5kKGdldENvbXBvbmVudExvY2FsZSwgdGhpcyksIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcyk7XG5cdCAgICAgIGlmIChyZXMpIHtcblx0ICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2FybkRlZmF1bHQobGFuZywga2V5LCB0aGlzLCB0cmFuc2xhdGUoZ2V0QXNzZXRMb2NhbGUsIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcykpO1xuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqICR0Y1xuXHQgICAqXG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuXHQgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gY2hvaWNlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ31cblx0ICAgKi9cblx0XG5cdCAgVnVlLnByb3RvdHlwZS4kdGMgPSBmdW5jdGlvbiAoa2V5LCBjaG9pY2UpIHtcblx0ICAgIGlmICh0eXBlb2YgY2hvaWNlICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgY2hvaWNlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICByZXR1cm4ga2V5O1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW41ID4gMiA/IF9sZW41IC0gMiA6IDApLCBfa2V5NSA9IDI7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcblx0ICAgICAgYXJnc1tfa2V5NSAtIDJdID0gYXJndW1lbnRzW19rZXk1XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmV0Y2hDaG9pY2UodGhpcy4kdC5hcHBseSh0aGlzLCBba2V5XS5jb25jYXQoYXJncykpLCBjaG9pY2UpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBWdWU7XG5cdH1cblx0XG5cdHZhciBsYW5nVk0gPSB2b2lkIDA7IC8vIHNpbmdsZXRvblxuXHRcblx0LyoqXG5cdCAqIHBsdWdpblxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gVnVlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcGx1Z2luKFZ1ZSkge1xuXHQgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHZhciB2ZXJzaW9uID0gVnVlLnZlcnNpb24gJiYgTnVtYmVyKFZ1ZS52ZXJzaW9uLnNwbGl0KCcuJylbMF0pIHx8IC0xO1xuXHRcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwbHVnaW4uaW5zdGFsbGVkKSB7XG5cdCAgICB3YXJuKCdhbHJlYWR5IGluc3RhbGxlZC4nKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHZlcnNpb24gPCAxKSB7XG5cdCAgICB3YXJuKCd2dWUtaTE4biAoJyArIHBsdWdpbi52ZXJzaW9uICsgJykgbmVlZCB0byB1c2UgdnVlIHZlcnNpb24gMS4wIG9yIGxhdGVyICh2dWUgdmVyc2lvbjogJyArIFZ1ZS52ZXJzaW9uICsgJykuJyk7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICB2YXIgbGFuZyA9ICdlbic7XG5cdCAgc2V0dXBMYW5nVk0oVnVlLCBsYW5nKTtcblx0XG5cdCAgQXNzZXQoVnVlLCBsYW5nVk0pO1xuXHQgIE92ZXJyaWRlKFZ1ZSwgbGFuZ1ZNLCB2ZXJzaW9uKTtcblx0ICBDb25maWcoVnVlLCBsYW5nVk0sIGxhbmcpO1xuXHQgIEV4dGVuZChWdWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXR1cExhbmdWTShWdWUsIGxhbmcpIHtcblx0ICB2YXIgc2lsZW50ID0gVnVlLmNvbmZpZy5zaWxlbnQ7XG5cdCAgVnVlLmNvbmZpZy5zaWxlbnQgPSB0cnVlO1xuXHQgIGlmICghbGFuZ1ZNKSB7XG5cdCAgICBsYW5nVk0gPSBuZXcgVnVlKHsgZGF0YTogeyBsYW5nOiBsYW5nLCBsb2NhbGVzOiB7fSB9IH0pO1xuXHQgIH1cblx0ICBWdWUuY29uZmlnLnNpbGVudCA9IHNpbGVudDtcblx0fVxuXHRcblx0cGx1Z2luLnZlcnNpb24gPSAnNC43LjMnO1xuXHRcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcblx0ICB3aW5kb3cuVnVlLnVzZShwbHVnaW4pO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGxvY2FsZXMgPSB7fTtbJ2VuJywgJ3poJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgbG9jYWxlc1trZXldID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpKFwiLi9cIiArIGtleSk7XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbG9jYWxlcztcblxuLyoqKi8gfSxcbi8qIDEwNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vZW5cIjogMTA3LFxuXHRcdFwiLi9lbi55bWxcIjogMTA3LFxuXHRcdFwiLi9pbmRleFwiOiAxMDUsXG5cdFx0XCIuL2luZGV4LmpzXCI6IDEwNSxcblx0XHRcIi4vemhcIjogMTA4LFxuXHRcdFwiLi96aC55bWxcIjogMTA4XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMTA2O1xuXG5cbi8qKiovIH0sXG4vKiAxMDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFwidXBsb2FkXCI6IFwidXBsb2FkXCIsXG5cdFx0XHRcInNhdmVcIjogXCJzYXZlXCIsXG5cdFx0XHRcImNsb3NlX2VkaXRcIjogXCJjbG9zZSBlZGl0XCIsXG5cdFx0XHRcIm9wZW5fZWRpdFwiOiBcIm9wZW4gZWRpdFwiLFxuXHRcdFx0XCJoZWxwXCI6IFwiaGVscFwiLFxuXHRcdFx0XCJscmNfaW5mb1wiOiBcImluZm9cIixcblx0XHRcdFwicmVtb3ZlX2x5cmljXCI6IFwicmVtb3ZlIGx5cmljXCIsXG5cdFx0XHRcInByZXZfbHlyaWNcIjogXCJwcmV2IGx5cmljXCIsXG5cdFx0XHRcIm5leHRfbHlyaWNcIjogXCJuZXh0IGx5cmljXCJcblx0XHR9LFxuXHRcdFwibWVudVwiOiB7XG5cdFx0XHRcInVwbG9hZFwiOiB7XG5cdFx0XHRcdFwibHJjXCI6IFwiTFJDIGZvcm1hdCBseXJpY1wiLFxuXHRcdFx0XHRcImx5cmljXCI6IFwibHlyaWMgdGV4dFwiLFxuXHRcdFx0XHRcIm11c2ljXCI6IFwibXVzaWNcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XCJtb2RhbFwiOiB7XG5cdFx0XHRcImxyY19mb3JtYXRfc2F2ZVwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJMeXJpY3MgU2F2ZVwiLFxuXHRcdFx0XHRcImluZm9fdGl0bGVcIjogXCJMeXJpY3MgSW5mb1wiLFxuXHRcdFx0XHRcImZpZWxkc1wiOiB7XG5cdFx0XHRcdFx0XCJzb25nX3RpdGxlXCI6IFwiU29uZSBUaXRsZVwiLFxuXHRcdFx0XHRcdFwiYXJ0aXN0XCI6IFwiQXJ0aXN0XCIsXG5cdFx0XHRcdFx0XCJhbGJ1bVwiOiBcIkFsYnVtXCIsXG5cdFx0XHRcdFx0XCJzb25ndGV4dF9jcmVhdG9yXCI6IFwiU29uZ3RleHQgQ3JlYXRvclwiLFxuXHRcdFx0XHRcdFwibHJjX2NyZWF0b3JcIjogXCJMUkMgQ3JlYXRvclwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwic2F2ZV90aXRsZVwiOiBcIkx5cmljc1wiLFxuXHRcdFx0XHRcImNvbWJpbmVcIjogXCJjb21iaW5lIGx5cmljc1wiLFxuXHRcdFx0XHRcImRvd25sb2FkXCI6IFwibHlyaWNzIGZpbGUgZG93bmxvYWRcIlxuXHRcdFx0fSxcblx0XHRcdFwibHJjX2Zvcm1hdF91cGxvYWRcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiVXBsb2FkIExSQyBGb3JtYXRcIixcblx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlVwbG9hZCB0aW1lc3RhbXBlZCBseXJpY3NcIixcblx0XHRcdFx0XCJ1cGxvYWRcIjogXCJSZWFkIGZyb20gZmlsZVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJseXJpY191cGxvYWRcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiVXBsb2FkIFRleHQgTHlyaWNzXCIsXG5cdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJQbGFpbiBUZXh0IGx5cmljcywgbHlyaWNzIGRpdmlkZWQgYnkgYSBuZXdsaW5lXCIsXG5cdFx0XHRcdFwidXBsb2FkXCI6IFwiUmVhZCBmcm9tIGZpbGVcIlxuXHRcdFx0fSxcblx0XHRcdFwiaGVscFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJIZWxwXCIsXG5cdFx0XHRcdFwic2hvcnRjdXRfa2V5XCI6IFwic2hvcnRjdXQga2V5XCIsXG5cdFx0XHRcdFwicGxheV9jb250cm9sXCI6IHtcblx0XHRcdFx0XHRcInRpdGxlXCI6IFwicGxheSBjb250cm9sXCIsXG5cdFx0XHRcdFx0XCJsZWZ0X2tleVwiOiBcIjxMZWZ0PlwiLFxuXHRcdFx0XHRcdFwicmlnaHRfa2V5XCI6IFwiPFJpZ2h0PlwiLFxuXHRcdFx0XHRcdFwiYmFja3dhcmRcIjogXCJiYWNrd2FyZFwiLFxuXHRcdFx0XHRcdFwiZm9yd2FyZFwiOiBcImZvcndhcmRcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm1ha2VfbHJjXCI6IHtcblx0XHRcdFx0XHRcInRpdGxlXCI6IFwibWFrZSBscmNcIixcblx0XHRcdFx0XHRcInVwX2tleVwiOiBcIjxVcD5cIixcblx0XHRcdFx0XHRcImRvd25fa2V5XCI6IFwiPERvd24+XCIsXG5cdFx0XHRcdFx0XCJwcmV2X2x5cmljXCI6IFwicHJldiBseXJpY1wiLFxuXHRcdFx0XHRcdFwibmV4dF9seXJpY1wiOiBcIm5leHQgbHlyaWNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInNvdXJjZV9jb2RlXCI6IFwic291cmNlIGNvZGVcIlxuXHRcdFx0fSxcblx0XHRcdFwiYnV0dG9uXCI6IHtcblx0XHRcdFx0XCJva1wiOiBcIm9rXCIsXG5cdFx0XHRcdFwiY2FuY2VsXCI6IFwiY2FuY2VsXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdFwibHlyaWNfZWRpdG9yXCI6IHtcblx0XHRcdFwiZWRpdFwiOiBcImVkaXRcIixcblx0XHRcdFwiYWRkXCI6IFwiYWRkXCIsXG5cdFx0XHRcInJlbW92ZVwiOiBcInJlbW92ZVwiLFxuXHRcdFx0XCJyZW1vdmVfdGltZXN0YW1wXCI6IFwicmVtb3ZlIHRpbWVzdGFtcFwiLFxuXHRcdFx0XCJwbGF5X3RvX3RoaXNfbHlyaWNcIjogXCJwbGF5IHRvIHRoaXMgbHlyaWNcIixcblx0XHRcdFwiZm9sbG93aW5nX3Vuc29ydGVkXCI6IFwiVGhlIGZvbGxvd2luZyB1bnNvcnRlZFwiXG5cdFx0fVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImJ1dHRvblwiOiB7XG5cdFx0XHRcInVwbG9hZFwiOiBcIuS4iuS8oFwiLFxuXHRcdFx0XCJzYXZlXCI6IFwi5L+d5a2YXCIsXG5cdFx0XHRcImNsb3NlX2VkaXRcIjogXCLlhbPpl63nvJbovpFcIixcblx0XHRcdFwib3Blbl9lZGl0XCI6IFwi5omT5byA57yW6L6RXCIsXG5cdFx0XHRcImhlbHBcIjogXCLluK7liqlcIixcblx0XHRcdFwibHJjX2luZm9cIjogXCLkv6Hmga9cIixcblx0XHRcdFwicmVtb3ZlX2x5cmljXCI6IFwi5riF6Zmk5q2M6K+NXCIsXG5cdFx0XHRcInByZXZfbHlyaWNcIjogXCLkuIrkuIDmnaHmrYzor41cIixcblx0XHRcdFwibmV4dF9seXJpY1wiOiBcIuS4i+S4gOadoeatjOivjVwiXG5cdFx0fSxcblx0XHRcIm1lbnVcIjoge1xuXHRcdFx0XCJ1cGxvYWRcIjoge1xuXHRcdFx0XHRcImxyY1wiOiBcIkxSQ+agvOW8j+atjOivjVwiLFxuXHRcdFx0XHRcImx5cmljXCI6IFwi5q2M6K+N5paH5pysXCIsXG5cdFx0XHRcdFwibXVzaWNcIjogXCLpn7PkuZBcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XCJtb2RhbFwiOiB7XG5cdFx0XHRcImxyY19mb3JtYXRfc2F2ZVwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCLkv53lrZjmrYzor41cIixcblx0XHRcdFx0XCJpbmZvX3RpdGxlXCI6IFwi5q2M6K+N5L+h5oGvXCIsXG5cdFx0XHRcdFwiZmllbGRzXCI6IHtcblx0XHRcdFx0XHRcInNvbmdfdGl0bGVcIjogXCLmrYzlkI1cIixcblx0XHRcdFx0XHRcImFydGlzdFwiOiBcIuiJuuacr+WutlwiLFxuXHRcdFx0XHRcdFwiYWxidW1cIjogXCLkuJPovpFcIixcblx0XHRcdFx0XHRcInNvbmd0ZXh0X2NyZWF0b3JcIjogXCLmrYzor43kvZzogIVcIixcblx0XHRcdFx0XHRcImxyY19jcmVhdG9yXCI6IFwiTFJDIOWIm+W7uuiAhVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwic2F2ZV90aXRsZVwiOiBcIuatjOivjVwiLFxuXHRcdFx0XHRcImNvbWJpbmVcIjogXCLlkIjlubbmrYzor41cIixcblx0XHRcdFx0XCJkb3dubG9hZFwiOiBcIuS4i+i9veatjOivjeaWh+S7tlwiXG5cdFx0XHR9LFxuXHRcdFx0XCJscmNfZm9ybWF0X3VwbG9hZFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCLkuIrkvKBMUkPmoLzlvI/mlofmnKxcIixcblx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuS4iuS8oOW3sue7j+WMheWQq+aXtumXtOaIs+eahOatjOivjVwiLFxuXHRcdFx0XHRcInVwbG9hZFwiOiBcIuS7juaWh+S7tuivu+WPllwiXG5cdFx0XHR9LFxuXHRcdFx0XCJseXJpY191cGxvYWRcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5LiK5Lyg5q2M6K+N5paH5pysXCIsXG5cdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCLnuq/mlofmnKzmrYzor43vvIznlKjmjaLooYzlr7nmrYzor43liJLliIZcIixcblx0XHRcdFx0XCJ1cGxvYWRcIjogXCLku47mlofku7bor7vlj5ZcIlxuXHRcdFx0fSxcblx0XHRcdFwiaGVscFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCLluK7liqlcIixcblx0XHRcdFx0XCJzaG9ydGN1dF9rZXlcIjogXCLlv6vmjbfplK5cIixcblx0XHRcdFx0XCJwbGF5X2NvbnRyb2xcIjoge1xuXHRcdFx0XHRcdFwidGl0bGVcIjogXCLmkq3mlL7mjqfliLZcIixcblx0XHRcdFx0XHRcImxlZnRfa2V5XCI6IFwiPExlZnQ+XCIsXG5cdFx0XHRcdFx0XCJyaWdodF9rZXlcIjogXCI8UmlnaHQ+XCIsXG5cdFx0XHRcdFx0XCJiYWNrd2FyZFwiOiBcIuWQjumAgFwiLFxuXHRcdFx0XHRcdFwiZm9yd2FyZFwiOiBcIuWJjei/m1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwibWFrZV9scmNcIjoge1xuXHRcdFx0XHRcdFwidGl0bGVcIjogXCLliLbkvZzmrYzor41cIixcblx0XHRcdFx0XHRcInVwX2tleVwiOiBcIjxVcD5cIixcblx0XHRcdFx0XHRcImRvd25fa2V5XCI6IFwiPERvd24+XCIsXG5cdFx0XHRcdFx0XCJwcmV2X2x5cmljXCI6IFwi5LiK5LiA5p2h5q2M6K+NXCIsXG5cdFx0XHRcdFx0XCJuZXh0X2x5cmljXCI6IFwi5LiL5LiA5p2h5q2M6K+NXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJzb3VyY2VfY29kZVwiOiBcIua6kOeggVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XHRcIm9rXCI6IFwi56Gu6K6kXCIsXG5cdFx0XHRcdFwiY2FuY2VsXCI6IFwi5Y+W5raIXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdFwibHlyaWNfZWRpdG9yXCI6IHtcblx0XHRcdFwiZWRpdFwiOiBcIue8lui+kVwiLFxuXHRcdFx0XCJhZGRcIjogXCLmt7vliqBcIixcblx0XHRcdFwicmVtb3ZlXCI6IFwi5Yig6ZmkXCIsXG5cdFx0XHRcInJlbW92ZV90aW1lc3RhbXBcIjogXCLliKDpmaTml7bpl7TovbRcIixcblx0XHRcdFwicGxheV90b190aGlzX2x5cmljXCI6IFwi5pKt5pS+5Yiw6L+Z5p2h5q2M6K+NXCIsXG5cdFx0XHRcImZvbGxvd2luZ191bnNvcnRlZFwiOiBcIuS7peS4i+acquaOkuW6j1wiXG5cdFx0fVxuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbWFpbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vYXNzZXRzL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDY5OTQ5NWJiNGYyZjA4MDJjYWQ5IiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgQXBwIGZyb20gJy4vYXBwJ1xuaW1wb3J0ICcuL2kxOG4nXG5cbm5ldyBWdWUoe1xuICBlbDogJyNib2R5JyxcbiAgcmVuZGVyOiAoaCkgPT4gaChBcHApXG59KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWFpbi5qcyIsIi8qIVxuICogVnVlLmpzIHYyLjEuM1xuICogKGMpIDIwMTQtMjAxNiBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qICAqL1xuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICovXG5mdW5jdGlvbiBfdG9TdHJpbmcgKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGxcbiAgICA/ICcnXG4gICAgOiB0eXBlb2YgdmFsID09PSAnb2JqZWN0J1xuICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG4gICAgICA6IFN0cmluZyh2YWwpXG59XG5cbi8qKlxuICogQ29udmVydCBhIGlucHV0IHZhbHVlIHRvIGEgbnVtYmVyIGZvciBwZXJzaXN0ZW5jZS5cbiAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB0b051bWJlciAodmFsKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgcmV0dXJuIChuIHx8IG4gPT09IDApID8gbiA6IHZhbFxufVxuXG4vKipcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuICogaXMgaW4gdGhhdCBtYXAuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAgKFxuICBzdHIsXG4gIGV4cGVjdHNMb3dlckNhc2Vcbikge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZVxuICAgID8gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXTsgfVxuICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRhZyBpcyBhIGJ1aWx0LWluIHRhZy5cbiAqL1xudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XG5cbi8qKlxuICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheVxuICovXG5mdW5jdGlvbiByZW1vdmUkMSAoYXJyLCBpdGVtKSB7XG4gIGlmIChhcnIubGVuZ3RoKSB7XG4gICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBoYXMgdGhlIHByb3BlcnR5LlxuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaGFzT3duIChvYmosIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSlcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBwcmltaXRpdmVcbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjYWNoZWQgdmVyc2lvbiBvZiBhIHB1cmUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNhY2hlZCAoZm4pIHtcbiAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHtcbiAgICB2YXIgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSlcbiAgfVxufVxuXG4vKipcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbG1pdGVkIHN0cmluZy5cbiAqL1xudmFyIGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG52YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgZnVuY3Rpb24gKF8sIGMpIHsgcmV0dXJuIGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJzsgfSlcbn0pO1xuXG4vKipcbiAqIENhcGl0YWxpemUgYSBzdHJpbmcuXG4gKi9cbnZhciBjYXBpdGFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxufSk7XG5cbi8qKlxuICogSHlwaGVuYXRlIGEgY2FtZWxDYXNlIHN0cmluZy5cbiAqL1xudmFyIGh5cGhlbmF0ZVJFID0gLyhbXi1dKShbQS1aXSkvZztcbnZhciBoeXBoZW5hdGUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyXG4gICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG4gICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG4gICAgLnRvTG93ZXJDYXNlKClcbn0pO1xuXG4vKipcbiAqIFNpbXBsZSBiaW5kLCBmYXN0ZXIgdGhhbiBuYXRpdmVcbiAqL1xuZnVuY3Rpb24gYmluZCQxIChmbiwgY3R4KSB7XG4gIGZ1bmN0aW9uIGJvdW5kRm4gKGEpIHtcbiAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgcmV0dXJuIGxcbiAgICAgID8gbCA+IDFcbiAgICAgICAgPyBmbi5hcHBseShjdHgsIGFyZ3VtZW50cylcbiAgICAgICAgOiBmbi5jYWxsKGN0eCwgYSlcbiAgICAgIDogZm4uY2FsbChjdHgpXG4gIH1cbiAgLy8gcmVjb3JkIG9yaWdpbmFsIGZuIGxlbmd0aFxuICBib3VuZEZuLl9sZW5ndGggPSBmbi5sZW5ndGg7XG4gIHJldHVybiBib3VuZEZuXG59XG5cbi8qKlxuICogQ29udmVydCBhbiBBcnJheS1saWtlIG9iamVjdCB0byBhIHJlYWwgQXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgdmFyIGkgPSBsaXN0Lmxlbmd0aCAtIHN0YXJ0O1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgcmV0W2ldID0gbGlzdFtpICsgc3RhcnRdO1xuICB9XG4gIHJldHVybiByZXRcbn1cblxuLyoqXG4gKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZCAodG8sIF9mcm9tKSB7XG4gIGZvciAodmFyIGtleSBpbiBfZnJvbSkge1xuICAgIHRvW2tleV0gPSBfZnJvbVtrZXldO1xuICB9XG4gIHJldHVybiB0b1xufVxuXG4vKipcbiAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxuICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZVxuICogaXMgYSBKU09OLWNvbXBsaWFudCB0eXBlLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcbn1cblxuLyoqXG4gKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlXG4gKiBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzLlxuICovXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIE9CSkVDVF9TVFJJTkcgPSAnW29iamVjdCBPYmplY3RdJztcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBPQkpFQ1RfU1RSSU5HXG59XG5cbi8qKlxuICogTWVyZ2UgYW4gQXJyYXkgb2YgT2JqZWN0cyBpbnRvIGEgc2luZ2xlIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdG9PYmplY3QgKGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycltpXSkge1xuICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKipcbiAqIFBlcmZvcm0gbm8gb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBub29wICgpIHt9XG5cbi8qKlxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cbiAqL1xudmFyIG5vID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBzdGF0aWMga2V5cyBzdHJpbmcgZnJvbSBjb21waWxlciBtb2R1bGVzLlxuICovXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzIChtb2R1bGVzKSB7XG4gIHJldHVybiBtb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAoa2V5cywgbSkge1xuICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pXG4gIH0sIFtdKS5qb2luKCcsJylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcbiAqIGlmIHRoZXkgYXJlIHBsYWluIG9iamVjdHMsIGRvIHRoZXkgaGF2ZSB0aGUgc2FtZSBzaGFwZT9cbiAqL1xuZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgcmV0dXJuIGEgPT0gYiB8fCAoXG4gICAgaXNPYmplY3QoYSkgJiYgaXNPYmplY3QoYilcbiAgICAgID8gSlNPTi5zdHJpbmdpZnkoYSkgPT09IEpTT04uc3RyaW5naWZ5KGIpXG4gICAgICA6IGZhbHNlXG4gIClcbiAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cbn1cblxuZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChsb29zZUVxdWFsKGFycltpXSwgdmFsKSkgeyByZXR1cm4gaSB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuICovXG5mdW5jdGlvbiBpc1Jlc2VydmVkIChzdHIpIHtcbiAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZGVmIChvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIHZhbHVlOiB2YWwsXG4gICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBQYXJzZSBzaW1wbGUgcGF0aC5cbiAqL1xudmFyIGJhaWxSRSA9IC9bXlxcdy4kXS87XG5mdW5jdGlvbiBwYXJzZVBhdGggKHBhdGgpIHtcbiAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XG4gICAgcmV0dXJuXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghb2JqKSB7IHJldHVybiB9XG4gICAgICAgIG9iaiA9IG9ialtzZWdtZW50c1tpXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuLyogZ2xvYmFscyBNdXRhdGlvbk9ic2VydmVyICovXG5cbi8vIGNhbiB3ZSB1c2UgX19wcm90b19fP1xudmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XG5cbi8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcbnZhciBpbkJyb3dzZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KSAhPT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbnZhciBVQSA9IGluQnJvd3NlciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xudmFyIGlzSUUgPSBVQSAmJiAvbXNpZXx0cmlkZW50Ly50ZXN0KFVBKTtcbnZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwO1xudmFyIGlzRWRnZSA9IFVBICYmIFVBLmluZGV4T2YoJ2VkZ2UvJykgPiAwO1xudmFyIGlzQW5kcm9pZCA9IFVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDA7XG52YXIgaXNJT1MgPSBVQSAmJiAvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoVUEpO1xuXG4vLyB0aGlzIG5lZWRzIHRvIGJlIGxhenktZXZhbGVkIGJlY2F1c2UgdnVlIG1heSBiZSByZXF1aXJlZCBiZWZvcmVcbi8vIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgY2FuIHNldCBWVUVfRU5WXG52YXIgX2lzU2VydmVyO1xudmFyIGlzU2VydmVyUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICBpZiAoX2lzU2VydmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWluQnJvd3NlciAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXG4gICAgICAvLyBXZWJwYWNrIHNoaW1taW5nIHRoZSBwcm9jZXNzXG4gICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2lzU2VydmVyXG59O1xuXG4vLyBkZXRlY3QgZGV2dG9vbHNcbnZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGlzTmF0aXZlIChDdG9yKSB7XG4gIHJldHVybiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKVxufVxuXG4vKipcbiAqIERlZmVyIGEgdGFzayB0byBleGVjdXRlIGl0IGFzeW5jaHJvbm91c2x5LlxuICovXG52YXIgbmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgY2FsbGJhY2tzID0gW107XG4gIHZhciBwZW5kaW5nID0gZmFsc2U7XG4gIHZhciB0aW1lckZ1bmM7XG5cbiAgZnVuY3Rpb24gbmV4dFRpY2tIYW5kbGVyICgpIHtcbiAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29waWVzW2ldKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gdGhlIG5leHRUaWNrIGJlaGF2aW9yIGxldmVyYWdlcyB0aGUgbWljcm90YXNrIHF1ZXVlLCB3aGljaCBjYW4gYmUgYWNjZXNzZWRcbiAgLy8gdmlhIGVpdGhlciBuYXRpdmUgUHJvbWlzZS50aGVuIG9yIE11dGF0aW9uT2JzZXJ2ZXIuXG4gIC8vIE11dGF0aW9uT2JzZXJ2ZXIgaGFzIHdpZGVyIHN1cHBvcnQsIGhvd2V2ZXIgaXQgaXMgc2VyaW91c2x5IGJ1Z2dlZCBpblxuICAvLyBVSVdlYlZpZXcgaW4gaU9TID49IDkuMy4zIHdoZW4gdHJpZ2dlcmVkIGluIHRvdWNoIGV2ZW50IGhhbmRsZXJzLiBJdFxuICAvLyBjb21wbGV0ZWx5IHN0b3BzIHdvcmtpbmcgYWZ0ZXIgdHJpZ2dlcmluZyBhIGZldyB0aW1lcy4uLiBzbywgaWYgbmF0aXZlXG4gIC8vIFByb21pc2UgaXMgYXZhaWxhYmxlLCB3ZSB3aWxsIHVzZSBpdDpcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHtcbiAgICB2YXIgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHAudGhlbihuZXh0VGlja0hhbmRsZXIpO1xuICAgICAgLy8gaW4gcHJvYmxlbWF0aWMgVUlXZWJWaWV3cywgUHJvbWlzZS50aGVuIGRvZXNuJ3QgY29tcGxldGVseSBicmVhaywgYnV0XG4gICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGVcbiAgICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBidXQgdGhlIHF1ZXVlIGlzbid0IGJlaW5nIGZsdXNoZWQsIHVudGlsIHRoZSBicm93c2VyXG4gICAgICAvLyBuZWVkcyB0byBkbyBzb21lIG90aGVyIHdvcmssIGUuZy4gaGFuZGxlIGEgdGltZXIuIFRoZXJlZm9yZSB3ZSBjYW5cbiAgICAgIC8vIFwiZm9yY2VcIiB0aGUgbWljcm90YXNrIHF1ZXVlIHRvIGJlIGZsdXNoZWQgYnkgYWRkaW5nIGFuIGVtcHR5IHRpbWVyLlxuICAgICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gICAgaXNOYXRpdmUoTXV0YXRpb25PYnNlcnZlcikgfHxcbiAgICAvLyBQaGFudG9tSlMgYW5kIGlPUyA3LnhcbiAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXG4gICkpIHtcbiAgICAvLyB1c2UgTXV0YXRpb25PYnNlcnZlciB3aGVyZSBuYXRpdmUgUHJvbWlzZSBpcyBub3QgYXZhaWxhYmxlLFxuICAgIC8vIGUuZy4gUGhhbnRvbUpTIElFMTEsIGlPUzcsIEFuZHJvaWQgNC40XG4gICAgdmFyIGNvdW50ZXIgPSAxO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG5leHRUaWNrSGFuZGxlcik7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvdW50ZXIpKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlLCB7XG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfSk7XG4gICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSAyO1xuICAgICAgdGV4dE5vZGUuZGF0YSA9IFN0cmluZyhjb3VudGVyKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIGZhbGxiYWNrIHRvIHNldFRpbWVvdXRcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQobmV4dFRpY2tIYW5kbGVyLCAwKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHF1ZXVlTmV4dFRpY2sgKGNiLCBjdHgpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGNiKSB7IGNiLmNhbGwoY3R4KTsgfVxuICAgICAgaWYgKF9yZXNvbHZlKSB7IF9yZXNvbHZlKGN0eCk7IH1cbiAgICB9KTtcbiAgICBpZiAoIXBlbmRpbmcpIHtcbiAgICAgIHBlbmRpbmcgPSB0cnVlO1xuICAgICAgdGltZXJGdW5jKCk7XG4gICAgfVxuICAgIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7XG5cbnZhciBfU2V0O1xuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xuICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS5cbiAgX1NldCA9IFNldDtcbn0gZWxzZSB7XG4gIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cbiAgX1NldCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2V0ICgpIHtcbiAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0W2tleV0gIT09IHVuZGVmaW5lZFxuICAgIH07XG4gICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGtleSkge1xuICAgICAgdGhpcy5zZXRba2V5XSA9IDE7XG4gICAgfTtcbiAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2V0O1xuICB9KCkpO1xufVxuXG4vKiAgKi9cblxudmFyIGNvbmZpZyA9IHtcbiAgLyoqXG4gICAqIE9wdGlvbiBtZXJnZSBzdHJhdGVnaWVzICh1c2VkIGluIGNvcmUvdXRpbC9vcHRpb25zKVxuICAgKi9cbiAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxuICAgKi9cbiAgc2lsZW50OiBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHNcbiAgICovXG4gIGRldnRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuXG4gIC8qKlxuICAgKiBFcnJvciBoYW5kbGVyIGZvciB3YXRjaGVyIGVycm9yc1xuICAgKi9cbiAgZXJyb3JIYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcbiAgICovXG4gIGlnbm9yZWRFbGVtZW50czogbnVsbCxcblxuICAvKipcbiAgICogQ3VzdG9tIHVzZXIga2V5IGFsaWFzZXMgZm9yIHYtb25cbiAgICovXG4gIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHRhZyBpcyByZXNlcnZlZCBzbyB0aGF0IGl0IGNhbm5vdCBiZSByZWdpc3RlcmVkIGFzIGFcbiAgICogY29tcG9uZW50LiBUaGlzIGlzIHBsYXRmb3JtLWRlcGVuZGVudCBhbmQgbWF5IGJlIG92ZXJ3cml0dGVuLlxuICAgKi9cbiAgaXNSZXNlcnZlZFRhZzogbm8sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC5cbiAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuICAgKi9cbiAgaXNVbmtub3duRWxlbWVudDogbm8sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmFtZXNwYWNlIG9mIGFuIGVsZW1lbnRcbiAgICovXG4gIGdldFRhZ05hbWVzcGFjZTogbm9vcCxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIG11c3QgYmUgYm91bmQgdXNpbmcgcHJvcGVydHksIGUuZy4gdmFsdWVcbiAgICogUGxhdGZvcm0tZGVwZW5kZW50LlxuICAgKi9cbiAgbXVzdFVzZVByb3A6IG5vLFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGFzc2V0IHR5cGVzIHRoYXQgYSBjb21wb25lbnQgY2FuIG93bi5cbiAgICovXG4gIF9hc3NldFR5cGVzOiBbXG4gICAgJ2NvbXBvbmVudCcsXG4gICAgJ2RpcmVjdGl2ZScsXG4gICAgJ2ZpbHRlcidcbiAgXSxcblxuICAvKipcbiAgICogTGlzdCBvZiBsaWZlY3ljbGUgaG9va3MuXG4gICAqL1xuICBfbGlmZWN5Y2xlSG9va3M6IFtcbiAgICAnYmVmb3JlQ3JlYXRlJyxcbiAgICAnY3JlYXRlZCcsXG4gICAgJ2JlZm9yZU1vdW50JyxcbiAgICAnbW91bnRlZCcsXG4gICAgJ2JlZm9yZVVwZGF0ZScsXG4gICAgJ3VwZGF0ZWQnLFxuICAgICdiZWZvcmVEZXN0cm95JyxcbiAgICAnZGVzdHJveWVkJyxcbiAgICAnYWN0aXZhdGVkJyxcbiAgICAnZGVhY3RpdmF0ZWQnXG4gIF0sXG5cbiAgLyoqXG4gICAqIE1heCBjaXJjdWxhciB1cGRhdGVzIGFsbG93ZWQgaW4gYSBzY2hlZHVsZXIgZmx1c2ggY3ljbGUuXG4gICAqL1xuICBfbWF4VXBkYXRlQ291bnQ6IDEwMFxufTtcblxudmFyIHdhcm4gPSBub29wO1xudmFyIGZvcm1hdENvbXBvbmVudE5hbWU7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBoYXNDb25zb2xlID0gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnO1xuXG4gIHdhcm4gPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuICAgIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVnVlIHdhcm5dOiBcIiArIG1zZyArIFwiIFwiICsgKFxuICAgICAgICB2bSA/IGZvcm1hdExvY2F0aW9uKGZvcm1hdENvbXBvbmVudE5hbWUodm0pKSA6ICcnXG4gICAgICApKTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSkge1xuICAgIGlmICh2bS4kcm9vdCA9PT0gdm0pIHtcbiAgICAgIHJldHVybiAncm9vdCBpbnN0YW5jZSdcbiAgICB9XG4gICAgdmFyIG5hbWUgPSB2bS5faXNWdWVcbiAgICAgID8gdm0uJG9wdGlvbnMubmFtZSB8fCB2bS4kb3B0aW9ucy5fY29tcG9uZW50VGFnXG4gICAgICA6IHZtLm5hbWU7XG4gICAgcmV0dXJuIChcbiAgICAgIChuYW1lID8gKFwiY29tcG9uZW50IDxcIiArIG5hbWUgKyBcIj5cIikgOiBcImFub255bW91cyBjb21wb25lbnRcIikgK1xuICAgICAgKHZtLl9pc1Z1ZSAmJiB2bS4kb3B0aW9ucy5fX2ZpbGUgPyAoXCIgYXQgXCIgKyAodm0uJG9wdGlvbnMuX19maWxlKSkgOiAnJylcbiAgICApXG4gIH07XG5cbiAgdmFyIGZvcm1hdExvY2F0aW9uID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmIChzdHIgPT09ICdhbm9ueW1vdXMgY29tcG9uZW50Jykge1xuICAgICAgc3RyICs9IFwiIC0gdXNlIHRoZSBcXFwibmFtZVxcXCIgb3B0aW9uIGZvciBiZXR0ZXIgZGVidWdnaW5nIG1lc3NhZ2VzLlwiO1xuICAgIH1cbiAgICByZXR1cm4gKFwiXFxuKGZvdW5kIGluIFwiICsgc3RyICsgXCIpXCIpXG4gIH07XG59XG5cbi8qICAqL1xuXG5cbnZhciB1aWQkMSA9IDA7XG5cbi8qKlxuICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXG4gKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxuICovXG52YXIgRGVwID0gZnVuY3Rpb24gRGVwICgpIHtcbiAgdGhpcy5pZCA9IHVpZCQxKys7XG4gIHRoaXMuc3VicyA9IFtdO1xufTtcblxuRGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1Yikge1xuICB0aGlzLnN1YnMucHVzaChzdWIpO1xufTtcblxuRGVwLnByb3RvdHlwZS5yZW1vdmVTdWIgPSBmdW5jdGlvbiByZW1vdmVTdWIgKHN1Yikge1xuICByZW1vdmUkMSh0aGlzLnN1YnMsIHN1Yik7XG59O1xuXG5EZXAucHJvdG90eXBlLmRlcGVuZCA9IGZ1bmN0aW9uIGRlcGVuZCAoKSB7XG4gIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgRGVwLnRhcmdldC5hZGREZXAodGhpcyk7XG4gIH1cbn07XG5cbkRlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5ICgpIHtcbiAgLy8gc3RhYmxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxuICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHN1YnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgc3Vic1tpXS51cGRhdGUoKTtcbiAgfVxufTtcblxuLy8gdGhlIGN1cnJlbnQgdGFyZ2V0IHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkLlxuLy8gdGhpcyBpcyBnbG9iYWxseSB1bmlxdWUgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvbmx5IG9uZVxuLy8gd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQgYXQgYW55IHRpbWUuXG5EZXAudGFyZ2V0ID0gbnVsbDtcbnZhciB0YXJnZXRTdGFjayA9IFtdO1xuXG5mdW5jdGlvbiBwdXNoVGFyZ2V0IChfdGFyZ2V0KSB7XG4gIGlmIChEZXAudGFyZ2V0KSB7IHRhcmdldFN0YWNrLnB1c2goRGVwLnRhcmdldCk7IH1cbiAgRGVwLnRhcmdldCA9IF90YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIHBvcFRhcmdldCAoKSB7XG4gIERlcC50YXJnZXQgPSB0YXJnZXRTdGFjay5wb3AoKTtcbn1cblxuLypcbiAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aFxuICogZHluYW1pY2FsbHkgYWNjZXNzaW5nIG1ldGhvZHMgb24gQXJyYXkgcHJvdG90eXBlXG4gKi9cblxudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG52YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTtbXG4gICdwdXNoJyxcbiAgJ3BvcCcsXG4gICdzaGlmdCcsXG4gICd1bnNoaWZ0JyxcbiAgJ3NwbGljZScsXG4gICdzb3J0JyxcbiAgJ3JldmVyc2UnXG5dXG4uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZFxuICB2YXIgb3JpZ2luYWwgPSBhcnJheVByb3RvW21ldGhvZF07XG4gIGRlZihhcnJheU1ldGhvZHMsIG1ldGhvZCwgZnVuY3Rpb24gbXV0YXRvciAoKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgLy8gYXZvaWQgbGVha2luZyBhcmd1bWVudHM6XG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvc3VyZS13aXRoLWFyZ3VtZW50c1xuICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShpKTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzJDFbaV07XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB2YXIgb2IgPSB0aGlzLl9fb2JfXztcbiAgICB2YXIgaW5zZXJ0ZWQ7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ3B1c2gnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd1bnNoaWZ0JzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzO1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3BsaWNlJzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzLnNsaWNlKDIpO1xuICAgICAgICBicmVha1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWQpIHsgb2Iub2JzZXJ2ZUFycmF5KGluc2VydGVkKTsgfVxuICAgIC8vIG5vdGlmeSBjaGFuZ2VcbiAgICBvYi5kZXAubm90aWZ5KCk7XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9KTtcbn0pO1xuXG4vKiAgKi9cblxudmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgd2hlbiBhIHJlYWN0aXZlIHByb3BlcnR5IGlzIHNldCwgdGhlIG5ldyB2YWx1ZSBpc1xuICogYWxzbyBjb252ZXJ0ZWQgdG8gYmVjb21lIHJlYWN0aXZlLiBIb3dldmVyIHdoZW4gcGFzc2luZyBkb3duIHByb3BzLFxuICogd2UgZG9uJ3Qgd2FudCB0byBmb3JjZSBjb252ZXJzaW9uIGJlY2F1c2UgdGhlIHZhbHVlIG1heSBiZSBhIG5lc3RlZCB2YWx1ZVxuICogdW5kZXIgYSBmcm96ZW4gZGF0YSBzdHJ1Y3R1cmUuIENvbnZlcnRpbmcgaXQgd291bGQgZGVmZWF0IHRoZSBvcHRpbWl6YXRpb24uXG4gKi9cbnZhciBvYnNlcnZlclN0YXRlID0ge1xuICBzaG91bGRDb252ZXJ0OiB0cnVlLFxuICBpc1NldHRpbmdQcm9wczogZmFsc2Vcbn07XG5cbi8qKlxuICogT2JzZXJ2ZXIgY2xhc3MgdGhhdCBhcmUgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZFxuICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGFyZ2V0XG4gKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdFxuICogY29sbGVjdCBkZXBlbmRlbmNpZXMgYW5kIGRpc3BhdGNoZXMgdXBkYXRlcy5cbiAqL1xudmFyIE9ic2VydmVyID0gZnVuY3Rpb24gT2JzZXJ2ZXIgKHZhbHVlKSB7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gIHRoaXMudm1Db3VudCA9IDA7XG4gIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICB2YXIgYXVnbWVudCA9IGhhc1Byb3RvXG4gICAgICA/IHByb3RvQXVnbWVudFxuICAgICAgOiBjb3B5QXVnbWVudDtcbiAgICBhdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cyk7XG4gICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMud2Fsayh2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV2FsayB0aHJvdWdoIGVhY2ggcHJvcGVydHkgYW5kIGNvbnZlcnQgdGhlbSBpbnRvXG4gKiBnZXR0ZXIvc2V0dGVycy4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW5cbiAqIHZhbHVlIHR5cGUgaXMgT2JqZWN0LlxuICovXG5PYnNlcnZlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIHdhbGsgKG9iaikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKG9iaiwga2V5c1tpXSwgb2JqW2tleXNbaV1dKTtcbiAgfVxufTtcblxuLyoqXG4gKiBPYnNlcnZlIGEgbGlzdCBvZiBBcnJheSBpdGVtcy5cbiAqL1xuT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmVBcnJheSA9IGZ1bmN0aW9uIG9ic2VydmVBcnJheSAoaXRlbXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvYnNlcnZlKGl0ZW1zW2ldKTtcbiAgfVxufTtcblxuLy8gaGVscGVyc1xuXG4vKipcbiAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBpbnRlcmNlcHRpbmdcbiAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fXG4gKi9cbmZ1bmN0aW9uIHByb3RvQXVnbWVudCAodGFyZ2V0LCBzcmMpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbiAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHNyYztcbiAgLyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xufVxuXG4vKipcbiAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZ1xuICogaGlkZGVuIHByb3BlcnRpZXMuXG4gKlxuICogaXN0YW5idWwgaWdub3JlIG5leHRcbiAqL1xuZnVuY3Rpb24gY29weUF1Z21lbnQgKHRhcmdldCwgc3JjLCBrZXlzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgfVxufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLFxuICogcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGlmIHN1Y2Nlc3NmdWxseSBvYnNlcnZlZCxcbiAqIG9yIHRoZSBleGlzdGluZyBvYnNlcnZlciBpZiB0aGUgdmFsdWUgYWxyZWFkeSBoYXMgb25lLlxuICovXG5mdW5jdGlvbiBvYnNlcnZlICh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYjtcbiAgaWYgKGhhc093bih2YWx1ZSwgJ19fb2JfXycpICYmIHZhbHVlLl9fb2JfXyBpbnN0YW5jZW9mIE9ic2VydmVyKSB7XG4gICAgb2IgPSB2YWx1ZS5fX29iX187XG4gIH0gZWxzZSBpZiAoXG4gICAgb2JzZXJ2ZXJTdGF0ZS5zaG91bGRDb252ZXJ0ICYmXG4gICAgIWlzU2VydmVyUmVuZGVyaW5nKCkgJiZcbiAgICAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZSkpICYmXG4gICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiZcbiAgICAhdmFsdWUuX2lzVnVlXG4gICkge1xuICAgIG9iID0gbmV3IE9ic2VydmVyKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2Jcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiBhbiBPYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlJCQxIChcbiAgb2JqLFxuICBrZXksXG4gIHZhbCxcbiAgY3VzdG9tU2V0dGVyXG4pIHtcbiAgdmFyIGRlcCA9IG5ldyBEZXAoKTtcblxuICB2YXIgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcbiAgaWYgKHByb3BlcnR5ICYmIHByb3BlcnR5LmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGNhdGVyIGZvciBwcmUtZGVmaW5lZCBnZXR0ZXIvc2V0dGVyc1xuICB2YXIgZ2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuZ2V0O1xuICB2YXIgc2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuc2V0O1xuXG4gIHZhciBjaGlsZE9iID0gb2JzZXJ2ZSh2YWwpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICBkZXAuZGVwZW5kKCk7XG4gICAgICAgIGlmIChjaGlsZE9iKSB7XG4gICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZGVwZW5kQXJyYXkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY3VzdG9tU2V0dGVyKSB7XG4gICAgICAgIGN1c3RvbVNldHRlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHNldHRlcikge1xuICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBuZXdWYWw7XG4gICAgICB9XG4gICAgICBjaGlsZE9iID0gb2JzZXJ2ZShuZXdWYWwpO1xuICAgICAgZGVwLm5vdGlmeSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kXG4gKiB0cmlnZ2VycyBjaGFuZ2Ugbm90aWZpY2F0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0LlxuICovXG5mdW5jdGlvbiBzZXQgKG9iaiwga2V5LCB2YWwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIG9iai5sZW5ndGggPSBNYXRoLm1heChvYmoubGVuZ3RoLCBrZXkpO1xuICAgIG9iai5zcGxpY2Uoa2V5LCAxLCB2YWwpO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBpZiAoaGFzT3duKG9iaiwga2V5KSkge1xuICAgIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvYiA9IG9iai5fX29iX187XG4gIGlmIChvYmouX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBhZGRpbmcgcmVhY3RpdmUgcHJvcGVydGllcyB0byBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICdhdCBydW50aW1lIC0gZGVjbGFyZSBpdCB1cGZyb250IGluIHRoZSBkYXRhIG9wdGlvbi4nXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIW9iKSB7XG4gICAgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGVmaW5lUmVhY3RpdmUkJDEob2IudmFsdWUsIGtleSwgdmFsKTtcbiAgb2IuZGVwLm5vdGlmeSgpO1xuICByZXR1cm4gdmFsXG59XG5cbi8qKlxuICogRGVsZXRlIGEgcHJvcGVydHkgYW5kIHRyaWdnZXIgY2hhbmdlIGlmIG5lY2Vzc2FyeS5cbiAqL1xuZnVuY3Rpb24gZGVsIChvYmosIGtleSkge1xuICB2YXIgb2IgPSBvYmouX19vYl9fO1xuICBpZiAob2JqLl9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAnQXZvaWQgZGVsZXRpbmcgcHJvcGVydGllcyBvbiBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJ1xuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIG9ialtrZXldO1xuICBpZiAoIW9iKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgb2IuZGVwLm5vdGlmeSgpO1xufVxuXG4vKipcbiAqIENvbGxlY3QgZGVwZW5kZW5jaWVzIG9uIGFycmF5IGVsZW1lbnRzIHdoZW4gdGhlIGFycmF5IGlzIHRvdWNoZWQsIHNpbmNlXG4gKiB3ZSBjYW5ub3QgaW50ZXJjZXB0IGFycmF5IGVsZW1lbnQgYWNjZXNzIGxpa2UgcHJvcGVydHkgZ2V0dGVycy5cbiAqL1xuZnVuY3Rpb24gZGVwZW5kQXJyYXkgKHZhbHVlKSB7XG4gIGZvciAodmFyIGUgPSAodm9pZCAwKSwgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBlID0gdmFsdWVbaV07XG4gICAgZSAmJiBlLl9fb2JfXyAmJiBlLl9fb2JfXy5kZXAuZGVwZW5kKCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICAgIGRlcGVuZEFycmF5KGUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBPcHRpb24gb3ZlcndyaXRpbmcgc3RyYXRlZ2llcyBhcmUgZnVuY3Rpb25zIHRoYXQgaGFuZGxlXG4gKiBob3cgdG8gbWVyZ2UgYSBwYXJlbnQgb3B0aW9uIHZhbHVlIGFuZCBhIGNoaWxkIG9wdGlvblxuICogdmFsdWUgaW50byB0aGUgZmluYWwgdmFsdWUuXG4gKi9cbnZhciBzdHJhdHMgPSBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO1xuXG4vKipcbiAqIE9wdGlvbnMgd2l0aCByZXN0cmljdGlvbnNcbiAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgc3RyYXRzLmVsID0gc3RyYXRzLnByb3BzRGF0YSA9IGZ1bmN0aW9uIChwYXJlbnQsIGNoaWxkLCB2bSwga2V5KSB7XG4gICAgaWYgKCF2bSkge1xuICAgICAgd2FybihcbiAgICAgICAgXCJvcHRpb24gXFxcIlwiICsga2V5ICsgXCJcXFwiIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGluc3RhbmNlIFwiICtcbiAgICAgICAgJ2NyZWF0aW9uIHdpdGggdGhlIGBuZXdgIGtleXdvcmQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRTdHJhdChwYXJlbnQsIGNoaWxkKVxuICB9O1xufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IHJlY3Vyc2l2ZWx5IG1lcmdlcyB0d28gZGF0YSBvYmplY3RzIHRvZ2V0aGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZURhdGEgKHRvLCBmcm9tKSB7XG4gIGlmICghZnJvbSkgeyByZXR1cm4gdG8gfVxuICB2YXIga2V5LCB0b1ZhbCwgZnJvbVZhbDtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcm9tKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICB0b1ZhbCA9IHRvW2tleV07XG4gICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcbiAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xuICAgICAgc2V0KHRvLCBrZXksIGZyb21WYWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh0b1ZhbCkgJiYgaXNQbGFpbk9iamVjdChmcm9tVmFsKSkge1xuICAgICAgbWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvXG59XG5cbi8qKlxuICogRGF0YVxuICovXG5zdHJhdHMuZGF0YSA9IGZ1bmN0aW9uIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm1cbikge1xuICBpZiAoIXZtKSB7XG4gICAgLy8gaW4gYSBWdWUuZXh0ZW5kIG1lcmdlLCBib3RoIHNob3VsZCBiZSBmdW5jdGlvbnNcbiAgICBpZiAoIWNoaWxkVmFsKSB7XG4gICAgICByZXR1cm4gcGFyZW50VmFsXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hpbGRWYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXG4gICAgICAgICd0aGF0IHJldHVybnMgYSBwZXItaW5zdGFuY2UgdmFsdWUgaW4gY29tcG9uZW50ICcgK1xuICAgICAgICAnZGVmaW5pdGlvbnMuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgICByZXR1cm4gcGFyZW50VmFsXG4gICAgfVxuICAgIGlmICghcGFyZW50VmFsKSB7XG4gICAgICByZXR1cm4gY2hpbGRWYWxcbiAgICB9XG4gICAgLy8gd2hlbiBwYXJlbnRWYWwgJiBjaGlsZFZhbCBhcmUgYm90aCBwcmVzZW50LFxuICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAgIC8vIG1lcmdlZCByZXN1bHQgb2YgYm90aCBmdW5jdGlvbnMuLi4gbm8gbmVlZCB0b1xuICAgIC8vIGNoZWNrIGlmIHBhcmVudFZhbCBpcyBhIGZ1bmN0aW9uIGhlcmUgYmVjYXVzZVxuICAgIC8vIGl0IGhhcyB0byBiZSBhIGZ1bmN0aW9uIHRvIHBhc3MgcHJldmlvdXMgbWVyZ2VzLlxuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4gKCkge1xuICAgICAgcmV0dXJuIG1lcmdlRGF0YShcbiAgICAgICAgY2hpbGRWYWwuY2FsbCh0aGlzKSxcbiAgICAgICAgcGFyZW50VmFsLmNhbGwodGhpcylcbiAgICAgIClcbiAgICB9XG4gIH0gZWxzZSBpZiAocGFyZW50VmFsIHx8IGNoaWxkVmFsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZEluc3RhbmNlRGF0YUZuICgpIHtcbiAgICAgIC8vIGluc3RhbmNlIG1lcmdlXG4gICAgICB2YXIgaW5zdGFuY2VEYXRhID0gdHlwZW9mIGNoaWxkVmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gY2hpbGRWYWwuY2FsbCh2bSlcbiAgICAgICAgOiBjaGlsZFZhbDtcbiAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoaW5zdGFuY2VEYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF0YVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIb29rcyBhbmQgcGFyYW0gYXR0cmlidXRlcyBhcmUgbWVyZ2VkIGFzIGFycmF5cy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb29rIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbFxuKSB7XG4gIHJldHVybiBjaGlsZFZhbFxuICAgID8gcGFyZW50VmFsXG4gICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpXG4gICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRWYWwpXG4gICAgICAgID8gY2hpbGRWYWxcbiAgICAgICAgOiBbY2hpbGRWYWxdXG4gICAgOiBwYXJlbnRWYWxcbn1cblxuY29uZmlnLl9saWZlY3ljbGVIb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG4gIHN0cmF0c1tob29rXSA9IG1lcmdlSG9vaztcbn0pO1xuXG4vKipcbiAqIEFzc2V0c1xuICpcbiAqIFdoZW4gYSB2bSBpcyBwcmVzZW50IChpbnN0YW5jZSBjcmVhdGlvbiksIHdlIG5lZWQgdG8gZG9cbiAqIGEgdGhyZWUtd2F5IG1lcmdlIGJldHdlZW4gY29uc3RydWN0b3Igb3B0aW9ucywgaW5zdGFuY2VcbiAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBtZXJnZUFzc2V0cyAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCk7XG4gIHJldHVybiBjaGlsZFZhbFxuICAgID8gZXh0ZW5kKHJlcywgY2hpbGRWYWwpXG4gICAgOiByZXNcbn1cblxuY29uZmlnLl9hc3NldFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7XG59KTtcblxuLyoqXG4gKiBXYXRjaGVycy5cbiAqXG4gKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXG4gKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cbiAqL1xuc3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIHBhcmVudFZhbCB9XG4gIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG4gIHZhciByZXQgPSB7fTtcbiAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcbiAgZm9yICh2YXIga2V5IGluIGNoaWxkVmFsKSB7XG4gICAgdmFyIHBhcmVudCA9IHJldFtrZXldO1xuICAgIHZhciBjaGlsZCA9IGNoaWxkVmFsW2tleV07XG4gICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7XG4gICAgICBwYXJlbnQgPSBbcGFyZW50XTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBwYXJlbnRcbiAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZClcbiAgICAgIDogW2NoaWxkXTtcbiAgfVxuICByZXR1cm4gcmV0XG59O1xuXG4vKipcbiAqIE90aGVyIG9iamVjdCBoYXNoZXMuXG4gKi9cbnN0cmF0cy5wcm9wcyA9XG5zdHJhdHMubWV0aG9kcyA9XG5zdHJhdHMuY29tcHV0ZWQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICBpZiAoIWNoaWxkVmFsKSB7IHJldHVybiBwYXJlbnRWYWwgfVxuICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuICB2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZXh0ZW5kKHJldCwgcGFyZW50VmFsKTtcbiAgZXh0ZW5kKHJldCwgY2hpbGRWYWwpO1xuICByZXR1cm4gcmV0XG59O1xuXG4vKipcbiAqIERlZmF1bHQgc3RyYXRlZ3kuXG4gKi9cbnZhciBkZWZhdWx0U3RyYXQgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCkge1xuICByZXR1cm4gY2hpbGRWYWwgPT09IHVuZGVmaW5lZFxuICAgID8gcGFyZW50VmFsXG4gICAgOiBjaGlsZFZhbFxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBjb21wb25lbnQgbmFtZXNcbiAqL1xuZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzIChvcHRpb25zKSB7XG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmNvbXBvbmVudHMpIHtcbiAgICB2YXIgbG93ZXIgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaXNCdWlsdEluVGFnKGxvd2VyKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhsb3dlcikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50ICcgK1xuICAgICAgICAnaWQ6ICcgKyBrZXlcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucykge1xuICB2YXIgcHJvcHMgPSBvcHRpb25zLnByb3BzO1xuICBpZiAoIXByb3BzKSB7IHJldHVybiB9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGksIHZhbCwgbmFtZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB2YWwgPSBwcm9wc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYW1lID0gY2FtZWxpemUodmFsKTtcbiAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FybigncHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LicpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgdmFsID0gcHJvcHNba2V5XTtcbiAgICAgIG5hbWUgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgcmVzW25hbWVdID0gaXNQbGFpbk9iamVjdCh2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogeyB0eXBlOiB2YWwgfTtcbiAgICB9XG4gIH1cbiAgb3B0aW9ucy5wcm9wcyA9IHJlcztcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzIChvcHRpb25zKSB7XG4gIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzO1xuICBpZiAoZGlycykge1xuICAgIGZvciAodmFyIGtleSBpbiBkaXJzKSB7XG4gICAgICB2YXIgZGVmID0gZGlyc1trZXldO1xuICAgICAgaWYgKHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYsIHVwZGF0ZTogZGVmIH07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxuICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VPcHRpb25zIChcbiAgcGFyZW50LFxuICBjaGlsZCxcbiAgdm1cbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XG4gIH1cbiAgbm9ybWFsaXplUHJvcHMoY2hpbGQpO1xuICBub3JtYWxpemVEaXJlY3RpdmVzKGNoaWxkKTtcbiAgdmFyIGV4dGVuZHNGcm9tID0gY2hpbGQuZXh0ZW5kcztcbiAgaWYgKGV4dGVuZHNGcm9tKSB7XG4gICAgcGFyZW50ID0gdHlwZW9mIGV4dGVuZHNGcm9tID09PSAnZnVuY3Rpb24nXG4gICAgICA/IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGV4dGVuZHNGcm9tLm9wdGlvbnMsIHZtKVxuICAgICAgOiBtZXJnZU9wdGlvbnMocGFyZW50LCBleHRlbmRzRnJvbSwgdm0pO1xuICB9XG4gIGlmIChjaGlsZC5taXhpbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkLm1peGlucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBtaXhpbiA9IGNoaWxkLm1peGluc1tpXTtcbiAgICAgIGlmIChtaXhpbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBWdWUkMikge1xuICAgICAgICBtaXhpbiA9IG1peGluLm9wdGlvbnM7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBtaXhpbiwgdm0pO1xuICAgIH1cbiAgfVxuICB2YXIgb3B0aW9ucyA9IHt9O1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBwYXJlbnQpIHtcbiAgICBtZXJnZUZpZWxkKGtleSk7XG4gIH1cbiAgZm9yIChrZXkgaW4gY2hpbGQpIHtcbiAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcbiAgICAgIG1lcmdlRmllbGQoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VGaWVsZCAoa2V5KSB7XG4gICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xuICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG4vKipcbiAqIFJlc29sdmUgYW4gYXNzZXQuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3NcbiAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0IChcbiAgb3B0aW9ucyxcbiAgdHlwZSxcbiAgaWQsXG4gIHdhcm5NaXNzaW5nXG4pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGFzc2V0cyA9IG9wdGlvbnNbdHlwZV07XG4gIHZhciByZXMgPSBhc3NldHNbaWRdIHx8XG4gICAgLy8gY2FtZWxDYXNlIElEXG4gICAgYXNzZXRzW2NhbWVsaXplKGlkKV0gfHxcbiAgICAvLyBQYXNjYWwgQ2FzZSBJRFxuICAgIGFzc2V0c1tjYXBpdGFsaXplKGNhbWVsaXplKGlkKSldO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgd2FybihcbiAgICAgICdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AgKFxuICBrZXksXG4gIHByb3BPcHRpb25zLFxuICBwcm9wc0RhdGEsXG4gIHZtXG4pIHtcbiAgdmFyIHByb3AgPSBwcm9wT3B0aW9uc1trZXldO1xuICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7XG4gIHZhciB2YWx1ZSA9IHByb3BzRGF0YVtrZXldO1xuICAvLyBoYW5kbGUgYm9vbGVhbiBwcm9wc1xuICBpZiAoaXNCb29sZWFuVHlwZShwcm9wLnR5cGUpKSB7XG4gICAgaWYgKGFic2VudCAmJiAhaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XG4gICAgICB2YWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIGNoZWNrIGRlZmF1bHQgdmFsdWVcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7XG4gICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBmcmVzaCBjb3B5LFxuICAgIC8vIG1ha2Ugc3VyZSB0byBvYnNlcnZlIGl0LlxuICAgIHZhciBwcmV2U2hvdWxkQ29udmVydCA9IG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydDtcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICAgIG9ic2VydmUodmFsdWUpO1xuICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IHByZXZTaG91bGRDb252ZXJ0O1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0UHJvcChwcm9wLCBrZXksIHZhbHVlLCB2bSwgYWJzZW50KTtcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBwcm9wLlxuICovXG5mdW5jdGlvbiBnZXRQcm9wRGVmYXVsdFZhbHVlICh2bSwgcHJvcCwga2V5KSB7XG4gIC8vIG5vIGRlZmF1bHQsIHJldHVybiB1bmRlZmluZWRcbiAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0O1xuICAvLyB3YXJuIGFnYWluc3Qgbm9uLWZhY3RvcnkgZGVmYXVsdHMgZm9yIE9iamVjdCAmIEFycmF5XG4gIGlmIChpc09iamVjdChkZWYpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ0ludmFsaWQgZGVmYXVsdCB2YWx1ZSBmb3IgcHJvcCBcIicgKyBrZXkgKyAnXCI6ICcgK1xuICAgICAgJ1Byb3BzIHdpdGggdHlwZSBPYmplY3QvQXJyYXkgbXVzdCB1c2UgYSBmYWN0b3J5IGZ1bmN0aW9uICcgK1xuICAgICAgJ3RvIHJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZS4nLFxuICAgICAgdm1cbiAgICApO1xuICB9XG4gIC8vIHRoZSByYXcgcHJvcCB2YWx1ZSB3YXMgYWxzbyB1bmRlZmluZWQgZnJvbSBwcmV2aW91cyByZW5kZXIsXG4gIC8vIHJldHVybiBwcmV2aW91cyBkZWZhdWx0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhdGNoZXIgdHJpZ2dlclxuICBpZiAodm0gJiYgdm0uJG9wdGlvbnMucHJvcHNEYXRhICYmXG4gICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxuICAgIHZtW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2bVtrZXldXG4gIH1cbiAgLy8gY2FsbCBmYWN0b3J5IGZ1bmN0aW9uIGZvciBub24tRnVuY3Rpb24gdHlwZXNcbiAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgcHJvcC50eXBlICE9PSBGdW5jdGlvblxuICAgID8gZGVmLmNhbGwodm0pXG4gICAgOiBkZWZcbn1cblxuLyoqXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFByb3AgKFxuICBwcm9wLFxuICBuYW1lLFxuICB2YWx1ZSxcbiAgdm0sXG4gIGFic2VudFxuKSB7XG4gIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkge1xuICAgIHdhcm4oXG4gICAgICAnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciB0eXBlID0gcHJvcC50eXBlO1xuICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlO1xuICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICBpZiAodHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZSA9IFt0eXBlXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xuICAgICAgdmFyIGFzc2VydGVkVHlwZSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGFzc2VydGVkVHlwZS5leHBlY3RlZFR5cGUpO1xuICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XG4gICAgfVxuICB9XG4gIGlmICghdmFsaWQpIHtcbiAgICB3YXJuKFxuICAgICAgJ0ludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nICtcbiAgICAgICcgRXhwZWN0ZWQgJyArIGV4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJykgK1xuICAgICAgJywgZ290ICcgKyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSArICcuJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgdmFsaWRhdG9yID0gcHJvcC52YWxpZGF0b3I7XG4gIGlmICh2YWxpZGF0b3IpIHtcbiAgICBpZiAoIXZhbGlkYXRvcih2YWx1ZSkpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoZSB0eXBlIG9mIGEgdmFsdWVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSAodmFsdWUsIHR5cGUpIHtcbiAgdmFyIHZhbGlkO1xuICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ1N0cmluZycpIHtcbiAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdzdHJpbmcnKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnbnVtYmVyJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQm9vbGVhbicpIHtcbiAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gKGV4cGVjdGVkVHlwZSA9ICdib29sZWFuJyk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnRnVuY3Rpb24nKSB7XG4gICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgPT09IChleHBlY3RlZFR5cGUgPSAnZnVuY3Rpb24nKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XG4gICAgdmFsaWQgPSBpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcbiAgICB2YWxpZCA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQ6IHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZTogZXhwZWN0ZWRUeXBlXG4gIH1cbn1cblxuLyoqXG4gKiBVc2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgYnVpbHQtaW4gdHlwZXMsXG4gKiBiZWNhdXNlIGEgc2ltcGxlIGVxdWFsaXR5IGNoZWNrIHdpbGwgZmFpbCB3aGVuIHJ1bm5pbmdcbiAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZSAoZm4pIHtcbiAgdmFyIG1hdGNoID0gZm4gJiYgZm4udG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdXG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhblR5cGUgKGZuKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpIHtcbiAgICByZXR1cm4gZ2V0VHlwZShmbikgPT09ICdCb29sZWFuJ1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChnZXRUeXBlKGZuW2ldKSA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2Vcbn1cblxuXG5cbnZhciB1dGlsID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMSxcblx0X3RvU3RyaW5nOiBfdG9TdHJpbmcsXG5cdHRvTnVtYmVyOiB0b051bWJlcixcblx0bWFrZU1hcDogbWFrZU1hcCxcblx0aXNCdWlsdEluVGFnOiBpc0J1aWx0SW5UYWcsXG5cdHJlbW92ZTogcmVtb3ZlJDEsXG5cdGhhc093bjogaGFzT3duLFxuXHRpc1ByaW1pdGl2ZTogaXNQcmltaXRpdmUsXG5cdGNhY2hlZDogY2FjaGVkLFxuXHRjYW1lbGl6ZTogY2FtZWxpemUsXG5cdGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG5cdGh5cGhlbmF0ZTogaHlwaGVuYXRlLFxuXHRiaW5kOiBiaW5kJDEsXG5cdHRvQXJyYXk6IHRvQXJyYXksXG5cdGV4dGVuZDogZXh0ZW5kLFxuXHRpc09iamVjdDogaXNPYmplY3QsXG5cdGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG5cdHRvT2JqZWN0OiB0b09iamVjdCxcblx0bm9vcDogbm9vcCxcblx0bm86IG5vLFxuXHRnZW5TdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzLFxuXHRsb29zZUVxdWFsOiBsb29zZUVxdWFsLFxuXHRsb29zZUluZGV4T2Y6IGxvb3NlSW5kZXhPZixcblx0aXNSZXNlcnZlZDogaXNSZXNlcnZlZCxcblx0ZGVmOiBkZWYsXG5cdHBhcnNlUGF0aDogcGFyc2VQYXRoLFxuXHRoYXNQcm90bzogaGFzUHJvdG8sXG5cdGluQnJvd3NlcjogaW5Ccm93c2VyLFxuXHRVQTogVUEsXG5cdGlzSUU6IGlzSUUsXG5cdGlzSUU5OiBpc0lFOSxcblx0aXNFZGdlOiBpc0VkZ2UsXG5cdGlzQW5kcm9pZDogaXNBbmRyb2lkLFxuXHRpc0lPUzogaXNJT1MsXG5cdGlzU2VydmVyUmVuZGVyaW5nOiBpc1NlcnZlclJlbmRlcmluZyxcblx0ZGV2dG9vbHM6IGRldnRvb2xzLFxuXHRuZXh0VGljazogbmV4dFRpY2ssXG5cdGdldCBfU2V0ICgpIHsgcmV0dXJuIF9TZXQ7IH0sXG5cdG1lcmdlT3B0aW9uczogbWVyZ2VPcHRpb25zLFxuXHRyZXNvbHZlQXNzZXQ6IHJlc29sdmVBc3NldCxcblx0Z2V0IHdhcm4gKCkgeyByZXR1cm4gd2FybjsgfSxcblx0Z2V0IGZvcm1hdENvbXBvbmVudE5hbWUgKCkgeyByZXR1cm4gZm9ybWF0Q29tcG9uZW50TmFtZTsgfSxcblx0dmFsaWRhdGVQcm9wOiB2YWxpZGF0ZVByb3Bcbn0pO1xuXG4vKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblxudmFyIGluaXRQcm94eTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcbiAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcbiAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG4gICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcbiAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuICApO1xuXG4gIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG4gICAgICBcInJlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRvIGRlY2xhcmUgcmVhY3RpdmUgZGF0YSBcIiArXG4gICAgICBcInByb3BlcnRpZXMgaW4gdGhlIGRhdGEgb3B0aW9uLlwiLFxuICAgICAgdGFyZ2V0XG4gICAgKTtcbiAgfTtcblxuICB2YXIgaGFzUHJveHkgPVxuICAgIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBQcm94eS50b1N0cmluZygpLm1hdGNoKC9uYXRpdmUgY29kZS8pO1xuXG4gIHZhciBoYXNIYW5kbGVyID0ge1xuICAgIGhhczogZnVuY3Rpb24gaGFzICh0YXJnZXQsIGtleSkge1xuICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gYWxsb3dlZEdsb2JhbHMoa2V5KSB8fCBrZXkuY2hhckF0KDApID09PSAnXyc7XG4gICAgICBpZiAoIWhhcyAmJiAhaXNBbGxvd2VkKSB7XG4gICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXMgfHwgIWlzQWxsb3dlZFxuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0SGFuZGxlciA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG4gICAgICAgIHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXRba2V5XVxuICAgIH1cbiAgfTtcblxuICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkgKHZtKSB7XG4gICAgaWYgKGhhc1Byb3h5KSB7XG4gICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2VcbiAgICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBvcHRpb25zLnJlbmRlciAmJiBvcHRpb25zLnJlbmRlci5fd2l0aFN0cmlwcGVkXG4gICAgICAgID8gZ2V0SGFuZGxlclxuICAgICAgICA6IGhhc0hhbmRsZXI7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSBuZXcgUHJveHkodm0sIGhhbmRsZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XG4gICAgfVxuICB9O1xufVxuXG4vKiAgKi9cblxuXG52YXIgcXVldWUgPSBbXTtcbnZhciBoYXMkMSA9IHt9O1xudmFyIGNpcmN1bGFyID0ge307XG52YXIgd2FpdGluZyA9IGZhbHNlO1xudmFyIGZsdXNoaW5nID0gZmFsc2U7XG52YXIgaW5kZXggPSAwO1xuXG4vKipcbiAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gcmVzZXRTY2hlZHVsZXJTdGF0ZSAoKSB7XG4gIHF1ZXVlLmxlbmd0aCA9IDA7XG4gIGhhcyQxID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2lyY3VsYXIgPSB7fTtcbiAgfVxuICB3YWl0aW5nID0gZmx1c2hpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBGbHVzaCBib3RoIHF1ZXVlcyBhbmQgcnVuIHRoZSB3YXRjaGVycy5cbiAqL1xuZnVuY3Rpb24gZmx1c2hTY2hlZHVsZXJRdWV1ZSAoKSB7XG4gIGZsdXNoaW5nID0gdHJ1ZTtcblxuICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cbiAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcbiAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxuICAvLyAyLiBBIGNvbXBvbmVudCdzIHVzZXIgd2F0Y2hlcnMgYXJlIHJ1biBiZWZvcmUgaXRzIHJlbmRlciB3YXRjaGVyIChiZWNhdXNlXG4gIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcilcbiAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcbiAgLy8gICAgaXRzIHdhdGNoZXJzIGNhbiBiZSBza2lwcGVkLlxuICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7XG5cbiAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkXG4gIC8vIGFzIHdlIHJ1biBleGlzdGluZyB3YXRjaGVyc1xuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBxdWV1ZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgd2F0Y2hlciA9IHF1ZXVlW2luZGV4XTtcbiAgICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuICAgIGhhcyQxW2lkXSA9IG51bGw7XG4gICAgd2F0Y2hlci5ydW4oKTtcbiAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzJDFbaWRdICE9IG51bGwpIHtcbiAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxO1xuICAgICAgaWYgKGNpcmN1bGFyW2lkXSA+IGNvbmZpZy5fbWF4VXBkYXRlQ291bnQpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgKyAoXG4gICAgICAgICAgICB3YXRjaGVyLnVzZXJcbiAgICAgICAgICAgICAgPyAoXCJpbiB3YXRjaGVyIHdpdGggZXhwcmVzc2lvbiBcXFwiXCIgKyAod2F0Y2hlci5leHByZXNzaW9uKSArIFwiXFxcIlwiKVxuICAgICAgICAgICAgICA6IFwiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3YXRjaGVyLnZtXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gZGV2dG9vbCBob29rXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XG4gICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcbiAgfVxuXG4gIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTtcbn1cblxuLyoqXG4gKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLlxuICogSm9icyB3aXRoIGR1cGxpY2F0ZSBJRHMgd2lsbCBiZSBza2lwcGVkIHVubGVzcyBpdCdzXG4gKiBwdXNoZWQgd2hlbiB0aGUgcXVldWUgaXMgYmVpbmcgZmx1c2hlZC5cbiAqL1xuZnVuY3Rpb24gcXVldWVXYXRjaGVyICh3YXRjaGVyKSB7XG4gIHZhciBpZCA9IHdhdGNoZXIuaWQ7XG4gIGlmIChoYXMkMVtpZF0gPT0gbnVsbCkge1xuICAgIGhhcyQxW2lkXSA9IHRydWU7XG4gICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgcXVldWUucHVzaCh3YXRjaGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxuICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cbiAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpID49IDAgJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShNYXRoLm1heChpLCBpbmRleCkgKyAxLCAwLCB3YXRjaGVyKTtcbiAgICB9XG4gICAgLy8gcXVldWUgdGhlIGZsdXNoXG4gICAgaWYgKCF3YWl0aW5nKSB7XG4gICAgICB3YWl0aW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIHVpZCQyID0gMDtcblxuLyoqXG4gKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcbiAqIGFuZCBmaXJlcyBjYWxsYmFjayB3aGVuIHRoZSBleHByZXNzaW9uIHZhbHVlIGNoYW5nZXMuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy5cbiAqL1xudmFyIFdhdGNoZXIgPSBmdW5jdGlvbiBXYXRjaGVyIChcbiAgdm0sXG4gIGV4cE9yRm4sXG4gIGNiLFxuICBvcHRpb25zXG4pIHtcbiAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdGhpcy52bSA9IHZtO1xuICB2bS5fd2F0Y2hlcnMucHVzaCh0aGlzKTtcbiAgLy8gb3B0aW9uc1xuICB0aGlzLmRlZXAgPSAhIW9wdGlvbnMuZGVlcDtcbiAgdGhpcy51c2VyID0gISFvcHRpb25zLnVzZXI7XG4gIHRoaXMubGF6eSA9ICEhb3B0aW9ucy5sYXp5O1xuICB0aGlzLnN5bmMgPSAhIW9wdGlvbnMuc3luYztcbiAgdGhpcy5leHByZXNzaW9uID0gZXhwT3JGbi50b1N0cmluZygpO1xuICB0aGlzLmNiID0gY2I7XG4gIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nXG4gIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5kaXJ0eSA9IHRoaXMubGF6eTsgLy8gZm9yIGxhenkgd2F0Y2hlcnNcbiAgdGhpcy5kZXBzID0gW107XG4gIHRoaXMubmV3RGVwcyA9IFtdO1xuICB0aGlzLmRlcElkcyA9IG5ldyBfU2V0KCk7XG4gIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcbiAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG4gIGlmICh0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmdldHRlciA9IHBhcnNlUGF0aChleHBPckZuKTtcbiAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG4gICAgICB0aGlzLmdldHRlciA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkZhaWxlZCB3YXRjaGluZyBwYXRoOiBcXFwiXCIgKyBleHBPckZuICsgXCJcXFwiIFwiICtcbiAgICAgICAgJ1dhdGNoZXIgb25seSBhY2NlcHRzIHNpbXBsZSBkb3QtZGVsaW1pdGVkIHBhdGhzLiAnICtcbiAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHRoaXMudmFsdWUgPSB0aGlzLmxhenlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogdGhpcy5nZXQoKTtcbn07XG5cbi8qKlxuICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKCkge1xuICBwdXNoVGFyZ2V0KHRoaXMpO1xuICB2YXIgdmFsdWUgPSB0aGlzLmdldHRlci5jYWxsKHRoaXMudm0sIHRoaXMudm0pO1xuICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcbiAgLy8gZGVwZW5kZW5jaWVzIGZvciBkZWVwIHdhdGNoaW5nXG4gIGlmICh0aGlzLmRlZXApIHtcbiAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gIH1cbiAgcG9wVGFyZ2V0KCk7XG4gIHRoaXMuY2xlYW51cERlcHMoKTtcbiAgcmV0dXJuIHZhbHVlXG59O1xuXG4vKipcbiAqIEFkZCBhIGRlcGVuZGVuY3kgdG8gdGhpcyBkaXJlY3RpdmUuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmFkZERlcCA9IGZ1bmN0aW9uIGFkZERlcCAoZGVwKSB7XG4gIHZhciBpZCA9IGRlcC5pZDtcbiAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoaWQpKSB7XG4gICAgdGhpcy5uZXdEZXBJZHMuYWRkKGlkKTtcbiAgICB0aGlzLm5ld0RlcHMucHVzaChkZXApO1xuICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkge1xuICAgICAgZGVwLmFkZFN1Yih0aGlzKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgZm9yIGRlcGVuZGVuY3kgY29sbGVjdGlvbi5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuY2xlYW51cERlcHMgPSBmdW5jdGlvbiBjbGVhbnVwRGVwcyAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGRlcCA9IHRoaXMkMS5kZXBzW2ldO1xuICAgIGlmICghdGhpcyQxLm5ld0RlcElkcy5oYXMoZGVwLmlkKSkge1xuICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzJDEpO1xuICAgIH1cbiAgfVxuICB2YXIgdG1wID0gdGhpcy5kZXBJZHM7XG4gIHRoaXMuZGVwSWRzID0gdGhpcy5uZXdEZXBJZHM7XG4gIHRoaXMubmV3RGVwSWRzID0gdG1wO1xuICB0aGlzLm5ld0RlcElkcy5jbGVhcigpO1xuICB0bXAgPSB0aGlzLmRlcHM7XG4gIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwcztcbiAgdGhpcy5uZXdEZXBzID0gdG1wO1xuICB0aGlzLm5ld0RlcHMubGVuZ3RoID0gMDtcbn07XG5cbi8qKlxuICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodGhpcy5sYXp5KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH0gZWxzZSBpZiAodGhpcy5zeW5jKSB7XG4gICAgdGhpcy5ydW4oKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVdhdGNoZXIodGhpcyk7XG4gIH1cbn07XG5cbi8qKlxuICogU2NoZWR1bGVyIGpvYiBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKCkge1xuICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZSAhPT0gdGhpcy52YWx1ZSB8fFxuICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuXG4gICAgICAvLyB3aGVuIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSwgYmVjYXVzZSB0aGUgdmFsdWUgbWF5XG4gICAgICAvLyBoYXZlIG11dGF0ZWQuXG4gICAgICBpc09iamVjdCh2YWx1ZSkgfHxcbiAgICAgIHRoaXMuZGVlcFxuICAgICkge1xuICAgICAgLy8gc2V0IG5ldyB2YWx1ZVxuICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGlmICh0aGlzLnVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgICAgIChcIkVycm9yIGluIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIiksXG4gICAgICAgICAgICB0aGlzLnZtXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdGhpcy52bSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXG4gKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkge1xuICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcbiAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICB0aGlzJDEuZGVwc1tpXS5kZXBlbmQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmUgc2VsZiBmcm9tIGFsbCBkZXBlbmRlbmNpZXMnIHN1YnNjcmliZXIgbGlzdC5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiB0ZWFyZG93biAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcbiAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkIG9yIGlzIHBlcmZvcm1pbmcgYSB2LWZvclxuICAgIC8vIHJlLXJlbmRlciAodGhlIHdhdGNoZXIgbGlzdCBpcyB0aGVuIGZpbHRlcmVkIGJ5IHYtZm9yKS5cbiAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXRoaXMudm0uX3ZGb3JSZW1vdmluZykge1xuICAgICAgcmVtb3ZlJDEodGhpcy52bS5fd2F0Y2hlcnMsIHRoaXMpO1xuICAgIH1cbiAgICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdGhpcyQxLmRlcHNbaV0ucmVtb3ZlU3ViKHRoaXMkMSk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgYW4gb2JqZWN0IHRvIGV2b2tlIGFsbCBjb252ZXJ0ZWRcbiAqIGdldHRlcnMsIHNvIHRoYXQgZXZlcnkgbmVzdGVkIHByb3BlcnR5IGluc2lkZSB0aGUgb2JqZWN0XG4gKiBpcyBjb2xsZWN0ZWQgYXMgYSBcImRlZXBcIiBkZXBlbmRlbmN5LlxuICovXG52YXIgc2Vlbk9iamVjdHMgPSBuZXcgX1NldCgpO1xuZnVuY3Rpb24gdHJhdmVyc2UgKHZhbCkge1xuICBzZWVuT2JqZWN0cy5jbGVhcigpO1xuICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7XG59XG5cbmZ1bmN0aW9uIF90cmF2ZXJzZSAodmFsLCBzZWVuKSB7XG4gIHZhciBpLCBrZXlzO1xuICB2YXIgaXNBID0gQXJyYXkuaXNBcnJheSh2YWwpO1xuICBpZiAoKCFpc0EgJiYgIWlzT2JqZWN0KHZhbCkpIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbCkpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsLl9fb2JfXykge1xuICAgIHZhciBkZXBJZCA9IHZhbC5fX29iX18uZGVwLmlkO1xuICAgIGlmIChzZWVuLmhhcyhkZXBJZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZWVuLmFkZChkZXBJZCk7XG4gIH1cbiAgaWYgKGlzQSkge1xuICAgIGkgPSB2YWwubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtpXSwgc2Vlbik7IH1cbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICBpID0ga2V5cy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkgeyBfdHJhdmVyc2UodmFsW2tleXNbaV1dLCBzZWVuKTsgfVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0U3RhdGUgKHZtKSB7XG4gIHZtLl93YXRjaGVycyA9IFtdO1xuICBpbml0UHJvcHModm0pO1xuICBpbml0RGF0YSh2bSk7XG4gIGluaXRDb21wdXRlZCh2bSk7XG4gIGluaXRNZXRob2RzKHZtKTtcbiAgaW5pdFdhdGNoKHZtKTtcbn1cblxudmFyIGlzUmVzZXJ2ZWRQcm9wID0gbWFrZU1hcCgna2V5LHJlZixzbG90Jyk7XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyAodm0pIHtcbiAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XG4gIGlmIChwcm9wcykge1xuICAgIHZhciBwcm9wc0RhdGEgPSB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgfHwge307XG4gICAgdmFyIGtleXMgPSB2bS4kb3B0aW9ucy5fcHJvcEtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gICAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50O1xuICAgIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICAgIG9ic2VydmVyU3RhdGUuc2hvdWxkQ29udmVydCA9IGlzUm9vdDtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgIChcIlxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhIHJlc2VydmVkIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IHByb3AuXCIpLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHZhbGlkYXRlUHJvcChrZXksIHByb3BzLCBwcm9wc0RhdGEsIHZtKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh2bS4kcGFyZW50ICYmICFvYnNlcnZlclN0YXRlLmlzU2V0dGluZ1Byb3BzKSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXG4gICAgICAgICAgICAgIFwib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gXCIgK1xuICAgICAgICAgICAgICBcIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyBcIiArXG4gICAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiICsga2V5ICsgXCJcXFwiXCIsXG4gICAgICAgICAgICAgIHZtXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wcywgcHJvcHNEYXRhLCB2bSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhICh2bSkge1xuICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7XG4gIGRhdGEgPSB2bS5fZGF0YSA9IHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nXG4gICAgPyBkYXRhLmNhbGwodm0pXG4gICAgOiBkYXRhIHx8IHt9O1xuICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICBkYXRhID0ge307XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIGlmIChwcm9wcyAmJiBoYXNPd24ocHJvcHMsIGtleXNbaV0pKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiVGhlIGRhdGEgcHJvcGVydHkgXFxcIlwiICsgKGtleXNbaV0pICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIiArXG4gICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJveHkodm0sIGtleXNbaV0pO1xuICAgIH1cbiAgfVxuICAvLyBvYnNlcnZlIGRhdGFcbiAgb2JzZXJ2ZShkYXRhKTtcbiAgZGF0YS5fX29iX18gJiYgZGF0YS5fX29iX18udm1Db3VudCsrO1xufVxuXG52YXIgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uID0ge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogbm9vcCxcbiAgc2V0OiBub29wXG59O1xuXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQgKHZtKSB7XG4gIHZhciBjb21wdXRlZCA9IHZtLiRvcHRpb25zLmNvbXB1dGVkO1xuICBpZiAoY29tcHV0ZWQpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29tcHV0ZWQpIHtcbiAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gbWFrZUNvbXB1dGVkR2V0dGVyKHVzZXJEZWYsIHZtKTtcbiAgICAgICAgY29tcHV0ZWRTaGFyZWREZWZpbml0aW9uLnNldCA9IG5vb3A7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uZ2V0ID0gdXNlckRlZi5nZXRcbiAgICAgICAgICA/IHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG4gICAgICAgICAgICA/IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLmdldCwgdm0pXG4gICAgICAgICAgICA6IGJpbmQkMSh1c2VyRGVmLmdldCwgdm0pXG4gICAgICAgICAgOiBub29wO1xuICAgICAgICBjb21wdXRlZFNoYXJlZERlZmluaXRpb24uc2V0ID0gdXNlckRlZi5zZXRcbiAgICAgICAgICA/IGJpbmQkMSh1c2VyRGVmLnNldCwgdm0pXG4gICAgICAgICAgOiBub29wO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIGNvbXB1dGVkU2hhcmVkRGVmaW5pdGlvbik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VDb21wdXRlZEdldHRlciAoZ2V0dGVyLCBvd25lcikge1xuICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKG93bmVyLCBnZXR0ZXIsIG5vb3AsIHtcbiAgICBsYXp5OiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7XG4gICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgfVxuICAgIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgICB3YXRjaGVyLmRlcGVuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gd2F0Y2hlci52YWx1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRNZXRob2RzICh2bSkge1xuICB2YXIgbWV0aG9kcyA9IHZtLiRvcHRpb25zLm1ldGhvZHM7XG4gIGlmIChtZXRob2RzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIHZtW2tleV0gPSBtZXRob2RzW2tleV0gPT0gbnVsbCA/IG5vb3AgOiBiaW5kJDEobWV0aG9kc1trZXldLCB2bSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBtZXRob2RzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwibWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9cIixcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0V2F0Y2ggKHZtKSB7XG4gIHZhciB3YXRjaCA9IHZtLiRvcHRpb25zLndhdGNoO1xuICBpZiAod2F0Y2gpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gd2F0Y2gpIHtcbiAgICAgIHZhciBoYW5kbGVyID0gd2F0Y2hba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcltpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIgKHZtLCBrZXksIGhhbmRsZXIpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIGlmIChpc1BsYWluT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgb3B0aW9ucyA9IGhhbmRsZXI7XG4gICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjtcbiAgfVxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdO1xuICB9XG4gIHZtLiR3YXRjaChrZXksIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBzdGF0ZU1peGluIChWdWUpIHtcbiAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XG4gIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxuICAvLyB0aGUgb2JqZWN0IGhlcmUuXG4gIHZhciBkYXRhRGVmID0ge307XG4gIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhXG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZGF0YURlZi5zZXQgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0F2b2lkIHJlcGxhY2luZyBpbnN0YW5jZSByb290ICRkYXRhLiAnICtcbiAgICAgICAgJ1VzZSBuZXN0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluc3RlYWQuJyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcblxuICBWdWUucHJvdG90eXBlLiRzZXQgPSBzZXQ7XG4gIFZ1ZS5wcm90b3R5cGUuJGRlbGV0ZSA9IGRlbDtcblxuICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uIChcbiAgICBleHBPckZuLFxuICAgIGNiLFxuICAgIG9wdGlvbnNcbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnVzZXIgPSB0cnVlO1xuICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHtcbiAgICAgIHdhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3h5ICh2bSwga2V5KSB7XG4gIGlmICghaXNSZXNlcnZlZChrZXkpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHtcbiAgICAgICAgcmV0dXJuIHZtLl9kYXRhW2tleV1cbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHtcbiAgICAgICAgdm0uX2RhdGFba2V5XSA9IHZhbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUgKFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuLFxuICB0ZXh0LFxuICBlbG0sXG4gIG5zLFxuICBjb250ZXh0LFxuICBjb21wb25lbnRPcHRpb25zXG4pIHtcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgdGhpcy5lbG0gPSBlbG07XG4gIHRoaXMubnMgPSBucztcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5mdW5jdGlvbmFsQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5rZXkgPSBkYXRhICYmIGRhdGEua2V5O1xuICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xuICB0aGlzLmNoaWxkID0gdW5kZWZpbmVkO1xuICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5yYXcgPSBmYWxzZTtcbiAgdGhpcy5pc1N0YXRpYyA9IGZhbHNlO1xuICB0aGlzLmlzUm9vdEluc2VydCA9IHRydWU7XG4gIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XG4gIHRoaXMuaXNDbG9uZWQgPSBmYWxzZTtcbiAgdGhpcy5pc09uY2UgPSBmYWxzZTtcbn07XG5cbnZhciBlbXB0eVZOb2RlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xuICBub2RlLnRleHQgPSAnJztcbiAgbm9kZS5pc0NvbW1lbnQgPSB0cnVlO1xuICByZXR1cm4gbm9kZVxufTtcblxuLy8gb3B0aW1pemVkIHNoYWxsb3cgY2xvbmVcbi8vIHVzZWQgZm9yIHN0YXRpYyBub2RlcyBhbmQgc2xvdCBub2RlcyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJldXNlZCBhY3Jvc3Ncbi8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseVxuLy8gb24gdGhlaXIgZWxtIHJlZmVyZW5jZS5cbmZ1bmN0aW9uIGNsb25lVk5vZGUgKHZub2RlKSB7XG4gIHZhciBjbG9uZWQgPSBuZXcgVk5vZGUoXG4gICAgdm5vZGUudGFnLFxuICAgIHZub2RlLmRhdGEsXG4gICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgdm5vZGUudGV4dCxcbiAgICB2bm9kZS5lbG0sXG4gICAgdm5vZGUubnMsXG4gICAgdm5vZGUuY29udGV4dCxcbiAgICB2bm9kZS5jb21wb25lbnRPcHRpb25zXG4gICk7XG4gIGNsb25lZC5pc1N0YXRpYyA9IHZub2RlLmlzU3RhdGljO1xuICBjbG9uZWQua2V5ID0gdm5vZGUua2V5O1xuICBjbG9uZWQuaXNDbG9uZWQgPSB0cnVlO1xuICByZXR1cm4gY2xvbmVkXG59XG5cbmZ1bmN0aW9uIGNsb25lVk5vZGVzICh2bm9kZXMpIHtcbiAgdmFyIHJlcyA9IG5ldyBBcnJheSh2bm9kZXMubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXNbaV0gPSBjbG9uZVZOb2RlKHZub2Rlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2sgKGRlZiwgaG9va0tleSwgaG9vaywga2V5KSB7XG4gIGtleSA9IGtleSArIGhvb2tLZXk7XG4gIHZhciBpbmplY3RlZEhhc2ggPSBkZWYuX19pbmplY3RlZCB8fCAoZGVmLl9faW5qZWN0ZWQgPSB7fSk7XG4gIGlmICghaW5qZWN0ZWRIYXNoW2tleV0pIHtcbiAgICBpbmplY3RlZEhhc2hba2V5XSA9IHRydWU7XG4gICAgdmFyIG9sZEhvb2sgPSBkZWZbaG9va0tleV07XG4gICAgaWYgKG9sZEhvb2spIHtcbiAgICAgIGRlZltob29rS2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2xkSG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBob29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZbaG9va0tleV0gPSBob29rO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzIChcbiAgb24sXG4gIG9sZE9uLFxuICBhZGQsXG4gIHJlbW92ZSQkMSxcbiAgdm1cbikge1xuICB2YXIgbmFtZSwgY3VyLCBvbGQsIGZuLCBldmVudCwgY2FwdHVyZTtcbiAgZm9yIChuYW1lIGluIG9uKSB7XG4gICAgY3VyID0gb25bbmFtZV07XG4gICAgb2xkID0gb2xkT25bbmFtZV07XG4gICAgaWYgKCFjdXIpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJJbnZhbGlkIGhhbmRsZXIgZm9yIGV2ZW50IFxcXCJcIiArIG5hbWUgKyBcIlxcXCI6IGdvdCBcIiArIFN0cmluZyhjdXIpLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFvbGQpIHtcbiAgICAgIGNhcHR1cmUgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJyEnO1xuICAgICAgZXZlbnQgPSBjYXB0dXJlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXIpKSB7XG4gICAgICAgIGFkZChldmVudCwgKGN1ci5pbnZva2VyID0gYXJySW52b2tlcihjdXIpKSwgY2FwdHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWN1ci5pbnZva2VyKSB7XG4gICAgICAgICAgZm4gPSBjdXI7XG4gICAgICAgICAgY3VyID0gb25bbmFtZV0gPSB7fTtcbiAgICAgICAgICBjdXIuZm4gPSBmbjtcbiAgICAgICAgICBjdXIuaW52b2tlciA9IGZuSW52b2tlcihjdXIpO1xuICAgICAgICB9XG4gICAgICAgIGFkZChldmVudCwgY3VyLmludm9rZXIsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9sZCkpIHtcbiAgICAgICAgb2xkLmxlbmd0aCA9IGN1ci5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgaSsrKSB7IG9sZFtpXSA9IGN1cltpXTsgfVxuICAgICAgICBvbltuYW1lXSA9IG9sZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9sZC5mbiA9IGN1cjtcbiAgICAgICAgb25bbmFtZV0gPSBvbGQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobmFtZSBpbiBvbGRPbikge1xuICAgIGlmICghb25bbmFtZV0pIHtcbiAgICAgIGV2ZW50ID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJyA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xuICAgICAgcmVtb3ZlJCQxKGV2ZW50LCBvbGRPbltuYW1lXS5pbnZva2VyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJySW52b2tlciAoYXJyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgc2luZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgc2luZ2xlID8gYXJyW2ldKGV2KSA6IGFycltpXS5hcHBseShudWxsLCBhcmd1bWVudHMkMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZuSW52b2tlciAobykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIHNpbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG4gICAgc2luZ2xlID8gby5mbihldikgOiBvLmZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuIChcbiAgY2hpbGRyZW4sXG4gIG5zLFxuICBuZXN0ZWRJbmRleFxuKSB7XG4gIGlmIChpc1ByaW1pdGl2ZShjaGlsZHJlbikpIHtcbiAgICByZXR1cm4gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildXG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xuICAgICAgdmFyIGxhc3QgPSByZXNbcmVzLmxlbmd0aCAtIDFdO1xuICAgICAgLy8gIG5lc3RlZFxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIHtcbiAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBub3JtYWxpemVDaGlsZHJlbihjLCBucywgKChuZXN0ZWRJbmRleCB8fCAnJykgKyBcIl9cIiArIGkpKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKGMpKSB7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QudGV4dCkge1xuICAgICAgICAgIGxhc3QudGV4dCArPSBTdHJpbmcoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyAhPT0gJycpIHtcbiAgICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZVxuICAgICAgICAgIHJlcy5wdXNoKGNyZWF0ZVRleHRWTm9kZShjKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgICAgIGlmIChjLnRleHQgJiYgbGFzdCAmJiBsYXN0LnRleHQpIHtcbiAgICAgICAgICBpZiAoIWxhc3QuaXNDbG9uZWQpIHtcbiAgICAgICAgICAgIGxhc3QudGV4dCArPSBjLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGluaGVyaXQgcGFyZW50IG5hbWVzcGFjZVxuICAgICAgICAgIGlmIChucykge1xuICAgICAgICAgICAgYXBwbHlOUyhjLCBucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGRlZmF1bHQga2V5IGZvciBuZXN0ZWQgYXJyYXkgY2hpbGRyZW4gKGxpa2VseSBnZW5lcmF0ZWQgYnkgdi1mb3IpXG4gICAgICAgICAgaWYgKGMudGFnICYmIGMua2V5ID09IG51bGwgJiYgbmVzdGVkSW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgYy5rZXkgPSBcIl9fdmxpc3RcIiArIG5lc3RlZEluZGV4ICsgXCJfXCIgKyBpICsgXCJfX1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXMucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlICh2YWwpIHtcbiAgcmV0dXJuIG5ldyBWTm9kZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTdHJpbmcodmFsKSlcbn1cblxuZnVuY3Rpb24gYXBwbHlOUyAodm5vZGUsIG5zKSB7XG4gIGlmICh2bm9kZS50YWcgJiYgIXZub2RlLm5zKSB7XG4gICAgdm5vZGUubnMgPSBucztcbiAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGFwcGx5TlModm5vZGUuY2hpbGRyZW5baV0sIG5zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGdldEZpcnN0Q29tcG9uZW50Q2hpbGQgKGNoaWxkcmVuKSB7XG4gIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgJiYgYy5jb21wb25lbnRPcHRpb25zOyB9KVswXVxufVxuXG4vKiAgKi9cblxudmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcblxuZnVuY3Rpb24gaW5pdExpZmVjeWNsZSAodm0pIHtcbiAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcblxuICAvLyBsb2NhdGUgZmlyc3Qgbm9uLWFic3RyYWN0IHBhcmVudFxuICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG4gIGlmIChwYXJlbnQgJiYgIW9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICB3aGlsZSAocGFyZW50LiRvcHRpb25zLmFic3RyYWN0ICYmIHBhcmVudC4kcGFyZW50KSB7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDtcbiAgICB9XG4gICAgcGFyZW50LiRjaGlsZHJlbi5wdXNoKHZtKTtcbiAgfVxuXG4gIHZtLiRwYXJlbnQgPSBwYXJlbnQ7XG4gIHZtLiRyb290ID0gcGFyZW50ID8gcGFyZW50LiRyb290IDogdm07XG5cbiAgdm0uJGNoaWxkcmVuID0gW107XG4gIHZtLiRyZWZzID0ge307XG5cbiAgdm0uX3dhdGNoZXIgPSBudWxsO1xuICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcbiAgdm0uX2lzTW91bnRlZCA9IGZhbHNlO1xuICB2bS5faXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbGlmZWN5Y2xlTWl4aW4gKFZ1ZSkge1xuICBWdWUucHJvdG90eXBlLl9tb3VudCA9IGZ1bmN0aW9uIChcbiAgICBlbCxcbiAgICBoeWRyYXRpbmdcbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS4kZWwgPSBlbDtcbiAgICBpZiAoIXZtLiRvcHRpb25zLnJlbmRlcikge1xuICAgICAgdm0uJG9wdGlvbnMucmVuZGVyID0gZW1wdHlWTm9kZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodm0uJG9wdGlvbnMudGVtcGxhdGUgJiYgdm0uJG9wdGlvbnMudGVtcGxhdGUuY2hhckF0KDApICE9PSAnIycpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1lvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCBvZiBWdWUgd2hlcmUgdGhlIHRlbXBsYXRlICcgK1xuICAgICAgICAgICAgJ29wdGlvbiBpcyBub3QgYXZhaWxhYmxlLiBFaXRoZXIgcHJlLWNvbXBpbGUgdGhlIHRlbXBsYXRlcyBpbnRvICcgK1xuICAgICAgICAgICAgJ3JlbmRlciBmdW5jdGlvbnMsIG9yIHVzZSB0aGUgY29tcGlsZXItaW5jbHVkZWQgYnVpbGQuJyxcbiAgICAgICAgICAgIHZtXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ0ZhaWxlZCB0byBtb3VudCBjb21wb25lbnQ6IHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbiBub3QgZGVmaW5lZC4nLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlTW91bnQnKTtcbiAgICB2bS5fd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2bS5fdXBkYXRlKHZtLl9yZW5kZXIoKSwgaHlkcmF0aW5nKTtcbiAgICB9LCBub29wKTtcbiAgICBoeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxuICAgIC8vIG1vdW50ZWQgaXMgY2FsbGVkIGZvciByZW5kZXItY3JlYXRlZCBjaGlsZCBjb21wb25lbnRzIGluIGl0cyBpbnNlcnRlZCBob29rXG4gICAgaWYgKHZtLiR2bm9kZSA9PSBudWxsKSB7XG4gICAgICB2bS5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgIGNhbGxIb29rKHZtLCAnbW91bnRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdm1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlVXBkYXRlJyk7XG4gICAgfVxuICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XG4gICAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xuICAgIGFjdGl2ZUluc3RhbmNlID0gdm07XG4gICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcbiAgICB2bS5fdm5vZGUgPSB2bm9kZTtcbiAgICBpZiAoIXByZXZWbm9kZSkge1xuICAgICAgLy8gVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gaXMgaW5qZWN0ZWQgaW4gZW50cnkgcG9pbnRzXG4gICAgICAvLyBiYXNlZCBvbiB0aGUgcmVuZGVyaW5nIGJhY2tlbmQgdXNlZC5cbiAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyh2bS4kZWwsIHZub2RlLCBoeWRyYXRpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18ocHJldlZub2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xuICAgIC8vIHVwZGF0ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIHByZXZFbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZtLiRlbCkge1xuICAgICAgdm0uJGVsLl9fdnVlX18gPSB2bTtcbiAgICB9XG4gICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbFxuICAgIGlmICh2bS4kdm5vZGUgJiYgdm0uJHBhcmVudCAmJiB2bS4kdm5vZGUgPT09IHZtLiRwYXJlbnQuX3Zub2RlKSB7XG4gICAgICB2bS4kcGFyZW50LiRlbCA9IHZtLiRlbDtcbiAgICB9XG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIGNhbGxIb29rKHZtLCAndXBkYXRlZCcpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl91cGRhdGVGcm9tUGFyZW50ID0gZnVuY3Rpb24gKFxuICAgIHByb3BzRGF0YSxcbiAgICBsaXN0ZW5lcnMsXG4gICAgcGFyZW50Vm5vZGUsXG4gICAgcmVuZGVyQ2hpbGRyZW5cbiAgKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgaGFzQ2hpbGRyZW4gPSAhISh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gfHwgcmVuZGVyQ2hpbGRyZW4pO1xuICAgIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xuICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyXG4gICAgaWYgKHZtLl92bm9kZSkgeyAvLyB1cGRhdGUgY2hpbGQgdHJlZSdzIHBhcmVudFxuICAgICAgdm0uX3Zub2RlLnBhcmVudCA9IHBhcmVudFZub2RlO1xuICAgIH1cbiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjtcbiAgICAvLyB1cGRhdGUgcHJvcHNcbiAgICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSBmYWxzZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIG9ic2VydmVyU3RhdGUuaXNTZXR0aW5nUHJvcHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gcHJvcEtleXNbaV07XG4gICAgICAgIHZtW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCB2bS4kb3B0aW9ucy5wcm9wcywgcHJvcHNEYXRhLCB2bSk7XG4gICAgICB9XG4gICAgICBvYnNlcnZlclN0YXRlLnNob3VsZENvbnZlcnQgPSB0cnVlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgb2JzZXJ2ZXJTdGF0ZS5pc1NldHRpbmdQcm9wcyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgbGlzdGVuZXJzXG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgdmFyIG9sZExpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gICAgICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICAgICAgdm0uX3VwZGF0ZUxpc3RlbmVycyhsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyk7XG4gICAgfVxuICAgIC8vIHJlc29sdmUgc2xvdHMgKyBmb3JjZSB1cGRhdGUgaWYgaGFzIGNoaWxkcmVuXG4gICAgaWYgKGhhc0NoaWxkcmVuKSB7XG4gICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcbiAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcbiAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcbiAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcbiAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgICByZW1vdmUkMShwYXJlbnQuJGNoaWxkcmVuLCB2bSk7XG4gICAgfVxuICAgIC8vIHRlYXJkb3duIHdhdGNoZXJzXG4gICAgaWYgKHZtLl93YXRjaGVyKSB7XG4gICAgICB2bS5fd2F0Y2hlci50ZWFyZG93bigpO1xuICAgIH1cbiAgICB2YXIgaSA9IHZtLl93YXRjaGVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdm0uX3dhdGNoZXJzW2ldLnRlYXJkb3duKCk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSBkYXRhIG9iXG4gICAgLy8gZnJvemVuIG9iamVjdCBtYXkgbm90IGhhdmUgb2JzZXJ2ZXIuXG4gICAgaWYgKHZtLl9kYXRhLl9fb2JfXykge1xuICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTtcbiAgICB9XG4gICAgLy8gY2FsbCB0aGUgbGFzdCBob29rLi4uXG4gICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICBjYWxsSG9vayh2bSwgJ2Rlc3Ryb3llZCcpO1xuICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuXG4gICAgdm0uJG9mZigpO1xuICAgIC8vIHJlbW92ZSBfX3Z1ZV9fIHJlZmVyZW5jZVxuICAgIGlmICh2bS4kZWwpIHtcbiAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gbnVsbDtcbiAgICB9XG4gICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXG4gICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGxIb29rICh2bSwgaG9vaykge1xuICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcbiAgaWYgKGhhbmRsZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGhhbmRsZXJzW2ldLmNhbGwodm0pO1xuICAgIH1cbiAgfVxuICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XG59XG5cbi8qICAqL1xuXG52YXIgaG9va3MgPSB7IGluaXQ6IGluaXQsIHByZXBhdGNoOiBwcmVwYXRjaCwgaW5zZXJ0OiBpbnNlcnQsIGRlc3Ryb3k6IGRlc3Ryb3kkMSB9O1xudmFyIGhvb2tzVG9NZXJnZSA9IE9iamVjdC5rZXlzKGhvb2tzKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgZGF0YSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW4sXG4gIHRhZ1xuKSB7XG4gIGlmICghQ3Rvcikge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTtcbiAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7XG4gICAgQ3RvciA9IGJhc2VDdG9yLmV4dGVuZChDdG9yKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuKChcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiICsgKFN0cmluZyhDdG9yKSkpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBhc3luYyBjb21wb25lbnRcbiAgaWYgKCFDdG9yLmNpZCkge1xuICAgIGlmIChDdG9yLnJlc29sdmVkKSB7XG4gICAgICBDdG9yID0gQ3Rvci5yZXNvbHZlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgQ3RvciA9IHJlc29sdmVBc3luY0NvbXBvbmVudChDdG9yLCBiYXNlQ3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpdCdzIG9rIHRvIHF1ZXVlIHRoaXMgb24gZXZlcnkgcmVuZGVyIGJlY2F1c2VcbiAgICAgICAgLy8gJGZvcmNlVXBkYXRlIGlzIGJ1ZmZlcmVkIGJ5IHRoZSBzY2hlZHVsZXIuXG4gICAgICAgIGNvbnRleHQuJGZvcmNlVXBkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghQ3Rvcikge1xuICAgICAgICAvLyByZXR1cm4gbm90aGluZyBpZiB0aGlzIGlzIGluZGVlZCBhbiBhc3luYyBjb21wb25lbnRcbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgcGFyZW50IHVwZGF0ZS5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gcmVzb2x2ZSBjb25zdHJ1Y3RvciBvcHRpb25zIGluIGNhc2UgZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBhZnRlclxuICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb25cbiAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yKTtcblxuICBkYXRhID0gZGF0YSB8fCB7fTtcblxuICAvLyBleHRyYWN0IHByb3BzXG4gIHZhciBwcm9wc0RhdGEgPSBleHRyYWN0UHJvcHMoZGF0YSwgQ3Rvcik7XG5cbiAgLy8gZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgaWYgKEN0b3Iub3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXG4gIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzXG4gIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xuICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxuICBkYXRhLm9uID0gZGF0YS5uYXRpdmVPbjtcblxuICBpZiAoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSB7XG4gICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZ1xuICAgIC8vIG90aGVyIHRoYW4gcHJvcHMgJiBsaXN0ZW5lcnNcbiAgICBkYXRhID0ge307XG4gIH1cblxuICAvLyBtZXJnZSBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlXG4gIG1lcmdlSG9va3MoZGF0YSk7XG5cbiAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGVcbiAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7XG4gIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcbiAgICAoXCJ2dWUtY29tcG9uZW50LVwiICsgKEN0b3IuY2lkKSArIChuYW1lID8gKFwiLVwiICsgbmFtZSkgOiAnJykpLFxuICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dCxcbiAgICB7IEN0b3I6IEN0b3IsIHByb3BzRGF0YTogcHJvcHNEYXRhLCBsaXN0ZW5lcnM6IGxpc3RlbmVycywgdGFnOiB0YWcsIGNoaWxkcmVuOiBjaGlsZHJlbiB9XG4gICk7XG4gIHJldHVybiB2bm9kZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgcHJvcHNEYXRhLFxuICBkYXRhLFxuICBjb250ZXh0LFxuICBjaGlsZHJlblxuKSB7XG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XG4gIGlmIChwcm9wT3B0aW9ucykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xuICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEpO1xuICAgIH1cbiAgfVxuICB2YXIgdm5vZGUgPSBDdG9yLm9wdGlvbnMucmVuZGVyLmNhbGwoXG4gICAgbnVsbCxcbiAgICAvLyBlbnN1cmUgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gaW4gZnVuY3Rpb25hbCBjb21wb25lbnRzXG4gICAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xuICAgIGJpbmQkMShjcmVhdGVFbGVtZW50LCB7IF9zZWxmOiBPYmplY3QuY3JlYXRlKGNvbnRleHQpIH0pLFxuICAgIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBwYXJlbnQ6IGNvbnRleHQsXG4gICAgICBjaGlsZHJlbjogbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pLFxuICAgICAgc2xvdHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVTbG90cyhjaGlsZHJlbiwgY29udGV4dCk7IH1cbiAgICB9XG4gICk7XG4gIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgdm5vZGUuZnVuY3Rpb25hbENvbnRleHQgPSBjb250ZXh0O1xuICAgIGlmIChkYXRhLnNsb3QpIHtcbiAgICAgICh2bm9kZS5kYXRhIHx8ICh2bm9kZS5kYXRhID0ge30pKS5zbG90ID0gZGF0YS5zbG90O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSAoXG4gIHZub2RlLCAvLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3RcbiAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZVxuKSB7XG4gIHZhciB2bm9kZUNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBfaXNDb21wb25lbnQ6IHRydWUsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcHJvcHNEYXRhOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhLFxuICAgIF9jb21wb25lbnRUYWc6IHZub2RlQ29tcG9uZW50T3B0aW9ucy50YWcsXG4gICAgX3BhcmVudFZub2RlOiB2bm9kZSxcbiAgICBfcGFyZW50TGlzdGVuZXJzOiB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzLFxuICAgIF9yZW5kZXJDaGlsZHJlbjogdm5vZGVDb21wb25lbnRPcHRpb25zLmNoaWxkcmVuXG4gIH07XG4gIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXG4gIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7XG4gIGlmIChpbmxpbmVUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMucmVuZGVyID0gaW5saW5lVGVtcGxhdGUucmVuZGVyO1xuICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zO1xuICB9XG4gIHJldHVybiBuZXcgdm5vZGVDb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykge1xuICBpZiAoIXZub2RlLmNoaWxkIHx8IHZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuICAgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSh2bm9kZSwgYWN0aXZlSW5zdGFuY2UpO1xuICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcbiAgICAvLyBrZXB0LWFsaXZlIGNvbXBvbmVudHMsIHRyZWF0IGFzIGEgcGF0Y2hcbiAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xuICAgIHByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGF0Y2ggKFxuICBvbGRWbm9kZSxcbiAgdm5vZGVcbikge1xuICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG4gIGNoaWxkLl91cGRhdGVGcm9tUGFyZW50KFxuICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXG4gICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzXG4gICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGVcbiAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxuICApO1xufVxuXG5mdW5jdGlvbiBpbnNlcnQgKHZub2RlKSB7XG4gIGlmICghdm5vZGUuY2hpbGQuX2lzTW91bnRlZCkge1xuICAgIHZub2RlLmNoaWxkLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnbW91bnRlZCcpO1xuICB9XG4gIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xuICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICAgIGNhbGxIb29rKHZub2RlLmNoaWxkLCAnYWN0aXZhdGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzdHJveSQxICh2bm9kZSkge1xuICBpZiAoIXZub2RlLmNoaWxkLl9pc0Rlc3Ryb3llZCkge1xuICAgIGlmICghdm5vZGUuZGF0YS5rZWVwQWxpdmUpIHtcbiAgICAgIHZub2RlLmNoaWxkLiRkZXN0cm95KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmNoaWxkLl9pbmFjdGl2ZSA9IHRydWU7XG4gICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBc3luY0NvbXBvbmVudCAoXG4gIGZhY3RvcnksXG4gIGJhc2VDdG9yLFxuICBjYlxuKSB7XG4gIGlmIChmYWN0b3J5LnJlcXVlc3RlZCkge1xuICAgIC8vIHBvb2wgY2FsbGJhY2tzXG4gICAgZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2IpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkucmVxdWVzdGVkID0gdHJ1ZTtcbiAgICB2YXIgY2JzID0gZmFjdG9yeS5wZW5kaW5nQ2FsbGJhY2tzID0gW2NiXTtcbiAgICB2YXIgc3luYyA9IHRydWU7XG5cbiAgICB2YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICAgIHJlcyA9IGJhc2VDdG9yLmV4dGVuZChyZXMpO1xuICAgICAgfVxuICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcbiAgICAgIGZhY3RvcnkucmVzb2x2ZWQgPSByZXM7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tzIG9ubHkgaWYgdGhpcyBpcyBub3QgYSBzeW5jaHJvbm91cyByZXNvbHZlXG4gICAgICAvLyAoYXN5bmMgcmVzb2x2ZXMgYXJlIHNoaW1tZWQgYXMgc3luY2hyb25vdXMgZHVyaW5nIFNTUilcbiAgICAgIGlmICghc3luYykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjYnNbaV0ocmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkZhaWxlZCB0byByZXNvbHZlIGFzeW5jIGNvbXBvbmVudDogXCIgKyAoU3RyaW5nKGZhY3RvcnkpKSArXG4gICAgICAgIChyZWFzb24gPyAoXCJcXG5SZWFzb246IFwiICsgcmVhc29uKSA6ICcnKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHJlcyA9IGZhY3RvcnkocmVzb2x2ZSwgcmVqZWN0KTtcblxuICAgIC8vIGhhbmRsZSBwcm9taXNlXG4gICAgaWYgKHJlcyAmJiB0eXBlb2YgcmVzLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgIWZhY3RvcnkucmVzb2x2ZWQpIHtcbiAgICAgIHJlcy50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcbiAgICByZXR1cm4gZmFjdG9yeS5yZXNvbHZlZFxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RQcm9wcyAoZGF0YSwgQ3Rvcikge1xuICAvLyB3ZSBhcmUgb25seSBleHRyYWN0aW5nIHJhdyB2YWx1ZXMgaGVyZS5cbiAgLy8gdmFsaWRhdGlvbiBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIGNoaWxkXG4gIC8vIGNvbXBvbmVudCBpdHNlbGYuXG4gIHZhciBwcm9wT3B0aW9ucyA9IEN0b3Iub3B0aW9ucy5wcm9wcztcbiAgaWYgKCFwcm9wT3B0aW9ucykge1xuICAgIHJldHVyblxuICB9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGF0dHJzID0gZGF0YS5hdHRycztcbiAgdmFyIHByb3BzID0gZGF0YS5wcm9wcztcbiAgdmFyIGRvbVByb3BzID0gZGF0YS5kb21Qcm9wcztcbiAgaWYgKGF0dHJzIHx8IHByb3BzIHx8IGRvbVByb3BzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBhdHRycywga2V5LCBhbHRLZXkpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBkb21Qcm9wcywga2V5LCBhbHRLZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJvcCAoXG4gIHJlcyxcbiAgaGFzaCxcbiAga2V5LFxuICBhbHRLZXksXG4gIHByZXNlcnZlXG4pIHtcbiAgaWYgKGhhc2gpIHtcbiAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHtcbiAgICAgIHJlc1trZXldID0gaGFzaFtrZXldO1xuICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgICAgICBkZWxldGUgaGFzaFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGhhc2hbYWx0S2V5XTtcbiAgICAgIGlmICghcHJlc2VydmUpIHtcbiAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2tzIChkYXRhKSB7XG4gIGlmICghZGF0YS5ob29rKSB7XG4gICAgZGF0YS5ob29rID0ge307XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rc1RvTWVyZ2UubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldO1xuICAgIHZhciBmcm9tUGFyZW50ID0gZGF0YS5ob29rW2tleV07XG4gICAgdmFyIG91cnMgPSBob29rc1trZXldO1xuICAgIGRhdGEuaG9va1trZXldID0gZnJvbVBhcmVudCA/IG1lcmdlSG9vayQxKG91cnMsIGZyb21QYXJlbnQpIDogb3VycztcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2skMSAoYSwgYikge1xuICAvLyBzaW5jZSBhbGwgaG9va3MgaGF2ZSBhdCBtb3N0IHR3byBhcmdzLCB1c2UgZml4ZWQgYXJnc1xuICAvLyB0byBhdm9pZCBoYXZpbmcgdG8gdXNlIGZuLmFwcGx5KCkuXG4gIHJldHVybiBmdW5jdGlvbiAoXywgX18pIHtcbiAgICBhKF8sIF9fKTtcbiAgICBiKF8sIF9fKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gd3JhcHBlciBmdW5jdGlvbiBmb3IgcHJvdmlkaW5nIGEgbW9yZSBmbGV4aWJsZSBpbnRlcmZhY2Vcbi8vIHdpdGhvdXQgZ2V0dGluZyB5ZWxsZWQgYXQgYnkgZmxvd1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAoXG4gIHRhZyxcbiAgZGF0YSxcbiAgY2hpbGRyZW5cbikge1xuICBpZiAoZGF0YSAmJiAoQXJyYXkuaXNBcnJheShkYXRhKSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpKSB7XG4gICAgY2hpbGRyZW4gPSBkYXRhO1xuICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gbWFrZSBzdXJlIHRvIHVzZSByZWFsIGluc3RhbmNlIGluc3RlYWQgb2YgcHJveHkgYXMgY29udGV4dFxuICByZXR1cm4gX2NyZWF0ZUVsZW1lbnQodGhpcy5fc2VsZiwgdGFnLCBkYXRhLCBjaGlsZHJlbilcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnQgKFxuICBjb250ZXh0LFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuXG4pIHtcbiAgaWYgKGRhdGEgJiYgZGF0YS5fX29iX18pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXCIgK1xuICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIXRhZykge1xuICAgIC8vIGluIGNhc2Ugb2YgY29tcG9uZW50IDppcyBzZXQgdG8gZmFsc3kgdmFsdWVcbiAgICByZXR1cm4gZW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiZcbiAgICAgIHR5cGVvZiBjaGlsZHJlblswXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07XG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgfVxuICBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgQ3RvcjtcbiAgICB2YXIgbnMgPSBjb25maWcuZ2V0VGFnTmFtZXNwYWNlKHRhZyk7XG4gICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHtcbiAgICAgIC8vIHBsYXRmb3JtIGJ1aWx0LWluIGVsZW1lbnRzXG4gICAgICByZXR1cm4gbmV3IFZOb2RlKFxuICAgICAgICB0YWcsIGRhdGEsIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuLCBucyksXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkge1xuICAgICAgLy8gY29tcG9uZW50XG4gICAgICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50c1xuICAgICAgLy8gY2hlY2sgYXQgcnVudGltZSBiZWNhdXNlIGl0IG1heSBnZXQgYXNzaWduZWQgYSBuYW1lc3BhY2Ugd2hlbiBpdHNcbiAgICAgIC8vIHBhcmVudCBub3JtYWxpemVzIGNoaWxkcmVuXG4gICAgICB2YXIgY2hpbGROcyA9IHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gJ3hodG1sJyA6IG5zO1xuICAgICAgcmV0dXJuIG5ldyBWTm9kZShcbiAgICAgICAgdGFnLCBkYXRhLCBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbiwgY2hpbGROcyksXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBucywgY29udGV4dFxuICAgICAgKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuICAgIHJldHVybiBjcmVhdGVDb21wb25lbnQodGFnLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdFJlbmRlciAodm0pIHtcbiAgdm0uJHZub2RlID0gbnVsbDsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWVcbiAgdm0uX3Zub2RlID0gbnVsbDsgLy8gdGhlIHJvb3Qgb2YgdGhlIGNoaWxkIHRyZWVcbiAgdm0uX3N0YXRpY1RyZWVzID0gbnVsbDtcbiAgdm0uX3JlbmRlckNvbnRleHQgPSB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgJiYgdm0uJG9wdGlvbnMuX3BhcmVudFZub2RlLmNvbnRleHQ7XG4gIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyh2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4sIHZtLl9yZW5kZXJDb250ZXh0KTtcbiAgdm0uJHNjb3BlZFNsb3RzID0ge307XG4gIC8vIGJpbmQgdGhlIHB1YmxpYyBjcmVhdGVFbGVtZW50IGZuIHRvIHRoaXMgaW5zdGFuY2VcbiAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC5cbiAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBiaW5kJDEoY3JlYXRlRWxlbWVudCwgdm0pO1xuICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcbiAgICB2bS4kbW91bnQodm0uJG9wdGlvbnMuZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS4kbmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zO1xuICAgIHZhciByZW5kZXIgPSByZWYucmVuZGVyO1xuICAgIHZhciBzdGF0aWNSZW5kZXJGbnMgPSByZWYuc3RhdGljUmVuZGVyRm5zO1xuICAgIHZhciBfcGFyZW50Vm5vZGUgPSByZWYuX3BhcmVudFZub2RlO1xuXG4gICAgaWYgKHZtLl9pc01vdW50ZWQpIHtcbiAgICAgIC8vIGNsb25lIHNsb3Qgbm9kZXMgb24gcmUtcmVuZGVyc1xuICAgICAgZm9yICh2YXIga2V5IGluIHZtLiRzbG90cykge1xuICAgICAgICB2bS4kc2xvdHNba2V5XSA9IGNsb25lVk5vZGVzKHZtLiRzbG90c1trZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoX3BhcmVudFZub2RlICYmIF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzKSB7XG4gICAgICB2bS4kc2NvcGVkU2xvdHMgPSBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGljUmVuZGVyRm5zICYmICF2bS5fc3RhdGljVHJlZXMpIHtcbiAgICAgIHZtLl9zdGF0aWNUcmVlcyA9IFtdO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50IHZub2RlLiB0aGlzIGFsbG93cyByZW5kZXIgZnVuY3Rpb25zIHRvIGhhdmUgYWNjZXNzXG4gICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuXG4gICAgdm0uJHZub2RlID0gX3BhcmVudFZub2RlO1xuICAgIC8vIHJlbmRlciBzZWxmXG4gICAgdmFyIHZub2RlO1xuICAgIHRyeSB7XG4gICAgICB2bm9kZSA9IHJlbmRlci5jYWxsKHZtLl9yZW5kZXJQcm94eSwgdm0uJGNyZWF0ZUVsZW1lbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oKFwiRXJyb3Igd2hlbiByZW5kZXJpbmcgXCIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCI6XCIpKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoY29uZmlnLmVycm9ySGFuZGxlcikge1xuICAgICAgICBjb25maWcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCwgZSwgdm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2VydmVyUmVuZGVyaW5nKCkpIHtcbiAgICAgICAgICB0aHJvdyBlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XG4gICAgICB2bm9kZSA9IHZtLl92bm9kZTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dFxuICAgIGlmICghKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdNdWx0aXBsZSByb290IG5vZGVzIHJldHVybmVkIGZyb20gcmVuZGVyIGZ1bmN0aW9uLiBSZW5kZXIgZnVuY3Rpb24gJyArXG4gICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gZW1wdHlWTm9kZSgpO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50XG4gICAgdm5vZGUucGFyZW50ID0gX3BhcmVudFZub2RlO1xuICAgIHJldHVybiB2bm9kZVxuICB9O1xuXG4gIC8vIHNob3J0aGFuZHMgdXNlZCBpbiByZW5kZXIgZnVuY3Rpb25zXG4gIFZ1ZS5wcm90b3R5cGUuX2ggPSBjcmVhdGVFbGVtZW50O1xuICAvLyB0b1N0cmluZyBmb3IgbXVzdGFjaGVzXG4gIFZ1ZS5wcm90b3R5cGUuX3MgPSBfdG9TdHJpbmc7XG4gIC8vIG51bWJlciBjb252ZXJzaW9uXG4gIFZ1ZS5wcm90b3R5cGUuX24gPSB0b051bWJlcjtcbiAgLy8gZW1wdHkgdm5vZGVcbiAgVnVlLnByb3RvdHlwZS5fZSA9IGVtcHR5Vk5vZGU7XG4gIC8vIGxvb3NlIGVxdWFsXG4gIFZ1ZS5wcm90b3R5cGUuX3EgPSBsb29zZUVxdWFsO1xuICAvLyBsb29zZSBpbmRleE9mXG4gIFZ1ZS5wcm90b3R5cGUuX2kgPSBsb29zZUluZGV4T2Y7XG5cbiAgLy8gcmVuZGVyIHN0YXRpYyB0cmVlIGJ5IGluZGV4XG4gIFZ1ZS5wcm90b3R5cGUuX20gPSBmdW5jdGlvbiByZW5kZXJTdGF0aWMgKFxuICAgIGluZGV4LFxuICAgIGlzSW5Gb3JcbiAgKSB7XG4gICAgdmFyIHRyZWUgPSB0aGlzLl9zdGF0aWNUcmVlc1tpbmRleF07XG4gICAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXG4gICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUgYnkgZG9pbmcgYSBzaGFsbG93IGNsb25lLlxuICAgIGlmICh0cmVlICYmICFpc0luRm9yKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0cmVlKVxuICAgICAgICA/IGNsb25lVk5vZGVzKHRyZWUpXG4gICAgICAgIDogY2xvbmVWTm9kZSh0cmVlKVxuICAgIH1cbiAgICAvLyBvdGhlcndpc2UsIHJlbmRlciBhIGZyZXNoIHRyZWUuXG4gICAgdHJlZSA9IHRoaXMuX3N0YXRpY1RyZWVzW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKHRoaXMuX3JlbmRlclByb3h5KTtcbiAgICBtYXJrU3RhdGljKHRyZWUsIChcIl9fc3RhdGljX19cIiArIGluZGV4KSwgZmFsc2UpO1xuICAgIHJldHVybiB0cmVlXG4gIH07XG5cbiAgLy8gbWFyayBub2RlIGFzIHN0YXRpYyAodi1vbmNlKVxuICBWdWUucHJvdG90eXBlLl9vID0gZnVuY3Rpb24gbWFya09uY2UgKFxuICAgIHRyZWUsXG4gICAgaW5kZXgsXG4gICAga2V5XG4gICkge1xuICAgIG1hcmtTdGF0aWModHJlZSwgKFwiX19vbmNlX19cIiArIGluZGV4ICsgKGtleSA/IChcIl9cIiArIGtleSkgOiBcIlwiKSksIHRydWUpO1xuICAgIHJldHVybiB0cmVlXG4gIH07XG5cbiAgZnVuY3Rpb24gbWFya1N0YXRpYyAodHJlZSwga2V5LCBpc09uY2UpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0cmVlW2ldICYmIHR5cGVvZiB0cmVlW2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyBcIl9cIiArIGkpLCBpc09uY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrU3RhdGljTm9kZSAobm9kZSwga2V5LCBpc09uY2UpIHtcbiAgICBub2RlLmlzU3RhdGljID0gdHJ1ZTtcbiAgICBub2RlLmtleSA9IGtleTtcbiAgICBub2RlLmlzT25jZSA9IGlzT25jZTtcbiAgfVxuXG4gIC8vIGZpbHRlciByZXNvbHV0aW9uIGhlbHBlclxuICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTtcbiAgVnVlLnByb3RvdHlwZS5fZiA9IGZ1bmN0aW9uIHJlc29sdmVGaWx0ZXIgKGlkKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eVxuICB9O1xuXG4gIC8vIHJlbmRlciB2LWZvclxuICBWdWUucHJvdG90eXBlLl9sID0gZnVuY3Rpb24gcmVuZGVyTGlzdCAoXG4gICAgdmFsLFxuICAgIHJlbmRlclxuICApIHtcbiAgICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbC5sZW5ndGgpO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtpXSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0ID0gbmV3IEFycmF5KHZhbCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xuICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2tleV0sIGtleSwgaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXRcbiAgfTtcblxuICAvLyByZW5kZXJTbG90XG4gIFZ1ZS5wcm90b3R5cGUuX3QgPSBmdW5jdGlvbiAoXG4gICAgbmFtZSxcbiAgICBmYWxsYmFjayxcbiAgICBwcm9wc1xuICApIHtcbiAgICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07XG4gICAgaWYgKHNjb3BlZFNsb3RGbikgeyAvLyBzY29wZWQgc2xvdFxuICAgICAgcmV0dXJuIHNjb3BlZFNsb3RGbihwcm9wcyB8fCB7fSkgfHwgZmFsbGJhY2tcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNsb3ROb2RlcyA9IHRoaXMuJHNsb3RzW25hbWVdO1xuICAgICAgLy8gd2FybiBkdXBsaWNhdGUgc2xvdCB1c2FnZVxuICAgICAgaWYgKHNsb3ROb2RlcyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHNsb3ROb2Rlcy5fcmVuZGVyZWQgJiYgd2FybihcbiAgICAgICAgICBcIkR1cGxpY2F0ZSBwcmVzZW5jZSBvZiBzbG90IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgZm91bmQgaW4gdGhlIHNhbWUgcmVuZGVyIHRyZWUgXCIgK1xuICAgICAgICAgIFwiLSB0aGlzIHdpbGwgbGlrZWx5IGNhdXNlIHJlbmRlciBlcnJvcnMuXCIsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICBzbG90Tm9kZXMuX3JlbmRlcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbG90Tm9kZXMgfHwgZmFsbGJhY2tcbiAgICB9XG4gIH07XG5cbiAgLy8gYXBwbHkgdi1iaW5kIG9iamVjdFxuICBWdWUucHJvdG90eXBlLl9iID0gZnVuY3Rpb24gYmluZFByb3BzIChcbiAgICBkYXRhLFxuICAgIHRhZyxcbiAgICB2YWx1ZSxcbiAgICBhc1Byb3BcbiAgKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICAgJ3YtYmluZCB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0IG9yIEFycmF5IHZhbHVlJyxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywga2V5KVxuICAgICAgICAgICAgICA/IGRhdGEuZG9tUHJvcHMgfHwgKGRhdGEuZG9tUHJvcHMgPSB7fSlcbiAgICAgICAgICAgICAgOiBkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pO1xuICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfTtcblxuICAvLyBleHBvc2Ugdi1vbiBrZXlDb2Rlc1xuICBWdWUucHJvdG90eXBlLl9rID0gZnVuY3Rpb24gZ2V0S2V5Q29kZXMgKGtleSkge1xuICAgIHJldHVybiBjb25maWcua2V5Q29kZXNba2V5XVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlU2xvdHMgKFxuICByZW5kZXJDaGlsZHJlbixcbiAgY29udGV4dFxuKSB7XG4gIHZhciBzbG90cyA9IHt9O1xuICBpZiAoIXJlbmRlckNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHNsb3RzXG4gIH1cbiAgdmFyIGNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocmVuZGVyQ2hpbGRyZW4pIHx8IFtdO1xuICB2YXIgZGVmYXVsdFNsb3QgPSBbXTtcbiAgdmFyIG5hbWUsIGNoaWxkO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgLy8gbmFtZWQgc2xvdHMgc2hvdWxkIG9ubHkgYmUgcmVzcGVjdGVkIGlmIHRoZSB2bm9kZSB3YXMgcmVuZGVyZWQgaW4gdGhlXG4gICAgLy8gc2FtZSBjb250ZXh0LlxuICAgIGlmICgoY2hpbGQuY29udGV4dCA9PT0gY29udGV4dCB8fCBjaGlsZC5mdW5jdGlvbmFsQ29udGV4dCA9PT0gY29udGV4dCkgJiZcbiAgICAgICAgY2hpbGQuZGF0YSAmJiAobmFtZSA9IGNoaWxkLmRhdGEuc2xvdCkpIHtcbiAgICAgIHZhciBzbG90ID0gKHNsb3RzW25hbWVdIHx8IChzbG90c1tuYW1lXSA9IFtdKSk7XG4gICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgIHNsb3QucHVzaC5hcHBseShzbG90LCBjaGlsZC5jaGlsZHJlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0U2xvdC5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgLy8gaWdub3JlIHNpbmdsZSB3aGl0ZXNwYWNlXG4gIGlmIChkZWZhdWx0U2xvdC5sZW5ndGggJiYgIShcbiAgICBkZWZhdWx0U2xvdC5sZW5ndGggPT09IDEgJiZcbiAgICAoZGVmYXVsdFNsb3RbMF0udGV4dCA9PT0gJyAnIHx8IGRlZmF1bHRTbG90WzBdLmlzQ29tbWVudClcbiAgKSkge1xuICAgIHNsb3RzLmRlZmF1bHQgPSBkZWZhdWx0U2xvdDtcbiAgfVxuICByZXR1cm4gc2xvdHNcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRFdmVudHMgKHZtKSB7XG4gIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcbiAgdmFyIGxpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIHZhciBvbiA9IGJpbmQkMSh2bS4kb24sIHZtKTtcbiAgdmFyIG9mZiA9IGJpbmQkMSh2bS4kb2ZmLCB2bSk7XG4gIHZtLl91cGRhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpIHtcbiAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIG9uLCBvZmYsIHZtKTtcbiAgfTtcbiAgaWYgKGxpc3RlbmVycykge1xuICAgIHZtLl91cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudHNNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuJG9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7KHZtLl9ldmVudHNbZXZlbnRdIHx8ICh2bS5fZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGZ1bmN0aW9uIG9uICgpIHtcbiAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTtcbiAgICAgIGZuLmFwcGx5KHZtLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBvbi5mbiA9IGZuO1xuICAgIHZtLiRvbihldmVudCwgb24pO1xuICAgIHJldHVybiB2bVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIC8vIGFsbFxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdm0uX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XG4gICAgaWYgKCFjYnMpIHtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcbiAgICB2YXIgY2I7XG4gICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNiID0gY2JzW2ldO1xuICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmIChjYnMpIHtcbiAgICAgIGNicyA9IGNicy5sZW5ndGggPiAxID8gdG9BcnJheShjYnMpIDogY2JzO1xuICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY2JzW2ldLmFwcGx5KHZtLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgdWlkID0gMDtcblxuZnVuY3Rpb24gaW5pdE1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICAvLyBhIHVpZFxuICAgIHZtLl91aWQgPSB1aWQrKztcbiAgICAvLyBhIGZsYWcgdG8gYXZvaWQgdGhpcyBiZWluZyBvYnNlcnZlZFxuICAgIHZtLl9pc1Z1ZSA9IHRydWU7XG4gICAgLy8gbWVyZ2Ugb3B0aW9uc1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuX2lzQ29tcG9uZW50KSB7XG4gICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvblxuICAgICAgLy8gc2luY2UgZHluYW1pYyBvcHRpb25zIG1lcmdpbmcgaXMgcHJldHR5IHNsb3csIGFuZCBub25lIG9mIHRoZVxuICAgICAgLy8gaW50ZXJuYWwgY29tcG9uZW50IG9wdGlvbnMgbmVlZHMgc3BlY2lhbCB0cmVhdG1lbnQuXG4gICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS4kb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksXG4gICAgICAgIG9wdGlvbnMgfHwge30sXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpbml0UHJveHkodm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcbiAgICB9XG4gICAgLy8gZXhwb3NlIHJlYWwgc2VsZlxuICAgIHZtLl9zZWxmID0gdm07XG4gICAgaW5pdExpZmVjeWNsZSh2bSk7XG4gICAgaW5pdEV2ZW50cyh2bSk7XG4gICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTtcbiAgICBpbml0U3RhdGUodm0pO1xuICAgIGNhbGxIb29rKHZtLCAnY3JlYXRlZCcpO1xuICAgIGluaXRSZW5kZXIodm0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbml0SW50ZXJuYWxDb21wb25lbnQgKHZtLCBvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpO1xuICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkeW5hbWljIGVudW1lcmF0aW9uLlxuICBvcHRzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICBvcHRzLnByb3BzRGF0YSA9IG9wdGlvbnMucHJvcHNEYXRhO1xuICBvcHRzLl9wYXJlbnRWbm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlO1xuICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIG9wdHMuX3JlbmRlckNoaWxkcmVuID0gb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW47XG4gIG9wdHMuX2NvbXBvbmVudFRhZyA9IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcbiAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG4gICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMgKEN0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIGlmIChDdG9yLnN1cGVyKSB7XG4gICAgdmFyIHN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXIub3B0aW9ucztcbiAgICB2YXIgY2FjaGVkU3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlck9wdGlvbnM7XG4gICAgdmFyIGV4dGVuZE9wdGlvbnMgPSBDdG9yLmV4dGVuZE9wdGlvbnM7XG4gICAgaWYgKHN1cGVyT3B0aW9ucyAhPT0gY2FjaGVkU3VwZXJPcHRpb25zKSB7XG4gICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZFxuICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7XG4gICAgICBleHRlbmRPcHRpb25zLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgICAgZXh0ZW5kT3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBvcHRpb25zLnN0YXRpY1JlbmRlckZucztcbiAgICAgIGV4dGVuZE9wdGlvbnMuX3Njb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xuICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIGV4dGVuZE9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMubmFtZSkge1xuICAgICAgICBvcHRpb25zLmNvbXBvbmVudHNbb3B0aW9ucy5uYW1lXSA9IEN0b3I7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvcHRpb25zXG59XG5cbmZ1bmN0aW9uIFZ1ZSQyIChvcHRpb25zKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgISh0aGlzIGluc3RhbmNlb2YgVnVlJDIpKSB7XG4gICAgd2FybignVnVlIGlzIGEgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgYG5ld2Aga2V5d29yZCcpO1xuICB9XG4gIHRoaXMuX2luaXQob3B0aW9ucyk7XG59XG5cbmluaXRNaXhpbihWdWUkMik7XG5zdGF0ZU1peGluKFZ1ZSQyKTtcbmV2ZW50c01peGluKFZ1ZSQyKTtcbmxpZmVjeWNsZU1peGluKFZ1ZSQyKTtcbnJlbmRlck1peGluKFZ1ZSQyKTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRVc2UgKFZ1ZSkge1xuICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwbHVnaW4uaW5zdGFsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIGlmICh0eXBlb2YgcGx1Z2luLmluc3RhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsdWdpbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9XG4gICAgcGx1Z2luLmluc3RhbGxlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXNcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRNaXhpbiQxIChWdWUpIHtcbiAgVnVlLm1peGluID0gZnVuY3Rpb24gKG1peGluKSB7XG4gICAgdGhpcy5vcHRpb25zID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgbWl4aW4pO1xuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7XG4gIC8qKlxuICAgKiBFYWNoIGluc3RhbmNlIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgVnVlLCBoYXMgYSB1bmlxdWVcbiAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxuICAgKiBjb25zdHJ1Y3RvcnNcIiBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZSBhbmQgY2FjaGUgdGhlbS5cbiAgICovXG4gIFZ1ZS5jaWQgPSAwO1xuICB2YXIgY2lkID0gMTtcblxuICAvKipcbiAgICogQ2xhc3MgaW5oZXJpdGFuY2VcbiAgICovXG4gIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xuICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XG4gICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcbiAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRDdG9yc1tTdXBlcklkXVxuICAgIH1cbiAgICB2YXIgbmFtZSA9IGV4dGVuZE9wdGlvbnMubmFtZSB8fCBTdXBlci5vcHRpb25zLm5hbWU7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghL15bYS16QS1aXVtcXHctXSokLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6IFwiJyArIG5hbWUgKyAnXCIuIENvbXBvbmVudCBuYW1lcyAnICtcbiAgICAgICAgICAnY2FuIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjYXRlcnMgYW5kIHRoZSBoeXBoZW4uJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgU3ViID0gZnVuY3Rpb24gVnVlQ29tcG9uZW50IChvcHRpb25zKSB7XG4gICAgICB0aGlzLl9pbml0KG9wdGlvbnMpO1xuICAgIH07XG4gICAgU3ViLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3VwZXIucHJvdG90eXBlKTtcbiAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViO1xuICAgIFN1Yi5jaWQgPSBjaWQrKztcbiAgICBTdWIub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgIFN1cGVyLm9wdGlvbnMsXG4gICAgICBleHRlbmRPcHRpb25zXG4gICAgKTtcbiAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjtcbiAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2VcbiAgICBTdWIuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICAgIFN1Yi5taXhpbiA9IFN1cGVyLm1peGluO1xuICAgIFN1Yi51c2UgPSBTdXBlci51c2U7XG4gICAgLy8gY3JlYXRlIGFzc2V0IHJlZ2lzdGVycywgc28gZXh0ZW5kZWQgY2xhc3Nlc1xuICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby5cbiAgICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XG4gICAgfSk7XG4gICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxuICAgIGlmIChuYW1lKSB7XG4gICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xuICAgIH1cbiAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzdXBlciBvcHRpb25zIGF0IGV4dGVuc2lvbiB0aW1lLlxuICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlXG4gICAgLy8gYmVlbiB1cGRhdGVkLlxuICAgIFN1Yi5zdXBlck9wdGlvbnMgPSBTdXBlci5vcHRpb25zO1xuICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucztcbiAgICAvLyBjYWNoZSBjb25zdHJ1Y3RvclxuICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViO1xuICAgIHJldHVybiBTdWJcbiAgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyAoVnVlKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYXNzZXQgcmVnaXN0cmF0aW9uIG1ldGhvZHMuXG4gICAqL1xuICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChcbiAgICAgIGlkLFxuICAgICAgZGVmaW5pdGlvblxuICAgICkge1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgY29uZmlnLmlzUmVzZXJ2ZWRUYWcoaWQpKSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcbiAgICAgICAgICAgICAgJ2lkOiAnICsgaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gZGVmaW5pdGlvbi5uYW1lIHx8IGlkO1xuICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG4vKiAgKi9cblxudmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cF07XG5cbmZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKVxuICB9XG59XG5cbnZhciBLZWVwQWxpdmUgPSB7XG4gIG5hbWU6ICdrZWVwLWFsaXZlJyxcbiAgYWJzdHJhY3Q6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLFxuICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlc1xuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKCkge1xuICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQodGhpcy4kc2xvdHMuZGVmYXVsdCk7XG4gICAgaWYgKHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgICAgIC8vIGNoZWNrIHBhdHRlcm5cbiAgICAgIHZhciBuYW1lID0gb3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZztcbiAgICAgIGlmIChuYW1lICYmIChcbiAgICAgICAgKHRoaXMuaW5jbHVkZSAmJiAhbWF0Y2hlcyh0aGlzLmluY2x1ZGUsIG5hbWUpKSB8fFxuICAgICAgICAodGhpcy5leGNsdWRlICYmIG1hdGNoZXModGhpcy5leGNsdWRlLCBuYW1lKSlcbiAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIHZub2RlXG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGxcbiAgICAgICAgLy8gc2FtZSBjb25zdHJ1Y3RvciBtYXkgZ2V0IHJlZ2lzdGVyZWQgYXMgZGlmZmVyZW50IGxvY2FsIGNvbXBvbmVudHNcbiAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxuICAgICAgICA/IG9wdHMuQ3Rvci5jaWQgKyAob3B0cy50YWcgPyAoXCI6OlwiICsgKG9wdHMudGFnKSkgOiAnJylcbiAgICAgICAgOiB2bm9kZS5rZXk7XG4gICAgICBpZiAodGhpcy5jYWNoZVtrZXldKSB7XG4gICAgICAgIHZub2RlLmNoaWxkID0gdGhpcy5jYWNoZVtrZXldLmNoaWxkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICB9XG4gICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZVxuICB9LFxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jYWNoZSkge1xuICAgICAgdmFyIHZub2RlID0gdGhpcyQxLmNhY2hlW2tleV07XG4gICAgICBjYWxsSG9vayh2bm9kZS5jaGlsZCwgJ2RlYWN0aXZhdGVkJyk7XG4gICAgICB2bm9kZS5jaGlsZC4kZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGJ1aWx0SW5Db21wb25lbnRzID0ge1xuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRHbG9iYWxBUEkgKFZ1ZSkge1xuICAvLyBjb25maWdcbiAgdmFyIGNvbmZpZ0RlZiA9IHt9O1xuICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbmZpZ0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnRG8gbm90IHJlcGxhY2UgdGhlIFZ1ZS5jb25maWcgb2JqZWN0LCBzZXQgaW5kaXZpZHVhbCBmaWVsZHMgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ2NvbmZpZycsIGNvbmZpZ0RlZik7XG4gIFZ1ZS51dGlsID0gdXRpbDtcbiAgVnVlLnNldCA9IHNldDtcbiAgVnVlLmRlbGV0ZSA9IGRlbDtcbiAgVnVlLm5leHRUaWNrID0gbmV4dFRpY2s7XG5cbiAgVnVlLm9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25maWcuX2Fzc2V0VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSk7XG5cbiAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxuICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cbiAgVnVlLm9wdGlvbnMuX2Jhc2UgPSBWdWU7XG5cbiAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcblxuICBpbml0VXNlKFZ1ZSk7XG4gIGluaXRNaXhpbiQxKFZ1ZSk7XG4gIGluaXRFeHRlbmQoVnVlKTtcbiAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XG59XG5cbmluaXRHbG9iYWxBUEkoVnVlJDIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlJDIucHJvdG90eXBlLCAnJGlzU2VydmVyJywge1xuICBnZXQ6IGlzU2VydmVyUmVuZGVyaW5nXG59KTtcblxuVnVlJDIudmVyc2lvbiA9ICcyLjEuMyc7XG5cbi8qICAqL1xuXG4vLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nXG52YXIgbXVzdFVzZVByb3AgPSBmdW5jdGlvbiAodGFnLCBhdHRyKSB7XG4gIHJldHVybiAoXG4gICAgKGF0dHIgPT09ICd2YWx1ZScgJiYgKHRhZyA9PT0gJ2lucHV0JyB8fCB0YWcgPT09ICd0ZXh0YXJlYScgfHwgdGFnID09PSAnb3B0aW9uJykpIHx8XG4gICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcbiAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcbiAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpXG4gIClcbn07XG5cbnZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XG5cbnZhciBpc0Jvb2xlYW5BdHRyID0gbWFrZU1hcChcbiAgJ2FsbG93ZnVsbHNjcmVlbixhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY2hlY2tlZCxjb21wYWN0LGNvbnRyb2xzLGRlY2xhcmUsJyArXG4gICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArXG4gICdlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLCcgK1xuICAnbXV0ZWQsbm9ocmVmLG5vcmVzaXplLG5vc2hhZGUsbm92YWxpZGF0ZSxub3dyYXAsb3BlbixwYXVzZW9uZXhpdCxyZWFkb25seSwnICtcbiAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsJyArXG4gICd0cnVlc3BlZWQsdHlwZW11c3RtYXRjaCx2aXNpYmxlJ1xuKTtcblxudmFyIGlzQXR0ciA9IG1ha2VNYXAoXG4gICdhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbHQsYXN5bmMsYXV0b2NvbXBsZXRlLCcgK1xuICAnYXV0b2ZvY3VzLGF1dG9wbGF5LGF1dG9zYXZlLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNoYWxsZW5nZSxjaGFyc2V0LCcgK1xuICAnY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsaHR0cC1lcXVpdiwnICtcbiAgJ25hbWUsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3JkcyxkYXRhLGRhdGV0aW1lLGRlZmF1bHQsJyArXG4gICdkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxtZXRob2QsZm9yLCcgK1xuICAnZm9ybSxmb3JtYWN0aW9uLGhlYWRlcnMsPHRoPixoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LCcgK1xuICAnaWNvbixpZCxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsaXN0LGxvb3AsbG93LCcgK1xuICAnbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtZWRpYSxtZXRob2QsR0VULFBPU1QsbWluLG11bHRpcGxlLGVtYWlsLGZpbGUsJyArXG4gICdtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIsJyArXG4gICdwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LCcgK1xuICAnc2NvcGUsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNoYXBlLHNpemUsdHlwZSx0ZXh0LHBhc3N3b3JkLHNpemVzLHNwYW4sJyArXG4gICdzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LCcgK1xuICAndGFyZ2V0LHRpdGxlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXAnXG4pO1xuXG5cblxudmFyIHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5cbnZhciBpc1hsaW5rID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuY2hhckF0KDUpID09PSAnOicgJiYgbmFtZS5zbGljZSgwLCA1KSA9PT0gJ3hsaW5rJ1xufTtcblxudmFyIGdldFhsaW5rUHJvcCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBpc1hsaW5rKG5hbWUpID8gbmFtZS5zbGljZSg2LCBuYW1lLmxlbmd0aCkgOiAnJ1xufTtcblxudmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IGZhbHNlXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gZ2VuQ2xhc3NGb3JWbm9kZSAodm5vZGUpIHtcbiAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xuICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XG4gIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcbiAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY2hpbGQuX3Zub2RlO1xuICAgIGlmIChjaGlsZE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGRhdGEsIHBhcmVudE5vZGUuZGF0YSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBnZW5DbGFzc0Zyb21EYXRhKGRhdGEpXG59XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NEYXRhIChjaGlsZCwgcGFyZW50KSB7XG4gIHJldHVybiB7XG4gICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSxcbiAgICBjbGFzczogY2hpbGQuY2xhc3NcbiAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdXG4gICAgICA6IHBhcmVudC5jbGFzc1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkNsYXNzRnJvbURhdGEgKGRhdGEpIHtcbiAgdmFyIGR5bmFtaWNDbGFzcyA9IGRhdGEuY2xhc3M7XG4gIHZhciBzdGF0aWNDbGFzcyA9IGRhdGEuc3RhdGljQ2xhc3M7XG4gIGlmIChzdGF0aWNDbGFzcyB8fCBkeW5hbWljQ2xhc3MpIHtcbiAgICByZXR1cm4gY29uY2F0KHN0YXRpY0NsYXNzLCBzdHJpbmdpZnlDbGFzcyhkeW5hbWljQ2xhc3MpKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiAnJ1xufVxuXG5mdW5jdGlvbiBjb25jYXQgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJylcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3MgKHZhbHVlKSB7XG4gIHZhciByZXMgPSAnJztcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiByZXNcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHZhciBzdHJpbmdpZmllZDtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHZhbHVlW2ldKSB7XG4gICAgICAgIGlmICgoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpKSB7XG4gICAgICAgICAgcmVzICs9IHN0cmluZ2lmaWVkICsgJyAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMuc2xpY2UoMCwgLTEpXG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlW2tleV0pIHsgcmVzICs9IGtleSArICcgJzsgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnNsaWNlKDAsIC0xKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbnZhciBuYW1lc3BhY2VNYXAgPSB7XG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcbiAgbWF0aDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnLFxuICB4aHRtbDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnXG59O1xuXG52YXIgaXNIVE1MVGFnID0gbWFrZU1hcChcbiAgJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xuICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLCcgK1xuICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgK1xuICAncyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sJyArXG4gICdlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucywnICtcbiAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgK1xuICAnYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbiwnICtcbiAgJ291dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArXG4gICdjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlJ1xuKTtcblxudmFyIGlzVW5hcnlUYWcgPSBtYWtlTWFwKFxuICAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArXG4gICdsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdicicsXG4gIHRydWVcbik7XG5cbi8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlblxuLy8gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxudmFyIGNhbkJlTGVmdE9wZW5UYWcgPSBtYWtlTWFwKFxuICAnY29sZ3JvdXAsZGQsZHQsbGksb3B0aW9ucyxwLHRkLHRmb290LHRoLHRoZWFkLHRyLHNvdXJjZScsXG4gIHRydWVcbik7XG5cbi8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTNcbi8vIFBocmFzaW5nIENvbnRlbnQgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZG9tLmh0bWwjcGhyYXNpbmctY29udGVudFxudmFyIGlzTm9uUGhyYXNpbmdUYWcgPSBtYWtlTWFwKFxuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgK1xuICAnZGV0YWlscyxkaWFsb2csZGl2LGRsLGR0LGZpZWxkc2V0LGZpZ2NhcHRpb24sZmlndXJlLGZvb3Rlcixmb3JtLCcgK1xuICAnaDEsaDIsaDMsaDQsaDUsaDYsaGVhZCxoZWFkZXIsaGdyb3VwLGhyLGh0bWwsbGVnZW5kLGxpLG1lbnVpdGVtLG1ldGEsJyArXG4gICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArXG4gICd0aXRsZSx0cix0cmFjaycsXG4gIHRydWVcbik7XG5cbi8vIHRoaXMgbWFwIGlzIGludGVudGlvbmFsbHkgc2VsZWN0aXZlLCBvbmx5IGNvdmVyaW5nIFNWRyBlbGVtZW50cyB0aGF0IG1heVxuLy8gY29udGFpbiBjaGlsZCBlbGVtZW50cy5cbnZhciBpc1NWRyA9IG1ha2VNYXAoXG4gICdzdmcsYW5pbWF0ZSxjaXJjbGUsY2xpcHBhdGgsY3Vyc29yLGRlZnMsZGVzYyxlbGxpcHNlLGZpbHRlcixmb250LCcgK1xuICAnZm9udC1mYWNlLGcsZ2x5cGgsaW1hZ2UsbGluZSxtYXJrZXIsbWFzayxtaXNzaW5nLWdseXBoLHBhdGgscGF0dGVybiwnICtcbiAgJ3BvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXcnLFxuICB0cnVlXG4pO1xuXG5cblxudmFyIGlzUmVzZXJ2ZWRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpXG59O1xuXG5mdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykge1xuICBpZiAoaXNTVkcodGFnKSkge1xuICAgIHJldHVybiAnc3ZnJ1xuICB9XG4gIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxuICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXG4gIGlmICh0YWcgPT09ICdtYXRoJykge1xuICAgIHJldHVybiAnbWF0aCdcbiAgfVxufVxuXG52YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBpc1Vua25vd25FbGVtZW50ICh0YWcpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghaW5Ccm93c2VyKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddICE9IG51bGwpIHtcbiAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddXG4gIH1cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gKFxuICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnRcbiAgICApKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gL0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlbC50b1N0cmluZygpKSlcbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBRdWVyeSBhbiBlbGVtZW50IHNlbGVjdG9yIGlmIGl0J3Mgbm90IGFuIGVsZW1lbnQgYWxyZWFkeS5cbiAqL1xuZnVuY3Rpb24gcXVlcnkgKGVsKSB7XG4gIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gZWw7XG4gICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICBpZiAoIWVsKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICdDYW5ub3QgZmluZCBlbGVtZW50OiAnICsgc2VsZWN0b3JcbiAgICAgICk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEgKHRhZ05hbWUsIHZub2RlKSB7XG4gIHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBpZiAodGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcbiAgICByZXR1cm4gZWxtXG4gIH1cbiAgaWYgKHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS5hdHRycyAmJiAnbXVsdGlwbGUnIGluIHZub2RlLmRhdGEuYXR0cnMpIHtcbiAgICBlbG0uc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xuICB9XG4gIHJldHVybiBlbG1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TIChuYW1lc3BhY2UsIHRhZ05hbWUpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VNYXBbbmFtZXNwYWNlXSwgdGFnTmFtZSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUgKHRleHQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQgKHRleHQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dClcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlIChwYXJlbnROb2RlLCBuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDaGlsZCAobm9kZSwgY2hpbGQpIHtcbiAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkIChub2RlLCBjaGlsZCkge1xuICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50Tm9kZSAobm9kZSkge1xuICByZXR1cm4gbm9kZS5wYXJlbnROb2RlXG59XG5cbmZ1bmN0aW9uIG5leHRTaWJsaW5nIChub2RlKSB7XG4gIHJldHVybiBub2RlLm5leHRTaWJsaW5nXG59XG5cbmZ1bmN0aW9uIHRhZ05hbWUgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUudGFnTmFtZVxufVxuXG5mdW5jdGlvbiBzZXRUZXh0Q29udGVudCAobm9kZSwgdGV4dCkge1xuICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbn1cblxuZnVuY3Rpb24gY2hpbGROb2RlcyAobm9kZSkge1xuICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzXG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZSAobm9kZSwga2V5LCB2YWwpIHtcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWwpO1xufVxuXG5cbnZhciBub2RlT3BzID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcblx0Y3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG5cdGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcblx0Y3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcblx0aW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG5cdHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcblx0YXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuXHRwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuXHRuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG5cdHRhZ05hbWU6IHRhZ05hbWUsXG5cdHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcblx0Y2hpbGROb2RlczogY2hpbGROb2Rlcyxcblx0c2V0QXR0cmlidXRlOiBzZXRBdHRyaWJ1dGVcbn0pO1xuXG4vKiAgKi9cblxudmFyIHJlZiA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG4gICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgaWYgKG9sZFZub2RlLmRhdGEucmVmICE9PSB2bm9kZS5kYXRhLnJlZikge1xuICAgICAgcmVnaXN0ZXJSZWYob2xkVm5vZGUsIHRydWUpO1xuICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICAgIH1cbiAgfSxcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSAodm5vZGUpIHtcbiAgICByZWdpc3RlclJlZih2bm9kZSwgdHJ1ZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUmVmICh2bm9kZSwgaXNSZW1vdmFsKSB7XG4gIHZhciBrZXkgPSB2bm9kZS5kYXRhLnJlZjtcbiAgaWYgKCFrZXkpIHsgcmV0dXJuIH1cblxuICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xuICB2YXIgcmVmID0gdm5vZGUuY2hpbGQgfHwgdm5vZGUuZWxtO1xuICB2YXIgcmVmcyA9IHZtLiRyZWZzO1xuICBpZiAoaXNSZW1vdmFsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVmc1trZXldKSkge1xuICAgICAgcmVtb3ZlJDEocmVmc1trZXldLCByZWYpO1xuICAgIH0gZWxzZSBpZiAocmVmc1trZXldID09PSByZWYpIHtcbiAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZnNba2V5XSkgJiYgcmVmc1trZXldLmluZGV4T2YocmVmKSA8IDApIHtcbiAgICAgICAgcmVmc1trZXldLnB1c2gocmVmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZnNba2V5XSA9IFtyZWZdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWZzW2tleV0gPSByZWY7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVmlydHVhbCBET00gcGF0Y2hpbmcgYWxnb3JpdGhtIGJhc2VkIG9uIFNuYWJiZG9tIGJ5XG4gKiBTaW1vbiBGcmlpcyBWaW5kdW0gKEBwYWxkZXBpbmQpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYWxkZXBpbmQvc25hYmJkb20vYmxvYi9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKVxuICpcblxuLypcbiAqIE5vdCB0eXBlLWNoZWNraW5nIHRoaXMgYmVjYXVzZSB0aGlzIGZpbGUgaXMgcGVyZi1jcml0aWNhbCBhbmQgdGhlIGNvc3RcbiAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LlxuICovXG5cbnZhciBlbXB0eU5vZGUgPSBuZXcgVk5vZGUoJycsIHt9LCBbXSk7XG5cbnZhciBob29rcyQxID0gWydjcmVhdGUnLCAndXBkYXRlJywgJ3JlbW92ZScsICdkZXN0cm95J107XG5cbmZ1bmN0aW9uIGlzVW5kZWYgKHMpIHtcbiAgcmV0dXJuIHMgPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc0RlZiAocykge1xuICByZXR1cm4gcyAhPSBudWxsXG59XG5cbmZ1bmN0aW9uIHNhbWVWbm9kZSAodm5vZGUxLCB2bm9kZTIpIHtcbiAgcmV0dXJuIChcbiAgICB2bm9kZTEua2V5ID09PSB2bm9kZTIua2V5ICYmXG4gICAgdm5vZGUxLnRhZyA9PT0gdm5vZGUyLnRhZyAmJlxuICAgIHZub2RlMS5pc0NvbW1lbnQgPT09IHZub2RlMi5pc0NvbW1lbnQgJiZcbiAgICAhdm5vZGUxLmRhdGEgPT09ICF2bm9kZTIuZGF0YVxuICApXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVRvT2xkSWR4IChjaGlsZHJlbiwgYmVnaW5JZHgsIGVuZElkeCkge1xuICB2YXIgaSwga2V5O1xuICB2YXIgbWFwID0ge307XG4gIGZvciAoaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAga2V5ID0gY2hpbGRyZW5baV0ua2V5O1xuICAgIGlmIChpc0RlZihrZXkpKSB7IG1hcFtrZXldID0gaTsgfVxuICB9XG4gIHJldHVybiBtYXBcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGF0Y2hGdW5jdGlvbiAoYmFja2VuZCkge1xuICB2YXIgaSwgajtcbiAgdmFyIGNicyA9IHt9O1xuXG4gIHZhciBtb2R1bGVzID0gYmFja2VuZC5tb2R1bGVzO1xuICB2YXIgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wcztcblxuICBmb3IgKGkgPSAwOyBpIDwgaG9va3MkMS5sZW5ndGg7ICsraSkge1xuICAgIGNic1tob29rcyQxW2ldXSA9IFtdO1xuICAgIGZvciAoaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAobW9kdWxlc1tqXVtob29rcyQxW2ldXSAhPT0gdW5kZWZpbmVkKSB7IGNic1tob29rcyQxW2ldXS5wdXNoKG1vZHVsZXNbal1baG9va3MkMVtpXV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkge1xuICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IgKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcbiAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkge1xuICAgICAgaWYgKC0tcmVtb3ZlJCQxLmxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICByZW1vdmVFbGVtZW50KGNoaWxkRWxtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlJCQxLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICByZXR1cm4gcmVtb3ZlJCQxXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50IChlbCkge1xuICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xuICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbFxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxtICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXN0ZWQpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDtcbiAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlKTsgfVxuICAgICAgLy8gYWZ0ZXIgY2FsbGluZyB0aGUgaW5pdCBob29rLCBpZiB0aGUgdm5vZGUgaXMgYSBjaGlsZCBjb21wb25lbnRcbiAgICAgIC8vIGl0IHNob3VsZCd2ZSBjcmVhdGVkIGEgY2hpbGQgaW5zdGFuY2UgYW5kIG1vdW50ZWQgaXQuIHRoZSBjaGlsZFxuICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uXG4gICAgICAvLyBpbiB0aGF0IGNhc2Ugd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBlbGVtZW50IGFuZCBiZSBkb25lLlxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgcmV0dXJuIHZub2RlLmVsbVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICB2YXIgdGFnID0gdm5vZGUudGFnO1xuICAgIGlmIChpc0RlZih0YWcpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXZub2RlLm5zICYmXG4gICAgICAgICAgIShjb25maWcuaWdub3JlZEVsZW1lbnRzICYmIGNvbmZpZy5pZ25vcmVkRWxlbWVudHMuaW5kZXhPZih0YWcpID4gLTEpICYmXG4gICAgICAgICAgY29uZmlnLmlzVW5rbm93bkVsZW1lbnQodGFnKVxuICAgICAgICApIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1Vua25vd24gY3VzdG9tIGVsZW1lbnQ6IDwnICsgdGFnICsgJz4gLSBkaWQgeW91ICcgK1xuICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xuICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bm9kZS5lbG0gPSB2bm9kZS5uc1xuICAgICAgICA/IG5vZGVPcHMuY3JlYXRlRWxlbWVudE5TKHZub2RlLm5zLCB0YWcpXG4gICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpO1xuICAgICAgc2V0U2NvcGUodm5vZGUpO1xuICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUuaXNDb21tZW50KSB7XG4gICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5lbG1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuICh2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHRydWUpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG4gICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7XG4gICAgd2hpbGUgKHZub2RlLmNoaWxkKSB7XG4gICAgICB2bm9kZSA9IHZub2RlLmNoaWxkLl92bm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUNyZWF0ZUhvb2tzICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG4gICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXG4gICAgaWYgKGlzRGVmKGkpKSB7XG4gICAgICBpZiAoaS5jcmVhdGUpIHsgaS5jcmVhdGUoZW1wdHlOb2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpLmluc2VydCkgeyBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkge1xuICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2guYXBwbHkoaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpO1xuICAgIH1cbiAgICB2bm9kZS5lbG0gPSB2bm9kZS5jaGlsZC4kZWw7XG4gICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICBzZXRTY29wZSh2bm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVtcHR5IGNvbXBvbmVudCByb290LlxuICAgICAgLy8gc2tpcCBhbGwgZWxlbWVudC1yZWxhdGVkIG1vZHVsZXMgZXhjZXB0IGZvciByZWYgKCMzNDU1KVxuICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xuICAgICAgLy8gbWFrZSBzdXJlIHRvIGludm9rZSB0aGUgaW5zZXJ0IGhvb2tcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgc2NvcGUgaWQgYXR0cmlidXRlIGZvciBzY29wZWQgQ1NTLlxuICAvLyB0aGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIHRvIGF2b2lkIHRoZSBvdmVyaGVhZFxuICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuXG4gIGZ1bmN0aW9uIHNldFNjb3BlICh2bm9kZSkge1xuICAgIHZhciBpO1xuICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29udGV4dCkgJiYgaXNEZWYoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSB7XG4gICAgICBub2RlT3BzLnNldEF0dHJpYnV0ZSh2bm9kZS5lbG0sIGksICcnKTtcbiAgICB9XG4gICAgaWYgKGlzRGVmKGkgPSBhY3RpdmVJbnN0YW5jZSkgJiZcbiAgICAgICAgaSAhPT0gdm5vZGUuY29udGV4dCAmJlxuICAgICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcbiAgICAgIG5vZGVPcHMuc2V0QXR0cmlidXRlKHZub2RlLmVsbSwgaSwgJycpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFZub2RlcyAocGFyZW50RWxtLCBiZWZvcmUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0odm5vZGVzW3N0YXJ0SWR4XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgYmVmb3JlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VEZXN0cm95SG9vayAodm5vZGUpIHtcbiAgICB2YXIgaSwgajtcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuZGVzdHJveS5sZW5ndGg7ICsraSkgeyBjYnMuZGVzdHJveVtpXSh2bm9kZSk7IH1cbiAgICB9XG4gICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xuICAgICAgICBpbnZva2VEZXN0cm95SG9vayh2bm9kZS5jaGlsZHJlbltqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVm5vZGVzIChwYXJlbnRFbG0sIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG4gICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcbiAgICAgICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudEVsbSwgY2guZWxtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sgKHZub2RlLCBybSkge1xuICAgIGlmIChybSB8fCBpc0RlZih2bm9kZS5kYXRhKSkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTtcbiAgICAgIGlmICghcm0pIHtcbiAgICAgICAgLy8gZGlyZWN0bHkgcmVtb3ZpbmdcbiAgICAgICAgcm0gPSBjcmVhdGVSbUNiKHZub2RlLmVsbSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG4gICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG4gICAgICB9XG4gICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZCkgJiYgaXNEZWYoaSA9IGkuX3Zub2RlKSAmJiBpc0RlZihpLmRhdGEpKSB7XG4gICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soaSwgcm0pO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5yZW1vdmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY2JzLnJlbW92ZVtpXSh2bm9kZSwgcm0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5kYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLnJlbW92ZSkpIHtcbiAgICAgICAgaSh2bm9kZSwgcm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm0oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlRWxlbWVudCh2bm9kZS5lbG0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuIChwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7XG4gICAgdmFyIG9sZFN0YXJ0SWR4ID0gMDtcbiAgICB2YXIgbmV3U3RhcnRJZHggPSAwO1xuICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgIHZhciBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgdmFyIG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgIHZhciBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgZWxtVG9Nb3ZlLCBiZWZvcmU7XG5cbiAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cbiAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcbiAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVuZFZub2RlLmVsbSkpO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7IC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzVW5kZWYob2xkS2V5VG9JZHgpKSB7IG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOyB9XG4gICAgICAgIGlkeEluT2xkID0gaXNEZWYobmV3U3RhcnRWbm9kZS5rZXkpID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldIDogbnVsbDtcbiAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7IC8vIE5ldyBlbGVtZW50XG4gICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWVsbVRvTW92ZSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgJ0l0IHNlZW1zIHRoZXJlIGFyZSBkdXBsaWNhdGUga2V5cyB0aGF0IGlzIGNhdXNpbmcgYW4gdXBkYXRlIGVycm9yLiAnICtcbiAgICAgICAgICAgICAgJ01ha2Ugc3VyZSBlYWNoIHYtZm9yIGl0ZW0gaGFzIGEgdW5pcXVlIGtleS4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWxtVG9Nb3ZlLnRhZyAhPT0gbmV3U3RhcnRWbm9kZS50YWcpIHtcbiAgICAgICAgICAgIC8vIHNhbWUga2V5IGJ1dCBkaWZmZXJlbnQgZWxlbWVudC4gdHJlYXQgYXMgbmV3IGVsZW1lbnRcbiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgbmV3U3RhcnRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG4gICAgICBiZWZvcmUgPSBpc1VuZGVmKG5ld0NoW25ld0VuZElkeCArIDFdKSA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG4gICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCBiZWZvcmUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgIH0gZWxzZSBpZiAobmV3U3RhcnRJZHggPiBuZXdFbmRJZHgpIHtcbiAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnRFbG0sIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaFZub2RlIChvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyByZXVzZSBlbGVtZW50IGZvciBzdGF0aWMgdHJlZXMuXG4gICAgLy8gbm90ZSB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIHZub2RlIGlzIGNsb25lZCAtXG4gICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuXG4gICAgLy8gcmVzZXQgYnkgdGhlIGhvdC1yZWxvYWQtYXBpIGFuZCB3ZSBuZWVkIHRvIGRvIGEgcHJvcGVyIHJlLXJlbmRlci5cbiAgICBpZiAodm5vZGUuaXNTdGF0aWMgJiZcbiAgICAgICAgb2xkVm5vZGUuaXNTdGF0aWMgJiZcbiAgICAgICAgdm5vZGUua2V5ID09PSBvbGRWbm9kZS5rZXkgJiZcbiAgICAgICAgKHZub2RlLmlzQ2xvbmVkIHx8IHZub2RlLmlzT25jZSkpIHtcbiAgICAgIHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcbiAgICAgIHZub2RlLmNoaWxkID0gb2xkVm5vZGUuY2hpbGQ7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdmFyIGk7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIHZhciBoYXNEYXRhID0gaXNEZWYoZGF0YSk7XG4gICAgaWYgKGhhc0RhdGEgJiYgaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucHJlcGF0Y2gpKSB7XG4gICAgICBpKG9sZFZub2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07XG4gICAgdmFyIG9sZENoID0gb2xkVm5vZGUuY2hpbGRyZW47XG4gICAgdmFyIGNoID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaWYgKGhhc0RhdGEgJiYgaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSkgeyBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgeyB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoLCBjaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTsgfVxuICAgICAgfSBlbHNlIGlmIChpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH1cbiAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xuICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7XG4gICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgdm5vZGUudGV4dCk7XG4gICAgfVxuICAgIGlmIChoYXNEYXRhKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rICh2bm9kZSwgcXVldWUsIGluaXRpYWwpIHtcbiAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGVcbiAgICAvLyBlbGVtZW50IGlzIHJlYWxseSBpbnNlcnRlZFxuICAgIGlmIChpbml0aWFsICYmIHZub2RlLnBhcmVudCkge1xuICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBiYWlsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gaHlkcmF0ZSAoZWxtLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICB2bm9kZS5lbG0gPSBlbG07XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsgaSh2bm9kZSwgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pOyB9XG4gICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkKSkge1xuICAgICAgICAvLyBjaGlsZCBjb21wb25lbnQuIGl0IHNob3VsZCBoYXZlIGh5ZHJhdGVkIGl0cyBvd24gdHJlZS5cbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRGVmKHRhZykpIHtcbiAgICAgIGlmIChpc0RlZihjaGlsZHJlbikpIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBub2RlT3BzLmNoaWxkTm9kZXMoZWxtKTtcbiAgICAgICAgLy8gZW1wdHkgZWxlbWVudCwgYWxsb3cgY2xpZW50IHRvIHBpY2sgdXAgYW5kIHBvcHVsYXRlIGNoaWxkcmVuXG4gICAgICAgIGlmICghY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNoaWxkcmVuTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCAhPT0gY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjaGlsZHJlbk1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgaWYgKCFoeWRyYXRlKGNoaWxkTm9kZXNbaSQxXSwgY2hpbGRyZW5baSQxXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY2hpbGRyZW5NYXRjaCkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICAhYmFpbGVkKSB7XG4gICAgICAgICAgICAgIGJhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc21hdGNoaW5nIGNoaWxkTm9kZXMgdnMuIFZOb2RlczogJywgY2hpbGROb2RlcywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgICAgaW52b2tlQ3JlYXRlSG9va3Modm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnROb2RlTWF0Y2ggKG5vZGUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fFxuICAgICAgICB2bm9kZS50YWcudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU9wcy50YWdOYW1lKG5vZGUpLnRvTG93ZXJDYXNlKClcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIF90b1N0cmluZyh2bm9kZS50ZXh0KSA9PT0gbm9kZS5kYXRhXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoIChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xuICAgIGlmICghdm5vZGUpIHtcbiAgICAgIGlmIChvbGRWbm9kZSkgeyBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7IH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBlbG0sIHBhcmVudDtcbiAgICB2YXIgaXNJbml0aWFsUGF0Y2ggPSBmYWxzZTtcbiAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107XG5cbiAgICBpZiAoIW9sZFZub2RlKSB7XG4gICAgICAvLyBlbXB0eSBtb3VudCwgY3JlYXRlIG5ldyByb290IGVsZW1lbnRcbiAgICAgIGlzSW5pdGlhbFBhdGNoID0gdHJ1ZTtcbiAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlzUmVhbEVsZW1lbnQgPSBpc0RlZihvbGRWbm9kZS5ub2RlVHlwZSk7XG4gICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cbiAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxuICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpKSB7XG4gICAgICAgICAgICBvbGRWbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3NlcnZlci1yZW5kZXJlZCcpO1xuICAgICAgICAgICAgaHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGh5ZHJhdGluZykge1xuICAgICAgICAgICAgaWYgKGh5ZHJhdGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKSB7XG4gICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgJ1RoZSBjbGllbnQtc2lkZSByZW5kZXJlZCB2aXJ0dWFsIERPTSB0cmVlIGlzIG5vdCBtYXRjaGluZyAnICtcbiAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArXG4gICAgICAgICAgICAgICAgJ0hUTUwgbWFya3VwLCBmb3IgZXhhbXBsZSBuZXN0aW5nIGJsb2NrLWxldmVsIGVsZW1lbnRzIGluc2lkZSAnICtcbiAgICAgICAgICAgICAgICAnPHA+LCBvciBtaXNzaW5nIDx0Ym9keT4uIEJhaWxpbmcgaHlkcmF0aW9uIGFuZCBwZXJmb3JtaW5nICcgK1xuICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVpdGhlciBub3Qgc2VydmVyLXJlbmRlcmVkLCBvciBoeWRyYXRpb24gZmFpbGVkLlxuICAgICAgICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBub2RlIGFuZCByZXBsYWNlIGl0XG4gICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxtID0gb2xkVm5vZGUuZWxtO1xuICAgICAgICBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWxtKTtcblxuICAgICAgICBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG5cbiAgICAgICAgLy8gY29tcG9uZW50IHJvb3QgZWxlbWVudCByZXBsYWNlZC5cbiAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmICh2bm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XG4gICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XG4gICAgICAgICAgICBhbmNlc3Rvci5lbG0gPSB2bm9kZS5lbG07XG4gICAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZS5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIHZub2RlLmVsbSwgbm9kZU9wcy5uZXh0U2libGluZyhlbG0pKTtcbiAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50LCBbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG4gICAgcmV0dXJuIHZub2RlLmVsbVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgZGlyZWN0aXZlcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG4gICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAoXG4gIG9sZFZub2RlLFxuICB2bm9kZVxuKSB7XG4gIGlmICghb2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzICYmICF2bm9kZS5kYXRhLmRpcmVjdGl2ZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuICB2YXIgb2xkRGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMsIG9sZFZub2RlLmNvbnRleHQpO1xuICB2YXIgbmV3RGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpO1xuXG4gIHZhciBkaXJzV2l0aEluc2VydCA9IFtdO1xuICB2YXIgZGlyc1dpdGhQb3N0cGF0Y2ggPSBbXTtcblxuICB2YXIga2V5LCBvbGREaXIsIGRpcjtcbiAgZm9yIChrZXkgaW4gbmV3RGlycykge1xuICAgIG9sZERpciA9IG9sZERpcnNba2V5XTtcbiAgICBkaXIgPSBuZXdEaXJzW2tleV07XG4gICAgaWYgKCFvbGREaXIpIHtcbiAgICAgIC8vIG5ldyBkaXJlY3RpdmUsIGJpbmRcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAnYmluZCcsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmluc2VydGVkKSB7XG4gICAgICAgIGRpcnNXaXRoSW5zZXJ0LnB1c2goZGlyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXhpc3RpbmcgZGlyZWN0aXZlLCB1cGRhdGVcbiAgICAgIGRpci5vbGRWYWx1ZSA9IG9sZERpci52YWx1ZTtcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZGlyc1dpdGhJbnNlcnQuZm9yRWFjaChmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgIGNhbGxIb29rJDEoZGlyLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoaXNDcmVhdGUpIHtcbiAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLmRhdGEuaG9vayB8fCAodm5vZGUuZGF0YS5ob29rID0ge30pLCAnaW5zZXJ0JywgY2FsbEluc2VydCwgJ2Rpci1pbnNlcnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbEluc2VydCgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGgpIHtcbiAgICBtZXJnZVZOb2RlSG9vayh2bm9kZS5kYXRhLmhvb2sgfHwgKHZub2RlLmRhdGEuaG9vayA9IHt9KSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpcnNXaXRoUG9zdHBhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRpcikge1xuICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2NvbXBvbmVudFVwZGF0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfSk7XG4gICAgfSwgJ2Rpci1wb3N0cGF0Y2gnKTtcbiAgfVxuXG4gIGlmICghaXNDcmVhdGUpIHtcbiAgICBmb3IgKGtleSBpbiBvbGREaXJzKSB7XG4gICAgICBpZiAoIW5ld0RpcnNba2V5XSkge1xuICAgICAgICAvLyBubyBsb25nZXIgcHJlc2VudCwgdW5iaW5kXG4gICAgICAgIGNhbGxIb29rJDEob2xkRGlyc1trZXldLCAndW5iaW5kJywgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzJDEgKFxuICBkaXJzLFxuICB2bVxuKSB7XG4gIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoIWRpcnMpIHtcbiAgICByZXR1cm4gcmVzXG4gIH1cbiAgdmFyIGksIGRpcjtcbiAgZm9yIChpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcbiAgICBkaXIgPSBkaXJzW2ldO1xuICAgIGlmICghZGlyLm1vZGlmaWVycykge1xuICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuICAgIH1cbiAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcbiAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGdldFJhd0Rpck5hbWUgKGRpcikge1xuICByZXR1cm4gZGlyLnJhd05hbWUgfHwgKChkaXIubmFtZSkgKyBcIi5cIiArIChPYmplY3Qua2V5cyhkaXIubW9kaWZpZXJzIHx8IHt9KS5qb2luKCcuJykpKVxufVxuXG5mdW5jdGlvbiBjYWxsSG9vayQxIChkaXIsIGhvb2ssIHZub2RlLCBvbGRWbm9kZSkge1xuICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG4gIGlmIChmbikge1xuICAgIGZuKHZub2RlLmVsbSwgZGlyLCB2bm9kZSwgb2xkVm5vZGUpO1xuICB9XG59XG5cbnZhciBiYXNlTW9kdWxlcyA9IFtcbiAgcmVmLFxuICBkaXJlY3RpdmVzXG5dO1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoIW9sZFZub2RlLmRhdGEuYXR0cnMgJiYgIXZub2RlLmRhdGEuYXR0cnMpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIga2V5LCBjdXIsIG9sZDtcbiAgdmFyIGVsbSA9IHZub2RlLmVsbTtcbiAgdmFyIG9sZEF0dHJzID0gb2xkVm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcbiAgdmFyIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcbiAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG4gIGlmIChhdHRycy5fX29iX18pIHtcbiAgICBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgPSBleHRlbmQoe30sIGF0dHJzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIGF0dHJzKSB7XG4gICAgY3VyID0gYXR0cnNba2V5XTtcbiAgICBvbGQgPSBvbGRBdHRyc1trZXldO1xuICAgIGlmIChvbGQgIT09IGN1cikge1xuICAgICAgc2V0QXR0cihlbG0sIGtleSwgY3VyKTtcbiAgICB9XG4gIH1cbiAgZm9yIChrZXkgaW4gb2xkQXR0cnMpIHtcbiAgICBpZiAoYXR0cnNba2V5XSA9PSBudWxsKSB7XG4gICAgICBpZiAoaXNYbGluayhrZXkpKSB7XG4gICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcbiAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG4gICAgLy8gc2V0IGF0dHJpYnV0ZSBmb3IgYmxhbmsgdmFsdWVcbiAgICAvLyBlLmcuIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IG9uZTwvb3B0aW9uPlxuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGtleSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnID8gJ2ZhbHNlJyA6ICd0cnVlJyk7XG4gIH0gZWxzZSBpZiAoaXNYbGluayhrZXkpKSB7XG4gICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBnZXRYbGlua1Byb3Aoa2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBhdHRycyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVBdHRycyxcbiAgdXBkYXRlOiB1cGRhdGVBdHRyc1xufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTtcbiAgaWYgKCFkYXRhLnN0YXRpY0NsYXNzICYmICFkYXRhLmNsYXNzICYmXG4gICAgICAoIW9sZERhdGEgfHwgKCFvbGREYXRhLnN0YXRpY0NsYXNzICYmICFvbGREYXRhLmNsYXNzKSkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjbHMgPSBnZW5DbGFzc0ZvclZub2RlKHZub2RlKTtcblxuICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBjbGFzc2VzXG4gIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBlbC5fdHJhbnNpdGlvbkNsYXNzZXM7XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3MpIHtcbiAgICBjbHMgPSBjb25jYXQoY2xzLCBzdHJpbmdpZnlDbGFzcyh0cmFuc2l0aW9uQ2xhc3MpKTtcbiAgfVxuXG4gIC8vIHNldCB0aGUgY2xhc3NcbiAgaWYgKGNscyAhPT0gZWwuX3ByZXZDbGFzcykge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbHMpO1xuICAgIGVsLl9wcmV2Q2xhc3MgPSBjbHM7XG4gIH1cbn1cblxudmFyIGtsYXNzID0ge1xuICBjcmVhdGU6IHVwZGF0ZUNsYXNzLFxuICB1cGRhdGU6IHVwZGF0ZUNsYXNzXG59O1xuXG4vLyBza2lwIHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2Ugd2UgbmVlZCB0byBhdHRhY2ggcHJpdmF0ZSBwcm9wZXJ0aWVzXG4vLyB0byBlbGVtZW50c1xuXG5mdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoIW9sZFZub2RlLmRhdGEub24gJiYgIXZub2RlLmRhdGEub24pIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb24gPSB2bm9kZS5kYXRhLm9uIHx8IHt9O1xuICB2YXIgb2xkT24gPSBvbGRWbm9kZS5kYXRhLm9uIHx8IHt9O1xuICB2YXIgYWRkID0gdm5vZGUuZWxtLl92X2FkZCB8fCAodm5vZGUuZWxtLl92X2FkZCA9IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgIHZub2RlLmVsbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBjYXB0dXJlKTtcbiAgfSk7XG4gIHZhciByZW1vdmUgPSB2bm9kZS5lbG0uX3ZfcmVtb3ZlIHx8ICh2bm9kZS5lbG0uX3ZfcmVtb3ZlID0gZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgdm5vZGUuZWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuICB9KTtcbiAgdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkLCByZW1vdmUsIHZub2RlLmNvbnRleHQpO1xufVxuXG52YXIgZXZlbnRzID0ge1xuICBjcmVhdGU6IHVwZGF0ZURPTUxpc3RlbmVycyxcbiAgdXBkYXRlOiB1cGRhdGVET01MaXN0ZW5lcnNcbn07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVET01Qcm9wcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIGlmICghb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyAmJiAhdm5vZGUuZGF0YS5kb21Qcm9wcykge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBrZXksIGN1cjtcbiAgdmFyIGVsbSA9IHZub2RlLmVsbTtcbiAgdmFyIG9sZFByb3BzID0gb2xkVm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcbiAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcbiAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0XG4gIGlmIChwcm9wcy5fX29iX18pIHtcbiAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG4gICAgaWYgKHByb3BzW2tleV0gPT0gbnVsbCkge1xuICAgICAgZWxtW2tleV0gPSAnJztcbiAgICB9XG4gIH1cbiAgZm9yIChrZXkgaW4gcHJvcHMpIHtcbiAgICBjdXIgPSBwcm9wc1trZXldO1xuICAgIC8vIGlnbm9yZSBjaGlsZHJlbiBpZiB0aGUgbm9kZSBoYXMgdGV4dENvbnRlbnQgb3IgaW5uZXJIVE1MLFxuICAgIC8vIGFzIHRoZXNlIHdpbGwgdGhyb3cgYXdheSBleGlzdGluZyBET00gbm9kZXMgYW5kIGNhdXNlIHJlbW92YWwgZXJyb3JzXG4gICAgLy8gb24gc3Vic2VxdWVudCBwYXRjaGVzICgjMzM2MClcbiAgICBpZiAoa2V5ID09PSAndGV4dENvbnRlbnQnIHx8IGtleSA9PT0gJ2lubmVySFRNTCcpIHtcbiAgICAgIGlmICh2bm9kZS5jaGlsZHJlbikgeyB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwOyB9XG4gICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKSB7IGNvbnRpbnVlIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xuICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcbiAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWRcbiAgICAgIGVsbS5fdmFsdWUgPSBjdXI7XG4gICAgICAvLyBhdm9pZCByZXNldHRpbmcgY3Vyc29yIHBvc2l0aW9uIHdoZW4gdmFsdWUgaXMgdGhlIHNhbWVcbiAgICAgIHZhciBzdHJDdXIgPSBjdXIgPT0gbnVsbCA/ICcnIDogU3RyaW5nKGN1cik7XG4gICAgICBpZiAoZWxtLnZhbHVlICE9PSBzdHJDdXIgJiYgIWVsbS5jb21wb3NpbmcpIHtcbiAgICAgICAgZWxtLnZhbHVlID0gc3RyQ3VyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbG1ba2V5XSA9IGN1cjtcbiAgICB9XG4gIH1cbn1cblxudmFyIGRvbVByb3BzID0ge1xuICBjcmVhdGU6IHVwZGF0ZURPTVByb3BzLFxuICB1cGRhdGU6IHVwZGF0ZURPTVByb3BzXG59O1xuXG4vKiAgKi9cblxudmFyIHBhcnNlU3R5bGVUZXh0ID0gY2FjaGVkKGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGhhc0JhY2tncm91bmQgPSBjc3NUZXh0LmluZGV4T2YoJ2JhY2tncm91bmQnKSA+PSAwO1xuICAvLyBtYXliZSB3aXRoIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwOi8veHh4KSBvciBiYXNlNjQgaW1nXG4gIHZhciBsaXN0RGVsaW1pdGVyID0gaGFzQmFja2dyb3VuZCA/IC87KD8hW14oXSpcXCkpL2cgOiAnOyc7XG4gIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IGhhc0JhY2tncm91bmQgPyAvOiguKykvIDogJzonO1xuICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgdmFyIHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXIpO1xuICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJlc1t0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vLyBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgc3R5bGUgZGF0YSBvbiB0aGUgc2FtZSB2bm9kZVxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVEYXRhIChkYXRhKSB7XG4gIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyhkYXRhLnN0eWxlKTtcbiAgLy8gc3RhdGljIHN0eWxlIGlzIHByZS1wcm9jZXNzZWQgaW50byBhbiBvYmplY3QgZHVyaW5nIGNvbXBpbGF0aW9uXG4gIC8vIGFuZCBpcyBhbHdheXMgYSBmcmVzaCBvYmplY3QsIHNvIGl0J3Mgc2FmZSB0byBtZXJnZSBpbnRvIGl0XG4gIHJldHVybiBkYXRhLnN0YXRpY1N0eWxlXG4gICAgPyBleHRlbmQoZGF0YS5zdGF0aWNTdHlsZSwgc3R5bGUpXG4gICAgOiBzdHlsZVxufVxuXG4vLyBub3JtYWxpemUgcG9zc2libGUgYXJyYXkgLyBzdHJpbmcgdmFsdWVzIGludG8gT2JqZWN0XG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZUJpbmRpbmcgKGJpbmRpbmdTdHlsZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShiaW5kaW5nU3R5bGUpKSB7XG4gICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICBpZiAodHlwZW9mIGJpbmRpbmdTdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKVxuICB9XG4gIHJldHVybiBiaW5kaW5nU3R5bGVcbn1cblxuLyoqXG4gKiBwYXJlbnQgY29tcG9uZW50IHN0eWxlIHNob3VsZCBiZSBhZnRlciBjaGlsZCdzXG4gKiBzbyB0aGF0IHBhcmVudCBjb21wb25lbnQncyBzdHlsZSBjb3VsZCBvdmVycmlkZSBpdFxuICovXG5mdW5jdGlvbiBnZXRTdHlsZSAodm5vZGUsIGNoZWNrQ2hpbGQpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgc3R5bGVEYXRhO1xuXG4gIGlmIChjaGVja0NoaWxkKSB7XG4gICAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuICAgIHdoaWxlIChjaGlsZE5vZGUuY2hpbGQpIHtcbiAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jaGlsZC5fdm5vZGU7XG4gICAgICBpZiAoY2hpbGROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpKSB7XG4gICAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7XG4gICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgfVxuXG4gIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XG4gIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkge1xuICAgIGlmIChwYXJlbnROb2RlLmRhdGEgJiYgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShwYXJlbnROb2RlLmRhdGEpKSkge1xuICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG4vKiAgKi9cblxudmFyIGNzc1ZhclJFID0gL14tLS87XG52YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoY3NzVmFyUkUudGVzdChuYW1lKSkge1xuICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgZWwuc3R5bGVbbm9ybWFsaXplKG5hbWUpXSA9IHZhbDtcbiAgfVxufTtcblxudmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XG5cbnZhciB0ZXN0RWw7XG52YXIgbm9ybWFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHRlc3RFbCA9IHRlc3RFbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvcCA9IGNhbWVsaXplKHByb3ApO1xuICBpZiAocHJvcCAhPT0gJ2ZpbHRlcicgJiYgKHByb3AgaW4gdGVzdEVsLnN0eWxlKSkge1xuICAgIHJldHVybiBwcm9wXG4gIH1cbiAgdmFyIHVwcGVyID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIHVwcGVyO1xuICAgIGlmIChwcmVmaXhlZCBpbiB0ZXN0RWwuc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZFxuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XG5cbiAgaWYgKCFkYXRhLnN0YXRpY1N0eWxlICYmICFkYXRhLnN0eWxlICYmXG4gICAgICAhb2xkRGF0YS5zdGF0aWNTdHlsZSAmJiAhb2xkRGF0YS5zdHlsZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGN1ciwgbmFtZTtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGRWbm9kZS5kYXRhLnN0YXRpY1N0eWxlO1xuICB2YXIgb2xkU3R5bGVCaW5kaW5nID0gb2xkVm5vZGUuZGF0YS5zdHlsZSB8fCB7fTtcblxuICAvLyBpZiBzdGF0aWMgc3R5bGUgZXhpc3RzLCBzdHlsZWJpbmRpbmcgYWxyZWFkeSBtZXJnZWQgaW50byBpdCB3aGVuIGRvaW5nIG5vcm1hbGl6ZVN0eWxlRGF0YVxuICB2YXIgb2xkU3R5bGUgPSBvbGRTdGF0aWNTdHlsZSB8fCBvbGRTdHlsZUJpbmRpbmc7XG5cbiAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKHZub2RlLmRhdGEuc3R5bGUpIHx8IHt9O1xuXG4gIHZub2RlLmRhdGEuc3R5bGUgPSBzdHlsZS5fX29iX18gPyBleHRlbmQoe30sIHN0eWxlKSA6IHN0eWxlO1xuXG4gIHZhciBuZXdTdHlsZSA9IGdldFN0eWxlKHZub2RlLCB0cnVlKTtcblxuICBmb3IgKG5hbWUgaW4gb2xkU3R5bGUpIHtcbiAgICBpZiAobmV3U3R5bGVbbmFtZV0gPT0gbnVsbCkge1xuICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcbiAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcbiAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc3R5bGUgPSB7XG4gIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG4gIHVwZGF0ZTogdXBkYXRlU3R5bGVcbn07XG5cbi8qICAqL1xuXG4vKipcbiAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhY2xzLnRyaW0oKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcbiAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGVsLmNsYXNzTGlzdC5hZGQoYyk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBjdXIgPSAnICcgKyBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnICc7XG4gICAgaWYgKGN1ci5pbmRleE9mKCcgJyArIGNscyArICcgJykgPCAwKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGN1ciArIGNscykudHJpbSgpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cbiAqIFNWRyBlbGVtZW50cyBpbiBJRVxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyAoZWwsIGNscykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCFjbHMgfHwgIWNscy50cmltKCkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VyID0gJyAnICsgZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnO1xuICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7XG4gICAgd2hpbGUgKGN1ci5pbmRleE9mKHRhcikgPj0gMCkge1xuICAgICAgY3VyID0gY3VyLnJlcGxhY2UodGFyLCAnICcpO1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY3VyLnRyaW0oKSk7XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBoYXNUcmFuc2l0aW9uID0gaW5Ccm93c2VyICYmICFpc0lFOTtcbnZhciBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xudmFyIEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xuXG4vLyBUcmFuc2l0aW9uIHByb3BlcnR5L2V2ZW50IHNuaWZmaW5nXG52YXIgdHJhbnNpdGlvblByb3AgPSAndHJhbnNpdGlvbic7XG52YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3RyYW5zaXRpb25lbmQnO1xudmFyIGFuaW1hdGlvblByb3AgPSAnYW5pbWF0aW9uJztcbnZhciBhbmltYXRpb25FbmRFdmVudCA9ICdhbmltYXRpb25lbmQnO1xuaWYgKGhhc1RyYW5zaXRpb24pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh3aW5kb3cub250cmFuc2l0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICB0cmFuc2l0aW9uUHJvcCA9ICdXZWJraXRUcmFuc2l0aW9uJztcbiAgICB0cmFuc2l0aW9uRW5kRXZlbnQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCc7XG4gIH1cbiAgaWYgKHdpbmRvdy5vbmFuaW1hdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcbiAgfVxufVxuXG52YXIgcmFmID0gKGluQnJvd3NlciAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCBzZXRUaW1lb3V0O1xuZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcyB8fCAoZWwuX3RyYW5zaXRpb25DbGFzc2VzID0gW10pKS5wdXNoKGNscyk7XG4gIGFkZENsYXNzKGVsLCBjbHMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHJlbW92ZSQxKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcbiAgfVxuICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcbiAgZWwsXG4gIGV4cGVjdGVkVHlwZSxcbiAgY2Jcbikge1xuICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG4gIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG4gIHZhciBlbmRlZCA9IDA7XG4gIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuICAgIGNiKCk7XG4gIH07XG4gIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xufVxuXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICB2YXIgdHJhbnNpdGlvbmVEZWxheXMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRGVsYXknXS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSBzdHlsZXNbdHJhbnNpdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uZURlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XG4gIHZhciBhbmltYXRpb25EZWxheXMgPSBzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEZWxheSddLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRHVyYXRpb24nXS5zcGxpdCgnLCAnKTtcbiAgdmFyIGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcblxuICB2YXIgdHlwZTtcbiAgdmFyIHRpbWVvdXQgPSAwO1xuICB2YXIgcHJvcENvdW50ID0gMDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDBcbiAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XG4gICAgICAgID8gVFJBTlNJVElPTlxuICAgICAgICA6IEFOSU1BVElPTlxuICAgICAgOiBudWxsO1xuICAgIHByb3BDb3VudCA9IHR5cGVcbiAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxuICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgOiAwO1xuICB9XG4gIHZhciBoYXNUcmFuc2Zvcm0gPVxuICAgIHR5cGUgPT09IFRSQU5TSVRJT04gJiZcbiAgICB0cmFuc2Zvcm1SRS50ZXN0KHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdQcm9wZXJ0eSddKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgcHJvcENvdW50OiBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtOiBoYXNUcmFuc2Zvcm1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUaW1lb3V0IChkZWxheXMsIGR1cmF0aW9ucykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcbiAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XG4gIH1cblxuICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgZHVyYXRpb25zLm1hcChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHJldHVybiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pXG4gIH0pKVxufVxuXG5mdW5jdGlvbiB0b01zIChzKSB7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkpICogMTAwMFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW50ZXIgKHZub2RlKSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuICBpZiAoZWwuX2xlYXZlQ2IpIHtcbiAgICBlbC5fbGVhdmVDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9sZWF2ZUNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmICghZGF0YSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChlbC5fZW50ZXJDYiB8fCBlbC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGNzcyA9IGRhdGEuY3NzO1xuICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgdmFyIGVudGVyQ2xhc3MgPSBkYXRhLmVudGVyQ2xhc3M7XG4gIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuICB2YXIgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzO1xuICB2YXIgYmVmb3JlRW50ZXIgPSBkYXRhLmJlZm9yZUVudGVyO1xuICB2YXIgZW50ZXIgPSBkYXRhLmVudGVyO1xuICB2YXIgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkID0gZGF0YS5lbnRlckNhbmNlbGxlZDtcbiAgdmFyIGJlZm9yZUFwcGVhciA9IGRhdGEuYmVmb3JlQXBwZWFyO1xuICB2YXIgYXBwZWFyID0gZGF0YS5hcHBlYXI7XG4gIHZhciBhZnRlckFwcGVhciA9IGRhdGEuYWZ0ZXJBcHBlYXI7XG4gIHZhciBhcHBlYXJDYW5jZWxsZWQgPSBkYXRhLmFwcGVhckNhbmNlbGxlZDtcblxuICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzXG4gIC8vIHRyYW5zaXRpb24uIE9uZSBlZGdlIGNhc2UgdG8gY2hlY2sgaXMgd2hlbiB0aGUgPHRyYW5zaXRpb24+IGlzIHBsYWNlZFxuICAvLyBhcyB0aGUgcm9vdCBub2RlIG9mIGEgY2hpbGQgY29tcG9uZW50LiBJbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byBjaGVja1xuICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay5cbiAgdmFyIHRyYW5zaXRpb25Ob2RlID0gYWN0aXZlSW5zdGFuY2UuJHZub2RlO1xuICB2YXIgY29udGV4dCA9IHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudFxuICAgID8gdHJhbnNpdGlvbk5vZGUucGFyZW50LmNvbnRleHRcbiAgICA6IGFjdGl2ZUluc3RhbmNlO1xuXG4gIHZhciBpc0FwcGVhciA9ICFjb250ZXh0Ll9pc01vdW50ZWQgfHwgIXZub2RlLmlzUm9vdEluc2VydDtcblxuICBpZiAoaXNBcHBlYXIgJiYgIWFwcGVhciAmJiBhcHBlYXIgIT09ICcnKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyID8gYXBwZWFyQ2xhc3MgOiBlbnRlckNsYXNzO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVySG9vayA9IGlzQXBwZWFyID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcikgOiBiZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVySG9vayA9IGlzQXBwZWFyID8gKHR5cGVvZiBhcHBlYXIgPT09ICdmdW5jdGlvbicgPyBhcHBlYXIgOiBlbnRlcikgOiBlbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIgPyAoYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlcikgOiBhZnRlckVudGVyO1xuICB2YXIgZW50ZXJDYW5jZWxsZWRIb29rID0gaXNBcHBlYXIgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKSA6IGVudGVyQ2FuY2VsbGVkO1xuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID1cbiAgICBlbnRlckhvb2sgJiZcbiAgICAvLyBlbnRlckhvb2sgbWF5IGJlIGEgYm91bmQgbWV0aG9kIHdoaWNoIGV4cG9zZXNcbiAgICAvLyB0aGUgbGVuZ3RoIG9mIG9yaWdpbmFsIGZuIGFzIF9sZW5ndGhcbiAgICAoZW50ZXJIb29rLl9sZW5ndGggfHwgZW50ZXJIb29rLmxlbmd0aCkgPiAxO1xuXG4gIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgfVxuICAgICAgZW50ZXJDYW5jZWxsZWRIb29rICYmIGVudGVyQ2FuY2VsbGVkSG9vayhlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyRW50ZXJIb29rICYmIGFmdGVyRW50ZXJIb29rKGVsKTtcbiAgICB9XG4gICAgZWwuX2VudGVyQ2IgPSBudWxsO1xuICB9KTtcblxuICBpZiAoIXZub2RlLmRhdGEuc2hvdykge1xuICAgIC8vIHJlbW92ZSBwZW5kaW5nIGxlYXZlIGVsZW1lbnQgb24gZW50ZXIgYnkgaW5qZWN0aW5nIGFuIGluc2VydCBob29rXG4gICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUuZGF0YS5ob29rIHx8ICh2bm9kZS5kYXRhLmhvb2sgPSB7fSksICdpbnNlcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIHZhciBwZW5kaW5nTm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmcgJiYgcGFyZW50Ll9wZW5kaW5nW3Zub2RlLmtleV07XG4gICAgICBpZiAocGVuZGluZ05vZGUgJiYgcGVuZGluZ05vZGUudGFnID09PSB2bm9kZS50YWcgJiYgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKSB7XG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuICAgICAgfVxuICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICAgIH0sICd0cmFuc2l0aW9uLWluc2VydCcpO1xuICB9XG5cbiAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcbiAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAodm5vZGUuZGF0YS5zaG93KSB7XG4gICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICB9XG5cbiAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgY2IoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBsZWF2ZSAodm5vZGUsIHJtKSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGVudGVyIGNhbGxiYWNrIG5vd1xuICBpZiAoZWwuX2VudGVyQ2IpIHtcbiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9lbnRlckNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmICghZGF0YSkge1xuICAgIHJldHVybiBybSgpXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGVsLl9sZWF2ZUNiIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3NzID0gZGF0YS5jc3M7XG4gIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcbiAgdmFyIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3M7XG4gIHZhciBiZWZvcmVMZWF2ZSA9IGRhdGEuYmVmb3JlTGVhdmU7XG4gIHZhciBsZWF2ZSA9IGRhdGEubGVhdmU7XG4gIHZhciBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlO1xuICB2YXIgbGVhdmVDYW5jZWxsZWQgPSBkYXRhLmxlYXZlQ2FuY2VsbGVkO1xuICB2YXIgZGVsYXlMZWF2ZSA9IGRhdGEuZGVsYXlMZWF2ZTtcblxuICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xuICB2YXIgdXNlcldhbnRzQ29udHJvbCA9XG4gICAgbGVhdmUgJiZcbiAgICAvLyBsZWF2ZSBob29rIG1heSBiZSBhIGJvdW5kIG1ldGhvZCB3aGljaCBleHBvc2VzXG4gICAgLy8gdGhlIGxlbmd0aCBvZiBvcmlnaW5hbCBmbiBhcyBfbGVuZ3RoXG4gICAgKGxlYXZlLl9sZW5ndGggfHwgbGVhdmUubGVuZ3RoKSA+IDE7XG5cbiAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG4gICAgfVxuICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybUxlYXZlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG4gICAgICAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyB8fCAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyA9IHt9KSlbdm5vZGUua2V5XSA9IHZub2RlO1xuICAgIH1cbiAgICBiZWZvcmVMZWF2ZSAmJiBiZWZvcmVMZWF2ZShlbCk7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgICAgaWYgKCFjYi5jYW5jZWxsZWQgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGxlYXZlICYmIGxlYXZlKGVsLCBjYik7XG4gICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbiAoZGVmJCQxKSB7XG4gIGlmICghZGVmJCQxKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIGlmIChkZWYkJDEuY3NzICE9PSBmYWxzZSkge1xuICAgICAgZXh0ZW5kKHJlcywgYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxLm5hbWUgfHwgJ3YnKSk7XG4gICAgfVxuICAgIGV4dGVuZChyZXMsIGRlZiQkMSk7XG4gICAgcmV0dXJuIHJlc1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWYkJDEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMSlcbiAgfVxufVxuXG52YXIgYXV0b0Nzc1RyYW5zaXRpb24gPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnRlckNsYXNzOiAobmFtZSArIFwiLWVudGVyXCIpLFxuICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG4gICAgYXBwZWFyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG4gICAgZW50ZXJBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1lbnRlci1hY3RpdmVcIiksXG4gICAgbGVhdmVBY3RpdmVDbGFzczogKG5hbWUgKyBcIi1sZWF2ZS1hY3RpdmVcIiksXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpXG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBvbmNlIChmbikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmbigpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdHJhbnNpdGlvbiA9IGluQnJvd3NlciA/IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKF8sIHZub2RlKSB7XG4gICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAgIGVudGVyKHZub2RlKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlICh2bm9kZSwgcm0pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XG4gICAgICBsZWF2ZSh2bm9kZSwgcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBybSgpO1xuICAgIH1cbiAgfVxufSA6IHt9O1xuXG52YXIgcGxhdGZvcm1Nb2R1bGVzID0gW1xuICBhdHRycyxcbiAga2xhc3MsXG4gIGV2ZW50cyxcbiAgZG9tUHJvcHMsXG4gIHN0eWxlLFxuICB0cmFuc2l0aW9uXG5dO1xuXG4vKiAgKi9cblxuLy8gdGhlIGRpcmVjdGl2ZSBtb2R1bGUgc2hvdWxkIGJlIGFwcGxpZWQgbGFzdCwgYWZ0ZXIgYWxsXG4vLyBidWlsdC1pbiBtb2R1bGVzIGhhdmUgYmVlbiBhcHBsaWVkLlxudmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTtcblxudmFyIHBhdGNoJDEgPSBjcmVhdGVQYXRjaEZ1bmN0aW9uKHsgbm9kZU9wczogbm9kZU9wcywgbW9kdWxlczogbW9kdWxlcyB9KTtcblxuLyoqXG4gKiBOb3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgbGlrZSBhdHRhY2hpbmdcbiAqIHByb3BlcnRpZXMgdG8gRWxlbWVudHMuXG4gKi9cblxudmFyIG1vZGVsYWJsZVRhZ1JFID0gL15pbnB1dHxzZWxlY3R8dGV4dGFyZWF8dnVlLWNvbXBvbmVudC1bMC05XSsoLVswLTlhLXpBLVpfLV0qKT8kLztcblxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAoaXNJRTkpIHtcbiAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHtcbiAgICAgIHRyaWdnZXIoZWwsICdpbnB1dCcpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBtb2RlbCA9IHtcbiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCFtb2RlbGFibGVUYWdSRS50ZXN0KHZub2RlLnRhZykpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcInYtbW9kZWwgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50IHR5cGU6IDxcIiArICh2bm9kZS50YWcpICsgXCI+LiBcIiArXG4gICAgICAgICAgJ0lmIHlvdSBhcmUgd29ya2luZyB3aXRoIGNvbnRlbnRlZGl0YWJsZSwgaXRcXCdzIHJlY29tbWVuZGVkIHRvICcgK1xuICAgICAgICAgICd3cmFwIGEgbGlicmFyeSBkZWRpY2F0ZWQgZm9yIHRoYXQgcHVycG9zZSBpbnNpZGUgYSBjdXN0b20gY29tcG9uZW50LicsXG4gICAgICAgICAgdm5vZGUuY29udGV4dFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7XG4gICAgICB9O1xuICAgICAgY2IoKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGVsLnR5cGUgPT09ICd0ZXh0JykgJiZcbiAgICAgICFiaW5kaW5nLm1vZGlmaWVycy5sYXp5XG4gICAgKSB7XG4gICAgICBpZiAoIWlzQW5kcm9pZCkge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGlzSUU5KSB7XG4gICAgICAgIGVsLnZtb2RlbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcbiAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlXG4gICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGVsLm9wdGlvbnMpOyB9KVxuICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiYgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBlbC5vcHRpb25zKTtcbiAgICAgIGlmIChuZWVkUmVzZXQpIHtcbiAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gb3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb25zW2ldKSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUgKG9wdGlvbikge1xuICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uXG4gICAgPyBvcHRpb24uX3ZhbHVlXG4gICAgOiBvcHRpb24udmFsdWVcbn1cblxuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0IChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQgKGUpIHtcbiAgZS50YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG4gIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpO1xufVxuXG5mdW5jdGlvbiB0cmlnZ2VyIChlbCwgdHlwZSkge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xufVxuXG4vKiAgKi9cblxuLy8gcmVjdXJzaXZlbHkgc2VhcmNoIGZvciBwb3NzaWJsZSB0cmFuc2l0aW9uIGRlZmluZWQgaW5zaWRlIHRoZSBjb21wb25lbnQgcm9vdFxuZnVuY3Rpb24gbG9jYXRlTm9kZSAodm5vZGUpIHtcbiAgcmV0dXJuIHZub2RlLmNoaWxkICYmICghdm5vZGUuZGF0YSB8fCAhdm5vZGUuZGF0YS50cmFuc2l0aW9uKVxuICAgID8gbG9jYXRlTm9kZSh2bm9kZS5jaGlsZC5fdm5vZGUpXG4gICAgOiB2bm9kZVxufVxuXG52YXIgc2hvdyA9IHtcbiAgYmluZDogZnVuY3Rpb24gYmluZCAoZWwsIHJlZiwgdm5vZGUpIHtcbiAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7XG5cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHZhbHVlICYmIHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG4gICAgICBlbnRlcih2bm9kZSk7XG4gICAgfVxuICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gb3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuICAgIGVsLl9fdk9yaWdpbmFsRGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuICAgIHZhciBvbGRWYWx1ZSA9IHJlZi5vbGRWYWx1ZTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHsgcmV0dXJuIH1cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgIWlzSUU5KSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZW50ZXIodm5vZGUpO1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhdmUodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcbiAgbW9kZWw6IG1vZGVsLFxuICBzaG93OiBzaG93XG59O1xuXG4vKiAgKi9cblxuLy8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBhIHNpbmdsZSBlbGVtZW50L2NvbXBvbmVudC5cbi8vIHN1cHBvcnRzIHRyYW5zaXRpb24gbW9kZSAob3V0LWluIC8gaW4tb3V0KVxuXG52YXIgdHJhbnNpdGlvblByb3BzID0ge1xuICBuYW1lOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgY3NzOiBCb29sZWFuLFxuICBtb2RlOiBTdHJpbmcsXG4gIHR5cGU6IFN0cmluZyxcbiAgZW50ZXJDbGFzczogU3RyaW5nLFxuICBsZWF2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICBhcHBlYXJDbGFzczogU3RyaW5nLFxuICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nXG59O1xuXG4vLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG4gIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2bm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuICB2YXIgZGF0YSA9IHt9O1xuICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG4gIC8vIHByb3BzXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcbiAgfVxuICAvLyBldmVudHMuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdLmZuO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuICByZXR1cm4gL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpXG4gICAgPyBoKCdrZWVwLWFsaXZlJylcbiAgICA6IG51bGxcbn1cblxuZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbiAodm5vZGUpIHtcbiAgd2hpbGUgKCh2bm9kZSA9IHZub2RlLnBhcmVudCkpIHtcbiAgICBpZiAodm5vZGUuZGF0YS50cmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG52YXIgVHJhbnNpdGlvbiA9IHtcbiAgbmFtZTogJ3RyYW5zaXRpb24nLFxuICBwcm9wczogdHJhbnNpdGlvblByb3BzLFxuICBhYnN0cmFjdDogdHJ1ZSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWc7IH0pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyB3YXJuIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgd2FybihcbiAgICAgICAgJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQuIFVzZSAnICtcbiAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyxcbiAgICAgICAgdGhpcy4kcGFyZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuXG4gICAgLy8gd2FybiBpbnZhbGlkIG1vZGVcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICBtb2RlICYmIG1vZGUgIT09ICdpbi1vdXQnICYmIG1vZGUgIT09ICdvdXQtaW4nKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgcmF3Q2hpbGQgPSBjaGlsZHJlblswXTtcblxuICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3NcbiAgICAvLyBwYXJlbnQgY29udGFpbmVyIG5vZGUgYWxzbyBoYXMgdHJhbnNpdGlvbiwgc2tpcC5cbiAgICBpZiAoaGFzUGFyZW50VHJhbnNpdGlvbih0aGlzLiR2bm9kZSkpIHtcbiAgICAgIHJldHVybiByYXdDaGlsZFxuICAgIH1cblxuICAgIC8vIGFwcGx5IHRyYW5zaXRpb24gZGF0YSB0byBjaGlsZFxuICAgIC8vIHVzZSBnZXRSZWFsQ2hpbGQoKSB0byBpZ25vcmUgYWJzdHJhY3QgY29tcG9uZW50cyBlLmcuIGtlZXAtYWxpdmVcbiAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY2hpbGQpIHtcbiAgICAgIHJldHVybiByYXdDaGlsZFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9sZWF2aW5nKSB7XG4gICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG4gICAgfVxuXG4gICAgdmFyIGtleSA9IGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsIHx8IGNoaWxkLmlzU3RhdGljXG4gICAgICA/IChcIl9fdlwiICsgKGNoaWxkLnRhZyArIHRoaXMuX3VpZCkgKyBcIl9fXCIpXG4gICAgICA6IGNoaWxkLmtleTtcbiAgICB2YXIgZGF0YSA9IChjaGlsZC5kYXRhIHx8IChjaGlsZC5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpO1xuICAgIHZhciBvbGRSYXdDaGlsZCA9IHRoaXMuX3Zub2RlO1xuICAgIHZhciBvbGRDaGlsZCA9IGdldFJlYWxDaGlsZChvbGRSYXdDaGlsZCk7XG5cbiAgICAvLyBtYXJrIHYtc2hvd1xuICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZVxuICAgIGlmIChjaGlsZC5kYXRhLmRpcmVjdGl2ZXMgJiYgY2hpbGQuZGF0YS5kaXJlY3RpdmVzLnNvbWUoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZSA9PT0gJ3Nob3cnOyB9KSkge1xuICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob2xkQ2hpbGQgJiYgb2xkQ2hpbGQuZGF0YSAmJiBvbGRDaGlsZC5rZXkgIT09IGtleSkge1xuICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG4gICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG4gICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG5cbiAgICAgIC8vIGhhbmRsZSB0cmFuc2l0aW9uIG1vZGVcbiAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xuICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcbiAgICAgICAgdGhpcy5fbGVhdmluZyA9IHRydWU7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdhZnRlckxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMkMS5fbGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMkMS4kZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfSwga2V5KTtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKVxuICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0Jykge1xuICAgICAgICB2YXIgZGVsYXllZExlYXZlO1xuICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkgeyBkZWxheWVkTGVhdmUoKTsgfTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2FmdGVyRW50ZXInLCBwZXJmb3JtTGVhdmUsIGtleSk7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSwga2V5KTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHtcbiAgICAgICAgICBkZWxheWVkTGVhdmUgPSBsZWF2ZTtcbiAgICAgICAgfSwga2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmF3Q2hpbGRcbiAgfVxufTtcblxuLyogICovXG5cbi8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgbGlzdCBpdGVtcy5cbi8vIHN1cHBvcnRzIG1vdmUgdHJhbnNpdGlvbnMgdXNpbmcgdGhlIEZMSVAgdGVjaG5pcXVlLlxuXG4vLyBCZWNhdXNlIHRoZSB2ZG9tJ3MgY2hpbGRyZW4gdXBkYXRlIGFsZ29yaXRobSBpcyBcInVuc3RhYmxlXCIgLSBpLmUuXG4vLyBpdCBkb2Vzbid0IGd1YXJhbnRlZSB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcmVtb3ZlZCBlbGVtZW50cyxcbi8vIHdlIGZvcmNlIHRyYW5zaXRpb24tZ3JvdXAgdG8gdXBkYXRlIGl0cyBjaGlsZHJlbiBpbnRvIHR3byBwYXNzZXM6XG4vLyBpbiB0aGUgZmlyc3QgcGFzcywgd2UgcmVtb3ZlIGFsbCBub2RlcyB0aGF0IG5lZWQgdG8gYmUgcmVtb3ZlZCxcbi8vIHRyaWdnZXJpbmcgdGhlaXIgbGVhdmluZyB0cmFuc2l0aW9uOyBpbiB0aGUgc2Vjb25kIHBhc3MsIHdlIGluc2VydC9tb3ZlXG4vLyBpbnRvIHRoZSBmaW5hbCBkaXNpcmVkIHN0YXRlLiBUaGlzIHdheSBpbiB0aGUgc2Vjb25kIHBhc3MgcmVtb3ZlZFxuLy8gbm9kZXMgd2lsbCByZW1haW4gd2hlcmUgdGhleSBzaG91bGQgYmUuXG5cbnZhciBwcm9wcyA9IGV4dGVuZCh7XG4gIHRhZzogU3RyaW5nLFxuICBtb3ZlQ2xhc3M6IFN0cmluZ1xufSwgdHJhbnNpdGlvblByb3BzKTtcblxuZGVsZXRlIHByb3BzLm1vZGU7XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPSB7XG4gIHByb3BzOiBwcm9wcyxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkge1xuICAgIHZhciB0YWcgPSB0aGlzLnRhZyB8fCB0aGlzLiR2bm9kZS5kYXRhLnRhZyB8fCAnc3Bhbic7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICB2YXIgcmF3Q2hpbGRyZW4gPSB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdO1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IHJhd0NoaWxkcmVuW2ldO1xuICAgICAgaWYgKGMudGFnKSB7XG4gICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChjKTtcbiAgICAgICAgICBtYXBbYy5rZXldID0gY1xuICAgICAgICAgIDsoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIG9wdHMgPSBjLmNvbXBvbmVudE9wdGlvbnM7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvcHRzXG4gICAgICAgICAgICA/IChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKVxuICAgICAgICAgICAgOiBjLnRhZztcbiAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcbiAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuICB9LFxuXG4gIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlICgpIHtcbiAgICAvLyBmb3JjZSByZW1vdmluZyBwYXNzXG4gICAgdGhpcy5fX3BhdGNoX18oXG4gICAgICB0aGlzLl92bm9kZSxcbiAgICAgIHRoaXMua2VwdCxcbiAgICAgIGZhbHNlLCAvLyBoeWRyYXRpbmdcbiAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuICAgICk7XG4gICAgdGhpcy5fdm5vZGUgPSB0aGlzLmtlcHQ7XG4gIH0sXG5cbiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCAoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47XG4gICAgdmFyIG1vdmVDbGFzcyA9IHRoaXMubW92ZUNsYXNzIHx8ICgodGhpcy5uYW1lIHx8ICd2JykgKyAnLW1vdmUnKTtcbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5oYXNNb3ZlKGNoaWxkcmVuWzBdLmVsbSwgbW92ZUNsYXNzKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXG4gICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXG4gICAgY2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChhcHBseVRyYW5zbGF0aW9uKTtcblxuICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxuICAgIHZhciBmID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjLmRhdGEubW92ZWQpIHtcbiAgICAgICAgdmFyIGVsID0gYy5lbG07XG4gICAgICAgIHZhciBzID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBlbC5fbW92ZUNiID0gZnVuY3Rpb24gY2IgKGUpIHtcbiAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgY2IpO1xuICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgaGFzTW92ZTogZnVuY3Rpb24gaGFzTW92ZSAoZWwsIG1vdmVDbGFzcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5faGFzTW92ZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNNb3ZlXG4gICAgICB9XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGVsKTtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChjLmVsbS5fbW92ZUNiKSB7XG4gICAgYy5lbG0uX21vdmVDYigpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcbiAgICBjLmVsbS5fZW50ZXJDYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG4gIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcbiAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG4gIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgfVxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxufTtcblxuLyogICovXG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblZ1ZSQyLmNvbmZpZy5pc1Vua25vd25FbGVtZW50ID0gaXNVbmtub3duRWxlbWVudDtcblZ1ZSQyLmNvbmZpZy5pc1Jlc2VydmVkVGFnID0gaXNSZXNlcnZlZFRhZztcblZ1ZSQyLmNvbmZpZy5nZXRUYWdOYW1lc3BhY2UgPSBnZXRUYWdOYW1lc3BhY2U7XG5WdWUkMi5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBydW50aW1lIGRpcmVjdGl2ZXMgJiBjb21wb25lbnRzXG5leHRlbmQoVnVlJDIub3B0aW9ucy5kaXJlY3RpdmVzLCBwbGF0Zm9ybURpcmVjdGl2ZXMpO1xuZXh0ZW5kKFZ1ZSQyLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuVnVlJDIucHJvdG90eXBlLl9fcGF0Y2hfXyA9IGluQnJvd3NlciA/IHBhdGNoJDEgOiBub29wO1xuXG4vLyB3cmFwIG1vdW50XG5WdWUkMi5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiB0aGlzLl9tb3VudChlbCwgaHlkcmF0aW5nKVxufTtcblxuLy8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgaWYgKGNvbmZpZy5kZXZ0b29scykge1xuICAgIGlmIChkZXZ0b29scykge1xuICAgICAgZGV2dG9vbHMuZW1pdCgnaW5pdCcsIFZ1ZSQyKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgaW5Ccm93c2VyICYmIC9DaHJvbWVcXC9cXGQrLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICkge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOlxcbicgK1xuICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcbiAgICAgICk7XG4gICAgfVxuICB9XG59LCAwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWdWUkMjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlL2Rpc3QvdnVlLnJ1bnRpbWUuY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi00ZDY2NzAyMCFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTRkNjY3MDIwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi00ZDY2NzAyMCEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaW5kZXgudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zYXNzL2ZvbnRlbGxvL2Nzcy9mb250ZWxsby5jc3NcIiksIFwiXCIpO1xuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImZvb3RlcjphZnRlcixoZWFkZXI6YWZ0ZXJ7Y29udGVudDonICc7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5leHBhbmQteS1lbnRlci1hY3RpdmUsLmV4cGFuZC15LWxlYXZlLWFjdGl2ZSwubW9kYWwtZW50ZXItYWN0aXZlLC5tb2RhbC1sZWF2ZS1hY3RpdmUsLnBsYXllci1tb3JlLWVudGVyLWFjdGl2ZSwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5leHBhbmQteS1lbnRlciwuZXhwYW5kLXktbGVhdmUtYWN0aXZlLC5tb2RhbC1lbnRlciwubW9kYWwtbGVhdmUtYWN0aXZlLC5wbGF5ZXItbW9yZS1lbnRlciwucGxheWVyLW1vcmUtbGVhdmUtYWN0aXZle3RyYW5zZm9ybTpzY2FsZVkoMCl9LnBsYXllci1tb3JlLWVudGVyLC5wbGF5ZXItbW9yZS1lbnRlci1hY3RpdmUsLnBsYXllci1tb3JlLWxlYXZlLWFjdGl2ZXt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciB0b3B9I2JvZHksLmFwcCxib2R5LGh0bWx7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MH1ib2R5e2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xpbmUtaGVpZ2h0OjE4cHh9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9LmFwcHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn1mb290ZXIsaGVhZGVye3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfWZvb3RlciAubGVmdCxoZWFkZXIgLmxlZnR7ZmxvYXQ6bGVmdH1mb290ZXIgLnJpZ2h0LGhlYWRlciAucmlnaHR7ZmxvYXQ6cmlnaHR9Zm9vdGVyIC5jZW50ZXIsaGVhZGVyIC5jZW50ZXJ7bWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXJ9Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3tkaXNwbGF5OmlubGluZS1ibG9ja31AbWVkaWEgKG1heC13aWR0aDo1NDBweCl7Zm9vdGVyIC5tb2JpbGUtcm93LGhlYWRlciAubW9iaWxlLXJvd3twYWRkaW5nLWJvdHRvbToxMHB4O2Rpc3BsYXk6YmxvY2t9Zm9vdGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGQsaGVhZGVyIC5tb2JpbGUtcm93Omxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH19Lmx5cmljLWVkaXRvcnstbXMtZmxleDoxO2ZsZXg6MTtvdmVyZmxvdzphdXRvfS5mb3JtLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NXB4IDA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uZm9ybS1ncm91cCBsYWJlbHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZy1yaWdodDoxMHB4fS5mb3JtLWdyb3VwIGlucHV0ey1tcy1mbGV4OjE7ZmxleDoxO2hlaWdodDozMHB4O2JvcmRlcjoxcHggc29saWQgI2Q2ZDZkNjtwYWRkaW5nOjAgM3B4O2JvcmRlci1yYWRpdXM6NXB4fS5tZW51LWl0ZW17ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6I2ZmZjtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3BhZGRpbmc6MCA4cHg7Y3Vyc29yOnBvaW50ZXJ9Lm1lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMwZDQ4ODR9LmJ0bntib3JkZXItcmFkaXVzOjVweDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjZweDtmb250LXdlaWdodDpib2xkZXI7Y3Vyc29yOnBvaW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQ6IzExNjFiMztjb2xvcjojZmZmfS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTI0Yjg2fS5idG4ud2hpdGUsZm9vdGVyIC5idG4saGVhZGVyIC5idG57YmFja2dyb3VuZDojZmZmO2NvbG9yOiMxMTYxYjN9LmJ0bi53aGl0ZTpob3Zlcixmb290ZXIgLmJ0bjpob3ZlcixoZWFkZXIgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOGUxZTF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTRkNjY3MDIwIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGZvbnQtZmFjZXtmb250LWZhbWlseTpmb250ZWxsbztzcmM6dXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uZW90PzQwMzU4MjY3XCIpICsgXCIpO3NyYzp1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby5lb3Q/NDAzNTgyNjdcIikgKyBcIiNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLndvZmYyPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSx1cmwoXCIgKyByZXF1aXJlKFwiLi4vZm9udC9mb250ZWxsby53b2ZmPzQwMzU4MjY3XCIpICsgXCIpIGZvcm1hdCgnd29mZicpLHVybChcIiArIHJlcXVpcmUoXCIuLi9mb250L2ZvbnRlbGxvLnR0Zj80MDM1ODI2N1wiKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKFwiICsgcmVxdWlyZShcIi4uL2ZvbnQvZm9udGVsbG8uc3ZnPzQwMzU4MjY3XCIpICsgXCIjZm9udGVsbG8pIGZvcm1hdCgnc3ZnJyk7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3R5bGU6bm9ybWFsfVtjbGFzcyo9XFxcIiBpY29uLVxcXCJdOmJlZm9yZSxbY2xhc3NePWljb24tXTpiZWZvcmV7Zm9udC1mYW1pbHk6Zm9udGVsbG87Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO3NwZWFrOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2lkdGg6MWVtO21hcmdpbi1yaWdodDouMmVtO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtdmFyaWFudDpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtsaW5lLWhlaWdodDoxZW07bWFyZ2luLWxlZnQ6LjJlbTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX0uaWNvbi1lZGl0OmJlZm9yZXtjb250ZW50OidcXFxcRTgwMCd9Lmljb24tc2F2ZTpiZWZvcmV7Y29udGVudDonXFxcXEU4MDEnfS5pY29uLXRyYXNoOmJlZm9yZXtjb250ZW50OidcXFxcRTgwMid9Lmljb24tZG93bmxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODAzJ30uaWNvbi11cGxvYWQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA0J30uaWNvbi1yaWdodDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDUnfS5pY29uLWxlZnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA2J30uaWNvbi11cDpiZWZvcmV7Y29udGVudDonXFxcXEU4MDcnfS5pY29uLWRvd246YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODA4J30uaWNvbi12b2x1bWUtb2ZmOmJlZm9yZXtjb250ZW50OidcXFxcRTgwOSd9Lmljb24tdm9sdW1lLXVwOmJlZm9yZXtjb250ZW50OidcXFxcRTgwQSd9Lmljb24tcGx1czpiZWZvcmV7Y29udGVudDonXFxcXEU4MEQnfS5pY29uLWNhbmNlbDpiZWZvcmV7Y29udGVudDonXFxcXEU4MEUnfS5pY29uLWVsbGlwc2lzLXZlcnQ6YmVmb3Jle2NvbnRlbnQ6J1xcXFxFODBGJ30uaWNvbi1pbmZvOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMCd9Lmljb24taGVscC1jaXJjbGVkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMSd9Lmljb24tcGxheTpiZWZvcmV7Y29udGVudDonXFxcXEU4MTInfS5pY29uLXBhdXNlOmJlZm9yZXtjb250ZW50OidcXFxcRTgxMyd9Lmljb24tZm9yd2FyZDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTQnfS5pY29uLWJhY2t3YXJkOmJlZm9yZXtjb250ZW50OidcXFxcRTgxNSd9Lmljb24tc3RvcDpiZWZvcmV7Y29udGVudDonXFxcXEU4MTYnfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuL2FwcC9zYXNzL2ZvbnRlbGxvL2Nzcy9mb250ZWxsby5jc3Ncbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmJiNGFlMDgwODRiN2E5MDBiZmUxYzcwM2M5ODhmMzQuZW90XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLmVvdD80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMzEzYTBmOTg3NjcyZGM3N2E4YzI0MzM4MGUyMDg5ZS53b2ZmMlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby53b2ZmMj80MDM1ODI2N1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0Y2M5MzAxNjNmNmQ1MDg4ZGZhNWZlZjYxOWQ4N2NiOS53b2ZmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvc2Fzcy9mb250ZWxsby9mb250L2ZvbnRlbGxvLndvZmY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI0ODM1NDQzMDNmY2ZjN2UxZTM0MTU5YTQxMWZjZGNiLnR0ZlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby50dGY/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY0MDM3ZjhkMTZmNDMzNzliMTgwMjA3MDZiZGM5NTY3LnN2Z1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3Nhc3MvZm9udGVsbG8vZm9udC9mb250ZWxsby5zdmc/NDAzNTgyNjdcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW87XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gbWVtbztcblx0XHR9O1xuXHR9LFxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdH0pLFxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblx0fSksXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG5cdFx0aWYobmV3T2JqKSB7XG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlcztcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdGlmIChtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2phdmFzY3JpcHQtZGVidWdnaW5nXG5cdFx0Ly8gdGhpcyBtYWtlcyBzb3VyY2UgbWFwcyBpbnNpZGUgc3R5bGUgdGFncyB3b3JrIHByb3Blcmx5IGluIENocm9tZVxuXHRcdGNzcyArPSAnXFxuLyojIHNvdXJjZVVSTD0nICsgc291cmNlTWFwLnNvdXJjZXNbMF0gKyAnICovJztcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiYXBwXCI+XG4gICAgPGhlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxuYXYtbWVudSBjbGFzcz1cIm1lbnUtaXRlbVwiIDp0aXRsZT1cIiR0KCdidXR0b24udXBsb2FkJylcIj5cbiAgICAgICAgICA8ZGl2IHNsb3Q9XCJ0YXJnZXRcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi11cGxvYWRcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIHNsb3Q9XCJsaXN0XCI+XG4gICAgICAgICAgICA8bGkgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2xyYy1mb3JtYXQtdXBsb2FkJylcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXVwbG9hZFwiPjwvaT4ge3sgJHQoJ21lbnUudXBsb2FkLmxyYycpIH19XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIEBjbGljaz1cIiRyZWZzLm1vZGFscy5zaG93KCdseXJpYy11cGxvYWQnKVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPiB7eyAkdCgnbWVudS51cGxvYWQubHlyaWMnKSB9fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPHVwbG9hZCBhY2NlcHQ9XCJhdWRpby8qXCIgcmVhZC1mb3JtYXQ9XCJEYXRhVVJMXCIgQHVwbG9hZGVkPVwidXBsb2FkTXVzaWNcIj57eyAkdCgnbWVudS51cGxvYWQubXVzaWMnKX19PC91cGxvYWQ+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbmF2LW1lbnU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCIkcmVmcy5tb2RhbHMuc2hvdygnbHJjLXNhdmUnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uc2F2ZScpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXNhdmVcIj48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIEBjbGljaz1cImVkaXRpbmc9IWVkaXRpbmdcIiA6dGl0bGU9XCJlZGl0aW5nID8gJHQoJ2J1dHRvbi5jbG9zZV9lZGl0JykgOiAkdCgnYnV0dG9uLm9wZW5fZWRpdCcpXCI+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1pdGVtXCIgQGNsaWNrPVwiJHJlZnMubW9kYWxzLnNob3coJ2hlbHAnKVwiIDp0aXRsZT1cIiR0KCdidXR0b24uaGVscCcpXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJpY29uLWhlbHAtY2lyY2xlZFwiPjwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2hlYWRlcj5cblxuICAgIDxwbGF5ZXJcbiAgICAgIDpzcmM9XCJtdXNpY1VybFwiXG4gICAgICBAdGltZXVwZGF0ZT1cInRpbWV1cGRhdGVcIlxuICAgICAgcmVmPVwicGxheWVyXCI+XG4gICAgPC9wbGF5ZXI+XG5cbiAgICA8bHlyaWMtZWRpdG9yXG4gICAgICBjbGFzcz1cImx5cmljLWVkaXRvclwiXG4gICAgICA6ZWRpdGluZz1cImVkaXRpbmdcIlxuICAgICAgOnJ1bm5lcj1cInJ1bm5lclwiXG4gICAgICA6bHlyaWMtYXJyYXk9XCJseXJpY0FycmF5XCJcbiAgICAgIDpwbGF5dG89XCJwbGF5dG9cIlxuICAgICAgcmVmPVwibHlyaWNcIj5cbiAgICAgIGx5cmljIGVkaXRvclxuICAgIDwvbHlyaWMtZWRpdG9yPlxuXG4gICAgPGZvb3Rlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBAY2xpY2s9XCJyZW1vdmVMeXJpY1wiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2J1dHRvbi5yZW1vdmVfbHlyaWMnKSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0XCIgdi1pZj1cImVkaXRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIHRpdGxlPVwiW1VQXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCdwcmV2bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ucHJldl9seXJpYycpIH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiB0aXRsZT1cIltET1dOXVwiIEBjbGljaz1cIiRyZWZzLmx5cmljLiRlbWl0KCduZXh0bHlyaWMnKVwiPnt7ICR0KCdidXR0b24ubmV4dF9seXJpYycpIH19PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvb3Rlcj5cblxuICAgIDxtb2RhbHMgcmVmPVwibW9kYWxzXCI+PC9tb2RhbHM+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2luZGV4JztcblxuaHRtbCwgYm9keSwgI2JvZHksIC5hcHAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDA7XG59XG5cbmJvZHkge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBsaW5lLWhlaWdodDogMThweDtcbn1cblxuKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5hcHAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG5oZWFkZXIsIGZvb3RlciB7XG4gIEBleHRlbmQgJXJvdztcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWNvbG9yO1xuICAubGVmdCB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gIH1cbiAgLmNlbnRlciB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAubW9iaWxlLXJvdyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIEBpbmNsdWRlIG1vYmlsZSB7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi5seXJpYy1lZGl0b3Ige1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiA1cHggMDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbGFiZWwge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgfVxuICBpbnB1dCB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI0Q2RDZENjtcbiAgICBwYWRkaW5nOiAwIDNweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIH1cbn1cblxuLm1lbnUtaXRlbSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgY29sb3I6IHdoaXRlO1xuICAkaGVpZ2h0OiA0MHB4O1xuICBoZWlnaHQ6ICRoZWlnaHQ7XG4gIGxpbmUtaGVpZ2h0OiAkaGVpZ2h0O1xuICBwYWRkaW5nOiAwIDhweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oJGJsdWUtY29sb3IsIDEwJSk7XG4gIH1cbn1cblxuLmJ0biB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICBiYWNrZ3JvdW5kOiAjMTE2MUIzO1xuICBjb2xvcjogd2hpdGU7XG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjRCODY7XG4gIH1cblxuICBoZWFkZXIgJixcbiAgZm9vdGVyICYsXG4gICYud2hpdGUsXG4gIHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBjb2xvcjogIzExNjFCMztcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFOEUxRTE7XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgVXBsb2FkIGZyb20gJy4vdXBsb2FkJ1xuICBpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJ1xuICBpbXBvcnQgTHlyaWNFZGl0b3IgZnJvbSAnLi9seXJpYy1lZGl0b3InXG4gIGltcG9ydCBNb2RhbHMgZnJvbSAnLi9tb2RhbHMnXG4gIC8vIGltcG9ydCBNZW51IGZyb20gJy4vbWVudSdcbiAgaW1wb3J0IE5hdk1lbnUgZnJvbSAnLi9uYXYtbWVudSdcbiAgaW1wb3J0IHtMcmMsIFJ1bm5lcn0gZnJvbSAnbHJjLWtpdCdcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUnXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICB2YXIgbHJjRm9ybWF0ID0gY2FjaGUubHJjRm9ybWF0XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG11c2ljVXJsOiAnJyxcbiAgICAgICAgZWRpdGluZzogY2FjaGUuZWRpdGluZyxcblxuICAgICAgICBscmNGb3JtYXQ6IGxyY0Zvcm1hdCxcbiAgICAgICAgcnVubmVyOiBuZXcgUnVubmVyKExyYy5wYXJzZShscmNGb3JtYXQpKSxcbiAgICAgICAgbHlyaWNBcnJheTogY2FjaGUubHlyaWNBcnJheVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHdpbmRvdy4kQXBwID0gdGhpc1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgdXBsb2FkTXVzaWMobXVzaWMpIHtcbiAgICAgICAgLy8gY2FjaGUubXVzaWMgPSBtdXNpY1xuICAgICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmMgPSBtdXNpY1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUx5cmljKCkge1xuICAgICAgICB0aGlzLmxyY0Zvcm1hdCA9ICcnXG4gICAgICAgIHRoaXMubHlyaWNBcnJheSA9IFtdXG4gICAgICAgIHRoaXMucnVubmVyID0gbmV3IFJ1bm5lcigpXG4gICAgICB9LFxuICAgICAgcGxheXRvKHRpbWUpIHtcbiAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheXRvKHRpbWUpXG4gICAgICB9LFxuICAgICAgdGltZXVwZGF0ZSh0aW1lc3RhbXApIHtcbiAgICAgICAgdGhpcy4kcmVmcy5seXJpYy4kZW1pdCgndGltZXVwZGF0ZScsIHRpbWVzdGFtcClcbiAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgZWRpdGluZyh2YWwpIHtcbiAgICAgICAgY2FjaGUuZWRpdGluZyA9IHZhbFxuICAgICAgfSxcbiAgICAgIGxyY0Zvcm1hdCh2YWwpIHtcbiAgICAgICAgY2FjaGUubHJjRm9ybWF0ID0gdmFsXG4gICAgICAgIHRoaXMucnVubmVyID0gbmV3IFJ1bm5lcihMcmMucGFyc2UodGhpcy5scmNGb3JtYXQpKVxuICAgICAgfSxcbiAgICAgIGx5cmljQXJyYXk6IHtcbiAgICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICBjYWNoZS5seXJpY0FycmF5ID0gdGhpcy5seXJpY0FycmF5XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgVXBsb2FkLFxuICAgICAgUGxheWVyLFxuICAgICAgTHlyaWNFZGl0b3IsXG4gICAgICBNb2RhbHMsXG4gICAgICAvLyBNZW51LFxuICAgICAgTmF2TWVudSxcbiAgICB9LFxuICB9XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC52dWU/YjA5YTU3NmEiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtMjcwMjQxMjMhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtMjcwMjQxMjNcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi91cGxvYWQudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdXBsb2FkLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC91cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0W3R5cGU9ZmlsZV1bZGF0YS12LTI3MDI0MTIzXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTI3MDI0MTIzJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3VwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBAY2xpY2s9XCJ1cGxvYWRcIj5cbiAgICA8aSBjbGFzcz1cImljb24tdXBsb2FkXCI+PC9pPlxuICAgIDxzbG90Pjwvc2xvdD5cbiAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiA6YWNjZXB0PVwiYWNjZXB0XCIgcmVmPVwidXBsb2FkXCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5pbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuZXhwb3J0IGRlZmF1bHQge1xuICBtb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdXBsb2FkID0gdGhpcy4kcmVmcy51cGxvYWRcbiAgICB1cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy4kZW1pdCgndXBsb2FkZWQnLCBldmVudC50YXJnZXQucmVzdWx0KVxuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZC5maWxlcy5sZW5ndGggPiAwICYmIHRoaXMudHlwZV9tYXRjaCgpKSB7XG4gICAgICAgIHJlYWRlclsncmVhZEFzJyArIHRoaXMucmVhZEZvcm1hdF0odXBsb2FkLmZpbGVzWzBdKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgcmVhZEZvcm1hdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ1RleHQnLFxuICAgIH0sXG4gICAgYWNjZXB0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgdXBsb2FkKCkge1xuICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xpY2soKVxuICAgIH0sXG4gICAgdHlwZV9tYXRjaCgpIHtcbiAgICAgIGlmICh0aGlzLnR5cGUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gbmV3IFJlZ0V4cChgXiR7dGhpcy50eXBlfS9gKVxuICAgICAgICByZXR1cm4gbWF0Y2gudGVzdCh0aGlzLiRyZWZzLnVwbG9hZC5maWxlc1swXS50eXBlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB1cGxvYWQudnVlPzRiN2VkZTU3IiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0udXBsb2FkXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcbiAgfSksIFwiIFwiLCBfdm0uX3QoXCJkZWZhdWx0XCIpLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICByZWY6IFwidXBsb2FkXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidHlwZVwiOiBcImZpbGVcIixcbiAgICAgIFwiYWNjZXB0XCI6IF92bS5hY2NlcHRcbiAgICB9XG4gIH0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi0yNzAyNDEyMyEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC91cGxvYWQudnVlXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtOWIyOTQzZmEhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtOWIyOTQzZmFcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTliMjk0M2ZhJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9wbGF5ZXIudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcGxheWVyLnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9wbGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5yb290W2RhdGEtdi05YjI5NDNmYV17aGVpZ2h0OjMwcHh9LnJvb3QubW9iaWxlW2RhdGEtdi05YjI5NDNmYV17aGVpZ2h0OjYwcHh9Lm1vcmVbZGF0YS12LTliMjk0M2ZhXSwucGxheWVyW2RhdGEtdi05YjI5NDNmYV0sLnNvdW5kW2RhdGEtdi05YjI5NDNmYV17ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmp1c3RpZnk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59Lm1vcmVbZGF0YS12LTliMjk0M2ZhXSwucGxheWVyW2RhdGEtdi05YjI5NDNmYV17YmFja2dyb3VuZDojZDBkYWU0O2NvbG9yOiMxMTYxYjM7aGVpZ2h0OjMwcHh9LmN0cmwtYnRuW2RhdGEtdi05YjI5NDNmYV17Zm9udC1zaXplOjIwcHg7cGFkZGluZzowIDFweH0ucmFuZ2VbZGF0YS12LTliMjk0M2ZhXXttYXJnaW4tbGVmdDo0cHg7bWFyZ2luLXJpZ2h0OjRweH0ucmFuZ2UubXVzaWNbZGF0YS12LTliMjk0M2ZhXXstbXMtZmxleDoxO2ZsZXg6MX10aW1lLXBhbmVsW2RhdGEtdi05YjI5NDNmYV17cGFkZGluZzowIDVweH0ubW9yZVtkYXRhLXYtOWIyOTQzZmFde2hlaWdodDozMHB4Oy1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjEwfS5tb2JpbGUgLm1vcmVbZGF0YS12LTliMjk0M2ZhXXstbXMtZmxleC1wYWNrOmp1c3RpZnk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LnNvdW5kW2RhdGEtdi05YjI5NDNmYV17cGFkZGluZzowIDVweDt3aWR0aDozMCV9LnNvdW5kIC5yYW5nZS52b2x1bWVbZGF0YS12LTliMjk0M2ZhXXstbXMtZmxleDoxO2ZsZXg6MX0uc291bmQgLmN0cmwtbXV0ZS1idG5bZGF0YS12LTliMjk0M2ZhXXt3aWR0aDoyNnB4O2ZvbnQtc2l6ZToxOHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi05YjI5NDNmYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9wbGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJyb290XCIgOmNsYXNzPVwie21vYmlsZTogaXNNb2JpbGV9XCIgdi1zaG93PVwic3JjLmxlbmd0aFwiIEBtb3VzZW92ZXI9XCJob3Zlcj10cnVlXCIgQG1vdXNlbGVhdmU9XCJob3Zlcj1mYWxzZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjdHJsLWJ0blwiIHRpdGxlPVwiW1NQQUNFXVwiIEBjbGljaz1cInBhdXNlZCA9ICFwYXVzZWRcIj5cbiAgICAgICAgPGkgdi1pZj1cInBhdXNlZFwiIGNsYXNzPVwiaWNvbi1wbGF5XCI+PC9pPlxuICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XCJpY29uLXBhdXNlXCI+PC9pPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3RybC1idG5cIiB0aXRsZT1cIltMRUZUXVwiIEBjbGljaz1cIiRlbWl0KCdiYWNrd2FyZCcpXCI+XG4gICAgICAgIDxpIGNsYXNzPVwiaWNvbi1iYWNrd2FyZFwiPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImN0cmwtYnRuXCIgdGl0bGU9XCJbUklHSFRdXCIgQGNsaWNrPVwiJGVtaXQoJ2ZvcndhcmQnKVwiPlxuICAgICAgICA8aSBjbGFzcz1cImljb24tZm9yd2FyZFwiPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgICAgPHJhbmdlIGNsYXNzPVwicmFuZ2UgbXVzaWNcIiA6dmFsdWU9XCJwcm9jZXNzXCIgQHNlZWs9XCJzZWVrXCIgcmVmPVwibXVzaWNSYW5nZVwiPjwvcmFuZ2U+XG4gICAgICA8dGltZS1wYW5lbCB2LWlmPVwiIWlzTW9iaWxlXCIgOmR1cmF0aW9uPVwiZHVyYXRpb25cIiA6Y3VycmVudC10aW1lPVwiY3VycmVudFRpbWVcIj48L3RpbWUtcGFuZWw+XG4gICAgPC9kaXY+XG4gICAgPHRyYW5zaXRpb24gbmFtZT1cInBsYXllci1tb3JlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9yZVwiIHYtc2hvdz1cImlzTW9iaWxlIHx8IGhvdmVyXCI+XG4gICAgICAgIDx0aW1lLXBhbmVsIHYtaWY9XCJpc01vYmlsZVwiIDpkdXJhdGlvbj1cImR1cmF0aW9uXCIgOmN1cnJlbnQtdGltZT1cImN1cnJlbnRUaW1lXCI+PC90aW1lLXBhbmVsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic291bmRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3RybC1idG5cIiBAY2xpY2s9XCJtdXRlZCA9ICFtdXRlZFwiPlxuICAgICAgICAgICAgPGkgdi1pZj1cIm11dGVkIHx8IHZvbHVtZSA9PSAwXCIgY2xhc3M9XCJpY29uLXZvbHVtZS1vZmZcIj48L2k+XG4gICAgICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XCJpY29uLXZvbHVtZS11cFwiPjwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cmFuZ2UgY2xhc3M9XCJyYW5nZSB2b2x1bWVcIiA6dmFsdWU9XCJ2b2x1bWVcIiBAc2Vlaz1cInZvbHVtZVNlZWtcIiBAZHJhZy1zZWVrPVwidm9sdW1lU2Vla1wiIHJlZj1cInNvdW5kUmFuZ2VcIj48L3JhbmdlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5AaW1wb3J0IFwic2Fzcy9iYXNlXCI7XG5cbiRsaW5lLWhlaWdodDogMzBweDtcblxuLnJvb3Qge1xuICBoZWlnaHQ6ICRsaW5lLWhlaWdodDtcbiAgJi5tb2JpbGUge1xuICAgIGhlaWdodDogJGxpbmUtaGVpZ2h0ICogMjtcbiAgfVxufVxuXG4lZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuJWxpbmUge1xuICBAZXh0ZW5kICVmbGV4O1xuICBiYWNrZ3JvdW5kOiAjRDBEQUU0O1xuICBjb2xvcjogJGJsdWUtY29sb3I7XG4gIGhlaWdodDogJGxpbmUtaGVpZ2h0O1xufVxuXG4ucGxheWVyIHtcbiAgQGV4dGVuZCAlbGluZTtcbn1cblxuLmN0cmwtYnRuIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBwYWRkaW5nOiAwIDFweDtcbn1cblxuLnJhbmdlIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbi5yYW5nZS5tdXNpYyB7XG4gIGZsZXg6IDE7XG59XG5cbnRpbWUtcGFuZWwge1xuICBwYWRkaW5nOiAwIDVweDtcbn1cblxuLm1vcmUge1xuICBAZXh0ZW5kICVsaW5lO1xuICBoZWlnaHQ6ICRsaW5lLWhlaWdodDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgLm1vYmlsZSAmIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxMDtcbn1cblxuLnNvdW5kIHtcbiAgQGV4dGVuZCAlZmxleDtcbiAgcGFkZGluZzogMCA1cHg7XG4gIHdpZHRoOiAzMCU7XG4gIC5yYW5nZS52b2x1bWUge1xuICAgIGZsZXg6IDE7XG4gIH1cbiAgLmN0cmwtbXV0ZS1idG4ge1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxufVxuXG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IFJhbmdlIGZyb20gJy4vcmFuZ2UnXG5pbXBvcnQgVGltZVBhbmVsIGZyb20gJy4vdGltZS1wYW5lbCdcbmltcG9ydCB7Z2xvYmFsS2V5ZG93biwgaXNNb2JpbGV9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaG92ZXI6IGZhbHNlLFxuICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuXG4gICAgICBwcm9jZXNzOiAwLFxuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIHZvbHVtZTogMCxcbiAgICAgIHNyYzogJycsXG4gICAgICBhdWRpbzogbnVsbCxcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZWVrKHBlcmNlbnQpIHtcbiAgICAgIHRoaXMucGxheXRvKHBhcnNlRmxvYXQocGVyY2VudCAqIHRoaXMuYXVkaW8uZHVyYXRpb24pKVxuICAgIH0sXG4gICAgdm9sdW1lU2VlayhwZXJjZW50KSB7XG4gICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lID0gcGVyY2VudFxuICAgIH0sXG4gICAgcGxheXRvKHRpbWUpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgICAvLyBNYXliZSBub3QgdW5kZXJzdGFuZCB3aHkgaGVyZSB1c2UgYG5leHRUaWNrYFxuICAgICAgLy8gVGhpcydzIGJ1ZyBvZiBjaHJvbWUsIGRhdGFVUkwgbXVzaWMgd2lsbCBvdmVybGFwIHBsYXkgd2hlbiBjaGFuZ2UgY3VycmVudFRpbWUgYmVmb3JlIGNhbGwgYGF1ZGlvLnBsYXkoKWBcbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSB0aW1lXG4gICAgICB9KVxuICAgIH0sXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJylcbiAgICB0aGlzLmF1ZGlvLnByZWxvYWQgPSAnbWV0YWRhdGEnXG4gICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsICgpID0+IHtcbiAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmF1ZGlvLmR1cmF0aW9uXG4gICAgfSlcbiAgICAvLyBUT0RPIG9uIHByb2dyZXNzXG4gICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWVcbiAgICAgIHRoaXMucHJvY2VzcyA9IHRoaXMuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uXG4gICAgICB0aGlzLiRlbWl0KCd0aW1ldXBkYXRlJywgdGhpcy5jdXJyZW50VGltZSlcbiAgICB9KVxuICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLiRlbWl0KCd0aW1ldXBkYXRlJywgdGhpcy5jdXJyZW50VGltZSlcbiAgICAgIHRoaXMucHJvY2VzcyA9IDBcbiAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZVxuICAgIH0pXG4gICAgZ2xvYmFsS2V5ZG93blxuICAgIC5vbignc3BhY2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLnBhdXNlZCA9ICF0aGlzLnBhdXNlZFxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcbiAgICAub24oJ2Fycm93bGVmdCcsICgpID0+IHtcbiAgICAgIHRoaXMuJGVtaXQoJ2JhY2t3YXJkJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG4gICAgLm9uKCdhcnJvd3JpZ2h0JywgKCkgPT4ge1xuICAgICAgdGhpcy4kZW1pdCgnZm9yd2FyZCcpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9KVxuXG5cbiAgICB0aGlzXG4gICAgICAuJG9uKCdiYWNrd2FyZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbGF5dG8odGhpcy5hdWRpby5jdXJyZW50VGltZSAtIDUpXG4gICAgICB9KVxuICAgICAgLiRvbignZm9yd2FyZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbGF5dG8odGhpcy5hdWRpby5jdXJyZW50VGltZSArIDUpXG4gICAgICB9KVxuICB9LFxuICB3YXRjaDoge1xuICAgIHNyYzoge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgICAgaGFuZGxlcihzcmMpIHtcbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZVxuICAgICAgICAgIHRoaXMuYXVkaW8uc3JjID0gc3JjXG4gICAgICAgICAgdGhpcy5wcm9jZXNzID0gMFxuICAgICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5hdWRpby52b2x1bWVcbiAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5hdWRpby5jdXJyZW50VGltZVxuICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmF1ZGlvLmR1cmF0aW9uXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgICBwcm9jZXNzKHZhbCkge1xuICAgICAgdGhpcy4kcmVmcy5tdXNpY1JhbmdlLmNoYW5nZVZhbHVlKHZhbClcbiAgICB9LFxuICAgIHZvbHVtZSh2YWwpIHtcbiAgICAgIHRoaXMuJHJlZnMuc291bmRSYW5nZS5jaGFuZ2VWYWx1ZSh2YWwpXG4gICAgfSxcbiAgICBtdXRlZCh2YWwpIHtcbiAgICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSB2YWxcbiAgICB9LFxuICAgIHBhdXNlZCgpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFJhbmdlLFxuICAgIFRpbWVQYW5lbCxcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHBsYXllci52dWU/M2IwOWYxYTgiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9yYW5nZS52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTUwYmI1MzBiIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtNTBiYjUzMGJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvcmFuZ2UudnVlXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTBiYjUzMGImc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3JhbmdlLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vcmFuZ2UudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3JhbmdlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYmFyW2RhdGEtdi01MGJiNTMwYl17cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwcHh9LndyYXBbZGF0YS12LTUwYmI1MzBiXXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6IzEyM2I1ZDtib3JkZXItcmFkaXVzOjVweDtvdmVyZmxvdzpoaWRkZW59LnZhbHVlW2RhdGEtdi01MGJiNTMwYl17aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojMTE2MWIzfS50aHVtYltkYXRhLXYtNTBiYjUzMGJde2N1cnNvcjptb3ZlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotM3B4O3dpZHRoOjEwcHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwYjIwMzE7Ym9yZGVyLXJhZGl1czoxNnB4O3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MGJiNTMwYiZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9yYW5nZS52dWVcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImJhclwiIEBjbGljaz1cImNsaWNrXCIgcmVmPVwiYmFyXCI+XG4gICAgPGRpdiBjbGFzcz1cIndyYXBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiIDpzdHlsZT1cInt3aWR0aDogc2VsZlZhbHVlKjEwMCArICclJ31cIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidGh1bWJcIiA6c3R5bGU9XCJ7bGVmdDogc2VsZlZhbHVlKjEwMCArICclJ31cIiByZWY9XCJ0aHVtYlwiPjwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbkBpbXBvcnQgXCJzYXNzL2Jhc2VcIjtcblxuJHJvb3QtaGVpZ2h0OiAxMHB4O1xuXG4uYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6ICRyb290LWhlaWdodDtcbn1cblxuLndyYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTIzQjVEO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi52YWx1ZSB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJsdWUtY29sb3I7XG59XG5cbi50aHVtYiB7XG4gICR3aWR0aDogMTBweDtcbiAgJGhlaWdodDogMTZweDtcblxuICBjdXJzb3I6IG1vdmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtKCRoZWlnaHQgLSAkcm9vdC1oZWlnaHQpIC8gMjtcbiAgd2lkdGg6ICR3aWR0aDtcbiAgaGVpZ2h0OiAkaGVpZ2h0O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm94LXNoYWRvdzogaW5zZXQgLTFweCAtMXB4IDVweCAtMnB4ICMwQjIwMzE7XG4gIGJvcmRlci1yYWRpdXM6ICRoZWlnaHQ7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtJHdpZHRoIC8gMik7XG59XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHtEcmFnZ2VyfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGZWYWx1ZTogMCxcbiAgICAgIGRyYWdpbmc6IGZhbHNlLFxuICAgICAgZHJhZ1ZhbHVlOiAwLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICAgIHZhbGlkYXRvcjogKHZhbCkgPT4ge1xuICAgICAgICByZXR1cm4gdmFsID49IDAgJiYgdmFsIDw9IDFcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLiRyZWZzLnRodW1iKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShldmVudC5vZmZzZXRYKVxuICAgICAgdGhpcy5lbWl0U2VlaygpXG4gICAgfSxcbiAgICBlbWl0U2VlaygpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3NlZWsnLCB0aGlzLnNlbGZWYWx1ZSlcbiAgICB9LFxuICAgIGVtaXREcmFnU2VlaygpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2RyYWctc2VlaycsIHRoaXMuc2VsZlZhbHVlKVxuICAgIH0sXG4gICAgb2Zmc2V0MnZhbHVlKG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCAvIHRoaXMuJHJlZnMuYmFyLmNsaWVudFdpZHRoXG4gICAgfSxcbiAgICBjaGFuZ2VWYWx1ZSh2YWx1ZSkge1xuICAgICAgaWYgKCEgdGhpcy5kcmFnaW5nKSB7XG4gICAgICAgIHRoaXMuc2VsZlZhbHVlID0gdmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYlxuICAgIHZhciBiYXIgPSB0aGlzLiRyZWZzLmJhclxuXG4gICAgdmFyIGRyYWdnZXIgPSBuZXcgRHJhZ2dlcih0aHVtYiwgYmFyKVxuICAgIGRyYWdnZXJcbiAgICAub24oJ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gdHJ1ZVxuICAgIH0pXG4gICAgLm9uKCdtb3ZlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZWxmVmFsdWUgPSB0aGlzLm9mZnNldDJ2YWx1ZShkcmFnZ2VyLm9mZnNldClcbiAgICAgIHRoaXMuZW1pdERyYWdTZWVrKClcbiAgICB9KVxuICAgIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5kcmFnaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuc2VsZlZhbHVlID0gdGhpcy5vZmZzZXQydmFsdWUoZHJhZ2dlci5vZmZzZXQpXG4gICAgICB0aGlzLmVtaXRTZWVrKClcbiAgICB9KVxuICAgIGRyYWdnZXIuY3JlYXRlKClcbiAgfSxcbn1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJhbmdlLnZ1ZT8wMTMwYjRjNSIsImltcG9ydCBFdmVudEVtaXR0ZXIyIGZyb20gJ2V2ZW50ZW1pdHRlcjInXG5pbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGVzYXZlci5qcydcbmltcG9ydCBVbmlkcmFnZ2VyIGZyb20gJ3VuaWRyYWdnZXInXG5pbXBvcnQgaXMgZnJvbSAnaXNfanMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2V4dGVuZCdcbmltcG9ydCBjbG9uZSBmcm9tICdjbG9uZSdcblxuZXhwb3J0IHZhciBpc01vYmlsZSA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpXG5cbmV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIyIHtcbiAgb24oZXZlbnRzLCAuLi5hcmdzKSB7XG4gICAgaWYgKGlzLmFycmF5KGV2ZW50cykpIHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgICBzdXBlci5vbihpdCwgLi4uYXJncylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLm9uKGV2ZW50cywgLi4uYXJncylcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2Nyb2xsZXIge1xuICB0aW1lciA9IFtdXG4gIHNjcm9sbGFibGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpXG5cbiAgY29uc3RydWN0b3Iodmlld3BvcnQsIGNvbmZpZz17fSkge1xuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuICAgIHRoaXMuY29uZmlnID0gZXh0ZW5kKHtkZWxheTogMywgdGltZToxLCBzdGVwOiAxMDB9LCBjb25maWcpXG5cbiAgICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGlmICghIHRoaXMuaXNDYW5TY3JvbGwoKSkge1xuICAgICAgICB0aGlzLmxldERlbGF5KClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgbGV0RGVsYXkoKSB7XG4gICAgdGhpcy5zY3JvbGxhYmxlU3RhcnRUaW1lID0gRGF0ZS5ub3coKSArIHRoaXMuY29uZmlnLmRlbGF5ICogMTAwMFxuICB9XG5cbiAgY2xlYXJUaW1lcigpIHtcbiAgICB0aGlzLnRpbWVyLmZvckVhY2goKGl0KSA9PiBjbGVhclRpbWVvdXQoaXQpKVxuICAgIHRoaXMudGltZXIgPSBbXVxuICB9XG5cbiAgaXNDYW5TY3JvbGwoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgPiB0aGlzLnNjcm9sbGFibGVTdGFydFRpbWVcbiAgfVxuXG4gIHNjcm9sbFRvKHRhcmdldFRvcCwgZm9yY2U9ZmFsc2UpIHtcbiAgICBpZiAoISB0aGlzLmlzQ2FuU2Nyb2xsKCkgJiYgZm9yY2UgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgdGhpcy5jbGVhclRpbWVyKClcblxuICAgIHZhciBzdGFydFRvcCA9IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wXG4gICAgdmFyIGVuZFRvcCA9IHRhcmdldFRvcFxuICAgIHZhciBkaWZmVG9wID0gZW5kVG9wIC0gc3RhcnRUb3BcbiAgICBpZiAoZGlmZlRvcCA9PT0gMClcbiAgICAgIHJldHVyblxuXG4gICAgdmFyIHBlclN0ZXAgPSBkaWZmVG9wIC8gdGhpcy5jb25maWcuc3RlcFxuXG4gICAgdmFyIGN1clRvcCA9IHN0YXJ0VG9wXG4gICAgZm9yICh2YXIgaT0xOyBpIDwgdGhpcy5jb25maWcuc3RlcDsgKytpKSB7XG4gICAgICAoKGkpID0+IHtcbiAgICAgICAgdGhpcy50aW1lci5wdXNoKHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChjdXJUb3AgIT09IHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKVxuICAgICAgICAgICAgdGhpcy5sZXREZWxheSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wID0gc3RhcnRUb3AgKyBwZXJTdGVwICogaVxuICAgICAgICAgICAgY3VyVG9wID0gdGhpcy52aWV3cG9ydC5zY3JvbGxUb3BcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuY29uZmlnLnRpbWUgKiAxMDAwICogaSAvIHRoaXMuY29uZmlnLnN0ZXApKVxuICAgICAgfSkoaSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGF5SG92ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBzdGF0aWMgTGFzdEhvdmVyID0gbnVsbFxuICBlbnRlclRpbWVyID0gbnVsbFxuICBsZWF2ZVRpbWVyID0gbnVsbFxuICBzaG93ID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWc9e30pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuY2ZnID0gZXh0ZW5kKHtcbiAgICAgIGVudGVyRGVsYXk6IDAuNSxcbiAgICAgIGxlYXZlRGVsYXk6IDAuMyxcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICB9LCBjb25maWcpXG5cbiAgICB0aGlzLmhvdmVyKCgpID0+IHtcbiAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3cgPSBmYWxzZVxuICAgIH0pXG5cbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdykge1xuICAgICAgICAgIHRoaXMuZW1pdCgnbGVhdmUnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xvc2VMYXN0SG92ZXIoKVxuICAgICAgICAgIHRoaXMuZW1pdCgnZW50ZXInKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGVhckxlYXZlVGltZXIoKVxuICAgICAgICB0aGlzLmVudGVyVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlTGFzdEhvdmVyKClcbiAgICAgICAgICBEZWxheUhvdmVyLkxhc3RIb3ZlciA9IHRoaXNcbiAgICAgICAgICB0aGlzLmVtaXQoJ2VudGVyJylcbiAgICAgICAgfSwgMTAwMCAqIHRoaXMuY2ZnLmVudGVyRGVsYXkpXG4gICAgICB9KVxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJFbnRlclRpbWVyKClcbiAgICAgICAgdGhpcy5sZWF2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdsZWF2ZScpXG4gICAgICAgIH0sIDEwMDAgKiB0aGlzLmNmZy5sZWF2ZURlbGF5KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjbG9zZUxhc3RIb3ZlcigpIHtcbiAgICBpZiAodGhpcy5jZmcudW5pcXVlXG4gICAgICAgICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyXG4gICAgICAgICYmIERlbGF5SG92ZXIuTGFzdEhvdmVyICE9IHRoaXNcbiAgICAgICApIHtcbiAgICAgIERlbGF5SG92ZXIuTGFzdEhvdmVyLmVtaXQoJ2xlYXZlJylcbiAgICB9XG4gIH1cblxuICBjbGVhckxlYXZlVGltZXIoKSB7XG4gICAgaWYgKHRoaXMubGVhdmVUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lcilcbiAgICAgIHRoaXMubGVhdmVUaW1lciA9IG51bGxcbiAgICB9XG4gIH1cblxuICBjbGVhckVudGVyVGltZXIoKSB7XG4gICAgaWYgKHRoaXMuZW50ZXJUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lcilcbiAgICAgIHRoaXMuZW50ZXJUaW1lciA9IG51bGxcbiAgICB9XG4gIH1cblxuICBob3ZlcihlbnRlciwgbGVhdmUpIHtcbiAgICB0aGlzXG4gICAgLm9uKCdlbnRlcicsIGVudGVyKVxuICAgIC5vbignbGVhdmUnLCBsZWF2ZSlcbiAgfVxufVxuXG52YXIgaXNGaWxlU2F2ZXJTdXBwb3J0ZWRcbnRyeSB7XG4gIGlzRmlsZVNhdmVyU3VwcG9ydGVkID0gISFuZXcgQmxvYlxufSBjYXRjaCAoZSkge1xuICBpc0ZpbGVTYXZlclN1cHBvcnRlZCA9IGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlTHJjKHN0ciwgbmFtZSkge1xuICBpZiAoaXNGaWxlU2F2ZXJTdXBwb3J0ZWQpIHtcbiAgICBGaWxlU2F2ZXIuc2F2ZUFzKFxuICAgICAgbmV3IEJsb2IoW3N0cl0sIHt0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04J30pLFxuICAgICAgYCR7bmFtZX0ubHJjYFxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBhbGVydCgnUGxlYXNlIHVwZ3JhZGUgeW91ciBicm93c2VyJylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FjaGUge1xuICB2ZXJzaW9uID0gMlxuXG4gIGNvbnN0cnVjdG9yKHByZWZpeCA9ICdscmMnKSB7XG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXhcbiAgfVxuXG4gIHJlYWQoKSB7XG4gICAgdmFyIGRhdGFcbiAgICBpZiAodGhpcy5wcmVmaXggaW4gbG9jYWxTdG9yYWdlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICB9XG4gICAgICBpZiAoZGF0YS4kdmVyc2lvbiA9PT0gdGhpcy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7fVxuICB9XG5cbiAgd3JpdGUoZGF0YSkge1xuICAgIGRhdGEuJHZlcnNpb24gPSB0aGlzLnZlcnNpb25cbiAgICBsb2NhbFN0b3JhZ2VbdGhpcy5wcmVmaXhdID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgfVxuXG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5yZWFkKClcbiAgICByZXR1cm4gKGtleSBpbiBkYXRhKSA/IGRhdGFba2V5XSA6IGRlZmF1bHRWYWx1ZVxuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMucmVhZCgpXG4gICAgZGF0YVtrZXldID0gdmFsdWVcbiAgICB0cnkge1xuICAgICAgdGhpcy53cml0ZShkYXRhKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdmFyIGNhY2hlID0gbmV3IENhY2hlKClcblxuZXhwb3J0IHZhciBnbG9iYWxLZXlkb3duID0gbmV3IEV2ZW50RW1pdHRlcigpXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICBpZiAoLyhpbnB1dHxzZWxlY3R8b3B0aW9ufHRleHRhcmVhKS8udGVzdChcbiAgICBldmVudC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuICApIHJldHVyblxuXG4gIHZhciBjb2RlID0gZXZlbnQuY29kZS50b0xvd2VyQ2FzZSgpXG4gIHZhciByZXN1bHRzID0gZ2xvYmFsS2V5ZG93bi5saXN0ZW5lcnMoY29kZSkubWFwKChmbikgPT4ge1xuICAgIHJldHVybiBmbihldmVudCkgPT09IGZhbHNlXG4gIH0pXG4gIGlmIChyZXN1bHRzLmxlbmd0aCkge1xuICAgIHZhciBoYXNGYWxzZSA9IGZhbHNlXG4gICAgcmVzdWx0cy5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgaWYgKGl0KSBoYXNGYWxzZSA9IHRydWVcbiAgICB9KVxuICAgIGlmIChoYXNGYWxzZSkgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG59KVxuXG5cbmV4cG9ydCBjbGFzcyBEcmFnZ2VyIGV4dGVuZHMgVW5pZHJhZ2dlciB7XG4gIGNvbnN0cnVjdG9yKGVsZW0sIGNvbnRhaW5lcikge1xuICAgIHN1cGVyKGVsZW0pXG4gICAgdGhpcy5lZSA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICB9XG5cbiAgb24oLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmVlLm9uKC4uLmFyZ3MpXG4gIH1cblxuICBlbWl0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lZS5lbWl0KC4uLmFyZ3MpXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdGhpcy5oYW5kbGVzID0gWyB0aGlzLmVsZW1lbnQgXVxuICAgIHRoaXMuYmluZEhhbmRsZXMoKVxuICB9XG5cbiAgZHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ID0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnRcbiAgICB0aGlzLmVtaXQoJ3N0YXJ0JywgZXZlbnQpXG4gIH1cblxuICBkcmFnTW92ZShldmVudCwgcG9pbnRlciwgbW92ZVZlY3Rvcikge1xuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5kcmFnU3RhcnRQb2ludC5sZWZ0ICsgbW92ZVZlY3Rvci54XG4gICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkge1xuICAgICAgdGhpcy5vZmZzZXQgPSAwXG4gICAgfSBlbHNlIGlmICh0aGlzLm9mZnNldCA+IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoXG4gICAgfVxuICAgIHRoaXMuZW1pdCgnbW92ZScsIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yKVxuICB9XG5cbiAgZHJhZ0VuZChldmVudCwgcG9pbnRlcikge1xuICAgIHRoaXMuZW1pdCgnZW5kJywgZXZlbnQsIHBvaW50ZXIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcDJ0aW1lc3RyKHRpbWUsIG9ubHlJbnRlZ2VyPWZhbHNlKSB7XG4gIGlmICghIHRpbWUpXG4gICAgdGltZSA9IDBcbiAgdmFyIHBhZFplcm8gPSAobnVtLCBzaXplPTIpID0+IHtcbiAgICBudW0gPSBudW0udG9TdHJpbmcoKVxuICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSBudW0gPSAnMCcgKyBudW1cbiAgICByZXR1cm4gbnVtXG4gIH1cbiAgaWYgKG9ubHlJbnRlZ2VyKSB7XG4gICAgcmV0dXJuIGAke3BhZFplcm8ocGFyc2VJbnQodGltZS82MCwgMTApKX06JHtwYWRaZXJvKHBhcnNlSW50KHRpbWUlNjAsIDEwKSl9YFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHtwYWRaZXJvKHBhcnNlSW50KHRpbWUvNjAsIDEwKSl9OiR7cGFkWmVybygodGltZSU2MCkudG9GaXhlZCgyKSwgMil9YFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lc3RyMnRpbWVzdGFtcChzdHIpIHtcbiAgdmFyIFttaW51dGUsIHNlY29uZF0gPSBzdHIuc3BsaXQoJzonKVxuICByZXR1cm4gcGFyc2VJbnQobWludXRlLCAxMCkgKiA2MCArIHBhcnNlRmxvYXQoc2Vjb25kKVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbHRpcFBvc2l0aW9uIHtcbiAgZGlycyA9IFtcbiAgICAnYm90dG9tJyxcbiAgICAncmlnaHQnLFxuICAgICd0b3AnLFxuICAgICdsZWZ0JyxcbiAgXVxuXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgdG9vbHRpcCwgZGlyPSdib3R0b20nKSB7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLnRvb2x0aXAgPSB0b29sdGlwXG4gICAgdGhpcy52aWV3cG9ydCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIHRoaXMuZ2VuZXJhdGVEaXJzKGRpcilcbiAgfVxuXG4gIGdlbmVyYXRlRGlycyhkaXIpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5kaXJzLmluZGV4T2YoZGlyKVxuICAgIHRoaXMuZGlycy5zcGxpY2UoaWR4LCAxKVxuICAgIHRoaXMuZGlycy51bnNoaWZ0KGRpcilcbiAgfVxuXG4gIGNoZWNrUmVjdE92ZXJmbG93KHJlY3QpIHtcbiAgICByZXR1cm4gcmVjdC5sZWZ0ID49IDBcbiAgICAgICYmIHJlY3QudG9wID49IDBcbiAgICAgICYmIHJlY3QucmlnaHQgPD0gdGhpcy52aWV3cG9ydC5jbGllbnRXaWR0aFxuICAgICAgJiYgcmVjdC5ib3R0b20gPD0gdGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHRcbiAgfVxuXG4gIHJlY3RPdmVyZmxvd0NvdW50KHJlY3QpIHtcbiAgICB2YXIgbmVnYXRpdmUgPSAodmFsKSA9PiB2YWwgPCAwID8gdmFsIDogMFxuICAgIHJldHVybiBuZWdhdGl2ZShyZWN0LmxlZnQpICtcbiAgICAgIG5lZ2F0aXZlKHJlY3QudG9wKSArXG4gICAgICBuZWdhdGl2ZSh0aGlzLnZpZXdwb3J0LmNsaWVudFdpZHRoIC0gcmVjdC5yaWdodCkgK1xuICAgICAgbmVnYXRpdmUodGhpcy52aWV3cG9ydC5jbGllbnRIZWlnaHQgLSByZWN0LmJvdHRvbSlcbiAgfVxuXG4gIHBvc2l0aW9uKCkge1xuICAgIHZhciByZWN0ID0gdGhpcy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB2YXIgd2lkdGggPSB0aGlzLnRvb2x0aXAuY2xpZW50V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy50b29sdGlwLmNsaWVudEhlaWdodFxuXG4gICAgdmFyIHRvb2x0aXBSZWN0ID0ge1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgfVxuXG4gICAgdmFyIG92ZXJmbG93VmFsdWVzID0gW11cblxuICAgIGZvciAodmFyIGk9MDsgaSA8IHRoaXMuZGlycy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGRpciA9IHRoaXMuZGlyc1tpXVxuICAgICAgc3dpdGNoKHRoaXMuZGlyc1tpXSkge1xuICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGgvMiAtIHdpZHRoLzJcbiAgICAgICAgdG9vbHRpcFJlY3QucmlnaHQgPSB0b29sdGlwUmVjdC5sZWZ0ICsgd2lkdGhcbiAgICAgICAgdG9vbHRpcFJlY3QudG9wID0gcmVjdC5ib3R0b21cbiAgICAgICAgdG9vbHRpcFJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gKyBoZWlnaHRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIHRvb2x0aXBSZWN0LmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoLzIgLSB3aWR0aC8yXG4gICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gdG9vbHRpcFJlY3QubGVmdCArIHdpZHRoXG4gICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QudG9wIC0gaGVpZ2h0XG4gICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHJlY3QudG9wXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgdG9vbHRpcFJlY3QubGVmdCA9IHJlY3QubGVmdCAtIHdpZHRoXG4gICAgICAgIHRvb2x0aXBSZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0XG4gICAgICAgIHRvb2x0aXBSZWN0LnRvcCA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQvMiAtIGhlaWdodC8yXG4gICAgICAgIHRvb2x0aXBSZWN0LmJvdHRvbSA9IHRvb2x0aXBSZWN0LnRvcCArIGhlaWdodFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICB0b29sdGlwUmVjdC5sZWZ0ID0gcmVjdC5yaWdodFxuICAgICAgICB0b29sdGlwUmVjdC5yaWdodCA9IHJlY3QucmlnaHQgKyB3aWR0aFxuICAgICAgICB0b29sdGlwUmVjdC50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LzIgLSBoZWlnaHQvMlxuICAgICAgICB0b29sdGlwUmVjdC5ib3R0b20gPSB0b29sdGlwUmVjdC50b3AgKyBoZWlnaHRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgb3ZlcmZsb3dWYWx1ZXMucHVzaChbdGhpcy5yZWN0T3ZlcmZsb3dDb3VudCh0b29sdGlwUmVjdCksIGRpciwgY2xvbmUodG9vbHRpcFJlY3QpXSlcbiAgICB9XG5cbiAgICBvdmVyZmxvd1ZhbHVlcy5zb3J0KChhLCBiKSA9PiBiWzBdIC0gYVswXSlcblxuICAgIHJldHVybiB7XG4gICAgICBkaXI6IG92ZXJmbG93VmFsdWVzWzBdWzFdLFxuICAgICAgcmVjdDogb3ZlcmZsb3dWYWx1ZXNbMF1bMl0sXG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvdXRpbHMuanMiLCIvKiFcclxuICogRXZlbnRFbWl0dGVyMlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGlqMW54L0V2ZW50RW1pdHRlcjJcclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIGhpajFueFxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG47IWZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgPyBBcnJheS5pc0FycmF5IDogZnVuY3Rpb24gX2lzQXJyYXkob2JqKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuICB9O1xyXG4gIHZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgIGlmICh0aGlzLl9jb25mKSB7XHJcbiAgICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIHRoaXMuX2NvbmYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcclxuICAgIGlmIChjb25mKSB7XHJcbiAgICAgIHRoaXMuX2NvbmYgPSBjb25mO1xyXG5cclxuICAgICAgY29uZi5kZWxpbWl0ZXIgJiYgKHRoaXMuZGVsaW1pdGVyID0gY29uZi5kZWxpbWl0ZXIpO1xyXG4gICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID0gY29uZi5tYXhMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCA/IGNvbmYubWF4TGlzdGVuZXJzIDogZGVmYXVsdE1heExpc3RlbmVycztcclxuICAgICAgY29uZi53aWxkY2FyZCAmJiAodGhpcy53aWxkY2FyZCA9IGNvbmYud2lsZGNhcmQpO1xyXG4gICAgICBjb25mLm5ld0xpc3RlbmVyICYmICh0aGlzLm5ld0xpc3RlbmVyID0gY29uZi5uZXdMaXN0ZW5lcik7XHJcbiAgICAgIGNvbmYudmVyYm9zZU1lbW9yeUxlYWsgJiYgKHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBjb25mLnZlcmJvc2VNZW1vcnlMZWFrKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lclRyZWUgPSB7fTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xyXG4gICAgdmFyIGVycm9yTXNnID0gJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xyXG4gICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xyXG4gICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nO1xyXG5cclxuICAgIGlmKHRoaXMudmVyYm9zZU1lbW9yeUxlYWspe1xyXG4gICAgICBlcnJvck1zZyArPSAnIEV2ZW50IG5hbWU6ICVzLic7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGNvdW50LCBldmVudE5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25zb2xlLnRyYWNlKXtcclxuICAgICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGNvbmYpIHtcclxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgdGhpcy5uZXdMaXN0ZW5lciA9IGZhbHNlO1xyXG4gICAgdGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGZhbHNlO1xyXG4gICAgY29uZmlndXJlLmNhbGwodGhpcywgY29uZik7XHJcbiAgfVxyXG4gIEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgZXhwb3J0aW5nIEV2ZW50RW1pdHRlciBwcm9wZXJ0eVxyXG5cclxuICAvL1xyXG4gIC8vIEF0dGVudGlvbiwgZnVuY3Rpb24gcmV0dXJuIHR5cGUgbm93IGlzIGFycmF5LCBhbHdheXMgIVxyXG4gIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxyXG4gIC8vIGVsZW1lbnRzIChsZWFmcykgaWYgdGhlcmUgYXJlIG1hdGNoZXNcclxuICAvL1xyXG4gIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSkge1xyXG4gICAgaWYgKCF0cmVlKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHZhciBsaXN0ZW5lcnM9W10sIGxlYWYsIGxlbiwgYnJhbmNoLCB4VHJlZSwgeHhUcmVlLCBpc29sYXRlZEJyYW5jaCwgZW5kUmVhY2hlZCxcclxuICAgICAgICB0eXBlTGVuZ3RoID0gdHlwZS5sZW5ndGgsIGN1cnJlbnRUeXBlID0gdHlwZVtpXSwgbmV4dFR5cGUgPSB0eXBlW2krMV07XHJcbiAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gSWYgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQocykgbGlzdCBhbmQgdGhlIHRyZWUgaGFzIGxpc3RlbmVyc1xyXG4gICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxyXG4gICAgICAvL1xyXG4gICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzKTtcclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGVhZiA9IDAsIGxlbiA9IHRyZWUuX2xpc3RlbmVycy5sZW5ndGg7IGxlYWYgPCBsZW47IGxlYWYrKykge1xyXG4gICAgICAgICAgaGFuZGxlcnMgJiYgaGFuZGxlcnMucHVzaCh0cmVlLl9saXN0ZW5lcnNbbGVhZl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChjdXJyZW50VHlwZSA9PT0gJyonIHx8IGN1cnJlbnRUeXBlID09PSAnKionKSB8fCB0cmVlW2N1cnJlbnRUeXBlXSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgZXZlbnQgZW1pdHRlZCBpcyAnKicgYXQgdGhpcyBwYXJ0XHJcbiAgICAgIC8vIG9yIHRoZXJlIGlzIGEgY29uY3JldGUgbWF0Y2ggYXQgdGhpcyBwYXRjaFxyXG4gICAgICAvL1xyXG4gICAgICBpZiAoY3VycmVudFR5cGUgPT09ICcqJykge1xyXG4gICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB0cmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsxKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcbiAgICAgIH0gZWxzZSBpZihjdXJyZW50VHlwZSA9PT0gJyoqJykge1xyXG4gICAgICAgIGVuZFJlYWNoZWQgPSAoaSsxID09PSB0eXBlTGVuZ3RoIHx8IChpKzIgPT09IHR5cGVMZW5ndGggJiYgbmV4dFR5cGUgPT09ICcqJykpO1xyXG4gICAgICAgIGlmKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBUaGUgbmV4dCBlbGVtZW50IGhhcyBhIF9saXN0ZW5lcnMsIGFkZCBpdCB0byB0aGUgaGFuZGxlcnMuXHJcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG4gICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG4gICAgICAgICAgICBpZihicmFuY2ggPT09ICcqJyB8fCBicmFuY2ggPT09ICcqKicpIHtcclxuICAgICAgICAgICAgICBpZih0cmVlW2JyYW5jaF0uX2xpc3RlbmVycyAmJiAhZW5kUmVhY2hlZCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsyKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcclxuICAgICAgfVxyXG5cclxuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbY3VycmVudFR5cGVdLCBpKzEpKTtcclxuICAgIH1cclxuXHJcbiAgICB4VHJlZSA9IHRyZWVbJyonXTtcclxuICAgIGlmICh4VHJlZSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgdHJlZSB3aWxsIGFsbG93IGFueSBtYXRjaCBmb3IgdGhpcyBwYXJ0LFxyXG4gICAgICAvLyB0aGVuIHJlY3Vyc2l2ZWx5IGV4cGxvcmUgYWxsIGJyYW5jaGVzIG9mIHRoZSB0cmVlXHJcbiAgICAgIC8vXHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeFRyZWUsIGkrMSk7XHJcbiAgICB9XHJcblxyXG4gICAgeHhUcmVlID0gdHJlZVsnKionXTtcclxuICAgIGlmKHh4VHJlZSkge1xyXG4gICAgICBpZihpIDwgdHlwZUxlbmd0aCkge1xyXG4gICAgICAgIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxyXG4gICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGQgYXJyYXlzIG9mIG1hdGNoaW5nIG5leHQgYnJhbmNoZXMgYW5kIG90aGVycy5cclxuICAgICAgICBmb3IoYnJhbmNoIGluIHh4VHJlZSkge1xyXG4gICAgICAgICAgaWYoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgeHhUcmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgaWYoYnJhbmNoID09PSBuZXh0VHlwZSkge1xyXG4gICAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIG5leHQgZWxlbWVudCB3aWxsIG1hdGNoLCBzbyBqdW1wIHR3aWNlLlxyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IGN1cnJlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgLy8gQ3VycmVudCBub2RlIG1hdGNoZXMsIG1vdmUgaW50byB0aGUgdHJlZS5cclxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoID0ge307XHJcbiAgICAgICAgICAgICAgaXNvbGF0ZWRCcmFuY2hbYnJhbmNoXSA9IHh4VHJlZVticmFuY2hdO1xyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeyAnKionOiBpc29sYXRlZEJyYW5jaCB9LCBpKzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXHJcbiAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlWycqJ10gJiYgeHhUcmVlWycqJ10uX2xpc3RlbmVycykge1xyXG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpc3RlbmVycztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdyb3dMaXN0ZW5lclRyZWUodHlwZSwgbGlzdGVuZXIpIHtcclxuXHJcbiAgICB0eXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxyXG4gICAgLy9cclxuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHR5cGUubGVuZ3RoOyBpKzEgPCBsZW47IGkrKykge1xyXG4gICAgICBpZih0eXBlW2ldID09PSAnKionICYmIHR5cGVbaSsxXSA9PT0gJyoqJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmVlID0gdGhpcy5saXN0ZW5lclRyZWU7XHJcbiAgICB2YXIgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHJcbiAgICB3aGlsZSAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICBpZiAoIXRyZWVbbmFtZV0pIHtcclxuICAgICAgICB0cmVlW25hbWVdID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyZWUgPSB0cmVlW25hbWVdO1xyXG5cclxuICAgICAgaWYgKHR5cGUubGVuZ3RoID09PSAwKSB7XHJcblxyXG4gICAgICAgIGlmICghdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBbdHJlZS5fbGlzdGVuZXJzXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdHJlZS5fbGlzdGVuZXJzLndhcm5lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoID4gdGhpcy5fZXZlbnRzLm1heExpc3RlbmVyc1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsb2dQb3NzaWJsZU1lbW9yeUxlYWsuY2FsbCh0aGlzLCB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoLCBuYW1lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhblxyXG4gIC8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaFxyXG4gIC8vIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxyXG4gIC8vXHJcbiAgLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXHJcbiAgLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZGVsaW1pdGVyID0gJy4nO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IG47XHJcbiAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xyXG4gICAgICB0aGlzLl9jb25mLm1heExpc3RlbmVycyA9IG47XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudCA9ICcnO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pIHtcclxuICAgIHRoaXMubWFueShldmVudCwgMSwgZm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XHJcbiAgICAgIGlmICgtLXR0bCA9PT0gMCkge1xyXG4gICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgIH1cclxuICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0ZW5lci5fb3JpZ2luID0gZm47XHJcblxyXG4gICAgdGhpcy5vbihldmVudCwgbGlzdGVuZXIpO1xyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgaWYgKCF0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgdmFyIGFyZ3MsbCxpLGo7XHJcbiAgICB2YXIgaGFuZGxlcjtcclxuXHJcbiAgICBpZiAodGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGgpIHtcclxuICAgICAgaGFuZGxlciA9IHRoaXMuX2FsbC5zbGljZSgpO1xyXG4gICAgICBpZiAoYWwgPiAzKSB7XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCk7XHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFsOyBqKyspIGFyZ3Nbal0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICBoYW5kbGVyID0gW107XHJcbiAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcbiAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgLy8gbmVlZCB0byBtYWtlIGNvcHkgb2YgaGFuZGxlcnMgYmVjYXVzZSBsaXN0IGNhbiBjaGFuZ2UgaW4gdGhlIG1pZGRsZVxyXG4gICAgICAgIC8vIG9mIGVtaXQgY2FsbFxyXG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGFuZGxlciAmJiBoYW5kbGVyLmxlbmd0aCkge1xyXG4gICAgICBpZiAoYWwgPiAzKSB7XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgYXJndW1lbnRzWzFdOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICEhdGhpcy5fYWxsO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdEFzeW5jID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ25ld0xpc3RlbmVyJyAmJiAhdGhpcy5uZXdMaXN0ZW5lcikge1xyXG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoW2ZhbHNlXSk7IH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJvbWlzZXM9IFtdO1xyXG5cclxuICAgIHZhciBhbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICB2YXIgYXJncyxsLGksajtcclxuICAgIHZhciBoYW5kbGVyO1xyXG5cclxuICAgIGlmICh0aGlzLl9hbGwpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLl9hbGwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgaGFuZGxlciA9IFtdO1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGFyZ3VtZW50c1sxXSk7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkICdlcnJvcicgZXZlbnQuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcclxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9uQW55KHR5cGUpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb24gb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09IFwibmV3TGlzdGVuZXJzXCIhIEJlZm9yZVxyXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lcnNcIi5cclxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgZ3Jvd0xpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHtcclxuICAgICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXHJcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gQ2hhbmdlIHRvIGFycmF5LlxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXHJcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCAmJlxyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgPiAwICYmXHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnNcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCwgdHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbkFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9hbGwpIHtcclxuICAgICAgdGhpcy5fYWxsID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgZXZlbnQgbGlzdGVuZXIgY29sbGVjdGlvbi5cclxuICAgIHRoaXMuX2FsbC5wdXNoKGZuKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XHJcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlTGlzdGVuZXIgb25seSB0YWtlcyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaGFuZGxlcnMsbGVhZnM9W107XHJcblxyXG4gICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgbGVhZnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBudWxsLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIGRvZXMgbm90IHVzZSBsaXN0ZW5lcnMoKSwgc28gbm8gc2lkZSBlZmZlY3Qgb2YgY3JlYXRpbmcgX2V2ZW50c1t0eXBlXVxyXG4gICAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgcmV0dXJuIHRoaXM7XHJcbiAgICAgIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICBsZWFmcy5wdXNoKHtfbGlzdGVuZXJzOmhhbmRsZXJzfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaUxlYWY9MDsgaUxlYWY8bGVhZnMubGVuZ3RoOyBpTGVhZisrKSB7XHJcbiAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG4gICAgICBoYW5kbGVycyA9IGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgaWYgKGlzQXJyYXkoaGFuZGxlcnMpKSB7XHJcblxyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IC0xO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PT0gbGlzdGVuZXIgfHxcclxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLmxpc3RlbmVyICYmIGhhbmRsZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikgfHxcclxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLl9vcmlnaW4gJiYgaGFuZGxlcnNbaV0uX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgIGxlYWYuX2xpc3RlbmVycy5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgbGVhZi5fbGlzdGVuZXJzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGhhbmRsZXJzID09PSBsaXN0ZW5lciB8fFxyXG4gICAgICAgIChoYW5kbGVycy5saXN0ZW5lciAmJiBoYW5kbGVycy5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcbiAgICAgICAgKGhhbmRsZXJzLl9vcmlnaW4gJiYgaGFuZGxlcnMuX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XHJcbiAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdChyb290KSB7XHJcbiAgICAgIGlmIChyb290ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyb290KTtcclxuICAgICAgZm9yICh2YXIgaSBpbiBrZXlzKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgdmFyIG9iaiA9IHJvb3Rba2V5XTtcclxuICAgICAgICBpZiAoKG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgfHwgKG9iaiA9PT0gbnVsbCkpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3Rba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgZGVsZXRlIHJvb3Rba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3QodGhpcy5saXN0ZW5lclRyZWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmQW55ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHZhciBpID0gMCwgbCA9IDAsIGZucztcclxuICAgIGlmIChmbiAmJiB0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG4gICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYoZm4gPT09IGZuc1tpXSkge1xyXG4gICAgICAgICAgZm5zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm5zID0gdGhpcy5fYWxsO1xyXG4gICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKVxyXG4gICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuc1tpXSk7XHJcbiAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICF0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgdmFyIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG4gICAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xyXG4gICAgICAgIGxlYWYuX2xpc3RlbmVycyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50cykge1xyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xyXG4gICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXJzLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xyXG4gICAgICByZXR1cm4gaGFuZGxlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgdGhpcy5fZXZlbnRzW3R5cGVdID0gW107XHJcbiAgICBpZiAoIWlzQXJyYXkodGhpcy5fZXZlbnRzW3R5cGVdKSkge1xyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyc0FueSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGlmKHRoaXMuX2FsbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAvLyBDb21tb25KU1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgLy8gQnJvd3NlciBnbG9iYWwuXHJcbiAgICB3aW5kb3cuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjtcclxuICB9XHJcbn0oKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9ldmVudGVtaXR0ZXIyL2xpYi9ldmVudGVtaXR0ZXIyLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBGaWxlU2F2ZXIuanNcbiAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuICogMS4xLjIwMTUwNzE2XG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogTGljZW5zZTogWDExL01JVFxuICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbiAqL1xuXG4vKmdsb2JhbCBzZWxmICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXG4vKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xuXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXJcblx0XHQgIGRvYyA9IHZpZXcuZG9jdW1lbnRcblx0XHQgIC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHR9XG5cdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHQsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xuXHRcdCwgY2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xuXHRcdFx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHR9XG5cdFx0LCB3ZWJraXRfcmVxX2ZzID0gdmlldy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbVxuXHRcdCwgcmVxX2ZzID0gdmlldy5yZXF1ZXN0RmlsZVN5c3RlbSB8fCB3ZWJraXRfcmVxX2ZzIHx8IHZpZXcubW96UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xuXHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRocm93IGV4O1xuXHRcdFx0fSwgMCk7XG5cdFx0fVxuXHRcdCwgZm9yY2Vfc2F2ZWFibGVfdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcblx0XHQsIGZzX21pbl9zaXplID0gMFxuXHRcdC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc1Mjk3I2M3IGFuZFxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9jb21taXQvNDg1OTMwYSNjb21taXRjb21tZW50LTg3NjgwNDdcblx0XHQvLyBmb3IgdGhlIHJlYXNvbmluZyBiZWhpbmQgdGhlIHRpbWVvdXQgYW5kIHJldm9jYXRpb24gZmxvd1xuXHRcdCwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gNTAwIC8vIGluIG1zXG5cdFx0LCByZXZva2UgPSBmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXG5cdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHZpZXcuY2hyb21lKSB7XG5cdFx0XHRcdHJldm9rZXIoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0LCBkaXNwYXRjaCA9IGZ1bmN0aW9uKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XG5cdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG5cdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1wiXFx1ZmVmZlwiLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJsb2I7XG5cdFx0fVxuXHRcdCwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdHZhclxuXHRcdFx0XHQgIGZpbGVzYXZlciA9IHRoaXNcblx0XHRcdFx0LCB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdCwgYmxvYl9jaGFuZ2VkID0gZmFsc2Vcblx0XHRcdFx0LCBvYmplY3RfdXJsXG5cdFx0XHRcdCwgdGFyZ2V0X3ZpZXdcblx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcblx0XHRcdFx0XHRpZiAoYmxvYl9jaGFuZ2VkIHx8ICFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIG5ld190YWIgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRpZiAobmV3X3RhYiA9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNhZmFyaSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHQvL0FwcGxlIGRvIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHA6Ly9iaXQubHkvMWtaZmZSSVxuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgYWJvcnRhYmxlID0gZnVuY3Rpb24oZnVuYykge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChmaWxlc2F2ZXIucmVhZHlTdGF0ZSAhPT0gZmlsZXNhdmVyLkRPTkUpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgY3JlYXRlX2lmX25vdF9mb3VuZCA9IHtjcmVhdGU6IHRydWUsIGV4Y2x1c2l2ZTogZmFsc2V9XG5cdFx0XHRcdCwgc2xpY2Vcblx0XHRcdDtcblx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdFx0bmFtZSA9IFwiZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0c2F2ZV9saW5rLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBPYmplY3QgYW5kIHdlYiBmaWxlc3lzdGVtIFVSTHMgaGF2ZSBhIHByb2JsZW0gc2F2aW5nIGluIEdvb2dsZSBDaHJvbWUgd2hlblxuXHRcdFx0Ly8gdmlld2VkIGluIGEgdGFiLCBzbyBJIGZvcmNlIHNhdmUgd2l0aCBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cblx0XHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkxMTU4XG5cdFx0XHQvLyBVcGRhdGU6IEdvb2dsZSBlcnJhbnRseSBjbG9zZWQgOTExNTgsIEkgc3VibWl0dGVkIGl0IGFnYWluOlxuXHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4OTY0MlxuXHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcblx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcblx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XG5cdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcblx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XG5cdFx0XHRcdGZzLnJvb3QuZ2V0RGlyZWN0b3J5KFwic2F2ZWRcIiwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGRpcikge1xuXHRcdFx0XHRcdHZhciBzYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRmaWxlLmNyZWF0ZVdyaXRlcihhYm9ydGFibGUoZnVuY3Rpb24od3JpdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVlbmRcIiwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV2b2tlKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IHdyaXRlci5lcnJvcjtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChlcnJvci5jb2RlICE9PSBlcnJvci5BQk9SVF9FUlIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSBhYm9ydFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXJbXCJvblwiICsgZXZlbnRdID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50XTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR3cml0ZXIud3JpdGUoYmxvYik7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLmFib3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5XUklUSU5HO1xuXHRcdFx0XHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGRpci5nZXRGaWxlKG5hbWUsIHtjcmVhdGU6IGZhbHNlfSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZpbGUpIHtcblx0XHRcdFx0XHRcdC8vIGRlbGV0ZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzXG5cdFx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0c2F2ZSgpO1xuXHRcdFx0XHRcdH0pLCBhYm9ydGFibGUoZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0XHRcdGlmIChleC5jb2RlID09PSBleC5OT1RfRk9VTkRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHR9KSwgZnNfZXJyb3IpO1xuXHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHR9XG5cdFx0LCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcblx0XHQsIHNhdmVBcyA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lLCBub19hdXRvX2JvbSk7XG5cdFx0fVxuXHQ7XG5cdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUgfHwgXCJkb3dubG9hZFwiKTtcblx0XHR9O1xuXHR9XG5cblx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZmlsZXNhdmVyID0gdGhpcztcblx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJhYm9ydFwiKTtcblx0fTtcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRGU19wcm90by5XUklUSU5HID0gMTtcblx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cblx0RlNfcHJvdG8uZXJyb3IgPVxuXHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRGU19wcm90by5vbnByb2dyZXNzID1cblx0RlNfcHJvdG8ub253cml0ZSA9XG5cdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRGU19wcm90by5vbmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZWVuZCA9XG5cdFx0bnVsbDtcblxuXHRyZXR1cm4gc2F2ZUFzO1xufShcblx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHR8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xuXHR8fCB0aGlzLmNvbnRlbnRcbikpO1xuLy8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcbi8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCkgJiYgKGRlZmluZS5hbWQgIT0gbnVsbCkpIHtcbiAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2F2ZUFzO1xuICB9KTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vZmlsZXNhdmVyLmpzL0ZpbGVTYXZlci5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi93ZWJwYWNrL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vd2VicGFjay9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIFVuaWRyYWdnZXIgdjIuMS4wXG4gKiBEcmFnZ2FibGUgYmFzZSBjbGFzc1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ3VuaXBvaW50ZXIvdW5pcG9pbnRlcidcbiAgICBdLCBmdW5jdGlvbiggVW5pcG9pbnRlciApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIFVuaXBvaW50ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ3VuaXBvaW50ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuVW5pZHJhZ2dlciA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuVW5pcG9pbnRlclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIFVuaXBvaW50ZXIgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVbmlkcmFnZ2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIFVuaWRyYWdnZXIoKSB7fVxuXG4vLyBpbmhlcml0IFVuaXBvaW50ZXIgJiBFdkVtaXR0ZXJcbnZhciBwcm90byA9IFVuaWRyYWdnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVW5pcG9pbnRlci5wcm90b3R5cGUgKTtcblxuLy8gLS0tLS0gYmluZCBzdGFydCAtLS0tLSAvL1xuXG5wcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggdHJ1ZSApO1xufTtcblxucHJvdG8udW5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggZmFsc2UgKTtcbn07XG5cbnZhciBuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yO1xuLyoqXG4gKiB3b3JrcyBhcyB1bmJpbmRlciwgYXMgeW91IGNhbiAuYmluZEhhbmRsZXMoIGZhbHNlICkgdG8gdW5iaW5kXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluZCAtIHdpbGwgdW5iaW5kIGlmIGZhbHNleVxuICovXG5wcm90by5fYmluZEhhbmRsZXMgPSBmdW5jdGlvbiggaXNCaW5kICkge1xuICAvLyBtdW5nZSBpc0JpbmQsIGRlZmF1bHQgdG8gdHJ1ZVxuICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcbiAgLy8gZXh0cmEgYmluZCBsb2dpY1xuICB2YXIgYmluZGVyRXh0cmE7XG4gIGlmICggbmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuICAgIGJpbmRlckV4dHJhID0gZnVuY3Rpb24oIGhhbmRsZSApIHtcbiAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBlbGVtZW50XG4gICAgICBoYW5kbGUuc3R5bGUudG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcbiAgICB9O1xuICB9IGVsc2UgaWYgKCBuYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCApIHtcbiAgICBiaW5kZXJFeHRyYSA9IGZ1bmN0aW9uKCBoYW5kbGUgKSB7XG4gICAgICAvLyBkaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZWxlbWVudFxuICAgICAgaGFuZGxlLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSBpc0JpbmQgPyAnbm9uZScgOiAnJztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGJpbmRlckV4dHJhID0gbm9vcDtcbiAgfVxuICAvLyBiaW5kIGVhY2ggaGFuZGxlXG4gIHZhciBiaW5kTWV0aG9kID0gaXNCaW5kID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5oYW5kbGVzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBoYW5kbGUgPSB0aGlzLmhhbmRsZXNbaV07XG4gICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGhhbmRsZSwgaXNCaW5kICk7XG4gICAgYmluZGVyRXh0cmEoIGhhbmRsZSApO1xuICAgIGhhbmRsZVsgYmluZE1ldGhvZCBdKCAnY2xpY2snLCB0aGlzICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cbi8qKlxuICogcG9pbnRlciBzdGFydFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqL1xucHJvdG8ucG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGRpc21pc3MgcmFuZ2Ugc2xpZGVyc1xuICBpZiAoIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAnSU5QVVQnICYmIGV2ZW50LnRhcmdldC50eXBlID09ICdyYW5nZScgKSB7XG4gICAgLy8gcmVzZXQgcG9pbnRlckRvd24gbG9naWNcbiAgICB0aGlzLmlzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9kcmFnUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG4gIC8vIGtsdWRnZSB0byBibHVyIGZvY3VzZWQgaW5wdXRzIGluIGRyYWdnZXJcbiAgdmFyIGZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICBpZiAoIGZvY3VzZWQgJiYgZm9jdXNlZC5ibHVyICkge1xuICAgIGZvY3VzZWQuYmx1cigpO1xuICB9XG4gIC8vIGJpbmQgbW92ZSBhbmQgZW5kIGV2ZW50c1xuICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyBiYXNlIHBvaW50ZXIgZG93biBsb2dpY1xucHJvdG8uX2RyYWdQb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gdHJhY2sgdG8gc2VlIHdoZW4gZHJhZ2dpbmcgc3RhcnRzXG4gIHRoaXMucG9pbnRlckRvd25Qb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG5cbiAgdmFyIGNhblByZXZlbnREZWZhdWx0ID0gdGhpcy5jYW5QcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG4gIGlmICggY2FuUHJldmVudERlZmF1bHQgKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuLy8gb3ZlcndyaXRlYWJsZSBtZXRob2Qgc28gRmxpY2tpdHkgY2FuIHByZXZlbnQgZm9yIHNjcm9sbGluZ1xucHJvdG8uY2FuUHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyBwcmV2ZW50IGRlZmF1bHQsIHVubGVzcyB0b3VjaHN0YXJ0IG9yIDxzZWxlY3Q+XG4gIHJldHVybiBldmVudC50YXJnZXQubm9kZU5hbWUgIT0gJ1NFTEVDVCc7XG59O1xuXG4vLyAtLS0tLSBtb3ZlIGV2ZW50IC0tLS0tIC8vXG5cbi8qKlxuICogZHJhZyBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVWZWN0b3IgPSB0aGlzLl9kcmFnUG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlck1vdmUnLCBbIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yIF0gKTtcbiAgdGhpcy5fZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG4vLyBiYXNlIHBvaW50ZXIgbW92ZSBsb2dpY1xucHJvdG8uX2RyYWdQb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50KCBwb2ludGVyICk7XG4gIHZhciBtb3ZlVmVjdG9yID0ge1xuICAgIHg6IG1vdmVQb2ludC54IC0gdGhpcy5wb2ludGVyRG93blBvaW50LngsXG4gICAgeTogbW92ZVBvaW50LnkgLSB0aGlzLnBvaW50ZXJEb3duUG9pbnQueVxuICB9O1xuICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgJiYgdGhpcy5oYXNEcmFnU3RhcnRlZCggbW92ZVZlY3RvciApICkge1xuICAgIHRoaXMuX2RyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfVxuICByZXR1cm4gbW92ZVZlY3Rvcjtcbn07XG5cbi8vIGNvbmRpdGlvbiBpZiBwb2ludGVyIGhhcyBtb3ZlZCBmYXIgZW5vdWdoIHRvIHN0YXJ0IGRyYWdcbnByb3RvLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24oIG1vdmVWZWN0b3IgKSB7XG4gIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG59O1xuXG5cbi8vIC0tLS0tIGVuZCBldmVudCAtLS0tLSAvL1xuXG4vKipcbiAqIHBvaW50ZXIgdXBcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKi9cbnByb3RvLnBvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbiAgdGhpcy5fZHJhZ1BvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLl9kcmFnUG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICBpZiAoIHRoaXMuaXNEcmFnZ2luZyApIHtcbiAgICB0aGlzLl9kcmFnRW5kKCBldmVudCwgcG9pbnRlciApO1xuICB9IGVsc2Uge1xuICAgIC8vIHBvaW50ZXIgZGlkbid0IG1vdmUgZW5vdWdoIGZvciBkcmFnIHRvIHN0YXJ0XG4gICAgdGhpcy5fc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRyYWcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZHJhZ1N0YXJ0XG5wcm90by5fZHJhZ1N0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICB0aGlzLmRyYWdTdGFydFBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQoIHBvaW50ZXIgKTtcbiAgLy8gcHJldmVudCBjbGlja3NcbiAgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgPSB0cnVlO1xuXG4gIHRoaXMuZHJhZ1N0YXJ0KCBldmVudCwgcG9pbnRlciApO1xufTtcblxucHJvdG8uZHJhZ1N0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdTdGFydCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gZHJhZ01vdmVcbnByb3RvLl9kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcbiAgLy8gZG8gbm90IGRyYWcgaWYgbm90IGRyYWdnaW5nIHlldFxuICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5kcmFnTW92ZSggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKTtcbn07XG5cbnByb3RvLmRyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG59O1xuXG4vLyBkcmFnRW5kXG5wcm90by5fZHJhZ0VuZCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gc2V0IGZsYWdzXG4gIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAvLyByZS1lbmFibGUgY2xpY2tpbmcgYXN5bmNcbiAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgZGVsZXRlIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzO1xuICB9LmJpbmQoIHRoaXMgKSApO1xuXG4gIHRoaXMuZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLmRyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAnZHJhZ0VuZCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gb25jbGljayAtLS0tLSAvL1xuXG4vLyBoYW5kbGUgYWxsIGNsaWNrcyBhbmQgcHJldmVudCBjbGlja3Mgd2hlbiBkcmFnZ2luZ1xucHJvdG8ub25jbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyApIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59O1xuXG4vLyAtLS0tLSBzdGF0aWNDbGljayAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyZWQgYWZ0ZXIgcG9pbnRlciBkb3duICYgdXAgd2l0aCBuby90aW55IG1vdmVtZW50XG5wcm90by5fc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGlnbm9yZSBlbXVsYXRlZCBtb3VzZSB1cCBjbGlja3NcbiAgaWYgKCB0aGlzLmlzSWdub3JpbmdNb3VzZVVwICYmIGV2ZW50LnR5cGUgPT0gJ21vdXNldXAnICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGFsbG93IGNsaWNrIGluIDxpbnB1dD5zIGFuZCA8dGV4dGFyZWE+c1xuICB2YXIgbm9kZU5hbWUgPSBldmVudC50YXJnZXQubm9kZU5hbWU7XG4gIGlmICggbm9kZU5hbWUgPT0gJ0lOUFVUJyB8fCBub2RlTmFtZSA9PSAnVEVYVEFSRUEnICkge1xuICAgIGV2ZW50LnRhcmdldC5mb2N1cygpO1xuICB9XG4gIHRoaXMuc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG5cbiAgLy8gc2V0IGZsYWcgZm9yIGVtdWxhdGVkIGNsaWNrcyAzMDBtcyBhZnRlciB0b3VjaGVuZFxuICBpZiAoIGV2ZW50LnR5cGUgIT0gJ21vdXNldXAnICkge1xuICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSB0cnVlO1xuICAgIC8vIHJlc2V0IGZsYWcgYWZ0ZXIgMzAwbXNcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmlzSWdub3JpbmdNb3VzZVVwO1xuICAgIH0uYmluZCggdGhpcyApLCA0MDAgKTtcbiAgfVxufTtcblxucHJvdG8uc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAnc3RhdGljQ2xpY2snLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIHV0aWxzIC0tLS0tIC8vXG5cblVuaWRyYWdnZXIuZ2V0UG9pbnRlclBvaW50ID0gVW5pcG9pbnRlci5nZXRQb2ludGVyUG9pbnQ7XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gVW5pZHJhZ2dlcjtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi91bmlkcmFnZ2VyL3VuaWRyYWdnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogVW5pcG9pbnRlciB2Mi4xLjBcbiAqIGJhc2UgY2xhc3MgZm9yIGRvaW5nIG9uZSB0aGluZyB3aXRoIHBvaW50ZXIgZXZlbnRcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFsIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuVW5pcG9pbnRlciA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuRXZFbWl0dGVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBVbmlwb2ludGVyKCkge31cblxuLy8gaW5oZXJpdCBFdkVtaXR0ZXJcbnZhciBwcm90byA9IFVuaXBvaW50ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5wcm90by5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB0aGlzLl9iaW5kU3RhcnRFdmVudCggZWxlbSwgdHJ1ZSApO1xufTtcblxucHJvdG8udW5iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB0aGlzLl9iaW5kU3RhcnRFdmVudCggZWxlbSwgZmFsc2UgKTtcbn07XG5cbi8qKlxuICogd29ya3MgYXMgdW5iaW5kZXIsIGFzIHlvdSBjYW4gLl9iaW5kU3RhcnQoIGZhbHNlICkgdG8gdW5iaW5kXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmluZCAtIHdpbGwgdW5iaW5kIGlmIGZhbHNleVxuICovXG5wcm90by5fYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgaXNCaW5kICkge1xuICAvLyBtdW5nZSBpc0JpbmQsIGRlZmF1bHQgdG8gdHJ1ZVxuICBpc0JpbmQgPSBpc0JpbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWlzQmluZDtcbiAgdmFyIGJpbmRNZXRob2QgPSBpc0JpbmQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cbiAgaWYgKCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuICAgIC8vIFczQyBQb2ludGVyIEV2ZW50cywgSUUxMS4gU2VlIGh0dHBzOi8vY29kZXJ3YWxsLmNvbS9wL21mcmVjYVxuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ3BvaW50ZXJkb3duJywgdGhpcyApO1xuICB9IGVsc2UgaWYgKCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG4gICAgLy8gSUUxMCBQb2ludGVyIEV2ZW50c1xuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ01TUG9pbnRlckRvd24nLCB0aGlzICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbGlzdGVuIGZvciBib3RoLCBmb3IgZGV2aWNlcyBsaWtlIENocm9tZSBQaXhlbFxuICAgIGVsZW1bIGJpbmRNZXRob2QgXSggJ21vdXNlZG93bicsIHRoaXMgKTtcbiAgICBlbGVtWyBiaW5kTWV0aG9kIF0oICd0b3VjaHN0YXJ0JywgdGhpcyApO1xuICB9XG59O1xuXG4vLyB0cmlnZ2VyIGhhbmRsZXIgbWV0aG9kcyBmb3IgZXZlbnRzXG5wcm90by5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG4vLyByZXR1cm5zIHRoZSB0b3VjaCB0aGF0IHdlJ3JlIGtlZXBpbmcgdHJhY2sgb2ZcbnByb3RvLmdldFRvdWNoID0gZnVuY3Rpb24oIHRvdWNoZXMgKSB7XG4gIGZvciAoIHZhciBpPTA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciB0b3VjaCA9IHRvdWNoZXNbaV07XG4gICAgaWYgKCB0b3VjaC5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgICByZXR1cm4gdG91Y2g7XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXG5wcm90by5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gZGlzbWlzcyBjbGlja3MgZnJvbSByaWdodCBvciBtaWRkbGUgYnV0dG9uc1xuICB2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICBpZiAoIGJ1dHRvbiAmJiAoIGJ1dHRvbiAhPT0gMCAmJiBidXR0b24gIT09IDEgKSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLl9wb2ludGVyRG93biggZXZlbnQsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdICk7XG59O1xuXG5wcm90by5vbk1TUG9pbnRlckRvd24gPVxucHJvdG8ub25wb2ludGVyZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxuLyoqXG4gKiBwb2ludGVyIHN0YXJ0XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5fcG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGRpc21pc3Mgb3RoZXIgcG9pbnRlcnNcbiAgaWYgKCB0aGlzLmlzUG9pbnRlckRvd24gKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5pc1BvaW50ZXJEb3duID0gdHJ1ZTtcbiAgLy8gc2F2ZSBwb2ludGVyIGlkZW50aWZpZXIgdG8gbWF0Y2ggdXAgdG91Y2ggZXZlbnRzXG4gIHRoaXMucG9pbnRlcklkZW50aWZpZXIgPSBwb2ludGVyLnBvaW50ZXJJZCAhPT0gdW5kZWZpbmVkID9cbiAgICAvLyBwb2ludGVySWQgZm9yIHBvaW50ZXIgZXZlbnRzLCB0b3VjaC5pbmRlbnRpZmllciBmb3IgdG91Y2ggZXZlbnRzXG4gICAgcG9pbnRlci5wb2ludGVySWQgOiBwb2ludGVyLmlkZW50aWZpZXI7XG5cbiAgdGhpcy5wb2ludGVyRG93biggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLnBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyBoYXNoIG9mIGV2ZW50cyB0byBiZSBib3VuZCBhZnRlciBzdGFydCBldmVudFxudmFyIHBvc3RTdGFydEV2ZW50cyA9IHtcbiAgbW91c2Vkb3duOiBbICdtb3VzZW1vdmUnLCAnbW91c2V1cCcgXSxcbiAgdG91Y2hzdGFydDogWyAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJyBdLFxuICBwb2ludGVyZG93bjogWyAncG9pbnRlcm1vdmUnLCAncG9pbnRlcnVwJywgJ3BvaW50ZXJjYW5jZWwnIF0sXG4gIE1TUG9pbnRlckRvd246IFsgJ01TUG9pbnRlck1vdmUnLCAnTVNQb2ludGVyVXAnLCAnTVNQb2ludGVyQ2FuY2VsJyBdXG59O1xuXG5wcm90by5fYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCAhZXZlbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGdldCBwcm9wZXIgZXZlbnRzIHRvIG1hdGNoIHN0YXJ0IGV2ZW50XG4gIHZhciBldmVudHMgPSBwb3N0U3RhcnRFdmVudHNbIGV2ZW50LnR5cGUgXTtcbiAgLy8gYmluZCBldmVudHMgdG8gbm9kZVxuICBldmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCB0aGlzICk7XG4gIH0sIHRoaXMgKTtcbiAgLy8gc2F2ZSB0aGVzZSBhcmd1bWVudHNcbiAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzID0gZXZlbnRzO1xufTtcblxucHJvdG8uX3VuYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBmb3IgX2JvdW5kRXZlbnRzLCBpbiBjYXNlIGRyYWdFbmQgdHJpZ2dlcmVkIHR3aWNlIChvbGQgSUU4IGJ1ZylcbiAgaWYgKCAhdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGV2ZW50TmFtZSApIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCB0aGlzICk7XG4gIH0sIHRoaXMgKTtcblxuICBkZWxldGUgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzO1xufTtcblxuLy8gLS0tLS0gbW92ZSBldmVudCAtLS0tLSAvL1xuXG5wcm90by5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25NU1BvaW50ZXJNb3ZlID1cbnByb3RvLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG5wcm90by5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICogQHByaXZhdGVcbiAqL1xucHJvdG8uX3BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLnBvaW50ZXJNb3ZlKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cblxucHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25NU1BvaW50ZXJVcCA9XG5wcm90by5vbnBvaW50ZXJ1cCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG5wcm90by5vbnRvdWNoZW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgdG91Y2ggPSB0aGlzLmdldFRvdWNoKCBldmVudC5jaGFuZ2VkVG91Y2hlcyApO1xuICBpZiAoIHRvdWNoICkge1xuICAgIHRoaXMuX3BvaW50ZXJVcCggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciB1cFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuX3BvaW50ZXJEb25lKCk7XG4gIHRoaXMucG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlclVwJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSBwb2ludGVyIGRvbmUgLS0tLS0gLy9cblxuLy8gdHJpZ2dlcmVkIG9uIHBvaW50ZXIgdXAgJiBwb2ludGVyIGNhbmNlbFxucHJvdG8uX3BvaW50ZXJEb25lID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJlc2V0IHByb3BlcnRpZXNcbiAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gIGRlbGV0ZSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyO1xuICAvLyByZW1vdmUgZXZlbnRzXG4gIHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpO1xuICB0aGlzLnBvaW50ZXJEb25lKCk7XG59O1xuXG5wcm90by5wb2ludGVyRG9uZSA9IG5vb3A7XG5cbi8vIC0tLS0tIHBvaW50ZXIgY2FuY2VsIC0tLS0tIC8vXG5cbnByb3RvLm9uTVNQb2ludGVyQ2FuY2VsID1cbnByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgdG91Y2ggKTtcbiAgfVxufTtcblxuLyoqXG4gKiBwb2ludGVyIGNhbmNlbFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB0aGlzLnBvaW50ZXJDYW5jZWwoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG4vLyBwdWJsaWNcbnByb3RvLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckNhbmNlbCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gZm9yIGdldHRpbmcgeC95IGNvb3JkcyBmcm9tIGV2ZW50XG5Vbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCA9IGZ1bmN0aW9uKCBwb2ludGVyICkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50ZXIucGFnZVgsXG4gICAgeTogcG9pbnRlci5wYWdlWVxuICB9O1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBVbmlwb2ludGVyO1xuXG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3VuaXBvaW50ZXIvdW5pcG9pbnRlci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMC4zXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpID0gMDtcbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgd2hpbGUgKCBsaXN0ZW5lciApIHtcbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAvLyBnZXQgbmV4dCBsaXN0ZW5lclxuICAgIGkgKz0gaXNPbmNlID8gMCA6IDE7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBpcy5qcyAwLjguMFxuLy8gQXV0aG9yOiBBcmFzIEF0YXNheWdpblxuXG4vLyBBTUQgd2l0aCBnbG9iYWwsIE5vZGUsIG9yIGdsb2JhbFxuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQWxzbyBjcmVhdGUgYSBnbG9iYWwgaW4gY2FzZSBzb21lIHNjcmlwdHNcbiAgICAgICAgICAgIC8vIHRoYXQgYXJlIGxvYWRlZCBzdGlsbCBhcmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIC8vIGEgZ2xvYmFsIGV2ZW4gd2hlbiBhbiBBTUQgbG9hZGVyIGlzIGluIHVzZS5cbiAgICAgICAgICAgIHJldHVybiAocm9vdC5pcyA9IGZhY3RvcnkoKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5pcyA9IGZhY3RvcnkoKTtcbiAgICB9XG59ICh0aGlzLCBmdW5jdGlvbigpIHtcblxuICAgIC8vIEJhc2VsaW5lXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIHZhciByb290ID0gdGhpcyB8fCBnbG9iYWw7XG4gICAgdmFyIHByZXZpb3VzSXMgPSByb290LmlzO1xuXG4gICAgLy8gZGVmaW5lICdpcycgb2JqZWN0IGFuZCBjdXJyZW50IHZlcnNpb25cbiAgICB2YXIgaXMgPSB7fTtcbiAgICBpcy5WRVJTSU9OID0gJzAuOC4wJztcblxuICAgIC8vIGRlZmluZSBpbnRlcmZhY2VzXG4gICAgaXMubm90ID0ge307XG4gICAgaXMuYWxsID0ge307XG4gICAgaXMuYW55ID0ge307XG5cbiAgICAvLyBjYWNoZSBzb21lIG1ldGhvZHMgdG8gY2FsbCBsYXRlciBvblxuICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgdmFyIGFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCByZXZlcnNlcyB0aGUgc2Vuc2Ugb2YgcHJlZGljYXRlIHJlc3VsdFxuICAgIGZ1bmN0aW9uIG5vdChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhZnVuYy5hcHBseShudWxsLCBhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uIHdoaWNoIGNhbGwgcHJlZGljYXRlIGZ1bmN0aW9uIHBlciBwYXJhbWV0ZXIgYW5kIHJldHVybiB0cnVlIGlmIGFsbCBwYXNzXG4gICAgZnVuY3Rpb24gYWxsKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJhbWV0ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmKGxlbmd0aCA9PT0gMSAmJiBpcy5hcnJheShwYXJhbWV0ZXJzWzBdKSkgeyAgICAvLyBzdXBwb3J0IGFycmF5XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnNbMF07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjYWxsIHByZWRpY2F0ZSBmdW5jdGlvbiBwZXIgcGFyYW1ldGVyIGFuZCByZXR1cm4gdHJ1ZSBpZiBhbnkgcGFzc1xuICAgIGZ1bmN0aW9uIGFueShmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyYW1ldGVycy5sZW5ndGg7XG4gICAgICAgICAgICBpZihsZW5ndGggPT09IDEgJiYgaXMuYXJyYXkocGFyYW1ldGVyc1swXSkpIHsgICAgLy8gc3VwcG9ydCBhcnJheVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzWzBdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHBhcmFtZXRlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmdW5jLmNhbGwobnVsbCwgcGFyYW1ldGVyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFR5cGUgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgQXJndW1lbnRzP1xuICAgIGlzLmFyZ3VtZW50cyA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIGZhbGxiYWNrIGNoZWNrIGlzIGZvciBJRVxuICAgICAgICByZXR1cm4gaXMubm90Lm51bGwodmFsdWUpICYmICh0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXScgfHwgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ2NhbGxlZScgaW4gdmFsdWUpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBBcnJheT9cbiAgICBpcy5hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gY2hlY2sgbmF0aXZlIGlzQXJyYXkgZmlyc3RcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIEJvb2xlYW4/XG4gICAgaXMuYm9vbGVhbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBEYXRlIE9iamVjdD9cbiAgICBpcy5kYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBEYXRlXSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgRXJyb3Igb2JqZWN0P1xuICAgIGlzLmVycm9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBFcnJvcl0nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIGZ1bmN0aW9uP1xuICAgIGlzLmZ1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHsgICAgLy8gZmFsbGJhY2sgY2hlY2sgaXMgZm9yIElFXG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgTmFOP1xuICAgIGlzLm5hbiA9IGZ1bmN0aW9uKHZhbHVlKSB7ICAgIC8vIE5hTiBpcyBudW1iZXIgOikgQWxzbyBpdCBpcyB0aGUgb25seSB2YWx1ZSB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGZcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSBudWxsP1xuICAgIGlzLm51bGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgbnVtYmVyP1xuICAgIGlzLm51bWJlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5ub3QubmFuKHZhbHVlKSAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgb2JqZWN0P1xuICAgIGlzLm9iamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBpcyBnaXZlbiB2YWx1ZSBhIHB1cmUgSlNPTiBvYmplY3Q/XG4gICAgaXMuanNvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgUmVnRXhwP1xuICAgIGlzLnJlZ2V4cCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG4gICAgfTtcblxuICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgc2FtZSB0eXBlP1xuICAgIC8vIHByZXZlbnQgTmFOLCBOdW1iZXIgc2FtZSB0eXBlIGNoZWNrXG4gICAgaXMuc2FtZVR5cGUgPSBmdW5jdGlvbih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBpZihpcy5uYW4odmFsdWUxKSB8fCBpcy5uYW4odmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLm5hbih2YWx1ZTEpID09PSBpcy5uYW4odmFsdWUyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZTEpID09PSB0b1N0cmluZy5jYWxsKHZhbHVlMik7XG4gICAgfTtcbiAgICAvLyBzYW1lVHlwZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnNhbWVUeXBlLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIFN0cmluZz9cbiAgICBpcy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIENoYXI/XG4gICAgaXMuY2hhciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5zdHJpbmcodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiB2YWx1ZSB1bmRlZmluZWQ/XG4gICAgaXMudW5kZWZpbmVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDA7XG4gICAgfTtcblxuICAgIC8vIFByZXNlbmNlIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvL2lzIGEgZ2l2ZW4gdmFsdWUgZW1wdHk/IE9iamVjdHMsIGFycmF5cywgc3RyaW5nc1xuICAgIGlzLmVtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYoaXMub2JqZWN0KHZhbHVlKSl7XG4gICAgICAgICAgICB2YXIgbnVtID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmKG51bSA9PT0gMCB8fCAobnVtID09PSAxICYmIGlzLmFycmF5KHZhbHVlKSkgfHwgKG51bSA9PT0gMiAmJiBpcy5hcmd1bWVudHModmFsdWUpKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICcnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZXhpc3R5P1xuICAgIGlzLmV4aXN0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHZhbHVlIHRydXRoeT9cbiAgICBpcy50cnV0aHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMuZXhpc3R5KHZhbHVlKSAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgaXMubm90Lm5hbih2YWx1ZSkgJiYgdmFsdWUgIT09IFwiXCIgJiYgdmFsdWUgIT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgZmFsc3k/XG4gICAgaXMuZmFsc3kgPSBub3QoaXMudHJ1dGh5KTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gdmFsdWUgc3BhY2U/XG4gICAgLy8gaG9yaXphbnRhbCB0YWI6IDksIGxpbmUgZmVlZDogMTAsIHZlcnRpY2FsIHRhYjogMTEsIGZvcm0gZmVlZDogMTIsIGNhcnJpYWdlIHJldHVybjogMTMsIHNwYWNlOiAzMlxuICAgIGlzLnNwYWNlID0gIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmKGlzLmNoYXIodmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgY2hhcmFjdGVyQ29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICByZXR1cm4gKGNoYXJhY3RlckNvZGUgPiAgOCAmJiBjaGFyYWN0ZXJDb2RlIDwgMTQpIHx8IGNoYXJhY3RlckNvZGUgPT09IDMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFyaXRobWV0aWMgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGFyZSBnaXZlbiB2YWx1ZXMgZXF1YWw/IHN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MsIHJlZ2V4cHMsIGJvb2xlYW5zXG4gICAgLy8gVE9ETzogQWRkIG9iamVjdCBhbmQgYXJyYXkgc3VwcG9ydFxuICAgIGlzLmVxdWFsID0gZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgLy8gY2hlY2sgMCBhbmQgLTAgZXF1aXR5IHdpdGggSW5maW5pdHkgYW5kIC1JbmZpbml0eVxuICAgICAgICBpZihpcy5hbGwubnVtYmVyKHZhbHVlMSwgdmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlMSA9PT0gdmFsdWUyICYmIDEgLyB2YWx1ZTEgPT09IDEgLyB2YWx1ZTI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgcmVnZXhwcyBhcyBzdHJpbmdzIHRvb1xuICAgICAgICBpZihpcy5hbGwuc3RyaW5nKHZhbHVlMSwgdmFsdWUyKSB8fCBpcy5hbGwucmVnZXhwKHZhbHVlMSwgdmFsdWUyKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsdWUxID09PSAnJyArIHZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgICBpZihpcy5hbGwuYm9vbGVhbih2YWx1ZTEsIHZhbHVlMikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBlcXVhbCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLmVxdWFsLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBldmVuP1xuICAgIGlzLmV2ZW4gPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIG9kZD9cbiAgICBpcy5vZGQgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDIgPT09IDE7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIHBvc2l0aXZlP1xuICAgIGlzLnBvc2l0aXZlID0gZnVuY3Rpb24obnVtYikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKG51bWIpICYmIG51bWIgPiAwO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBuZWdhdGl2ZT9cbiAgICBpcy5uZWdhdGl2ZSA9IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iIDwgMDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWluaW11bSBwYXJhbWV0ZXI/XG4gICAgaXMuYWJvdmUgPSBmdW5jdGlvbihudW1iLCBtaW4pIHtcbiAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWluKSAmJiBudW1iID4gbWluO1xuICAgIH07XG4gICAgLy8gYWJvdmUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5hYm92ZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgYWJvdmUgbWF4aW11bSBwYXJhbWV0ZXI/XG4gICAgaXMudW5kZXIgPSBmdW5jdGlvbihudW1iLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIGlzLmFsbC5udW1iZXIobnVtYiwgbWF4KSAmJiBudW1iIDwgbWF4O1xuICAgIH07XG4gICAgLy8gbGVhc3QgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy51bmRlci5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgd2l0aGluIG1pbmltdW0gYW5kIG1heGltdW0gcGFyYW1ldGVycz9cbiAgICBpcy53aXRoaW4gPSBmdW5jdGlvbihudW1iLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gaXMuYWxsLm51bWJlcihudW1iLCBtaW4sIG1heCkgJiYgbnVtYiA+IG1pbiAmJiBudW1iIDwgbWF4O1xuICAgIH07XG4gICAgLy8gd2l0aGluIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMud2l0aGluLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBkZWNpbWFsP1xuICAgIGlzLmRlY2ltYWwgPSBmdW5jdGlvbihudW1iKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIobnVtYikgJiYgbnVtYiAlIDEgIT09IDA7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gbnVtYmVyIGludGVnZXI/XG4gICAgaXMuaW50ZWdlciA9IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcihudW1iKSAmJiBudW1iICUgMSA9PT0gMDtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBudW1iZXIgZmluaXRlP1xuICAgIGlzLmZpbml0ZSA9IGlzRmluaXRlIHx8IGZ1bmN0aW9uKG51bWIpIHtcbiAgICAgICAgcmV0dXJuIG51bWIgIT09IEluZmluaXR5ICYmIG51bWIgIT09IC1JbmZpbml0eSAmJiBpcy5ub3QubmFuKG51bWIpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG51bWJlciBpbmZpbml0ZT9cbiAgICBpcy5pbmZpbml0ZSA9IG5vdChpcy5maW5pdGUpO1xuXG4gICAgLy8gUmVnZXhwIGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgLy8gU3RldmVuIExldml0aGFuLCBKYW4gR295dmFlcnRzOiBSZWd1bGFyIEV4cHJlc3Npb25zIENvb2tib29rXG4gICAgLy8gU2NvdHQgR29uemFsZXo6IEVtYWlsIGFkZHJlc3MgdmFsaWRhdGlvblxuXG4gICAgLy8gZXBwUGhvbmUgbWF0Y2ggZXh0ZW5zaWJsZSBwcm92aXNpb25pbmcgcHJvdG9jb2wgZm9ybWF0XG4gICAgLy8gbmFucFBob25lIG1hdGNoIG5vcnRoIGFtZXJpY2FuIG51bWJlciBwbGFuIGZvcm1hdFxuICAgIC8vIGRhdGVTdHJpbmcgbWF0Y2ggbS9kL3l5IGFuZCBtbS9kZC95eXl5LCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2Ygb25lIG9yIHR3byBkaWdpdHMgZm9yIHRoZSBkYXkgYW5kIG1vbnRoLCBhbmQgdHdvIG9yIGZvdXIgZGlnaXRzIGZvciB0aGUgeWVhclxuICAgIC8vIHRpbWUgbWF0Y2ggaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLCAyNC1ob3VyIGNsb2NrXG4gICAgdmFyIHJlZ2V4cHMgPSB7XG4gICAgICAgIHVybDogL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSg/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9cXFMqKT8kL2ksXG4gICAgICAgIGVtYWlsOiAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2ksXG4gICAgICAgIGNyZWRpdENhcmQ6IC9eKD86KDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pKSQvLFxuICAgICAgICBhbHBoYU51bWVyaWM6IC9eW0EtWmEtejAtOV0rJC8sXG4gICAgICAgIHRpbWVTdHJpbmc6IC9eKDJbMC0zXXxbMDFdP1swLTldKTooWzAtNV0/WzAtOV0pOihbMC01XT9bMC05XSkkLyxcbiAgICAgICAgZGF0ZVN0cmluZzogL14oMVswLTJdfDA/WzEtOV0pXFwvKDNbMDFdfFsxMl1bMC05XXwwP1sxLTldKVxcLyg/OlswLTldezJ9KT9bMC05XXsyfSQvLFxuICAgICAgICB1c1ppcENvZGU6IC9eWzAtOV17NX0oPzotWzAtOV17NH0pPyQvLFxuICAgICAgICBjYVBvc3RhbENvZGU6IC9eKD8hLipbREZJT1FVXSlbQS1WWFldWzAtOV1bQS1aXVxccz9bMC05XVtBLVpdWzAtOV0kLyxcbiAgICAgICAgdWtQb3N0Q29kZTogL15bQS1aXXsxLDJ9WzAtOVJDSE5RXVswLTlBLVpdP1xccz9bMC05XVtBQkQtSEpMTlAtVVctWl17Mn0kfF5bQS1aXXsyfS0/WzAtOV17NH0kLyxcbiAgICAgICAgbmFucFBob25lOiAvXlxcKD8oWzAtOV17M30pXFwpP1stLiBdPyhbMC05XXszfSlbLS4gXT8oWzAtOV17NH0pJC8sXG4gICAgICAgIGVwcFBob25lOiAvXlxcK1swLTldezEsM31cXC5bMC05XXs0LDE0fSg/OnguKyk/JC8sXG4gICAgICAgIHNvY2lhbFNlY3VyaXR5TnVtYmVyOiAvXig/ITAwMHw2NjYpWzAtOF1bMC05XXsyfS0oPyEwMClbMC05XXsyfS0oPyEwMDAwKVswLTldezR9JC8sXG4gICAgICAgIGFmZmlybWF0aXZlOiAvXig/OjF8dCg/OnJ1ZSk/fHkoPzplcyk/fG9rKD86YXkpPykkLyxcbiAgICAgICAgaGV4YWRlY2ltYWw6IC9eWzAtOWEtZkEtRl0rJC8sXG4gICAgICAgIGhleENvbG9yOiAvXiM/KFswLTlhLWZBLUZdezN9fFswLTlhLWZBLUZdezZ9KSQvLFxuICAgICAgICBpcHY0OiAvXig/Oig/OlxcZHxbMS05XVxcZHwxXFxkezJ9fDJbMC00XVxcZHwyNVswLTVdKVxcLil7M30oPzpcXGR8WzEtOV1cXGR8MVxcZHsyfXwyWzAtNF1cXGR8MjVbMC01XSkkLyxcbiAgICAgICAgaXB2NjogL14oKFthLXpBLVpdfFthLXpBLVpdW2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pXFwuKSooW0EtWmEtel18W0EtWmEtel1bQS1aYS16MC05XFwtXSpbQS1aYS16MC05XSkkfF5cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLFxuICAgICAgICBpcDogL14oKFswLTldfFsxLTldWzAtOV18MVswLTldezJ9fDJbMC00XVswLTldfDI1WzAtNV0pXFwuKXszfShbMC05XXxbMS05XVswLTldfDFbMC05XXsyfXwyWzAtNF1bMC05XXwyNVswLTVdKSR8XigoW2EtekEtWl18W2EtekEtWl1bYS16QS1aMC05XFwtXSpbYS16QS1aMC05XSlcXC4pKihbQS1aYS16XXxbQS1aYS16XVtBLVphLXowLTlcXC1dKltBLVphLXowLTldKSR8XlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC9cbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIHJlZ2V4cCBjaGVja3MgbWV0aG9kcyBmcm9tICdyZWdleHAnIG9iamVjdFxuICAgIGZvcih2YXIgcmVnZXhwIGluIHJlZ2V4cHMpIHtcbiAgICAgICAgaWYocmVnZXhwcy5oYXNPd25Qcm9wZXJ0eShyZWdleHApKSB7XG4gICAgICAgICAgICByZWdleHBDaGVjayhyZWdleHAsIHJlZ2V4cHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhwQ2hlY2socmVnZXhwLCByZWdleHBzKSB7XG4gICAgICAgIGlzW3JlZ2V4cF0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cHNbcmVnZXhwXS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTdHJpbmcgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGlzIGEgZ2l2ZW4gc3RyaW5nIGluY2x1ZGUgcGFyYW1ldGVyIHN1YnN0cmluZz9cbiAgICBpcy5pbmNsdWRlID0gZnVuY3Rpb24oc3RyLCBzdWJzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1YnN0cikgPiAtMTtcbiAgICB9O1xuICAgIC8vIGluY2x1ZGUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbmNsdWRlLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBhbGwgdXBwZXJjYXNlP1xuICAgIGlzLnVwcGVyQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyID09PSBzdHIudG9VcHBlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBzdHJpbmcgYWxsIGxvd2VyY2FzZT9cbiAgICBpcy5sb3dlckNhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PT0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIC8vIGlzIHN0cmluZyBzdGFydCB3aXRoIGEgZ2l2ZW4gc3RhcnRXaXRoIHBhcmFtZXRlcj9cbiAgICBpcy5zdGFydFdpdGggPSBmdW5jdGlvbihzdHIsIHN0YXJ0V2l0aCkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2Yoc3RhcnRXaXRoKSA9PT0gMDtcbiAgICB9O1xuICAgIC8vIHN0YXJ0V2l0aCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnN0YXJ0V2l0aC5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgc3RyaW5nIGVuZCB3aXRoIGEgZ2l2ZW4gZW5kV2l0aCBwYXJhbWV0ZXI/XG4gICAgaXMuZW5kV2l0aCA9IGZ1bmN0aW9uKHN0ciwgZW5kV2l0aCkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHN0cikgJiYgc3RyLmluZGV4T2YoZW5kV2l0aCkgPiAtMSAmJiBzdHIuaW5kZXhPZihlbmRXaXRoKSA9PT0gc3RyLmxlbmd0aCAtICBlbmRXaXRoLmxlbmd0aDtcbiAgICB9O1xuICAgIC8vIGVuZFdpdGggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5lbmRXaXRoLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBvciBzZW50ZW5jZSBjYXBpdGFsaXplZD9cbiAgICBpcy5jYXBpdGFsaXplZCA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZihpcy5ub3Quc3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd29yZHMgPSBzdHIuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIGNhcGl0YWxpemVkID0gW107XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FwaXRhbGl6ZWQucHVzaCh3b3Jkc1tpXVswXSA9PT0gd29yZHNbaV1bMF0udG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzLmFsbC50cnV0aHkuYXBwbHkobnVsbCwgY2FwaXRhbGl6ZWQpO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIHN0cmluZyBwYWxpbmRyb21lP1xuICAgIGlzLnBhbGluZHJvbWUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyhzdHIpICYmIHN0ciA9PSBzdHIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9O1xuXG4gICAgLy8gVGltZSBjaGVja3NcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgdmFyIGRheXMgPSBbJ3N1bmRheScsICdtb25kYXknLCAndHVlc2RheScsICd3ZWRuZXNkYXknLCAndGh1cnNkYXknLCAnZnJpZGF5JywgJ3NhdHVyZGF5J107XG4gICAgdmFyIG1vbnRocyA9IFsnamFudWFyeScsICdmZWJydWFyeScsICdtYXJjaCcsICdhcHJpbCcsICdtYXknLCAnanVuZScsICdqdWx5JywgJ2F1Z3VzdCcsICdzZXB0ZW1iZXInLCAnb2N0b2JlcicsICdub3ZlbWJlcicsICdkZWNlbWJlciddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHRvZGF5P1xuICAgIGlzLnRvZGF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgdG9kYXlTdHJpbmcgPSBub3cudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b2RheVN0cmluZztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluZGljYXRlIHllc3RlcmRheT9cbiAgICBpcy55ZXN0ZXJkYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciB5ZXN0ZXJkYXlTdHJpbmcgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSkpLnRvRGF0ZVN0cmluZygpO1xuICAgICAgICByZXR1cm4gaXMuZGF0ZShvYmopICYmIG9iai50b0RhdGVTdHJpbmcoKSA9PT0geWVzdGVyZGF5U3RyaW5nO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW5kaWNhdGUgdG9tb3Jyb3c/XG4gICAgaXMudG9tb3Jyb3cgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciB0b21vcnJvd1N0cmluZyA9IG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgKyAxKSkudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgb2JqLnRvRGF0ZVN0cmluZygpID09PSB0b21vcnJvd1N0cmluZztcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIHBhc3Q/XG4gICAgaXMucGFzdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGlzLmRhdGUob2JqKSAmJiBvYmouZ2V0VGltZSgpIDwgbm93LmdldFRpbWUoKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGZ1dHVyZT9cbiAgICBpcy5mdXR1cmUgPSBub3QoaXMucGFzdCk7XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGVzIGRheSBlcXVhbCBnaXZlbiBkYXlTdHJpbmcgcGFyYW1ldGVyP1xuICAgIGlzLmRheSA9IGZ1bmN0aW9uKG9iaiwgZGF5U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgZGF5U3RyaW5nLnRvTG93ZXJDYXNlKCkgPT09IGRheXNbb2JqLmdldERheSgpXTtcbiAgICB9O1xuICAgIC8vIGRheSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLmRheS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlcyBtb250aCBlcXVhbCBnaXZlbiBtb250aFN0cmluZyBwYXJhbWV0ZXI/XG4gICAgaXMubW9udGggPSBmdW5jdGlvbihvYmosIG1vbnRoU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgbW9udGhTdHJpbmcudG9Mb3dlckNhc2UoKSA9PT0gbW9udGhzW29iai5nZXRNb250aCgpXTtcbiAgICB9O1xuICAgIC8vIG1vbnRoIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgaXMubW9udGguYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZXMgeWVhciBlcXVhbCBnaXZlbiB5ZWFyIHBhcmFtZXRlcj9cbiAgICBpcy55ZWFyID0gZnVuY3Rpb24ob2JqLCB5ZWFyKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHllYXIpICYmIHllYXIgPT09IG9iai5nZXRGdWxsWWVhcigpO1xuICAgIH07XG4gICAgLy8geWVhciBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgIGlzLnllYXIuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIHRoZSBnaXZlbiB5ZWFyIGEgbGVhcCB5ZWFyP1xuICAgIGlzLmxlYXBZZWFyID0gZnVuY3Rpb24oeWVhcikge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKHllYXIpICYmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSB3ZWVrZW5kP1xuICAgIC8vIDY6IFNhdHVyZGF5LCAwOiBTdW5kYXlcbiAgICBpcy53ZWVrZW5kID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgKG9iai5nZXREYXkoKSA9PT0gNiB8fCBvYmouZ2V0RGF5KCkgPT09IDApO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgd2Vla2RheT9cbiAgICBpcy53ZWVrZGF5ID0gbm90KGlzLndlZWtlbmQpO1xuXG4gICAgLy8gaXMgZGF0ZSB3aXRoaW4gZ2l2ZW4gcmFuZ2U/XG4gICAgaXMuaW5EYXRlUmFuZ2UgPSBmdW5jdGlvbihvYmosIHN0YXJ0T2JqLCBlbmRPYmopIHtcbiAgICAgICAgaWYoaXMubm90LmRhdGUob2JqKSB8fCBpcy5ub3QuZGF0ZShzdGFydE9iaikgfHwgaXMubm90LmRhdGUoZW5kT2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnaXZlbkRhdGUgPSBvYmouZ2V0VGltZSgpO1xuICAgICAgICB2YXIgc3RhcnQgPSBzdGFydE9iai5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBlbmQgPSBlbmRPYmouZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gZ2l2ZW5EYXRlID4gc3RhcnQgJiYgZ2l2ZW5EYXRlIDwgZW5kO1xuICAgIH07XG4gICAgLy8gaW5EYXRlUmFuZ2UgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbkRhdGVSYW5nZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3Qgd2VlayByYW5nZT9cbiAgICBpcy5pbkxhc3RXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSwgbmV3IERhdGUoKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBsYXN0IG1vbnRoIHJhbmdlP1xuICAgIGlzLmluTGFzdE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIGxhc3QgeWVhciByYW5nZT9cbiAgICBpcy5pbkxhc3RZZWFyID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLCBuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgd2VlayByYW5nZT9cbiAgICBpcy5pbk5leHRXZWVrID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDcpKSk7XG4gICAgfTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gZGF0ZSBpbiBuZXh0IG1vbnRoIHJhbmdlP1xuICAgIGlzLmluTmV4dE1vbnRoID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSkpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIG5leHQgeWVhciByYW5nZT9cbiAgICBpcy5pbk5leHRZZWFyID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBpcy5pbkRhdGVSYW5nZShvYmosIG5ldyBEYXRlKCksIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgMSkpKTtcbiAgICB9O1xuXG4gICAgLy8gaXMgYSBnaXZlbiBkYXRlIGluIHRoZSBwYXJhbWV0ZXIgcXVhcnRlcj9cbiAgICBpcy5xdWFydGVyT2ZZZWFyID0gZnVuY3Rpb24ob2JqLCBxdWFydGVyTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBpcy5kYXRlKG9iaikgJiYgaXMubnVtYmVyKHF1YXJ0ZXJOdW1iZXIpICYmIHF1YXJ0ZXJOdW1iZXIgPT09IE1hdGguZmxvb3IoKG9iai5nZXRNb250aCgpICsgMykgLyAzKTtcbiAgICB9O1xuICAgIC8vIHF1YXJ0ZXJPZlllYXIgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5xdWFydGVyT2ZZZWFyLmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIGRhdGUgaW4gZGF5bGlnaHQgc2F2aW5nIHRpbWU/XG4gICAgaXMuZGF5TGlnaHRTYXZpbmdUaW1lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBqYW51YXJ5ID0gbmV3IERhdGUob2JqLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgICB2YXIganVseSA9IG5ldyBEYXRlKG9iai5nZXRGdWxsWWVhcigpLCA2LCAxKTtcbiAgICAgICAgdmFyIHN0ZFRpbWV6b25lT2Zmc2V0ID0gTWF0aC5tYXgoamFudWFyeS5nZXRUaW1lem9uZU9mZnNldCgpLCBqdWx5LmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgICAgICByZXR1cm4gb2JqLmdldFRpbWV6b25lT2Zmc2V0KCkgPCBzdGRUaW1lem9uZU9mZnNldDtcbiAgICB9O1xuXG4gICAgLy8gRW52aXJvbm1lbnQgY2hlY2tzXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGNoZWNrIGlmIGxpYnJhcnkgaXMgdXNlZCBhcyBhIE5vZGUuanMgbW9kdWxlXG4gICAgaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgICAgICAvLyBzdG9yZSBuYXZpZ2F0b3IgcHJvcGVydGllcyB0byB1c2UgbGF0ZXJcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9ICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJiAndXNlckFnZW50JyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgICB2YXIgdmVuZG9yID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICd2ZW5kb3InIGluIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudmVuZG9yLnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgICAgIHZhciBhcHBWZXJzaW9uID0gJ25hdmlnYXRvcicgaW4gd2luZG93ICYmICdhcHBWZXJzaW9uJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKSB8fCAnJztcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgY2hyb21lP1xuICAgICAgICBpcy5jaHJvbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvY2hyb21lfGNocm9taXVtL2kudGVzdCh1c2VyQWdlbnQpICYmIC9nb29nbGUgaW5jLy50ZXN0KHZlbmRvcik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNocm9tZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5jaHJvbWUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZmlyZWZveD9cbiAgICAgICAgaXMuZmlyZWZveCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBmaXJlZm94IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmZpcmVmb3guYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgZWRnZT9cbiAgICAgICAgaXMuZWRnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9lZGdlL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBlZGdlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmVkZ2UuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgaW50ZXJuZXQgZXhwbG9yZXI/XG4gICAgICAgIC8vIHBhcmFtZXRlciBpcyBvcHRpb25hbFxuICAgICAgICBpcy5pZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgICAgICAgICAgIGlmKCF2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9tc2llL2kudGVzdCh1c2VyQWdlbnQpIHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZlcnNpb24gPj0gMTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ21zaWUgJyArIHZlcnNpb24pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaWUgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuaWUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgb3BlcmE/XG4gICAgICAgIGlzLm9wZXJhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL15PcGVyYVxcLy8udGVzdCh1c2VyQWdlbnQpIHx8IC8vIE9wZXJhIDEyIGFuZCBvbGRlciB2ZXJzaW9uc1xuICAgICAgICAgICAgICAgIC9cXHgyME9QUlxcLy8udGVzdCh1c2VyQWdlbnQpOyAvLyBPcGVyYSAxNStcbiAgICAgICAgfTtcbiAgICAgICAgLy8gb3BlcmEgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMub3BlcmEuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGJyb3dzZXIgc2FmYXJpP1xuICAgICAgICBpcy5zYWZhcmkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvc2FmYXJpL2kudGVzdCh1c2VyQWdlbnQpICYmIC9hcHBsZSBjb21wdXRlci9pLnRlc3QodmVuZG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc2FmYXJpIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLnNhZmFyaS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlvcz9cbiAgICAgICAgaXMuaW9zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXMuaXBob25lKCkgfHwgaXMuaXBhZCgpIHx8IGlzLmlwb2QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaW9zIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlvcy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwaG9uZT9cbiAgICAgICAgaXMuaXBob25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2lwaG9uZS9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXBob25lIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlwaG9uZS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGlwYWQ/XG4gICAgICAgIGlzLmlwYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvaXBhZC9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXBhZCBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5pcGFkLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2UgaXBvZD9cbiAgICAgICAgaXMuaXBvZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pcG9kL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBpcG9kIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmlwb2QuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkP1xuICAgICAgICBpcy5hbmRyb2lkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGFuZHJvaWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuYW5kcm9pZC5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGFuZHJvaWQgcGhvbmU/XG4gICAgICAgIGlzLmFuZHJvaWRQaG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpICYmIC9tb2JpbGUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGFuZHJvaWRQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5hbmRyb2lkUGhvbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBhbmRyb2lkIHRhYmxldD9cbiAgICAgICAgaXMuYW5kcm9pZFRhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpICYmICEvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBhbmRyb2lkVGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmFuZHJvaWRUYWJsZXQuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBibGFja2JlcnJ5P1xuICAgICAgICBpcy5ibGFja2JlcnJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2JsYWNrYmVycnkvaS50ZXN0KHVzZXJBZ2VudCkgfHwgL0JCMTAvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGJsYWNrYmVycnkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMuYmxhY2tiZXJyeS5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIGRlc2t0b3A/XG4gICAgICAgIGlzLmRlc2t0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpcy5ub3QubW9iaWxlKCkgJiYgaXMubm90LnRhYmxldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZXNrdG9wIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLmRlc2t0b3AuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbGludXg/XG4gICAgICAgIGlzLmxpbnV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL2xpbnV4L2kudGVzdChhcHBWZXJzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbGludXggbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMubGludXguYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IG9wZXJhdGluZyBzeXN0ZW0gbWFjP1xuICAgICAgICBpcy5tYWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAvbWFjL2kudGVzdChhcHBWZXJzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbWFjIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLm1hYy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgb3BlcmF0aW5nIHN5c3RlbSB3aW5kb3dzP1xuICAgICAgICBpcy53aW5kb3dzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL3dpbi9pLnRlc3QoYXBwVmVyc2lvbik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHdpbmRvd3MgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMud2luZG93cy5hcGkgPSBbJ25vdCddO1xuXG4gICAgICAgIC8vIGlzIGN1cnJlbnQgZGV2aWNlIHdpbmRvd3MgcGhvbmU/XG4gICAgICAgIGlzLndpbmRvd3NQaG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiAvcGhvbmUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHdpbmRvd3NQaG9uZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy53aW5kb3dzUGhvbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB3aW5kb3dzIHRhYmxldD9cbiAgICAgICAgaXMud2luZG93c1RhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLndpbmRvd3MoKSAmJiBpcy5ub3Qud2luZG93c1Bob25lKCkgJiYgL3RvdWNoL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB3aW5kb3dzVGFibGV0IG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLndpbmRvd3NUYWJsZXQuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSBtb2JpbGU/XG4gICAgICAgIGlzLm1vYmlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLmlwaG9uZSgpIHx8IGlzLmlwb2QoKSB8fCBpcy5hbmRyb2lkUGhvbmUoKSB8fCBpcy5ibGFja2JlcnJ5KCkgfHwgaXMud2luZG93c1Bob25lKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG1vYmlsZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5tb2JpbGUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IGRldmljZSB0YWJsZXQ/XG4gICAgICAgIGlzLnRhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzLmlwYWQoKSB8fCBpcy5hbmRyb2lkVGFibGV0KCkgfHwgaXMud2luZG93c1RhYmxldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0YWJsZXQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICAgICAgaXMudGFibGV0LmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBzdGF0ZSBvbmxpbmU/XG4gICAgICAgIGlzLm9ubGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG9ubGluZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5vbmxpbmUuYXBpID0gWydub3QnXTtcblxuICAgICAgICAvLyBpcyBjdXJyZW50IHN0YXRlIG9mZmxpbmU/XG4gICAgICAgIGlzLm9mZmxpbmUgPSBub3QoaXMub25saW5lKTtcbiAgICAgICAgLy8gb2ZmbGluZSBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAnYWxsJyBhbmQgJ2FueScgaW50ZXJmYWNlc1xuICAgICAgICBpcy5vZmZsaW5lLmFwaSA9IFsnbm90J107XG5cbiAgICAgICAgLy8gaXMgY3VycmVudCBkZXZpY2Ugc3VwcG9ydHMgdG91Y2g/XG4gICAgICAgIGlzLnRvdWNoRGV2aWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8J0RvY3VtZW50VG91Y2gnIGluIHdpbmRvdyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRvdWNoRGV2aWNlIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICdhbGwnIGFuZCAnYW55JyBpbnRlcmZhY2VzXG4gICAgICAgIGlzLnRvdWNoRGV2aWNlLmFwaSA9IFsnbm90J107XG4gICAgfVxuXG4gICAgLy8gT2JqZWN0IGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBoYXMgYSBnaXZlbiBvYmplY3QgZ290IHBhcmFtZXRlcml6ZWQgY291bnQgcHJvcGVydHk/XG4gICAgaXMucHJvcGVydHlDb3VudCA9IGZ1bmN0aW9uKG9iaiwgY291bnQpIHtcbiAgICAgICAgaWYoIWlzLm9iamVjdChvYmopIHx8ICFpcy5udW1iZXIoY291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgICAgICAgIHByb3BlcnR5O1xuICAgICAgICBmb3IocHJvcGVydHkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMubGVuZ3RoID09PSBjb3VudDtcbiAgICB9O1xuICAgIC8vIHByb3BlcnR5Q291bnQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5wcm9wZXJ0eUNvdW50LmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBnaXZlbiBvYmplY3QgaGFzIHBhcmFtZXRlcml6ZWQgcHJvcGVydHk/XG4gICAgaXMucHJvcGVydHlEZWZpbmVkID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gaXMub2JqZWN0KG9iaikgJiYgaXMuc3RyaW5nKHByb3BlcnR5KSAmJiBwcm9wZXJ0eSBpbiBvYmo7XG4gICAgfTtcbiAgICAvLyBwcm9wZXJ0eURlZmluZWQgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5wcm9wZXJ0eURlZmluZWQuYXBpID0gWydub3QnXTtcblxuICAgIC8vIGlzIGEgZ2l2ZW4gb2JqZWN0IHdpbmRvdz9cbiAgICAvLyBzZXRJbnRlcnZhbCBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgZm9yIHdpbmRvdyBvYmplY3RcbiAgICBpcy53aW5kb3dPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdzZXRJbnRlcnZhbCcgaW4gb2JqO1xuICAgIH07XG5cbiAgICAvLyBpcyBhIGdpdmVuIG9iamVjdCBhIERPTSBub2RlP1xuICAgIGlzLmRvbU5vZGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIGlzLm9iamVjdChvYmopICYmIG9iai5ub2RlVHlwZSA+IDA7XG4gICAgfTtcblxuICAgIC8vIEFycmF5IGNoZWNrc1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvLyBpcyBhIGdpdmVuIGl0ZW0gaW4gYW4gYXJyYXk/XG4gICAgaXMuaW5BcnJheSA9IGZ1bmN0aW9uKHZhbCwgYXJyKXtcbiAgICAgICAgaWYoaXMubm90LmFycmF5KGFycikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSB2YWwpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vIGluQXJyYXkgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXNcbiAgICBpcy5pbkFycmF5LmFwaSA9IFsnbm90J107XG5cbiAgICAvLyBpcyBhIGdpdmVuIGFycmF5IHNvcnRlZD9cbiAgICBpcy5zb3J0ZWQgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYoaXMubm90LmFycmF5KGFycikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZihhcnJbaV0gPiBhcnJbaSArIDFdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8vIEFQSVxuICAgIC8vIFNldCAnbm90JywgJ2FsbCcgYW5kICdhbnknIGludGVyZmFjZXMgdG8gbWV0aG9kcyBiYXNlZCBvbiB0aGVpciBhcGkgcHJvcGVydHlcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJmYWNlcygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpcztcbiAgICAgICAgZm9yKHZhciBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIGlzLmZ1bmN0aW9uKG9wdGlvbnNbb3B0aW9uXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJmYWNlcyA9IG9wdGlvbnNbb3B0aW9uXS5hcGkgfHwgWydub3QnLCAnYWxsJywgJ2FueSddO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZihpbnRlcmZhY2VzW2ldID09PSAnbm90Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMubm90W29wdGlvbl0gPSBub3QoaXNbb3B0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlc1tpXSA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzLmFsbFtvcHRpb25dID0gYWxsKGlzW29wdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKGludGVyZmFjZXNbaV0gPT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcy5hbnlbb3B0aW9uXSA9IGFueShpc1tvcHRpb25dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRJbnRlcmZhY2VzKCk7XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgICAvLyBJbnRlbnRpb25hbGx5IGFkZGVkIGFmdGVyIHNldEludGVyZmFjZXMgZnVuY3Rpb25cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy8gc2V0IG9wdGlvbmFsIHJlZ2V4cHMgdG8gbWV0aG9kcyBpZiB5b3UgdGhpbmsgdGhleSBzdWNrXG4gICAgaXMuc2V0UmVnZXhwID0gZnVuY3Rpb24ocmVnZXhwLCByZWdleHBOYW1lKSB7XG4gICAgICAgIGZvcih2YXIgciBpbiByZWdleHBzKSB7XG4gICAgICAgICAgICBpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZ2V4cHMsIHIpICYmIChyZWdleHBOYW1lID09PSByKSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4cHNbcl0gPSByZWdleHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gY2hhbmdlIG5hbWVzcGFjZSBvZiBsaWJyYXJ5IHRvIHByZXZlbnQgbmFtZSBjb2xsaXNpb25zXG4gICAgLy8gdmFyIHByZWZlcnJlZE5hbWUgPSBpcy5zZXROYW1lc3BhY2UoKTtcbiAgICAvLyBwcmVmZXJyZWROYW1lLm9kZCgzKTtcbiAgICAvLyA9PiB0cnVlXG4gICAgaXMuc2V0TmFtZXNwYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJvb3QuaXMgPSBwcmV2aW91c0lzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIGlzO1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9pc19qcy9pcy5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbnZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcblx0aWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKTtcblx0fVxuXG5cdHJldHVybiB0b1N0ci5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG52YXIgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG5cdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgaGFzT3duQ29uc3RydWN0b3IgPSBoYXNPd24uY2FsbChvYmosICdjb25zdHJ1Y3RvcicpO1xuXHR2YXIgaGFzSXNQcm90b3R5cGVPZiA9IG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IucHJvdG90eXBlICYmIGhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG5cdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0aWYgKG9iai5jb25zdHJ1Y3RvciAmJiAhaGFzT3duQ29uc3RydWN0b3IgJiYgIWhhc0lzUHJvdG90eXBlT2YpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdHZhciBrZXk7XG5cdGZvciAoa2V5IGluIG9iaikgey8qKi99XG5cblx0cmV0dXJuIHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IGhhc093bi5jYWxsKG9iaiwga2V5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuXHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRpID0gMjtcblx0fSBlbHNlIGlmICgodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJykgfHwgdGFyZ2V0ID09IG51bGwpIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuXHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zW25hbWVdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKHRhcmdldCAhPT0gY29weSkge1xuXHRcdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoY29weUlzQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBleHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvcHkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBjb3B5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2V4dGVuZC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGNsb25lID0gKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmF0aXZlTWFwO1xudHJ5IHtcbiAgbmF0aXZlTWFwID0gTWFwO1xufSBjYXRjaChfKSB7XG4gIC8vIG1heWJlIGEgcmVmZXJlbmNlIGVycm9yIGJlY2F1c2Ugbm8gYE1hcGAuIEdpdmUgaXQgYSBkdW1teSB2YWx1ZSB0aGF0IG5vXG4gIC8vIHZhbHVlIHdpbGwgZXZlciBiZSBhbiBpbnN0YW5jZW9mLlxuICBuYXRpdmVNYXAgPSBmdW5jdGlvbigpIHt9O1xufVxuXG52YXIgbmF0aXZlU2V0O1xudHJ5IHtcbiAgbmF0aXZlU2V0ID0gU2V0O1xufSBjYXRjaChfKSB7XG4gIG5hdGl2ZVNldCA9IGZ1bmN0aW9uKCkge307XG59XG5cbnZhciBuYXRpdmVQcm9taXNlO1xudHJ5IHtcbiAgbmF0aXZlUHJvbWlzZSA9IFByb21pc2U7XG59IGNhdGNoKF8pIHtcbiAgbmF0aXZlUHJvbWlzZSA9IGZ1bmN0aW9uKCkge307XG59XG5cbi8qKlxuICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGRlZmF1bHQsIGJ1dCBpZiB5b3UgYXJlIGNlcnRhaW5cbiAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cbiAqXG4gKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuICogICAgY2lyY3VsYXIgcmVmZXJlbmNlcy4gKG9wdGlvbmFsIC0gdHJ1ZSBieSBkZWZhdWx0KVxuICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcbiAqIEBwYXJhbSBgcHJvdG90eXBlYCAtIHNldHMgdGhlIHByb3RvdHlwZSB0byBiZSB1c2VkIHdoZW4gY2xvbmluZyBhbiBvYmplY3QuXG4gKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cbiAqIEBwYXJhbSBgaW5jbHVkZU5vbkVudW1lcmFibGVgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAqICAgIHNob3VsZCBiZSBjbG9uZWQgYXMgd2VsbC4gTm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlXG4gKiAgICBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuIChvcHRpb25hbCAtIGZhbHNlIGJ5IGRlZmF1bHQpXG4qL1xuZnVuY3Rpb24gY2xvbmUocGFyZW50LCBjaXJjdWxhciwgZGVwdGgsIHByb3RvdHlwZSwgaW5jbHVkZU5vbkVudW1lcmFibGUpIHtcbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PT0gJ29iamVjdCcpIHtcbiAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuICAgIHByb3RvdHlwZSA9IGNpcmN1bGFyLnByb3RvdHlwZTtcbiAgICBpbmNsdWRlTm9uRW51bWVyYWJsZSA9IGNpcmN1bGFyLmluY2x1ZGVOb25FbnVtZXJhYmxlO1xuICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXI7XG4gIH1cbiAgLy8gbWFpbnRhaW4gdHdvIGFycmF5cyBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcywgd2hlcmUgY29ycmVzcG9uZGluZyBwYXJlbnRzXG4gIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG4gIHZhciBhbGxQYXJlbnRzID0gW107XG4gIHZhciBhbGxDaGlsZHJlbiA9IFtdO1xuXG4gIHZhciB1c2VCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9ICd1bmRlZmluZWQnO1xuXG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG4gICAgY2lyY3VsYXIgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG4gICAgZGVwdGggPSBJbmZpbml0eTtcblxuICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cbiAgZnVuY3Rpb24gX2Nsb25lKHBhcmVudCwgZGVwdGgpIHtcbiAgICAvLyBjbG9uaW5nIG51bGwgYWx3YXlzIHJldHVybnMgbnVsbFxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIGlmIChkZXB0aCA9PT0gMClcbiAgICAgIHJldHVybiBwYXJlbnQ7XG5cbiAgICB2YXIgY2hpbGQ7XG4gICAgdmFyIHByb3RvO1xuICAgIGlmICh0eXBlb2YgcGFyZW50ICE9ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBuYXRpdmVNYXApIHtcbiAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZU1hcCgpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlU2V0KSB7XG4gICAgICBjaGlsZCA9IG5ldyBuYXRpdmVTZXQoKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIG5hdGl2ZVByb21pc2UpIHtcbiAgICAgIGNoaWxkID0gbmV3IG5hdGl2ZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBwYXJlbnQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJlc29sdmUoX2Nsb25lKHZhbHVlLCBkZXB0aCAtIDEpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KF9jbG9uZShlcnIsIGRlcHRoIC0gMSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gW107XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlTWFwKSB7XG4gICAgICB2YXIga2V5SXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuICAgICAgd2hpbGUodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IGtleUl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlDaGlsZCA9IF9jbG9uZShuZXh0LnZhbHVlLCBkZXB0aCAtIDEpO1xuICAgICAgICB2YXIgdmFsdWVDaGlsZCA9IF9jbG9uZShwYXJlbnQuZ2V0KG5leHQudmFsdWUpLCBkZXB0aCAtIDEpO1xuICAgICAgICBjaGlsZC5zZXQoa2V5Q2hpbGQsIHZhbHVlQ2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgbmF0aXZlU2V0KSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBwYXJlbnQua2V5cygpO1xuICAgICAgd2hpbGUodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeUNoaWxkID0gX2Nsb25lKG5leHQudmFsdWUsIGRlcHRoIC0gMSk7XG4gICAgICAgIGNoaWxkLmFkZChlbnRyeUNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHBhcmVudCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gRG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBjbG9uaW5nIGEgc3ltYm9sIGJlY2F1c2UgaXQgaXMgYSBwcmltaXRpdmUsXG4gICAgICAgIC8vIGxpa2UgYSBudW1iZXIgb3Igc3RyaW5nLlxuICAgICAgICB2YXIgc3ltYm9sID0gc3ltYm9sc1tpXTtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudCwgc3ltYm9sKTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3IuZW51bWVyYWJsZSAmJiAhaW5jbHVkZU5vbkVudW1lcmFibGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZFtzeW1ib2xdID0gX2Nsb25lKHBhcmVudFtzeW1ib2xdLCBkZXB0aCAtIDEpO1xuICAgICAgICBpZiAoIWRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgc3ltYm9sLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluY2x1ZGVOb25FbnVtZXJhYmxlKSB7XG4gICAgICB2YXIgYWxsUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBhcmVudCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGFsbFByb3BlcnR5TmFtZXNbaV07XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkW3Byb3BlcnR5TmFtZV0gPSBfY2xvbmUocGFyZW50W3Byb3BlcnR5TmFtZV0sIGRlcHRoIC0gMSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG5cbiAgcmV0dXJuIF9jbG9uZShwYXJlbnQsIGRlcHRoKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuICogb3ZlcnJpZGUgb24gRkxBVCBjb25maWd1cmF0aW9uIG9iamVjdCAobm8gbmVzdGVkIHByb3BzKS5cbiAqXG4gKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuICogd29ya3MuXG4gKi9cbmNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG4gIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7fTtcbiAgYy5wcm90b3R5cGUgPSBwYXJlbnQ7XG4gIHJldHVybiBuZXcgYygpO1xufTtcblxuLy8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBfX29ialRvU3RyKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuY2xvbmUuX19pc0RhdGUgPSBfX2lzRGF0ZTtcblxuZnVuY3Rpb24gX19pc0FycmF5KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuY2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXG5mdW5jdGlvbiBfX2lzUmVnRXhwKG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufVxuY2xvbmUuX19nZXRSZWdFeHBGbGFncyA9IF9fZ2V0UmVnRXhwRmxhZ3M7XG5cbnJldHVybiBjbG9uZTtcbn0pKCk7XG5cbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jbG9uZS9jbG9uZS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9idWZmZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIHBsYWNlSG9sZGVyc0NvdW50IChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIHRoZSBudW1iZXIgb2YgZXF1YWwgc2lnbnMgKHBsYWNlIGhvbGRlcnMpXG4gIC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcbiAgLy8gcmVwcmVzZW50IG9uZSBieXRlXG4gIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lLCB0aGVuIHRoZSB0aHJlZSBjaGFyYWN0ZXJzIGJlZm9yZSBpdCByZXByZXNlbnQgMiBieXRlc1xuICAvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG4gIHJldHVybiBiNjRbbGVuIC0gMl0gPT09ICc9JyA/IDIgOiBiNjRbbGVuIC0gMV0gPT09ICc9JyA/IDEgOiAwXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICAvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbiAgcmV0dXJuIGI2NC5sZW5ndGggKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0NvdW50KGI2NClcbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBwbGFjZUhvbGRlcnMgPSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cbiAgYXJyID0gbmV3IEFycihsZW4gKiAzIC8gNCAtIHBsYWNlSG9sZGVycylcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gbGVuIC0gNCA6IGxlblxuXG4gIHZhciBMID0gMFxuXG4gIGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltMKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICsgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9ICh1aW50OFtpXSA8PCAxNikgKyAodWludDhbaSArIDFdIDw8IDgpICsgKHVpbnQ4W2kgKyAyXSlcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIG91dHB1dCA9ICcnXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXVxuICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdXG4gICAgb3V0cHV0ICs9ICc9PSdcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgKHVpbnQ4W2xlbiAtIDFdKVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDEwXVxuICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz0nXG4gIH1cblxuICBwYXJ0cy5wdXNoKG91dHB1dClcblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vYmFzZTY0LWpzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vaWVlZTc1NC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2lzYXJyYXkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcImJhclwiLFxuICAgIHN0YXRpY0NsYXNzOiBcImJhclwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5jbGlja1xuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidmFsdWVcIixcbiAgICBzdHlsZTogKHtcbiAgICAgIHdpZHRoOiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG4gICAgfSlcbiAgfSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJ0aHVtYlwiLFxuICAgIHN0YXRpY0NsYXNzOiBcInRodW1iXCIsXG4gICAgc3R5bGU6ICh7XG4gICAgICBsZWZ0OiBfdm0uc2VsZlZhbHVlICogMTAwICsgJyUnXG4gICAgfSlcbiAgfSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTUwYmI1MzBiIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3JhbmdlLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtN2Y1NmM3YTYhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtN2Y1NmM3YTYhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdGltZS1wYW5lbC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL3RpbWUtcGFuZWwudnVlXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90aW1lLXBhbmVsLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtN2Y1NmM3YTYhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3RpbWUtcGFuZWwudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTdmNTZjN2E2IS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL3RpbWUtcGFuZWwudnVlXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxzcGFuIEBjbGljaz1cInJlbWFpbiA9ICFyZW1haW5cIj5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwicmVtYWluXCI+XG4gICAgICAgIC17eyhkdXJhdGlvbiAtIGN1cnJlbnRUaW1lKSB8IHRpbWV9fVxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIHt7Y3VycmVudFRpbWUgfCB0aW1lfX1cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9zcGFuPlxuICAgIC8ge3tkdXJhdGlvbiB8IHRpbWV9fVxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7dGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZW1haW46IGNhY2hlLnRpbWVSZW1haW4sXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGR1cmF0aW9uOiB7XG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgdHlwZTogTnVtYmVyLFxuICAgIH0sXG4gICAgY3VycmVudFRpbWU6IHtcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgfSxcbiAgZmlsdGVyczoge1xuICAgIHRpbWUodGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gdGltZXN0YW1wMnRpbWVzdHIodGltZXN0YW1wLCB0cnVlKVxuICAgIH0sXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgcmVtYWluKHZhbCkge1xuICAgICAgY2FjaGUudGltZVJlbWFpbiA9IHZhbFxuICAgIH0sXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0aW1lLXBhbmVsLnZ1ZT81YTg2MTU3MSIsImltcG9ydCB7Y2FjaGV9IGZyb20gJy4vdXRpbHMnXG5cbmNvbnN0IGNhY2hlTWFwID0ge1xuICBscmNGb3JtYXQ6IHt9LFxuICBseXJpYzoge30sXG4gIGVkaXRpbmc6IHtcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGx5cmljQXJyYXk6IHtcbiAgICBkZWZhdWx0OiBbXVxuICB9LFxuICB0aW1lUmVtYWluOiB7XG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0sXG4gIHVzZXJOYW1lOiB7XG4gICAgZGVmYXVsdDogJycsXG4gIH0sXG59XG5cbnZhciBjYWNoZU9iaiA9IHt9XG5PYmplY3Qua2V5cyhjYWNoZU1hcCkuZm9yRWFjaCgocHJvcCkgPT4ge1xuICBsZXQgY29uZmlnID0gY2FjaGVNYXBbcHJvcF1cbiAgY2FjaGVPYmpbcHJvcF0gPSBjYWNoZS5nZXQoY29uZmlnLm5hbWUgfHwgcHJvcCwgY29uZmlnLmRlZmF1bHQgfHwgJycpXG59KVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHJveHkoY2FjaGVPYmosIHtcbiAgc2V0OiBmdW5jdGlvbihvYmosIHByb3AsIHZhbHVlKSB7XG4gICAgbGV0IGNvbmZpZyA9IGNhY2hlTWFwW3Byb3BdXG4gICAgY2FjaGUuc2V0KGNvbmZpZy5uYW1lIHx8IHByb3AsIHZhbHVlKVxuICAgIG9ialtwcm9wXSA9IHZhbHVlXG4gICAgcmV0dXJuIHRydWVcbiAgfSxcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY2FjaGUuanMiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgnc3BhbicsIHtcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLnJlbWFpbiA9ICFfdm0ucmVtYWluXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5yZW1haW4pID8gW1wiXFxuICAgICAgLVwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoKF92bS5kdXJhdGlvbiAtIF92bS5jdXJyZW50VGltZSkpKSArIFwiXFxuICAgIFwiXSA6IFtcIlxcbiAgICAgIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmN1cnJlbnRUaW1lKSkgKyBcIlxcbiAgICBcIl0sIFwiIFwiXSksIFwiXFxuICAvIFwiICsgX3ZtLl9zKF92bS5fZihcInRpbWVcIikoX3ZtLmR1cmF0aW9uKSkgKyBcIlxcblwiXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi03ZjU2YzdhNiEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC90aW1lLXBhbmVsLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgdmFsdWU6IChfdm0uc3JjLmxlbmd0aCksXG4gICAgICBleHByZXNzaW9uOiBcInNyYy5sZW5ndGhcIlxuICAgIH1dLFxuICAgIHN0YXRpY0NsYXNzOiBcInJvb3RcIixcbiAgICBjbGFzczoge1xuICAgICAgbW9iaWxlOiBfdm0uaXNNb2JpbGVcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcIm1vdXNlb3ZlclwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmhvdmVyID0gdHJ1ZVxuICAgICAgfSxcbiAgICAgIFwibW91c2VsZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLmhvdmVyID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJwbGF5ZXJcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY3RybC1idG5cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBcIltTUEFDRV1cIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5wYXVzZWQgPSAhX3ZtLnBhdXNlZFxuICAgICAgfVxuICAgIH1cbiAgfSwgWyhfdm0ucGF1c2VkKSA/IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsYXlcIlxuICB9KSA6IF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXBhdXNlXCJcbiAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW0xFRlRdXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJGVtaXQoJ2JhY2t3YXJkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1iYWNrd2FyZFwiXG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW1JJR0hUXVwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRlbWl0KCdmb3J3YXJkJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1mb3J3YXJkXCJcbiAgfSldKSwgXCIgXCIsIF92bS5faCgncmFuZ2UnLCB7XG4gICAgcmVmOiBcIm11c2ljUmFuZ2VcIixcbiAgICBzdGF0aWNDbGFzczogXCJyYW5nZSBtdXNpY1wiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS5wcm9jZXNzXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJzZWVrXCI6IF92bS5zZWVrXG4gICAgfVxuICB9KSwgXCIgXCIsICghX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG4gICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcbiAgICB9XG4gIH0pIDogX3ZtLl9lKCldKSwgXCIgXCIsIF92bS5faCgndHJhbnNpdGlvbicsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJuYW1lXCI6IFwicGxheWVyLW1vcmVcIlxuICAgIH1cbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICB2YWx1ZTogKF92bS5pc01vYmlsZSB8fCBfdm0uaG92ZXIpLFxuICAgICAgZXhwcmVzc2lvbjogXCJpc01vYmlsZSB8fCBob3ZlclwiXG4gICAgfV0sXG4gICAgc3RhdGljQ2xhc3M6IFwibW9yZVwiXG4gIH0sIFsoX3ZtLmlzTW9iaWxlKSA/IF92bS5faCgndGltZS1wYW5lbCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkdXJhdGlvblwiOiBfdm0uZHVyYXRpb24sXG4gICAgICBcImN1cnJlbnQtdGltZVwiOiBfdm0uY3VycmVudFRpbWVcbiAgICB9XG4gIH0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJzb3VuZFwiXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJjdHJsLWJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0ubXV0ZWQgPSAhX3ZtLm11dGVkXG4gICAgICB9XG4gICAgfVxuICB9LCBbKF92bS5tdXRlZCB8fCBfdm0udm9sdW1lID09IDApID8gX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLW9mZlwiXG4gIH0pIDogX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdm9sdW1lLXVwXCJcbiAgfSksIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ3JhbmdlJywge1xuICAgIHJlZjogXCJzb3VuZFJhbmdlXCIsXG4gICAgc3RhdGljQ2xhc3M6IFwicmFuZ2Ugdm9sdW1lXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidmFsdWVcIjogX3ZtLnZvbHVtZVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwic2Vla1wiOiBfdm0udm9sdW1lU2VlayxcbiAgICAgIFwiZHJhZy1zZWVrXCI6IF92bS52b2x1bWVTZWVrXG4gICAgfVxuICB9KV0pXSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtOWIyOTQzZmEhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvcGxheWVyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTFjYWNmNTNkIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcbl9fdnVlX29wdGlvbnNfXy5fc2NvcGVJZCA9IFwiZGF0YS12LTFjYWNmNTNkXCJcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0xY2FjZjUzZCZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbHlyaWMtZWRpdG9yLnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2x5cmljLWVkaXRvci52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2Qmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJ1bC5seXJpY3NbZGF0YS12LTFjYWNmNTNkXXtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZjFmMWYxfXVsLmx5cmljcz5saVtkYXRhLXYtMWNhY2Y1M2Rde21pbi1oZWlnaHQ6NDBweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMDQ0ZDk4O3BhZGRpbmc6MTBweCAwfXVsLmx5cmljcz5saS5jdXJbZGF0YS12LTFjYWNmNTNkXXtjb2xvcjojMDQ0ZDk4O3RleHQtc2hhZG93OjFweCAxcHggMXB4ICNhYWE7YmFja2dyb3VuZC1jb2xvcjojZmJmYmZifXVsLmx5cmljcz5saTpob3ZlciAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6aW5saW5lLWJsb2NrfXVsLmx5cmljcz5saSAuY29uY2VhbFtkYXRhLXYtMWNhY2Y1M2Rde2Rpc3BsYXk6bm9uZX11bC5seXJpY3M+bGkuZGl2aXNpb25bZGF0YS12LTFjYWNmNTNkXSx1bC5seXJpY3M+bGkudW5zb3J0ZWRbZGF0YS12LTFjYWNmNTNkXXtiYWNrZ3JvdW5kLWNvbG9yOiNmMWYxZjF9dWwubHlyaWNzPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6YXV0bztwYWRkaW5nOjJweCAwO2ZvbnQtc2l6ZToxMnB4O3RleHQtYWxpZ246Y2VudGVyfXVsLmx5cmljcy5lZGl0aW5nPmxpW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZzowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fXVsLmx5cmljcy5lZGl0aW5nPmxpLmRpdmlzaW9uW2RhdGEtdi0xY2FjZjUzZF17ZGlzcGxheTpibG9jaztwYWRkaW5nOjRweCAwfXVsLmx5cmljcy5lZGl0aW5nPmxpIC50aW1lc3RhbXBbZGF0YS12LTFjYWNmNTNkXXtjb2xvcjojN2M5ZmJiO3dpZHRoOjYwcHg7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6Jy4nfXVsLmx5cmljcy5lZGl0aW5nPmxpIC5jb250ZW50W2RhdGEtdi0xY2FjZjUzZF17LW1zLWZsZXg6MTtmbGV4OjF9dWwubHlyaWNzLmVkaXRpbmc+bGkgLmljb24tYnRuW2RhdGEtdi0xY2FjZjUzZF17cGFkZGluZy1sZWZ0OjRweDtwYWRkaW5nLXJpZ2h0OjRweH11bC5seXJpY3MuZWRpdGluZz5saSAuY29udGVudFtkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC5pY29uLWJ0bltkYXRhLXYtMWNhY2Y1M2RdLHVsLmx5cmljcy5lZGl0aW5nPmxpIC50aW1lc3RhbXBbZGF0YS12LTFjYWNmNTNkXXtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHh9dWwubHlyaWNzLmVkaXRpbmc+bGkgaW5wdXRbZGF0YS12LTFjYWNmNTNkXXt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNkMGRhZTR9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTFjYWNmNTNkJnNjb3BlZD10cnVlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vYXBwL2x5cmljLWVkaXRvci52dWVcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPHVsIHYtaWY9XCJlZGl0aW5nXCIgY2xhc3M9XCJlZGl0aW5nIGx5cmljc1wiPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIHJ1bm5lci5scmMubHlyaWNzXCJcbiAgICAgIDp0aXRsZT1cImx5cmljLnRpbWVzdGFtcFwiXG4gICAgICA6Y2xhc3M9XCJ7Y3VyOiBpID09IGluZGV4fVwiXG4gICAgICBAZGJsY2xpY2s9XCJlZGl0KGkpXCJcbiAgICAgIEBjb250ZXh0bWVudS5wcmV2ZW50PVwiZWRpdE1lbnUoaSlcIlxuICAgID5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiZWRpdGluZ0luZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwidGltZXN0YW1wXCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwibHlyaWMudGltZXN0YW1wXCIgQGtleWRvd24uZW50ZXI9XCJleGl0RWRpdFwiLz5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljLmNvbnRlbnRcIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lc3RhbXBcIj57e2x5cmljLnRpbWVzdGFtcCB8IHRpbWV9fTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPnt7bHlyaWMuY29udGVudH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wVGV4dChpKVwiPiAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUaW1lc3RhbXAoaSlcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZV90aW1lc3RhbXAnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiZWRpdChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXBsdXNcIj48L2k+IHt7ICR0KCdseXJpY19lZGl0b3IuYWRkJykgfX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIEBjbGljaz1cInJlbW92ZShpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi10cmFzaFwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5yZW1vdmUnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L3RtZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9saT5cbiAgICA8bGkgdi1pZj1cImx5cmljQXJyYXkubGVuZ3RoXCIgY2xhc3M9XCJkaXZpc2lvblwiPnt7ICR0KCdseXJpY19lZGl0b3IuZm9sbG93aW5nX3Vuc29ydGVkJykgfX08L2xpPlxuICAgIDxsaVxuICAgICAgdi1mb3I9XCIobHlyaWMsIGkpIGluIGx5cmljQXJyYXlcIlxuICAgICAgdHJhY2stYnk9XCJpXCJcbiAgICAgIGNsYXNzPVwidW5zb3J0ZWRcIlxuICAgICAgQGRibGNsaWNrPVwiZWRpdFRleHQoaSlcIlxuICAgICAgQGNvbnRleHRtZW51LnByZXZlbnQ9XCJlZGl0TWVudShpKVwiXG4gICAgPlxuICAgICAgPHRlbXBsYXRlIHYtaWY9XCJlZGl0aW5nVGV4dEluZGV4ID09IGlcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiY29udGVudFwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImx5cmljQXJyYXlbaV1cIiBAa2V5ZG93bi5lbnRlcj1cImV4aXRFZGl0XCIvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+e3tseXJpY319PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLWJ0biBjb25jZWFsXCI+XG4gICAgICAgICAgPHRtZW51PlxuICAgICAgICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lbGxpcHNpcy12ZXJ0XCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgc2xvdD1cImxpc3RcIj5cbiAgICAgICAgICAgICAgPCEtLSA8bGkgQGNsaWNrPVwic2V0VGltZXN0YW1wKGkpXCI+ICAgICAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgPCEtLSAgIDxpIGNsYXNzPVwiaWNvbi1leGNoYW5nZVwiPjwvaT4ge3sgJHQoJ2x5cmljX2VkaXRvci5wbGF5X3RvX3RoaXNfbHlyaWMnKSB9fSAtLT5cbiAgICAgICAgICAgICAgPCEtLSA8L2xpPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJlZGl0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1lZGl0XCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmVkaXQnKSB9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgQGNsaWNrPVwiaW5zZXJ0VGV4dChpKVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLmFkZCcpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBAY2xpY2s9XCJyZW1vdmVUZXh0KGkpXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uLXRyYXNoXCI+PC9pPiB7eyAkdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpIH19XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvdG1lbnU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L2xpPlxuICA8L3VsPlxuICA8dWwgdi1lbHNlIGNsYXNzPVwibHlyaWNzXCI+XG4gICAgPGxpXG4gICAgICB2LWZvcj1cIihseXJpYywgaSkgaW4gcnVubmVyLmxyYy5seXJpY3NcIlxuICAgICAgQGNsaWNrPVwicGxheXRvKGx5cmljLnRpbWVzdGFtcClcIlxuICAgICAgOnRpdGxlPVwibHlyaWMudGltZXN0YW1wXCJcbiAgICAgIDpjbGFzcz1cIntjdXI6IGkgPT0gaW5kZXh9XCJcbiAgICA+XG4gICAgICB7e2x5cmljLmNvbnRlbnR9fVxuICAgIDwvbGk+XG4gICAgPGxpIHYtaWY9XCJseXJpY0FycmF5Lmxlbmd0aFwiIGNsYXNzPVwiZGl2aXNpb25cIj57eyAkdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpIH19PC9saT5cbiAgICA8bGlcbiAgICAgIHYtZm9yPVwiKGx5cmljLCBpKSBpbiBseXJpY0FycmF5XCJcbiAgICAgIHRyYWNrLWJ5PVwiaVwiXG4gICAgICBjbGFzcz1cInVuc29ydGVkXCJcbiAgICA+XG4gICAgICB7e2x5cmljfX1cbiAgICA8L2xpPlxuICA8L3VsPlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCIgc2NvcGVkPlxudWwubHlyaWNzIHtcbiAgJGRhcmstY29sb3I6ICNmMWYxZjE7XG4gICRsaWdodC1jb2xvcjogI2ZiZmJmYjtcbiAgJGZhY2UtY29sb3I6ICMwNDRkOTg7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGFyay1jb2xvcjtcbiAgPiBsaSB7XG4gICAgbWluLWhlaWdodDogNDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICMwNDRkOTg7XG4gICAgcGFkZGluZzogMTBweCAwO1xuICAgICYuY3VyIHtcbiAgICAgIGNvbG9yOiAjMDQ0ZDk4O1xuICAgICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNhYWE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbGlnaHQtY29sb3I7XG4gICAgfVxuICAgICY6aG92ZXIge1xuICAgICAgLmNvbmNlYWwge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG4gICAgfVxuICAgIC5jb25jZWFsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICYudW5zb3J0ZWQsXG4gICAgJi5kaXZpc2lvbixcbiAgICB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZGFyay1jb2xvcjtcbiAgICB9XG4gICAgJi5kaXZpc2lvbiB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWluLWhlaWdodDogYXV0bztcbiAgICAgIHBhZGRpbmc6IDJweCAwO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgfVxuICAmLmVkaXRpbmcge1xuICAgID4gbGkge1xuICAgICAgcGFkZGluZzogMDtcblxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICYuZGl2aXNpb24ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZzogNHB4IDA7XG4gICAgICB9XG4gICAgICAudGltZXN0YW1wIHtcbiAgICAgICAgY29sb3I6ICM3QzlGQkI7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiAnLic7XG4gICAgICB9XG4gICAgICAuY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG4gICAgICAuaWNvbi1idG4ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDRweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogNHB4O1xuICAgICAgfVxuICAgICAgLnRpbWVzdGFtcCxcbiAgICAgIC5jb250ZW50LFxuICAgICAgLmljb24tYnRuLFxuICAgICAge1xuICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICB9XG4gICAgICBpbnB1dCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDBEQUU0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7UnVubmVyfSBmcm9tICdscmMta2l0J1xuaW1wb3J0IHtTY3JvbGxlciwgZ2xvYmFsS2V5ZG93biwgdGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSdcbmltcG9ydCBUbWVudSBmcm9tICcuL3RtZW51J1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiAtMSxcbiAgICAgIGVkaXRpbmdJbmRleDogLTEsXG4gICAgICBlZGl0aW5nVGV4dEluZGV4OiAtMSxcbiAgICAgIHNjcm9sbGVyOiBudWxsLFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBydW5uZXI6IHtcbiAgICAgIHR5cGU6IFJ1bm5lcixcbiAgICAgIGRlZmF1bHQ6IG5ldyBSdW5uZXIoKSxcbiAgICB9LFxuICAgIHBsYXl0bzoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fSxcbiAgICB9LFxuICAgIGVkaXRpbmc6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBjYWNoZS5lZGl0aW5nLFxuICAgIH0sXG4gICAgbHlyaWNBcnJheToge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiBbXSxcbiAgICB9LFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZWRpdE1lbnUoaW5kZXgpIHtcbiAgICAgIC8vIFRPRE9cbiAgICB9LFxuICAgIGV4aXRFZGl0KCkge1xuICAgICAgdGhpcy5lZGl0aW5nSW5kZXggPSAtMVxuICAgICAgdGhpcy5lZGl0aW5nVGV4dEluZGV4ID0gLTFcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBlZGl0KGluZGV4KSB7XG4gICAgICB0aGlzLmVkaXRpbmdJbmRleCA9IGluZGV4XG4gICAgfSxcbiAgICBlZGl0VGV4dChpbmRleCkge1xuICAgICAgdGhpcy5lZGl0aW5nVGV4dEluZGV4ID0gaW5kZXhcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3Muc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICB9LFxuICAgIHJlbW92ZVRleHQoaW5kZXgpIHtcbiAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgaW5zZXJ0KGluZGV4KSB7XG4gICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnNwbGljZShpbmRleCsxLCAwLCB7XG4gICAgICAgIHRpbWVzdGFtcDogdGhpcy5ydW5uZXIubHJjLmx5cmljc1tpbmRleF0udGltZXN0YW1wLFxuICAgICAgICBjb250ZW50OiB0aGlzLnJ1bm5lci5scmMubHlyaWNzW2luZGV4XS5jb250ZW50LFxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgfSxcbiAgICBpbnNlcnRUZXh0KGluZGV4KSB7XG4gICAgICB0aGlzLmx5cmljQXJyYXkuc3BsaWNlKGluZGV4KzEsIDAsIHRoaXMubHlyaWNBcnJheVtpbmRleF0pXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgIH0sXG4gICAgcmVtb3ZlVGltZXN0YW1wKGluZGV4KSB7XG4gICAgICB2YXIgbHlyaWNzID0gdGhpcy5ydW5uZXIubHJjLmx5cmljc1xuICAgICAgdmFyIHJlbW92ZUx5cmljcyA9IGx5cmljc1xuICAgICAgLnNwbGljZShpbmRleCwgbHlyaWNzLmxlbmd0aCAtIGluZGV4KVxuICAgICAgLm1hcCgobHlyaWMpID0+IHsgcmV0dXJuIGx5cmljLmNvbnRlbnQgfSlcbiAgICAgIHRoaXMubHlyaWNBcnJheS5zcGxpY2UoMCwgMCwgLi4ucmVtb3ZlTHlyaWNzKVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJylcbiAgICB9LFxuICAgIHNldFRpbWVzdGFtcChpbmRleCkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy4kcGFyZW50LiRyZWZzLnBsYXllci5jdXJyZW50VGltZVxuICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICAgIHRoaXMucnVubmVyLmxyYy5seXJpY3NbaW5kZXhdLnRpbWVzdGFtcCA9IGN1cnJlbnRUaW1lXG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpXG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUaW1lc3RhbXBUZXh0KGluZGV4KSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLiRwYXJlbnQuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lXG4gICAgICBpZiAoY3VycmVudFRpbWUgIT09IDAgJiYgdGhpcy5seXJpY0FycmF5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJ1bm5lci5scmMubHlyaWNzLnB1c2goe1xuICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudFRpbWUsXG4gICAgICAgICAgY29udGVudDogdGhpcy5seXJpY0FycmF5W2luZGV4XSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZW1vdmVUZXh0KGluZGV4KVxuICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnKVxuICAgICAgfVxuICAgIH0sXG4gICAgc2Nyb2xsVG9DdXJyZW50THlyaWMoZm9yY2U9ZmFsc2UpIHtcbiAgICAgIHZhciByb290ID0gdGhpcy4kZWxcbiAgICAgIHZhciBjdXIgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jdXInKVxuICAgICAgaWYgKGN1cikge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5jbGllbnRIZWlnaHRcbiAgICAgICAgdmFyIHRvcCA9IGN1ci5vZmZzZXRUb3AgLSBoZWlnaHQgLyAyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8odG9wLCBmb3JjZSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBmaWx0ZXJzOiB7XG4gICAgdGltZTogdGltZXN0YW1wMnRpbWVzdHIsXG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy4kb24oJ3RpbWV1cGRhdGUnLCAodGltZXN0YW1wKSA9PiB7XG4gICAgICB0aGlzLnJ1bm5lci50aW1lVXBkYXRlKHRpbWVzdGFtcClcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnJ1bm5lci5jdXJJbmRleCgpXG4gICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudEx5cmljKClcbiAgICB9KS4kb24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICAgIHRoaXMucnVubmVyLmxyY1VwZGF0ZSgpXG4gICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMucnVubmVyLmxyYy50b1N0cmluZygpXG4gICAgICAkQXBwLmx5cmljQXJyYXkgPSB0aGlzLmx5cmljQXJyYXlcbiAgICB9KS4kb24oJ3ByZXZseXJpYycsICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlVGltZXN0YW1wKHRoaXMucnVubmVyLmxyYy5seXJpY3MubGVuZ3RoIC0gMSlcbiAgICB9KS4kb24oJ25leHRseXJpYycsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0VGltZXN0YW1wVGV4dCgwKVxuICAgIH0pXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zY3JvbGxlciA9IG5ldyBTY3JvbGxlcih0aGlzLiRlbClcblxuICAgIGdsb2JhbEtleWRvd25cbiAgICAub24oWydlbnRlcicsICdlc2NhcGUnXSwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2Fycm93dXAnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3ByZXZseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdhcnJvd2Rvd24nLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ25leHRseXJpYycpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZWRpdGluZygpIHtcbiAgICAgIGlmICghIHRoaXMuZWRpdGluZykge1xuICAgICAgICB0aGlzLmV4aXRFZGl0KClcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgVG1lbnUsXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBseXJpYy1lZGl0b3IudnVlPzYxOWVmYWNmIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5SdW5uZXIgPSBleHBvcnRzLkxyYyA9IGV4cG9ydHMuTGluZVBhcnNlciA9IHVuZGVmaW5lZDtcblxudmFyIF9saW5lUGFyc2VyID0gcmVxdWlyZSgnLi9saW5lLXBhcnNlcicpO1xuXG52YXIgX2xpbmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGluZVBhcnNlcik7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9ydW5uZXIgPSByZXF1aXJlKCcuL3J1bm5lcicpO1xuXG52YXIgX3J1bm5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5uZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLkxpbmVQYXJzZXIgPSBfbGluZVBhcnNlcjIuZGVmYXVsdDtcbmV4cG9ydHMuTHJjID0gX2xyYzIuZGVmYXVsdDtcbmV4cG9ydHMuUnVubmVyID0gX3J1bm5lcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2xyYy1raXQvbGliL2xyYy1raXQuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTGluZVBhcnNlciA9IGZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKExpbmVQYXJzZXIsIG51bGwsIFt7XG4gICAga2V5OiAncGFyc2VUYWdzJyxcblxuICAgIC8vIG1hdGNoIGBbdGk6IFRoZSBUaXRsZV1gXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlVGFncyhsaW5lKSB7XG4gICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5UQUdTX1JFR0VYUC5leGVjKGxpbmUpO1xuICAgICAgdmFyIHRhZyA9IG1hdGNoc1swXTtcbiAgICAgIHZhciBjb250ZW50ID0gbGluZS5zdWJzdHIodGFnLmxlbmd0aCk7XG4gICAgICByZXR1cm4gW3RhZy5zbGljZSgxLCAtMSkuc3BsaXQoL1xcXVxccypcXFsvKSwgY29udGVudF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGluZSBwYXJzZSBscmMgb2YgdGltZXN0YW1wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignW3RpOiBTb25nIHRpdGxlXScpXG4gICAgICogbHAudHlwZSA9PT0gTGluZVBhcnNlci5UWVBFLklORk9cbiAgICAgKiBscC5rZXkgPT09ICd0aSdcbiAgICAgKiBscC52YWx1ZSA9PT0gJ1NvbmcgdGl0bGUnXG4gICAgICpcbiAgICAgKiB2YXIgbHAgPSBuZXcgTGluZVBhcnNlcignWzEwOjEwLjEwXWhlbGxvJylcbiAgICAgKiBscC50eXBlID09PSBMaW5lUGFyc2VyLlRZUEUuVElNRVxuICAgICAqIGxwLnRpbWVzdGFtcHMgPT09IFsxMCo2MCsxMC4xMF1cbiAgICAgKiBscC5jb250ZW50ID09PSAnaGVsbG8nXG4gICAgICogQGNvbnN0cnVjdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZVxuICAgICAqL1xuXG4gICAgLy8gbWF0Y2ggYFs1MTI6MzQuMV0gbHlyaWMgY29udGVudGBcblxuICAgIC8vIG1hdGNoIGBbMTI6MzAuMV1bMTI6MzAuMl1gXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIExpbmVQYXJzZXIobGluZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5lUGFyc2VyKTtcblxuICAgIHRoaXMudHlwZSA9IExpbmVQYXJzZXIuVFlQRS5JTlZBTElEO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfTGluZVBhcnNlciRwYXJzZVRhZ3MgPSBMaW5lUGFyc2VyLnBhcnNlVGFncyhsaW5lKTtcblxuICAgICAgdmFyIF9MaW5lUGFyc2VyJHBhcnNlVGFnczIgPSBfc2xpY2VkVG9BcnJheShfTGluZVBhcnNlciRwYXJzZVRhZ3MsIDIpO1xuXG4gICAgICB2YXIgdGFncyA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMF07XG4gICAgICB2YXIgY29udGVudCA9IF9MaW5lUGFyc2VyJHBhcnNlVGFnczJbMV07XG5cbiAgICAgIGlmIChMaW5lUGFyc2VyLlRJTUVfUkVHRVhQLnRlc3QodGFnc1swXSkpIHtcbiAgICAgICAgdGhpcy5wYXJzZUFzVGltZSh0YWdzLCBjb250ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoTGluZVBhcnNlci5JTkZPX1JFR0VYUC50ZXN0KHRhZ3NbMF0pKSB7XG4gICAgICAgIHRoaXMucGFyc2VBc0luZm8odGFnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5WQUxJRDtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGluZVBhcnNlciwgW3tcbiAgICBrZXk6ICdwYXJzZUFzVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNUaW1lKHRhZ3MsIGNvbnRlbnQpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBzID0gW107XG4gICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgbWF0Y2hzID0gTGluZVBhcnNlci5USU1FX1JFR0VYUC5leGVjKHRhZyk7XG4gICAgICAgIHZhciBtaW51dGVzID0gcGFyc2VGbG9hdChtYXRjaHNbMV0pO1xuICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hzWzJdLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoJzonLCAnLicpKTtcbiAgICAgICAgdGltZXN0YW1wcy5wdXNoKG1pbnV0ZXMgKiA2MCArIHNlY29uZHMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzO1xuICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudC50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuVElNRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZUFzSW5mbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlQXNJbmZvKHRhZykge1xuICAgICAgdmFyIG1hdGNocyA9IExpbmVQYXJzZXIuSU5GT19SRUdFWFAuZXhlYyh0YWcpO1xuICAgICAgdGhpcy5rZXkgPSBtYXRjaHNbMV0udHJpbSgpO1xuICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoc1syXS50cmltKCk7XG4gICAgICB0aGlzLnR5cGUgPSBMaW5lUGFyc2VyLlRZUEUuSU5GTztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGluZVBhcnNlcjtcbn0oKTtcblxuTGluZVBhcnNlci5UQUdTX1JFR0VYUCA9IC9eKFxcWy4rXFxdKSsvO1xuTGluZVBhcnNlci5JTkZPX1JFR0VYUCA9IC9eXFxzKihcXHcrKVxccyo6KC4qKSQvO1xuTGluZVBhcnNlci5USU1FX1JFR0VYUCA9IC9eXFxzKihcXGQrKVxccyo6XFxzKihcXGQrKFxccypbXFwuOl1cXHMqXFxkKyk/KVxccyokLztcbkxpbmVQYXJzZXIuVFlQRSA9IHtcbiAgSU5WQUxJRDogMCxcbiAgSU5GTzogMSxcbiAgVElNRTogMlxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IExpbmVQYXJzZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9scmMta2l0L2xpYi9saW5lLXBhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2lzX2pzID0gcmVxdWlyZSgnaXNfanMnKTtcblxudmFyIF9pc19qczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc19qcyk7XG5cbnZhciBfbGluZVBhcnNlciA9IHJlcXVpcmUoJy4vbGluZS1wYXJzZXInKTtcblxudmFyIF9saW5lUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmVQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTHJjID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMcmMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExyYyk7XG5cbiAgICB0aGlzLmluZm8gPSB7fTtcbiAgICB0aGlzLmx5cmljcyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExyYywgW3tcbiAgICBrZXk6ICdvZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZzZXQob2Zmc2V0VGltZSkge1xuICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgbHlyaWMudGltZXN0YW1wICs9IG9mZnNldFRpbWU7XG4gICAgICAgIGlmIChseXJpYy50aW1lc3RhbXAgPCAwKSB7XG4gICAgICAgICAgbHlyaWMudGltZXN0YW1wID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IGxyYyB0ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5jb21iaW5lIGx5cmljcyBjb21iaW5lIGJ5IHNhbWUgY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5zb3J0IGx5cmljcyBzb3J0IGJ5IHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxpbmVGb3JtYXQgbmV3bGluZSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBvcHRzLmNvbWJpbmUgPSAnY29tYmluZScgaW4gb3B0cyA/IG9wdHMuY29tYmluZSA6IHRydWU7XG4gICAgICBvcHRzLmxpbmVGb3JtYXQgPSAnbGluZUZvcm1hdCcgaW4gb3B0cyA/IG9wdHMubGluZUZvcm1hdCA6ICdcXHJcXG4nO1xuICAgICAgb3B0cy5zb3J0ID0gJ3NvcnQnIGluIG9wdHMgPyBvcHRzLnNvcnQgOiB0cnVlO1xuICAgICAgdmFyIGxpbmVzID0gW10sXG4gICAgICAgICAgbHlyaWNzTWFwID0ge30sXG4gICAgICAgICAgbHlyaWNzTGlzdCA9IFtdO1xuXG4gICAgICAvLyBnZW5lcmF0ZSBpbmZvXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG4gICAgICAgIGxpbmVzLnB1c2goJ1snICsga2V5ICsgJzonICsgdGhpcy5pbmZvW2tleV0gKyAnXScpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5jb21iaW5lKSB7XG4gICAgICAgIC8vIHVuaXF1ZW5lc3NcbiAgICAgICAgdGhpcy5seXJpY3MuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBpZiAobHlyaWMuY29udGVudCBpbiBseXJpY3NNYXApIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XS5wdXNoKGx5cmljLnRpbWVzdGFtcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtseXJpYy5jb250ZW50XSA9IFtseXJpYy50aW1lc3RhbXBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNvcnRlZFxuICAgICAgICBmb3IgKHZhciBjb250ZW50IGluIGx5cmljc01hcCkge1xuICAgICAgICAgIGlmIChvcHRzLnNvcnQpIHtcbiAgICAgICAgICAgIGx5cmljc01hcFtjb250ZW50XS5zb3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGx5cmljc0xpc3QucHVzaCh7XG4gICAgICAgICAgICB0aW1lc3RhbXBzOiBseXJpY3NNYXBbY29udGVudF0sXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5zb3J0KSB7XG4gICAgICAgICAgbHlyaWNzTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXBzWzBdIC0gYi50aW1lc3RhbXBzWzBdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgbHlyaWNzXG4gICAgICAgIGx5cmljc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAobHlyaWMpIHtcbiAgICAgICAgICBsaW5lcy5wdXNoKCdbJyArIGx5cmljLnRpbWVzdGFtcHMubWFwKGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBMcmMudGltZXN0YW1wVG9TdHJpbmcodGltZXN0YW1wKTtcbiAgICAgICAgICB9KS5qb2luKCddWycpICsgJ10nICsgKGx5cmljLmNvbnRlbnQgfHwgJycpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmx5cmljcy5mb3JFYWNoKGZ1bmN0aW9uIChseXJpYykge1xuICAgICAgICAgIGxpbmVzLnB1c2goJ1snICsgTHJjLnRpbWVzdGFtcFRvU3RyaW5nKGx5cmljLnRpbWVzdGFtcCkgKyAnXScgKyAobHlyaWMuY29udGVudCB8fCAnJykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4ob3B0cy5saW5lRm9ybWF0KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ3BhcnNlJyxcblxuXG4gICAgLyoqXG4gICAgICogcGFyc2UgbHJjIHRleHQgYW5kIHJldHVybiBhIExyYyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm4ge0xyY31cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICAgICAgdmFyIGx5cmljcyA9IFtdO1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIHRleHQuc3BsaXQoL1xcclxcbnxbXFxuXFxyXS9nKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfbGluZVBhcnNlcjIuZGVmYXVsdChsaW5lKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgc3dpdGNoIChsaW5lLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIF9saW5lUGFyc2VyMi5kZWZhdWx0LlRZUEUuSU5GTzpcbiAgICAgICAgICAgIGluZm9bbGluZS5rZXldID0gbGluZS52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgX2xpbmVQYXJzZXIyLmRlZmF1bHQuVFlQRS5USU1FOlxuICAgICAgICAgICAgbGluZS50aW1lc3RhbXBzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBseXJpY3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgY29udGVudDogbGluZS5jb250ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGxyYyA9IG5ldyB0aGlzKCk7XG4gICAgICBscmMubHlyaWNzID0gbHlyaWNzO1xuICAgICAgbHJjLmluZm8gPSBpbmZvO1xuICAgICAgcmV0dXJuIGxyYztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja0x5cmljT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tMeXJpY09iamVjdChseXJpYykge1xuICAgICAgcmV0dXJuIF9pc19qczIuZGVmYXVsdC5vYmplY3QobHlyaWMpICYmICd0aW1lc3RhbXAnIGluIGx5cmljICYmIF9pc19qczIuZGVmYXVsdC5udW1iZXIobHlyaWMudGltZXN0YW1wKSAmJiAnY29udGVudCcgaW4gbHlyaWMgJiYgX2lzX2pzMi5kZWZhdWx0LnN0cmluZyhseXJpYy5jb250ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYWRaZXJvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFkWmVybyhudW0pIHtcbiAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKF9pc19qczIuZGVmYXVsdC5udW1iZXIobnVtKSkge1xuICAgICAgICBudW0gPSBudW0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChudW0uc3BsaXQoJy4nKVswXS5sZW5ndGggPCBzaXplKSB7XG4gICAgICAgIG51bSA9ICcwJyArIG51bTtcbiAgICAgIH1yZXR1cm4gbnVtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBscmMgdGltZSBzdHJpbmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIExyYy50aW1lc3RhbXBUb1N0cmluZygxNDMuNTQpXG4gICAgICogLy8gcmV0dXJuICcwMjoyMy41NCc6XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCBzZWNvbmQgdGltZXN0YW1wXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0aW1lc3RhbXBUb1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcFRvU3RyaW5nKHRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFkWmVybyhwYXJzZUludCh0aW1lc3RhbXAgLyA2MCkpICsgJzonICsgdGhpcy5wYWRaZXJvKCh0aW1lc3RhbXAgJSA2MCkudG9GaXhlZCgyKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExyYztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTHJjO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvbHJjLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbHJjID0gcmVxdWlyZSgnLi9scmMnKTtcblxudmFyIF9scmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbHJjKTtcblxudmFyIF9jbG9uZSA9IHJlcXVpcmUoJ2Nsb25lJyk7XG5cbnZhciBfY2xvbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xvbmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUnVubmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtMcmN9IGxyY1xuICAgKi9cblxuICBmdW5jdGlvbiBSdW5uZXIoKSB7XG4gICAgdmFyIGxyYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5ldyBfbHJjMi5kZWZhdWx0KCkgOiBhcmd1bWVudHNbMF07XG4gICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVubmVyKTtcblxuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IC0xO1xuICAgIHRoaXMuc2V0THJjKGxyYyk7XG4gIH1cblxuICAvKipcbiAgICogIEBwYXJhbSB7THJjfSBscmNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUnVubmVyLCBbe1xuICAgIGtleTogJ3NldExyYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExyYyhscmMpIHtcbiAgICAgIHRoaXMubHJjID0gKDAsIF9jbG9uZTIuZGVmYXVsdCkobHJjKTtcbiAgICAgIHRoaXMubHJjVXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbHJjVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbHJjVXBkYXRlKCkge1xuICAgICAgaWYgKHRoaXMub2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuX29mZnNldEFsaWduKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zb3J0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX29mZnNldEFsaWduJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29mZnNldEFsaWduKCkge1xuICAgICAgaWYgKCdvZmZzZXQnIGluIHRoaXMubHJjLmluZm8pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMubHJjLmluZm8ub2Zmc2V0KSAvIDEwMDA7XG4gICAgICAgIGlmICghaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICAgIHRoaXMubHJjLm9mZnNldChvZmZzZXQpO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmxyYy5pbmZvLm9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19zb3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoKSB7XG4gICAgICB0aGlzLmxyYy5seXJpY3Muc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RpbWVVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKHRpbWVzdGFtcCkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA+PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCAtMSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbmRJbmRleCh0aW1lc3RhbXAsIHRoaXMuX2N1cnJlbnRJbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2ZpbmRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4KSB7XG4gICAgICB2YXIgY3VyRnJvbnRUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IC0xID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXhdLnRpbWVzdGFtcDtcblxuICAgICAgdmFyIGN1ckJhY2tUaW1lc3RhbXAgPSBzdGFydEluZGV4ID09IHRoaXMubHJjLmx5cmljcy5sZW5ndGggLSAxID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogdGhpcy5scmMubHlyaWNzW3N0YXJ0SW5kZXggKyAxXS50aW1lc3RhbXA7XG5cbiAgICAgIGlmICh0aW1lc3RhbXAgPCBjdXJGcm9udFRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluZEluZGV4KHRpbWVzdGFtcCwgc3RhcnRJbmRleCAtIDEpO1xuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPT09IGN1ckJhY2tUaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGN1ckJhY2tUaW1lc3RhbXAgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPiBjdXJCYWNrVGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5kSW5kZXgodGltZXN0YW1wLCBzdGFydEluZGV4ICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5mbygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5pbmZvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEx5cmljcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxyYy5seXJpY3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEByZXR1cm4ge09iamVjdH0geycnfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMeXJpYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEx5cmljKCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jdXJJbmRleCgpIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8PSB0aGlzLmxyYy5seXJpY3MubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5scmMubHlyaWNzW2luZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggbm90IGV4aXN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VySW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VyTHlyaWMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJMeXJpYygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEx5cmljKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJ1bm5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUnVubmVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9saWIvcnVubmVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2xvbmUgPSAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2xvbmVzIChjb3BpZXMpIGFuIE9iamVjdCB1c2luZyBkZWVwIGNvcHlpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGRlZmF1bHQsIGJ1dCBpZiB5b3UgYXJlIGNlcnRhaW5cbiAqIHRoZXJlIGFyZSBubyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgb2JqZWN0LCB5b3UgY2FuIHNhdmUgc29tZSBDUFUgdGltZVxuICogYnkgY2FsbGluZyBjbG9uZShvYmosIGZhbHNlKS5cbiAqXG4gKiBDYXV0aW9uOiBpZiBgY2lyY3VsYXJgIGlzIGZhbHNlIGFuZCBgcGFyZW50YCBjb250YWlucyBjaXJjdWxhciByZWZlcmVuY2VzLFxuICogeW91ciBwcm9ncmFtIG1heSBlbnRlciBhbiBpbmZpbml0ZSBsb29wIGFuZCBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYHBhcmVudGAgLSB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHBhcmFtIGBjaXJjdWxhcmAgLSBzZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0IHRvIGJlIGNsb25lZCBtYXkgY29udGFpblxuICogICAgY2lyY3VsYXIgcmVmZXJlbmNlcy4gKG9wdGlvbmFsIC0gdHJ1ZSBieSBkZWZhdWx0KVxuICogQHBhcmFtIGBkZXB0aGAgLSBzZXQgdG8gYSBudW1iZXIgaWYgdGhlIG9iamVjdCBpcyBvbmx5IHRvIGJlIGNsb25lZCB0b1xuICogICAgYSBwYXJ0aWN1bGFyIGRlcHRoLiAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBJbmZpbml0eSlcbiAqIEBwYXJhbSBgcHJvdG90eXBlYCAtIHNldHMgdGhlIHByb3RvdHlwZSB0byBiZSB1c2VkIHdoZW4gY2xvbmluZyBhbiBvYmplY3QuXG4gKiAgICAob3B0aW9uYWwgLSBkZWZhdWx0cyB0byBwYXJlbnQgcHJvdG90eXBlKS5cbiovXG5mdW5jdGlvbiBjbG9uZShwYXJlbnQsIGNpcmN1bGFyLCBkZXB0aCwgcHJvdG90eXBlKSB7XG4gIHZhciBmaWx0ZXI7XG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT09ICdvYmplY3QnKSB7XG4gICAgZGVwdGggPSBjaXJjdWxhci5kZXB0aDtcbiAgICBwcm90b3R5cGUgPSBjaXJjdWxhci5wcm90b3R5cGU7XG4gICAgZmlsdGVyID0gY2lyY3VsYXIuZmlsdGVyO1xuICAgIGNpcmN1bGFyID0gY2lyY3VsYXIuY2lyY3VsYXJcbiAgfVxuICAvLyBtYWludGFpbiB0d28gYXJyYXlzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLCB3aGVyZSBjb3JyZXNwb25kaW5nIHBhcmVudHNcbiAgLy8gYW5kIGNoaWxkcmVuIGhhdmUgdGhlIHNhbWUgaW5kZXhcbiAgdmFyIGFsbFBhcmVudHMgPSBbXTtcbiAgdmFyIGFsbENoaWxkcmVuID0gW107XG5cbiAgdmFyIHVzZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCc7XG5cbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PSAndW5kZWZpbmVkJylcbiAgICBjaXJjdWxhciA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBkZXB0aCA9PSAndW5kZWZpbmVkJylcbiAgICBkZXB0aCA9IEluZmluaXR5O1xuXG4gIC8vIHJlY3Vyc2UgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCByZXNldCBhbGxQYXJlbnRzIGFuZCBhbGxDaGlsZHJlblxuICBmdW5jdGlvbiBfY2xvbmUocGFyZW50LCBkZXB0aCkge1xuICAgIC8vIGNsb25pbmcgbnVsbCBhbHdheXMgcmV0dXJucyBudWxsXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGRlcHRoID09IDApXG4gICAgICByZXR1cm4gcGFyZW50O1xuXG4gICAgdmFyIGNoaWxkO1xuICAgIHZhciBwcm90bztcbiAgICBpZiAodHlwZW9mIHBhcmVudCAhPSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBpZiAoY2xvbmUuX19pc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gW107XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzUmVnRXhwKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IFJlZ0V4cChwYXJlbnQuc291cmNlLCBfX2dldFJlZ0V4cEZsYWdzKHBhcmVudCkpO1xuICAgICAgaWYgKHBhcmVudC5sYXN0SW5kZXgpIGNoaWxkLmxhc3RJbmRleCA9IHBhcmVudC5sYXN0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChjbG9uZS5fX2lzRGF0ZShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBEYXRlKHBhcmVudC5nZXRUaW1lKCkpO1xuICAgIH0gZWxzZSBpZiAodXNlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cblxuICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBmbGF0IGNsb25lIHVzaW5nIHByb3RvdHlwZSwgYWNjZXB0cyBvbmx5IG9iamVjdHMsIHVzZWZ1bGwgZm9yIHByb3BlcnR5XG4gKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuICpcbiAqIFVTRSBXSVRIIENBVVRJT04hIFRoaXMgbWF5IG5vdCBiZWhhdmUgYXMgeW91IHdpc2ggaWYgeW91IGRvIG5vdCBrbm93IGhvdyB0aGlzXG4gKiB3b3Jrcy5cbiAqL1xuY2xvbmUuY2xvbmVQcm90b3R5cGUgPSBmdW5jdGlvbiBjbG9uZVByb3RvdHlwZShwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gbnVsbDtcblxuICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuICBjLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgcmV0dXJuIG5ldyBjKCk7XG59O1xuXG4vLyBwcml2YXRlIHV0aWxpdHkgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufTtcbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufTtcbmNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cbmZ1bmN0aW9uIF9faXNBcnJheShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5jbG9uZS5fX2lzQXJyYXkgPSBfX2lzQXJyYXk7XG5cbmZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufTtcbmNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXG5yZXR1cm4gY2xvbmU7XG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vbHJjLWtpdC9+L2Nsb25lL2Nsb25lLmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LWVlZTRjYWJlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTEhLi90bWVudS52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3RtZW51LnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtZWVlNGNhYmUhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vdG1lbnUudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi1lZWU0Y2FiZVwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG1lbnUudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi90bWVudS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInNwYW5bZGF0YS12LWVlZTRjYWJlXXtwb3NpdGlvbjpyZWxhdGl2ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtZWVlNGNhYmUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL3RtZW51LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vdG1lbnUudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL3RtZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWVudXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0ubWVudSB1bHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9Lm1lbnUgdWwgbGl7d2hpdGUtc3BhY2U6bm93cmFwO2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjI1cHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMTE2MWIzO2N1cnNvcjpwb2ludGVyfS5tZW51IHVsIGxpOmhvdmVye2NvbG9yOiMxMTYxYjM7YmFja2dyb3VuZC1jb2xvcjojZThlMWUxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1lZWU0Y2FiZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2FwcC90bWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cIm1lbnVcIiByZWY9XCJtZW51XCI+XG4gICAgPHRvb2x0aXAgOmRpcj1cImRpclwiIDp0YXJnZXQ9XCIkcmVmcy5tZW51XCIgOmVudGVyLWRlbGF5PVwiMFwiPlxuICAgICAgPGRpdiBzbG90PVwidGFyZ2V0XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJ0YXJnZXRcIj5cbiAgICAgICAgPC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHNsb3Q9XCJjb250ZW50XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJsaXN0XCI+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgIDwvdG9vbHRpcD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5zcGFuIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4ubWVudSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB1bCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGxpIHtcbiAgICAgICRib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgaGVpZ2h0OiAyNXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICRibHVlLWNvbG9yO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThFMUUxO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkaXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFRvb2x0aXAsXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0bWVudS52dWU/NGY0NmJjMmMiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1hMzNjZmQ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi1hMzNjZmQ1ZSF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi90b29sdGlwLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL3Rvb2x0aXAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMzNjZmQ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vdG9vbHRpcC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRvb2x0aXAgLndyYXB7cGFkZGluZzo4cHg7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbG9yOiMxMTYxYjM7Ym9yZGVyLXJhZGl1czo4cHg7Ym94LXNoYWRvdzouNXB4IC41cHggM3B4IC41cHggI2NjY30udG9vbHRpcCAud3JhcCAuYXJyb3d7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvfS50b29sdGlwIC53cmFwIC5hcnJvdy5sZWZ0e3RvcDowO2JvdHRvbTowO3JpZ2h0Oi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LnJpZ2h0e3RvcDowO2JvdHRvbTowO2xlZnQ6LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6OHB4IHNvbGlkICNmZmZ9LnRvb2x0aXAgLndyYXAgLmFycm93LnRvcHtsZWZ0OjA7cmlnaHQ6MDtib3R0b206LTE2cHg7Ym9yZGVyOjhweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItdG9wOjhweCBzb2xpZCAjZmZmfS50b29sdGlwIC53cmFwIC5hcnJvdy5ib3R0b217bGVmdDowO3JpZ2h0OjA7dG9wOi0xNnB4O2JvcmRlcjo4cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo4cHggc29saWQgI2ZmZn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPHNwYW4gY2xhc3M9XCJ0b29sdGlwXCI+XG4gICAgPHNsb3QgbmFtZT1cInRhcmdldFwiPjwvc2xvdD5cbiAgICA8ZGl2IGNsYXNzPVwid3JhcFwiIDpzdHlsZT1cInN0eWxlXCIgcmVmPVwid3JhcFwiPlxuICAgICAgPGRpdiA6Y2xhc3M9XCInYXJyb3cgJyArIGRpclwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImNvbnRlbnRcIj48L3Nsb3Q+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG5AaW1wb3J0ICdzYXNzL2Jhc2UnO1xuXG4udG9vbHRpcCB7XG4gIC53cmFwIHtcbiAgICAkYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogMTAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcbiAgICBib3gtc2hhZG93OiAuNXB4IC41cHggM3B4IC41cHggI2NjYztcblxuICAgIC5hcnJvdyB7XG4gICAgICAkd2lkdGg6IDhweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAwO1xuICAgICAgaGVpZ2h0OiAwO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICAgIEBtaXhpbiBhcnJvdygkZGlyKSB7XG4gICAgICAgIGJvcmRlcjogJHdpZHRoIHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItI3skZGlyfTogJHdpZHRoIHNvbGlkIHdoaXRlO1xuICAgICAgfVxuXG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgICAmLmxlZnQge1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgcmlnaHQ6IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ2xlZnQnKTtcbiAgICAgIH1cbiAgICAgICYucmlnaHQge1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogLSAkd2lkdGggKiAyO1xuICAgICAgICBAaW5jbHVkZSBhcnJvdygncmlnaHQnKTtcbiAgICAgIH1cbiAgICAgICYudG9wIHtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogLSAkd2lkdGggKiAyO1xuICAgICAgICBAaW5jbHVkZSBhcnJvdygndG9wJyk7XG4gICAgICB9XG4gICAgICAmLmJvdHRvbSB7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICB0b3A6IC0gJHdpZHRoICogMjtcbiAgICAgICAgQGluY2x1ZGUgYXJyb3coJ2JvdHRvbScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7RGVsYXlIb3ZlciwgVG9vbHRpcFBvc2l0aW9ufSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdleHRlbmQnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICAgIGRpcjogZmFsc2UsXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIGVudGVyRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuMSxcbiAgICB9LFxuICAgIGxlYXZlRGVsYXk6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogRWxlbWVudCxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy50YXJnZXQgIT09IG51bGwgPyB0aGlzLnRhcmdldCA6IHRoaXMuJGVsXG4gICAgdmFyIHRscFBvcyA9IG5ldyBUb29sdGlwUG9zaXRpb24ocGFyZW50LCB0aGlzLiRyZWZzLndyYXApXG4gICAgdmFyIGFycm93U3BhY2UgPSAxMFxuXG4gICAgdmFyIGRob3ZlciA9IG5ldyBEZWxheUhvdmVyKHBhcmVudCwge1xuICAgICAgZW50ZXJEZWxheTogdGhpcy5lbnRlckRlbGF5LFxuICAgICAgbGVhdmVEZWxheTogdGhpcy5sZWF2ZURlbGF5LFxuICAgIH0pXG4gICAgZGhvdmVyLmhvdmVyKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB2YXIgcG9zID0gdGxwUG9zLnBvc2l0aW9uKClcbiAgICAgICAgdGhpcy5kaXIgPSBwb3MuZGlyXG4gICAgICAgIHN3aXRjaCh0aGlzLmRpcikge1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICBleHRlbmQodGhpcy5zdHlsZSwge1xuICAgICAgICAgICAgdG9wOiBgJHtwb3MucmVjdC50b3B9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdCAtIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcH1weGAsXG4gICAgICAgICAgICBsZWZ0OiBgJHtwb3MucmVjdC5sZWZ0ICsgYXJyb3dTcGFjZX1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcCAtIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdH1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIGV4dGVuZCh0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICB0b3A6IGAke3Bvcy5yZWN0LnRvcCArIGFycm93U3BhY2V9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7cG9zLnJlY3QubGVmdH1weGAsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdyA9IHRydWVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlXG4gICAgICB9XG4gICAgKVxuICB9LFxuICB3YXRjaDoge1xuICAgIHNob3c6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuc2hvdyA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB0b29sdGlwLnZ1ZT8yNzMyZmRkZSIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdzcGFuJywge1xuICAgIHN0YXRpY0NsYXNzOiBcInRvb2x0aXBcIlxuICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIndyYXBcIixcbiAgICBzdGF0aWNDbGFzczogXCJ3cmFwXCIsXG4gICAgc3R5bGU6IChfdm0uc3R5bGUpXG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBjbGFzczogJ2Fycm93ICcgKyBfdm0uZGlyXG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiXG4gIH0sIFtfdm0uX3QoXCJjb250ZW50XCIpXSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtYTMzY2ZkNWUhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvdG9vbHRpcC52dWVcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgcmVmOiBcIm1lbnVcIixcbiAgICBzdGF0aWNDbGFzczogXCJtZW51XCJcbiAgfSwgW192bS5faCgndG9vbHRpcCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJkaXJcIjogX3ZtLmRpcixcbiAgICAgIFwidGFyZ2V0XCI6IF92bS4kcmVmcy5tZW51LFxuICAgICAgXCJlbnRlci1kZWxheVwiOiAwXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc2xvdDogXCJ0YXJnZXRcIlxuICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzbG90OiBcImNvbnRlbnRcIlxuICB9LCBbX3ZtLl90KFwibGlzdFwiKV0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LWVlZTRjYWJlIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL3RtZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiAoX3ZtLmVkaXRpbmcpID8gX3ZtLl9oKCd1bCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJlZGl0aW5nIGx5cmljc1wiXG4gIH0sIFtfdm0uX2woKF92bS5ydW5uZXIubHJjLmx5cmljcyksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG4gICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG4gICAgICBjbGFzczoge1xuICAgICAgICBjdXI6IGkgPT0gX3ZtLmluZGV4XG4gICAgICB9LFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBseXJpYy50aW1lc3RhbXBcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImRibGNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5lZGl0KGkpXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dG1lbnVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgX3ZtLmVkaXRNZW51KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbKF92bS5lZGl0aW5nSW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAobHlyaWMudGltZXN0YW1wKSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJseXJpYy50aW1lc3RhbXBcIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJ0aW1lc3RhbXBcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidHlwZVwiOiBcInRleHRcIlxuICAgICAgfSxcbiAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgIFwidmFsdWVcIjogX3ZtLl9zKGx5cmljLnRpbWVzdGFtcClcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cbiAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgICBseXJpYy50aW1lc3RhbXAgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSwgXCIgXCIsIF92bS5faCgnaW5wdXQnLCB7XG4gICAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICB2YWx1ZTogKGx5cmljLmNvbnRlbnQpLFxuICAgICAgICBleHByZXNzaW9uOiBcImx5cmljLmNvbnRlbnRcIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhseXJpYy5jb250ZW50KVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwia2V5ZG93blwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgIT09IDEzKSB7IHJldHVybjsgfVxuICAgICAgICAgIF92bS5leGl0RWRpdCgkZXZlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICAgIGx5cmljLmNvbnRlbnQgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KV0gOiBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJ0aW1lc3RhbXBcIlxuICAgIH0sIFtfdm0uX3MoX3ZtLl9mKFwidGltZVwiKShseXJpYy50aW1lc3RhbXApKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCJcbiAgICB9LCBbX3ZtLl9zKGx5cmljLmNvbnRlbnQpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuICAgICAgc2xvdDogXCJ0YXJnZXRcIlxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuICAgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuICAgICAgc2xvdDogXCJsaXN0XCJcbiAgICB9LCBbX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnJlbW92ZVRpbWVzdGFtcChpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW192bS5faCgnaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlX3RpbWVzdGFtcCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5lZGl0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZWRpdCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5pbnNlcnQoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLXBsdXNcIlxuICAgIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5hZGQnKSkgKyBcIlxcbiAgICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0ucmVtb3ZlKGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi10cmFzaFwiXG4gICAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLnJlbW92ZScpKSArIFwiXFxuICAgICAgICAgICAgXCJdKV0pXSldKV0sIFwiIFwiXSlcbiAgfSksIFwiIFwiLCAoX3ZtLmx5cmljQXJyYXkubGVuZ3RoKSA/IF92bS5faCgnbGknLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiZGl2aXNpb25cIlxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbHlyaWNfZWRpdG9yLmZvbGxvd2luZ191bnNvcnRlZCcpKV0pIDogX3ZtLl9lKCksIFwiIFwiLCBfdm0uX2woKF92bS5seXJpY0FycmF5KSwgZnVuY3Rpb24obHlyaWMsIGkpIHtcbiAgICByZXR1cm4gX3ZtLl9oKCdsaScsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInVuc29ydGVkXCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInRyYWNrLWJ5XCI6IFwiaVwiXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJkYmxjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uZWRpdFRleHQoaSlcbiAgICAgICAgfSxcbiAgICAgICAgXCJjb250ZXh0bWVudVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdm0uZWRpdE1lbnUoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFsoX3ZtLmVkaXRpbmdUZXh0SW5kZXggPT0gaSkgPyBbX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAoX3ZtLmx5cmljQXJyYXlbaV0pLFxuICAgICAgICBleHByZXNzaW9uOiBcImx5cmljQXJyYXlbaV1cIlxuICAgICAgfV0sXG4gICAgICBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWNBcnJheVtpXSlcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImtleWRvd25cIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC5rZXlDb2RlICE9PSAxMykgeyByZXR1cm47IH1cbiAgICAgICAgICBfdm0uZXhpdEVkaXQoJGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgICB2YXIgJCRleHAgPSBfdm0ubHlyaWNBcnJheSxcbiAgICAgICAgICAgICQkaWR4ID0gaTtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoJCRleHApKSB7XG4gICAgICAgICAgICBfdm0ubHlyaWNBcnJheVtpXSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCRleHAuc3BsaWNlKCQkaWR4LCAxLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXSA6IFtfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIlxuICAgIH0sIFtfdm0uX3MobHlyaWMpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImljb24tYnRuIGNvbmNlYWxcIlxuICAgIH0sIFtfdm0uX2goJ3RtZW51JywgW192bS5faCgnZGl2Jywge1xuICAgICAgc2xvdDogXCJ0YXJnZXRcIlxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLWVsbGlwc2lzLXZlcnRcIlxuICAgIH0pXSksIFwiIFwiLCBfdm0uX2goJ3VsJywge1xuICAgICAgc2xvdDogXCJsaXN0XCJcbiAgICB9LCBbX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLmVkaXRUZXh0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1lZGl0XCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuZWRpdCcpKSArIFwiXFxuICAgICAgICAgICAgXCJdKSwgXCIgXCIsIF92bS5faCgnbGknLCB7XG4gICAgICBvbjoge1xuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS5pbnNlcnRUZXh0KGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl9oKCdpJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1wbHVzXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IuYWRkJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgX3ZtLnJlbW92ZVRleHQoaSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJpY29uLXRyYXNoXCJcbiAgICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdseXJpY19lZGl0b3IucmVtb3ZlJykpICsgXCJcXG4gICAgICAgICAgICBcIl0pXSldKV0pXSwgXCIgXCJdKVxuICB9KV0pIDogX3ZtLl9oKCd1bCcsIHtcbiAgICBzdGF0aWNDbGFzczogXCJseXJpY3NcIlxuICB9LCBbX3ZtLl9sKChfdm0ucnVubmVyLmxyYy5seXJpY3MpLCBmdW5jdGlvbihseXJpYywgaSkge1xuICAgIHJldHVybiBfdm0uX2goJ2xpJywge1xuICAgICAgY2xhc3M6IHtcbiAgICAgICAgY3VyOiBpID09IF92bS5pbmRleFxuICAgICAgfSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwidGl0bGVcIjogbHlyaWMudGltZXN0YW1wXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0ucGxheXRvKGx5cmljLnRpbWVzdGFtcClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtcIlxcbiAgICBcIiArIF92bS5fcyhseXJpYy5jb250ZW50KSArIFwiXFxuICBcIl0pXG4gIH0pLCBcIiBcIiwgKF92bS5seXJpY0FycmF5Lmxlbmd0aCkgPyBfdm0uX2goJ2xpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImRpdmlzaW9uXCJcbiAgfSwgW192bS5fcyhfdm0uJHQoJ2x5cmljX2VkaXRvci5mb2xsb3dpbmdfdW5zb3J0ZWQnKSldKSA6IF92bS5fZSgpLCBcIiBcIiwgX3ZtLl9sKChfdm0ubHlyaWNBcnJheSksIGZ1bmN0aW9uKGx5cmljLCBpKSB7XG4gICAgcmV0dXJuIF92bS5faCgnbGknLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJ1bnNvcnRlZFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJ0cmFjay1ieVwiOiBcImlcIlxuICAgICAgfVxuICAgIH0sIFtcIlxcbiAgICBcIiArIF92bS5fcyhseXJpYykgKyBcIlxcbiAgXCJdKVxuICB9KV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtMWNhY2Y1M2QhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbHlyaWMtZWRpdG9yLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzdHlsZXMgKi9cbnJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlcj9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhc2Fzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi1hMTRjOTZlYSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIpXG5cbi8qIHNjcmlwdCAqL1xuX192dWVfZXhwb3J0c19fID0gcmVxdWlyZShcIiEhYmFiZWwtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LWExNGM5NmVhIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuX192dWVfb3B0aW9uc19fLl9zY29wZUlkID0gXCJkYXRhLXYtYTE0Yzk2ZWFcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhJnNjb3BlZD10cnVlIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9pbmRleC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtc3R5bGUtbG9hZGVyIS4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXBbZGF0YS12LWExNGM5NmVhXTphZnRlciwubW9kYWwgLmhlYWRlcltkYXRhLXYtYTE0Yzk2ZWFdOmFmdGVye2NvbnRlbnQ6JyAnO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uY292ZXJbZGF0YS12LWExNGM5NmVhXXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC43KTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTAwMDtvdmVyZmxvdzphdXRvfS5tb2RhbFtkYXRhLXYtYTE0Yzk2ZWFde3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjozMHB4IGF1dG87YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6OHB4O292ZXJmbG93OmhpZGRlbn0ubW9kYWwubGdbZGF0YS12LWExNGM5NmVhXXt3aWR0aDo1MCV9Lm1vZGFsLm1kW2RhdGEtdi1hMTRjOTZlYV17d2lkdGg6NzAlfS5tb2RhbC5zbVtkYXRhLXYtYTE0Yzk2ZWFde3dpZHRoOjkwJX0ubW9kYWwgLmJvZHlbZGF0YS12LWExNGM5NmVhXSwubW9kYWwgLmZvb3RlcltkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy1sZWZ0OjE0cHg7cGFkZGluZy1yaWdodDoxNHB4fS5tb2RhbCAuYm9keVtkYXRhLXYtYTE0Yzk2ZWFdLC5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fS5tb2RhbCAuZm9vdGVyW2RhdGEtdi1hMTRjOTZlYV0sLm1vZGFsIC5oZWFkZXJbZGF0YS12LWExNGM5NmVhXXtjb2xvcjojMTE2MWIzfS5tb2RhbCAuaGVhZGVyW2RhdGEtdi1hMTRjOTZlYV17Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U1ZTVlNTtmb250LXdlaWdodDpib2xkZXJ9Lm1vZGFsIC5oZWFkZXIgLmljb24tY2FuY2VsW2RhdGEtdi1hMTRjOTZlYV17ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXJ9Lm1vZGFsIC5mb290ZXJbZGF0YS12LWExNGM5NmVhXXtib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1fS5tb2RhbCAuZm9vdGVyIC5idG4tZ3JvdXAgLmJ0bltkYXRhLXYtYTE0Yzk2ZWFde2Zsb2F0OnJpZ2h0O2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxMTYxYjM7cGFkZGluZzo4cHggMTBweH0ubW9kYWwgLmZvb3RlciAuYnRuLWdyb3VwIC5idG5bZGF0YS12LWExNGM5NmVhXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MSEuL2luZGV4LnZ1ZVwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vaW5kZXgudnVlXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1zdHlsZS1sb2FkZXIhLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LWExNGM5NmVhIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL21vZGFscy9pbmRleC52dWVcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1vZGFsIGgze21hcmdpbjoxMHB4IDB9Lm1vZGFsIHRleHRhcmVhe3dpZHRoOjEwMCU7Ym9yZGVyOjFweCBzb2xpZCAjZDZkNmQ2O2JvcmRlci1yYWRpdXM6NXB4O21pbi1oZWlnaHQ6MzAwcHg7bWFyZ2luOjEwcHggMH0ubW9kYWwgcHttYXJnaW46MH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtYTE0Yzk2ZWEhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9hcHAvbW9kYWxzL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IDpjbGFzcz1cIntjb3ZlcjogY292ZXJTaG93fVwiIEBjbGljaz1cImNhbmNlbFwiPlxuICAgIDx0cmFuc2l0aW9uIG5hbWU9XCJtb2RhbFwiIEBhZnRlci1sZWF2ZT1cImNvdmVyU2hvdyA9IGZhbHNlXCI+XG4gICAgICA8ZGl2IHYtaWY9XCJpc1Nob3dcIiBjbGFzcz1cIm1vZGFsXCIgOmNsYXNzPVwiW3NpemVdXCIgQGNsaWNrLnN0b3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICB7e3RpdGxlfX1cbiAgICAgICAgICA8aSBjbGFzcz1cImljb24tY2FuY2VsXCIgQGNsaWNrPVwiY2FuY2VsXCI+PC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAgICAgICAgICA8ZGl2IHJlZj1cIm1vZGFsV3JhcHBlclwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgdi1pZj1cImNvbmZpcm1cIiBjbGFzcz1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiIEBjbGljaz1cIm9rXCI+e3sgJHQoJ21vZGFsLmJ1dHRvbi5vaycpIH19PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuXCIgQGNsaWNrPVwiY2FuY2VsXCI+e3sgJHQoJ21vZGFsLmJ1dHRvbi5jYW5jZWwnKSB9fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG5AaW1wb3J0IFwiLi4vc2Fzcy9iYXNlXCI7XG5cbiRwcmltYXJ5LWNvbG9yOiAjNEY5OUU0O1xuXG4uY292ZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiAxMDAwO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLm1vZGFsIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW46IDMwcHggYXV0bztcblxuICAmLmxnIHtcbiAgICB3aWR0aDogNTAlO1xuICB9XG5cbiAgJi5tZCB7XG4gICAgd2lkdGg6IDcwJTtcbiAgfVxuXG4gICYuc20ge1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cblxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC5oZWFkZXIsXG4gIC5ib2R5LFxuICAuZm9vdGVyLFxuICB7XG4gICAgcGFkZGluZy1sZWZ0OiAxNHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDE0cHg7XG4gIH1cblxuICAuaGVhZGVyLFxuICAuYm9keSxcbiAge1xuICAgIHBhZGRpbmctdG9wOiAxNHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxNHB4O1xuICB9XG5cbiAgLmhlYWRlcixcbiAgLmZvb3RlcixcbiAge1xuICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgfVxuXG4gIC5oZWFkZXIge1xuICAgIEBleHRlbmQgJXJvdztcblxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRTVFNUU1O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG5cbiAgICAuaWNvbi1jYW5jZWwge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgfVxuXG4gIC5mb290ZXIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRTVFNUU1O1xuXG4gICAgLmJ0bi1ncm91cCB7XG4gICAgICBAZXh0ZW5kICVyb3c7XG5cbiAgICAgIC5idG4ge1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogJGJsdWUtY29sb3I7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuXG4gICAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cblxuPHN0eWxlIGxhbmc9XCJzYXNzXCI+XG4gIC5tb2RhbCB7XG4gICAgaDMge1xuICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgfVxuICAgIHRleHRhcmVhIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0Q2RDZENjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgfVxuICAgIHAge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgfVxuPC9zdHlsZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG4gIGltcG9ydCB7Z2xvYmFsS2V5ZG93bn0gZnJvbSAnLi4vdXRpbHMnXG4gIGltcG9ydCBIZWxwIGZyb20gJy4vaGVscCdcbiAgaW1wb3J0IExyY0Zvcm1hdFVwbG9hZCBmcm9tICcuL2xyYy1mb3JtYXQtdXBsb2FkJ1xuICBpbXBvcnQgTHlyaWNVcGxvYWQgZnJvbSAnLi9seXJpYy11cGxvYWQnXG4gIGltcG9ydCBMcmNTYXZlIGZyb20gJy4vbHJjLXNhdmUnXG5cbiAgdmFyIENPTVBPTkVOVFMgPSB7XG4gICAgJ2hlbHAnOiBIZWxwLFxuICAgICdscmMtZm9ybWF0LXVwbG9hZCc6IExyY0Zvcm1hdFVwbG9hZCxcbiAgICAnbHlyaWMtdXBsb2FkJzogTHlyaWNVcGxvYWQsXG4gICAgJ2xyYy1zYXZlJzogTHJjU2F2ZSxcbiAgfVxuXG4gIHdpbmRvdy5NQyA9IFtdXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogJ01vZGFsJyxcbiAgICAgICAgc2l6ZTogJ21kJyxcbiAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgIG1vZGFsTmFtZTogJycsXG4gICAgICAgIG1vZGFsQ29tcG9uZW50OiBudWxsLFxuICAgICAgICBpc1Nob3c6IGZhbHNlLFxuICAgICAgICBjb3ZlclNob3c6IGZhbHNlLFxuICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgc2hvdyhtb2RhbE5hbWUpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlXG4gICAgICAgIHRoaXMuY292ZXJTaG93ID0gdHJ1ZVxuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tb2RhbE5hbWUgPSBtb2RhbE5hbWVcbiAgICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50ID0gbmV3IFZ1ZSh7XG4gICAgICAgICAgICAuLi5DT01QT05FTlRTW3RoaXMubW9kYWxOYW1lXVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5tb2RhbENvbXBvbmVudC4kbW91bnQodGhpcy4kcmVmcy5tb2RhbFdyYXBwZXIpXG5cbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC50aXRsZSlcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLm1vZGFsQ29tcG9uZW50LnRpdGxlXG4gICAgICAgICAgaWYgKHRoaXMubW9kYWxDb21wb25lbnQuc2l6ZSlcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLm1vZGFsQ29tcG9uZW50LnNpemVcbiAgICAgICAgICBpZiAodGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtKVxuICAgICAgICAgICAgdGhpcy5jb25maXJtID0gdGhpcy5tb2RhbENvbXBvbmVudC5jb25maXJtXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH0sXG4gICAgICBvaygpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdvaycpXG4gICAgICAgIHRoaXMubW9kYWxDb21wb25lbnQuJGRlc3Ryb3koKVxuICAgICAgfSxcbiAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRlbWl0KCdjYW5jZWwnKVxuICAgICAgICB0aGlzLm1vZGFsQ29tcG9uZW50LiRkZXN0cm95KClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtb3VudGVkKCkge1xuICAgICAgZ2xvYmFsS2V5ZG93bi5vbignZXNjYXBlJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1Nob3cpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBIZWxwLFxuICAgICAgTHJjRm9ybWF0VXBsb2FkLFxuICAgICAgTHlyaWNVcGxvYWQsXG4gICAgICBMcmNTYXZlLFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LnZ1ZT84MzdjNDM5NiIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc3R5bGVzICovXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTNmNTdjMWQwJnNjb3BlZD10cnVlIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9oZWxwLnZ1ZVwiKVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vaGVscC52dWVcIilcblxuLyogdGVtcGxhdGUgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9fID0gcmVxdWlyZShcIiEhdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/aWQ9ZGF0YS12LTNmNTdjMWQwIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2hlbHAudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi0zZjU3YzFkMFwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2hlbHAudnVlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vaGVscC52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtM2Y1N2MxZDAmc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbW9kYWxzL2hlbHAudnVlXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5oZWxwW2RhdGEtdi0zZjU3YzFkMF17Y29sb3I6IzMzM30uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF0sLmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXSwuaGVscCBoNFtkYXRhLXYtM2Y1N2MxZDBde2NvbG9yOiMxMTYxYjN9LmhlbHAgaDNbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46NXB4IDB9LmhlbHAgaDRbZGF0YS12LTNmNTdjMWQwXXttYXJnaW46MH0uaGVscCBhW2RhdGEtdi0zZjU3YzFkMF17Zm9udC13ZWlnaHQ6Ym9sZGVyfS5oZWxwIHVsW2RhdGEtdi0zZjU3YzFkMF17bGlzdC1zdHlsZS10eXBlOm5vbmU7cGFkZGluZzowIDAgMCAyMHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi0zZjU3YzFkMCZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaGVscC52dWVcbi8vIG1vZHVsZSBpZCA9IDgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICA8aDM+e3sgJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykgfX08L2gzPlxuICAgIDxoND57eyAkdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmxlZnRfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5iYWNrd2FyZCcpIH19PC9saT5cbiAgICAgIDxsaT48c3Ryb25nPnt7ICR0KCdtb2RhbC5oZWxwLnBsYXlfY29udHJvbC5yaWdodF9rZXknKSB9fTo8L3N0cm9uZz4ge3sgJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmZvcndhcmQnKSB9fTwvbGk+XG4gICAgPC91bD5cbiAgICA8aDQ+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSB9fTwvaDQ+XG4gICAgPHVsPlxuICAgICAgPGxpPjxzdHJvbmc+e3sgJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudXBfa2V5JykgfX06PC9zdHJvbmc+IHt7ICR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnByZXZfbHlyaWMnKSB9fTwvbGk+XG4gICAgICA8bGk+PHN0cm9uZz57eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5kb3duX2tleScpIH19Ojwvc3Ryb25nPiB7eyAkdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5uZXh0X2x5cmljJykgfX08L2xpPlxuICAgIDwvdWw+XG4gICAgPGRpdiBjbGFzcz1cImxpbmtcIj5cbiAgICAgIDxhIDpocmVmPVwiUEtHLmhvbWVwYWdlXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3sgJHQoJ21vZGFsLmhlbHAuc291cmNlX2NvZGUnKSB9fTogZ2l0aHViPC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBsYW5nPVwic2Fzc1wiIHNjb3BlZD5cbiAgQGltcG9ydCAnLi4vc2Fzcy9iYXNlJztcblxuICAuaGVscCB7XG4gICAgY29sb3I6ICMzMzM7XG4gICAgaDMsIGg0LCBhIHtcbiAgICAgIGNvbG9yOiAkYmx1ZS1jb2xvcjtcbiAgICB9XG4gICAgaDMge1xuICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgICBhIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgfVxuICAgIHVsIHtcbiAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDAgMCAwIDIwcHg7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgUEtHIGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbidcblxuICBleHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFBLRzogUEtHLFxuICAgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwuaGVscC50aXRsZScpLFxuICAgICAgfVxuICAgIH1cbiAgfVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaGVscC52dWU/MzBhYmNmYmIiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJuYW1lXCI6IFwibHJjLW1ha2VyXCIsXG5cdFwidmVyc2lvblwiOiBcIjAuMi4yXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJscmMgbWFrZXJcIixcblx0XCJtYWluXCI6IFwiaW5kZXguanNcIixcblx0XCJzY3JpcHRzXCI6IHtcblx0XHRcInRlc3RcIjogXCJ5YXJuIHJ1biBsaW50XCIsXG5cdFx0XCJsaW50XCI6IFwiZXNsaW50IC0tZXh0IGpzLHZ1ZSB3ZWJwYWNrLmNvbmZpZy5qcyBzcmNcIixcblx0XHRcImRldlwiOiBcIndlYnBhY2stZGV2LXNlcnZlciAtLWhvc3Q9JzAuMC4wLjAnIC0tcHJvZ3Jlc3MgLS1jb2xvcnMgLS1pbmxpbmUgLS1ob3QgLS1vdXRwdXQtcHVibGljLXBhdGg9Jy9hc3NldHMvJ1wiLFxuXHRcdFwiYnVpbGRcIjogXCJ5YXJuIHJ1biBidWlsZDpjbGVhbiAmJiB5YXJuIHJ1biBidWlsZDp3ZWJwYWNrICYmIHlhcm4gcnVuIGJ1aWxkOnZpZXdcIixcblx0XHRcImJ1aWxkOmNsZWFuXCI6IFwicm0gLXJmIGJ1aWxkXCIsXG5cdFx0XCJidWlsZDp2aWV3XCI6IFwiIGNwIGluZGV4Lmh0bWwgYnVpbGQvaW5kZXguaHRtbFwiLFxuXHRcdFwiYnVpbGQ6d2VicGFja1wiOiBcIndlYnBhY2sgLS1vcHRpbWl6ZS1taW5pbWl6ZSAtLW91dHB1dC1wdWJsaWMtcGF0aD0nLi9hc3NldHMvJ1wiLFxuXHRcdFwiZGVwbG95XCI6IFwieWFybiBydW4gYnVpbGQgJiYgZ2gtcGFnZXMgLWQgYnVpbGRcIlxuXHR9LFxuXHRcImtleXdvcmRzXCI6IFtcblx0XHRcImxyY1wiXG5cdF0sXG5cdFwiYXV0aG9yXCI6IFwiV2Vpcm9uZyBYdSA8d2Vpcm9uZ3h1LnJhaWRvdUBnbWFpbC5jb20+XCIsXG5cdFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vd2Vpcm9uZ3h1L2xyYy1tYWtlclwiLFxuXHRcInJlcG9zaXRvcnlcIjoge1xuXHRcdFwidHlwZVwiOiBcImdpdFwiLFxuXHRcdFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXIuZ2l0XCJcblx0fSxcblx0XCJvbmxpbmVQYWdlXCI6IFwiaHR0cHM6Ly93ZWlyb25neHUuZ2l0aHViLmlvL2xyYy1tYWtlci9cIixcblx0XCJidWdzXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3dlaXJvbmd4dS9scmMtbWFrZXIvaXNzdWVzXCIsXG5cdFwibGljZW5zZVwiOiBcIk1JVFwiLFxuXHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJhdXRvcHJlZml4ZXJcIjogXCJeNi41LjNcIixcblx0XHRcImJhYmVsLWNvcmVcIjogXCJeNi43LjZcIixcblx0XHRcImJhYmVsLWVzbGludFwiOiBcIl43LjEuMVwiLFxuXHRcdFwiYmFiZWwtaGVscGVyLXZ1ZS1qc3gtbWVyZ2UtcHJvcHNcIjogXCJeMi4wLjJcIixcblx0XHRcImJhYmVsLWxvYWRlclwiOiBcIl42LjIuOFwiLFxuXHRcdFwiYmFiZWwtcGx1Z2luLXN5bnRheC1qc3hcIjogXCJeNi4xOC4wXCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXZ1ZS1qc3hcIjogXCJeMy4yLjBcIixcblx0XHRcImJhYmVsLXByZXNldC1sYXRlc3RcIjogXCJeNi4xNi4wXCIsXG5cdFx0XCJiYWJlbC1wcmVzZXQtc3RhZ2UtMFwiOiBcIl42LjE2LjBcIixcblx0XHRcImNzcy1sb2FkZXJcIjogXCJeMC4yNi4wXCIsXG5cdFx0XCJlc2xpbnRcIjogXCJeMy4xMC4yXCIsXG5cdFx0XCJlc2xpbnQtbG9hZGVyXCI6IFwiXjEuMy4wXCIsXG5cdFx0XCJlc2xpbnQtcGx1Z2luLWh0bWxcIjogXCJeMS43LjBcIixcblx0XHRcImZpbGUtbG9hZGVyXCI6IFwiXjAuOS4wXCIsXG5cdFx0XCJnaC1wYWdlc1wiOiBcIl4wLjEyLjBcIixcblx0XHRcImpzb24tbG9hZGVyXCI6IFwiXjAuNS40XCIsXG5cdFx0XCJub2RlLXNhc3NcIjogXCJeMy4xMy4wXCIsXG5cdFx0XCJyZXNvbHZlLXVybC1sb2FkZXJcIjogXCJeMS42LjBcIixcblx0XHRcInNhc3MtbG9hZGVyXCI6IFwiXjQuMC4yXCIsXG5cdFx0XCJ1cmwtbG9hZGVyXCI6IFwiXjAuNS43XCIsXG5cdFx0XCJ2dWUtbG9hZGVyXCI6IFwiXjEwLjAuMVwiLFxuXHRcdFwidnVlLXRlbXBsYXRlLWNvbXBpbGVyXCI6IFwiXjIuMS4zXCIsXG5cdFx0XCJ3ZWJwYWNrXCI6IFwiXjEuMTIuMTVcIixcblx0XHRcIndlYnBhY2stZGV2LXNlcnZlclwiOiBcIl4xLjE0LjFcIixcblx0XHRcInlhbWwtbG9hZGVyXCI6IFwiXjAuNC4wXCJcblx0fSxcblx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFwiY2xvbmVcIjogXCJeMi4xLjBcIixcblx0XHRcImV2ZW50ZW1pdHRlcjJcIjogXCJeMi4yLjFcIixcblx0XHRcImV4dGVuZFwiOiBcIl4zLjAuMFwiLFxuXHRcdFwiZmlsZXNhdmVyLmpzXCI6IFwiXjAuMi4wXCIsXG5cdFx0XCJscmMta2l0XCI6IFwiXjAuMi4wXCIsXG5cdFx0XCJ1bmlkcmFnZ2VyXCI6IFwiXjIuMS4wXCIsXG5cdFx0XCJ2dWVcIjogXCJeMi4xLjNcIixcblx0XHRcInZ1ZS1pMThuXCI6IFwiXjQuNy4zXCJcblx0fVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9wYWNrYWdlLmpzb25cbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaGVscFwiXG4gIH0sIFtfdm0uX2goJ2gzJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAuc2hvcnRjdXRfa2V5JykpXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnRpdGxlJykpXSksIFwiIFwiLCBfdm0uX2goJ3VsJywgW192bS5faCgnbGknLCBbX3ZtLl9oKCdzdHJvbmcnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wubGVmdF9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLmJhY2t3YXJkJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAucGxheV9jb250cm9sLnJpZ2h0X2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5wbGF5X2NvbnRyb2wuZm9yd2FyZCcpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2g0JywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMudGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndWwnLCBbX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3N0cm9uZycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5oZWxwLm1ha2VfbHJjLnVwX2tleScpKSArIFwiOlwiXSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5tYWtlX2xyYy5wcmV2X2x5cmljJykpXSksIFwiIFwiLCBfdm0uX2goJ2xpJywgW192bS5faCgnc3Ryb25nJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMuZG93bl9rZXknKSkgKyBcIjpcIl0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmhlbHAubWFrZV9scmMubmV4dF9seXJpYycpKV0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJsaW5rXCJcbiAgfSwgW192bS5faCgnYScsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJocmVmXCI6IF92bS5QS0cuaG9tZXBhZ2UsXG4gICAgICBcInRhcmdldFwiOiBcIl9ibGFua1wiXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuaGVscC5zb3VyY2VfY29kZScpKSArIFwiOiBnaXRodWJcIl0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIuanM/aWQ9ZGF0YS12LTNmNTdjMWQwIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vYXBwL21vZGFscy9oZWxwLnZ1ZVxuLy8gbW9kdWxlIGlkID0gODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vbHJjLWZvcm1hdC11cGxvYWQudnVlXCIpXG5cbi8qIHRlbXBsYXRlICovXG52YXIgX192dWVfdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIXZ1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP2lkPWRhdGEtdi0wZTIyN2EyMCF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9scmMtZm9ybWF0LXVwbG9hZC52dWVcIilcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXyB8fCB7fVxuaWYgKFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgfHxcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbikge1xuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fLmRlZmF1bHRcbn1cbmlmICh0eXBlb2YgX192dWVfb3B0aW9uc19fID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgX192dWVfb3B0aW9uc19fID0gX192dWVfb3B0aW9uc19fLm9wdGlvbnNcbn1cblxuX192dWVfb3B0aW9uc19fLnJlbmRlciA9IF9fdnVlX3RlbXBsYXRlX18ucmVuZGVyXG5fX3Z1ZV9vcHRpb25zX18uc3RhdGljUmVuZGVyRm5zID0gX192dWVfdGVtcGxhdGVfXy5zdGF0aWNSZW5kZXJGbnNcblxubW9kdWxlLmV4cG9ydHMgPSBfX3Z1ZV9leHBvcnRzX19cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL21vZGFscy9scmMtZm9ybWF0LXVwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdj5cbiAgICA8cD57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQuZGVzY3JpcHRpb24nKSB9fTwvcD5cbiAgICA8dGV4dGFyZWEgdi1tb2RlbD1cImx5cmljXCI+PC90ZXh0YXJlYT5cbiAgICA8dXBsb2FkIGNsYXNzPVwiYnRuXCIgQHVwbG9hZGVkPVwidXBsb2FkXCI+e3sgJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLnVwbG9hZCcpIH19PC91cGxvYWQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IFVwbG9hZCBmcm9tICcuLi91cGxvYWQnXG5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF91cGxvYWQudGl0bGUnKSxcbiAgICAgICAgbHlyaWM6ICcnLFxuICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHRoaXMubHlyaWMgPSAkQXBwLmxyY0Zvcm1hdFxuICAgICAgdGhpcy4kb24oJ29rJywgKCkgPT4ge1xuICAgICAgICAkQXBwLmxyY0Zvcm1hdCA9IHRoaXMubHlyaWNcbiAgICAgIH0pXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB1cGxvYWQobHlyaWMpIHtcbiAgICAgICAgdGhpcy5seXJpYyA9IGx5cmljXG4gICAgICB9LFxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgVXBsb2FkLFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxyYy1mb3JtYXQtdXBsb2FkLnZ1ZT83ZDI0ZGZmZSIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdwJywgW192bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfdXBsb2FkLmRlc2NyaXB0aW9uJykpXSksIFwiIFwiLCBfdm0uX2goJ3RleHRhcmVhJywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgIHZhbHVlOiAoX3ZtLmx5cmljKSxcbiAgICAgIGV4cHJlc3Npb246IFwibHlyaWNcIlxuICAgIH1dLFxuICAgIGRvbVByb3BzOiB7XG4gICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0ubHlyaWMpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICBfdm0ubHlyaWMgPSAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9KSwgXCIgXCIsIF92bS5faCgndXBsb2FkJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImJ0blwiLFxuICAgIG9uOiB7XG4gICAgICBcInVwbG9hZGVkXCI6IF92bS51cGxvYWRcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3VwbG9hZC51cGxvYWQnKSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtMGUyMjdhMjAhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbW9kYWxzL2xyYy1mb3JtYXQtdXBsb2FkLnZ1ZVxuLy8gbW9kdWxlIGlkID0gODdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fdnVlX2V4cG9ydHNfXywgX192dWVfb3B0aW9uc19fXG52YXIgX192dWVfc3R5bGVzX18gPSB7fVxuXG4vKiBzY3JpcHQgKi9cbl9fdnVlX2V4cG9ydHNfXyA9IHJlcXVpcmUoXCIhIWJhYmVsLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXNjcmlwdCZpbmRleD0wIS4vbHlyaWMtdXBsb2FkLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtODZhYjE1ZjQhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vbHlyaWMtdXBsb2FkLnZ1ZVwiKVxuX192dWVfb3B0aW9uc19fID0gX192dWVfZXhwb3J0c19fID0gX192dWVfZXhwb3J0c19fIHx8IHt9XG5pZiAoXG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJvYmplY3RcIiB8fFxuICB0eXBlb2YgX192dWVfZXhwb3J0c19fLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuKSB7XG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdFxufVxuaWYgKHR5cGVvZiBfX3Z1ZV9vcHRpb25zX18gPT09IFwiZnVuY3Rpb25cIikge1xuICBfX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9vcHRpb25zX18ub3B0aW9uc1xufVxuXG5fX3Z1ZV9vcHRpb25zX18ucmVuZGVyID0gX192dWVfdGVtcGxhdGVfXy5yZW5kZXJcbl9fdnVlX29wdGlvbnNfXy5zdGF0aWNSZW5kZXJGbnMgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnN0YXRpY1JlbmRlckZuc1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fdnVlX2V4cG9ydHNfX1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvbW9kYWxzL2x5cmljLXVwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdj5cbiAgICA8cD57eyAkdCgnbW9kYWwubHlyaWNfdXBsb2FkLmRlc2NyaXB0aW9uJykgfX08L3A+XG4gICAgPHRleHRhcmVhIHYtbW9kZWw9XCJseXJpY1wiPjwvdGV4dGFyZWE+XG4gICAgPHVwbG9hZCBjbGFzcz1cImJ0blwiIEB1cGxvYWRlZD1cInVwbG9hZFwiPnt7ICR0KCdtb2RhbC5seXJpY191cGxvYWQudXBsb2FkJykgfX08L3VwbG9hZD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuICBpbXBvcnQgVXBsb2FkIGZyb20gJy4uL3VwbG9hZCdcbiAgaW1wb3J0IGNhY2hlIGZyb20gJy4uL2NhY2hlJ1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmx5cmljX3VwbG9hZC50aXRsZScpLFxuICAgICAgICBseXJpYzogY2FjaGUubHlyaWMsXG4gICAgICAgIGNvbmZpcm06IHRydWUsXG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVkKCkge1xuICAgICAgdGhpcy4kb24oJ29rJywgKCkgPT4ge1xuICAgICAgICAkQXBwLmx5cmljQXJyYXkgPSB0aGlzLmx5cmljLnNwbGl0KC9cXHJcXG58W1xcblxccl0vZylcbiAgICAgIH0pXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICB1cGxvYWQobHlyaWMpIHtcbiAgICAgICAgdGhpcy5seXJpYyA9IGx5cmljXG4gICAgICB9LFxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgIGx5cmljKHZhbCkge1xuICAgICAgICBjYWNoZS5seXJpYyA9IHZhbFxuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgIFVwbG9hZFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGx5cmljLXVwbG9hZC52dWU/NGJlZTI0NzgiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2JywgW192bS5faCgncCcsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5seXJpY191cGxvYWQuZGVzY3JpcHRpb24nKSldKSwgXCIgXCIsIF92bS5faCgndGV4dGFyZWEnLCB7XG4gICAgZGlyZWN0aXZlczogW3tcbiAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgdmFsdWU6IChfdm0ubHlyaWMpLFxuICAgICAgZXhwcmVzc2lvbjogXCJseXJpY1wiXG4gICAgfV0sXG4gICAgZG9tUHJvcHM6IHtcbiAgICAgIFwidmFsdWVcIjogX3ZtLl9zKF92bS5seXJpYylcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImlucHV0XCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsgcmV0dXJuOyB9XG4gICAgICAgIF92bS5seXJpYyA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCd1cGxvYWQnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG4gICAgb246IHtcbiAgICAgIFwidXBsb2FkZWRcIjogX3ZtLnVwbG9hZFxuICAgIH1cbiAgfSwgW192bS5fcyhfdm0uJHQoJ21vZGFsLmx5cmljX3VwbG9hZC51cGxvYWQnKSldKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtODZhYjE1ZjQhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbW9kYWxzL2x5cmljLXVwbG9hZC52dWVcbi8vIG1vZHVsZSBpZCA9IDkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX3Z1ZV9leHBvcnRzX18sIF9fdnVlX29wdGlvbnNfX1xudmFyIF9fdnVlX3N0eWxlc19fID0ge31cblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL2xyYy1zYXZlLnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtNDBmZTNjMDQhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vbHJjLXNhdmUudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9tb2RhbHMvbHJjLXNhdmUudnVlXG4vLyBtb2R1bGUgaWQgPSA5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI8dGVtcGxhdGU+XG4gIDxkaXY+XG4gICAgPGgzPnt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuaW5mb190aXRsZScpIH19PC9oMz5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIHYtZm9yPVwiZmllbGQgaW4gaW5mb0ZpZWxkc1wiIHYtaWY9XCJmaWVsZC5sYWJlbFwiPlxuICAgICAgPGxhYmVsIDpmb3I9XCInaW5mby0nICsgZmllbGQua2V5XCIgdi10ZXh0PVwiZmllbGQubGFiZWxcIj48L2xhYmVsPlxuICAgICAgPGlucHV0IDppZD1cIidpbmZvLScgKyBmaWVsZC5rZXlcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJpbmZvW2ZpZWxkLmtleV1cIiAvPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICA8bGFiZWwgZm9yPVwiaW5mby1ieVwiPnt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmxyY19jcmVhdG9yJykgfX08L2xhYmVsPlxuICAgICAgPGlucHV0IGlkPVwiaW5mby1ieVwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cInVzZXJOYW1lXCIgLz5cbiAgICA8L2Rpdj5cblxuICAgIDxoMz57eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnNhdmVfdGl0bGUnKSB9fTwvaDM+XG4gICAgPHRleHRhcmVhPnt7IGx5cmljIH19PC90ZXh0YXJlYT5cbiAgICA8bGFiZWw+XG4gICAgICB7eyAkdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmNvbWJpbmUnKSB9fVxuICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHYtbW9kZWw9XCJzYXZlT3B0aW9ucy5jb21iaW5lXCIgLz5cbiAgICA8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJidG5cIiBAY2xpY2s9XCJzYXZlXCI+XG4gICAgICA8aSBjbGFzcz1cImljb24tZG93bmxvYWRcIj48L2k+IHt7ICR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZG93bmxvYWQnKSB9fVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gIGltcG9ydCB7c2F2ZUxyYywgdGltZXN0YW1wMnRpbWVzdHJ9IGZyb20gJy4uL3V0aWxzJ1xuICBpbXBvcnQgY2FjaGUgZnJvbSAnLi4vY2FjaGUnXG4gIGltcG9ydCBQS0cgZnJvbSAnLi4vLi4vLi4vcGFja2FnZS5qc29uJ1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS50aXRsZScpLFxuICAgICAgICBseXJpYzogJycsXG4gICAgICAgIHVzZXJOYW1lOiBjYWNoZS51c2VyTmFtZSxcbiAgICAgICAgc2F2ZU9wdGlvbnM6IHtcbiAgICAgICAgICBjb21iaW5lOiB0cnVlLFxuICAgICAgICAgIGxpbmVGb3JtYXQ6ICdcXHJcXG4nLFxuICAgICAgICAgIHNvcnQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGluZm9GaWVsZHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICd0aScsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25nX3RpdGxlJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdhcicsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5hcnRpc3QnKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2FsJyxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmFsYnVtJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdhdScsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLmZpZWxkcy5zb25ndGV4dF9jcmVhdG9yJyksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgaW5mbzoge30sXG4gICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkKCkge1xuICAgICAgdGhpcy5ydW5uZXIgPSAkQXBwLnJ1bm5lclxuICAgICAgbGV0IHBsYXllciA9ICRBcHAuJHJlZnMucGxheWVyXG4gICAgICBsZXQgaW5mbyA9IHt9XG5cbiAgICAgIHRoaXMuaW5mb0ZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICBpZiAoZmllbGQua2V5IGluIHRoaXMucnVubmVyLmxyYy5pbmZvKSB7XG4gICAgICAgICAgaW5mb1tmaWVsZC5rZXldID0gdGhpcy5ydW5uZXIubHJjLmluZm9bZmllbGQua2V5XVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZm9bZmllbGQua2V5XSA9ICcnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBpZiAocGxheWVyLmR1cmF0aW9uKVxuICAgICAgICBpbmZvLmxlbmd0aCA9IHRpbWVzdGFtcDJ0aW1lc3RyKHBsYXllci5kdXJhdGlvbilcbiAgICAgIGlmICh0aGlzLnVzZXJOYW1lKVxuICAgICAgICBpbmZvLmJ5ID0gdGhpcy51c2VyTmFtZVxuICAgICAgaW5mby5yZSA9IGAke1BLRy5uYW1lfSAoJHtQS0cub25saW5lUGFnZX0pYFxuICAgICAgaW5mby52ZSA9IFBLRy52ZXJzaW9uXG5cbiAgICAgIHRoaXMuaW5mbyA9IGluZm9cblxuICAgICAgdGhpcy5seXJpY1VwZGF0ZSgpXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICBzYXZlKCkge1xuICAgICAgICBzYXZlTHJjKHRoaXMucnVubmVyLmxyYy50b1N0cmluZyh0aGlzLnNhdmVPcHRpb25zKSwgdGhpcy5ydW5uZXIubHJjLmluZm8udGkgfHwgJ2x5cmljJylcbiAgICAgIH0sXG4gICAgICBpbmZvVXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbmZvKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaW5mb1trZXldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXIubHJjLmluZm9ba2V5XSA9IHRoaXMuaW5mb1trZXldXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJ1bm5lci5scmMuaW5mb1trZXldXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubHlyaWNVcGRhdGUoKVxuICAgICAgfSxcbiAgICAgIGx5cmljVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmx5cmljID0gdGhpcy5ydW5uZXIubHJjLnRvU3RyaW5nKHRoaXMuc2F2ZU9wdGlvbnMpXG4gICAgICB9LFxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgIHVzZXJOYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW5mbywgJ2J5JywgbmFtZSlcbiAgICAgICAgY2FjaGUudXNlck5hbWUgPSBuYW1lXG4gICAgICB9LFxuICAgICAgbHlyaWMoKXtcbiAgICAgICAgJEFwcC5scmNGb3JtYXQgPSB0aGlzLmx5cmljXG4gICAgICB9LFxuICAgICAgc2F2ZU9wdGlvbnM6IHtcbiAgICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICB0aGlzLmx5cmljVXBkYXRlKClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbmZvOiB7XG4gICAgICAgIGRlZXA6IHRydWUsXG4gICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2luZm8nKVxuICAgICAgICAgIHRoaXMuaW5mb1VwZGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH1cbjwvc2NyaXB0PlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxyYy1zYXZlLnZ1ZT83OTIxM2ExMCIsIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO1xuICByZXR1cm4gX3ZtLl9oKCdkaXYnLCBbX3ZtLl9oKCdoMycsIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuaW5mb190aXRsZScpKV0pLCBcIiBcIiwgX3ZtLl9sKChfdm0uaW5mb0ZpZWxkcyksIGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIChmaWVsZC5sYWJlbCkgPyBfdm0uX2goJ2RpdicsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tZ3JvdXBcIlxuICAgIH0sIFtfdm0uX2goJ2xhYmVsJywge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJmb3JcIjogJ2luZm8tJyArIGZpZWxkLmtleVxuICAgICAgfSxcbiAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgIFwidGV4dENvbnRlbnRcIjogX3ZtLl9zKGZpZWxkLmxhYmVsKVxuICAgICAgfVxuICAgIH0pLCBcIiBcIiwgX3ZtLl9oKCdpbnB1dCcsIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgIHZhbHVlOiAoX3ZtLmluZm9bZmllbGQua2V5XSksXG4gICAgICAgIGV4cHJlc3Npb246IFwiaW5mb1tmaWVsZC5rZXldXCJcbiAgICAgIH1dLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJpZFwiOiAnaW5mby0nICsgZmllbGQua2V5LFxuICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCJcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczoge1xuICAgICAgICBcInZhbHVlXCI6IF92bS5fcyhfdm0uaW5mb1tmaWVsZC5rZXldKVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybjsgfVxuICAgICAgICAgIHZhciAkJGV4cCA9IF92bS5pbmZvLFxuICAgICAgICAgICAgJCRpZHggPSBmaWVsZC5rZXk7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KCQkZXhwKSkge1xuICAgICAgICAgICAgX3ZtLmluZm9bZmllbGQua2V5XSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCRleHAuc3BsaWNlKCQkaWR4LCAxLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXSkgOiBfdm0uX2UoKVxuICB9KSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tZ3JvdXBcIlxuICB9LCBbX3ZtLl9oKCdsYWJlbCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJmb3JcIjogXCJpbmZvLWJ5XCJcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuZmllbGRzLmxyY19jcmVhdG9yJykpXSksIFwiIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgIHZhbHVlOiAoX3ZtLnVzZXJOYW1lKSxcbiAgICAgIGV4cHJlc3Npb246IFwidXNlck5hbWVcIlxuICAgIH1dLFxuICAgIGF0dHJzOiB7XG4gICAgICBcImlkXCI6IFwiaW5mby1ieVwiLFxuICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiXG4gICAgfSxcbiAgICBkb21Qcm9wczoge1xuICAgICAgXCJ2YWx1ZVwiOiBfdm0uX3MoX3ZtLnVzZXJOYW1lKVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiaW5wdXRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgeyByZXR1cm47IH1cbiAgICAgICAgX3ZtLnVzZXJOYW1lID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfSldKSwgXCIgXCIsIF92bS5faCgnaDMnLCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwubHJjX2Zvcm1hdF9zYXZlLnNhdmVfdGl0bGUnKSldKSwgXCIgXCIsIF92bS5faCgndGV4dGFyZWEnLCBbX3ZtLl9zKF92bS5seXJpYyldKSwgXCIgXCIsIF92bS5faCgnbGFiZWwnLCBbXCJcXG4gICAgXCIgKyBfdm0uX3MoX3ZtLiR0KCdtb2RhbC5scmNfZm9ybWF0X3NhdmUuY29tYmluZScpKSArIFwiXFxuICAgIFwiLCBfdm0uX2goJ2lucHV0Jywge1xuICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgIHZhbHVlOiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUpLFxuICAgICAgZXhwcmVzc2lvbjogXCJzYXZlT3B0aW9ucy5jb21iaW5lXCJcbiAgICB9XSxcbiAgICBhdHRyczoge1xuICAgICAgXCJ0eXBlXCI6IFwiY2hlY2tib3hcIlxuICAgIH0sXG4gICAgZG9tUHJvcHM6IHtcbiAgICAgIFwiY2hlY2tlZFwiOiBBcnJheS5pc0FycmF5KF92bS5zYXZlT3B0aW9ucy5jb21iaW5lKSA/IF92bS5faShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSwgbnVsbCkgPiAtMSA6IF92bS5fcShfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSwgdHJ1ZSlcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNoYW5nZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgdmFyICQkYSA9IF92bS5zYXZlT3B0aW9ucy5jb21iaW5lLFxuICAgICAgICAgICQkZWwgPSAkZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICQkYyA9ICQkZWwuY2hlY2tlZCA/ICh0cnVlKSA6IChmYWxzZSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KCQkYSkpIHtcbiAgICAgICAgICB2YXIgJCR2ID0gbnVsbCxcbiAgICAgICAgICAgICQkaSA9IF92bS5faSgkJGEsICQkdik7XG4gICAgICAgICAgaWYgKCQkYykge1xuICAgICAgICAgICAgJCRpIDwgMCAmJiAoX3ZtLnNhdmVPcHRpb25zLmNvbWJpbmUgPSAkJGEuY29uY2F0KCQkdikpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQkaSA+IC0xICYmIChfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkYS5zbGljZSgwLCAkJGkpLmNvbmNhdCgkJGEuc2xpY2UoJCRpICsgMSkpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdm0uc2F2ZU9wdGlvbnMuY29tYmluZSA9ICQkY1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLnNhdmVcbiAgICB9XG4gIH0sIFtfdm0uX2goJ2knLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiaWNvbi1kb3dubG9hZFwiXG4gIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21vZGFsLmxyY19mb3JtYXRfc2F2ZS5kb3dubG9hZCcpKSArIFwiXFxuICBcIl0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi00MGZlM2MwNCEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9tb2RhbHMvbHJjLXNhdmUudnVlXG4vLyBtb2R1bGUgaWQgPSA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpcztcbiAgcmV0dXJuIF92bS5faCgnZGl2Jywge1xuICAgIGNsYXNzOiB7XG4gICAgICBjb3ZlcjogX3ZtLmNvdmVyU2hvd1xuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLmNhbmNlbFxuICAgIH1cbiAgfSwgW192bS5faCgndHJhbnNpdGlvbicsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJuYW1lXCI6IFwibW9kYWxcIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIFwiYWZ0ZXItbGVhdmVcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS5jb3ZlclNob3cgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSwgWyhfdm0uaXNTaG93KSA/IF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1vZGFsXCIsXG4gICAgY2xhc3M6IFtfdm0uc2l6ZV0sXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJoZWFkZXJcIlxuICB9LCBbXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKF92bS50aXRsZSkgKyBcIlxcbiAgICAgICAgXCIsIF92bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLWNhbmNlbFwiLFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IF92bS5jYW5jZWxcbiAgICB9XG4gIH0pXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJib2R5XCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHJlZjogXCJtb2RhbFdyYXBwZXJcIlxuICB9KV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiZm9vdGVyXCJcbiAgfSwgWyhfdm0uY29uZmlybSkgPyBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG4tZ3JvdXBcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYnRuXCIsXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLm9rXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuYnV0dG9uLm9rJykpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJidG5cIixcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBfdm0uY2FuY2VsXG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnbW9kYWwuYnV0dG9uLmNhbmNlbCcpKV0pXSkgOiBfdm0uX2UoKV0pXSkgOiBfdm0uX2UoKV0pXSlcbn0sc3RhdGljUmVuZGVyRm5zOiBbXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLmpzP2lkPWRhdGEtdi1hMTRjOTZlYSEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2FwcC9tb2RhbHMvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSA5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX192dWVfZXhwb3J0c19fLCBfX3Z1ZV9vcHRpb25zX19cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IHt9XG5cbi8qIHN0eWxlcyAqL1xucmVxdWlyZShcIiEhdnVlLXN0eWxlLWxvYWRlciFjc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSFzYXNzLWxvYWRlciF2dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpXG5yZXF1aXJlKFwiISF2dWUtc3R5bGUtbG9hZGVyIWNzcy1sb2FkZXIhdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXI/aWQ9ZGF0YS12LTUxZWFjMDZiIXNhc3MtbG9hZGVyIXZ1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIilcblxuLyogc2NyaXB0ICovXG5fX3Z1ZV9leHBvcnRzX18gPSByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT1zY3JpcHQmaW5kZXg9MCEuL25hdi1tZW51LnZ1ZVwiKVxuXG4vKiB0ZW1wbGF0ZSAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX18gPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtNTFlYWMwNmIhdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpXG5fX3Z1ZV9vcHRpb25zX18gPSBfX3Z1ZV9leHBvcnRzX18gPSBfX3Z1ZV9leHBvcnRzX18gfHwge31cbmlmIChcbiAgdHlwZW9mIF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0ID09PSBcIm9iamVjdFwiIHx8XG4gIHR5cGVvZiBfX3Z1ZV9leHBvcnRzX18uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4pIHtcbl9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX2V4cG9ydHNfXyA9IF9fdnVlX2V4cG9ydHNfXy5kZWZhdWx0XG59XG5pZiAodHlwZW9mIF9fdnVlX29wdGlvbnNfXyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIF9fdnVlX29wdGlvbnNfXyA9IF9fdnVlX29wdGlvbnNfXy5vcHRpb25zXG59XG5cbl9fdnVlX29wdGlvbnNfXy5yZW5kZXIgPSBfX3Z1ZV90ZW1wbGF0ZV9fLnJlbmRlclxuX192dWVfb3B0aW9uc19fLnN0YXRpY1JlbmRlckZucyA9IF9fdnVlX3RlbXBsYXRlX18uc3RhdGljUmVuZGVyRm5zXG5fX3Z1ZV9vcHRpb25zX18uX3Njb3BlSWQgPSBcImRhdGEtdi01MWVhYzA2YlwiXG5cbm1vZHVsZS5leHBvcnRzID0gX192dWVfZXhwb3J0c19fXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDk1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbmF2LW1lbnUudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiJnNjb3BlZD10cnVlIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9uYXYtbWVudS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmImc2NvcGVkPXRydWUhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi50YXJnZXRbZGF0YS12LTUxZWFjMDZiXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjotOHB4O3BhZGRpbmc6OHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vY3NzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiZzY29wZWQ9dHJ1ZSEuLi9+L3Nhc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT1zdHlsZXMmaW5kZXg9MCEuL2FwcC9uYXYtbWVudS52dWVcbi8vIG1vZHVsZSBpZCA9IDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzP2lkPWRhdGEtdi01MWVhYzA2YiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vbmF2LW1lbnUudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9uYXYtbWVudS52dWVcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLXN0eWxlLWxvYWRlciEuLi9+L2Nzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zdHlsZS1yZXdyaXRlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi4vfi9zYXNzLWxvYWRlciEuLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTEhLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSA5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5uYXYtbWVudSAud3JhcHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjRweCA0cHggM3B4IC0ycHggI2NjY30ubmF2LW1lbnUgLndyYXAgdWx7bGlzdC1zdHlsZS10eXBlOm5vbmU7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6IzBkNDg4NH0ubmF2LW1lbnUgLndyYXAgdWwgbGl7cGFkZGluZzowIDVweDtjdXJzb3I6cG9pbnRlcjtsaW5lLWhlaWdodDozMHB4O2ZvbnQtc2l6ZToxMnB4fS5uYXYtbWVudSAud3JhcCB1bCBsaTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMwODJmNTZ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9jc3MtbG9hZGVyIS4uL34vdnVlLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanM/aWQ9ZGF0YS12LTUxZWFjMDZiIS4uL34vc2Fzcy1sb2FkZXIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0xIS4vYXBwL25hdi1tZW51LnZ1ZVxuLy8gbW9kdWxlIGlkID0gOTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwibmF2LW1lbnVcIiByZWY9XCJtZW51XCI+XG4gICAgPHNwYW4gY2xhc3M9XCJ0YXJnZXRcIj5cbiAgICAgIDxzbG90IG5hbWU9XCJ0YXJnZXRcIj48L3Nsb3Q+XG4gICAgPC9zcGFuPlxuICAgIDxkaXYgY2xhc3M9XCJ3cmFwXCIgOnN0eWxlPVwic3R5bGVcIiB2LXNob3c9XCJzaG93XCI+XG4gICAgICA8c2xvdCBuYW1lPVwibGlzdFwiPjwvc2xvdD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIiBzY29wZWQ+XG4udGFyZ2V0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAtOHB4O1xuICBwYWRkaW5nOiA4cHg7XG59XG48L3N0eWxlPlxuXG48c3R5bGUgbGFuZz1cInNhc3NcIj5cbkBpbXBvcnQgJ3Nhc3MvYmFzZSc7XG5cbi5uYXYtbWVudSB7XG4gIC53cmFwIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogMTAwO1xuICAgIGJveC1zaGFkb3c6IDRweCA0cHggM3B4IC0ycHggI2NjYztcbiAgICB1bCB7XG4gICAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKCRibHVlLWNvbG9yLCAxMCUpO1xuICAgICAgbGkge1xuICAgICAgICBwYWRkaW5nOiAwIDVweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oJGJsdWUtY29sb3IsIDIwJSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQge0RlbGF5SG92ZXJ9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlyOiBmYWxzZSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICB9XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgZW50ZXJEZWxheToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMC4xLFxuICAgIH0sXG4gICAgbGVhdmVEZWxheToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMC41LFxuICAgIH0sXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLm1lbnVcbiAgICB2YXIgZGhvdmVyID0gbmV3IERlbGF5SG92ZXIobWVudSwge1xuICAgICAgZW50ZXJEZWxheTogdGhpcy5lbnRlckRlbGF5LFxuICAgICAgbGVhdmVEZWxheTogdGhpcy5sZWF2ZURlbGF5LFxuICAgIH0pXG4gICAgZGhvdmVyLmhvdmVyKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3cgPSB0cnVlXG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3cgPSBmYWxzZVxuICAgICAgfVxuICAgIClcblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLiRlbFxuICAgIHRoaXMuc3R5bGUudG9wID0gcGFyZW50LnN0eWxlLmNsaWVudEhlaWdodFxuICB9LFxufVxuPC9zY3JpcHQ+XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbmF2LW1lbnUudnVlP2NkODg4NzgwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICByZWY6IFwibWVudVwiLFxuICAgIHN0YXRpY0NsYXNzOiBcIm5hdi1tZW51XCJcbiAgfSwgW192bS5faCgnc3BhbicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJ0YXJnZXRcIlxuICB9LCBbX3ZtLl90KFwidGFyZ2V0XCIpXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBkaXJlY3RpdmVzOiBbe1xuICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgdmFsdWU6IChfdm0uc2hvdyksXG4gICAgICBleHByZXNzaW9uOiBcInNob3dcIlxuICAgIH1dLFxuICAgIHN0YXRpY0NsYXNzOiBcIndyYXBcIixcbiAgICBzdHlsZTogKF92bS5zdHlsZSlcbiAgfSwgW192bS5fdChcImxpc3RcIildKV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtNTFlYWMwNmIhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvbmF2LW1lbnUudnVlXG4vLyBtb2R1bGUgaWQgPSAxMDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7XG4gIHJldHVybiBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJhcHBcIlxuICB9LCBbX3ZtLl9oKCdoZWFkZXInLCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibGVmdFwiXG4gIH0sIFtfdm0uX2goJ25hdi1tZW51Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IF92bS4kdCgnYnV0dG9uLnVwbG9hZCcpXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc2xvdDogXCJ0YXJnZXRcIlxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcbiAgfSldKSwgXCIgXCIsIF92bS5faCgndWwnLCB7XG4gICAgc2xvdDogXCJsaXN0XCJcbiAgfSwgW192bS5faCgnbGknLCB7XG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIF92bS4kcmVmcy5tb2RhbHMuc2hvdygnbHJjLWZvcm1hdC11cGxvYWQnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLXVwbG9hZFwiXG4gIH0pLCBcIiBcIiArIF92bS5fcyhfdm0uJHQoJ21lbnUudXBsb2FkLmxyYycpKSArIFwiXFxuICAgICAgICAgIFwiXSksIFwiIFwiLCBfdm0uX2goJ2xpJywge1xuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2x5cmljLXVwbG9hZCcpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdXBsb2FkXCJcbiAgfSksIFwiIFwiICsgX3ZtLl9zKF92bS4kdCgnbWVudS51cGxvYWQubHlyaWMnKSkgKyBcIlxcbiAgICAgICAgICBcIl0pLCBcIiBcIiwgX3ZtLl9oKCdsaScsIFtfdm0uX2goJ3VwbG9hZCcsIHtcbiAgICBhdHRyczoge1xuICAgICAgXCJhY2NlcHRcIjogXCJhdWRpby8qXCIsXG4gICAgICBcInJlYWQtZm9ybWF0XCI6IFwiRGF0YVVSTFwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJ1cGxvYWRlZFwiOiBfdm0udXBsb2FkTXVzaWNcbiAgICB9XG4gIH0sIFtfdm0uX3MoX3ZtLiR0KCdtZW51LnVwbG9hZC5tdXNpYycpKV0pXSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogX3ZtLiR0KCdidXR0b24uc2F2ZScpXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRyZWZzLm1vZGFscy5zaG93KCdscmMtc2F2ZScpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tc2F2ZVwiXG4gIH0pXSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcInJpZ2h0XCJcbiAgfSwgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IF92bS5lZGl0aW5nID8gX3ZtLiR0KCdidXR0b24uY2xvc2VfZWRpdCcpIDogX3ZtLiR0KCdidXR0b24ub3Blbl9lZGl0JylcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uZWRpdGluZyA9ICFfdm0uZWRpdGluZ1xuICAgICAgfVxuICAgIH1cbiAgfSwgWyhfdm0uZWRpdGluZykgPyBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tY2FuY2VsXCJcbiAgfSldIDogW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLWVkaXRcIlxuICB9KV0sIFwiIFwiXSksIFwiIFwiLCBfdm0uX2goJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJtZW51LWl0ZW1cIixcbiAgICBhdHRyczoge1xuICAgICAgXCJ0aXRsZVwiOiBfdm0uJHQoJ2J1dHRvbi5oZWxwJylcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubW9kYWxzLnNob3coJ2hlbHAnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW192bS5faCgnaScsIHtcbiAgICBzdGF0aWNDbGFzczogXCJpY29uLWhlbHAtY2lyY2xlZFwiXG4gIH0pXSldKV0pLCBcIiBcIiwgX3ZtLl9oKCdwbGF5ZXInLCB7XG4gICAgcmVmOiBcInBsYXllclwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInNyY1wiOiBfdm0ubXVzaWNVcmxcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcInRpbWV1cGRhdGVcIjogX3ZtLnRpbWV1cGRhdGVcbiAgICB9XG4gIH0pLCBcIiBcIiwgX3ZtLl9oKCdseXJpYy1lZGl0b3InLCB7XG4gICAgcmVmOiBcImx5cmljXCIsXG4gICAgc3RhdGljQ2xhc3M6IFwibHlyaWMtZWRpdG9yXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwiZWRpdGluZ1wiOiBfdm0uZWRpdGluZyxcbiAgICAgIFwicnVubmVyXCI6IF92bS5ydW5uZXIsXG4gICAgICBcImx5cmljLWFycmF5XCI6IF92bS5seXJpY0FycmF5LFxuICAgICAgXCJwbGF5dG9cIjogX3ZtLnBsYXl0b1xuICAgIH1cbiAgfSwgW1wiXFxuICAgIGx5cmljIGVkaXRvclxcbiAgXCJdKSwgXCIgXCIsIF92bS5faCgnZm9vdGVyJywgW192bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImxlZnRcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgb246IHtcbiAgICAgIFwiY2xpY2tcIjogX3ZtLnJlbW92ZUx5cmljXG4gICAgfVxuICB9LCBbX3ZtLl9oKCdpJywge1xuICAgIHN0YXRpY0NsYXNzOiBcImljb24tdHJhc2hcIlxuICB9KSwgXCIgXCIgKyBfdm0uX3MoX3ZtLiR0KCdidXR0b24ucmVtb3ZlX2x5cmljJykpICsgXCJcXG4gICAgICBcIl0pXSksIFwiIFwiLCAoX3ZtLmVkaXRpbmcpID8gX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwicmlnaHRcIlxuICB9LCBbX3ZtLl9oKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwibWVudS1pdGVtXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIFwidGl0bGVcIjogXCJbVVBdXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubHlyaWMuJGVtaXQoJ3ByZXZseXJpYycpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnYnV0dG9uLnByZXZfbHlyaWMnKSldKSwgXCIgXCIsIF92bS5faCgnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcIm1lbnUtaXRlbVwiLFxuICAgIGF0dHJzOiB7XG4gICAgICBcInRpdGxlXCI6IFwiW0RPV05dXCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJHJlZnMubHlyaWMuJGVtaXQoJ25leHRseXJpYycpXG4gICAgICB9XG4gICAgfVxuICB9LCBbX3ZtLl9zKF92bS4kdCgnYnV0dG9uLm5leHRfbHlyaWMnKSldKV0pIDogX3ZtLl9lKCldKSwgXCIgXCIsIF92bS5faCgnbW9kYWxzJywge1xuICAgIHJlZjogXCJtb2RhbHNcIlxuICB9KV0pXG59LHN0YXRpY1JlbmRlckZuczogW119XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtNGQ2NjcwMjAhLi4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9hcHAvaW5kZXgudnVlXG4vLyBtb2R1bGUgaWQgPSAxMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgaTE4biBmcm9tICd2dWUtaTE4bidcbmltcG9ydCBsb2NhbGVzIGZyb20gJy4vbG9jYWxlcydcblxudmFyIGxhbmcgPSAobmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHwgJ2VuJykudG9Mb2NhbGVMb3dlckNhc2UoKVxuXG5pZiAoISAobGFuZyBpbiBsb2NhbGVzKSkge1xuICBpZiAobGFuZy5pbmRleE9mKCctJykgPj0gMCkge1xuICAgIGxhbmcgPSBsYW5nLnNwbGl0KCctJylbMF1cbiAgfVxufVxuXG5WdWUudXNlKGkxOG4pXG5cblZ1ZS5jb25maWcubGFuZyA9IGxhbmdcblZ1ZS5sb2NhbGUobGFuZywgbG9jYWxlc1tsYW5nXSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2kxOG4uanMiLCIvKiFcbiAqIHZ1ZS1pMThuIHY0LjcuM1xuICogKGMpIDIwMTYga2F6dXlhIGthd2FndWNoaVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBiYWJlbEhlbHBlcnMgPSB7fTtcbmJhYmVsSGVscGVycy50eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcbmJhYmVsSGVscGVycztcblxuLyoqXG4gKiB3YXJuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1zZ1xuICogQHBhcmFtIHtFcnJvcn0gW2Vycl1cbiAqXG4gKi9cblxuZnVuY3Rpb24gd2Fybihtc2csIGVycikge1xuICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1t2dWUtaTE4bl0gJyArIG1zZyk7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS53YXJuKGVyci5zdGFjayk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIEFzc2V0IChWdWUsIGxhbmdWTSkge1xuICAvKipcbiAgICogUmVnaXN0ZXIgb3IgcmV0cmlldmUgYSBnbG9iYWwgbG9jYWxlIGRlZmluaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgUHJvbWlzZX0gZGVmaW5pdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuICAgKi9cblxuICBWdWUubG9jYWxlID0gZnVuY3Rpb24gKGlkLCBkZWZpbml0aW9uLCBjYikge1xuICAgIGlmIChkZWZpbml0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGdldHR0ZXJcbiAgICAgIHJldHVybiBsYW5nVk0ubG9jYWxlc1tpZF07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlclxuICAgICAgaWYgKGRlZmluaXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgbGFuZ1ZNLmxvY2FsZXNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgICBkZWxldGUgbGFuZ1ZNLmxvY2FsZXNbaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0TG9jYWxlKGlkLCBkZWZpbml0aW9uLCBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgbGFuZ1ZNLmxvY2FsZXNbaWRdID0gbG9jYWxlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuKCdmYWlsZWQgc2V0IGAnICsgaWQgKyAnYCBsb2NhbGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2IgJiYgY2IoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBzZXRMb2NhbGUoaWQsIGRlZmluaXRpb24sIGNiKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKCh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IGJhYmVsSGVscGVycy50eXBlb2YoZGVmaW5pdGlvbikpID09PSAnb2JqZWN0Jykge1xuICAgIC8vIHN5bmNcbiAgICBjYihkZWZpbml0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZ1dHVyZSA9IGRlZmluaXRpb24uY2FsbChfdGhpcyk7XG4gICAgICBpZiAodHlwZW9mIGZ1dHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoZnV0dXJlLnJlc29sdmVkKSB7XG4gICAgICAgICAgLy8gY2FjaGVkXG4gICAgICAgICAgY2IoZnV0dXJlLnJlc29sdmVkKTtcbiAgICAgICAgfSBlbHNlIGlmIChmdXR1cmUucmVxdWVzdGVkKSB7XG4gICAgICAgICAgLy8gcG9vbCBjYWxsYmFja3NcbiAgICAgICAgICBmdXR1cmUucGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnV0dXJlLnJlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgY2JzID0gZnV0dXJlLnBlbmRpbmdDYWxsYmFja3MgPSBbY2JdO1xuICAgICAgICAgICAgZnV0dXJlKGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgLy8gcmVzb2x2ZVxuICAgICAgICAgICAgICBmdXR1cmUucmVzb2x2ZWQgPSBsb2NhbGU7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGNic1tpXShsb2NhbGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIHJlamVjdFxuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UoZnV0dXJlKSkge1xuICAgICAgICAvLyBwcm9taXNlXG4gICAgICAgIGZ1dHVyZS50aGVuKGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgICAvLyByZXNvbHZlXG4gICAgICAgICAgY2IobG9jYWxlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIHJlamVjdFxuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcmdpdmluZyBjaGVjayBmb3IgYSBwcm9taXNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNQcm9taXNlKHApIHtcbiAgcmV0dXJuIHAgJiYgdHlwZW9mIHAudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gT3ZlcnJpZGUgKFZ1ZSwgbGFuZ1ZNLCB2ZXJzaW9uKSB7XG4gIGZ1bmN0aW9uIHVwZGF0ZSh2bSkge1xuICAgIGlmICh2ZXJzaW9uID4gMSkge1xuICAgICAgdm0uJGZvcmNlVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdm0uX3dhdGNoZXJzW2ldLnVwZGF0ZSh0cnVlKTsgLy8gc2hhbGxvdyB1cGRhdGVzXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gb3ZlcnJpZGUgX2luaXRcbiAgdmFyIGluaXQgPSBWdWUucHJvdG90eXBlLl9pbml0O1xuICBWdWUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaW5pdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKCF0aGlzLiRwYXJlbnQpIHtcbiAgICAgIC8vIHJvb3RcbiAgICAgIHRoaXMuJGxhbmcgPSBsYW5nVk07XG4gICAgICB0aGlzLl9sYW5nVW53YXRjaCA9IHRoaXMuJGxhbmcuJHdhdGNoKCckZGF0YScsIGZ1bmN0aW9uICh2YWwsIG9sZCkge1xuICAgICAgICB1cGRhdGUoX3RoaXMpO1xuICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBvdmVycmlkZSBfZGVzdHJveVxuICB2YXIgZGVzdHJveSA9IFZ1ZS5wcm90b3R5cGUuX2Rlc3Ryb3k7XG4gIFZ1ZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRwYXJlbnQgJiYgdGhpcy5fbGFuZ1Vud2F0Y2gpIHtcbiAgICAgIHRoaXMuX2xhbmdVbndhdGNoKCk7XG4gICAgICB0aGlzLl9sYW5nVW53YXRjaCA9IG51bGw7XG4gICAgICB0aGlzLiRsYW5nID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogT2JzZXJ2ZXJcbiAqL1xuXG52YXIgV2F0Y2hlciA9IHZvaWQgMDtcbi8qKlxuICogZ2V0V2F0Y2hlclxuICpcbiAqIEBwYXJhbSB7VnVlfSB2bVxuICogQHJldHVybiB7V2F0Y2hlcn1cbiAqL1xuXG5mdW5jdGlvbiBnZXRXYXRjaGVyKHZtKSB7XG4gIGlmICghV2F0Y2hlcikge1xuICAgIHZhciB1bndhdGNoID0gdm0uJHdhdGNoKCdfX3dhdGNoZXJfXycsIGZ1bmN0aW9uIChhKSB7fSk7XG4gICAgV2F0Y2hlciA9IHZtLl93YXRjaGVyc1swXS5jb25zdHJ1Y3RvcjtcbiAgICB1bndhdGNoKCk7XG4gIH1cbiAgcmV0dXJuIFdhdGNoZXI7XG59XG5cbnZhciBEZXAgPSB2b2lkIDA7XG4vKipcbiAqIGdldERlcFxuICpcbiAqIEBwYXJhbSB7VnVlfSB2bVxuICogQHJldHVybiB7RGVwfVxuICovXG5cbmZ1bmN0aW9uIGdldERlcCh2bSkge1xuICBpZiAoIURlcCAmJiB2bSAmJiB2bS5fZGF0YSAmJiB2bS5fZGF0YS5fX29iX18gJiYgdm0uX2RhdGEuX19vYl9fLmRlcCkge1xuICAgIERlcCA9IHZtLl9kYXRhLl9fb2JfXy5kZXAuY29uc3RydWN0b3I7XG4gIH1cbiAgcmV0dXJuIERlcDtcbn1cblxudmFyIGZhbGxiYWNrID0gdm9pZCAwOyAvLyBmYWxsYmFjayBsYW5nXG52YXIgbWlzc2luZ0hhbmRsZXIgPSBudWxsOyAvLyBtaXNzaW5nIGhhbmRsZXJcbnZhciBpMThuRm9ybWF0dGVyID0gbnVsbDsgLy8gY3VzdG9tIGZvcm1hdHRlclxuXG5mdW5jdGlvbiBDb25maWcgKFZ1ZSwgbGFuZ1ZNLCBsYW5nKSB7XG4gIHZhciBiaW5kID0gVnVlLnV0aWwuYmluZDtcblxuICB2YXIgV2F0Y2hlciA9IGdldFdhdGNoZXIobGFuZ1ZNKTtcbiAgdmFyIERlcCA9IGdldERlcChsYW5nVk0pO1xuXG4gIGZ1bmN0aW9uIG1ha2VDb21wdXRlZEdldHRlcihnZXR0ZXIsIG93bmVyKSB7XG4gICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcihvd25lciwgZ2V0dGVyLCBudWxsLCB7XG4gICAgICBsYXp5OiB0cnVlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIoKSB7XG4gICAgICB3YXRjaGVyLmRpcnR5ICYmIHdhdGNoZXIuZXZhbHVhdGUoKTtcbiAgICAgIERlcCAmJiBEZXAudGFyZ2V0ICYmIHdhdGNoZXIuZGVwZW5kKCk7XG4gICAgICByZXR1cm4gd2F0Y2hlci52YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gZGVmaW5lIFZ1ZS5jb25maWcubGFuZyBjb25maWdyYXRpb25cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdsYW5nJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogbWFrZUNvbXB1dGVkR2V0dGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsYW5nVk0ubGFuZztcbiAgICB9LCBsYW5nVk0pLFxuICAgIHNldDogYmluZChmdW5jdGlvbiAodmFsKSB7XG4gICAgICBsYW5nVk0ubGFuZyA9IHZhbDtcbiAgICB9LCBsYW5nVk0pXG4gIH0pO1xuXG4gIC8vIGRlZmluZSBWdWUuY29uZmlnLmZhbGxiYWNrTGFuZyBjb25maWdyYXRpb25cbiAgZmFsbGJhY2sgPSBsYW5nO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLmNvbmZpZywgJ2ZhbGxiYWNrTGFuZycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgZmFsbGJhY2sgPSB2YWw7XG4gICAgfVxuICB9KTtcblxuICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5taXNzaW5nSGFuZGxlciBjb25maWdyYXRpb25cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5jb25maWcsICdtaXNzaW5nSGFuZGxlcicsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBtaXNzaW5nSGFuZGxlcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgbWlzc2luZ0hhbmRsZXIgPSB2YWw7XG4gICAgfVxuICB9KTtcblxuICAvLyBkZWZpbmUgVnVlLmNvbmZpZy5pMThGb3JtYXR0ZXIgY29uZmlncmF0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUuY29uZmlnLCAnaTE4bkZvcm1hdHRlcicsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpMThuRm9ybWF0dGVyO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICBpMThuRm9ybWF0dGVyID0gdmFsO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogdXRpbGl0ZXNcbiAqL1xuXG4vKipcbiAqIGlzTmlsXG4gKlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4gQm9vbGVhblxuICovXG5mdW5jdGlvbiBpc05pbCh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiAgU3RyaW5nIGZvcm1hdCB0ZW1wbGF0ZVxuICogIC0gSW5zcGlyZWQ6XG4gKiAgICBodHRwczovL2dpdGh1Yi5jb20vTWF0dC1Fc2NoL3N0cmluZy10ZW1wbGF0ZS9pbmRleC5qc1xuICovXG5cbnZhciBSRV9OQVJHUyA9IC8oJXwpXFx7KFswLTlhLXpBLVpfXSspXFx9L2c7XG5cbmZ1bmN0aW9uIEZvcm1hdCAoVnVlKSB7XG4gIHZhciBoYXNPd24gPSBWdWUudXRpbC5oYXNPd247XG5cbiAgLyoqXG4gICAqIHRlbXBsYXRlXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGJhYmVsSGVscGVycy50eXBlb2YoYXJnc1swXSkgPT09ICdvYmplY3QnKSB7XG4gICAgICBhcmdzID0gYXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJncyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xuICAgICAgYXJncyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShSRV9OQVJHUywgZnVuY3Rpb24gKG1hdGNoLCBwcmVmaXgsIGksIGluZGV4KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoc3RyaW5nW2luZGV4IC0gMV0gPT09ICd7JyAmJiBzdHJpbmdbaW5kZXggKyBtYXRjaC5sZW5ndGhdID09PSAnfScpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBoYXNPd24oYXJncywgaSkgPyBhcmdzW2ldIDogbWF0Y2g7XG4gICAgICAgIGlmIChpc05pbChyZXN1bHQpKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuLyoqXG4gKiAgUGF0aCBwYWVyc2VyXG4gKiAgLSBJbnNwaXJlZDogIFxuICogICAgVnVlLmpzIFBhdGggcGFyc2VyXG4gKi9cblxuLy8gY2FjaGVcbnZhciBwYXRoQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vLyBhY3Rpb25zXG52YXIgQVBQRU5EID0gMDtcbnZhciBQVVNIID0gMTtcbnZhciBJTkNfU1VCX1BBVEhfREVQVEggPSAyO1xudmFyIFBVU0hfU1VCX1BBVEggPSAzO1xuXG4vLyBzdGF0ZXNcbnZhciBCRUZPUkVfUEFUSCA9IDA7XG52YXIgSU5fUEFUSCA9IDE7XG52YXIgQkVGT1JFX0lERU5UID0gMjtcbnZhciBJTl9JREVOVCA9IDM7XG52YXIgSU5fU1VCX1BBVEggPSA0O1xudmFyIElOX1NJTkdMRV9RVU9URSA9IDU7XG52YXIgSU5fRE9VQkxFX1FVT1RFID0gNjtcbnZhciBBRlRFUl9QQVRIID0gNztcbnZhciBFUlJPUiA9IDg7XG5cbnZhciBwYXRoU3RhdGVNYWNoaW5lID0gW107XG5cbnBhdGhTdGF0ZU1hY2hpbmVbQkVGT1JFX1BBVEhdID0ge1xuICAnd3MnOiBbQkVGT1JFX1BBVEhdLFxuICAnaWRlbnQnOiBbSU5fSURFTlQsIEFQUEVORF0sXG4gICdbJzogW0lOX1NVQl9QQVRIXSxcbiAgJ2VvZic6IFtBRlRFUl9QQVRIXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9QQVRIXSA9IHtcbiAgJ3dzJzogW0lOX1BBVEhdLFxuICAnLic6IFtCRUZPUkVfSURFTlRdLFxuICAnWyc6IFtJTl9TVUJfUEFUSF0sXG4gICdlb2YnOiBbQUZURVJfUEFUSF1cbn07XG5cbnBhdGhTdGF0ZU1hY2hpbmVbQkVGT1JFX0lERU5UXSA9IHtcbiAgJ3dzJzogW0JFRk9SRV9JREVOVF0sXG4gICdpZGVudCc6IFtJTl9JREVOVCwgQVBQRU5EXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9JREVOVF0gPSB7XG4gICdpZGVudCc6IFtJTl9JREVOVCwgQVBQRU5EXSxcbiAgJzAnOiBbSU5fSURFTlQsIEFQUEVORF0sXG4gICdudW1iZXInOiBbSU5fSURFTlQsIEFQUEVORF0sXG4gICd3cyc6IFtJTl9QQVRILCBQVVNIXSxcbiAgJy4nOiBbQkVGT1JFX0lERU5ULCBQVVNIXSxcbiAgJ1snOiBbSU5fU1VCX1BBVEgsIFBVU0hdLFxuICAnZW9mJzogW0FGVEVSX1BBVEgsIFBVU0hdXG59O1xuXG5wYXRoU3RhdGVNYWNoaW5lW0lOX1NVQl9QQVRIXSA9IHtcbiAgXCInXCI6IFtJTl9TSU5HTEVfUVVPVEUsIEFQUEVORF0sXG4gICdcIic6IFtJTl9ET1VCTEVfUVVPVEUsIEFQUEVORF0sXG4gICdbJzogW0lOX1NVQl9QQVRILCBJTkNfU1VCX1BBVEhfREVQVEhdLFxuICAnXSc6IFtJTl9QQVRILCBQVVNIX1NVQl9QQVRIXSxcbiAgJ2VvZic6IEVSUk9SLFxuICAnZWxzZSc6IFtJTl9TVUJfUEFUSCwgQVBQRU5EXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9TSU5HTEVfUVVPVEVdID0ge1xuICBcIidcIjogW0lOX1NVQl9QQVRILCBBUFBFTkRdLFxuICAnZW9mJzogRVJST1IsXG4gICdlbHNlJzogW0lOX1NJTkdMRV9RVU9URSwgQVBQRU5EXVxufTtcblxucGF0aFN0YXRlTWFjaGluZVtJTl9ET1VCTEVfUVVPVEVdID0ge1xuICAnXCInOiBbSU5fU1VCX1BBVEgsIEFQUEVORF0sXG4gICdlb2YnOiBFUlJPUixcbiAgJ2Vsc2UnOiBbSU5fRE9VQkxFX1FVT1RFLCBBUFBFTkRdXG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFuIGV4cHJlc3Npb24gaXMgYSBsaXRlcmFsIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBleHBcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxudmFyIGxpdGVyYWxWYWx1ZVJFID0gL15cXHM/KHRydWV8ZmFsc2V8LT9bXFxkLl0rfCdbXiddKid8XCJbXlwiXSpcIilcXHM/JC87XG5mdW5jdGlvbiBpc0xpdGVyYWwoZXhwKSB7XG4gIHJldHVybiBsaXRlcmFsVmFsdWVSRS50ZXN0KGV4cCk7XG59XG5cbi8qKlxuICogU3RyaXAgcXVvdGVzIGZyb20gYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmcgfCBmYWxzZX1cbiAqL1xuXG5mdW5jdGlvbiBzdHJpcFF1b3RlcyhzdHIpIHtcbiAgdmFyIGEgPSBzdHIuY2hhckNvZGVBdCgwKTtcbiAgdmFyIGIgPSBzdHIuY2hhckNvZGVBdChzdHIubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBhID09PSBiICYmIChhID09PSAweDIyIHx8IGEgPT09IDB4MjcpID8gc3RyLnNsaWNlKDEsIC0xKSA6IHN0cjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIHR5cGUgb2YgYSBjaGFyYWN0ZXIgaW4gYSBrZXlwYXRoLlxuICpcbiAqIEBwYXJhbSB7Q2hhcn0gY2hcbiAqIEByZXR1cm4ge1N0cmluZ30gdHlwZVxuICovXG5cbmZ1bmN0aW9uIGdldFBhdGhDaGFyVHlwZShjaCkge1xuICBpZiAoY2ggPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAnZW9mJztcbiAgfVxuXG4gIHZhciBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblxuICBzd2l0Y2ggKGNvZGUpIHtcbiAgICBjYXNlIDB4NUI6IC8vIFtcbiAgICBjYXNlIDB4NUQ6IC8vIF1cbiAgICBjYXNlIDB4MkU6IC8vIC5cbiAgICBjYXNlIDB4MjI6IC8vIFwiXG4gICAgY2FzZSAweDI3OiAvLyAnXG4gICAgY2FzZSAweDMwOlxuICAgICAgLy8gMFxuICAgICAgcmV0dXJuIGNoO1xuXG4gICAgY2FzZSAweDVGOiAvLyBfXG4gICAgY2FzZSAweDI0OiAvLyAkXG4gICAgY2FzZSAweDJEOlxuICAgICAgLy8gLVxuICAgICAgcmV0dXJuICdpZGVudCc7XG5cbiAgICBjYXNlIDB4MjA6IC8vIFNwYWNlXG4gICAgY2FzZSAweDA5OiAvLyBUYWJcbiAgICBjYXNlIDB4MEE6IC8vIE5ld2xpbmVcbiAgICBjYXNlIDB4MEQ6IC8vIFJldHVyblxuICAgIGNhc2UgMHhBMDogLy8gTm8tYnJlYWsgc3BhY2VcbiAgICBjYXNlIDB4RkVGRjogLy8gQnl0ZSBPcmRlciBNYXJrXG4gICAgY2FzZSAweDIwMjg6IC8vIExpbmUgU2VwYXJhdG9yXG4gICAgY2FzZSAweDIwMjk6XG4gICAgICAvLyBQYXJhZ3JhcGggU2VwYXJhdG9yXG4gICAgICByZXR1cm4gJ3dzJztcbiAgfVxuXG4gIC8vIGEteiwgQS1aXG4gIGlmIChjb2RlID49IDB4NjEgJiYgY29kZSA8PSAweDdBIHx8IGNvZGUgPj0gMHg0MSAmJiBjb2RlIDw9IDB4NUEpIHtcbiAgICByZXR1cm4gJ2lkZW50JztcbiAgfVxuXG4gIC8vIDEtOVxuICBpZiAoY29kZSA+PSAweDMxICYmIGNvZGUgPD0gMHgzOSkge1xuICAgIHJldHVybiAnbnVtYmVyJztcbiAgfVxuXG4gIHJldHVybiAnZWxzZSc7XG59XG5cbi8qKlxuICogRm9ybWF0IGEgc3ViUGF0aCwgcmV0dXJuIGl0cyBwbGFpbiBmb3JtIGlmIGl0IGlzXG4gKiBhIGxpdGVyYWwgc3RyaW5nIG9yIG51bWJlci4gT3RoZXJ3aXNlIHByZXBlbmQgdGhlXG4gKiBkeW5hbWljIGluZGljYXRvciAoKikuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRTdWJQYXRoKHBhdGgpIHtcbiAgdmFyIHRyaW1tZWQgPSBwYXRoLnRyaW0oKTtcbiAgLy8gaW52YWxpZCBsZWFkaW5nIDBcbiAgaWYgKHBhdGguY2hhckF0KDApID09PSAnMCcgJiYgaXNOYU4ocGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNMaXRlcmFsKHRyaW1tZWQpID8gc3RyaXBRdW90ZXModHJpbW1lZCkgOiAnKicgKyB0cmltbWVkO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgc3RyaW5nIHBhdGggaW50byBhbiBhcnJheSBvZiBzZWdtZW50c1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtBcnJheXx1bmRlZmluZWR9XG4gKi9cblxuZnVuY3Rpb24gcGFyc2UocGF0aCkge1xuICB2YXIga2V5cyA9IFtdO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdmFyIG1vZGUgPSBCRUZPUkVfUEFUSDtcbiAgdmFyIHN1YlBhdGhEZXB0aCA9IDA7XG4gIHZhciBjID0gdm9pZCAwLFxuICAgICAgbmV3Q2hhciA9IHZvaWQgMCxcbiAgICAgIGtleSA9IHZvaWQgMCxcbiAgICAgIHR5cGUgPSB2b2lkIDAsXG4gICAgICB0cmFuc2l0aW9uID0gdm9pZCAwLFxuICAgICAgYWN0aW9uID0gdm9pZCAwLFxuICAgICAgdHlwZU1hcCA9IHZvaWQgMDtcblxuICB2YXIgYWN0aW9ucyA9IFtdO1xuXG4gIGFjdGlvbnNbUFVTSF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIGtleSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgYWN0aW9uc1tBUFBFTkRdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAga2V5ID0gbmV3Q2hhcjtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ICs9IG5ld0NoYXI7XG4gICAgfVxuICB9O1xuXG4gIGFjdGlvbnNbSU5DX1NVQl9QQVRIX0RFUFRIXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBhY3Rpb25zW0FQUEVORF0oKTtcbiAgICBzdWJQYXRoRGVwdGgrKztcbiAgfTtcblxuICBhY3Rpb25zW1BVU0hfU1VCX1BBVEhdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdWJQYXRoRGVwdGggPiAwKSB7XG4gICAgICBzdWJQYXRoRGVwdGgtLTtcbiAgICAgIG1vZGUgPSBJTl9TVUJfUEFUSDtcbiAgICAgIGFjdGlvbnNbQVBQRU5EXSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJQYXRoRGVwdGggPSAwO1xuICAgICAga2V5ID0gZm9ybWF0U3ViUGF0aChrZXkpO1xuICAgICAgaWYgKGtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uc1tQVVNIXSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZVVuZXNjYXBlUXVvdGUoKSB7XG4gICAgdmFyIG5leHRDaGFyID0gcGF0aFtpbmRleCArIDFdO1xuICAgIGlmIChtb2RlID09PSBJTl9TSU5HTEVfUVVPVEUgJiYgbmV4dENoYXIgPT09IFwiJ1wiIHx8IG1vZGUgPT09IElOX0RPVUJMRV9RVU9URSAmJiBuZXh0Q2hhciA9PT0gJ1wiJykge1xuICAgICAgaW5kZXgrKztcbiAgICAgIG5ld0NoYXIgPSAnXFxcXCcgKyBuZXh0Q2hhcjtcbiAgICAgIGFjdGlvbnNbQVBQRU5EXSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKG1vZGUgIT0gbnVsbCkge1xuICAgIGluZGV4Kys7XG4gICAgYyA9IHBhdGhbaW5kZXhdO1xuXG4gICAgaWYgKGMgPT09ICdcXFxcJyAmJiBtYXliZVVuZXNjYXBlUXVvdGUoKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdHlwZSA9IGdldFBhdGhDaGFyVHlwZShjKTtcbiAgICB0eXBlTWFwID0gcGF0aFN0YXRlTWFjaGluZVttb2RlXTtcbiAgICB0cmFuc2l0aW9uID0gdHlwZU1hcFt0eXBlXSB8fCB0eXBlTWFwWydlbHNlJ10gfHwgRVJST1I7XG5cbiAgICBpZiAodHJhbnNpdGlvbiA9PT0gRVJST1IpIHtcbiAgICAgIHJldHVybjsgLy8gcGFyc2UgZXJyb3JcbiAgICB9XG5cbiAgICBtb2RlID0gdHJhbnNpdGlvblswXTtcbiAgICBhY3Rpb24gPSBhY3Rpb25zW3RyYW5zaXRpb25bMV1dO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIG5ld0NoYXIgPSB0cmFuc2l0aW9uWzJdO1xuICAgICAgbmV3Q2hhciA9IG5ld0NoYXIgPT09IHVuZGVmaW5lZCA/IGMgOiBuZXdDaGFyO1xuICAgICAgaWYgKGFjdGlvbigpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vZGUgPT09IEFGVEVSX1BBVEgpIHtcbiAgICAgIGtleXMucmF3ID0gcGF0aDtcbiAgICAgIHJldHVybiBrZXlzO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEV4dGVybmFsIHBhcnNlIHRoYXQgY2hlY2sgZm9yIGEgY2FjaGUgaGl0IGZpcnN0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEByZXR1cm4ge0FycmF5fHVuZGVmaW5lZH1cbiAqL1xuXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgaGl0ID0gcGF0aENhY2hlW3BhdGhdO1xuICBpZiAoIWhpdCkge1xuICAgIGhpdCA9IHBhcnNlKHBhdGgpO1xuICAgIGlmIChoaXQpIHtcbiAgICAgIHBhdGhDYWNoZVtwYXRoXSA9IGhpdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhpdDtcbn1cblxuZnVuY3Rpb24gUGF0aCAoVnVlKSB7XG4gIHZhciBfVnVlJHV0aWwgPSBWdWUudXRpbDtcbiAgdmFyIGlzT2JqZWN0ID0gX1Z1ZSR1dGlsLmlzT2JqZWN0O1xuICB2YXIgaXNQbGFpbk9iamVjdCA9IF9WdWUkdXRpbC5pc1BsYWluT2JqZWN0O1xuICB2YXIgaGFzT3duID0gX1Z1ZSR1dGlsLmhhc093bjtcblxuXG4gIGZ1bmN0aW9uIGVtcHR5KHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgIGlmICh0YXJnZXQubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0KSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGlmIChoYXNPd24odGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1jb25zdCAqL1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBmcm9tIHBhdGggc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAgICogQHJldHVybiB2YWx1ZVxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmosIHBhdGgpIHtcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwYXRocyA9IHBhcnNlUGF0aChwYXRoKTtcbiAgICBpZiAoZW1wdHkocGF0aHMpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgIHZhciByZXQgPSBudWxsO1xuICAgIHZhciBsYXN0ID0gb2JqO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gbGFzdFtwYXRoc1tpXV07XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsYXN0ID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsYXN0ID0gdmFsdWU7XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0ID0gbGFzdDtcbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgcmV0dXJuIGdldFZhbHVlO1xufVxuXG4vKipcbiAqIGV4dGVuZFxuICpcbiAqIEBwYXJhbSB7VnVlfSBWdWVcbiAqIEByZXR1cm4ge1Z1ZX1cbiAqL1xuXG5mdW5jdGlvbiBFeHRlbmQgKFZ1ZSkge1xuICB2YXIgX1Z1ZSR1dGlsID0gVnVlLnV0aWw7XG4gIHZhciBpc09iamVjdCA9IF9WdWUkdXRpbC5pc09iamVjdDtcbiAgdmFyIGJpbmQgPSBfVnVlJHV0aWwuYmluZDtcblxuICB2YXIgZm9ybWF0ID0gRm9ybWF0KFZ1ZSk7XG4gIHZhciBnZXRWYWx1ZSA9IFBhdGgoVnVlKTtcblxuICBmdW5jdGlvbiBwYXJzZUFyZ3MoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGxhbmcgPSBWdWUuY29uZmlnLmxhbmc7XG4gICAgdmFyIGZhbGxiYWNrID0gVnVlLmNvbmZpZy5mYWxsYmFja0xhbmc7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChpc09iamVjdChhcmdzWzBdKSB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGFuZyA9IGFyZ3NbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICBsYW5nID0gYXJnc1swXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChhcmdzWzFdKSB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMV0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGxhbmc6IGxhbmcsIGZhbGxiYWNrOiBmYWxsYmFjaywgcGFyYW1zOiBhcmdzIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcnBvbGF0ZShsb2NhbGUsIGtleSwgYXJncykge1xuICAgIGlmICghbG9jYWxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdmFsID0gZ2V0VmFsdWUobG9jYWxlLCBrZXkpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGlmIChpc05pbCh2YWwpKSB7XG4gICAgICB2YWwgPSBsb2NhbGVba2V5XTtcbiAgICB9XG4gICAgaWYgKGlzTmlsKHZhbCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciB0aGUgZXhpc3RhbmNlIG9mIGxpbmtzIHdpdGhpbiB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcbiAgICBpZiAodmFsLmluZGV4T2YoJ0A6JykgPj0gMCkge1xuICAgICAgLy8gTWF0Y2ggYWxsIHRoZSBsaW5rcyB3aXRoaW4gdGhlIGxvY2FsXG4gICAgICAvLyBXZSBhcmUgZ29pbmcgdG8gcmVwbGFjZSBlYWNoIG9mXG4gICAgICAvLyB0aGVtIHdpdGggaXRzIHRyYW5zbGF0aW9uXG4gICAgICB2YXIgbWF0Y2hlcyA9IHZhbC5tYXRjaCgvKEA6W1xcd3wuXSspL2cpO1xuICAgICAgZm9yICh2YXIgaWR4IGluIG1hdGNoZXMpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBtYXRjaGVzW2lkeF07XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGVhZGluZyBAOlxuICAgICAgICB2YXIgbGlua1BsYWNlaG9sZGVyID0gbGluay5zdWJzdHIoMik7XG4gICAgICAgIC8vIFRyYW5zbGF0ZSB0aGUgbGlua1xuICAgICAgICB2YXIgdHJhbnNsYXRlZHN0cmluZyA9IGludGVycG9sYXRlKGxvY2FsZSwgbGlua1BsYWNlaG9sZGVyLCBhcmdzKTtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgbGluayB3aXRoIHRoZSB0cmFuc2xhdGVkIHN0cmluZ1xuICAgICAgICB2YWwgPSB2YWwucmVwbGFjZShsaW5rLCB0cmFuc2xhdGVkc3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gIWFyZ3MgPyB2YWwgOiBWdWUuY29uZmlnLmkxOG5Gb3JtYXR0ZXIgPyBWdWUuY29uZmlnLmkxOG5Gb3JtYXR0ZXIuYXBwbHkobnVsbCwgW3ZhbF0uY29uY2F0KGFyZ3MpKSA6IGZvcm1hdCh2YWwsIGFyZ3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNsYXRlKGdldHRlciwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSB7XG4gICAgdmFyIHJlcyA9IG51bGw7XG4gICAgcmVzID0gaW50ZXJwb2xhdGUoZ2V0dGVyKGxhbmcpLCBrZXksIHBhcmFtcyk7XG4gICAgaWYgKCFpc05pbChyZXMpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHJlcyA9IGludGVycG9sYXRlKGdldHRlcihmYWxsYmFjayksIGtleSwgcGFyYW1zKTtcbiAgICBpZiAoIWlzTmlsKHJlcykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oJ0ZhbGwgYmFjayB0byB0cmFuc2xhdGUgdGhlIGtleXBhdGggXCInICsga2V5ICsgJ1wiIHdpdGggXCInICsgZmFsbGJhY2sgKyAnXCIgbGFuZ3VhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIHZtLCByZXN1bHQpIHtcbiAgICBpZiAoIWlzTmlsKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuKCdDYW5ub3QgdHJhbnNsYXRlIHRoZSB2YWx1ZSBvZiBrZXlwYXRoIFwiJyArIGtleSArICdcIi4gJyArICdVc2UgdGhlIHZhbHVlIG9mIGtleXBhdGggYXMgZGVmYXVsdCcpO1xuICAgIH1cbiAgICBWdWUuY29uZmlnLm1pc3NpbmdIYW5kbGVyICYmIFZ1ZS5jb25maWcubWlzc2luZ0hhbmRsZXIuYXBwbHkobnVsbCwgW2xhbmcsIGtleSwgdm1dKTtcbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QXNzZXRMb2NhbGUobGFuZykge1xuICAgIHJldHVybiBWdWUubG9jYWxlKGxhbmcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TG9jYWxlKGxhbmcpIHtcbiAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5sb2NhbGVzW2xhbmddO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T2xkQ2hvaWNlSW5kZXhGaXhlZChjaG9pY2UpIHtcbiAgICByZXR1cm4gY2hvaWNlID8gY2hvaWNlID4gMSA/IDEgOiAwIDogMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENob2ljZUluZGV4KGNob2ljZSwgY2hvaWNlc0xlbmd0aCkge1xuICAgIGNob2ljZSA9IE1hdGguYWJzKGNob2ljZSk7XG5cbiAgICBpZiAoY2hvaWNlc0xlbmd0aCA9PT0gMikge1xuICAgICAgcmV0dXJuIGdldE9sZENob2ljZUluZGV4Rml4ZWQoY2hvaWNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlID8gTWF0aC5taW4oY2hvaWNlLCAyKSA6IDA7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaENob2ljZShsb2NhbGUsIGNob2ljZSkge1xuICAgIGlmICghbG9jYWxlICYmIHR5cGVvZiBsb2NhbGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGNob2ljZXMgPSBsb2NhbGUuc3BsaXQoJ3wnKTtcblxuICAgIGNob2ljZSA9IGdldENob2ljZUluZGV4KGNob2ljZSwgY2hvaWNlcy5sZW5ndGgpO1xuICAgIGlmICghY2hvaWNlc1tjaG9pY2VdKSB7XG4gICAgICByZXR1cm4gbG9jYWxlO1xuICAgIH1cbiAgICByZXR1cm4gY2hvaWNlc1tjaG9pY2VdLnRyaW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWdWUudFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBWdWUudCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGlmICgha2V5KSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIF9wYXJzZUFyZ3MgPSBwYXJzZUFyZ3MuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblxuICAgIHZhciBsYW5nID0gX3BhcnNlQXJncy5sYW5nO1xuICAgIHZhciBmYWxsYmFjayA9IF9wYXJzZUFyZ3MuZmFsbGJhY2s7XG4gICAgdmFyIHBhcmFtcyA9IF9wYXJzZUFyZ3MucGFyYW1zO1xuXG4gICAgcmV0dXJuIHdhcm5EZWZhdWx0KGxhbmcsIGtleSwgbnVsbCwgdHJhbnNsYXRlKGdldEFzc2V0TG9jYWxlLCBsYW5nLCBmYWxsYmFjaywga2V5LCBwYXJhbXMpKTtcbiAgfTtcblxuICAvKipcbiAgICogVnVlLnRjXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBjaG9pY2VcbiAgICogQHBhcmFtIHtBcnJheX0gLi4uYXJnc1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuXG4gIFZ1ZS50YyA9IGZ1bmN0aW9uIChrZXksIGNob2ljZSkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoQ2hvaWNlKFZ1ZS50LmFwcGx5KFZ1ZSwgW2tleV0uY29uY2F0KGFyZ3MpKSwgY2hvaWNlKTtcbiAgfTtcblxuICAvKipcbiAgICogJHRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5fSAuLi5hcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG5cbiAgVnVlLnByb3RvdHlwZS4kdCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuXG4gICAgdmFyIF9wYXJzZUFyZ3MyID0gcGFyc2VBcmdzLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cbiAgICB2YXIgbGFuZyA9IF9wYXJzZUFyZ3MyLmxhbmc7XG4gICAgdmFyIGZhbGxiYWNrID0gX3BhcnNlQXJnczIuZmFsbGJhY2s7XG4gICAgdmFyIHBhcmFtcyA9IF9wYXJzZUFyZ3MyLnBhcmFtcztcblxuICAgIHZhciByZXMgPSBudWxsO1xuICAgIGlmICh0aGlzLiRvcHRpb25zLmxvY2FsZXMpIHtcbiAgICAgIHJlcyA9IHRyYW5zbGF0ZShiaW5kKGdldENvbXBvbmVudExvY2FsZSwgdGhpcyksIGxhbmcsIGZhbGxiYWNrLCBrZXksIHBhcmFtcyk7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3YXJuRGVmYXVsdChsYW5nLCBrZXksIHRoaXMsIHRyYW5zbGF0ZShnZXRBc3NldExvY2FsZSwgbGFuZywgZmFsbGJhY2ssIGtleSwgcGFyYW1zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICR0Y1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gY2hvaWNlXG4gICAqIEBwYXJhbSB7QXJyYXl9IC4uLmFyZ3NcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuICBWdWUucHJvdG90eXBlLiR0YyA9IGZ1bmN0aW9uIChrZXksIGNob2ljZSkge1xuICAgIGlmICh0eXBlb2YgY2hvaWNlICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgY2hvaWNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNSA+IDIgPyBfbGVuNSAtIDIgOiAwKSwgX2tleTUgPSAyOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICBhcmdzW19rZXk1IC0gMl0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgIH1cblxuICAgIHJldHVybiBmZXRjaENob2ljZSh0aGlzLiR0LmFwcGx5KHRoaXMsIFtrZXldLmNvbmNhdChhcmdzKSksIGNob2ljZSk7XG4gIH07XG5cbiAgcmV0dXJuIFZ1ZTtcbn1cblxudmFyIGxhbmdWTSA9IHZvaWQgMDsgLy8gc2luZ2xldG9uXG5cbi8qKlxuICogcGx1Z2luXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFZ1ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqL1xuXG5mdW5jdGlvbiBwbHVnaW4oVnVlKSB7XG4gIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgdmFyIHZlcnNpb24gPSBWdWUudmVyc2lvbiAmJiBOdW1iZXIoVnVlLnZlcnNpb24uc3BsaXQoJy4nKVswXSkgfHwgLTE7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcGx1Z2luLmluc3RhbGxlZCkge1xuICAgIHdhcm4oJ2FscmVhZHkgaW5zdGFsbGVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHZlcnNpb24gPCAxKSB7XG4gICAgd2FybigndnVlLWkxOG4gKCcgKyBwbHVnaW4udmVyc2lvbiArICcpIG5lZWQgdG8gdXNlIHZ1ZSB2ZXJzaW9uIDEuMCBvciBsYXRlciAodnVlIHZlcnNpb246ICcgKyBWdWUudmVyc2lvbiArICcpLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBsYW5nID0gJ2VuJztcbiAgc2V0dXBMYW5nVk0oVnVlLCBsYW5nKTtcblxuICBBc3NldChWdWUsIGxhbmdWTSk7XG4gIE92ZXJyaWRlKFZ1ZSwgbGFuZ1ZNLCB2ZXJzaW9uKTtcbiAgQ29uZmlnKFZ1ZSwgbGFuZ1ZNLCBsYW5nKTtcbiAgRXh0ZW5kKFZ1ZSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwTGFuZ1ZNKFZ1ZSwgbGFuZykge1xuICB2YXIgc2lsZW50ID0gVnVlLmNvbmZpZy5zaWxlbnQ7XG4gIFZ1ZS5jb25maWcuc2lsZW50ID0gdHJ1ZTtcbiAgaWYgKCFsYW5nVk0pIHtcbiAgICBsYW5nVk0gPSBuZXcgVnVlKHsgZGF0YTogeyBsYW5nOiBsYW5nLCBsb2NhbGVzOiB7fSB9IH0pO1xuICB9XG4gIFZ1ZS5jb25maWcuc2lsZW50ID0gc2lsZW50O1xufVxuXG5wbHVnaW4udmVyc2lvbiA9ICc0LjcuMyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVnVlKSB7XG4gIHdpbmRvdy5WdWUudXNlKHBsdWdpbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vdnVlLWkxOG4vZGlzdC92dWUtaTE4bi5jb21tb24uanNcbi8vIG1vZHVsZSBpZCA9IDEwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbG9jYWxlcyA9IHt9XG5cbjtbXG4gICdlbicsXG4gICd6aCcsXG5dLmZvckVhY2goKGtleSkgPT4ge1xuICBsb2NhbGVzW2tleV0gPSByZXF1aXJlKCcuLycgKyBrZXkpXG59KVxuXG5leHBvcnQgZGVmYXVsdCBsb2NhbGVzXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9sb2NhbGVzL2luZGV4LmpzIiwidmFyIG1hcCA9IHtcblx0XCIuL2VuXCI6IDEwNyxcblx0XCIuL2VuLnltbFwiOiAxMDcsXG5cdFwiLi9pbmRleFwiOiAxMDUsXG5cdFwiLi9pbmRleC5qc1wiOiAxMDUsXG5cdFwiLi96aFwiOiAxMDgsXG5cdFwiLi96aC55bWxcIjogMTA4XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDEwNjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbG9jYWxlcyBeXFwuXFwvLiokXG4vLyBtb2R1bGUgaWQgPSAxMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiYnV0dG9uXCI6IHtcblx0XHRcInVwbG9hZFwiOiBcInVwbG9hZFwiLFxuXHRcdFwic2F2ZVwiOiBcInNhdmVcIixcblx0XHRcImNsb3NlX2VkaXRcIjogXCJjbG9zZSBlZGl0XCIsXG5cdFx0XCJvcGVuX2VkaXRcIjogXCJvcGVuIGVkaXRcIixcblx0XHRcImhlbHBcIjogXCJoZWxwXCIsXG5cdFx0XCJscmNfaW5mb1wiOiBcImluZm9cIixcblx0XHRcInJlbW92ZV9seXJpY1wiOiBcInJlbW92ZSBseXJpY1wiLFxuXHRcdFwicHJldl9seXJpY1wiOiBcInByZXYgbHlyaWNcIixcblx0XHRcIm5leHRfbHlyaWNcIjogXCJuZXh0IGx5cmljXCJcblx0fSxcblx0XCJtZW51XCI6IHtcblx0XHRcInVwbG9hZFwiOiB7XG5cdFx0XHRcImxyY1wiOiBcIkxSQyBmb3JtYXQgbHlyaWNcIixcblx0XHRcdFwibHlyaWNcIjogXCJseXJpYyB0ZXh0XCIsXG5cdFx0XHRcIm11c2ljXCI6IFwibXVzaWNcIlxuXHRcdH1cblx0fSxcblx0XCJtb2RhbFwiOiB7XG5cdFx0XCJscmNfZm9ybWF0X3NhdmVcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIkx5cmljcyBTYXZlXCIsXG5cdFx0XHRcImluZm9fdGl0bGVcIjogXCJMeXJpY3MgSW5mb1wiLFxuXHRcdFx0XCJmaWVsZHNcIjoge1xuXHRcdFx0XHRcInNvbmdfdGl0bGVcIjogXCJTb25lIFRpdGxlXCIsXG5cdFx0XHRcdFwiYXJ0aXN0XCI6IFwiQXJ0aXN0XCIsXG5cdFx0XHRcdFwiYWxidW1cIjogXCJBbGJ1bVwiLFxuXHRcdFx0XHRcInNvbmd0ZXh0X2NyZWF0b3JcIjogXCJTb25ndGV4dCBDcmVhdG9yXCIsXG5cdFx0XHRcdFwibHJjX2NyZWF0b3JcIjogXCJMUkMgQ3JlYXRvclwiXG5cdFx0XHR9LFxuXHRcdFx0XCJzYXZlX3RpdGxlXCI6IFwiTHlyaWNzXCIsXG5cdFx0XHRcImNvbWJpbmVcIjogXCJjb21iaW5lIGx5cmljc1wiLFxuXHRcdFx0XCJkb3dubG9hZFwiOiBcImx5cmljcyBmaWxlIGRvd25sb2FkXCJcblx0XHR9LFxuXHRcdFwibHJjX2Zvcm1hdF91cGxvYWRcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIlVwbG9hZCBMUkMgRm9ybWF0XCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVXBsb2FkIHRpbWVzdGFtcGVkIGx5cmljc1wiLFxuXHRcdFx0XCJ1cGxvYWRcIjogXCJSZWFkIGZyb20gZmlsZVwiXG5cdFx0fSxcblx0XHRcImx5cmljX3VwbG9hZFwiOiB7XG5cdFx0XHRcInRpdGxlXCI6IFwiVXBsb2FkIFRleHQgTHlyaWNzXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiUGxhaW4gVGV4dCBseXJpY3MsIGx5cmljcyBkaXZpZGVkIGJ5IGEgbmV3bGluZVwiLFxuXHRcdFx0XCJ1cGxvYWRcIjogXCJSZWFkIGZyb20gZmlsZVwiXG5cdFx0fSxcblx0XHRcImhlbHBcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIkhlbHBcIixcblx0XHRcdFwic2hvcnRjdXRfa2V5XCI6IFwic2hvcnRjdXQga2V5XCIsXG5cdFx0XHRcInBsYXlfY29udHJvbFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJwbGF5IGNvbnRyb2xcIixcblx0XHRcdFx0XCJsZWZ0X2tleVwiOiBcIjxMZWZ0PlwiLFxuXHRcdFx0XHRcInJpZ2h0X2tleVwiOiBcIjxSaWdodD5cIixcblx0XHRcdFx0XCJiYWNrd2FyZFwiOiBcImJhY2t3YXJkXCIsXG5cdFx0XHRcdFwiZm9yd2FyZFwiOiBcImZvcndhcmRcIlxuXHRcdFx0fSxcblx0XHRcdFwibWFrZV9scmNcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwibWFrZSBscmNcIixcblx0XHRcdFx0XCJ1cF9rZXlcIjogXCI8VXA+XCIsXG5cdFx0XHRcdFwiZG93bl9rZXlcIjogXCI8RG93bj5cIixcblx0XHRcdFx0XCJwcmV2X2x5cmljXCI6IFwicHJldiBseXJpY1wiLFxuXHRcdFx0XHRcIm5leHRfbHlyaWNcIjogXCJuZXh0IGx5cmljXCJcblx0XHRcdH0sXG5cdFx0XHRcInNvdXJjZV9jb2RlXCI6IFwic291cmNlIGNvZGVcIlxuXHRcdH0sXG5cdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XCJva1wiOiBcIm9rXCIsXG5cdFx0XHRcImNhbmNlbFwiOiBcImNhbmNlbFwiXG5cdFx0fVxuXHR9LFxuXHRcImx5cmljX2VkaXRvclwiOiB7XG5cdFx0XCJlZGl0XCI6IFwiZWRpdFwiLFxuXHRcdFwiYWRkXCI6IFwiYWRkXCIsXG5cdFx0XCJyZW1vdmVcIjogXCJyZW1vdmVcIixcblx0XHRcInJlbW92ZV90aW1lc3RhbXBcIjogXCJyZW1vdmUgdGltZXN0YW1wXCIsXG5cdFx0XCJwbGF5X3RvX3RoaXNfbHlyaWNcIjogXCJwbGF5IHRvIHRoaXMgbHlyaWNcIixcblx0XHRcImZvbGxvd2luZ191bnNvcnRlZFwiOiBcIlRoZSBmb2xsb3dpbmcgdW5zb3J0ZWRcIlxuXHR9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbG9jYWxlcy9lbi55bWxcbi8vIG1vZHVsZSBpZCA9IDEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJidXR0b25cIjoge1xuXHRcdFwidXBsb2FkXCI6IFwi5LiK5LygXCIsXG5cdFx0XCJzYXZlXCI6IFwi5L+d5a2YXCIsXG5cdFx0XCJjbG9zZV9lZGl0XCI6IFwi5YWz6Zet57yW6L6RXCIsXG5cdFx0XCJvcGVuX2VkaXRcIjogXCLmiZPlvIDnvJbovpFcIixcblx0XHRcImhlbHBcIjogXCLluK7liqlcIixcblx0XHRcImxyY19pbmZvXCI6IFwi5L+h5oGvXCIsXG5cdFx0XCJyZW1vdmVfbHlyaWNcIjogXCLmuIXpmaTmrYzor41cIixcblx0XHRcInByZXZfbHlyaWNcIjogXCLkuIrkuIDmnaHmrYzor41cIixcblx0XHRcIm5leHRfbHlyaWNcIjogXCLkuIvkuIDmnaHmrYzor41cIlxuXHR9LFxuXHRcIm1lbnVcIjoge1xuXHRcdFwidXBsb2FkXCI6IHtcblx0XHRcdFwibHJjXCI6IFwiTFJD5qC85byP5q2M6K+NXCIsXG5cdFx0XHRcImx5cmljXCI6IFwi5q2M6K+N5paH5pysXCIsXG5cdFx0XHRcIm11c2ljXCI6IFwi6Z+z5LmQXCJcblx0XHR9XG5cdH0sXG5cdFwibW9kYWxcIjoge1xuXHRcdFwibHJjX2Zvcm1hdF9zYXZlXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLkv53lrZjmrYzor41cIixcblx0XHRcdFwiaW5mb190aXRsZVwiOiBcIuatjOivjeS/oeaBr1wiLFxuXHRcdFx0XCJmaWVsZHNcIjoge1xuXHRcdFx0XHRcInNvbmdfdGl0bGVcIjogXCLmrYzlkI1cIixcblx0XHRcdFx0XCJhcnRpc3RcIjogXCLoibrmnK/lrrZcIixcblx0XHRcdFx0XCJhbGJ1bVwiOiBcIuS4k+i+kVwiLFxuXHRcdFx0XHRcInNvbmd0ZXh0X2NyZWF0b3JcIjogXCLmrYzor43kvZzogIVcIixcblx0XHRcdFx0XCJscmNfY3JlYXRvclwiOiBcIkxSQyDliJvlu7rogIVcIlxuXHRcdFx0fSxcblx0XHRcdFwic2F2ZV90aXRsZVwiOiBcIuatjOivjVwiLFxuXHRcdFx0XCJjb21iaW5lXCI6IFwi5ZCI5bm25q2M6K+NXCIsXG5cdFx0XHRcImRvd25sb2FkXCI6IFwi5LiL6L295q2M6K+N5paH5Lu2XCJcblx0XHR9LFxuXHRcdFwibHJjX2Zvcm1hdF91cGxvYWRcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIuS4iuS8oExSQ+agvOW8j+aWh+acrFwiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuS4iuS8oOW3sue7j+WMheWQq+aXtumXtOaIs+eahOatjOivjVwiLFxuXHRcdFx0XCJ1cGxvYWRcIjogXCLku47mlofku7bor7vlj5ZcIlxuXHRcdH0sXG5cdFx0XCJseXJpY191cGxvYWRcIjoge1xuXHRcdFx0XCJ0aXRsZVwiOiBcIuS4iuS8oOatjOivjeaWh+acrFwiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIue6r+aWh+acrOatjOivje+8jOeUqOaNouihjOWvueatjOivjeWIkuWIhlwiLFxuXHRcdFx0XCJ1cGxvYWRcIjogXCLku47mlofku7bor7vlj5ZcIlxuXHRcdH0sXG5cdFx0XCJoZWxwXCI6IHtcblx0XHRcdFwidGl0bGVcIjogXCLluK7liqlcIixcblx0XHRcdFwic2hvcnRjdXRfa2V5XCI6IFwi5b+r5o236ZSuXCIsXG5cdFx0XHRcInBsYXlfY29udHJvbFwiOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCLmkq3mlL7mjqfliLZcIixcblx0XHRcdFx0XCJsZWZ0X2tleVwiOiBcIjxMZWZ0PlwiLFxuXHRcdFx0XHRcInJpZ2h0X2tleVwiOiBcIjxSaWdodD5cIixcblx0XHRcdFx0XCJiYWNrd2FyZFwiOiBcIuWQjumAgFwiLFxuXHRcdFx0XHRcImZvcndhcmRcIjogXCLliY3ov5tcIlxuXHRcdFx0fSxcblx0XHRcdFwibWFrZV9scmNcIjoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwi5Yi25L2c5q2M6K+NXCIsXG5cdFx0XHRcdFwidXBfa2V5XCI6IFwiPFVwPlwiLFxuXHRcdFx0XHRcImRvd25fa2V5XCI6IFwiPERvd24+XCIsXG5cdFx0XHRcdFwicHJldl9seXJpY1wiOiBcIuS4iuS4gOadoeatjOivjVwiLFxuXHRcdFx0XHRcIm5leHRfbHlyaWNcIjogXCLkuIvkuIDmnaHmrYzor41cIlxuXHRcdFx0fSxcblx0XHRcdFwic291cmNlX2NvZGVcIjogXCLmupDnoIFcIlxuXHRcdH0sXG5cdFx0XCJidXR0b25cIjoge1xuXHRcdFx0XCJva1wiOiBcIuehruiupFwiLFxuXHRcdFx0XCJjYW5jZWxcIjogXCLlj5bmtohcIlxuXHRcdH1cblx0fSxcblx0XCJseXJpY19lZGl0b3JcIjoge1xuXHRcdFwiZWRpdFwiOiBcIue8lui+kVwiLFxuXHRcdFwiYWRkXCI6IFwi5re75YqgXCIsXG5cdFx0XCJyZW1vdmVcIjogXCLliKDpmaRcIixcblx0XHRcInJlbW92ZV90aW1lc3RhbXBcIjogXCLliKDpmaTml7bpl7TovbRcIixcblx0XHRcInBsYXlfdG9fdGhpc19seXJpY1wiOiBcIuaSreaUvuWIsOi/meadoeatjOivjVwiLFxuXHRcdFwiZm9sbG93aW5nX3Vuc29ydGVkXCI6IFwi5Lul5LiL5pyq5o6S5bqPXCJcblx0fVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xvY2FsZXMvemgueW1sXG4vLyBtb2R1bGUgaWQgPSAxMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==